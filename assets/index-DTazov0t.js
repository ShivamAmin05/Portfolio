(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pb(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const on={},wc=[],fr=()=>{},dD=()=>!1,Ep=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ib=t=>t.startsWith("onUpdate:"),jn=Object.assign,Rb=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},fD=Object.prototype.hasOwnProperty,Yt=(t,e)=>fD.call(t,e),ft=Array.isArray,Sc=t=>Ap(t)==="[object Map]",pT=t=>Ap(t)==="[object Set]",pt=t=>typeof t=="function",Ln=t=>typeof t=="string",da=t=>typeof t=="symbol",pn=t=>t!==null&&typeof t=="object",Lb=t=>(pn(t)||pt(t))&&pt(t.then)&&pt(t.catch),vT=Object.prototype.toString,Ap=t=>vT.call(t),hD=t=>Ap(t).slice(8,-1),gT=t=>Ap(t)==="[object Object]",kb=t=>Ln(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wu=Pb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},mD=/-(\w)/g,ts=Pp(t=>t.replace(mD,(e,n)=>n?n.toUpperCase():"")),pD=/\B([A-Z])/g,Sl=Pp(t=>t.replace(pD,"-$1").toLowerCase()),wr=Pp(t=>t.charAt(0).toUpperCase()+t.slice(1)),cg=Pp(t=>t?`on${wr(t)}`:""),za=(t,e)=>!Object.is(t,e),Qh=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},yT=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},$y=t=>{const e=parseFloat(t);return isNaN(e)?t:e},bT=t=>{const e=Ln(t)?Number(t):NaN;return isNaN(e)?t:e};let Ww;const Ip=()=>Ww||(Ww=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Dc(t){if(ft(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Ln(i)?bD(i):Dc(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Ln(t)||pn(t))return t}const vD=/;(?![^(]*\))/g,gD=/:([^]+)/,yD=/\/\*[^]*?\*\//g;function bD(t){const e={};return t.replace(yD,"").split(vD).forEach(n=>{if(n){const i=n.split(gD);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function qd(t){let e="";if(Ln(t))e=t;else if(ft(t))for(let n=0;n<t.length;n++){const i=qd(t[n]);i&&(e+=i+" ")}else if(pn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const _D="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xD=Pb(_D);function _T(t){return!!t||t===""}const xT=t=>!!(t&&t.__v_isRef===!0),Db=t=>Ln(t)?t:t==null?"":ft(t)||pn(t)&&(t.toString===vT||!pt(t.toString))?xT(t)?Db(t.value):JSON.stringify(t,wT,2):String(t),wT=(t,e)=>xT(e)?wT(t,e.value):Sc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[ug(i,r)+" =>"]=s,n),{})}:pT(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ug(n))}:da(e)?ug(e):pn(e)&&!ft(e)&&!gT(e)?String(e):e,ug=(t,e="")=>{var n;return da(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ri;class ST{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ri,!e&&Ri&&(this.index=(Ri.scopes||(Ri.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ri;try{return Ri=this,e()}finally{Ri=n}}}on(){Ri=this}off(){Ri=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ob(t){return new ST(t)}function Nb(){return Ri}function ri(t,e=!1){Ri&&Ri.cleanups.push(t)}let cn;const dg=new WeakSet;class MT{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ri&&Ri.active&&Ri.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,dg.has(this)&&(dg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||TT(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$w(this),ET(this);const e=cn,n=Hs;cn=this,Hs=!0;try{return this.fn()}finally{AT(this),cn=e,Hs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Bb(e);this.deps=this.depsTail=void 0,$w(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?dg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){jy(this)&&this.run()}get dirty(){return jy(this)}}let CT=0,$u,ju;function TT(t,e=!1){if(t.flags|=8,e){t.next=ju,ju=t;return}t.next=$u,$u=t}function Vb(){CT++}function Fb(){if(--CT>0)return;if(ju){let e=ju;for(ju=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;$u;){let e=$u;for($u=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function ET(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function AT(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Bb(i),wD(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function jy(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(PT(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function PT(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===dd))return;t.globalVersion=dd;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!jy(t)){t.flags&=-3;return}const n=cn,i=Hs;cn=t,Hs=!0;try{ET(t);const s=t.fn(t._value);(e.version===0||za(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{cn=n,Hs=i,AT(t),t.flags&=-3}}function Bb(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Bb(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function wD(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Hs=!0;const IT=[];function Ya(){IT.push(Hs),Hs=!1}function qa(){const t=IT.pop();Hs=t===void 0?!0:t}function $w(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=cn;cn=void 0;try{e()}finally{cn=n}}}let dd=0;class SD{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Rp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!cn||!Hs||cn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==cn)n=this.activeLink=new SD(cn,this),cn.deps?(n.prevDep=cn.depsTail,cn.depsTail.nextDep=n,cn.depsTail=n):cn.deps=cn.depsTail=n,RT(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=cn.depsTail,n.nextDep=void 0,cn.depsTail.nextDep=n,cn.depsTail=n,cn.deps===n&&(cn.deps=i)}return n}trigger(e){this.version++,dd++,this.notify(e)}notify(e){Vb();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Fb()}}}function RT(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)RT(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const vm=new WeakMap,Go=Symbol(""),Xy=Symbol(""),fd=Symbol("");function vi(t,e,n){if(Hs&&cn){let i=vm.get(t);i||vm.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Rp),s.map=i,s.key=n),s.track()}}function Hr(t,e,n,i,s,r){const a=vm.get(t);if(!a){dd++;return}const o=l=>{l&&l.trigger()};if(Vb(),e==="clear")a.forEach(o);else{const l=ft(t),c=l&&kb(n);if(l&&n==="length"){const u=Number(i);a.forEach((d,f)=>{(f==="length"||f===fd||!da(f)&&f>=u)&&o(d)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),c&&o(a.get(fd)),e){case"add":l?c&&o(a.get("length")):(o(a.get(Go)),Sc(t)&&o(a.get(Xy)));break;case"delete":l||(o(a.get(Go)),Sc(t)&&o(a.get(Xy)));break;case"set":Sc(t)&&o(a.get(Go));break}}Fb()}function MD(t,e){const n=vm.get(t);return n&&n.get(e)}function Ul(t){const e=rt(t);return e===t?e:(vi(e,"iterate",fd),Gs(t)?e:e.map(ki))}function Ub(t){return vi(t=rt(t),"iterate",fd),t}const CD={__proto__:null,[Symbol.iterator](){return fg(this,Symbol.iterator,ki)},concat(...t){return Ul(this).concat(...t.map(e=>ft(e)?Ul(e):e))},entries(){return fg(this,"entries",t=>(t[1]=ki(t[1]),t))},every(t,e){return Lr(this,"every",t,e,void 0,arguments)},filter(t,e){return Lr(this,"filter",t,e,n=>n.map(ki),arguments)},find(t,e){return Lr(this,"find",t,e,ki,arguments)},findIndex(t,e){return Lr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Lr(this,"findLast",t,e,ki,arguments)},findLastIndex(t,e){return Lr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Lr(this,"forEach",t,e,void 0,arguments)},includes(...t){return hg(this,"includes",t)},indexOf(...t){return hg(this,"indexOf",t)},join(t){return Ul(this).join(t)},lastIndexOf(...t){return hg(this,"lastIndexOf",t)},map(t,e){return Lr(this,"map",t,e,void 0,arguments)},pop(){return vu(this,"pop")},push(...t){return vu(this,"push",t)},reduce(t,...e){return jw(this,"reduce",t,e)},reduceRight(t,...e){return jw(this,"reduceRight",t,e)},shift(){return vu(this,"shift")},some(t,e){return Lr(this,"some",t,e,void 0,arguments)},splice(...t){return vu(this,"splice",t)},toReversed(){return Ul(this).toReversed()},toSorted(t){return Ul(this).toSorted(t)},toSpliced(...t){return Ul(this).toSpliced(...t)},unshift(...t){return vu(this,"unshift",t)},values(){return fg(this,"values",ki)}};function fg(t,e,n){const i=Ub(t),s=i[e]();return i!==t&&!Gs(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const TD=Array.prototype;function Lr(t,e,n,i,s,r){const a=Ub(t),o=a!==t&&!Gs(t),l=a[e];if(l!==TD[e]){const d=l.apply(t,r);return o?ki(d):d}let c=n;a!==t&&(o?c=function(d,f){return n.call(this,ki(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(a,c,i);return o&&s?s(u):u}function jw(t,e,n,i){const s=Ub(t);let r=n;return s!==t&&(Gs(t)?n.length>3&&(r=function(a,o,l){return n.call(this,a,o,l,t)}):r=function(a,o,l){return n.call(this,a,ki(o),l,t)}),s[e](r,...i)}function hg(t,e,n){const i=rt(t);vi(i,"iterate",fd);const s=i[e](...n);return(s===-1||s===!1)&&Gb(n[0])?(n[0]=rt(n[0]),i[e](...n)):s}function vu(t,e,n=[]){Ya(),Vb();const i=rt(t)[e].apply(t,n);return Fb(),qa(),i}const ED=Pb("__proto__,__v_isRef,__isVue"),LT=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(da));function AD(t){da(t)||(t=String(t));const e=rt(this);return vi(e,"has",t),e.hasOwnProperty(t)}class kT{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?FD:VT:r?NT:OT).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=ft(e);if(!s){let l;if(a&&(l=CD[n]))return l;if(n==="hasOwnProperty")return AD}const o=Reflect.get(e,n,ln(e)?e:i);return(da(n)?LT.has(n):ED(n))||(s||vi(e,"get",n),r)?o:ln(o)?a&&kb(n)?o:o.value:pn(o)?s?Qr(o):_n(o):o}}class DT extends kT{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=el(r);if(!Gs(i)&&!el(i)&&(r=rt(r),i=rt(i)),!ft(e)&&ln(r)&&!ln(i))return l?!1:(r.value=i,!0)}const a=ft(e)&&kb(n)?Number(n)<e.length:Yt(e,n),o=Reflect.set(e,n,i,ln(e)?e:s);return e===rt(s)&&(a?za(i,r)&&Hr(e,"set",n,i):Hr(e,"add",n,i)),o}deleteProperty(e,n){const i=Yt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Hr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!da(n)||!LT.has(n))&&vi(e,"has",n),i}ownKeys(e){return vi(e,"iterate",ft(e)?"length":Go),Reflect.ownKeys(e)}}class PD extends kT{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ID=new DT,RD=new PD,LD=new DT(!0);const Yy=t=>t,zf=t=>Reflect.getPrototypeOf(t);function kD(t,e,n){return function(...i){const s=this.__v_raw,r=rt(s),a=Sc(r),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=s[t](...i),u=n?Yy:e?qy:ki;return!e&&vi(r,"iterate",l?Xy:Go),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:o?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Hf(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function DD(t,e){const n={get(s){const r=this.__v_raw,a=rt(r),o=rt(s);t||(za(s,o)&&vi(a,"get",s),vi(a,"get",o));const{has:l}=zf(a),c=e?Yy:t?qy:ki;if(l.call(a,s))return c(r.get(s));if(l.call(a,o))return c(r.get(o));r!==a&&r.get(s)},get size(){const s=this.__v_raw;return!t&&vi(rt(s),"iterate",Go),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,a=rt(r),o=rt(s);return t||(za(s,o)&&vi(a,"has",s),vi(a,"has",o)),s===o?r.has(s):r.has(s)||r.has(o)},forEach(s,r){const a=this,o=a.__v_raw,l=rt(o),c=e?Yy:t?qy:ki;return!t&&vi(l,"iterate",Go),o.forEach((u,d)=>s.call(r,c(u),c(d),a))}};return jn(n,t?{add:Hf("add"),set:Hf("set"),delete:Hf("delete"),clear:Hf("clear")}:{add(s){!e&&!Gs(s)&&!el(s)&&(s=rt(s));const r=rt(this);return zf(r).has.call(r,s)||(r.add(s),Hr(r,"add",s,s)),this},set(s,r){!e&&!Gs(r)&&!el(r)&&(r=rt(r));const a=rt(this),{has:o,get:l}=zf(a);let c=o.call(a,s);c||(s=rt(s),c=o.call(a,s));const u=l.call(a,s);return a.set(s,r),c?za(r,u)&&Hr(a,"set",s,r):Hr(a,"add",s,r),this},delete(s){const r=rt(this),{has:a,get:o}=zf(r);let l=a.call(r,s);l||(s=rt(s),l=a.call(r,s)),o&&o.call(r,s);const c=r.delete(s);return l&&Hr(r,"delete",s,void 0),c},clear(){const s=rt(this),r=s.size!==0,a=s.clear();return r&&Hr(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=kD(s,t,e)}),n}function zb(t,e){const n=DD(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Yt(n,s)&&s in i?n:i,s,r)}const OD={get:zb(!1,!1)},ND={get:zb(!1,!0)},VD={get:zb(!0,!1)};const OT=new WeakMap,NT=new WeakMap,VT=new WeakMap,FD=new WeakMap;function BD(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function UD(t){return t.__v_skip||!Object.isExtensible(t)?0:BD(hD(t))}function _n(t){return el(t)?t:Hb(t,!1,ID,OD,OT)}function zD(t){return Hb(t,!1,LD,ND,NT)}function Qr(t){return Hb(t,!0,RD,VD,VT)}function Hb(t,e,n,i,s){if(!pn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=UD(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return s.set(t,o),o}function Xu(t){return el(t)?Xu(t.__v_raw):!!(t&&t.__v_isReactive)}function el(t){return!!(t&&t.__v_isReadonly)}function Gs(t){return!!(t&&t.__v_isShallow)}function Gb(t){return t?!!t.__v_raw:!1}function rt(t){const e=t&&t.__v_raw;return e?rt(e):t}function FT(t){return!Yt(t,"__v_skip")&&Object.isExtensible(t)&&yT(t,"__v_skip",!0),t}const ki=t=>pn(t)?_n(t):t,qy=t=>pn(t)?Qr(t):t;function ln(t){return t?t.__v_isRef===!0:!1}function he(t){return BT(t,!1)}function ke(t){return BT(t,!0)}function BT(t,e){return ln(t)?t:new HD(t,e)}class HD{constructor(e,n){this.dep=new Rp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:rt(e),this._value=n?e:ki(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Gs(e)||el(e);e=i?e:rt(e),za(e,n)&&(this._rawValue=e,this._value=i?e:ki(e),this.dep.trigger())}}function Pe(t){return ln(t)?t.value:t}const GD={get:(t,e,n)=>e==="__v_raw"?t:Pe(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return ln(s)&&!ln(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function UT(t){return Xu(t)?t:new Proxy(t,GD)}class WD{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Rp,{get:i,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function $D(t){return new WD(t)}function Ys(t){const e=ft(t)?new Array(t.length):{};for(const n in t)e[n]=zT(t,n);return e}class jD{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return MD(rt(this._object),this._key)}}class XD{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ge(t,e,n){return ln(t)?t:pt(t)?new XD(t):pn(t)&&arguments.length>1?zT(t,e,n):he(t)}function zT(t,e,n){const i=t[e];return ln(i)?i:new jD(t,e,n)}class YD{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Rp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=dd-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&cn!==this)return TT(this,!0),!0}get value(){const e=this.dep.track();return PT(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qD(t,e,n=!1){let i,s;return pt(t)?i=t:(i=t.get,s=t.set),new YD(i,s,n)}const Gf={},gm=new WeakMap;let Po;function KD(t,e=!1,n=Po){if(n){let i=gm.get(n);i||gm.set(n,i=[]),i.push(t)}}function ZD(t,e,n=on){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:o,call:l}=n,c=w=>s?w:Gs(w)||s===!1||s===0?Gr(w,1):Gr(w);let u,d,f,h,m=!1,g=!1;if(ln(t)?(d=()=>t.value,m=Gs(t)):Xu(t)?(d=()=>c(t),m=!0):ft(t)?(g=!0,m=t.some(w=>Xu(w)||Gs(w)),d=()=>t.map(w=>{if(ln(w))return w.value;if(Xu(w))return c(w);if(pt(w))return l?l(w,2):w()})):pt(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Ya();try{f()}finally{qa()}}const w=Po;Po=u;try{return l?l(t,3,[h]):t(h)}finally{Po=w}}:d=fr,e&&s){const w=d,T=s===!0?1/0:s;d=()=>Gr(w(),T)}const p=Nb(),v=()=>{u.stop(),p&&p.active&&Rb(p.effects,u)};if(r&&e){const w=e;e=(...T)=>{w(...T),v()}}let b=g?new Array(t.length).fill(Gf):Gf;const _=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const T=u.run();if(s||m||(g?T.some((C,A)=>za(C,b[A])):za(T,b))){f&&f();const C=Po;Po=u;try{const A=[T,b===Gf?void 0:g&&b[0]===Gf?[]:b,h];l?l(e,3,A):e(...A),b=T}finally{Po=C}}}else u.run()};return o&&o(_),u=new MT(d),u.scheduler=a?()=>a(_,!1):_,h=w=>KD(w,!1,u),f=u.onStop=()=>{const w=gm.get(u);if(w){if(l)l(w,4);else for(const T of w)T();gm.delete(u)}},e?i?_(!0):b=u.run():a?a(_.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function Gr(t,e=1/0,n){if(e<=0||!pn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ln(t))Gr(t.value,e,n);else if(ft(t))for(let i=0;i<t.length;i++)Gr(t[i],e,n);else if(pT(t)||Sc(t))t.forEach(i=>{Gr(i,e,n)});else if(gT(t)){for(const i in t)Gr(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Gr(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Kd(t,e,n,i){try{return i?t(...i):t()}catch(s){Zd(s,e,n)}}function Ws(t,e,n,i){if(pt(t)){const s=Kd(t,e,n,i);return s&&Lb(s)&&s.catch(r=>{Zd(r,e,n)}),s}if(ft(t)){const s=[];for(let r=0;r<t.length;r++)s.push(Ws(t[r],e,n,i));return s}}function Zd(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||on;if(e){let o=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}o=o.parent}if(r){Ya(),Kd(r,null,10,[t,l,c]),qa();return}}JD(t,n,s,i,a)}function JD(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const Di=[];let rr=-1;const Mc=[];let La=null,mc=0;const HT=Promise.resolve();let ym=null;function Rt(t){const e=ym||HT;return t?e.then(this?t.bind(this):t):e}function QD(t){let e=rr+1,n=Di.length;for(;e<n;){const i=e+n>>>1,s=Di[i],r=hd(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function Wb(t){if(!(t.flags&1)){const e=hd(t),n=Di[Di.length-1];!n||!(t.flags&2)&&e>=hd(n)?Di.push(t):Di.splice(QD(e),0,t),t.flags|=1,GT()}}function GT(){ym||(ym=HT.then($T))}function Ky(t){ft(t)?Mc.push(...t):La&&t.id===-1?La.splice(mc+1,0,t):t.flags&1||(Mc.push(t),t.flags|=1),GT()}function Xw(t,e,n=rr+1){for(;n<Di.length;n++){const i=Di[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Di.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function WT(t){if(Mc.length){const e=[...new Set(Mc)].sort((n,i)=>hd(n)-hd(i));if(Mc.length=0,La){La.push(...e);return}for(La=e,mc=0;mc<La.length;mc++){const n=La[mc];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}La=null,mc=0}}const hd=t=>t.id==null?t.flags&2?-1:1/0:t.id;function $T(t){try{for(rr=0;rr<Di.length;rr++){const e=Di[rr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Kd(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;rr<Di.length;rr++){const e=Di[rr];e&&(e.flags&=-2)}rr=-1,Di.length=0,WT(),ym=null,(Di.length||Mc.length)&&$T()}}let Qn=null,jT=null;function bm(t){const e=Qn;return Qn=t,jT=t&&t.type.__scopeId||null,e}function et(t,e=Qn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&lS(-1);const r=bm(e);let a;try{a=t(...s)}finally{bm(r),i._d&&lS(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function tt(t,e){if(Qn===null)return t;const n=Vp(Qn),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,o,l=on]=e[s];r&&(pt(r)&&(r={mounted:r,updated:r}),r.deep&&Gr(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function ao(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[i];l&&(Ya(),Ws(l,n,8,[t.el,o,t,e]),qa())}}const XT=Symbol("_vte"),YT=t=>t.__isTeleport,Yu=t=>t&&(t.disabled||t.disabled===""),Yw=t=>t&&(t.defer||t.defer===""),qw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Kw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Zy=(t,e)=>{const n=t&&t.to;return Ln(n)?e?e(n):null:n},qT={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,o,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:g,createComment:p}}=c,v=Yu(e.props);let{shapeFlag:b,children:_,dynamicChildren:w}=e;if(t==null){const T=e.el=g(""),C=e.anchor=g("");h(T,n,i),h(C,n,i);const A=(x,y)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=x),u(_,x,y,s,r,a,o,l))},S=()=>{const x=e.target=Zy(e.props,m),y=KT(x,e,g,h);x&&(a!=="svg"&&qw(x)?a="svg":a!=="mathml"&&Kw(x)&&(a="mathml"),v||(A(x,y),em(e,!1)))};v&&(A(n,C),em(e,!0)),Yw(e.props)?Pi(()=>{S(),e.el.__isMounted=!0},r):S()}else{if(Yw(e.props)&&!t.el.__isMounted){Pi(()=>{qT.process(t,e,n,i,s,r,a,o,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,C=e.target=t.target,A=e.targetAnchor=t.targetAnchor,S=Yu(t.props),x=S?n:C,y=S?T:A;if(a==="svg"||qw(C)?a="svg":(a==="mathml"||Kw(C))&&(a="mathml"),w?(f(t.dynamicChildren,w,x,s,r,a,o),Zb(t,e,!0)):l||d(t,e,x,y,s,r,a,o,!1),v)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Wf(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const E=e.target=Zy(e.props,m);E&&Wf(e,E,null,c,0)}else S&&Wf(e,C,A,c,1);em(e,v)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:o,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(s(c),s(u)),r&&s(l),a&16){const h=r||!Yu(f);for(let m=0;m<o.length;m++){const g=o[m];i(g,e,n,h,!!g.dynamicChildren)}}},move:Wf,hydrate:e3};function Wf(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&i(a,e,n),(!d||Yu(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&i(o,e,n)}function e3(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:c,createText:u}},d){const f=e.target=Zy(e.props,l);if(f){const h=Yu(e.props),m=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(a(t),e,o(t),n,i,s,r),e.targetStart=m,e.targetAnchor=m&&a(m);else{e.anchor=a(t);let g=m;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}}g=a(g)}e.targetAnchor||KT(f,e,u,c),d(m&&a(m),e,f,n,i,s,r)}em(e,h)}return e.anchor&&a(e.anchor)}const t3=qT;function em(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function KT(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[XT]=r,t&&(i(s,t),i(r,t)),r}const ka=Symbol("_leaveCb"),$f=Symbol("_enterCb");function ZT(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return On(()=>{t.isMounted=!0}),qn(()=>{t.isUnmounting=!0}),t}const xs=[Function,Array],JT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xs,onEnter:xs,onAfterEnter:xs,onEnterCancelled:xs,onBeforeLeave:xs,onLeave:xs,onAfterLeave:xs,onLeaveCancelled:xs,onBeforeAppear:xs,onAppear:xs,onAfterAppear:xs,onAppearCancelled:xs},QT=t=>{const e=t.subTree;return e.component?QT(e.component):e},n3={name:"BaseTransition",props:JT,setup(t,{slots:e}){const n=ta(),i=ZT();return()=>{const s=e.default&&$b(e.default(),!0);if(!s||!s.length)return;const r=eE(s),a=rt(t),{mode:o}=a;if(i.isLeaving)return mg(r);const l=Zw(r);if(!l)return mg(r);let c=md(l,a,i,n,d=>c=d);l.type!==Jn&&tl(l,c);let u=n.subTree&&Zw(n.subTree);if(u&&u.type!==Jn&&!cr(l,u)&&QT(n).type!==Jn){let d=md(u,a,i,n);if(tl(u,d),o==="out-in"&&l.type!==Jn)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},mg(r);o==="in-out"&&l.type!==Jn?d.delayLeave=(f,h,m)=>{const g=tE(i,u);g[String(u.key)]=u,f[ka]=()=>{h(),f[ka]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function eE(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Jn){e=n;break}}return e}const i3=n3;function tE(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function md(t,e,n,i,s){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:p,onAppear:v,onAfterAppear:b,onAppearCancelled:_}=e,w=String(t.key),T=tE(n,t),C=(x,y)=>{x&&Ws(x,i,9,y)},A=(x,y)=>{const E=y[1];C(x,y),ft(x)?x.every(P=>P.length<=1)&&E():x.length<=1&&E()},S={mode:a,persisted:o,beforeEnter(x){let y=l;if(!n.isMounted)if(r)y=p||l;else return;x[ka]&&x[ka](!0);const E=T[w];E&&cr(t,E)&&E.el[ka]&&E.el[ka](),C(y,[x])},enter(x){let y=c,E=u,P=d;if(!n.isMounted)if(r)y=v||c,E=b||u,P=_||d;else return;let D=!1;const N=x[$f]=W=>{D||(D=!0,W?C(P,[x]):C(E,[x]),S.delayedLeave&&S.delayedLeave(),x[$f]=void 0)};y?A(y,[x,N]):N()},leave(x,y){const E=String(t.key);if(x[$f]&&x[$f](!0),n.isUnmounting)return y();C(f,[x]);let P=!1;const D=x[ka]=N=>{P||(P=!0,y(),N?C(g,[x]):C(m,[x]),x[ka]=void 0,T[E]===t&&delete T[E])};T[E]=t,h?A(h,[x,D]):D()},clone(x){const y=md(x,e,n,i,s);return s&&s(y),y}};return S}function mg(t){if(Lp(t))return t=ea(t),t.children=null,t}function Zw(t){if(!Lp(t))return YT(t.type)&&t.children?eE(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&pt(n.default))return n.default()}}function tl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,tl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function $b(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===$e?(a.patchFlag&128&&s++,i=i.concat($b(a.children,e,o))):(e||a.type!==Jn)&&i.push(o!=null?ea(a,{key:o}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function $s(t,e){return pt(t)?jn({name:t.name},e,{setup:t}):t}function nE(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function _m(t,e,n,i,s=!1){if(ft(t)){t.forEach((m,g)=>_m(m,e&&(ft(e)?e[g]:e),n,i,s));return}if(Cc(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&_m(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?Vp(i.component):i.el,a=s?null:r,{i:o,r:l}=t,c=e&&e.r,u=o.refs===on?o.refs={}:o.refs,d=o.setupState,f=rt(d),h=d===on?()=>!1:m=>Yt(f,m);if(c!=null&&c!==l&&(Ln(c)?(u[c]=null,h(c)&&(d[c]=null)):ln(c)&&(c.value=null)),pt(l))Kd(l,o,12,[a,u]);else{const m=Ln(l),g=ln(l);if(m||g){const p=()=>{if(t.f){const v=m?h(l)?d[l]:u[l]:l.value;s?ft(v)&&Rb(v,r):ft(v)?v.includes(r)||v.push(r):m?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else m?(u[l]=a,h(l)&&(d[l]=a)):g&&(l.value=a,t.k&&(u[t.k]=a))};a?(p.id=-1,Pi(p,n)):p()}}}Ip().requestIdleCallback;Ip().cancelIdleCallback;const Cc=t=>!!t.type.__asyncLoader,Lp=t=>t.type.__isKeepAlive;function iE(t,e){sE(t,"a",e)}function jb(t,e){sE(t,"da",e)}function sE(t,e,n=ci){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(kp(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Lp(s.parent.vnode)&&s3(i,e,n,s),s=s.parent}}function s3(t,e,n,i){const s=kp(e,t,i,!0);qs(()=>{Rb(i[e],s)},n)}function kp(t,e,n=ci,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{Ya();const o=il(n),l=Ws(e,n,t,a);return o(),qa(),l});return i?s.unshift(r):s.push(r),r}}const fa=t=>(e,n=ci)=>{(!vd||t==="sp")&&kp(t,(...i)=>e(...i),n)},Qc=fa("bm"),On=fa("m"),rE=fa("bu"),Dp=fa("u"),qn=fa("bum"),qs=fa("um"),r3=fa("sp"),a3=fa("rtg"),o3=fa("rtc");function l3(t,e=ci){kp("ec",t,e)}const Xb="components",c3="directives";function Ia(t,e){return Yb(Xb,t,!0,e)||t}const u3=Symbol.for("v-ndc");function d3(t){return Ln(t)&&Yb(Xb,t,!1)||t}function Sn(t){return Yb(c3,t)}function Yb(t,e,n=!0,i=!1){const s=Qn||ci;if(s){const r=s.type;if(t===Xb){const o=tO(r,!1);if(o&&(o===e||o===ts(e)||o===wr(ts(e))))return r}const a=Jw(s[t]||r[t],e)||Jw(s.appContext[t],e);return!a&&i?r:a}}function Jw(t,e){return t&&(t[e]||t[ts(e)]||t[wr(ts(e))])}function qb(t,e,n={},i,s){if(Qn.ce||Qn.parent&&Cc(Qn.parent)&&Qn.parent.ce)return it(),rn($e,null,[M("slot",n,i&&i())],64);let r=t[e];r&&r._c&&(r._d=!1),it();const a=r&&aE(r(n)),o=n.key||a&&a.key,l=rn($e,{key:(o&&!da(o)?o:`_${e}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function aE(t){return t.some(e=>nl(e)?!(e.type===Jn||e.type===$e&&!aE(e.children)):!0)?t:null}const Jy=t=>t?IE(t)?Vp(t):Jy(t.parent):null,qu=jn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Jy(t.parent),$root:t=>Jy(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>cE(t),$forceUpdate:t=>t.f||(t.f=()=>{Wb(t.update)}),$nextTick:t=>t.n||(t.n=Rt.bind(t.proxy)),$watch:t=>k3.bind(t)}),pg=(t,e)=>t!==on&&!t.__isScriptSetup&&Yt(t,e),f3={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(pg(i,e))return a[e]=1,i[e];if(s!==on&&Yt(s,e))return a[e]=2,s[e];if((c=t.propsOptions[0])&&Yt(c,e))return a[e]=3,r[e];if(n!==on&&Yt(n,e))return a[e]=4,n[e];Qy&&(a[e]=0)}}const u=qu[e];let d,f;if(u)return e==="$attrs"&&vi(t.attrs,"get",""),u(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==on&&Yt(n,e))return a[e]=4,n[e];if(f=l.config.globalProperties,Yt(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return pg(s,e)?(s[e]=n,!0):i!==on&&Yt(i,e)?(i[e]=n,!0):Yt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let o;return!!n[a]||t!==on&&Yt(t,a)||pg(e,a)||(o=r[0])&&Yt(o,a)||Yt(i,a)||Yt(qu,a)||Yt(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Yt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Op(){return oE().slots}function h3(){return oE().attrs}function oE(){const t=ta();return t.setupContext||(t.setupContext=LE(t))}function Qw(t){return ft(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function m3(t){const e=ta();let n=t();return s0(),Lb(n)&&(n=n.catch(i=>{throw il(e),i})),[n,()=>il(e)]}let Qy=!0;function p3(t){const e=cE(t),n=t.proxy,i=t.ctx;Qy=!1,e.beforeCreate&&eS(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:g,deactivated:p,beforeDestroy:v,beforeUnmount:b,destroyed:_,unmounted:w,render:T,renderTracked:C,renderTriggered:A,errorCaptured:S,serverPrefetch:x,expose:y,inheritAttrs:E,components:P,directives:D,filters:N}=e;if(c&&v3(c,i,null),a)for(const q in a){const j=a[q];pt(j)&&(i[q]=j.bind(n))}if(s){const q=s.call(n,n);pn(q)&&(t.data=_n(q))}if(Qy=!0,r)for(const q in r){const j=r[q],Q=pt(j)?j.bind(n,n):pt(j.get)?j.get.bind(n,n):fr,Z=!pt(j)&&pt(j.set)?j.set.bind(n):fr,X=L({get:Q,set:Z});Object.defineProperty(i,q,{enumerable:!0,configurable:!0,get:()=>X.value,set:ce=>X.value=ce})}if(o)for(const q in o)lE(o[q],i,n,q);if(l){const q=pt(l)?l.call(n):l;Reflect.ownKeys(q).forEach(j=>{Qt(j,q[j])})}u&&eS(u,t,"c");function B(q,j){ft(j)?j.forEach(Q=>q(Q.bind(n))):j&&q(j.bind(n))}if(B(Qc,d),B(On,f),B(rE,h),B(Dp,m),B(iE,g),B(jb,p),B(l3,S),B(o3,C),B(a3,A),B(qn,b),B(qs,w),B(r3,x),ft(y))if(y.length){const q=t.exposed||(t.exposed={});y.forEach(j=>{Object.defineProperty(q,j,{get:()=>n[j],set:Q=>n[j]=Q})})}else t.exposed||(t.exposed={});T&&t.render===fr&&(t.render=T),E!=null&&(t.inheritAttrs=E),P&&(t.components=P),D&&(t.directives=D),x&&nE(t)}function v3(t,e,n=fr){ft(t)&&(t=e0(t));for(const i in t){const s=t[i];let r;pn(s)?"default"in s?r=St(s.from||i,s.default,!0):r=St(s.from||i):r=St(s),ln(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function eS(t,e,n){Ws(ft(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function lE(t,e,n,i){let s=i.includes(".")?wE(n,i):()=>n[i];if(Ln(t)){const r=e[t];pt(r)&&Ie(s,r)}else if(pt(t))Ie(s,t.bind(n));else if(pn(t))if(ft(t))t.forEach(r=>lE(r,e,n,i));else{const r=pt(t.handler)?t.handler.bind(n):e[t.handler];pt(r)&&Ie(s,r,t)}}function cE(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,o=r.get(e);let l;return o?l=o:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>xm(l,c,a,!0)),xm(l,e,a)),pn(e)&&r.set(e,l),l}function xm(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&xm(t,r,n,!0),s&&s.forEach(a=>xm(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=g3[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const g3={data:tS,props:nS,emits:nS,methods:Bu,computed:Bu,beforeCreate:Ei,created:Ei,beforeMount:Ei,mounted:Ei,beforeUpdate:Ei,updated:Ei,beforeDestroy:Ei,beforeUnmount:Ei,destroyed:Ei,unmounted:Ei,activated:Ei,deactivated:Ei,errorCaptured:Ei,serverPrefetch:Ei,components:Bu,directives:Bu,watch:b3,provide:tS,inject:y3};function tS(t,e){return e?t?function(){return jn(pt(t)?t.call(this,this):t,pt(e)?e.call(this,this):e)}:e:t}function y3(t,e){return Bu(e0(t),e0(e))}function e0(t){if(ft(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ei(t,e){return t?[...new Set([].concat(t,e))]:e}function Bu(t,e){return t?jn(Object.create(null),t,e):e}function nS(t,e){return t?ft(t)&&ft(e)?[...new Set([...t,...e])]:jn(Object.create(null),Qw(t),Qw(e??{})):e}function b3(t,e){if(!t)return e;if(!e)return t;const n=jn(Object.create(null),t);for(const i in e)n[i]=Ei(t[i],e[i]);return n}function uE(){return{app:null,config:{isNativeTag:dD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _3=0;function x3(t,e){return function(i,s=null){pt(i)||(i=jn({},i)),s!=null&&!pn(s)&&(s=null);const r=uE(),a=new WeakSet,o=[];let l=!1;const c=r.app={_uid:_3++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:iO,get config(){return r.config},set config(u){},use(u,...d){return a.has(u)||(u&&pt(u.install)?(a.add(u),u.install(c,...d)):pt(u)&&(a.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||M(i,s);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,Vp(h.component)}},onUnmount(u){o.push(u)},unmount(){l&&(Ws(o,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Tc;Tc=c;try{return u()}finally{Tc=d}}};return c}}let Tc=null;function Qt(t,e){if(ci){let n=ci.provides;const i=ci.parent&&ci.parent.provides;i===n&&(n=ci.provides=Object.create(i)),n[t]=e}}function St(t,e,n=!1){const i=ci||Qn;if(i||Tc){const s=Tc?Tc._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&pt(e)?e.call(i&&i.proxy):e}}const dE={},fE=()=>Object.create(dE),hE=t=>Object.getPrototypeOf(t)===dE;function w3(t,e,n,i=!1){const s={},r=fE();t.propsDefaults=Object.create(null),mE(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:zD(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function S3(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,o=rt(s),[l]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Np(t.emitsOptions,f))continue;const h=e[f];if(l)if(Yt(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const m=ts(f);s[m]=t0(l,o,m,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{mE(t,e,s,r)&&(c=!0);let u;for(const d in o)(!e||!Yt(e,d)&&((u=Sl(d))===d||!Yt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=t0(l,o,d,void 0,t,!0)):delete s[d]);if(r!==o)for(const d in r)(!e||!Yt(e,d))&&(delete r[d],c=!0)}c&&Hr(t.attrs,"set","")}function mE(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Wu(l))continue;const c=e[l];let u;s&&Yt(s,u=ts(l))?!r||!r.includes(u)?n[u]=c:(o||(o={}))[u]=c:Np(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,a=!0)}if(r){const l=rt(n),c=o||on;for(let u=0;u<r.length;u++){const d=r[u];n[d]=t0(s,l,d,c[d],t,!Yt(c,d))}}return a}function t0(t,e,n,i,s,r){const a=t[n];if(a!=null){const o=Yt(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&pt(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=il(s);i=c[n]=l.call(null,e),u()}}else i=l;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===Sl(n))&&(i=!0))}return i}const M3=new WeakMap;function pE(t,e,n=!1){const i=n?M3:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},o=[];let l=!1;if(!pt(t)){const u=d=>{l=!0;const[f,h]=pE(d,e,!0);jn(a,f),h&&o.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return pn(t)&&i.set(t,wc),wc;if(ft(r))for(let u=0;u<r.length;u++){const d=ts(r[u]);iS(d)&&(a[d]=on)}else if(r)for(const u in r){const d=ts(u);if(iS(d)){const f=r[u],h=a[d]=ft(f)||pt(f)?{type:f}:jn({},f),m=h.type;let g=!1,p=!0;if(ft(m))for(let v=0;v<m.length;++v){const b=m[v],_=pt(b)&&b.name;if(_==="Boolean"){g=!0;break}else _==="String"&&(p=!1)}else g=pt(m)&&m.name==="Boolean";h[0]=g,h[1]=p,(g||Yt(h,"default"))&&o.push(d)}}const c=[a,o];return pn(t)&&i.set(t,c),c}function iS(t){return t[0]!=="$"&&!Wu(t)}const vE=t=>t[0]==="_"||t==="$stable",Kb=t=>ft(t)?t.map(Us):[Us(t)],C3=(t,e,n)=>{if(e._n)return e;const i=et((...s)=>Kb(e(...s)),n);return i._c=!1,i},gE=(t,e,n)=>{const i=t._ctx;for(const s in t){if(vE(s))continue;const r=t[s];if(pt(r))e[s]=C3(s,r,i);else if(r!=null){const a=Kb(r);e[s]=()=>a}}},yE=(t,e)=>{const n=Kb(e);t.slots.default=()=>n},bE=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},T3=(t,e,n)=>{const i=t.slots=fE();if(t.vnode.shapeFlag&32){const s=e._;s?(bE(i,e,n),n&&yT(i,"_",s,!0)):gE(e,i)}else e&&yE(t,e)},E3=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=on;if(i.shapeFlag&32){const o=e._;o?n&&o===1?r=!1:bE(s,e,n):(r=!e.$stable,gE(e,s)),a=e}else e&&(yE(t,e),a={default:1});if(r)for(const o in s)!vE(o)&&a[o]==null&&delete s[o]},Pi=$3;function _E(t){return A3(t)}function A3(t,e){const n=Ip();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=fr,insertStaticContent:m}=t,g=(k,R,I,Y=null,$=null,J=null,se=void 0,me=null,re=!!R.dynamicChildren)=>{if(k===R)return;k&&!cr(k,R)&&(Y=de(k),ce(k,$,J,!0),k=null),R.patchFlag===-2&&(re=!1,R.dynamicChildren=null);const{type:V,ref:O,shapeFlag:K}=R;switch(V){case Jd:p(k,R,I,Y);break;case Jn:v(k,R,I,Y);break;case gg:k==null&&b(R,I,Y,se);break;case $e:P(k,R,I,Y,$,J,se,me,re);break;default:K&1?T(k,R,I,Y,$,J,se,me,re):K&6?D(k,R,I,Y,$,J,se,me,re):(K&64||K&128)&&V.process(k,R,I,Y,$,J,se,me,re,U)}O!=null&&$&&_m(O,k&&k.ref,J,R||k,!R)},p=(k,R,I,Y)=>{if(k==null)i(R.el=o(R.children),I,Y);else{const $=R.el=k.el;R.children!==k.children&&c($,R.children)}},v=(k,R,I,Y)=>{k==null?i(R.el=l(R.children||""),I,Y):R.el=k.el},b=(k,R,I,Y)=>{[k.el,k.anchor]=m(k.children,R,I,Y,k.el,k.anchor)},_=({el:k,anchor:R},I,Y)=>{let $;for(;k&&k!==R;)$=f(k),i(k,I,Y),k=$;i(R,I,Y)},w=({el:k,anchor:R})=>{let I;for(;k&&k!==R;)I=f(k),s(k),k=I;s(R)},T=(k,R,I,Y,$,J,se,me,re)=>{R.type==="svg"?se="svg":R.type==="math"&&(se="mathml"),k==null?C(R,I,Y,$,J,se,me,re):x(k,R,$,J,se,me,re)},C=(k,R,I,Y,$,J,se,me)=>{let re,V;const{props:O,shapeFlag:K,transition:le,dirs:ye}=k;if(re=k.el=a(k.type,J,O&&O.is,O),K&8?u(re,k.children):K&16&&S(k.children,re,null,Y,$,vg(k,J),se,me),ye&&ao(k,null,Y,"created"),A(re,k,k.scopeId,se,Y),O){for(const Oe in O)Oe!=="value"&&!Wu(Oe)&&r(re,Oe,null,O[Oe],J,Y);"value"in O&&r(re,"value",null,O.value,J),(V=O.onVnodeBeforeMount)&&tr(V,Y,k)}ye&&ao(k,null,Y,"beforeMount");const ve=P3($,le);ve&&le.beforeEnter(re),i(re,R,I),((V=O&&O.onVnodeMounted)||ve||ye)&&Pi(()=>{V&&tr(V,Y,k),ve&&le.enter(re),ye&&ao(k,null,Y,"mounted")},$)},A=(k,R,I,Y,$)=>{if(I&&h(k,I),Y)for(let J=0;J<Y.length;J++)h(k,Y[J]);if($){let J=$.subTree;if(R===J||ME(J.type)&&(J.ssContent===R||J.ssFallback===R)){const se=$.vnode;A(k,se,se.scopeId,se.slotScopeIds,$.parent)}}},S=(k,R,I,Y,$,J,se,me,re=0)=>{for(let V=re;V<k.length;V++){const O=k[V]=me?Da(k[V]):Us(k[V]);g(null,O,R,I,Y,$,J,se,me)}},x=(k,R,I,Y,$,J,se)=>{const me=R.el=k.el;let{patchFlag:re,dynamicChildren:V,dirs:O}=R;re|=k.patchFlag&16;const K=k.props||on,le=R.props||on;let ye;if(I&&oo(I,!1),(ye=le.onVnodeBeforeUpdate)&&tr(ye,I,R,k),O&&ao(R,k,I,"beforeUpdate"),I&&oo(I,!0),(K.innerHTML&&le.innerHTML==null||K.textContent&&le.textContent==null)&&u(me,""),V?y(k.dynamicChildren,V,me,I,Y,vg(R,$),J):se||j(k,R,me,null,I,Y,vg(R,$),J,!1),re>0){if(re&16)E(me,K,le,I,$);else if(re&2&&K.class!==le.class&&r(me,"class",null,le.class,$),re&4&&r(me,"style",K.style,le.style,$),re&8){const ve=R.dynamicProps;for(let Oe=0;Oe<ve.length;Oe++){const Le=ve[Oe],ze=K[Le],ot=le[Le];(ot!==ze||Le==="value")&&r(me,Le,ze,ot,$,I)}}re&1&&k.children!==R.children&&u(me,R.children)}else!se&&V==null&&E(me,K,le,I,$);((ye=le.onVnodeUpdated)||O)&&Pi(()=>{ye&&tr(ye,I,R,k),O&&ao(R,k,I,"updated")},Y)},y=(k,R,I,Y,$,J,se)=>{for(let me=0;me<R.length;me++){const re=k[me],V=R[me],O=re.el&&(re.type===$e||!cr(re,V)||re.shapeFlag&70)?d(re.el):I;g(re,V,O,null,Y,$,J,se,!0)}},E=(k,R,I,Y,$)=>{if(R!==I){if(R!==on)for(const J in R)!Wu(J)&&!(J in I)&&r(k,J,R[J],null,$,Y);for(const J in I){if(Wu(J))continue;const se=I[J],me=R[J];se!==me&&J!=="value"&&r(k,J,me,se,$,Y)}"value"in I&&r(k,"value",R.value,I.value,$)}},P=(k,R,I,Y,$,J,se,me,re)=>{const V=R.el=k?k.el:o(""),O=R.anchor=k?k.anchor:o("");let{patchFlag:K,dynamicChildren:le,slotScopeIds:ye}=R;ye&&(me=me?me.concat(ye):ye),k==null?(i(V,I,Y),i(O,I,Y),S(R.children||[],I,O,$,J,se,me,re)):K>0&&K&64&&le&&k.dynamicChildren?(y(k.dynamicChildren,le,I,$,J,se,me),(R.key!=null||$&&R===$.subTree)&&Zb(k,R,!0)):j(k,R,I,O,$,J,se,me,re)},D=(k,R,I,Y,$,J,se,me,re)=>{R.slotScopeIds=me,k==null?R.shapeFlag&512?$.ctx.activate(R,I,Y,se,re):N(R,I,Y,$,J,se,re):W(k,R,re)},N=(k,R,I,Y,$,J,se)=>{const me=k.component=Z3(k,Y,$);if(Lp(k)&&(me.ctx.renderer=U),J3(me,!1,se),me.asyncDep){if($&&$.registerDep(me,B,se),!k.el){const re=me.subTree=M(Jn);v(null,re,R,I)}}else B(me,k,R,I,$,J,se)},W=(k,R,I)=>{const Y=R.component=k.component;if(B3(k,R,I))if(Y.asyncDep&&!Y.asyncResolved){q(Y,R,I);return}else Y.next=R,Y.update();else R.el=k.el,Y.vnode=R},B=(k,R,I,Y,$,J,se)=>{const me=()=>{if(k.isMounted){let{next:K,bu:le,u:ye,parent:ve,vnode:Oe}=k;{const je=xE(k);if(je){K&&(K.el=Oe.el,q(k,K,se)),je.asyncDep.then(()=>{k.isUnmounted||me()});return}}let Le=K,ze;oo(k,!1),K?(K.el=Oe.el,q(k,K,se)):K=Oe,le&&Qh(le),(ze=K.props&&K.props.onVnodeBeforeUpdate)&&tr(ze,ve,K,Oe),oo(k,!0);const ot=rS(k),De=k.subTree;k.subTree=ot,g(De,ot,d(De.el),de(De),k,$,J),K.el=ot.el,Le===null&&Qb(k,ot.el),ye&&Pi(ye,$),(ze=K.props&&K.props.onVnodeUpdated)&&Pi(()=>tr(ze,ve,K,Oe),$)}else{let K;const{el:le,props:ye}=R,{bm:ve,m:Oe,parent:Le,root:ze,type:ot}=k,De=Cc(R);oo(k,!1),ve&&Qh(ve),!De&&(K=ye&&ye.onVnodeBeforeMount)&&tr(K,Le,R),oo(k,!0);{ze.ce&&ze.ce._injectChildStyle(ot);const je=k.subTree=rS(k);g(null,je,I,Y,k,$,J),R.el=je.el}if(Oe&&Pi(Oe,$),!De&&(K=ye&&ye.onVnodeMounted)){const je=R;Pi(()=>tr(K,Le,je),$)}(R.shapeFlag&256||Le&&Cc(Le.vnode)&&Le.vnode.shapeFlag&256)&&k.a&&Pi(k.a,$),k.isMounted=!0,R=I=Y=null}};k.scope.on();const re=k.effect=new MT(me);k.scope.off();const V=k.update=re.run.bind(re),O=k.job=re.runIfDirty.bind(re);O.i=k,O.id=k.uid,re.scheduler=()=>Wb(O),oo(k,!0),V()},q=(k,R,I)=>{R.component=k;const Y=k.vnode.props;k.vnode=R,k.next=null,S3(k,R.props,Y,I),E3(k,R.children,I),Ya(),Xw(k),qa()},j=(k,R,I,Y,$,J,se,me,re=!1)=>{const V=k&&k.children,O=k?k.shapeFlag:0,K=R.children,{patchFlag:le,shapeFlag:ye}=R;if(le>0){if(le&128){Z(V,K,I,Y,$,J,se,me,re);return}else if(le&256){Q(V,K,I,Y,$,J,se,me,re);return}}ye&8?(O&16&&ne(V,$,J),K!==V&&u(I,K)):O&16?ye&16?Z(V,K,I,Y,$,J,se,me,re):ne(V,$,J,!0):(O&8&&u(I,""),ye&16&&S(K,I,Y,$,J,se,me,re))},Q=(k,R,I,Y,$,J,se,me,re)=>{k=k||wc,R=R||wc;const V=k.length,O=R.length,K=Math.min(V,O);let le;for(le=0;le<K;le++){const ye=R[le]=re?Da(R[le]):Us(R[le]);g(k[le],ye,I,null,$,J,se,me,re)}V>O?ne(k,$,J,!0,!1,K):S(R,I,Y,$,J,se,me,re,K)},Z=(k,R,I,Y,$,J,se,me,re)=>{let V=0;const O=R.length;let K=k.length-1,le=O-1;for(;V<=K&&V<=le;){const ye=k[V],ve=R[V]=re?Da(R[V]):Us(R[V]);if(cr(ye,ve))g(ye,ve,I,null,$,J,se,me,re);else break;V++}for(;V<=K&&V<=le;){const ye=k[K],ve=R[le]=re?Da(R[le]):Us(R[le]);if(cr(ye,ve))g(ye,ve,I,null,$,J,se,me,re);else break;K--,le--}if(V>K){if(V<=le){const ye=le+1,ve=ye<O?R[ye].el:Y;for(;V<=le;)g(null,R[V]=re?Da(R[V]):Us(R[V]),I,ve,$,J,se,me,re),V++}}else if(V>le)for(;V<=K;)ce(k[V],$,J,!0),V++;else{const ye=V,ve=V,Oe=new Map;for(V=ve;V<=le;V++){const He=R[V]=re?Da(R[V]):Us(R[V]);He.key!=null&&Oe.set(He.key,V)}let Le,ze=0;const ot=le-ve+1;let De=!1,je=0;const st=new Array(ot);for(V=0;V<ot;V++)st[V]=0;for(V=ye;V<=K;V++){const He=k[V];if(ze>=ot){ce(He,$,J,!0);continue}let ie;if(He.key!=null)ie=Oe.get(He.key);else for(Le=ve;Le<=le;Le++)if(st[Le-ve]===0&&cr(He,R[Le])){ie=Le;break}ie===void 0?ce(He,$,J,!0):(st[ie-ve]=V+1,ie>=je?je=ie:De=!0,g(He,R[ie],I,null,$,J,se,me,re),ze++)}const ct=De?I3(st):wc;for(Le=ct.length-1,V=ot-1;V>=0;V--){const He=ve+V,ie=R[He],Ee=He+1<O?R[He+1].el:Y;st[V]===0?g(null,ie,I,Ee,$,J,se,me,re):De&&(Le<0||V!==ct[Le]?X(ie,I,Ee,2):Le--)}}},X=(k,R,I,Y,$=null)=>{const{el:J,type:se,transition:me,children:re,shapeFlag:V}=k;if(V&6){X(k.component.subTree,R,I,Y);return}if(V&128){k.suspense.move(R,I,Y);return}if(V&64){se.move(k,R,I,U);return}if(se===$e){i(J,R,I);for(let K=0;K<re.length;K++)X(re[K],R,I,Y);i(k.anchor,R,I);return}if(se===gg){_(k,R,I);return}if(Y!==2&&V&1&&me)if(Y===0)me.beforeEnter(J),i(J,R,I),Pi(()=>me.enter(J),$);else{const{leave:K,delayLeave:le,afterLeave:ye}=me,ve=()=>i(J,R,I),Oe=()=>{K(J,()=>{ve(),ye&&ye()})};le?le(J,ve,Oe):Oe()}else i(J,R,I)},ce=(k,R,I,Y=!1,$=!1)=>{const{type:J,props:se,ref:me,children:re,dynamicChildren:V,shapeFlag:O,patchFlag:K,dirs:le,cacheIndex:ye}=k;if(K===-2&&($=!1),me!=null&&_m(me,null,I,k,!0),ye!=null&&(R.renderCache[ye]=void 0),O&256){R.ctx.deactivate(k);return}const ve=O&1&&le,Oe=!Cc(k);let Le;if(Oe&&(Le=se&&se.onVnodeBeforeUnmount)&&tr(Le,R,k),O&6)pe(k.component,I,Y);else{if(O&128){k.suspense.unmount(I,Y);return}ve&&ao(k,null,R,"beforeUnmount"),O&64?k.type.remove(k,R,I,U,Y):V&&!V.hasOnce&&(J!==$e||K>0&&K&64)?ne(V,R,I,!1,!0):(J===$e&&K&384||!$&&O&16)&&ne(re,R,I),Y&&Me(k)}(Oe&&(Le=se&&se.onVnodeUnmounted)||ve)&&Pi(()=>{Le&&tr(Le,R,k),ve&&ao(k,null,R,"unmounted")},I)},Me=k=>{const{type:R,el:I,anchor:Y,transition:$}=k;if(R===$e){ee(I,Y);return}if(R===gg){w(k);return}const J=()=>{s(I),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(k.shapeFlag&1&&$&&!$.persisted){const{leave:se,delayLeave:me}=$,re=()=>se(I,J);me?me(k.el,J,re):re()}else J()},ee=(k,R)=>{let I;for(;k!==R;)I=f(k),s(k),k=I;s(R)},pe=(k,R,I)=>{const{bum:Y,scope:$,job:J,subTree:se,um:me,m:re,a:V}=k;sS(re),sS(V),Y&&Qh(Y),$.stop(),J&&(J.flags|=8,ce(se,k,R,I)),me&&Pi(me,R),Pi(()=>{k.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},ne=(k,R,I,Y=!1,$=!1,J=0)=>{for(let se=J;se<k.length;se++)ce(k[se],R,I,Y,$)},de=k=>{if(k.shapeFlag&6)return de(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const R=f(k.anchor||k.el),I=R&&R[XT];return I?f(I):R};let ae=!1;const F=(k,R,I)=>{k==null?R._vnode&&ce(R._vnode,null,null,!0):g(R._vnode||null,k,R,null,null,null,I),R._vnode=k,ae||(ae=!0,Xw(),WT(),ae=!1)},U={p:g,um:ce,m:X,r:Me,mt:N,mc:S,pc:j,pbc:y,n:de,o:t};return{render:F,hydrate:void 0,createApp:x3(F)}}function vg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function oo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function P3(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Zb(t,e,n=!1){const i=t.children,s=e.children;if(ft(i)&&ft(s))for(let r=0;r<i.length;r++){const a=i[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=Da(s[r]),o.el=a.el),!n&&o.patchFlag!==-2&&Zb(a,o)),o.type===Jd&&(o.el=a.el)}}function I3(t){const e=t.slice(),n=[0];let i,s,r,a,o;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)o=r+a>>1,t[n[o]]<c?r=o+1:a=o;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function xE(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:xE(e)}function sS(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const R3=Symbol.for("v-scx"),L3=()=>St(R3);function Zt(t,e){return Jb(t,null,e)}function Ie(t,e,n){return Jb(t,e,n)}function Jb(t,e,n=on){const{immediate:i,deep:s,flush:r,once:a}=n,o=jn({},n),l=e&&i||!e&&r!=="post";let c;if(vd){if(r==="sync"){const h=L3();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=fr,h.resume=fr,h.pause=fr,h}}const u=ci;o.call=(h,m,g)=>Ws(h,u,m,g);let d=!1;r==="post"?o.scheduler=h=>{Pi(h,u&&u.suspense)}:r!=="sync"&&(d=!0,o.scheduler=(h,m)=>{m?h():Wb(h)}),o.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=ZD(t,e,o);return vd&&(c?c.push(f):l&&f()),f}function k3(t,e,n){const i=this.proxy,s=Ln(t)?t.includes(".")?wE(i,t):()=>i[t]:t.bind(i,i);let r;pt(e)?r=e:(r=e.handler,n=e);const a=il(this),o=Jb(s,r.bind(i),n);return a(),o}function wE(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const D3=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ts(e)}Modifiers`]||t[`${Sl(e)}Modifiers`];function O3(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||on;let s=n;const r=e.startsWith("update:"),a=r&&D3(i,e.slice(7));a&&(a.trim&&(s=n.map(u=>Ln(u)?u.trim():u)),a.number&&(s=n.map($y)));let o,l=i[o=cg(e)]||i[o=cg(ts(e))];!l&&r&&(l=i[o=cg(Sl(e))]),l&&Ws(l,t,6,s);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Ws(c,t,6,s)}}function SE(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},o=!1;if(!pt(t)){const l=c=>{const u=SE(c,e,!0);u&&(o=!0,jn(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!o?(pn(t)&&i.set(t,null),null):(ft(r)?r.forEach(l=>a[l]=null):jn(a,r),pn(t)&&i.set(t,a),a)}function Np(t,e){return!t||!Ep(e)?!1:(e=e.slice(2).replace(/Once$/,""),Yt(t,e[0].toLowerCase()+e.slice(1))||Yt(t,Sl(e))||Yt(t,e))}function rS(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:o,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:m,inheritAttrs:g}=t,p=bm(t);let v,b;try{if(n.shapeFlag&4){const w=s||i,T=w;v=Us(c.call(T,w,u,d,h,f,m)),b=o}else{const w=e;v=Us(w.length>1?w(d,{attrs:o,slots:a,emit:l}):w(d,null)),b=e.props?o:V3(o)}}catch(w){Ku.length=0,Zd(w,t,1),v=M(Jn)}let _=v;if(b&&g!==!1){const w=Object.keys(b),{shapeFlag:T}=_;w.length&&T&7&&(r&&w.some(Ib)&&(b=F3(b,r)),_=ea(_,b,!1,!0))}return n.dirs&&(_=ea(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&tl(_,n.transition),v=_,bm(p),v}function N3(t,e=!0){let n;for(let i=0;i<t.length;i++){const s=t[i];if(nl(s)){if(s.type!==Jn||s.children==="v-if"){if(n)return;n=s}}else return}return n}const V3=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ep(n))&&((e||(e={}))[n]=t[n]);return e},F3=(t,e)=>{const n={};for(const i in t)(!Ib(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function B3(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:o,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?aS(i,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(a[f]!==i[f]&&!Np(c,f))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?aS(i,a,c):!0:!!a;return!1}function aS(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Np(n,r))return!0}return!1}function Qb({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const ME=t=>t.__isSuspense;let n0=0;const U3={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,a,o,l,c){if(t==null)z3(e,n,i,s,r,a,o,l,c);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}H3(t,e,n,i,s,a,o,l,c)}},hydrate:G3,normalize:W3},Ms=U3;function pd(t,e){const n=t.props&&t.props[e];pt(n)&&n()}function z3(t,e,n,i,s,r,a,o,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=t.suspense=CE(t,s,i,e,d,n,r,a,o,l);c(null,f.pendingBranch=t.ssContent,d,null,i,f,r,a),f.deps>0?(pd(t,"onPending"),pd(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,r,a),Ec(f,t.ssFallback)):f.resolve(!1,!0)}function H3(t,e,n,i,s,r,a,o,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:m,pendingBranch:g,isInFallback:p,isHydrating:v}=d;if(g)d.pendingBranch=f,cr(f,g)?(l(g,f,d.hiddenContainer,null,s,d,r,a,o),d.deps<=0?d.resolve():p&&(v||(l(m,h,n,i,s,null,r,a,o),Ec(d,h)))):(d.pendingId=n0++,v?(d.isHydrating=!1,d.activeBranch=g):c(g,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),p?(l(null,f,d.hiddenContainer,null,s,d,r,a,o),d.deps<=0?d.resolve():(l(m,h,n,i,s,null,r,a,o),Ec(d,h))):m&&cr(f,m)?(l(m,f,n,i,s,d,r,a,o),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,s,d,r,a,o),d.deps<=0&&d.resolve()));else if(m&&cr(f,m))l(m,f,n,i,s,d,r,a,o),Ec(d,f);else if(pd(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=n0++,l(null,f,d.hiddenContainer,null,s,d,r,a,o),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:_}=d;b>0?setTimeout(()=>{d.pendingId===_&&d.fallback(h)},b):b===0&&d.fallback(h)}}function CE(t,e,n,i,s,r,a,o,l,c,u=!1){const{p:d,m:f,um:h,n:m,o:{parentNode:g,remove:p}}=c;let v;const b=j3(t);b&&e&&e.pendingBranch&&(v=e.pendingId,e.deps++);const _=t.props?bT(t.props.timeout):void 0,w=r,T={vnode:t,parent:e,parentComponent:n,namespace:a,container:i,hiddenContainer:s,deps:0,pendingId:n0++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(C=!1,A=!1){const{vnode:S,activeBranch:x,pendingBranch:y,pendingId:E,effects:P,parentComponent:D,container:N}=T;let W=!1;T.isHydrating?T.isHydrating=!1:C||(W=x&&y.transition&&y.transition.mode==="out-in",W&&(x.transition.afterLeave=()=>{E===T.pendingId&&(f(y,N,r===w?m(x):r,0),Ky(P))}),x&&(g(x.el)===N&&(r=m(x)),h(x,D,T,!0)),W||f(y,N,r,0)),Ec(T,y),T.pendingBranch=null,T.isInFallback=!1;let B=T.parent,q=!1;for(;B;){if(B.pendingBranch){B.effects.push(...P),q=!0;break}B=B.parent}!q&&!W&&Ky(P),T.effects=[],b&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),pd(S,"onResolve")},fallback(C){if(!T.pendingBranch)return;const{vnode:A,activeBranch:S,parentComponent:x,container:y,namespace:E}=T;pd(A,"onFallback");const P=m(S),D=()=>{T.isInFallback&&(d(null,C,y,P,x,null,E,o,l),Ec(T,C))},N=C.transition&&C.transition.mode==="out-in";N&&(S.transition.afterLeave=D),T.isInFallback=!0,h(S,x,null,!0),N||D()},move(C,A,S){T.activeBranch&&f(T.activeBranch,C,A,S),T.container=C},next(){return T.activeBranch&&m(T.activeBranch)},registerDep(C,A,S){const x=!!T.pendingBranch;x&&T.deps++;const y=C.vnode.el;C.asyncDep.catch(E=>{Zd(E,C,0)}).then(E=>{if(C.isUnmounted||T.isUnmounted||T.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:P}=C;r0(C,E),y&&(P.el=y);const D=!y&&C.subTree.el;A(C,P,g(y||C.subTree.el),y?null:m(C.subTree),T,a,S),D&&p(D),Qb(C,P.el),x&&--T.deps===0&&T.resolve()})},unmount(C,A){T.isUnmounted=!0,T.activeBranch&&h(T.activeBranch,n,C,A),T.pendingBranch&&h(T.pendingBranch,n,C,A)}};return T}function G3(t,e,n,i,s,r,a,o,l){const c=e.suspense=CE(e,i,n,t.parentNode,document.createElement("div"),null,s,r,a,o,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,r,a);return c.deps===0&&c.resolve(!1,!0),u}function W3(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=oS(i?n.default:n),t.ssFallback=i?oS(n.fallback):M(Jn)}function oS(t){let e;if(pt(t)){const n=Oc&&t._c;n&&(t._d=!1,it()),t=t(),n&&(t._d=!0,e=Zi,TE())}return ft(t)&&(t=N3(t)),t=Us(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function $3(t,e){e&&e.pendingBranch?ft(t)?e.effects.push(...t):e.effects.push(t):Ky(t)}function Ec(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,i&&i.subTree===n&&(i.vnode.el=s,Qb(i,s))}function j3(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const $e=Symbol.for("v-fgt"),Jd=Symbol.for("v-txt"),Jn=Symbol.for("v-cmt"),gg=Symbol.for("v-stc"),Ku=[];let Zi=null;function it(t=!1){Ku.push(Zi=t?null:[])}function TE(){Ku.pop(),Zi=Ku[Ku.length-1]||null}let Oc=1;function lS(t,e=!1){Oc+=t,t<0&&Zi&&e&&(Zi.hasOnce=!0)}function EE(t){return t.dynamicChildren=Oc>0?Zi||wc:null,TE(),Oc>0&&Zi&&Zi.push(t),t}function qt(t,e,n,i,s,r){return EE(Te(t,e,n,i,s,r,!0))}function rn(t,e,n,i,s){return EE(M(t,e,n,i,s,!0))}function nl(t){return t?t.__v_isVNode===!0:!1}function cr(t,e){return t.type===e.type&&t.key===e.key}const AE=({key:t})=>t??null,tm=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ln(t)||ln(t)||pt(t)?{i:Qn,r:t,k:e,f:!!n}:t:null);function Te(t,e=null,n=null,i=0,s=null,r=t===$e?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&AE(e),ref:e&&tm(e),scopeId:jT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Qn};return o?(e_(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ln(n)?8:16),Oc>0&&!a&&Zi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Zi.push(l),l}const M=X3;function X3(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===u3)&&(t=Jn),nl(t)){const o=ea(t,e,!0);return n&&e_(o,n),Oc>0&&!r&&Zi&&(o.shapeFlag&6?Zi[Zi.indexOf(t)]=o:Zi.push(o)),o.patchFlag=-2,o}if(nO(t)&&(t=t.__vccOpts),e){e=Y3(e);let{class:o,style:l}=e;o&&!Ln(o)&&(e.class=qd(o)),pn(l)&&(Gb(l)&&!ft(l)&&(l=jn({},l)),e.style=Dc(l))}const a=Ln(t)?1:ME(t)?128:YT(t)?64:pn(t)?4:pt(t)?2:0;return Te(t,e,n,i,s,a,r,!0)}function Y3(t){return t?Gb(t)||hE(t)?jn({},t):t:null}function ea(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:o,transition:l}=t,c=e?Se(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&AE(c),ref:e&&e.ref?n&&r?ft(r)?r.concat(tm(e)):[r,tm(e)]:tm(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ea(t.ssContent),ssFallback:t.ssFallback&&ea(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&tl(u,l.clone(u)),u}function Pn(t=" ",e=0){return M(Jd,null,t,e)}function PE(t="",e=!1){return e?(it(),rn(Jn,null,t)):M(Jn,null,t)}function Us(t){return t==null||typeof t=="boolean"?M(Jn):ft(t)?M($e,null,t.slice()):nl(t)?Da(t):M(Jd,null,String(t))}function Da(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ea(t)}function e_(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ft(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),e_(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!hE(e)?e._ctx=Qn:s===3&&Qn&&(Qn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pt(e)?(e={default:e,_ctx:Qn},n=32):(e=String(e),i&64?(n=16,e=[Pn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Se(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=qd([e.class,i.class]));else if(s==="style")e.style=Dc([e.style,i.style]);else if(Ep(s)){const r=e[s],a=i[s];a&&r!==a&&!(ft(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function tr(t,e,n,i=null){Ws(t,e,7,[n,i])}const q3=uE();let K3=0;function Z3(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||q3,r={uid:K3++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ST(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pE(i,s),emitsOptions:SE(i,s),emit:null,emitted:null,propsDefaults:on,inheritAttrs:i.inheritAttrs,ctx:on,data:on,props:on,attrs:on,slots:on,refs:on,setupState:on,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=O3.bind(null,r),t.ce&&t.ce(r),r}let ci=null;const ta=()=>ci||Qn;let wm,i0;{const t=Ip(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};wm=e("__VUE_INSTANCE_SETTERS__",n=>ci=n),i0=e("__VUE_SSR_SETTERS__",n=>vd=n)}const il=t=>{const e=ci;return wm(t),t.scope.on(),()=>{t.scope.off(),wm(e)}},s0=()=>{ci&&ci.scope.off(),wm(null)};function IE(t){return t.vnode.shapeFlag&4}let vd=!1;function J3(t,e=!1,n=!1){e&&i0(e);const{props:i,children:s}=t.vnode,r=IE(t);w3(t,i,r,e),T3(t,s,n);const a=r?Q3(t,e):void 0;return e&&i0(!1),a}function Q3(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,f3);const{setup:i}=n;if(i){Ya();const s=t.setupContext=i.length>1?LE(t):null,r=il(t),a=Kd(i,t,0,[t.props,s]),o=Lb(a);if(qa(),r(),(o||t.sp)&&!Cc(t)&&nE(t),o){if(a.then(s0,s0),e)return a.then(l=>{r0(t,l)}).catch(l=>{Zd(l,t,0)});t.asyncDep=a}else r0(t,a)}else RE(t)}function r0(t,e,n){pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pn(e)&&(t.setupState=UT(e)),RE(t)}function RE(t,e,n){const i=t.type;t.render||(t.render=i.render||fr);{const s=il(t);Ya();try{p3(t)}finally{qa(),s()}}}const eO={get(t,e){return vi(t,"get",""),t[e]}};function LE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,eO),slots:t.slots,emit:t.emit,expose:e}}function Vp(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(UT(FT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qu)return qu[n](t)},has(e,n){return n in e||n in qu}})):t.proxy}function tO(t,e=!0){return pt(t)?t.displayName||t.name:t.name||e&&t.__name}function nO(t){return pt(t)&&"__vccOpts"in t}const L=(t,e)=>qD(t,e,vd);function hs(t,e,n){const i=arguments.length;return i===2?pn(e)&&!ft(e)?nl(e)?M(t,null,[e]):M(t,e):M(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&nl(n)&&(n=[n]),M(t,e,n))}const iO="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let a0;const cS=typeof window<"u"&&window.trustedTypes;if(cS)try{a0=cS.createPolicy("vue",{createHTML:t=>t})}catch{}const kE=a0?t=>a0.createHTML(t):t=>t,sO="http://www.w3.org/2000/svg",rO="http://www.w3.org/1998/Math/MathML",Ur=typeof document<"u"?document:null,uS=Ur&&Ur.createElement("template"),aO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?Ur.createElementNS(sO,t):e==="mathml"?Ur.createElementNS(rO,t):n?Ur.createElement(t,{is:n}):Ur.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Ur.createTextNode(t),createComment:t=>Ur.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ur.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{uS.innerHTML=kE(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=uS.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ga="transition",gu="animation",Nc=Symbol("_vtc"),DE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},OE=jn({},JT,DE),oO=t=>(t.displayName="Transition",t.props=OE,t),Ga=oO((t,{slots:e})=>hs(i3,NE(t),e)),lo=(t,e=[])=>{ft(t)?t.forEach(n=>n(...e)):t&&t(...e)},dS=t=>t?ft(t)?t.some(e=>e.length>1):t.length>1:!1;function NE(t){const e={};for(const P in t)P in DE||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=a,appearToClass:u=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=lO(s),g=m&&m[0],p=m&&m[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:T,onBeforeAppear:C=v,onAppear:A=b,onAppearCancelled:S=_}=e,x=(P,D,N,W)=>{P._enterCancelled=W,Ra(P,D?u:o),Ra(P,D?c:a),N&&N()},y=(P,D)=>{P._isLeaving=!1,Ra(P,d),Ra(P,h),Ra(P,f),D&&D()},E=P=>(D,N)=>{const W=P?A:b,B=()=>x(D,P,N);lo(W,[D,B]),fS(()=>{Ra(D,P?l:r),sr(D,P?u:o),dS(W)||hS(D,i,g,B)})};return jn(e,{onBeforeEnter(P){lo(v,[P]),sr(P,r),sr(P,a)},onBeforeAppear(P){lo(C,[P]),sr(P,l),sr(P,c)},onEnter:E(!1),onAppear:E(!0),onLeave(P,D){P._isLeaving=!0;const N=()=>y(P,D);sr(P,d),P._enterCancelled?(sr(P,f),o0()):(o0(),sr(P,f)),fS(()=>{P._isLeaving&&(Ra(P,d),sr(P,h),dS(w)||hS(P,i,p,N))}),lo(w,[P,N])},onEnterCancelled(P){x(P,!1,void 0,!0),lo(_,[P])},onAppearCancelled(P){x(P,!0,void 0,!0),lo(S,[P])},onLeaveCancelled(P){y(P),lo(T,[P])}})}function lO(t){if(t==null)return null;if(pn(t))return[yg(t.enter),yg(t.leave)];{const e=yg(t);return[e,e]}}function yg(t){return bT(t)}function sr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Nc]||(t[Nc]=new Set)).add(e)}function Ra(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Nc];n&&(n.delete(e),n.size||(t[Nc]=void 0))}function fS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let cO=0;function hS(t,e,n,i){const s=t._endId=++cO,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:o,propCount:l}=VE(t,e);if(!a)return i();const c=a+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),t.addEventListener(c,f)}function VE(t,e){const n=window.getComputedStyle(t),i=m=>(n[m]||"").split(", "),s=i(`${ga}Delay`),r=i(`${ga}Duration`),a=mS(s,r),o=i(`${gu}Delay`),l=i(`${gu}Duration`),c=mS(o,l);let u=null,d=0,f=0;e===ga?a>0&&(u=ga,d=a,f=r.length):e===gu?c>0&&(u=gu,d=c,f=l.length):(d=Math.max(a,c),u=d>0?a>c?ga:gu:null,f=u?u===ga?r.length:l.length:0);const h=u===ga&&/\b(transform|all)(,|$)/.test(i(`${ga}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function mS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>pS(n)+pS(t[i])))}function pS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function o0(){return document.body.offsetHeight}function uO(t,e,n){const i=t[Nc];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Sm=Symbol("_vod"),FE=Symbol("_vsh"),Rs={beforeMount(t,{value:e},{transition:n}){t[Sm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):yu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),yu(t,!0),i.enter(t)):i.leave(t,()=>{yu(t,!1)}):yu(t,e))},beforeUnmount(t,{value:e}){yu(t,e)}};function yu(t,e){t.style.display=e?t[Sm]:"none",t[FE]=!e}const dO=Symbol(""),fO=/(^|;)\s*display\s*:/;function hO(t,e,n){const i=t.style,s=Ln(n);let r=!1;if(n&&!s){if(e)if(Ln(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&nm(i,o,"")}else for(const a in e)n[a]==null&&nm(i,a,"");for(const a in n)a==="display"&&(r=!0),nm(i,a,n[a])}else if(s){if(e!==n){const a=i[dO];a&&(n+=";"+a),i.cssText=n,r=fO.test(n)}}else e&&t.removeAttribute("style");Sm in t&&(t[Sm]=r?i.display:"",t[FE]&&(i.display="none"))}const vS=/\s*!important$/;function nm(t,e,n){if(ft(n))n.forEach(i=>nm(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=mO(t,e);vS.test(n)?t.setProperty(Sl(i),n.replace(vS,""),"important"):t[i]=n}}const gS=["Webkit","Moz","ms"],bg={};function mO(t,e){const n=bg[e];if(n)return n;let i=ts(e);if(i!=="filter"&&i in t)return bg[e]=i;i=wr(i);for(let s=0;s<gS.length;s++){const r=gS[s]+i;if(r in t)return bg[e]=r}return e}const yS="http://www.w3.org/1999/xlink";function bS(t,e,n,i,s,r=xD(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(yS,e.slice(6,e.length)):t.setAttributeNS(yS,e,n):n==null||r&&!_T(n)?t.removeAttribute(e):t.setAttribute(e,r?"":da(n)?String(n):n)}function _S(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?kE(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=_T(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function pc(t,e,n,i){t.addEventListener(e,n,i)}function pO(t,e,n,i){t.removeEventListener(e,n,i)}const xS=Symbol("_vei");function vO(t,e,n,i,s=null){const r=t[xS]||(t[xS]={}),a=r[e];if(i&&a)a.value=i;else{const[o,l]=gO(e);if(i){const c=r[e]=_O(i,s);pc(t,o,c,l)}else a&&(pO(t,o,a,l),r[e]=void 0)}}const wS=/(?:Once|Passive|Capture)$/;function gO(t){let e;if(wS.test(t)){e={};let i;for(;i=t.match(wS);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Sl(t.slice(2)),e]}let _g=0;const yO=Promise.resolve(),bO=()=>_g||(yO.then(()=>_g=0),_g=Date.now());function _O(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ws(xO(i,n.value),e,5,[i])};return n.value=t,n.attached=bO(),n}function xO(t,e){if(ft(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const SS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,wO=(t,e,n,i,s,r)=>{const a=s==="svg";e==="class"?uO(t,i,a):e==="style"?hO(t,n,i):Ep(e)?Ib(e)||vO(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):SO(t,e,i,a))?(_S(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&bS(t,e,i,a,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ln(i))?_S(t,ts(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),bS(t,e,i,a))};function SO(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&SS(e)&&pt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return SS(e)&&Ln(n)?!1:e in t}const BE=new WeakMap,UE=new WeakMap,Mm=Symbol("_moveCb"),MS=Symbol("_enterCb"),MO=t=>(delete t.props.mode,t),CO=MO({name:"TransitionGroup",props:jn({},OE,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ta(),i=ZT();let s,r;return Dp(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!PO(s[0].el,n.vnode.el,a))return;s.forEach(TO),s.forEach(EO);const o=s.filter(AO);o0(),o.forEach(l=>{const c=l.el,u=c.style;sr(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Mm]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[Mm]=null,Ra(c,a))};c.addEventListener("transitionend",d)})}),()=>{const a=rt(t),o=NE(a);let l=a.tag||$e;if(s=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(s.push(u),tl(u,md(u,o,i,n)),BE.set(u,u.el.getBoundingClientRect()))}r=e.default?$b(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&tl(u,md(u,o,i,n))}return M(l,null,r)}}}),t_=CO;function TO(t){const e=t.el;e[Mm]&&e[Mm](),e[MS]&&e[MS]()}function EO(t){UE.set(t,t.el.getBoundingClientRect())}function AO(t){const e=BE.get(t),n=UE.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function PO(t,e,n){const i=t.cloneNode(),s=t[Nc];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=VE(i);return r.removeChild(i),a}const CS=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ft(e)?n=>Qh(e,n):e};function IO(t){t.target.composing=!0}function TS(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xg=Symbol("_assign"),RO={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[xg]=CS(s);const r=i||s.props&&s.props.type==="number";pc(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),r&&(o=$y(o)),t[xg](o)}),n&&pc(t,"change",()=>{t.value=t.value.trim()}),e||(pc(t,"compositionstart",IO),pc(t,"compositionend",TS),pc(t,"change",TS))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(t[xg]=CS(a),t.composing)return;const o=(r||t.type==="number")&&!/^0\d/.test(t.value)?$y(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},LO=["ctrl","shift","alt","meta"],kO={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>LO.some(n=>t[`${n}Key`]&&!e.includes(n))},ES=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const o=kO[e[a]];if(o&&o(s,e))return}return t(s,...r)})},DO=jn({patchProp:wO},aO);let AS;function zE(){return AS||(AS=_E(DO))}const n_=(...t)=>{zE().render(...t)},OO=(...t)=>{const e=zE().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=VO(i);if(!s)return;const r=e._component;!pt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,NO(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function NO(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function VO(t){return Ln(t)?document.querySelector(t):t}const FO="/Portfolio/BlueHills.jpg";/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const eu="173",Io={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},zr={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},HE=0,l0=1,GE=2,BO=3,UO=0,i_=1,s_=2,ar=3,vr=0,_i=1,Oi=2,qr=0,Wo=1,Cm=2,c0=3,u0=4,WE=5,Na=100,$E=101,jE=102,XE=103,YE=104,qE=200,KE=201,ZE=202,JE=203,Tm=204,Em=205,QE=206,eA=207,tA=208,nA=209,iA=210,sA=211,rA=212,aA=213,oA=214,Am=0,Pm=1,Im=2,sl=3,Rm=4,Lm=5,km=6,Dm=7,Qd=0,lA=1,cA=2,Kr=0,uA=1,dA=2,fA=3,r_=4,hA=5,mA=6,pA=7,d0="attached",vA="detached",Fp=300,na=301,Wa=302,gd=303,yd=304,tu=306,ia=1e3,Ji=1001,rl=1002,Wn=1003,ef=1004,zO=1004,Fa=1005,HO=1005,In=1006,$o=1007,GO=1007,cs=1008,WO=1008,Ps=1009,a_=1010,o_=1011,Vc=1012,Bp=1013,sa=1014,Qi=1015,Ml=1016,Up=1017,zp=1018,al=1020,l_=35902,c_=1021,u_=1022,gi=1023,d_=1024,f_=1025,jo=1026,ol=1027,Hp=1028,tf=1029,h_=1030,Gp=1031,$O=1032,Wp=1033,Zu=33776,Ju=33777,Qu=33778,ed=33779,Om=35840,Nm=35841,Vm=35842,Fm=35843,Bm=36196,Um=37492,zm=37496,Hm=37808,Gm=37809,Wm=37810,$m=37811,jm=37812,Xm=37813,Ym=37814,qm=37815,Km=37816,Zm=37817,Jm=37818,Qm=37819,ep=37820,tp=37821,td=36492,np=36494,ip=36495,m_=36283,sp=36284,rp=36285,ap=36286,gA=2200,yA=2201,bA=2202,ll=2300,cl=2301,im=2302,Oo=2400,No=2401,bd=2402,$p=2500,p_=2501,_A=0,v_=1,op=2,xA=3200,wA=3201,jO=3202,XO=3203,Ka=0,SA=1,Wr="",Li="srgb",ul="srgb-linear",_d="linear",en="srgb",YO=0,Ro=7680,qO=7681,KO=7682,ZO=7683,JO=34055,QO=34056,eN=5386,tN=512,nN=513,iN=514,sN=515,rN=516,aN=517,oN=518,f0=519,MA=512,CA=513,TA=514,g_=515,EA=516,AA=517,PA=518,IA=519,xd=35044,lN=35048,cN=35040,uN=35045,dN=35049,fN=35041,hN=35046,mN=35050,pN=35042,vN="100",h0="300 es",zs=2e3,wd=2001,gN={COMPUTE:"compute",RENDER:"render"};class Ks{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const s=i[e];if(s!==void 0){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,e);e.target=null}}}const hi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let PS=1234567;const Xo=Math.PI/180,Fc=180/Math.PI;function fs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(hi[t&255]+hi[t>>8&255]+hi[t>>16&255]+hi[t>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[n&63|128]+hi[n>>8&255]+"-"+hi[n>>16&255]+hi[n>>24&255]+hi[i&255]+hi[i>>8&255]+hi[i>>16&255]+hi[i>>24&255]).toLowerCase()}function bt(t,e,n){return Math.max(e,Math.min(n,t))}function y_(t,e){return(t%e+e)%e}function yN(t,e,n,i,s){return i+(t-e)*(s-i)/(n-e)}function bN(t,e,n){return t!==e?(n-t)/(e-t):0}function nd(t,e,n){return(1-n)*t+n*e}function _N(t,e,n,i){return nd(t,e,1-Math.exp(-n*i))}function xN(t,e=1){return e-Math.abs(y_(t,e*2)-e)}function wN(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function SN(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function MN(t,e){return t+Math.floor(Math.random()*(e-t+1))}function CN(t,e){return t+Math.random()*(e-t)}function TN(t){return t*(.5-Math.random())}function EN(t){t!==void 0&&(PS=t);let e=PS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function AN(t){return t*Xo}function PN(t){return t*Fc}function IN(t){return(t&t-1)===0&&t!==0}function RN(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function LN(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function kN(t,e,n,i,s){const r=Math.cos,a=Math.sin,o=r(n/2),l=a(n/2),c=r((e+i)/2),u=a((e+i)/2),d=r((e-i)/2),f=a((e-i)/2),h=r((i-e)/2),m=a((i-e)/2);switch(s){case"XYX":t.set(o*u,l*d,l*f,o*c);break;case"YZY":t.set(l*f,o*u,l*d,o*c);break;case"ZXZ":t.set(l*d,l*f,o*u,o*c);break;case"XZX":t.set(o*u,l*m,l*h,o*c);break;case"YXY":t.set(l*h,o*u,l*m,o*c);break;case"ZYZ":t.set(l*m,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Ni(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Mt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const $a={DEG2RAD:Xo,RAD2DEG:Fc,generateUUID:fs,clamp:bt,euclideanModulo:y_,mapLinear:yN,inverseLerp:bN,lerp:nd,damp:_N,pingpong:xN,smoothstep:wN,smootherstep:SN,randInt:MN,randFloat:CN,randFloatSpread:TN,seededRandom:EN,degToRad:AN,radToDeg:PN,isPowerOfTwo:IN,ceilPowerOfTwo:RN,floorPowerOfTwo:LN,setQuaternionFromProperEuler:kN,normalize:Mt,denormalize:Ni};class Ae{constructor(e=0,n=0){Ae.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6],this.y=s[1]*n+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=bt(this.x,e.x,n.x),this.y=bt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=bt(this.x,e,n),this.y=bt(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(bt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(bt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),s=Math.sin(n),r=this.x-e.x,a=this.y-e.y;return this.x=r*i-a*s+e.x,this.y=r*s+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wt{constructor(e,n,i,s,r,a,o,l,c){wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,a,o,l,c)}set(e,n,i,s,r,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=s,u[2]=o,u[3]=n,u[4]=r,u[5]=l,u[6]=i,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],h=i[5],m=i[8],g=s[0],p=s[3],v=s[6],b=s[1],_=s[4],w=s[7],T=s[2],C=s[5],A=s[8];return r[0]=a*g+o*b+l*T,r[3]=a*p+o*_+l*C,r[6]=a*v+o*w+l*A,r[1]=c*g+u*b+d*T,r[4]=c*p+u*_+d*C,r[7]=c*v+u*w+d*A,r[2]=f*g+h*b+m*T,r[5]=f*p+h*_+m*C,r[8]=f*v+h*w+m*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*o*c-i*r*u+i*o*l+s*r*c-s*a*l}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*a-o*c,f=o*l-u*r,h=c*r-a*l,m=n*d+i*f+s*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=d*g,e[1]=(s*c-u*i)*g,e[2]=(o*i-s*a)*g,e[3]=f*g,e[4]=(u*n-s*l)*g,e[5]=(s*r-o*n)*g,e[6]=h*g,e[7]=(i*l-c*n)*g,e[8]=(a*n-i*r)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,s,r,a,o){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-s*c,s*l,-s*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(wg.makeScale(e,n)),this}rotate(e){return this.premultiply(wg.makeRotation(-e)),this}translate(e,n){return this.premultiply(wg.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<9;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const wg=new wt;function RA(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const DN={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function gc(t,e){return new DN[t](e)}function Sd(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function LA(){const t=Sd("canvas");return t.style.display="block",t}const IS={};function vc(t){t in IS||(IS[t]=!0,console.warn(t))}function ON(t,e,n){return new Promise(function(i,s){function r(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:s();break;case t.TIMEOUT_EXPIRED:setTimeout(r,n);break;default:i()}}setTimeout(r,n)})}function NN(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function VN(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const RS=new wt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),LS=new wt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function FN(){const t={enabled:!0,workingColorSpace:ul,spaces:{},convert:function(s,r,a){return this.enabled===!1||r===a||!r||!a||(this.spaces[r].transfer===en&&(s.r=Zr(s.r),s.g=Zr(s.g),s.b=Zr(s.b)),this.spaces[r].primaries!==this.spaces[a].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===en&&(s.r=Ac(s.r),s.g=Ac(s.g),s.b=Ac(s.b))),s},fromWorkingColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},toWorkingColorSpace:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Wr?_d:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,a){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[ul]:{primaries:e,whitePoint:i,transfer:_d,toXYZ:RS,fromXYZ:LS,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Li},outputColorSpaceConfig:{drawingBufferColorSpace:Li}},[Li]:{primaries:e,whitePoint:i,transfer:en,toXYZ:RS,fromXYZ:LS,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Li}}}),t}const Vt=FN();function Zr(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Ac(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let zl;class kA{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{zl===void 0&&(zl=Sd("canvas")),zl.width=e.width,zl.height=e.height;const i=zl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=zl}return n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Sd("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let a=0;a<r.length;a++)r[a]=Zr(r[a]/255)*255;return i.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Zr(n[i]/255)*255):n[i]=Zr(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let BN=0;class Vo{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:BN++}),this.uuid=fs(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let a=0,o=s.length;a<o;a++)s[a].isDataTexture?r.push(Sg(s[a].image)):r.push(Sg(s[a]))}else r=Sg(s);i.url=r}return n||(e.images[this.uuid]=i),i}}function Sg(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?kA.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UN=0;class dn extends Ks{constructor(e=dn.DEFAULT_IMAGE,n=dn.DEFAULT_MAPPING,i=Ji,s=Ji,r=In,a=cs,o=gi,l=Ps,c=dn.DEFAULT_ANISOTROPY,u=Wr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UN++}),this.uuid=fs(),this.name="",this.source=new Vo(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Fp)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ia:e.x=e.x-Math.floor(e.x);break;case Ji:e.x=e.x<0?0:1;break;case rl:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ia:e.y=e.y-Math.floor(e.y);break;case Ji:e.y=e.y<0?0:1;break;case rl:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}dn.DEFAULT_IMAGE=null;dn.DEFAULT_MAPPING=Fp;dn.DEFAULT_ANISOTROPY=1;class Et{constructor(e=0,n=0,i=0,s=1){Et.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,s){return this.x=e,this.y=n,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*s+a[12]*r,this.y=a[1]*n+a[5]*i+a[9]*s+a[13]*r,this.z=a[2]*n+a[6]*i+a[10]*s+a[14]*r,this.w=a[3]*n+a[7]*i+a[11]*s+a[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,s,r;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],m=l[9],g=l[2],p=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-g)<.01&&Math.abs(m-p)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+g)<.1&&Math.abs(m+p)<.1&&Math.abs(c+h+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,w=(h+1)/2,T=(v+1)/2,C=(u+f)/4,A=(d+g)/4,S=(m+p)/4;return _>w&&_>T?_<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(_),s=C/i,r=A/i):w>T?w<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(w),i=C/s,r=S/s):T<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(T),i=A/r,s=S/r),this.set(i,s,r,n),this}let b=Math.sqrt((p-m)*(p-m)+(d-g)*(d-g)+(f-u)*(f-u));return Math.abs(b)<.001&&(b=1),this.x=(p-m)/b,this.y=(d-g)/b,this.z=(f-u)/b,this.w=Math.acos((c+h+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=bt(this.x,e.x,n.x),this.y=bt(this.y,e.y,n.y),this.z=bt(this.z,e.z,n.z),this.w=bt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=bt(this.x,e,n),this.y=bt(this.y,e,n),this.z=bt(this.z,e,n),this.w=bt(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(bt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class jp extends Ks{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Et(0,0,e,n),this.scissorTest=!1,this.viewport=new Et(0,0,e,n);const s={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:In,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new dn(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=r.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,s=e.textures.length;i<s;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const n=Object.assign({},e.texture.image);return this.texture.source=new Vo(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class js extends jp{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class nf extends dn{constructor(e=null,n=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=Wn,this.minFilter=Wn,this.wrapR=Ji,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zN extends js{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new nf(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Xp extends dn{constructor(e=null,n=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=Wn,this.minFilter=Wn,this.wrapR=Ji,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class HN extends js{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Xp(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class ei{constructor(e=0,n=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=s}static slerpFlat(e,n,i,s,r,a,o){let l=i[s+0],c=i[s+1],u=i[s+2],d=i[s+3];const f=r[a+0],h=r[a+1],m=r[a+2],g=r[a+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(o===1){e[n+0]=f,e[n+1]=h,e[n+2]=m,e[n+3]=g;return}if(d!==g||l!==f||c!==h||u!==m){let p=1-o;const v=l*f+c*h+u*m+d*g,b=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const T=Math.sqrt(_),C=Math.atan2(T,v*b);p=Math.sin(p*C)/T,o=Math.sin(o*C)/T}const w=o*b;if(l=l*p+f*w,c=c*p+h*w,u=u*p+m*w,d=d*p+g*w,p===1-o){const T=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=T,c*=T,u*=T,d*=T}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,s,r,a){const o=i[s],l=i[s+1],c=i[s+2],u=i[s+3],d=r[a],f=r[a+1],h=r[a+2],m=r[a+3];return e[n]=o*m+u*d+l*h-c*f,e[n+1]=l*m+u*f+c*d-o*h,e[n+2]=c*m+u*h+o*f-l*d,e[n+3]=u*m-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,s=e._y,r=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),u=o(s/2),d=o(r/2),f=l(i/2),h=l(s/2),m=l(r/2);switch(a){case"XYZ":this._x=f*u*d+c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d-f*h*m;break;case"YXZ":this._x=f*u*d+c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d+f*h*m;break;case"ZXY":this._x=f*u*d-c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d-f*h*m;break;case"ZYX":this._x=f*u*d-c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d+f*h*m;break;case"YZX":this._x=f*u*d+c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d-f*h*m;break;case"XZY":this._x=f*u*d-c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d+f*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],s=n[4],r=n[8],a=n[1],o=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=i+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(r-c)*h,this._z=(a-s)*h}else if(i>o&&i>d){const h=2*Math.sqrt(1+i-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(s+a)/h,this._z=(r+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-i-d);this._w=(r-c)/h,this._x=(s+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-i-o);this._w=(a-s)/h,this._x=(r+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(bt(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,n/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,s=e._y,r=e._z,a=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+a*o+s*c-r*l,this._y=s*u+a*l+r*o-i*c,this._z=r*u+a*c+i*l-s*o,this._w=a*u-i*o-s*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,s=this._y,r=this._z,a=this._w;let o=a*e._w+i*e._x+s*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=s,this._z=r,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*i+n*this._x,this._y=h*s+n*this._y,this._z=h*r+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=a*d+this._w*f,this._x=i*d+this._x*f,this._y=s*d+this._y*f,this._z=r*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(n),r*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,i=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(kS.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(kS.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6]*s,this.y=r[1]*n+r[4]*i+r[7]*s,this.z=r[2]*n+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=e.elements,a=1/(r[3]*n+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*n+r[4]*i+r[8]*s+r[12])*a,this.y=(r[1]*n+r[5]*i+r[9]*s+r[13])*a,this.z=(r[2]*n+r[6]*i+r[10]*s+r[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,s=this.z,r=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*s-o*i),u=2*(o*n-r*s),d=2*(r*i-a*n);return this.x=n+l*c+a*d-o*u,this.y=i+l*u+o*c-r*d,this.z=s+l*d+r*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[4]*i+r[8]*s,this.y=r[1]*n+r[5]*i+r[9]*s,this.z=r[2]*n+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=bt(this.x,e.x,n.x),this.y=bt(this.y,e.y,n.y),this.z=bt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=bt(this.x,e,n),this.y=bt(this.y,e,n),this.z=bt(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(bt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,s=e.y,r=e.z,a=n.x,o=n.y,l=n.z;return this.x=s*l-r*o,this.y=r*a-i*l,this.z=i*o-s*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Mg.copy(this).projectOnVector(e),this.sub(Mg)}reflect(e){return this.sub(Mg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(bt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return n*n+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const s=Math.sin(n)*e;return this.x=s*Math.sin(i),this.y=Math.cos(n)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Mg=new G,kS=new ei;class ti{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Ns.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Ns.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Ns.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(n===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=r.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Ns):Ns.fromBufferAttribute(r,a),Ns.applyMatrix4(e.matrixWorld),this.expandByPoint(Ns);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),jf.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),jf.copy(i.boundingBox)),jf.applyMatrix4(e.matrixWorld),this.union(jf)}const s=e.children;for(let r=0,a=s.length;r<a;r++)this.expandByObject(s[r],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ns),Ns.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(bu),Xf.subVectors(this.max,bu),Hl.subVectors(e.a,bu),Gl.subVectors(e.b,bu),Wl.subVectors(e.c,bu),ya.subVectors(Gl,Hl),ba.subVectors(Wl,Gl),co.subVectors(Hl,Wl);let n=[0,-ya.z,ya.y,0,-ba.z,ba.y,0,-co.z,co.y,ya.z,0,-ya.x,ba.z,0,-ba.x,co.z,0,-co.x,-ya.y,ya.x,0,-ba.y,ba.x,0,-co.y,co.x,0];return!Cg(n,Hl,Gl,Wl,Xf)||(n=[1,0,0,0,1,0,0,0,1],!Cg(n,Hl,Gl,Wl,Xf))?!1:(Yf.crossVectors(ya,ba),n=[Yf.x,Yf.y,Yf.z],Cg(n,Hl,Gl,Wl,Xf))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ns).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ns).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(kr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),kr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),kr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),kr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),kr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),kr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),kr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),kr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(kr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const kr=[new G,new G,new G,new G,new G,new G,new G,new G],Ns=new G,jf=new ti,Hl=new G,Gl=new G,Wl=new G,ya=new G,ba=new G,co=new G,bu=new G,Xf=new G,Yf=new G,uo=new G;function Cg(t,e,n,i,s){for(let r=0,a=t.length-3;r<=a;r+=3){uo.fromArray(t,r);const o=s.x*Math.abs(uo.x)+s.y*Math.abs(uo.y)+s.z*Math.abs(uo.z),l=e.dot(uo),c=n.dot(uo),u=i.dot(uo);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const GN=new ti,_u=new G,Tg=new G;class ni{constructor(e=new G,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):GN.setFromPoints(e).getCenter(i);let s=0;for(let r=0,a=e.length;r<a;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_u.subVectors(e,this.center);const n=_u.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),s=(i-this.radius)*.5;this.center.addScaledVector(_u,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Tg.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_u.copy(e.center).add(Tg)),this.expandByPoint(_u.copy(e.center).sub(Tg))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Dr=new G,Eg=new G,qf=new G,_a=new G,Ag=new G,Kf=new G,Pg=new G;class Cl{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Dr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Dr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Dr.copy(this.origin).addScaledVector(this.direction,n),Dr.distanceToSquared(e))}distanceSqToSegment(e,n,i,s){Eg.copy(e).add(n).multiplyScalar(.5),qf.copy(n).sub(e).normalize(),_a.copy(this.origin).sub(Eg);const r=e.distanceTo(n)*.5,a=-this.direction.dot(qf),o=_a.dot(this.direction),l=-_a.dot(qf),c=_a.lengthSq(),u=Math.abs(1-a*a);let d,f,h,m;if(u>0)if(d=a*l-o,f=a*o-l,m=r*u,d>=0)if(f>=-m)if(f<=m){const g=1/u;d*=g,f*=g,h=d*(d+a*f+2*o)+f*(a*d+f+2*l)+c}else f=r,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*l)+c;else f=-r,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-m?(d=Math.max(0,-(-a*r+o)),f=d>0?-r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c):f<=m?(d=0,f=Math.min(Math.max(-r,-l),r),h=f*(f+2*l)+c):(d=Math.max(0,-(a*r+o)),f=d>0?r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c);else f=a>0?-r:r,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),s&&s.copy(Eg).addScaledVector(qf,f),h}intersectSphere(e,n){Dr.subVectors(e.center,this.origin);const i=Dr.dot(this.direction),s=Dr.dot(Dr)-i*i,r=e.radius*e.radius;if(s>r)return null;const a=Math.sqrt(r-s),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,s,r,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,s=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,s=(e.min.x-f.x)*c),u>=0?(r=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(r=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),i>a||r>s||((r>i||isNaN(i))&&(i=r),(a<s||isNaN(s))&&(s=a),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||o>s)||((o>i||i!==i)&&(i=o),(l<s||s!==s)&&(s=l),s<0)?null:this.at(i>=0?i:s,n)}intersectsBox(e){return this.intersectBox(e,Dr)!==null}intersectTriangle(e,n,i,s,r){Ag.subVectors(n,e),Kf.subVectors(i,e),Pg.crossVectors(Ag,Kf);let a=this.direction.dot(Pg),o;if(a>0){if(s)return null;o=1}else if(a<0)o=-1,a=-a;else return null;_a.subVectors(this.origin,e);const l=o*this.direction.dot(Kf.crossVectors(_a,Kf));if(l<0)return null;const c=o*this.direction.dot(Ag.cross(_a));if(c<0||l+c>a)return null;const u=-o*_a.dot(Pg);return u<0?null:this.at(u/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class at{constructor(e,n,i,s,r,a,o,l,c,u,d,f,h,m,g,p){at.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,a,o,l,c,u,d,f,h,m,g,p)}set(e,n,i,s,r,a,o,l,c,u,d,f,h,m,g,p){const v=this.elements;return v[0]=e,v[4]=n,v[8]=i,v[12]=s,v[1]=r,v[5]=a,v[9]=o,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=h,v[7]=m,v[11]=g,v[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new at().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,s=1/$l.setFromMatrixColumn(e,0).length(),r=1/$l.setFromMatrixColumn(e,1).length(),a=1/$l.setFromMatrixColumn(e,2).length();return n[0]=i[0]*s,n[1]=i[1]*s,n[2]=i[2]*s,n[3]=0,n[4]=i[4]*r,n[5]=i[5]*r,n[6]=i[6]*r,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,s=e.y,r=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(s),c=Math.sin(s),u=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const f=a*u,h=a*d,m=o*u,g=o*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+m*c,n[5]=f-g*c,n[9]=-o*l,n[2]=g-f*c,n[6]=m+h*c,n[10]=a*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,m=c*u,g=c*d;n[0]=f+g*o,n[4]=m*o-h,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-o,n[2]=h*o-m,n[6]=g+f*o,n[10]=a*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,m=c*u,g=c*d;n[0]=f-g*o,n[4]=-a*d,n[8]=m+h*o,n[1]=h+m*o,n[5]=a*u,n[9]=g-f*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const f=a*u,h=a*d,m=o*u,g=o*d;n[0]=l*u,n[4]=m*c-h,n[8]=f*c+g,n[1]=l*d,n[5]=g*c+f,n[9]=h*c-m,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,h=a*c,m=o*l,g=o*c;n[0]=l*u,n[4]=g-f*d,n[8]=m*d+h,n[1]=d,n[5]=a*u,n[9]=-o*u,n[2]=-c*u,n[6]=h*d+m,n[10]=f-g*d}else if(e.order==="XZY"){const f=a*l,h=a*c,m=o*l,g=o*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+g,n[5]=a*u,n[9]=h*d-m,n[2]=m*d-h,n[6]=o*u,n[10]=g*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(WN,e,$N)}lookAt(e,n,i){const s=this.elements;return rs.subVectors(e,n),rs.lengthSq()===0&&(rs.z=1),rs.normalize(),xa.crossVectors(i,rs),xa.lengthSq()===0&&(Math.abs(i.z)===1?rs.x+=1e-4:rs.z+=1e-4,rs.normalize(),xa.crossVectors(i,rs)),xa.normalize(),Zf.crossVectors(rs,xa),s[0]=xa.x,s[4]=Zf.x,s[8]=rs.x,s[1]=xa.y,s[5]=Zf.y,s[9]=rs.y,s[2]=xa.z,s[6]=Zf.z,s[10]=rs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],h=i[13],m=i[2],g=i[6],p=i[10],v=i[14],b=i[3],_=i[7],w=i[11],T=i[15],C=s[0],A=s[4],S=s[8],x=s[12],y=s[1],E=s[5],P=s[9],D=s[13],N=s[2],W=s[6],B=s[10],q=s[14],j=s[3],Q=s[7],Z=s[11],X=s[15];return r[0]=a*C+o*y+l*N+c*j,r[4]=a*A+o*E+l*W+c*Q,r[8]=a*S+o*P+l*B+c*Z,r[12]=a*x+o*D+l*q+c*X,r[1]=u*C+d*y+f*N+h*j,r[5]=u*A+d*E+f*W+h*Q,r[9]=u*S+d*P+f*B+h*Z,r[13]=u*x+d*D+f*q+h*X,r[2]=m*C+g*y+p*N+v*j,r[6]=m*A+g*E+p*W+v*Q,r[10]=m*S+g*P+p*B+v*Z,r[14]=m*x+g*D+p*q+v*X,r[3]=b*C+_*y+w*N+T*j,r[7]=b*A+_*E+w*W+T*Q,r[11]=b*S+_*P+w*B+T*Z,r[15]=b*x+_*D+w*q+T*X,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],s=e[8],r=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],m=e[3],g=e[7],p=e[11],v=e[15];return m*(+r*l*d-s*c*d-r*o*f+i*c*f+s*o*h-i*l*h)+g*(+n*l*h-n*c*f+r*a*f-s*a*h+s*c*u-r*l*u)+p*(+n*c*d-n*o*h-r*a*d+i*a*h+r*o*u-i*c*u)+v*(-s*o*u-n*l*d+n*o*f+s*a*d-i*a*f+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],m=e[12],g=e[13],p=e[14],v=e[15],b=d*p*c-g*f*c+g*l*h-o*p*h-d*l*v+o*f*v,_=m*f*c-u*p*c-m*l*h+a*p*h+u*l*v-a*f*v,w=u*g*c-m*d*c+m*o*h-a*g*h-u*o*v+a*d*v,T=m*d*l-u*g*l-m*o*f+a*g*f+u*o*p-a*d*p,C=n*b+i*_+s*w+r*T;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/C;return e[0]=b*A,e[1]=(g*f*r-d*p*r-g*s*h+i*p*h+d*s*v-i*f*v)*A,e[2]=(o*p*r-g*l*r+g*s*c-i*p*c-o*s*v+i*l*v)*A,e[3]=(d*l*r-o*f*r-d*s*c+i*f*c+o*s*h-i*l*h)*A,e[4]=_*A,e[5]=(u*p*r-m*f*r+m*s*h-n*p*h-u*s*v+n*f*v)*A,e[6]=(m*l*r-a*p*r-m*s*c+n*p*c+a*s*v-n*l*v)*A,e[7]=(a*f*r-u*l*r+u*s*c-n*f*c-a*s*h+n*l*h)*A,e[8]=w*A,e[9]=(m*d*r-u*g*r-m*i*h+n*g*h+u*i*v-n*d*v)*A,e[10]=(a*g*r-m*o*r+m*i*c-n*g*c-a*i*v+n*o*v)*A,e[11]=(u*o*r-a*d*r-u*i*c+n*d*c+a*i*h-n*o*h)*A,e[12]=T*A,e[13]=(u*g*s-m*d*s+m*i*f-n*g*f-u*i*p+n*d*p)*A,e[14]=(m*o*s-a*g*s-m*i*l+n*g*l+a*i*p-n*o*p)*A,e[15]=(a*d*s-u*o*s+u*i*l-n*d*l-a*i*f+n*o*f)*A,this}scale(e){const n=this.elements,i=e.x,s=e.y,r=e.z;return n[0]*=i,n[4]*=s,n[8]*=r,n[1]*=i,n[5]*=s,n[9]*=r,n[2]*=i,n[6]*=s,n[10]*=r,n[3]*=i,n[7]*=s,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,s))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),s=Math.sin(n),r=1-i,a=e.x,o=e.y,l=e.z,c=r*a,u=r*o;return this.set(c*a+i,c*o-s*l,c*l+s*o,0,c*o+s*l,u*o+i,u*l-s*a,0,c*l-s*o,u*l+s*a,r*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,s,r,a){return this.set(1,i,r,0,e,1,a,0,n,s,1,0,0,0,0,1),this}compose(e,n,i){const s=this.elements,r=n._x,a=n._y,o=n._z,l=n._w,c=r+r,u=a+a,d=o+o,f=r*c,h=r*u,m=r*d,g=a*u,p=a*d,v=o*d,b=l*c,_=l*u,w=l*d,T=i.x,C=i.y,A=i.z;return s[0]=(1-(g+v))*T,s[1]=(h+w)*T,s[2]=(m-_)*T,s[3]=0,s[4]=(h-w)*C,s[5]=(1-(f+v))*C,s[6]=(p+b)*C,s[7]=0,s[8]=(m+_)*A,s[9]=(p-b)*A,s[10]=(1-(f+g))*A,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,i){const s=this.elements;let r=$l.set(s[0],s[1],s[2]).length();const a=$l.set(s[4],s[5],s[6]).length(),o=$l.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],Vs.copy(this);const c=1/r,u=1/a,d=1/o;return Vs.elements[0]*=c,Vs.elements[1]*=c,Vs.elements[2]*=c,Vs.elements[4]*=u,Vs.elements[5]*=u,Vs.elements[6]*=u,Vs.elements[8]*=d,Vs.elements[9]*=d,Vs.elements[10]*=d,n.setFromRotationMatrix(Vs),i.x=r,i.y=a,i.z=o,this}makePerspective(e,n,i,s,r,a,o=zs){const l=this.elements,c=2*r/(n-e),u=2*r/(i-s),d=(n+e)/(n-e),f=(i+s)/(i-s);let h,m;if(o===zs)h=-(a+r)/(a-r),m=-2*a*r/(a-r);else if(o===wd)h=-a/(a-r),m=-a*r/(a-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,s,r,a,o=zs){const l=this.elements,c=1/(n-e),u=1/(i-s),d=1/(a-r),f=(n+e)*c,h=(i+s)*u;let m,g;if(o===zs)m=(a+r)*d,g=-2*d;else if(o===wd)m=r*d,g=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=g,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<16;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const $l=new G,Vs=new at,WN=new G(0,0,0),$N=new G(1,1,1),xa=new G,Zf=new G,rs=new G,DS=new at,OS=new ei;class Hi{constructor(e=0,n=0,i=0,s=Hi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,s=this._order){return this._x=e,this._y=n,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const s=e.elements,r=s[0],a=s[4],o=s[8],l=s[1],c=s[5],u=s[9],d=s[2],f=s[6],h=s[10];switch(n){case"XYZ":this._y=Math.asin(bt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-bt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(bt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-bt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(bt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-bt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return DS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(DS,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return OS.setFromEuler(this),this.setFromQuaternion(OS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Hi.DEFAULT_ORDER="XYZ";class Yp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let jN=0;const NS=new G,jl=new ei,Or=new at,Jf=new G,xu=new G,XN=new G,YN=new ei,VS=new G(1,0,0),FS=new G(0,1,0),BS=new G(0,0,1),US={type:"added"},qN={type:"removed"},Xl={type:"childadded",child:null},Ig={type:"childremoved",child:null};class Nt extends Ks{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jN++}),this.uuid=fs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Nt.DEFAULT_UP.clone();const e=new G,n=new Hi,i=new ei,s=new G(1,1,1);function r(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new at},normalMatrix:{value:new wt}}),this.matrix=new at,this.matrixWorld=new at,this.matrixAutoUpdate=Nt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Nt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Yp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return jl.setFromAxisAngle(e,n),this.quaternion.multiply(jl),this}rotateOnWorldAxis(e,n){return jl.setFromAxisAngle(e,n),this.quaternion.premultiply(jl),this}rotateX(e){return this.rotateOnAxis(VS,e)}rotateY(e){return this.rotateOnAxis(FS,e)}rotateZ(e){return this.rotateOnAxis(BS,e)}translateOnAxis(e,n){return NS.copy(e).applyQuaternion(this.quaternion),this.position.add(NS.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(VS,e)}translateY(e){return this.translateOnAxis(FS,e)}translateZ(e){return this.translateOnAxis(BS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Or.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Jf.copy(e):Jf.set(e,n,i);const s=this.parent;this.updateWorldMatrix(!0,!1),xu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Or.lookAt(xu,Jf,this.up):Or.lookAt(Jf,xu,this.up),this.quaternion.setFromRotationMatrix(Or),s&&(Or.extractRotation(s.matrixWorld),jl.setFromRotationMatrix(Or),this.quaternion.premultiply(jl.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(US),Xl.child=e,this.dispatchEvent(Xl),Xl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qN),Ig.child=e,this.dispatchEvent(Ig),Ig.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Or.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Or.multiply(e.parent.matrixWorld)),e.applyMatrix4(Or),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(US),Xl.child=e,this.dispatchEvent(Xl),Xl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xu,e,XN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xu,YN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function r(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];r(e.shapes,d)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(r(e.materials,this.material[l]));s.material=o}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let o=0;o<this.children.length;o++)s.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];s.animations.push(r(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),f=a(e.skeletons),h=a(e.animations),m=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),h.length>0&&(i.animations=h),m.length>0&&(i.nodes=m)}return i.object=s,i;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}Nt.DEFAULT_UP=new G(0,1,0);Nt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Nt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Fs=new G,Nr=new G,Rg=new G,Vr=new G,Yl=new G,ql=new G,zS=new G,Lg=new G,kg=new G,Dg=new G,Og=new Et,Ng=new Et,Vg=new Et;class Vi{constructor(e=new G,n=new G,i=new G){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,s){s.subVectors(i,n),Fs.subVectors(e,n),s.cross(Fs);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,n,i,s,r){Fs.subVectors(s,n),Nr.subVectors(i,n),Rg.subVectors(e,n);const a=Fs.dot(Fs),o=Fs.dot(Nr),l=Fs.dot(Rg),c=Nr.dot(Nr),u=Nr.dot(Rg),d=a*c-o*o;if(d===0)return r.set(0,0,0),null;const f=1/d,h=(c*l-o*u)*f,m=(a*u-o*l)*f;return r.set(1-h-m,m,h)}static containsPoint(e,n,i,s){return this.getBarycoord(e,n,i,s,Vr)===null?!1:Vr.x>=0&&Vr.y>=0&&Vr.x+Vr.y<=1}static getInterpolation(e,n,i,s,r,a,o,l){return this.getBarycoord(e,n,i,s,Vr)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,Vr.x),l.addScaledVector(a,Vr.y),l.addScaledVector(o,Vr.z),l)}static getInterpolatedAttribute(e,n,i,s,r,a){return Og.setScalar(0),Ng.setScalar(0),Vg.setScalar(0),Og.fromBufferAttribute(e,n),Ng.fromBufferAttribute(e,i),Vg.fromBufferAttribute(e,s),a.setScalar(0),a.addScaledVector(Og,r.x),a.addScaledVector(Ng,r.y),a.addScaledVector(Vg,r.z),a}static isFrontFacing(e,n,i,s){return Fs.subVectors(i,n),Nr.subVectors(e,n),Fs.cross(Nr).dot(s)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,s){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,i,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fs.subVectors(this.c,this.b),Nr.subVectors(this.a,this.b),Fs.cross(Nr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Vi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,s,r){return Vi.getInterpolation(e,this.a,this.b,this.c,n,i,s,r)}containsPoint(e){return Vi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,s=this.b,r=this.c;let a,o;Yl.subVectors(s,i),ql.subVectors(r,i),Lg.subVectors(e,i);const l=Yl.dot(Lg),c=ql.dot(Lg);if(l<=0&&c<=0)return n.copy(i);kg.subVectors(e,s);const u=Yl.dot(kg),d=ql.dot(kg);if(u>=0&&d<=u)return n.copy(s);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(i).addScaledVector(Yl,a);Dg.subVectors(e,r);const h=Yl.dot(Dg),m=ql.dot(Dg);if(m>=0&&h<=m)return n.copy(r);const g=h*c-l*m;if(g<=0&&c>=0&&m<=0)return o=c/(c-m),n.copy(i).addScaledVector(ql,o);const p=u*m-h*d;if(p<=0&&d-u>=0&&h-m>=0)return zS.subVectors(r,s),o=(d-u)/(d-u+(h-m)),n.copy(s).addScaledVector(zS,o);const v=1/(p+g+f);return a=g*v,o=f*v,n.copy(i).addScaledVector(Yl,a).addScaledVector(ql,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const DA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wa={h:0,s:0,l:0},Qf={h:0,s:0,l:0};function Fg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Be{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Li){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vt.toWorkingColorSpace(this,n),this}setRGB(e,n,i,s=Vt.workingColorSpace){return this.r=e,this.g=n,this.b=i,Vt.toWorkingColorSpace(this,s),this}setHSL(e,n,i,s=Vt.workingColorSpace){if(e=y_(e,1),n=bt(n,0,1),i=bt(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,a=2*i-r;this.r=Fg(a,r,e+1/3),this.g=Fg(a,r,e),this.b=Fg(a,r,e-1/3)}return Vt.toWorkingColorSpace(this,s),this}setStyle(e,n=Li){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=s[1],o=s[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],a=r.length;if(a===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Li){const i=DA[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Zr(e.r),this.g=Zr(e.g),this.b=Zr(e.b),this}copyLinearToSRGB(e){return this.r=Ac(e.r),this.g=Ac(e.g),this.b=Ac(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Li){return Vt.fromWorkingColorSpace(mi.copy(this),e),Math.round(bt(mi.r*255,0,255))*65536+Math.round(bt(mi.g*255,0,255))*256+Math.round(bt(mi.b*255,0,255))}getHexString(e=Li){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Vt.workingColorSpace){Vt.fromWorkingColorSpace(mi.copy(this),n);const i=mi.r,s=mi.g,r=mi.b,a=Math.max(i,s,r),o=Math.min(i,s,r);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const d=a-o;switch(c=u<=.5?d/(a+o):d/(2-a-o),a){case i:l=(s-r)/d+(s<r?6:0);break;case s:l=(r-i)/d+2;break;case r:l=(i-s)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Vt.workingColorSpace){return Vt.fromWorkingColorSpace(mi.copy(this),n),e.r=mi.r,e.g=mi.g,e.b=mi.b,e}getStyle(e=Li){Vt.fromWorkingColorSpace(mi.copy(this),e);const n=mi.r,i=mi.g,s=mi.b;return e!==Li?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,n,i){return this.getHSL(wa),this.setHSL(wa.h+e,wa.s+n,wa.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(wa),e.getHSL(Qf);const i=nd(wa.h,Qf.h,n),s=nd(wa.s,Qf.s,n),r=nd(wa.l,Qf.l,n);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*n+r[3]*i+r[6]*s,this.g=r[1]*n+r[4]*i+r[7]*s,this.b=r[2]*n+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const mi=new Be;Be.NAMES=DA;let KN=0;class $n extends Ks{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:KN++}),this.uuid=fs(),this.name="",this.type="Material",this.blending=Wo,this.side=vr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Tm,this.blendDst=Em,this.blendEquation=Na,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Be(0,0,0),this.blendAlpha=0,this.depthFunc=sl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=f0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ro,this.stencilZFail=Ro,this.stencilZPass=Ro,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Wo&&(i.blending=this.blending),this.side!==vr&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Tm&&(i.blendSrc=this.blendSrc),this.blendDst!==Em&&(i.blendDst=this.blendDst),this.blendEquation!==Na&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==sl&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==f0&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ro&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Ro&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Ro&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const a=[];for(const o in r){const l=r[o];delete l.metadata,a.push(l)}return a}if(n){const r=s(e.textures),a=s(e.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const s=n.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=n[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Fi extends $n{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hi,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $r=ZN();function ZN(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),s=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,s[l]=24,s[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,s[l]=-c-1,s[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,s[l]=13,s[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,s[l]=24,s[l|256]=24):(i[l]=31744,i[l|256]=64512,s[l]=13,s[l|256]=13)}const r=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,r[l]=c|u}for(let l=1024;l<2048;++l)r[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:a,offsetTable:o}}function qi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=bt(t,-65504,65504),$r.floatView[0]=t;const e=$r.uint32View[0],n=e>>23&511;return $r.baseTable[n]+((e&8388607)>>$r.shiftTable[n])}function Uu(t){const e=t>>10;return $r.uint32View[0]=$r.mantissaTable[$r.offsetTable[e]+(t&1023)]+$r.exponentTable[e],$r.floatView[0]}const JN={toHalfFloat:qi,fromHalfFloat:Uu},Bn=new G,eh=new Ae;let QN=0;class Pt{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:QN++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=xd,this.updateRanges=[],this.gpuType=Qi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=n.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)eh.fromBufferAttribute(this,n),eh.applyMatrix3(e),this.setXY(n,eh.x,eh.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Bn.fromBufferAttribute(this,n),Bn.applyMatrix3(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Bn.fromBufferAttribute(this,n),Bn.applyMatrix4(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Bn.fromBufferAttribute(this,n),Bn.applyNormalMatrix(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Bn.fromBufferAttribute(this,n),Bn.transformDirection(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Ni(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Mt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ni(n,this.array)),n}setX(e,n){return this.normalized&&(n=Mt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ni(n,this.array)),n}setY(e,n){return this.normalized&&(n=Mt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ni(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Mt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ni(n,this.array)),n}setW(e,n){return this.normalized&&(n=Mt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array),s=Mt(s,this.array),r=Mt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xd&&(e.usage=this.usage),e}}class eV extends Pt{constructor(e,n,i){super(new Int8Array(e),n,i)}}class tV extends Pt{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class nV extends Pt{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class iV extends Pt{constructor(e,n,i){super(new Int16Array(e),n,i)}}class b_ extends Pt{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class sV extends Pt{constructor(e,n,i){super(new Int32Array(e),n,i)}}class __ extends Pt{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class rV extends Pt{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Uu(this.array[e*this.itemSize]);return this.normalized&&(n=Ni(n,this.array)),n}setX(e,n){return this.normalized&&(n=Mt(n,this.array)),this.array[e*this.itemSize]=qi(n),this}getY(e){let n=Uu(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ni(n,this.array)),n}setY(e,n){return this.normalized&&(n=Mt(n,this.array)),this.array[e*this.itemSize+1]=qi(n),this}getZ(e){let n=Uu(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ni(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Mt(n,this.array)),this.array[e*this.itemSize+2]=qi(n),this}getW(e){let n=Uu(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ni(n,this.array)),n}setW(e,n){return this.normalized&&(n=Mt(n,this.array)),this.array[e*this.itemSize+3]=qi(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array)),this.array[e+0]=qi(n),this.array[e+1]=qi(i),this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.array[e+0]=qi(n),this.array[e+1]=qi(i),this.array[e+2]=qi(s),this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array),s=Mt(s,this.array),r=Mt(r,this.array)),this.array[e+0]=qi(n),this.array[e+1]=qi(i),this.array[e+2]=qi(s),this.array[e+3]=qi(r),this}}class nt extends Pt{constructor(e,n,i){super(new Float32Array(e),n,i)}}let aV=0;const ws=new at,Bg=new Nt,Kl=new G,as=new ti,wu=new ti,Zn=new G;class xt extends Ks{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:aV++}),this.uuid=fs(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(RA(e)?__:b_)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new wt().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ws.makeRotationFromQuaternion(e),this.applyMatrix4(ws),this}rotateX(e){return ws.makeRotationX(e),this.applyMatrix4(ws),this}rotateY(e){return ws.makeRotationY(e),this.applyMatrix4(ws),this}rotateZ(e){return ws.makeRotationZ(e),this.applyMatrix4(ws),this}translate(e,n,i){return ws.makeTranslation(e,n,i),this.applyMatrix4(ws),this}scale(e,n,i){return ws.makeScale(e,n,i),this.applyMatrix4(ws),this}lookAt(e){return Bg.lookAt(e),Bg.updateMatrix(),this.applyMatrix4(Bg.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kl).negate(),this.translate(Kl.x,Kl.y,Kl.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let s=0,r=e.length;s<r;s++){const a=e[s];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new nt(i,3))}else{const i=Math.min(e.length,n.count);for(let s=0;s<i;s++){const r=e[s];n.setXYZ(s,r.x,r.y,r.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ti);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,s=n.length;i<s;i++){const r=n[i];as.setFromBufferAttribute(r),this.morphTargetsRelative?(Zn.addVectors(this.boundingBox.min,as.min),this.boundingBox.expandByPoint(Zn),Zn.addVectors(this.boundingBox.max,as.max),this.boundingBox.expandByPoint(Zn)):(this.boundingBox.expandByPoint(as.min),this.boundingBox.expandByPoint(as.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ni);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new G,1/0);return}if(e){const i=this.boundingSphere.center;if(as.setFromBufferAttribute(e),n)for(let r=0,a=n.length;r<a;r++){const o=n[r];wu.setFromBufferAttribute(o),this.morphTargetsRelative?(Zn.addVectors(as.min,wu.min),as.expandByPoint(Zn),Zn.addVectors(as.max,wu.max),as.expandByPoint(Zn)):(as.expandByPoint(wu.min),as.expandByPoint(wu.max))}as.getCenter(i);let s=0;for(let r=0,a=e.count;r<a;r++)Zn.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(Zn));if(n)for(let r=0,a=n.length;r<a;r++){const o=n[r],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Zn.fromBufferAttribute(o,c),l&&(Kl.fromBufferAttribute(e,c),Zn.add(Kl)),s=Math.max(s,i.distanceToSquared(Zn))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,s=n.normal,r=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Pt(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let S=0;S<i.count;S++)o[S]=new G,l[S]=new G;const c=new G,u=new G,d=new G,f=new Ae,h=new Ae,m=new Ae,g=new G,p=new G;function v(S,x,y){c.fromBufferAttribute(i,S),u.fromBufferAttribute(i,x),d.fromBufferAttribute(i,y),f.fromBufferAttribute(r,S),h.fromBufferAttribute(r,x),m.fromBufferAttribute(r,y),u.sub(c),d.sub(c),h.sub(f),m.sub(f);const E=1/(h.x*m.y-m.x*h.y);isFinite(E)&&(g.copy(u).multiplyScalar(m.y).addScaledVector(d,-h.y).multiplyScalar(E),p.copy(d).multiplyScalar(h.x).addScaledVector(u,-m.x).multiplyScalar(E),o[S].add(g),o[x].add(g),o[y].add(g),l[S].add(p),l[x].add(p),l[y].add(p))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let S=0,x=b.length;S<x;++S){const y=b[S],E=y.start,P=y.count;for(let D=E,N=E+P;D<N;D+=3)v(e.getX(D+0),e.getX(D+1),e.getX(D+2))}const _=new G,w=new G,T=new G,C=new G;function A(S){T.fromBufferAttribute(s,S),C.copy(T);const x=o[S];_.copy(x),_.sub(T.multiplyScalar(T.dot(x))).normalize(),w.crossVectors(C,x);const E=w.dot(l[S])<0?-1:1;a.setXYZW(S,_.x,_.y,_.z,E)}for(let S=0,x=b.length;S<x;++S){const y=b[S],E=y.start,P=y.count;for(let D=E,N=E+P;D<N;D+=3)A(e.getX(D+0)),A(e.getX(D+1)),A(e.getX(D+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Pt(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const s=new G,r=new G,a=new G,o=new G,l=new G,c=new G,u=new G,d=new G;if(e)for(let f=0,h=e.count;f<h;f+=3){const m=e.getX(f+0),g=e.getX(f+1),p=e.getX(f+2);s.fromBufferAttribute(n,m),r.fromBufferAttribute(n,g),a.fromBufferAttribute(n,p),u.subVectors(a,r),d.subVectors(s,r),u.cross(d),o.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,p),o.add(u),l.add(u),c.add(u),i.setXYZ(m,o.x,o.y,o.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(p,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)s.fromBufferAttribute(n,f+0),r.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),u.subVectors(a,r),d.subVectors(s,r),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Zn.fromBufferAttribute(e,n),Zn.normalize(),e.setXYZ(n,Zn.x,Zn.y,Zn.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,m=0;for(let g=0,p=l.length;g<p;g++){o.isInterleavedBufferAttribute?h=l[g]*o.data.stride+o.offset:h=l[g]*u;for(let v=0;v<u;v++)f[m++]=c[h++]}return new Pt(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new xt,i=this.index.array,s=this.attributes;for(const o in s){const l=s[o],c=e(l,i);n.setAttribute(o,c)}const r=this.morphAttributes;for(const o in r){const l=[],c=r[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,i);l.push(h)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(s[l]=u,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const s=e.attributes;for(const c in s){const u=s[c];this.setAttribute(c,u.clone(n))}const r=e.morphAttributes;for(const c in r){const u=[],d=r[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const HS=new at,fo=new Cl,th=new ni,GS=new G,nh=new G,ih=new G,sh=new G,Ug=new G,rh=new G,WS=new G,ah=new G;class an extends Nt{constructor(e=new xt,n=new Fi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}getVertexPosition(e,n){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,a=i.morphTargetsRelative;n.fromBufferAttribute(s,e);const o=this.morphTargetInfluences;if(r&&o){rh.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const u=o[l],d=r[l];u!==0&&(Ug.fromBufferAttribute(d,e),a?rh.addScaledVector(Ug,u):rh.addScaledVector(Ug.sub(n),u))}n.add(rh)}return n}raycast(e,n){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),th.copy(i.boundingSphere),th.applyMatrix4(r),fo.copy(e.ray).recast(e.near),!(th.containsPoint(fo.origin)===!1&&(fo.intersectSphere(th,GS)===null||fo.origin.distanceToSquared(GS)>(e.far-e.near)**2))&&(HS.copy(r).invert(),fo.copy(e.ray).applyMatrix4(HS),!(i.boundingBox!==null&&fo.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,fo)))}_computeIntersections(e,n,i){let s;const r=this.geometry,a=this.material,o=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv1,d=r.attributes.normal,f=r.groups,h=r.drawRange;if(o!==null)if(Array.isArray(a))for(let m=0,g=f.length;m<g;m++){const p=f[m],v=a[p.materialIndex],b=Math.max(p.start,h.start),_=Math.min(o.count,Math.min(p.start+p.count,h.start+h.count));for(let w=b,T=_;w<T;w+=3){const C=o.getX(w),A=o.getX(w+1),S=o.getX(w+2);s=oh(this,v,e,i,c,u,d,C,A,S),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=p.materialIndex,n.push(s))}}else{const m=Math.max(0,h.start),g=Math.min(o.count,h.start+h.count);for(let p=m,v=g;p<v;p+=3){const b=o.getX(p),_=o.getX(p+1),w=o.getX(p+2);s=oh(this,a,e,i,c,u,d,b,_,w),s&&(s.faceIndex=Math.floor(p/3),n.push(s))}}else if(l!==void 0)if(Array.isArray(a))for(let m=0,g=f.length;m<g;m++){const p=f[m],v=a[p.materialIndex],b=Math.max(p.start,h.start),_=Math.min(l.count,Math.min(p.start+p.count,h.start+h.count));for(let w=b,T=_;w<T;w+=3){const C=w,A=w+1,S=w+2;s=oh(this,v,e,i,c,u,d,C,A,S),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=p.materialIndex,n.push(s))}}else{const m=Math.max(0,h.start),g=Math.min(l.count,h.start+h.count);for(let p=m,v=g;p<v;p+=3){const b=p,_=p+1,w=p+2;s=oh(this,a,e,i,c,u,d,b,_,w),s&&(s.faceIndex=Math.floor(p/3),n.push(s))}}}}function oV(t,e,n,i,s,r,a,o){let l;if(e.side===_i?l=i.intersectTriangle(a,r,s,!0,o):l=i.intersectTriangle(s,r,a,e.side===vr,o),l===null)return null;ah.copy(o),ah.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(ah);return c<n.near||c>n.far?null:{distance:c,point:ah.clone(),object:t}}function oh(t,e,n,i,s,r,a,o,l,c){t.getVertexPosition(o,nh),t.getVertexPosition(l,ih),t.getVertexPosition(c,sh);const u=oV(t,e,n,i,nh,ih,sh,WS);if(u){const d=new G;Vi.getBarycoord(WS,nh,ih,sh,d),s&&(u.uv=Vi.getInterpolatedAttribute(s,o,l,c,d,new Ae)),r&&(u.uv1=Vi.getInterpolatedAttribute(r,o,l,c,d,new Ae)),a&&(u.normal=Vi.getInterpolatedAttribute(a,o,l,c,d,new G),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new G,materialIndex:0};Vi.getNormal(nh,ih,sh,f.normal),u.face=f,u.barycoord=d}return u}class Za extends xt{constructor(e=1,n=1,i=1,s=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:r,depthSegments:a};const o=this;s=Math.floor(s),r=Math.floor(r),a=Math.floor(a);const l=[],c=[],u=[],d=[];let f=0,h=0;m("z","y","x",-1,-1,i,n,e,a,r,0),m("z","y","x",1,-1,i,n,-e,a,r,1),m("x","z","y",1,1,e,i,n,s,a,2),m("x","z","y",1,-1,e,i,-n,s,a,3),m("x","y","z",1,-1,e,n,i,s,r,4),m("x","y","z",-1,-1,e,n,-i,s,r,5),this.setIndex(l),this.setAttribute("position",new nt(c,3)),this.setAttribute("normal",new nt(u,3)),this.setAttribute("uv",new nt(d,2));function m(g,p,v,b,_,w,T,C,A,S,x){const y=w/A,E=T/S,P=w/2,D=T/2,N=C/2,W=A+1,B=S+1;let q=0,j=0;const Q=new G;for(let Z=0;Z<B;Z++){const X=Z*E-D;for(let ce=0;ce<W;ce++){const Me=ce*y-P;Q[g]=Me*b,Q[p]=X*_,Q[v]=N,c.push(Q.x,Q.y,Q.z),Q[g]=0,Q[p]=0,Q[v]=C>0?1:-1,u.push(Q.x,Q.y,Q.z),d.push(ce/A),d.push(1-Z/S),q+=1}}for(let Z=0;Z<S;Z++)for(let X=0;X<A;X++){const ce=f+X+W*Z,Me=f+X+W*(Z+1),ee=f+(X+1)+W*(Z+1),pe=f+(X+1)+W*Z;l.push(ce,Me,pe),l.push(Me,ee,pe),j+=6}o.addGroup(h,j,x),h+=j,f+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Za(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bc(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const s=t[n][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=s.clone():Array.isArray(s)?e[n][i]=s.slice():e[n][i]=s}}return e}function Ai(t){const e={};for(let n=0;n<t.length;n++){const i=Bc(t[n]);for(const s in i)e[s]=i[s]}return e}function lV(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function OA(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Vt.workingColorSpace}const sf={clone:Bc,merge:Ai};var cV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,uV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Gi extends $n{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=cV,this.fragmentShader=uV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bc(e.uniforms),this.uniformsGroups=lV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;a&&a.isTexture?n.uniforms[s]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[s]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[s]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[s]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[s]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[s]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[s]={type:"m4",value:a.toArray()}:n.uniforms[s]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class rf extends Nt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new at,this.projectionMatrix=new at,this.projectionMatrixInverse=new at,this.coordinateSystem=zs}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Sa=new G,$S=new Ae,jS=new Ae;class tn extends rf{constructor(e=50,n=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Fc*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xo*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Fc*2*Math.atan(Math.tan(Xo*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Sa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Sa.x,Sa.y).multiplyScalar(-e/Sa.z),Sa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Sa.x,Sa.y).multiplyScalar(-e/Sa.z)}getViewSize(e,n){return this.getViewBounds(e,$S,jS),n.subVectors(jS,$S)}setViewOffset(e,n,i,s,r,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Xo*.5*this.fov)/this.zoom,i=2*n,s=this.aspect*i,r=-.5*s;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;r+=a.offsetX*s/l,n-=a.offsetY*i/c,s*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(r+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Zl=-90,Jl=1;class NA extends Nt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new tn(Zl,Jl,e,n);s.layers=this.layers,this.add(s);const r=new tn(Zl,Jl,e,n);r.layers=this.layers,this.add(r);const a=new tn(Zl,Jl,e,n);a.layers=this.layers,this.add(a);const o=new tn(Zl,Jl,e,n);o.layers=this.layers,this.add(o);const l=new tn(Zl,Jl,e,n);l.layers=this.layers,this.add(l);const c=new tn(Zl,Jl,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,s,r,a,o,l]=n;for(const c of n)this.remove(c);if(e===zs)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===wd)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,a,o,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(n,r),e.setRenderTarget(i,1,s),e.render(n,a),e.setRenderTarget(i,2,s),e.render(n,o),e.setRenderTarget(i,3,s),e.render(n,l),e.setRenderTarget(i,4,s),e.render(n,c),i.texture.generateMipmaps=g,e.setRenderTarget(i,5,s),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=m,i.texture.needsPMREMUpdate=!0}}class af extends dn{constructor(e,n,i,s,r,a,o,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:na,super(e,n,i,s,r,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class VA extends js{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new af(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:In}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Za(5,5,5),r=new Gi({name:"CubemapFromEquirect",uniforms:Bc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:_i,blending:qr});r.uniforms.tEquirect.value=n;const a=new an(s,r),o=n.minFilter;return n.minFilter===cs&&(n.minFilter=In),new NA(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,i,s){const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,s);e.setRenderTarget(r)}}class jr extends Nt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dV={type:"move"};class sm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new jr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new jr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new jr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let s=null,r=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const g of e.hand.values()){const p=n.getJointPose(g,i),v=this._getHandJoint(c,g);p!==null&&(v.matrix.fromArray(p.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=p.radius),v.visible=p!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,m=.005;c.inputState.pinching&&f>h+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,i),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(s=n.getPose(e.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(o.matrix.fromArray(s.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,s.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(s.linearVelocity)):o.hasLinearVelocity=!1,s.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(s.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(dV)))}return o!==null&&(o.visible=s!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new jr;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class qp{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Be(e),this.density=n}clone(){return new qp(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Kp{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Be(e),this.near=n,this.far=i}clone(){return new Kp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Uc extends Nt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Hi,this.environmentIntensity=1,this.environmentRotation=new Hi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class nu{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=xd,this.updateRanges=[],this.version=0,this.uuid=fs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=n.array[i+s];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ti=new G;class gr{constructor(e,n,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Ti.fromBufferAttribute(this,n),Ti.applyMatrix4(e),this.setXYZ(n,Ti.x,Ti.y,Ti.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ti.fromBufferAttribute(this,n),Ti.applyNormalMatrix(e),this.setXYZ(n,Ti.x,Ti.y,Ti.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ti.fromBufferAttribute(this,n),Ti.transformDirection(e),this.setXYZ(n,Ti.x,Ti.y,Ti.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=Ni(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Mt(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=Mt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Mt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Mt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Mt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ni(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ni(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ni(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ni(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Mt(n,this.array),i=Mt(i,this.array),s=Mt(s,this.array),r=Mt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return new Pt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new gr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class x_ extends $n{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ql;const Su=new G,ec=new G,tc=new G,nc=new Ae,Mu=new Ae,FA=new at,lh=new G,Cu=new G,ch=new G,XS=new Ae,zg=new Ae,YS=new Ae;class BA extends Nt{constructor(e=new x_){if(super(),this.isSprite=!0,this.type="Sprite",Ql===void 0){Ql=new xt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new nu(n,5);Ql.setIndex([0,1,2,0,2,3]),Ql.setAttribute("position",new gr(i,3,0,!1)),Ql.setAttribute("uv",new gr(i,2,3,!1))}this.geometry=Ql,this.material=e,this.center=new Ae(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ec.setFromMatrixScale(this.matrixWorld),FA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),tc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ec.multiplyScalar(-tc.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const a=this.center;uh(lh.set(-.5,-.5,0),tc,a,ec,s,r),uh(Cu.set(.5,-.5,0),tc,a,ec,s,r),uh(ch.set(.5,.5,0),tc,a,ec,s,r),XS.set(0,0),zg.set(1,0),YS.set(1,1);let o=e.ray.intersectTriangle(lh,Cu,ch,!1,Su);if(o===null&&(uh(Cu.set(-.5,.5,0),tc,a,ec,s,r),zg.set(0,1),o=e.ray.intersectTriangle(lh,ch,Cu,!1,Su),o===null))return;const l=e.ray.origin.distanceTo(Su);l<e.near||l>e.far||n.push({distance:l,point:Su.clone(),uv:Vi.getInterpolation(Su,lh,Cu,ch,XS,zg,YS,new Ae),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function uh(t,e,n,i,s,r){nc.subVectors(t,n).addScalar(.5).multiply(i),s!==void 0?(Mu.x=r*nc.x-s*nc.y,Mu.y=s*nc.x+r*nc.y):Mu.copy(nc),t.copy(e),t.x+=Mu.x,t.y+=Mu.y,t.applyMatrix4(FA)}const dh=new G,qS=new G;class UA extends Nt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,s=n.length;i<s;i++){const r=n[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const s=this.levels;let r;for(r=0;r<s.length&&!(n<s[r].distance);r++);return s.splice(r,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const s=n.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,s;for(i=1,s=n.length;i<s;i++){let r=n[i].distance;if(n[i].object.visible&&(r-=r*n[i].hysteresis),e<r)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){dh.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(dh);this.getObjectForDistance(s).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){dh.setFromMatrixPosition(e.matrixWorld),qS.setFromMatrixPosition(this.matrixWorld);const i=dh.distanceTo(qS)/e.zoom;n[0].object.visible=!0;let s,r;for(s=1,r=n.length;s<r;s++){let a=n[s].distance;if(n[s].object.visible&&(a-=a*n[s].hysteresis),i>=a)n[s-1].object.visible=!1,n[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)n[s].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const a=i[s];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const KS=new G,ZS=new Et,JS=new Et,fV=new G,QS=new at,fh=new G,Hg=new ni,e1=new at,Gg=new Cl;class w_ extends an{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=d0,this.bindMatrix=new at,this.bindMatrixInverse=new at,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ti),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,fh),this.boundingBox.expandByPoint(fh)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ni),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,fh),this.boundingSphere.expandByPoint(fh)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Hg.copy(this.boundingSphere),Hg.applyMatrix4(s),e.ray.intersectsSphere(Hg)!==!1&&(e1.copy(s).invert(),Gg.copy(e.ray).applyMatrix4(e1),!(this.boundingBox!==null&&Gg.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,Gg)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Et,n=this.geometry.attributes.skinWeight;for(let i=0,s=n.count;i<s;i++){e.fromBufferAttribute(n,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===d0?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===vA?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,s=this.geometry;ZS.fromBufferAttribute(s.attributes.skinIndex,e),JS.fromBufferAttribute(s.attributes.skinWeight,e),KS.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let r=0;r<4;r++){const a=JS.getComponent(r);if(a!==0){const o=ZS.getComponent(r);QS.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),n.addScaledVector(fV.copy(KS).applyMatrix4(QS),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class Zp extends Nt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hr extends dn{constructor(e=null,n=1,i=1,s,r,a,o,l,c=Wn,u=Wn,d,f){super(null,a,o,l,c,u,s,r,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const t1=new at,hV=new at;class of{constructor(e=[],n=[]){this.uuid=fs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new at)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new at;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,a=e.length;r<a;r++){const o=e[r]?e[r].matrixWorld:hV;t1.multiplyMatrices(o,n[r]),t1.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new of(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new hr(n,e,e,gi,Qi);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let a=n[r];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new Zp),this.bones.push(a),this.boneInverses.push(new at().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let s=0,r=n.length;s<r;s++){const a=n[s];e.bones.push(a.uuid);const o=i[s];e.boneInverses.push(o.toArray())}return e}}class zc extends Pt{constructor(e,n,i,s=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ic=new at,n1=new at,hh=[],i1=new ti,mV=new at,Tu=new an,Eu=new ni;class S_ extends an{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new zc(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,mV)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ti),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ic),i1.copy(e.boundingBox).applyMatrix4(ic),this.boundingBox.union(i1)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ni),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ic),Eu.copy(e.boundingSphere).applyMatrix4(ic),this.boundingSphere.union(Eu)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,a=e*r+1;for(let o=0;o<i.length;o++)i[o]=s[a+o]}raycast(e,n){const i=this.matrixWorld,s=this.count;if(Tu.geometry=this.geometry,Tu.material=this.material,Tu.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Eu.copy(this.boundingSphere),Eu.applyMatrix4(i),e.ray.intersectsSphere(Eu)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,ic),n1.multiplyMatrices(i,ic),Tu.matrixWorld=n1,Tu.raycast(e,hh);for(let a=0,o=hh.length;a<o;a++){const l=hh[a];l.instanceId=r,l.object=this,n.push(l)}hh.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new zc(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new hr(new Float32Array(s*this.count),s,this.count,Hp,Qi));const r=this.morphTexture.source.data.data;let a=0;for(let c=0;c<i.length;c++)a+=i[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=s*e;r[l]=o,r.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const Wg=new G,pV=new G,vV=new wt;class or{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,s){return this.normal.set(e,n,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const s=Wg.subVectors(i,n).cross(pV.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Wg),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:n.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||vV.getNormalMatrix(e),s=this.coplanarPoint(Wg).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ho=new ni,mh=new G;class lf{constructor(e=new or,n=new or,i=new or,s=new or,r=new or,a=new or){this.planes=[e,n,i,s,r,a]}set(e,n,i,s,r,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(s),o[4].copy(r),o[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=zs){const i=this.planes,s=e.elements,r=s[0],a=s[1],o=s[2],l=s[3],c=s[4],u=s[5],d=s[6],f=s[7],h=s[8],m=s[9],g=s[10],p=s[11],v=s[12],b=s[13],_=s[14],w=s[15];if(i[0].setComponents(l-r,f-c,p-h,w-v).normalize(),i[1].setComponents(l+r,f+c,p+h,w+v).normalize(),i[2].setComponents(l+a,f+u,p+m,w+b).normalize(),i[3].setComponents(l-a,f-u,p-m,w-b).normalize(),i[4].setComponents(l-o,f-d,p-g,w-_).normalize(),n===zs)i[5].setComponents(l+o,f+d,p+g,w+_).normalize();else if(n===wd)i[5].setComponents(o,d,g,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ho.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ho.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ho)}intersectsSprite(e){return ho.center.set(0,0,0),ho.radius=.7071067811865476,ho.applyMatrix4(e.matrixWorld),this.intersectsSphere(ho)}intersectsSphere(e){const n=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const s=n[i];if(mh.x=s.normal.x>0?e.max.x:e.min.x,mh.y=s.normal.y>0?e.max.y:e.min.y,mh.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(mh)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function $g(t,e){return t-e}function gV(t,e){return t.z-e.z}function yV(t,e){return e.z-t.z}class bV{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,s){const r=this.pool,a=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];a.push(o),this.index++,o.start=e,o.count=n,o.z=i,o.index=s}reset(){this.list.length=0,this.index=0}}const ji=new at,_V=new Be(1,1,1),jg=new lf,ph=new ti,mo=new ni,Au=new G,s1=new G,xV=new G,Xg=new bV,pi=new an,vh=[];function wV(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const s=t.count;for(let r=0;r<s;r++)for(let a=0;a<i;a++)e.setComponent(r+n,a,t.getComponent(r,a))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function po(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class zA extends an{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,n,i=n*2,s){super(new xt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new hr(n,e,e,gi,Qi);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new hr(n,e,e,tf,sa);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new hr(n,e,e,gi,Qi);i.colorSpace=Vt.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const a=e.getAttribute(r),{array:o,itemSize:l,normalized:c}=a,u=new o.constructor(i*l),d=new Pt(u,l,c);n.setAttribute(r,d)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);n.setIndex(new Pt(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),r=n.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ti);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,s=n.length;i<s;i++){if(n[i].active===!1)continue;const r=n[i].geometryIndex;this.getMatrixAt(i,ji),this.getBoundingBoxAt(r,ph).applyMatrix4(ji),e.union(ph)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ni);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,s=n.length;i<s;i++){if(n[i].active===!1)continue;const r=n[i].geometryIndex;this.getMatrixAt(i,ji),this.getBoundingSphereAt(r,mo).applyMatrix4(ji),e.union(mo)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort($g),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;ji.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const a=this._colorsTexture;return a&&(_V.toArray(a.image.data,s*4),a.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?a.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort($g),l=this._availableGeometryIds.shift(),r[l]=s):(l=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(l,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),a=n.getIndex(),o=this._geometryInfo[e];if(s&&a.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const u in i.attributes){const d=n.getAttribute(u),f=i.getAttribute(u);wV(d,f,l);const h=d.itemSize;for(let m=d.count,g=c;m<g;m++){const p=l+m;for(let v=0;v<h;v++)f.setComponent(p,v,0)}f.needsUpdate=!0,f.addUpdateRange(l*h,c*h)}if(s){const u=o.indexStart,d=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let f=0;f<a.count;f++)r.setX(u+f,l+a.getX(f));for(let f=a.count,h=d;f<h;f++)r.setX(u+f,l);r.needsUpdate=!0,r.addUpdateRange(u,o.reservedIndexCount)}return o.start=s?o.indexStart:o.vertexStart,o.count=s?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].active&&i[s].geometryIndex===e&&this.deleteInstance(s);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,s=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),r=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=s[a],c=i[l];if(c.active!==!1){if(r.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:d,reservedIndexCount:f}=c,h=r.index,m=h.array,g=e-d;for(let p=u;p<u+f;p++)m[p]=m[p]+g;h.array.copyWithin(n,u,u+f),h.addUpdateRange(n,f),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:d}=c,f=r.attributes;for(const h in f){const m=f[h],{array:g,itemSize:p}=m;g.copyWithin(e*p,u*p,(u+d)*p),m.addUpdateRange(e*p,d*p)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=r.index?c.indexStart:c.vertexStart,this._nextIndexStart=r.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const r=new ti,a=i.index,o=i.attributes.position;for(let l=s.start,c=s.start+s.count;l<c;l++){let u=l;a&&(u=a.getX(u)),r.expandByPoint(Au.fromBufferAttribute(o,u))}s.boundingBox=r}return n.copy(s.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const r=new ni;this.getBoundingBoxAt(e,ph),ph.getCenter(r.center);const a=i.index,o=i.attributes.position;let l=0;for(let c=s.start,u=s.start+s.count;c<u;c++){let d=c;a&&(d=a.getX(d)),Au.fromBufferAttribute(o,d),l=Math.max(l,r.center.distanceToSquared(Au))}r.radius=Math.sqrt(l),s.boundingSphere=r}return n.copy(s.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,s=this._matricesTexture.image.data;return n.toArray(s,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort($g);n[n.length-1]===i.length;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),r=new Int32Array(e);po(this._multiDrawCounts,s),po(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),po(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),po(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),po(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new xt,this._initializeGeometry(r));const a=this.geometry;r.index&&po(r.index.array,a.index.array);for(const o in r.attributes)po(r.attributes[o].array,a.attributes[o].array)}raycast(e,n){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,a=this.geometry;pi.material=this.material,pi.geometry.index=a.index,pi.geometry.attributes=a.attributes,pi.geometry.boundingBox===null&&(pi.geometry.boundingBox=new ti),pi.geometry.boundingSphere===null&&(pi.geometry.boundingSphere=new ni);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,u=s[c];pi.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,pi.matrixWorld).premultiply(r),this.getBoundingBoxAt(c,pi.geometry.boundingBox),this.getBoundingSphereAt(c,pi.geometry.boundingSphere),pi.raycast(e,vh);for(let d=0,f=vh.length;d<f;d++){const h=vh[d];h.object=this,h.batchId=o,n.push(h)}vh.length=0}pi.material=null,pi.geometry.index=null,pi.geometry.attributes={},pi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=s.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._geometryInfo,f=this.perObjectFrustumCulled,h=this._indirectTexture,m=h.image.data;f&&(ji.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),jg.setFromProjectionMatrix(ji,e.coordinateSystem));let g=0;if(this.sortObjects){ji.copy(this.matrixWorld).invert(),Au.setFromMatrixPosition(i.matrixWorld).applyMatrix4(ji),s1.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(ji);for(let b=0,_=l.length;b<_;b++)if(l[b].visible&&l[b].active){const w=l[b].geometryIndex;this.getMatrixAt(b,ji),this.getBoundingSphereAt(w,mo).applyMatrix4(ji);let T=!1;if(f&&(T=!jg.intersectsSphere(mo)),!T){const C=d[w],A=xV.subVectors(mo.center,Au).dot(s1);Xg.push(C.start,C.count,A,b)}}const p=Xg.list,v=this.customSort;v===null?p.sort(r.transparent?yV:gV):v.call(this,p,i);for(let b=0,_=p.length;b<_;b++){const w=p[b];c[g]=w.start*o,u[g]=w.count,m[g]=w.index,g++}Xg.reset()}else for(let p=0,v=l.length;p<v;p++)if(l[p].visible&&l[p].active){const b=l[p].geometryIndex;let _=!1;if(f&&(this.getMatrixAt(p,ji),this.getBoundingSphereAt(b,mo).applyMatrix4(ji),_=!jg.intersectsSphere(mo)),!_){const w=d[b];c[g]=w.start*o,u[g]=w.count,m[g]=p,g++}}h.needsUpdate=!0,this._multiDrawCount=g,this._visibilityChanged=!1}onBeforeShadow(e,n,i,s,r,a){this.onBeforeRender(e,null,s,r,a)}}class xi extends $n{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Be(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const lp=new G,cp=new G,r1=new at,Pu=new Cl,gh=new ni,Yg=new G,a1=new G;class ra extends Nt{constructor(e=new xt,n=new xi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let s=1,r=n.count;s<r;s++)lp.fromBufferAttribute(n,s-1),cp.fromBufferAttribute(n,s),i[s]=i[s-1],i[s]+=lp.distanceTo(cp);e.setAttribute("lineDistance",new nt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),gh.copy(i.boundingSphere),gh.applyMatrix4(s),gh.radius+=r,e.ray.intersectsSphere(gh)===!1)return;r1.copy(s).invert(),Pu.copy(e.ray).applyMatrix4(r1);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=i.index,f=i.attributes.position;if(u!==null){const h=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let g=h,p=m-1;g<p;g+=c){const v=u.getX(g),b=u.getX(g+1),_=yh(this,e,Pu,l,v,b,g);_&&n.push(_)}if(this.isLineLoop){const g=u.getX(m-1),p=u.getX(h),v=yh(this,e,Pu,l,g,p,m-1);v&&n.push(v)}}else{const h=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let g=h,p=m-1;g<p;g+=c){const v=yh(this,e,Pu,l,g,g+1,g);v&&n.push(v)}if(this.isLineLoop){const g=yh(this,e,Pu,l,m-1,h,m-1);g&&n.push(g)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}function yh(t,e,n,i,s,r,a){const o=t.geometry.attributes.position;if(lp.fromBufferAttribute(o,s),cp.fromBufferAttribute(o,r),n.distanceSqToSegment(lp,cp,Yg,a1)>i)return;Yg.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(Yg);if(!(c<e.near||c>e.far))return{distance:c,point:a1.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const o1=new G,l1=new G;class Zs extends ra{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let s=0,r=n.count;s<r;s+=2)o1.fromBufferAttribute(n,s),l1.fromBufferAttribute(n,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+o1.distanceTo(l1);e.setAttribute("lineDistance",new nt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class M_ extends ra{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Jp extends $n{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const c1=new at,m0=new Cl,bh=new ni,_h=new G;class C_ extends Nt{constructor(e=new xt,n=new Jp){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),bh.copy(i.boundingSphere),bh.applyMatrix4(s),bh.radius+=r,e.ray.intersectsSphere(bh)===!1)return;c1.copy(s).invert(),m0.copy(e.ray).applyMatrix4(c1);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,d=i.attributes.position;if(c!==null){const f=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let m=f,g=h;m<g;m++){const p=c.getX(m);_h.fromBufferAttribute(d,p),u1(_h,p,l,s,e,n,this)}}else{const f=Math.max(0,a.start),h=Math.min(d.count,a.start+a.count);for(let m=f,g=h;m<g;m++)_h.fromBufferAttribute(d,m),u1(_h,m,l,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}function u1(t,e,n,i,s,r,a){const o=m0.distanceSqToPoint(t);if(o<n){const l=new G;m0.closestPointToPoint(t,l),l.applyMatrix4(i);const c=s.ray.origin.distanceTo(l);if(c<s.near||c>s.far)return;r.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class HA extends dn{constructor(e,n,i,s,r,a,o,l,c){super(e,n,i,s,r,a,o,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:In,this.magFilter=r!==void 0?r:In,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class SV extends HA{constructor(e,n,i,s,r,a,o,l){super({},e,n,i,s,r,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class p0 extends dn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Wn,this.minFilter=Wn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Yo extends dn{constructor(e,n,i,s,r,a,o,l,c,u,d,f){super(null,a,o,l,c,u,s,r,d,f),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class MV extends Yo{constructor(e,n,i,s,r,a){super(e,n,i,r,a),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Ji,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CV extends Yo{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,na),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class TV extends dn{constructor(e,n,i,s,r,a,o,l,c){super(e,n,i,s,r,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class T_ extends dn{constructor(e,n,i,s,r,a,o,l,c,u=jo){if(u!==jo&&u!==ol)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===jo&&(i=sa),i===void 0&&u===ol&&(i=al),super(null,s,r,a,o,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:Wn,this.minFilter=l!==void 0?l:Wn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Js{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,s=this.getPoint(0),r=0;n.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),r+=i.distanceTo(s),n.push(r),s=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let s=0;const r=i.length;let a;n?a=n:a=e*i[r-1];let o=0,l=r-1,c;for(;o<=l;)if(s=Math.floor(o+(l-o)/2),c=i[s]-a,c<0)o=s+1;else if(c>0)l=s-1;else{l=s;break}if(s=l,i[s]===a)return s/(r-1);const u=i[s],f=i[s+1]-u,h=(a-u)/f;return(s+h)/(r-1)}getTangent(e,n){let s=e-1e-4,r=e+1e-4;s<0&&(s=0),r>1&&(r=1);const a=this.getPoint(s),o=this.getPoint(r),l=n||(a.isVector2?new Ae:new G);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new G,s=[],r=[],a=[],o=new G,l=new at;for(let h=0;h<=e;h++){const m=h/e;s[h]=this.getTangentAt(m,new G)}r[0]=new G,a[0]=new G;let c=Number.MAX_VALUE;const u=Math.abs(s[0].x),d=Math.abs(s[0].y),f=Math.abs(s[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),f<=c&&i.set(0,0,1),o.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],o),a[0].crossVectors(s[0],r[0]);for(let h=1;h<=e;h++){if(r[h]=r[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(s[h-1],s[h]),o.length()>Number.EPSILON){o.normalize();const m=Math.acos(bt(s[h-1].dot(s[h]),-1,1));r[h].applyMatrix4(l.makeRotationAxis(o,m))}a[h].crossVectors(s[h],r[h])}if(n===!0){let h=Math.acos(bt(r[0].dot(r[e]),-1,1));h/=e,s[0].dot(o.crossVectors(r[0],r[e]))>0&&(h=-h);for(let m=1;m<=e;m++)r[m].applyMatrix4(l.makeRotationAxis(s[m],h*m)),a[m].crossVectors(s[m],r[m])}return{tangents:s,normals:r,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Qp extends Js{constructor(e=0,n=0,i=1,s=1,r=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new Ae){const i=n,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(a?r=0:r=s),this.aClockwise===!0&&!a&&(r===s?r=-s:r=r-s);const o=this.aStartAngle+e*r;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class GA extends Qp{constructor(e,n,i,s,r,a){super(e,n,i,i,s,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function E_(){let t=0,e=0,n=0,i=0;function s(r,a,o,l){t=r,e=o,n=-3*r+3*a-2*o-l,i=2*r-2*a+o+l}return{initCatmullRom:function(r,a,o,l,c){s(a,o,c*(o-r),c*(l-a))},initNonuniformCatmullRom:function(r,a,o,l,c,u,d){let f=(a-r)/c-(o-r)/(c+u)+(o-a)/u,h=(o-a)/u-(l-a)/(u+d)+(l-o)/d;f*=u,h*=u,s(a,o,f,h)},calc:function(r){const a=r*r,o=a*r;return t+e*r+n*a+i*o}}}const xh=new G,qg=new E_,Kg=new E_,Zg=new E_;class WA extends Js{constructor(e=[],n=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=s}getPoint(e,n=new G){const i=n,s=this.points,r=s.length,a=(r-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:l===0&&o===r-1&&(o=r-2,l=1);let c,u;this.closed||o>0?c=s[(o-1)%r]:(xh.subVectors(s[0],s[1]).add(s[0]),c=xh);const d=s[o%r],f=s[(o+1)%r];if(this.closed||o+2<r?u=s[(o+2)%r]:(xh.subVectors(s[r-1],s[r-2]).add(s[r-1]),u=xh),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(d),h),g=Math.pow(d.distanceToSquared(f),h),p=Math.pow(f.distanceToSquared(u),h);g<1e-4&&(g=1),m<1e-4&&(m=g),p<1e-4&&(p=g),qg.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,m,g,p),Kg.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,m,g,p),Zg.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,m,g,p)}else this.curveType==="catmullrom"&&(qg.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),Kg.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),Zg.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return i.set(qg.calc(l),Kg.calc(l),Zg.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const s=this.points[n];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(new G().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function d1(t,e,n,i,s){const r=(i-e)*.5,a=(s-n)*.5,o=t*t,l=t*o;return(2*n-2*i+r+a)*l+(-3*n+3*i-2*r-a)*o+r*t+n}function EV(t,e){const n=1-t;return n*n*e}function AV(t,e){return 2*(1-t)*t*e}function PV(t,e){return t*t*e}function id(t,e,n,i){return EV(t,e)+AV(t,n)+PV(t,i)}function IV(t,e){const n=1-t;return n*n*n*e}function RV(t,e){const n=1-t;return 3*n*n*t*e}function LV(t,e){return 3*(1-t)*t*t*e}function kV(t,e){return t*t*t*e}function sd(t,e,n,i,s){return IV(t,e)+RV(t,n)+LV(t,i)+kV(t,s)}class A_ extends Js{constructor(e=new Ae,n=new Ae,i=new Ae,s=new Ae){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=s}getPoint(e,n=new Ae){const i=n,s=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(sd(e,s.x,r.x,a.x,o.x),sd(e,s.y,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $A extends Js{constructor(e=new G,n=new G,i=new G,s=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=s}getPoint(e,n=new G){const i=n,s=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(sd(e,s.x,r.x,a.x,o.x),sd(e,s.y,r.y,a.y,o.y),sd(e,s.z,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class P_ extends Js{constructor(e=new Ae,n=new Ae){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ae){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ae){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jA extends Js{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class I_ extends Js{constructor(e=new Ae,n=new Ae,i=new Ae){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Ae){const i=n,s=this.v0,r=this.v1,a=this.v2;return i.set(id(e,s.x,r.x,a.x),id(e,s.y,r.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class R_ extends Js{constructor(e=new G,n=new G,i=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new G){const i=n,s=this.v0,r=this.v1,a=this.v2;return i.set(id(e,s.x,r.x,a.x),id(e,s.y,r.y,a.y),id(e,s.z,r.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class L_ extends Js{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ae){const i=n,s=this.points,r=(s.length-1)*e,a=Math.floor(r),o=r-a,l=s[a===0?a:a-1],c=s[a],u=s[a>s.length-2?s.length-1:a+1],d=s[a>s.length-3?s.length-1:a+2];return i.set(d1(o,l.x,c.x,u.x,d.x),d1(o,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const s=this.points[n];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(new Ae().fromArray(s))}return this}}var up=Object.freeze({__proto__:null,ArcCurve:GA,CatmullRomCurve3:WA,CubicBezierCurve:A_,CubicBezierCurve3:$A,EllipseCurve:Qp,LineCurve:P_,LineCurve3:jA,QuadraticBezierCurve:I_,QuadraticBezierCurve3:R_,SplineCurve:L_});class XA extends Js{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new up[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const a=s[r]-i,o=this.curves[r],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,n)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,s=this.curves.length;i<s;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const a=r[s],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const s=e.curves[n];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const s=this.curves[n];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const s=e.curves[n];this.curves.push(new up[s.type]().fromJSON(s))}return this}}class Md extends XA{constructor(e){super(),this.type="Path",this.currentPoint=new Ae,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new P_(this.currentPoint.clone(),new Ae(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,s){const r=new I_(this.currentPoint.clone(),new Ae(e,n),new Ae(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(e,n,i,s,r,a){const o=new A_(this.currentPoint.clone(),new Ae(e,n),new Ae(i,s),new Ae(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new L_(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,s,r,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,i,s,r,a),this}absarc(e,n,i,s,r,a){return this.absellipse(e,n,i,i,s,r,a),this}ellipse(e,n,i,s,r,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,s,r,a,o,l),this}absellipse(e,n,i,s,r,a,o,l){const c=new Qp(e,n,i,s,r,a,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class cf extends xt{constructor(e=[new Ae(0,-.5),new Ae(.5,0),new Ae(0,.5)],n=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:s},n=Math.floor(n),s=bt(s,0,Math.PI*2);const r=[],a=[],o=[],l=[],c=[],u=1/n,d=new G,f=new Ae,h=new G,m=new G,g=new G;let p=0,v=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:p=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,h.x=v*1,h.y=-p,h.z=v*0,g.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:p=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,h.x=v*1,h.y=-p,h.z=v*0,m.copy(h),h.x+=g.x,h.y+=g.y,h.z+=g.z,h.normalize(),l.push(h.x,h.y,h.z),g.copy(m)}for(let b=0;b<=n;b++){const _=i+b*u*s,w=Math.sin(_),T=Math.cos(_);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*w,d.y=e[C].y,d.z=e[C].x*T,a.push(d.x,d.y,d.z),f.x=b/n,f.y=C/(e.length-1),o.push(f.x,f.y);const A=l[3*C+0]*w,S=l[3*C+1],x=l[3*C+0]*T;c.push(A,S,x)}}for(let b=0;b<n;b++)for(let _=0;_<e.length-1;_++){const w=_+b*e.length,T=w,C=w+e.length,A=w+e.length+1,S=w+1;r.push(T,C,S),r.push(A,S,C)}this.setIndex(r),this.setAttribute("position",new nt(a,3)),this.setAttribute("uv",new nt(o,2)),this.setAttribute("normal",new nt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cf(e.points,e.segments,e.phiStart,e.phiLength)}}class ev extends cf{constructor(e=1,n=1,i=4,s=8){const r=new Md;r.absarc(0,-n/2,e,Math.PI*1.5,0),r.absarc(0,n/2,e,0,Math.PI*.5),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:s}}static fromJSON(e){return new ev(e.radius,e.length,e.capSegments,e.radialSegments)}}class tv extends xt{constructor(e=1,n=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:s},n=Math.max(3,n);const r=[],a=[],o=[],l=[],c=new G,u=new Ae;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=i+d/n*s;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[f]/e+1)/2,u.y=(a[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)r.push(d,d+1,0);this.setIndex(r),this.setAttribute("position",new nt(a,3)),this.setAttribute("normal",new nt(o,3)),this.setAttribute("uv",new nt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class iu extends xt{constructor(e=1,n=1,i=1,s=32,r=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:s,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:l};const c=this;s=Math.floor(s),r=Math.floor(r);const u=[],d=[],f=[],h=[];let m=0;const g=[],p=i/2;let v=0;b(),a===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new nt(d,3)),this.setAttribute("normal",new nt(f,3)),this.setAttribute("uv",new nt(h,2));function b(){const w=new G,T=new G;let C=0;const A=(n-e)/i;for(let S=0;S<=r;S++){const x=[],y=S/r,E=y*(n-e)+e;for(let P=0;P<=s;P++){const D=P/s,N=D*l+o,W=Math.sin(N),B=Math.cos(N);T.x=E*W,T.y=-y*i+p,T.z=E*B,d.push(T.x,T.y,T.z),w.set(W,A,B).normalize(),f.push(w.x,w.y,w.z),h.push(D,1-y),x.push(m++)}g.push(x)}for(let S=0;S<s;S++)for(let x=0;x<r;x++){const y=g[x][S],E=g[x+1][S],P=g[x+1][S+1],D=g[x][S+1];(e>0||x!==0)&&(u.push(y,E,D),C+=3),(n>0||x!==r-1)&&(u.push(E,P,D),C+=3)}c.addGroup(v,C,0),v+=C}function _(w){const T=m,C=new Ae,A=new G;let S=0;const x=w===!0?e:n,y=w===!0?1:-1;for(let P=1;P<=s;P++)d.push(0,p*y,0),f.push(0,y,0),h.push(.5,.5),m++;const E=m;for(let P=0;P<=s;P++){const N=P/s*l+o,W=Math.cos(N),B=Math.sin(N);A.x=x*B,A.y=p*y,A.z=x*W,d.push(A.x,A.y,A.z),f.push(0,y,0),C.x=W*.5+.5,C.y=B*.5*y+.5,h.push(C.x,C.y),m++}for(let P=0;P<s;P++){const D=T+P,N=E+P;w===!0?u.push(N,N+1,D):u.push(N+1,N,D),S+=3}c.addGroup(v,S,w===!0?1:2),v+=S}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nv extends iu{constructor(e=1,n=1,i=32,s=1,r=!1,a=0,o=Math.PI*2){super(0,e,n,i,s,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:a,thetaLength:o}}static fromJSON(e){return new nv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ja extends xt{constructor(e=[],n=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:s};const r=[],a=[];o(s),c(i),u(),this.setAttribute("position",new nt(r,3)),this.setAttribute("normal",new nt(r.slice(),3)),this.setAttribute("uv",new nt(a,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const _=new G,w=new G,T=new G;for(let C=0;C<n.length;C+=3)h(n[C+0],_),h(n[C+1],w),h(n[C+2],T),l(_,w,T,b)}function l(b,_,w,T){const C=T+1,A=[];for(let S=0;S<=C;S++){A[S]=[];const x=b.clone().lerp(w,S/C),y=_.clone().lerp(w,S/C),E=C-S;for(let P=0;P<=E;P++)P===0&&S===C?A[S][P]=x:A[S][P]=x.clone().lerp(y,P/E)}for(let S=0;S<C;S++)for(let x=0;x<2*(C-S)-1;x++){const y=Math.floor(x/2);x%2===0?(f(A[S][y+1]),f(A[S+1][y]),f(A[S][y])):(f(A[S][y+1]),f(A[S+1][y+1]),f(A[S+1][y]))}}function c(b){const _=new G;for(let w=0;w<r.length;w+=3)_.x=r[w+0],_.y=r[w+1],_.z=r[w+2],_.normalize().multiplyScalar(b),r[w+0]=_.x,r[w+1]=_.y,r[w+2]=_.z}function u(){const b=new G;for(let _=0;_<r.length;_+=3){b.x=r[_+0],b.y=r[_+1],b.z=r[_+2];const w=p(b)/2/Math.PI+.5,T=v(b)/Math.PI+.5;a.push(w,1-T)}m(),d()}function d(){for(let b=0;b<a.length;b+=6){const _=a[b+0],w=a[b+2],T=a[b+4],C=Math.max(_,w,T),A=Math.min(_,w,T);C>.9&&A<.1&&(_<.2&&(a[b+0]+=1),w<.2&&(a[b+2]+=1),T<.2&&(a[b+4]+=1))}}function f(b){r.push(b.x,b.y,b.z)}function h(b,_){const w=b*3;_.x=e[w+0],_.y=e[w+1],_.z=e[w+2]}function m(){const b=new G,_=new G,w=new G,T=new G,C=new Ae,A=new Ae,S=new Ae;for(let x=0,y=0;x<r.length;x+=9,y+=6){b.set(r[x+0],r[x+1],r[x+2]),_.set(r[x+3],r[x+4],r[x+5]),w.set(r[x+6],r[x+7],r[x+8]),C.set(a[y+0],a[y+1]),A.set(a[y+2],a[y+3]),S.set(a[y+4],a[y+5]),T.copy(b).add(_).add(w).divideScalar(3);const E=p(T);g(C,y+0,b,E),g(A,y+2,_,E),g(S,y+4,w,E)}}function g(b,_,w,T){T<0&&b.x===1&&(a[_]=b.x-1),w.x===0&&w.z===0&&(a[_]=T/2/Math.PI+.5)}function p(b){return Math.atan2(b.z,-b.x)}function v(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ja(e.vertices,e.indices,e.radius,e.details)}}class iv extends Ja{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new iv(e.radius,e.detail)}}const wh=new G,Sh=new G,Jg=new G,Mh=new Vi;class YA extends xt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const s=Math.pow(10,4),r=Math.cos(Xo*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},h=[];for(let m=0;m<l;m+=3){a?(c[0]=a.getX(m),c[1]=a.getX(m+1),c[2]=a.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:g,b:p,c:v}=Mh;if(g.fromBufferAttribute(o,c[0]),p.fromBufferAttribute(o,c[1]),v.fromBufferAttribute(o,c[2]),Mh.getNormal(Jg),d[0]=`${Math.round(g.x*s)},${Math.round(g.y*s)},${Math.round(g.z*s)}`,d[1]=`${Math.round(p.x*s)},${Math.round(p.y*s)},${Math.round(p.z*s)}`,d[2]=`${Math.round(v.x*s)},${Math.round(v.y*s)},${Math.round(v.z*s)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let b=0;b<3;b++){const _=(b+1)%3,w=d[b],T=d[_],C=Mh[u[b]],A=Mh[u[_]],S=`${w}_${T}`,x=`${T}_${w}`;x in f&&f[x]?(Jg.dot(f[x].normal)<=r&&(h.push(C.x,C.y,C.z),h.push(A.x,A.y,A.z)),f[x]=null):S in f||(f[S]={index0:c[b],index1:c[_],normal:Jg.clone()})}}for(const m in f)if(f[m]){const{index0:g,index1:p}=f[m];wh.fromBufferAttribute(o,g),Sh.fromBufferAttribute(o,p),h.push(wh.x,wh.y,wh.z),h.push(Sh.x,Sh.y,Sh.z)}this.setAttribute("position",new nt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class qo extends Md{constructor(e){super(e),this.uuid=fs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,s=this.holes.length;i<s;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const s=e.holes[n];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const s=this.holes[n];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const s=e.holes[n];this.holes.push(new Md().fromJSON(s))}return this}}const DV={triangulate:function(t,e,n=2){const i=e&&e.length,s=i?e[0]*n:t.length;let r=qA(t,0,s,n,!0);const a=[];if(!r||r.next===r.prev)return a;let o,l,c,u,d,f,h;if(i&&(r=BV(t,e,r,n)),t.length>80*n){o=c=t[0],l=u=t[1];for(let m=n;m<s;m+=n)d=t[m],f=t[m+1],d<o&&(o=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-o,u-l),h=h!==0?32767/h:0}return Cd(r,a,n,o,l,h,0),a}};function qA(t,e,n,i,s){let r,a;if(s===KV(t,e,n,i)>0)for(r=e;r<n;r+=i)a=f1(r,t[r],t[r+1],a);else for(r=n-i;r>=e;r-=i)a=f1(r,t[r],t[r+1],a);return a&&sv(a,a.next)&&(Ed(a),a=a.next),a}function dl(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(sv(n,n.next)||xn(n.prev,n,n.next)===0)){if(Ed(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Cd(t,e,n,i,s,r,a){if(!t)return;!a&&r&&WV(t,i,s,r);let o=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,r?NV(t,i,s,r):OV(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Ed(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=VV(dl(t),e,n),Cd(t,e,n,i,s,r,2)):a===2&&FV(t,e,n,i,s,r):Cd(dl(t),e,n,i,s,r,1);break}}}function OV(t){const e=t.prev,n=t,i=t.next;if(xn(e,n,i)>=0)return!1;const s=e.x,r=n.x,a=i.x,o=e.y,l=n.y,c=i.y,u=s<r?s<a?s:a:r<a?r:a,d=o<l?o<c?o:c:l<c?l:c,f=s>r?s>a?s:a:r>a?r:a,h=o>l?o>c?o:c:l>c?l:c;let m=i.next;for(;m!==e;){if(m.x>=u&&m.x<=f&&m.y>=d&&m.y<=h&&yc(s,o,r,l,a,c,m.x,m.y)&&xn(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function NV(t,e,n,i){const s=t.prev,r=t,a=t.next;if(xn(s,r,a)>=0)return!1;const o=s.x,l=r.x,c=a.x,u=s.y,d=r.y,f=a.y,h=o<l?o<c?o:c:l<c?l:c,m=u<d?u<f?u:f:d<f?d:f,g=o>l?o>c?o:c:l>c?l:c,p=u>d?u>f?u:f:d>f?d:f,v=v0(h,m,e,n,i),b=v0(g,p,e,n,i);let _=t.prevZ,w=t.nextZ;for(;_&&_.z>=v&&w&&w.z<=b;){if(_.x>=h&&_.x<=g&&_.y>=m&&_.y<=p&&_!==s&&_!==a&&yc(o,u,l,d,c,f,_.x,_.y)&&xn(_.prev,_,_.next)>=0||(_=_.prevZ,w.x>=h&&w.x<=g&&w.y>=m&&w.y<=p&&w!==s&&w!==a&&yc(o,u,l,d,c,f,w.x,w.y)&&xn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;_&&_.z>=v;){if(_.x>=h&&_.x<=g&&_.y>=m&&_.y<=p&&_!==s&&_!==a&&yc(o,u,l,d,c,f,_.x,_.y)&&xn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;w&&w.z<=b;){if(w.x>=h&&w.x<=g&&w.y>=m&&w.y<=p&&w!==s&&w!==a&&yc(o,u,l,d,c,f,w.x,w.y)&&xn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function VV(t,e,n){let i=t;do{const s=i.prev,r=i.next.next;!sv(s,r)&&KA(s,i,i.next,r)&&Td(s,r)&&Td(r,s)&&(e.push(s.i/n|0),e.push(i.i/n|0),e.push(r.i/n|0),Ed(i),Ed(i.next),i=t=r),i=i.next}while(i!==t);return dl(i)}function FV(t,e,n,i,s,r){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&XV(a,o)){let l=ZA(a,o);a=dl(a,a.next),l=dl(l,l.next),Cd(a,e,n,i,s,r,0),Cd(l,e,n,i,s,r,0);return}o=o.next}a=a.next}while(a!==t)}function BV(t,e,n,i){const s=[];let r,a,o,l,c;for(r=0,a=e.length;r<a;r++)o=e[r]*i,l=r<a-1?e[r+1]*i:t.length,c=qA(t,o,l,i,!1),c===c.next&&(c.steiner=!0),s.push(jV(c));for(s.sort(UV),r=0;r<s.length;r++)n=zV(s[r],n);return n}function UV(t,e){return t.x-e.x}function zV(t,e){const n=HV(t,e);if(!n)return e;const i=ZA(n,t);return dl(i,i.next),dl(n,n.next)}function HV(t,e){let n=e,i=-1/0,s;const r=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const f=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>i&&(i=f,s=n.x<n.next.x?n:n.next,f===r))return s}n=n.next}while(n!==e);if(!s)return null;const o=s,l=s.x,c=s.y;let u=1/0,d;n=s;do r>=n.x&&n.x>=l&&r!==n.x&&yc(a<c?r:i,a,l,c,a<c?i:r,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(r-n.x),Td(n,t)&&(d<u||d===u&&(n.x>s.x||n.x===s.x&&GV(s,n)))&&(s=n,u=d)),n=n.next;while(n!==o);return s}function GV(t,e){return xn(t.prev,t,e.prev)<0&&xn(e.next,t,t.next)<0}function WV(t,e,n,i){let s=t;do s.z===0&&(s.z=v0(s.x,s.y,e,n,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,$V(s)}function $V(t){let e,n,i,s,r,a,o,l,c=1;do{for(n=t,t=null,r=null,a=0;n;){for(a++,i=n,o=0,e=0;e<c&&(o++,i=i.nextZ,!!i);e++);for(l=c;o>0||l>0&&i;)o!==0&&(l===0||!i||n.z<=i.z)?(s=n,n=n.nextZ,o--):(s=i,i=i.nextZ,l--),r?r.nextZ=s:t=s,s.prevZ=r,r=s;n=i}r.nextZ=null,c*=2}while(a>1);return t}function v0(t,e,n,i,s){return t=(t-n)*s|0,e=(e-i)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function jV(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function yc(t,e,n,i,s,r,a,o){return(s-a)*(e-o)>=(t-a)*(r-o)&&(t-a)*(i-o)>=(n-a)*(e-o)&&(n-a)*(r-o)>=(s-a)*(i-o)}function XV(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!YV(t,e)&&(Td(t,e)&&Td(e,t)&&qV(t,e)&&(xn(t.prev,t,e.prev)||xn(t,e.prev,e))||sv(t,e)&&xn(t.prev,t,t.next)>0&&xn(e.prev,e,e.next)>0)}function xn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function sv(t,e){return t.x===e.x&&t.y===e.y}function KA(t,e,n,i){const s=Th(xn(t,e,n)),r=Th(xn(t,e,i)),a=Th(xn(n,i,t)),o=Th(xn(n,i,e));return!!(s!==r&&a!==o||s===0&&Ch(t,n,e)||r===0&&Ch(t,i,e)||a===0&&Ch(n,t,i)||o===0&&Ch(n,e,i))}function Ch(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Th(t){return t>0?1:t<0?-1:0}function YV(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&KA(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Td(t,e){return xn(t.prev,t,t.next)<0?xn(t,e,t.next)>=0&&xn(t,t.prev,e)>=0:xn(t,e,t.prev)<0||xn(t,t.next,e)<0}function qV(t,e){let n=t,i=!1;const s=(t.x+e.x)/2,r=(t.y+e.y)/2;do n.y>r!=n.next.y>r&&n.next.y!==n.y&&s<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function ZA(t,e){const n=new g0(t.i,t.x,t.y),i=new g0(e.i,e.x,e.y),s=t.next,r=e.prev;return t.next=e,e.prev=t,n.next=s,s.prev=n,i.next=n,n.prev=i,r.next=i,i.prev=r,i}function f1(t,e,n,i){const s=new g0(t,e,n);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Ed(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function g0(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function KV(t,e,n,i){let s=0;for(let r=e,a=n-i;r<n;r+=i)s+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;return s}class mr{static area(e){const n=e.length;let i=0;for(let s=n-1,r=0;r<n;s=r++)i+=e[s].x*e[r].y-e[r].x*e[s].y;return i*.5}static isClockWise(e){return mr.area(e)<0}static triangulateShape(e,n){const i=[],s=[],r=[];h1(e),m1(i,e);let a=e.length;n.forEach(h1);for(let l=0;l<n.length;l++)s.push(a),a+=n[l].length,m1(i,n[l]);const o=DV.triangulate(i,s);for(let l=0;l<o.length;l+=3)r.push(o.slice(l,l+3));return r}}function h1(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function m1(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class rv extends xt{constructor(e=new qo([new Ae(.5,.5),new Ae(-.5,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,s=[],r=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new nt(s,3)),this.setAttribute("uv",new nt(r,2)),this.computeVertexNormals();function a(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:h-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,p=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:ZV;let _,w=!1,T,C,A,S;v&&(_=v.getSpacedPoints(u),w=!0,f=!1,T=v.computeFrenetFrames(u,!1),C=new G,A=new G,S=new G),f||(p=0,h=0,m=0,g=0);const x=o.extractPoints(c);let y=x.shape;const E=x.holes;if(!mr.isClockWise(y)){y=y.reverse();for(let k=0,R=E.length;k<R;k++){const I=E[k];mr.isClockWise(I)&&(E[k]=I.reverse())}}const D=mr.triangulateShape(y,E),N=y;for(let k=0,R=E.length;k<R;k++){const I=E[k];y=y.concat(I)}function W(k,R,I){return R||console.error("THREE.ExtrudeGeometry: vec does not exist"),k.clone().addScaledVector(R,I)}const B=y.length,q=D.length;function j(k,R,I){let Y,$,J;const se=k.x-R.x,me=k.y-R.y,re=I.x-k.x,V=I.y-k.y,O=se*se+me*me,K=se*V-me*re;if(Math.abs(K)>Number.EPSILON){const le=Math.sqrt(O),ye=Math.sqrt(re*re+V*V),ve=R.x-me/le,Oe=R.y+se/le,Le=I.x-V/ye,ze=I.y+re/ye,ot=((Le-ve)*V-(ze-Oe)*re)/(se*V-me*re);Y=ve+se*ot-k.x,$=Oe+me*ot-k.y;const De=Y*Y+$*$;if(De<=2)return new Ae(Y,$);J=Math.sqrt(De/2)}else{let le=!1;se>Number.EPSILON?re>Number.EPSILON&&(le=!0):se<-Number.EPSILON?re<-Number.EPSILON&&(le=!0):Math.sign(me)===Math.sign(V)&&(le=!0),le?(Y=-me,$=se,J=Math.sqrt(O)):(Y=se,$=me,J=Math.sqrt(O/2))}return new Ae(Y/J,$/J)}const Q=[];for(let k=0,R=N.length,I=R-1,Y=k+1;k<R;k++,I++,Y++)I===R&&(I=0),Y===R&&(Y=0),Q[k]=j(N[k],N[I],N[Y]);const Z=[];let X,ce=Q.concat();for(let k=0,R=E.length;k<R;k++){const I=E[k];X=[];for(let Y=0,$=I.length,J=$-1,se=Y+1;Y<$;Y++,J++,se++)J===$&&(J=0),se===$&&(se=0),X[Y]=j(I[Y],I[J],I[se]);Z.push(X),ce=ce.concat(X)}for(let k=0;k<p;k++){const R=k/p,I=h*Math.cos(R*Math.PI/2),Y=m*Math.sin(R*Math.PI/2)+g;for(let $=0,J=N.length;$<J;$++){const se=W(N[$],Q[$],Y);de(se.x,se.y,-I)}for(let $=0,J=E.length;$<J;$++){const se=E[$];X=Z[$];for(let me=0,re=se.length;me<re;me++){const V=W(se[me],X[me],Y);de(V.x,V.y,-I)}}}const Me=m+g;for(let k=0;k<B;k++){const R=f?W(y[k],ce[k],Me):y[k];w?(A.copy(T.normals[0]).multiplyScalar(R.x),C.copy(T.binormals[0]).multiplyScalar(R.y),S.copy(_[0]).add(A).add(C),de(S.x,S.y,S.z)):de(R.x,R.y,0)}for(let k=1;k<=u;k++)for(let R=0;R<B;R++){const I=f?W(y[R],ce[R],Me):y[R];w?(A.copy(T.normals[k]).multiplyScalar(I.x),C.copy(T.binormals[k]).multiplyScalar(I.y),S.copy(_[k]).add(A).add(C),de(S.x,S.y,S.z)):de(I.x,I.y,d/u*k)}for(let k=p-1;k>=0;k--){const R=k/p,I=h*Math.cos(R*Math.PI/2),Y=m*Math.sin(R*Math.PI/2)+g;for(let $=0,J=N.length;$<J;$++){const se=W(N[$],Q[$],Y);de(se.x,se.y,d+I)}for(let $=0,J=E.length;$<J;$++){const se=E[$];X=Z[$];for(let me=0,re=se.length;me<re;me++){const V=W(se[me],X[me],Y);w?de(V.x,V.y+_[u-1].y,_[u-1].x+I):de(V.x,V.y,d+I)}}}ee(),pe();function ee(){const k=s.length/3;if(f){let R=0,I=B*R;for(let Y=0;Y<q;Y++){const $=D[Y];ae($[2]+I,$[1]+I,$[0]+I)}R=u+p*2,I=B*R;for(let Y=0;Y<q;Y++){const $=D[Y];ae($[0]+I,$[1]+I,$[2]+I)}}else{for(let R=0;R<q;R++){const I=D[R];ae(I[2],I[1],I[0])}for(let R=0;R<q;R++){const I=D[R];ae(I[0]+B*u,I[1]+B*u,I[2]+B*u)}}i.addGroup(k,s.length/3-k,0)}function pe(){const k=s.length/3;let R=0;ne(N,R),R+=N.length;for(let I=0,Y=E.length;I<Y;I++){const $=E[I];ne($,R),R+=$.length}i.addGroup(k,s.length/3-k,1)}function ne(k,R){let I=k.length;for(;--I>=0;){const Y=I;let $=I-1;$<0&&($=k.length-1);for(let J=0,se=u+p*2;J<se;J++){const me=B*J,re=B*(J+1),V=R+Y+me,O=R+$+me,K=R+$+re,le=R+Y+re;F(V,O,K,le)}}}function de(k,R,I){l.push(k),l.push(R),l.push(I)}function ae(k,R,I){U(k),U(R),U(I);const Y=s.length/3,$=b.generateTopUV(i,s,Y-3,Y-2,Y-1);z($[0]),z($[1]),z($[2])}function F(k,R,I,Y){U(k),U(R),U(Y),U(R),U(I),U(Y);const $=s.length/3,J=b.generateSideWallUV(i,s,$-6,$-3,$-2,$-1);z(J[0]),z(J[1]),z(J[3]),z(J[1]),z(J[2]),z(J[3])}function U(k){s.push(l[k*3+0]),s.push(l[k*3+1]),s.push(l[k*3+2])}function z(k){r.push(k.x),r.push(k.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return JV(n,i,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=n[e.shapes[r]];i.push(o)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new up[s.type]().fromJSON(s)),new rv(i,e.options)}}const ZV={generateTopUV:function(t,e,n,i,s){const r=e[n*3],a=e[n*3+1],o=e[i*3],l=e[i*3+1],c=e[s*3],u=e[s*3+1];return[new Ae(r,a),new Ae(o,l),new Ae(c,u)]},generateSideWallUV:function(t,e,n,i,s,r){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],f=e[s*3],h=e[s*3+1],m=e[s*3+2],g=e[r*3],p=e[r*3+1],v=e[r*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new Ae(a,1-l),new Ae(c,1-d),new Ae(f,1-m),new Ae(g,1-v)]:[new Ae(o,1-l),new Ae(u,1-d),new Ae(h,1-m),new Ae(p,1-v)]}};function JV(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const r=t[i];n.shapes.push(r.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class av extends Ja{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new av(e.radius,e.detail)}}class uf extends Ja{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new uf(e.radius,e.detail)}}class Qa extends xt{constructor(e=1,n=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s};const r=e/2,a=n/2,o=Math.floor(i),l=Math.floor(s),c=o+1,u=l+1,d=e/o,f=n/l,h=[],m=[],g=[],p=[];for(let v=0;v<u;v++){const b=v*f-a;for(let _=0;_<c;_++){const w=_*d-r;m.push(w,-b,0),g.push(0,0,1),p.push(_/o),p.push(1-v/l)}}for(let v=0;v<l;v++)for(let b=0;b<o;b++){const _=b+c*v,w=b+c*(v+1),T=b+1+c*(v+1),C=b+1+c*v;h.push(_,w,C),h.push(w,T,C)}this.setIndex(h),this.setAttribute("position",new nt(m,3)),this.setAttribute("normal",new nt(g,3)),this.setAttribute("uv",new nt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qa(e.width,e.height,e.widthSegments,e.heightSegments)}}class ov extends xt{constructor(e=.5,n=1,i=32,s=1,r=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:a},i=Math.max(3,i),s=Math.max(1,s);const o=[],l=[],c=[],u=[];let d=e;const f=(n-e)/s,h=new G,m=new Ae;for(let g=0;g<=s;g++){for(let p=0;p<=i;p++){const v=r+p/i*a;h.x=d*Math.cos(v),h.y=d*Math.sin(v),l.push(h.x,h.y,h.z),c.push(0,0,1),m.x=(h.x/n+1)/2,m.y=(h.y/n+1)/2,u.push(m.x,m.y)}d+=f}for(let g=0;g<s;g++){const p=g*(i+1);for(let v=0;v<i;v++){const b=v+p,_=b,w=b+i+1,T=b+i+2,C=b+1;o.push(_,w,C),o.push(w,T,C)}}this.setIndex(o),this.setAttribute("position",new nt(l,3)),this.setAttribute("normal",new nt(c,3)),this.setAttribute("uv",new nt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ov(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class lv extends xt{constructor(e=new qo([new Ae(0,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],s=[],r=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new nt(s,3)),this.setAttribute("normal",new nt(r,3)),this.setAttribute("uv",new nt(a,2));function c(u){const d=s.length/3,f=u.extractPoints(n);let h=f.shape;const m=f.holes;mr.isClockWise(h)===!1&&(h=h.reverse());for(let p=0,v=m.length;p<v;p++){const b=m[p];mr.isClockWise(b)===!0&&(m[p]=b.reverse())}const g=mr.triangulateShape(h,m);for(let p=0,v=m.length;p<v;p++){const b=m[p];h=h.concat(b)}for(let p=0,v=h.length;p<v;p++){const b=h[p];s.push(b.x,b.y,0),r.push(0,0,1),a.push(b.x,b.y)}for(let p=0,v=g.length;p<v;p++){const b=g[p],_=b[0]+d,w=b[1]+d,T=b[2]+d;i.push(_,w,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return QV(n,e)}static fromJSON(e,n){const i=[];for(let s=0,r=e.shapes.length;s<r;s++){const a=n[e.shapes[s]];i.push(a)}return new lv(i,e.curveSegments)}}function QV(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const s=t[n];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class df extends xt{constructor(e=1,n=32,i=16,s=0,r=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:s,phiLength:r,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const u=[],d=new G,f=new G,h=[],m=[],g=[],p=[];for(let v=0;v<=i;v++){const b=[],_=v/i;let w=0;v===0&&a===0?w=.5/n:v===i&&l===Math.PI&&(w=-.5/n);for(let T=0;T<=n;T++){const C=T/n;d.x=-e*Math.cos(s+C*r)*Math.sin(a+_*o),d.y=e*Math.cos(a+_*o),d.z=e*Math.sin(s+C*r)*Math.sin(a+_*o),m.push(d.x,d.y,d.z),f.copy(d).normalize(),g.push(f.x,f.y,f.z),p.push(C+w,1-_),b.push(c++)}u.push(b)}for(let v=0;v<i;v++)for(let b=0;b<n;b++){const _=u[v][b+1],w=u[v][b],T=u[v+1][b],C=u[v+1][b+1];(v!==0||a>0)&&h.push(_,w,C),(v!==i-1||l<Math.PI)&&h.push(w,T,C)}this.setIndex(h),this.setAttribute("position",new nt(m,3)),this.setAttribute("normal",new nt(g,3)),this.setAttribute("uv",new nt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new df(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class cv extends Ja{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new cv(e.radius,e.detail)}}class uv extends xt{constructor(e=1,n=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const a=[],o=[],l=[],c=[],u=new G,d=new G,f=new G;for(let h=0;h<=i;h++)for(let m=0;m<=s;m++){const g=m/s*r,p=h/i*Math.PI*2;d.x=(e+n*Math.cos(p))*Math.cos(g),d.y=(e+n*Math.cos(p))*Math.sin(g),d.z=n*Math.sin(p),o.push(d.x,d.y,d.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(m/s),c.push(h/i)}for(let h=1;h<=i;h++)for(let m=1;m<=s;m++){const g=(s+1)*h+m-1,p=(s+1)*(h-1)+m-1,v=(s+1)*(h-1)+m,b=(s+1)*h+m;a.push(g,p,b),a.push(p,v,b)}this.setIndex(a),this.setAttribute("position",new nt(o,3)),this.setAttribute("normal",new nt(l,3)),this.setAttribute("uv",new nt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uv(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class dv extends xt{constructor(e=1,n=.4,i=64,s=8,r=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:s,p:r,q:a},i=Math.floor(i),s=Math.floor(s);const o=[],l=[],c=[],u=[],d=new G,f=new G,h=new G,m=new G,g=new G,p=new G,v=new G;for(let _=0;_<=i;++_){const w=_/i*r*Math.PI*2;b(w,r,a,e,h),b(w+.01,r,a,e,m),p.subVectors(m,h),v.addVectors(m,h),g.crossVectors(p,v),v.crossVectors(g,p),g.normalize(),v.normalize();for(let T=0;T<=s;++T){const C=T/s*Math.PI*2,A=-n*Math.cos(C),S=n*Math.sin(C);d.x=h.x+(A*v.x+S*g.x),d.y=h.y+(A*v.y+S*g.y),d.z=h.z+(A*v.z+S*g.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(_/i),u.push(T/s)}}for(let _=1;_<=i;_++)for(let w=1;w<=s;w++){const T=(s+1)*(_-1)+(w-1),C=(s+1)*_+(w-1),A=(s+1)*_+w,S=(s+1)*(_-1)+w;o.push(T,C,S),o.push(C,A,S)}this.setIndex(o),this.setAttribute("position",new nt(l,3)),this.setAttribute("normal",new nt(c,3)),this.setAttribute("uv",new nt(u,2));function b(_,w,T,C,A){const S=Math.cos(_),x=Math.sin(_),y=T/w*_,E=Math.cos(y);A.x=C*(2+E)*.5*S,A.y=C*(2+E)*x*.5,A.z=C*Math.sin(y)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class fv extends xt{constructor(e=new R_(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:s,closed:r};const a=e.computeFrenetFrames(n,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new G,l=new G,c=new Ae;let u=new G;const d=[],f=[],h=[],m=[];g(),this.setIndex(m),this.setAttribute("position",new nt(d,3)),this.setAttribute("normal",new nt(f,3)),this.setAttribute("uv",new nt(h,2));function g(){for(let _=0;_<n;_++)p(_);p(r===!1?n:0),b(),v()}function p(_){u=e.getPointAt(_/n,u);const w=a.normals[_],T=a.binormals[_];for(let C=0;C<=s;C++){const A=C/s*Math.PI*2,S=Math.sin(A),x=-Math.cos(A);l.x=x*w.x+S*T.x,l.y=x*w.y+S*T.y,l.z=x*w.z+S*T.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=u.x+i*l.x,o.y=u.y+i*l.y,o.z=u.z+i*l.z,d.push(o.x,o.y,o.z)}}function v(){for(let _=1;_<=n;_++)for(let w=1;w<=s;w++){const T=(s+1)*(_-1)+(w-1),C=(s+1)*_+(w-1),A=(s+1)*_+w,S=(s+1)*(_-1)+w;m.push(T,C,S),m.push(C,A,S)}}function b(){for(let _=0;_<=n;_++)for(let w=0;w<=s;w++)c.x=_/n,c.y=w/s,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new fv(new up[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class JA extends xt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,s=new G,r=new G;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let m=f,g=f+h;m<g;m+=3)for(let p=0;p<3;p++){const v=o.getX(m+p),b=o.getX(m+(p+1)%3);s.fromBufferAttribute(a,v),r.fromBufferAttribute(a,b),p1(s,r,i)===!0&&(n.push(s.x,s.y,s.z),n.push(r.x,r.y,r.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;s.fromBufferAttribute(a,u),r.fromBufferAttribute(a,d),p1(s,r,i)===!0&&(n.push(s.x,s.y,s.z),n.push(r.x,r.y,r.z))}}this.setAttribute("position",new nt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function p1(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(s)===!0?!1:(n.add(i),n.add(s),!0)}var v1=Object.freeze({__proto__:null,BoxGeometry:Za,CapsuleGeometry:ev,CircleGeometry:tv,ConeGeometry:nv,CylinderGeometry:iu,DodecahedronGeometry:iv,EdgesGeometry:YA,ExtrudeGeometry:rv,IcosahedronGeometry:av,LatheGeometry:cf,OctahedronGeometry:uf,PlaneGeometry:Qa,PolyhedronGeometry:Ja,RingGeometry:ov,ShapeGeometry:lv,SphereGeometry:df,TetrahedronGeometry:cv,TorusGeometry:uv,TorusKnotGeometry:dv,TubeGeometry:fv,WireframeGeometry:JA});class QA extends $n{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class rd extends Gi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ff extends $n{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Sr extends ff{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ae(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return bt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Be(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class eP extends $n{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Be(16777215),this.specular=new Be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hi,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tP extends $n{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class nP extends $n{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class iP extends $n{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hi,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class k_ extends $n{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=xA,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class D_ extends $n{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class sP extends $n{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rP extends xi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Fo(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function aP(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oP(t){function e(s,r){return t[s]-t[r]}const n=t.length,i=new Array(n);for(let s=0;s!==n;++s)i[s]=s;return i.sort(e),i}function y0(t,e,n){const i=t.length,s=new t.constructor(i);for(let r=0,a=0;a!==i;++r){const o=n[r]*e;for(let l=0;l!==e;++l)s[a++]=t[o+l]}return s}function O_(t,e,n,i){let s=1,r=t[0];for(;r!==void 0&&r[i]===void 0;)r=t[s++];if(r===void 0)return;let a=r[i];if(a!==void 0)if(Array.isArray(a))do a=r[i],a!==void 0&&(e.push(r.time),n.push.apply(n,a)),r=t[s++];while(r!==void 0);else if(a.toArray!==void 0)do a=r[i],a!==void 0&&(e.push(r.time),a.toArray(n,n.length)),r=t[s++];while(r!==void 0);else do a=r[i],a!==void 0&&(e.push(r.time),n.push(a)),r=t[s++];while(r!==void 0)}function eF(t,e,n,i,s=30){const r=t.clone();r.name=e;const a=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],u=c.getValueSize(),d=[],f=[];for(let h=0;h<c.times.length;++h){const m=c.times[h]*s;if(!(m<n||m>=i)){d.push(c.times[h]);for(let g=0;g<u;++g)f.push(c.values[h*u+g])}}d.length!==0&&(c.times=Fo(d,c.times.constructor),c.values=Fo(f,c.values.constructor),a.push(c))}r.tracks=a;let o=1/0;for(let l=0;l<r.tracks.length;++l)o>r.tracks[l].times[0]&&(o=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*o);return r.resetDuration(),r}function tF(t,e=0,n=t,i=30){i<=0&&(i=30);const s=n.tracks.length,r=e/i;for(let a=0;a<s;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===o.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const m=o.times.length-1;let g;if(r<=o.times[0]){const v=u,b=d-u;g=o.values.slice(v,b)}else if(r>=o.times[m]){const v=m*d+u,b=v+d-u;g=o.values.slice(v,b)}else{const v=o.createInterpolant(),b=u,_=d-u;v.evaluate(r),g=v.resultBuffer.slice(b,_)}l==="quaternion"&&new ei().fromArray(g).normalize().conjugate().toArray(g);const p=c.times.length;for(let v=0;v<p;++v){const b=v*h+f;if(l==="quaternion")ei.multiplyQuaternionsFlat(c.values,b,g,0,c.values,b);else{const _=h-f*2;for(let w=0;w<_;++w)c.values[b+w]-=g[w]}}}return t.blendMode=p_,t}const nF={convertArray:Fo,isTypedArray:aP,getKeyframeOrder:oP,sortedArray:y0,flattenJSON:O_,subclip:eF,makeClipAdditive:tF};class su{constructor(e,n,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,s=n[i],r=n[i-1];e:{t:{let a;n:{i:if(!(e<s)){for(let o=i+2;;){if(s===void 0){if(e<r)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(r=s,s=n[++i],e<s)break t}a=n.length;break n}if(!(e>=r)){const o=n[1];e<o&&(i=2,r=o);for(let l=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(s=r,r=n[--i-1],e>=r)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<n[o]?a=o:i=o+1}if(s=n[i],r=n[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let a=0;a!==s;++a)n[a]=i[r+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class lP extends su{constructor(e,n,i,s){super(e,n,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Oo,endingEnd:Oo}}intervalChanged_(e,n,i){const s=this.parameterPositions;let r=e-2,a=e+1,o=s[r],l=s[a];if(o===void 0)switch(this.getSettings_().endingStart){case No:r=e,o=2*n-i;break;case bd:r=s.length-2,o=n+s[r]-s[r+1];break;default:r=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case No:a=e,l=2*i-n;break;case bd:a=1,l=i+s[1]-s[0];break;default:a=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-i),this._offsetPrev=r*u,this._offsetNext=a*u}interpolate_(e,n,i,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,m=(i-n)/(s-n),g=m*m,p=g*m,v=-f*p+2*f*g-f*m,b=(1+f)*p+(-1.5-2*f)*g+(-.5+f)*m+1,_=(-1-h)*p+(1.5+h)*g+.5*m,w=h*p-h*g;for(let T=0;T!==o;++T)r[T]=v*a[u+T]+b*a[c+T]+_*a[l+T]+w*a[d+T];return r}}class N_ extends su{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(i-n)/(s-n),d=1-u;for(let f=0;f!==o;++f)r[f]=a[c+f]*d+a[l+f]*u;return r}}class cP extends su{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Qs{constructor(e,n,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fo(n,this.TimeBufferType),this.values=Fo(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Fo(e.times,Array),values:Fo(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new cP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new N_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new lP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ll:n=this.InterpolantFactoryMethodDiscrete;break;case cl:n=this.InterpolantFactoryMethodLinear;break;case im:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ll;case this.InterpolantFactoryMethodLinear:return cl;case this.InterpolantFactoryMethodSmooth:return im}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]*=e}return this}trim(e,n){const i=this.times,s=i.length;let r=0,a=s-1;for(;r!==s&&i[r]<e;)++r;for(;a!==-1&&i[a]>n;)--a;if(++a,r!==0||a!==s){r>=a&&(a=Math.max(a,1),r=a-1);const o=this.getValueSize();this.times=i.slice(r,a),this.values=this.values.slice(r*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==r;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(s!==void 0&&aP(s))for(let o=0,l=s.length;o!==l;++o){const c=s[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===im,r=e.length-1;let a=1;for(let o=1;o<r;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(s)l=!0;else{const d=o*i,f=d-i,h=d+i;for(let m=0;m!==i;++m){const g=n[d+m];if(g!==n[f+m]||g!==n[h+m]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const d=o*i,f=a*i;for(let h=0;h!==i;++h)n[f+h]=n[d+h]}++a}}if(r>0){e[a]=e[r];for(let o=r*i,l=a*i,c=0;c!==i;++c)n[l+c]=n[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,s=new i(this.name,e,n);return s.createInterpolant=this.createInterpolant,s}}Qs.prototype.TimeBufferType=Float32Array;Qs.prototype.ValueBufferType=Float32Array;Qs.prototype.DefaultInterpolation=cl;class Tl extends Qs{constructor(e,n,i){super(e,n,i)}}Tl.prototype.ValueTypeName="bool";Tl.prototype.ValueBufferType=Array;Tl.prototype.DefaultInterpolation=ll;Tl.prototype.InterpolantFactoryMethodLinear=void 0;Tl.prototype.InterpolantFactoryMethodSmooth=void 0;class V_ extends Qs{}V_.prototype.ValueTypeName="color";class Hc extends Qs{}Hc.prototype.ValueTypeName="number";class uP extends su{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-n)/(s-n);let c=e*o;for(let u=c+o;c!==u;c+=4)ei.slerpFlat(r,0,a,c-o,a,c,l);return r}}class fl extends Qs{InterpolantFactoryMethodLinear(e){return new uP(this.times,this.values,this.getValueSize(),e)}}fl.prototype.ValueTypeName="quaternion";fl.prototype.InterpolantFactoryMethodSmooth=void 0;class El extends Qs{constructor(e,n,i){super(e,n,i)}}El.prototype.ValueTypeName="string";El.prototype.ValueBufferType=Array;El.prototype.DefaultInterpolation=ll;El.prototype.InterpolantFactoryMethodLinear=void 0;El.prototype.InterpolantFactoryMethodSmooth=void 0;class Gc extends Qs{}Gc.prototype.ValueTypeName="vector";class Wc{constructor(e="",n=-1,i=[],s=$p){this.name=e,this.tracks=i,this.duration=n,this.blendMode=s,this.uuid=fs(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,s=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)n.push(sF(i[a]).scale(s));const r=new this(e.name,e.duration,n,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const n=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=i.length;r!==a;++r)n.push(Qs.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,n,i,s){const r=n.length,a=[];for(let o=0;o<r;o++){let l=[],c=[];l.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);const u=oP(l);l=y0(l,1,u),c=y0(c,1,u),!s&&l[0]===0&&(l.push(r),c.push(c[0])),a.push(new Hc(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===n)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(r);if(u&&u.length>1){const d=u[1];let f=s[d];f||(s[d]=f=[]),f.push(c)}}const a=[];for(const o in s)a.push(this.CreateFromMorphTargetSequence(o,s[o],n,i));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,h,m,g){if(h.length!==0){const p=[],v=[];O_(h,p,v,m),p.length!==0&&g.push(new d(f,p,v))}},s=[],r=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let g=0;g<f[m].morphTargets.length;g++)h[f[m].morphTargets[g]]=-1;for(const g in h){const p=[],v=[];for(let b=0;b!==f[m].morphTargets.length;++b){const _=f[m];p.push(_.time),v.push(_.morphTarget===g?1:0)}s.push(new Hc(".morphTargetInfluence["+g+"]",p,v))}l=h.length*a}else{const h=".bones["+n[d].name+"]";i(Gc,h+".position",f,"pos",s),i(fl,h+".quaternion",f,"rot",s),i(Gc,h+".scale",f,"scl",s)}}return s.length===0?null:new this(r,l,s,o)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,s=e.length;i!==s;++i){const r=this.tracks[i];n=Math.max(n,r.times[r.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function iF(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hc;case"vector":case"vector2":case"vector3":case"vector4":return Gc;case"color":return V_;case"quaternion":return fl;case"bool":case"boolean":return Tl;case"string":return El}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function sF(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=iF(t.type);if(t.times===void 0){const n=[],i=[];O_(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Xr={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class F_{constructor(e,n,i){const s=this;let r=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){o++,r===!1&&s.onStart!==void 0&&s.onStart(u,a,o),r=!0},this.itemEnd=function(u){a++,s.onProgress!==void 0&&s.onProgress(u,a,o),a===o&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(u){s.onError!==void 0&&s.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],m=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return m}return null}}}const dP=new F_;class wi{constructor(e){this.manager=e!==void 0?e:dP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(s,r){i.load(e,s,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}wi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Fr={};class rF extends Error{constructor(e,n){super(e),this.response=n}}class ms extends wi{constructor(e){super(e)}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Xr.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(r),this.manager.itemEnd(e)},0),r;if(Fr[e]!==void 0){Fr[e].push({onLoad:n,onProgress:i,onError:s});return}Fr[e]=[],Fr[e].push({onLoad:n,onProgress:i,onError:s});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Fr[e],d=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),h=f?parseInt(f):0,m=h!==0;let g=0;const p=new ReadableStream({start(v){b();function b(){d.read().then(({done:_,value:w})=>{if(_)v.close();else{g+=w.byteLength;const T=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:h});for(let C=0,A=u.length;C<A;C++){const S=u[C];S.onProgress&&S.onProgress(T)}v.enqueue(w),b()}},_=>{v.error(_)})}}});return new Response(p)}else throw new rF(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(m=>h.decode(m))}}}).then(c=>{Xr.add(e,c);const u=Fr[e];delete Fr[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=Fr[e];if(u===void 0)throw this.manager.itemError(e),c;delete Fr[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class aF extends wi{constructor(e){super(e)}load(e,n,i,s){const r=this,a=new ms(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(r.parse(JSON.parse(o)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n=[];for(let i=0;i<e.length;i++){const s=Wc.parse(e[i]);n.push(s)}return n}}class oF extends wi{constructor(e){super(e)}load(e,n,i,s){const r=this,a=[],o=new Yo,l=new ms(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(r.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const h=r.parse(f,!0);a[d]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=In),o.image=a,o.format=h.format,o.needsUpdate=!0,n&&n(o))},i,s)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=r.parse(d,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let m=0;m<h;m++){a[m]={mipmaps:[]};for(let g=0;g<f.mipmapCount;g++)a[m].mipmaps.push(f.mipmaps[m*f.mipmapCount+g]),a[m].format=f.format,a[m].width=f.width,a[m].height=f.height}o.image=a}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=In),o.format=f.format,o.needsUpdate=!0,n&&n(o)},i,s);return o}}class Ad extends wi{constructor(e){super(e)}load(e,n,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=Xr.get(e);if(a!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(a),r.manager.itemEnd(e)},0),a;const o=Sd("img");function l(){u(),Xr.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(d){u(),s&&s(d),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}}class lF extends wi{constructor(e){super(e)}load(e,n,i,s){const r=new af;r.colorSpace=Li;const a=new Ad(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){r.images[c]=u,o++,o===6&&(r.needsUpdate=!0,n&&n(r))},void 0,s)}for(let c=0;c<e.length;++c)l(c);return r}}class cF extends wi{constructor(e){super(e)}load(e,n,i,s){const r=this,a=new hr,o=new ms(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(e,function(l){let c;try{c=r.parse(l)}catch(u){if(s!==void 0)s(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Ji,a.wrapT=c.wrapT!==void 0?c.wrapT:Ji,a.magFilter=c.magFilter!==void 0?c.magFilter:In,a.minFilter=c.minFilter!==void 0?c.minFilter:In,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=cs),c.mipmapCount===1&&(a.minFilter=In),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},i,s),a}}class fP extends wi{constructor(e){super(e)}load(e,n,i,s){const r=new dn,a=new Ad(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){r.image=o,r.needsUpdate=!0,n!==void 0&&n(r)},i,s),r}}class eo extends Nt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Be(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class hP extends eo{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Be(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Qg=new at,g1=new G,y1=new G;class B_{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ae(512,512),this.map=null,this.mapPass=null,this.matrix=new at,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lf,this._frameExtents=new Ae(1,1),this._viewportCount=1,this._viewports=[new Et(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;g1.setFromMatrixPosition(e.matrixWorld),n.position.copy(g1),y1.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(y1),n.updateMatrixWorld(),Qg.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qg),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Qg)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class uF extends B_{constructor(){super(new tn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=Fc*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=e.distance||n.far;(i!==n.fov||s!==n.aspect||r!==n.far)&&(n.fov=i,n.aspect=s,n.far=r,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class U_ extends eo{constructor(e,n,i=0,s=Math.PI/3,r=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.target=new Nt,this.distance=i,this.angle=s,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new uF}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const b1=new at,Iu=new G,ey=new G;class dF extends B_{constructor(){super(new tn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ae(4,2),this._viewportCount=6,this._viewports=[new Et(2,1,1,1),new Et(0,1,1,1),new Et(3,1,1,1),new Et(1,1,1,1),new Et(3,0,1,1),new Et(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Iu.setFromMatrixPosition(e.matrixWorld),i.position.copy(Iu),ey.copy(i.position),ey.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(ey),i.updateMatrixWorld(),s.makeTranslation(-Iu.x,-Iu.y,-Iu.z),b1.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(b1)}}class z_ extends eo{constructor(e,n,i=0,s=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new dF}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Es extends rf{constructor(e=-1,n=1,i=1,s=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=s,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,s,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,a=i+e,o=s+n,l=s-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,a=r+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class fF extends B_{constructor(){super(new Es(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class H_ extends eo{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.target=new Nt,this.shadow=new fF}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class mP extends eo{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class pP extends eo{constructor(e,n,i=10,s=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class vP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,s=e.y,r=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*s),n.addScaledVector(a[2],.488603*r),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*s)),n.addScaledVector(a[5],1.092548*(s*r)),n.addScaledVector(a[6],.315392*(3*r*r-1)),n.addScaledVector(a[7],1.092548*(i*r)),n.addScaledVector(a[8],.546274*(i*i-s*s)),n}getIrradianceAt(e,n){const i=e.x,s=e.y,r=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*s),n.addScaledVector(a[2],2*.511664*r),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*s),n.addScaledVector(a[5],2*.429043*s*r),n.addScaledVector(a[6],.743125*r*r-.247708),n.addScaledVector(a[7],2*.429043*i*r),n.addScaledVector(a[8],.429043*(i*i-s*s)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,n+s*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,n+s*3);return e}static getBasisAt(e,n){const i=e.x,s=e.y,r=e.z;n[0]=.282095,n[1]=.488603*s,n[2]=.488603*r,n[3]=.488603*i,n[4]=1.092548*i*s,n[5]=1.092548*s*r,n[6]=.315392*(3*r*r-1),n[7]=1.092548*i*r,n[8]=.546274*(i*i-s*s)}}class gP extends eo{constructor(e=new vP,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class hv extends wi{constructor(e){super(e),this.textures={}}load(e,n,i,s){const r=this,a=new ms(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(o){try{n(r.parse(JSON.parse(o)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n=this.textures;function i(r){return n[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),n[r]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new Be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const a=e.uniforms[r];switch(s.uniforms[r]={},a.type){case"t":s.uniforms[r].value=i(a.value);break;case"c":s.uniforms[r].value=new Be().setHex(a.value);break;case"v2":s.uniforms[r].value=new Ae().fromArray(a.value);break;case"v3":s.uniforms[r].value=new G().fromArray(a.value);break;case"v4":s.uniforms[r].value=new Et().fromArray(a.value);break;case"m3":s.uniforms[r].value=new wt().fromArray(a.value);break;case"m4":s.uniforms[r].value=new at().fromArray(a.value);break;default:s.uniforms[r].value=a.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)s.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new Ae().fromArray(r)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Ae().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return hv.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:QA,SpriteMaterial:x_,RawShaderMaterial:rd,ShaderMaterial:Gi,PointsMaterial:Jp,MeshPhysicalMaterial:Sr,MeshStandardMaterial:ff,MeshPhongMaterial:eP,MeshToonMaterial:tP,MeshNormalMaterial:nP,MeshLambertMaterial:iP,MeshDepthMaterial:k_,MeshDistanceMaterial:D_,MeshBasicMaterial:Fi,MeshMatcapMaterial:sP,LineDashedMaterial:rP,LineBasicMaterial:xi,Material:$n};return new n[e]}}class pr{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,s=e.length;i<s;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class yP extends xt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class bP extends wi{constructor(e){super(e)}load(e,n,i,s){const r=this,a=new ms(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(o){try{n(r.parse(JSON.parse(o)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n={},i={};function s(h,m){if(n[m]!==void 0)return n[m];const p=h.interleavedBuffers[m],v=r(h,p.buffer),b=gc(p.type,v),_=new nu(b,p.stride);return _.uuid=p.uuid,n[m]=_,_}function r(h,m){if(i[m]!==void 0)return i[m];const p=h.arrayBuffers[m],v=new Uint32Array(p).buffer;return i[m]=v,v}const a=e.isInstancedBufferGeometry?new yP:new xt,o=e.data.index;if(o!==void 0){const h=gc(o.type,o.array);a.setIndex(new Pt(h,1))}const l=e.data.attributes;for(const h in l){const m=l[h];let g;if(m.isInterleavedBufferAttribute){const p=s(e.data,m.data);g=new gr(p,m.itemSize,m.offset,m.normalized)}else{const p=gc(m.type,m.array),v=m.isInstancedBufferAttribute?zc:Pt;g=new v(p,m.itemSize,m.normalized)}m.name!==void 0&&(g.name=m.name),m.usage!==void 0&&g.setUsage(m.usage),a.setAttribute(h,g)}const c=e.data.morphAttributes;if(c)for(const h in c){const m=c[h],g=[];for(let p=0,v=m.length;p<v;p++){const b=m[p];let _;if(b.isInterleavedBufferAttribute){const w=s(e.data,b.data);_=new gr(w,b.itemSize,b.offset,b.normalized)}else{const w=gc(b.type,b.array);_=new Pt(w,b.itemSize,b.normalized)}b.name!==void 0&&(_.name=b.name),g.push(_)}a.morphAttributes[h]=g}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let h=0,m=d.length;h!==m;++h){const g=d[h];a.addGroup(g.start,g.count,g.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new G;f.center!==void 0&&h.fromArray(f.center),a.boundingSphere=new ni(h,f.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class hF extends wi{constructor(e){super(e)}load(e,n,i,s){const r=this,a=this.path===""?pr.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new ms(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){s!==void 0&&s(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(c,n)},i,s)}async loadAsync(e,n){const i=this,s=this.path===""?pr.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const r=new ms(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const a=await r.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,n){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,s),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,r,l,o,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let d=!1;for(const f in a)if(a[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,s,o,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const r=new qo().fromJSON(e[i]);n[r.uuid]=r}return n}parseSkeletons(e,n){const i={},s={};if(n.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),e!==void 0)for(let r=0,a=e.length;r<a;r++){const o=new of().fromJSON(e[r],s);i[o.uuid]=o}return i}parseGeometries(e,n){const i={};if(e!==void 0){const s=new bP;for(let r=0,a=e.length;r<a;r++){let o;const l=e[r];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=s.parse(l);break;default:l.type in v1?o=v1[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,n){const i={},s={};if(e!==void 0){const r=new hv;r.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=r.parse(l)),s[l.uuid]=i[l.uuid]}}return s}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],r=Wc.parse(s);n[r.uuid]=r}return n}parseImages(e,n){const i=this,s={};let r;function a(l){return i.manager.itemStart(l),r.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(u)}else return l.data?{data:gc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new F_(n);r=new Ad(l),r.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const h=[];for(let m=0,g=f.length;m<g;m++){const p=f[m],v=o(p);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new hr(v.data,v.width,v.height)))}s[d.uuid]=new Vo(h)}else{const h=o(d.url);s[d.uuid]=new Vo(h)}}}return s}async parseImagesAsync(e){const n=this,i={};let s;async function r(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await s.loadAsync(l)}else return a.data?{data:gc(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){s=new Ad(this.manager),s.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d],m=await r(h);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new hr(m.data,m.width,m.height)))}i[l.uuid]=new Vo(u)}else{const u=await r(l.url);i[l.uuid]=new Vo(u)}}}return i}parseTextures(e,n){function i(r,a){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),a[r])}const s={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const o=e[r];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new af,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new hr:u=new dn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=i(o.mapping,mF)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=i(o.wrap[0],_1),u.wrapT=i(o.wrap[1],_1)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=i(o.minFilter,x1)),o.magFilter!==void 0&&(u.magFilter=i(o.magFilter,x1)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),s[o.uuid]=u}return s}parseObject(e,n,i,s,r){let a;function o(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let m=0,g=f.length;m<g;m++){const p=f[m];i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),h.push(i[p])}return h}return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function c(f){return s[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),s[f]}let u,d;switch(e.type){case"Scene":a=new Uc,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Be(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Kp(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new qp(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new tn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Es(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new mP(e.color,e.intensity);break;case"DirectionalLight":a=new H_(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new z_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new pP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new U_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new hP(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new gP().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),a=new w_(u,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),a=new an(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const f=e.count,h=e.instanceMatrix,m=e.instanceColor;a=new S_(u,d,f),a.instanceMatrix=new zc(new Float32Array(h.array),16),m!==void 0&&(a.instanceColor=new zc(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":u=o(e.geometry),d=l(e.material),a=new zA(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(g=>{const p=new ti;p.min.fromArray(g.boxMin),p.max.fromArray(g.boxMax);const v=new ni;return v.radius=g.sphereRadius,v.center.fromArray(g.sphereCenter),{boxInitialized:g.boxInitialized,box:p,sphereInitialized:g.sphereInitialized,sphere:v}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new UA;break;case"Line":a=new ra(o(e.geometry),l(e.material));break;case"LineLoop":a=new M_(o(e.geometry),l(e.material));break;case"LineSegments":a=new Zs(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new C_(o(e.geometry),l(e.material));break;case"Sprite":a=new BA(l(e.material));break;case"Group":a=new jr;break;case"Bone":a=new Zp;break;default:a=new Nt}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)a.add(this.parseObject(f[h],n,i,s,r))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const m=f[h];a.animations.push(r[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const m=f[h],g=a.getObjectByProperty("uuid",m.object);g!==void 0&&a.addLevel(g,m.distance,m.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=n[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,s=e.getObjectByProperty("uuid",i);s!==void 0?n.target=s:n.target=new Nt}})}}const mF={UVMapping:Fp,CubeReflectionMapping:na,CubeRefractionMapping:Wa,EquirectangularReflectionMapping:gd,EquirectangularRefractionMapping:yd,CubeUVReflectionMapping:tu},_1={RepeatWrapping:ia,ClampToEdgeWrapping:Ji,MirroredRepeatWrapping:rl},x1={NearestFilter:Wn,NearestMipmapNearestFilter:ef,NearestMipmapLinearFilter:Fa,LinearFilter:In,LinearMipmapNearestFilter:$o,LinearMipmapLinearFilter:cs};class _P extends wi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=Xr.get(e);if(a!==void 0){if(r.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),r.manager.itemEnd(e)}).catch(c=>{s&&s(c)});return}return setTimeout(function(){n&&n(a),r.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(c){return Xr.add(e,c),n&&n(c),r.manager.itemEnd(e),c}).catch(function(c){s&&s(c),Xr.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});Xr.add(e,l),r.manager.itemStart(e)}}let Eh;class G_{static getContext(){return Eh===void 0&&(Eh=new(window.AudioContext||window.webkitAudioContext)),Eh}static setContext(e){Eh=e}}class pF extends wi{constructor(e){super(e)}load(e,n,i,s){const r=this,a=new ms(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);G_.getContext().decodeAudioData(c,function(d){n(d)}).catch(o)}catch(c){o(c)}},i,s);function o(l){s?s(l):console.error(l),r.manager.itemError(e)}}}const w1=new at,S1=new at,vo=new at;class vF{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new tn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new tn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,vo.copy(e.projectionMatrix);const s=n.eyeSep/2,r=s*n.near/n.focus,a=n.near*Math.tan(Xo*n.fov*.5)/n.zoom;let o,l;S1.elements[12]=-s,w1.elements[12]=s,o=-a*n.aspect+r,l=a*n.aspect+r,vo.elements[0]=2*n.near/(l-o),vo.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(vo),o=-a*n.aspect-r,l=a*n.aspect-r,vo.elements[0]=2*n.near/(l-o),vo.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(vo)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(S1),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(w1)}}class xP extends tn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class W_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=M1(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=M1();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function M1(){return performance.now()}const go=new G,C1=new ei,gF=new G,yo=new G;class yF extends Nt{constructor(){super(),this.type="AudioListener",this.context=G_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new W_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(go,C1,gF),yo.set(0,0,-1).applyQuaternion(C1),n.positionX){const s=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(go.x,s),n.positionY.linearRampToValueAtTime(go.y,s),n.positionZ.linearRampToValueAtTime(go.z,s),n.forwardX.linearRampToValueAtTime(yo.x,s),n.forwardY.linearRampToValueAtTime(yo.y,s),n.forwardZ.linearRampToValueAtTime(yo.z,s),n.upX.linearRampToValueAtTime(i.x,s),n.upY.linearRampToValueAtTime(i.y,s),n.upZ.linearRampToValueAtTime(i.z,s)}else n.setPosition(go.x,go.y,go.z),n.setOrientation(yo.x,yo.y,yo.z,i.x,i.y,i.z)}}class wP extends Nt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const bo=new G,T1=new ei,bF=new G,_o=new G;class _F extends wP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bo,T1,bF),_o.set(0,0,1).applyQuaternion(T1);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(bo.x,i),n.positionY.linearRampToValueAtTime(bo.y,i),n.positionZ.linearRampToValueAtTime(bo.z,i),n.orientationX.linearRampToValueAtTime(_o.x,i),n.orientationY.linearRampToValueAtTime(_o.y,i),n.orientationZ.linearRampToValueAtTime(_o.z,i)}else n.setPosition(bo.x,bo.y,bo.z),n.setOrientation(_o.x,_o.y,_o.z)}}class xF{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class SP{constructor(e,n,i){this.binding=e,this.valueSize=i;let s,r,a;switch(n){case"quaternion":s=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,s=this.valueSize,r=e*s+s;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==s;++o)i[r+o]=i[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(i,r,0,o,s)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,s=e*n+n,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const l=n*this._origIndex;this._mixBufferRegion(i,s,l,1-r,n)}a>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){o.setValue(i,s);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(n,s);for(let r=i,a=s;r!==a;++r)n[r]=n[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,s,r){if(s>=.5)for(let a=0;a!==r;++a)e[n+a]=e[i+a]}_slerp(e,n,i,s){ei.slerpFlat(e,n,e,n,e,i,s)}_slerpAdditive(e,n,i,s,r){const a=this._workIndex*r;ei.multiplyQuaternionsFlat(e,a,e,n,e,i),ei.slerpFlat(e,n,e,n,e,a,s)}_lerp(e,n,i,s,r){const a=1-s;for(let o=0;o!==r;++o){const l=n+o;e[l]=e[l]*a+e[i+o]*s}}_lerpAdditive(e,n,i,s,r){for(let a=0;a!==r;++a){const o=n+a;e[o]=e[o]+e[i+a]*s}}}const $_="\\[\\]\\.:\\/",wF=new RegExp("["+$_+"]","g"),j_="[^"+$_+"]",SF="[^"+$_.replace("\\.","")+"]",MF=/((?:WC+[\/:])*)/.source.replace("WC",j_),CF=/(WCOD+)?/.source.replace("WCOD",SF),TF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",j_),EF=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",j_),AF=new RegExp("^"+MF+CF+TF+EF+"$"),PF=["material","materials","bones","map"];class IF{constructor(e,n,i){const s=i||At.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,s)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class At{constructor(e,n,i){this.path=n,this.parsedPath=i||At.parseTrackName(n),this.node=At.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new At.Composite(e,n,i):new At(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(wF,"")}static parseTrackName(e){const n=AF.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);PF.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(r){for(let a=0;a<r.length;a++){const o=r[a];if(o.name===n||o.uuid===n)return o;const l=i(o.children);if(l)return l}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)e[n++]=i[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,s=n.propertyName;let r=n.propertyIndex;if(e||(e=At.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[s];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+s+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}At.Composite=IF;At.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};At.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};At.prototype.GetterByBindingType=[At.prototype._getValue_direct,At.prototype._getValue_array,At.prototype._getValue_arrayElement,At.prototype._getValue_toArray];At.prototype.SetterByBindingTypeAndVersioning=[[At.prototype._setValue_direct,At.prototype._setValue_direct_setNeedsUpdate,At.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[At.prototype._setValue_array,At.prototype._setValue_array_setNeedsUpdate,At.prototype._setValue_array_setMatrixWorldNeedsUpdate],[At.prototype._setValue_arrayElement,At.prototype._setValue_arrayElement_setNeedsUpdate,At.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[At.prototype._setValue_fromArray,At.prototype._setValue_fromArray_setNeedsUpdate,At.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class RF{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,a=r.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],h=f.uuid;let m=n[h];if(m===void 0){m=l++,n[h]=m,e.push(f);for(let g=0,p=a;g!==p;++g)r[g].push(new At(f,i[g],s[g]))}else if(m<c){o=e[m];const g=--c,p=e[g];n[p.uuid]=m,e[m]=p,n[h]=g,e[g]=f;for(let v=0,b=a;v!==b;++v){const _=r[v],w=_[g];let T=_[m];_[m]=w,T===void 0&&(T=new At(f,i[v],s[v])),_[g]=T}}else e[m]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=r){const d=r++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let h=0,m=s;h!==m;++h){const g=i[h],p=g[d],v=g[u];g[u]=p,g[d]=v}}}this.nCachedObjects_=r}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<r){const f=--r,h=e[f],m=--a,g=e[m];n[h.uuid]=d,e[d]=h,n[g.uuid]=f,e[f]=g,e.pop();for(let p=0,v=s;p!==v;++p){const b=i[p],_=b[f],w=b[m];b[d]=_,b[f]=w,b.pop()}}else{const f=--a,h=e[f];f>0&&(n[h.uuid]=d),e[d]=h,e.pop();for(let m=0,g=s;m!==g;++m){const p=i[m];p[d]=p[f],p.pop()}}}this.nCachedObjects_=r}subscribe_(e,n){const i=this._bindingsIndicesByPath;let s=i[e];const r=this._bindings;if(s!==void 0)return r[s];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);s=r.length,i[e]=s,a.push(e),o.push(n),r.push(d);for(let f=u,h=l.length;f!==h;++f){const m=l[f];d[f]=new At(m,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const s=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];n[c]=i,a[i]=l,a.pop(),r[i]=r[o],r.pop(),s[i]=s[o],s.pop()}}}class MP{constructor(e,n,i=null,s=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=s;const r=n.tracks,a=r.length,o=new Array(a),l={endingStart:Oo,endingEnd:Oo};for(let c=0;c!==a;++c){const u=r[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=yA,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const s=this._clip.duration,r=e._clip.duration,a=r/s,o=s/r;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const s=this._mixer,r=s.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=s._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=r,l[1]=r+i,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const l=(e-r)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case p_:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case $p:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(s,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let s=this.time+e,r=this._loopCount;const a=i===bA;if(e===0)return r===-1?s:a&&(r&1)===1?n-s:s;if(i===gA){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),s>=n||s<0){const o=Math.floor(s/n);s-=n*o,r+=Math.abs(o);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=s;if(a&&(r&1)===1)return n-s}return s}_setEndings(e,n,i){const s=this._interpolantSettings;i?(s.endingStart=No,s.endingEnd=No):(e?s.endingStart=this.zeroSlopeAtStart?No:Oo:s.endingStart=bd,n?s.endingEnd=this.zeroSlopeAtEnd?No:Oo:s.endingEnd=bd)}_scheduleFading(e,n,i){const s=this._mixer,r=s.time;let a=this._weightInterpolant;a===null&&(a=s._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=r,l[0]=n,o[1]=r+e,l[1]=i,this}}const LF=new Float32Array(1);class kF extends Ks{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,s=e._clip.tracks,r=s.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==r;++d){const f=s[d],h=f.name;let m=u[h];if(m!==void 0)++m.referenceCount,a[d]=m;else{if(m=a[d],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,h));continue}const g=n&&n._propertyBindings[d].binding.parsedPath;m=new SP(At.create(i,h,g),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,h),a[d]=m}o[d].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,i)}const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const s=this._actions,r=this._actionsByClip;let a=r[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=s.length,s.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],s=e._cacheIndex;i._cacheIndex=s,n[s]=i,n.pop(),e._cacheIndex=null;const r=e._clip.uuid,a=this._actionsByClip,o=a[r],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,s=this._nActiveActions++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,s=--this._nActiveActions,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_addInactiveBinding(e,n,i){const s=this._bindingsByRootAndName,r=this._bindings;let a=s[n];a===void 0&&(a={},s[n]=a),a[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,s=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[s],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[r],Object.keys(o).length===0&&delete a[s]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new N_(new Float32Array(2),new Float32Array(2),1,LF),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=n[s];e.__cacheIndex=s,n[s]=e,r.__cacheIndex=i,n[i]=r}clipAction(e,n,i){const s=n||this._root,r=s.uuid;let a=typeof e=="string"?Wc.findByName(s,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=$p),l!==void 0){const d=l.actionByRoot[r];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new MP(this,a,n,i);return this._bindAction(u,c),this._addInactiveAction(u,o,r),u}existingAction(e,n){const i=n||this._root,s=i.uuid,r=typeof e=="string"?Wc.findByName(i,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[s]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,s=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(s,e,r,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const a=r.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete s[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const s=this._bindingsByRootAndName,r=s[n];if(r!==void 0)for(const a in r){const o=r[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class DF extends jp{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new Xp(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class OF extends jp{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new nf(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class mv{constructor(e){this.value=e}clone(){return new mv(this.value.clone===void 0?this.value:this.value.clone())}}let NF=0;class VF extends Ks{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:NF++}),this.name="",this.usage=xd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,s=n.length;i<s;i++){const r=Array.isArray(n[i])?n[i]:[n[i]];for(let a=0;a<r.length;a++)this.uniforms.push(r[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class FF extends nu{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class BF{constructor(e,n,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const E1=new at;class CP{constructor(e,n,i=0,s=1/0){this.ray=new Cl(e,n),this.near=i,this.far=s,this.camera=null,this.layers=new Yp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return E1.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(E1),this}intersectObject(e,n=!0,i=[]){return b0(e,this,i,n),i.sort(A1),i}intersectObjects(e,n=!0,i=[]){for(let s=0,r=e.length;s<r;s++)b0(e[s],this,i,n);return i.sort(A1),i}}function A1(t,e){return t.distance-e.distance}function b0(t,e,n,i){let s=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(s=!1),s===!0&&i===!0){const r=t.children;for(let a=0,o=r.length;a<o;a++)b0(r[a],e,n,!0)}}class _0{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=bt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(bt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class UF{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class X_{constructor(e,n,i,s){X_.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,s){const r=this.elements;return r[0]=e,r[2]=n,r[1]=i,r[3]=s,this}}const P1=new Ae;class TP{constructor(e=new Ae(1/0,1/0),n=new Ae(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=P1.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,P1).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const I1=new G,Ah=new G;class EP{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){I1.subVectors(e,this.start),Ah.subVectors(this.end,this.start);const i=Ah.dot(Ah);let r=Ah.dot(I1)/i;return n&&(r=bt(r,0,1)),r}closestPointToPoint(e,n,i){const s=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const R1=new G;class zF extends Nt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new xt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;s.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new nt(s,3));const r=new xi({fog:!1,toneMapped:!1});this.cone=new Zs(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),R1.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(R1),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ma=new G,Ph=new at,ty=new at;class HF extends Zs{constructor(e){const n=AP(e),i=new xt,s=[],r=[],a=new Be(0,0,1),o=new Be(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}i.setAttribute("position",new nt(s,3)),i.setAttribute("color",new nt(r,3));const l=new xi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,s=i.getAttribute("position");ty.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<n.length;r++){const o=n[r];o.parent&&o.parent.isBone&&(Ph.multiplyMatrices(ty,o.matrixWorld),Ma.setFromMatrixPosition(Ph),s.setXYZ(a,Ma.x,Ma.y,Ma.z),Ph.multiplyMatrices(ty,o.parent.matrixWorld),Ma.setFromMatrixPosition(Ph),s.setXYZ(a+1,Ma.x,Ma.y,Ma.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function AP(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,AP(t.children[n]));return e}class GF extends an{constructor(e,n,i){const s=new df(n,4,2),r=new Fi({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const WF=new G,L1=new Be,k1=new Be;class $F extends Nt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new uf(n);s.rotateY(Math.PI*.5),this.material=new Fi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),a=new Float32Array(r.count*3);s.setAttribute("color",new Pt(a,3)),this.add(new an(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");L1.copy(this.light.color),k1.copy(this.light.groundColor);for(let i=0,s=n.count;i<s;i++){const r=i<s/2?L1:k1;n.setXYZ(i,r.r,r.g,r.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(WF.setFromMatrixPosition(this.light.matrixWorld).negate())}}class jF extends Zs{constructor(e=10,n=10,i=4473924,s=8947848){i=new Be(i),s=new Be(s);const r=n/2,a=e/n,o=e/2,l=[],c=[];for(let f=0,h=0,m=-o;f<=n;f++,m+=a){l.push(-o,0,m,o,0,m),l.push(m,0,-o,m,0,o);const g=f===r?i:s;g.toArray(c,h),h+=3,g.toArray(c,h),h+=3,g.toArray(c,h),h+=3,g.toArray(c,h),h+=3}const u=new xt;u.setAttribute("position",new nt(l,3)),u.setAttribute("color",new nt(c,3));const d=new xi({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class XF extends Zs{constructor(e=10,n=16,i=8,s=64,r=4473924,a=8947848){r=new Be(r),a=new Be(a);const o=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),h=Math.sin(f)*e,m=Math.cos(f)*e;o.push(0,0,0),o.push(h,0,m);const g=d&1?r:a;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let d=0;d<i;d++){const f=d&1?r:a,h=e-e/i*d;for(let m=0;m<s;m++){let g=m/s*(Math.PI*2),p=Math.sin(g)*h,v=Math.cos(g)*h;o.push(p,0,v),l.push(f.r,f.g,f.b),g=(m+1)/s*(Math.PI*2),p=Math.sin(g)*h,v=Math.cos(g)*h,o.push(p,0,v),l.push(f.r,f.g,f.b)}}const c=new xt;c.setAttribute("position",new nt(o,3)),c.setAttribute("color",new nt(l,3));const u=new xi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const D1=new G,Ih=new G,O1=new G;class YF extends Nt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let s=new xt;s.setAttribute("position",new nt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const r=new xi({fog:!1,toneMapped:!1});this.lightPlane=new ra(s,r),this.add(this.lightPlane),s=new xt,s.setAttribute("position",new nt([0,0,0,0,0,1],3)),this.targetLine=new ra(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),D1.setFromMatrixPosition(this.light.matrixWorld),Ih.setFromMatrixPosition(this.light.target.matrixWorld),O1.subVectors(Ih,D1),this.lightPlane.lookAt(Ih),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ih),this.targetLine.scale.z=O1.length()}}const Rh=new G,En=new rf;class qF extends Zs{constructor(e){const n=new xt,i=new xi({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(m,g){l(m),l(g)}function l(m){s.push(0,0,0),r.push(0,0,0),a[m]===void 0&&(a[m]=[]),a[m].push(s.length/3-1)}n.setAttribute("position",new nt(s,3)),n.setAttribute("color",new nt(r,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Be(16755200),u=new Be(16711680),d=new Be(43775),f=new Be(16777215),h=new Be(3355443);this.setColors(c,u,d,f,h)}setColors(e,n,i,s,r){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,s.r,s.g,s.b),o.setXYZ(39,s.r,s.g,s.b),o.setXYZ(40,r.r,r.g,r.b),o.setXYZ(41,r.r,r.g,r.b),o.setXYZ(42,r.r,r.g,r.b),o.setXYZ(43,r.r,r.g,r.b),o.setXYZ(44,r.r,r.g,r.b),o.setXYZ(45,r.r,r.g,r.b),o.setXYZ(46,r.r,r.g,r.b),o.setXYZ(47,r.r,r.g,r.b),o.setXYZ(48,r.r,r.g,r.b),o.setXYZ(49,r.r,r.g,r.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,s=1;En.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===zs?-1:0;kn("c",n,e,En,0,0,r),kn("t",n,e,En,0,0,1),kn("n1",n,e,En,-1,-1,r),kn("n2",n,e,En,i,-1,r),kn("n3",n,e,En,-1,s,r),kn("n4",n,e,En,i,s,r),kn("f1",n,e,En,-1,-1,1),kn("f2",n,e,En,i,-1,1),kn("f3",n,e,En,-1,s,1),kn("f4",n,e,En,i,s,1),kn("u1",n,e,En,i*.7,s*1.1,r),kn("u2",n,e,En,-1*.7,s*1.1,r),kn("u3",n,e,En,0,s*2,r),kn("cf1",n,e,En,-1,0,1),kn("cf2",n,e,En,i,0,1),kn("cf3",n,e,En,0,-1,1),kn("cf4",n,e,En,0,s,1),kn("cn1",n,e,En,-1,0,r),kn("cn2",n,e,En,i,0,r),kn("cn3",n,e,En,0,-1,r),kn("cn4",n,e,En,0,s,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kn(t,e,n,i,s,r,a){Rh.set(s,r,a).unproject(i);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],Rh.x,Rh.y,Rh.z)}}const Lh=new ti;class KF extends Zs{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new xt;r.setIndex(new Pt(i,1)),r.setAttribute("position",new Pt(s,3)),super(r,new xi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Lh.setFromObject(this.object),Lh.isEmpty())return;const n=Lh.min,i=Lh.max,s=this.geometry.attributes.position,r=s.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=n.x,r[4]=i.y,r[5]=i.z,r[6]=n.x,r[7]=n.y,r[8]=i.z,r[9]=i.x,r[10]=n.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=n.z,r[15]=n.x,r[16]=i.y,r[17]=n.z,r[18]=n.x,r[19]=n.y,r[20]=n.z,r[21]=i.x,r[22]=n.y,r[23]=n.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ZF extends Zs{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new xt;r.setIndex(new Pt(i,1)),r.setAttribute("position",new nt(s,3)),super(r,new xi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class JF extends ra{constructor(e,n=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new xt;a.setAttribute("position",new nt(r,3)),a.computeBoundingSphere(),super(a,new xi({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new xt;l.setAttribute("position",new nt(o,3)),l.computeBoundingSphere(),this.add(new an(l,new Fi({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const N1=new G;let kh,ny;class QF extends Nt{constructor(e=new G(0,0,1),n=new G(0,0,0),i=1,s=16776960,r=i*.2,a=r*.2){super(),this.type="ArrowHelper",kh===void 0&&(kh=new xt,kh.setAttribute("position",new nt([0,0,0,0,1,0],3)),ny=new iu(0,.5,1,5,1),ny.translate(0,-.5,0)),this.position.copy(n),this.line=new ra(kh,new xi({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new an(ny,new Fi({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{N1.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(N1,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class eB extends Zs{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new xt;s.setAttribute("position",new nt(n,3)),s.setAttribute("color",new nt(i,3));const r=new xi({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(e,n,i){const s=new Be,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(n),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class PP{constructor(){this.type="ShapePath",this.color=new Be,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Md,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,s){return this.currentPath.quadraticCurveTo(e,n,i,s),this}bezierCurveTo(e,n,i,s,r,a){return this.currentPath.bezierCurveTo(e,n,i,s,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const b=[];for(let _=0,w=v.length;_<w;_++){const T=v[_],C=new qo;C.curves=T.curves,b.push(C)}return b}function i(v,b){const _=b.length;let w=!1;for(let T=_-1,C=0;C<_;T=C++){let A=b[T],S=b[C],x=S.x-A.x,y=S.y-A.y;if(Math.abs(y)>Number.EPSILON){if(y<0&&(A=b[C],x=-x,S=b[T],y=-y),v.y<A.y||v.y>S.y)continue;if(v.y===A.y){if(v.x===A.x)return!0}else{const E=y*(v.x-A.x)-x*(v.y-A.y);if(E===0)return!0;if(E<0)continue;w=!w}}else{if(v.y!==A.y)continue;if(S.x<=v.x&&v.x<=A.x||A.x<=v.x&&v.x<=S.x)return!0}}return w}const s=mr.isClockWise,r=this.subPaths;if(r.length===0)return[];let a,o,l;const c=[];if(r.length===1)return o=r[0],l=new qo,l.curves=o.curves,c.push(l),c;let u=!s(r[0].getPoints());u=e?!u:u;const d=[],f=[];let h=[],m=0,g;f[m]=void 0,h[m]=[];for(let v=0,b=r.length;v<b;v++)o=r[v],g=o.getPoints(),a=s(g),a=e?!a:a,a?(!u&&f[m]&&m++,f[m]={s:new qo,p:g},f[m].s.curves=o.curves,u&&m++,h[m]=[]):h[m].push({h:o,p:g[0]});if(!f[0])return n(r);if(f.length>1){let v=!1,b=0;for(let _=0,w=f.length;_<w;_++)d[_]=[];for(let _=0,w=f.length;_<w;_++){const T=h[_];for(let C=0;C<T.length;C++){const A=T[C];let S=!0;for(let x=0;x<f.length;x++)i(A.p,f[x].p)&&(_!==x&&b++,S?(S=!1,d[x].push(A)):v=!0);S&&d[_].push(A)}}b>0&&v===!1&&(h=d)}let p;for(let v=0,b=f.length;v<b;v++){l=f[v].s,c.push(l),p=h[v];for(let _=0,w=p.length;_<w;_++)l.holes.push(p[_].h)}return c}}class tB extends Ks{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function nB(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function iB(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function sB(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function x0(t,e,n,i){const s=rB(i);switch(n){case c_:return t*e;case d_:return t*e;case f_:return t*e*2;case Hp:return t*e/s.components*s.byteLength;case tf:return t*e/s.components*s.byteLength;case h_:return t*e*2/s.components*s.byteLength;case Gp:return t*e*2/s.components*s.byteLength;case u_:return t*e*3/s.components*s.byteLength;case gi:return t*e*4/s.components*s.byteLength;case Wp:return t*e*4/s.components*s.byteLength;case Zu:case Ju:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Qu:case ed:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Nm:case Fm:return Math.max(t,16)*Math.max(e,8)/4;case Om:case Vm:return Math.max(t,8)*Math.max(e,8)/2;case Bm:case Um:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case zm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Hm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Gm:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Wm:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case $m:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case jm:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Xm:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Ym:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case qm:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Km:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Zm:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Jm:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Qm:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case ep:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case tp:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case td:case np:case ip:return Math.ceil(t/4)*Math.ceil(e/4)*16;case m_:case sp:return Math.ceil(t/4)*Math.ceil(e/4)*8;case rp:case ap:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function rB(t){switch(t){case Ps:case a_:return{byteLength:1,components:1};case Vc:case o_:case Ml:return{byteLength:2,components:1};case Up:case zp:return{byteLength:2,components:4};case sa:case Bp:case Qi:return{byteLength:4,components:1};case l_:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const aB={contain:nB,cover:iB,fill:sB,getByteLength:x0};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:eu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=eu);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function IP(){let t=null,e=!1,n=null,i=null;function s(r,a){n(r,a),i=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function oB(t){const e=new WeakMap;function n(o,l){const c=o.array,u=o.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function i(o,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,o),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,m)=>h.start-m.start);let f=0;for(let h=1;h<d.length;h++){const m=d[f],g=d[h];g.start<=m.start+m.count+1?m.count=Math.max(m.count,g.start+g.count-m.start):(++f,d[f]=g)}d.length=f+1;for(let h=0,m=d.length;h<m;h++){const g=d[h];t.bufferSubData(c,g.start*u.BYTES_PER_ELEMENT,u,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function s(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function r(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:s,remove:r,update:a}}var lB=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,cB=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,uB=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,dB=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fB=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hB=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,mB=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,pB=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,vB=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,gB=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,yB=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,bB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_B=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,xB=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wB=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,SB=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,MB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,CB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,TB=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,EB=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,AB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,PB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,IB=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,RB=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,LB=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kB=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,DB=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,OB=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,NB=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,VB=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,FB="gl_FragColor = linearToOutputTexel( gl_FragColor );",BB=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,UB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zB=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,HB=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,GB=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,WB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$B=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jB=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,XB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,YB=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,KB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,ZB=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,JB=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,QB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eU=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,sU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,rU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,aU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,oU=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,uU=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dU=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fU=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hU=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,mU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,pU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,vU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gU=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,bU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_U=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,xU=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,SU=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,MU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,CU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,TU=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,EU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,AU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,PU=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,IU=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,RU=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,LU=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,kU=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,DU=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,OU=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,NU=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,VU=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,FU=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,BU=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,UU=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zU=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HU=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GU=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,WU=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$U=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,jU=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,XU=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,YU=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,qU=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,KU=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ZU=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,JU=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,QU=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ez=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tz=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,iz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,sz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,az=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const oz=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lz=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uz=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hz=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,mz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,pz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,vz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,gz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,yz=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_z=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xz=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,wz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Tz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ez=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Az=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Pz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Iz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Lz=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dz=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Oz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Nz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Vz=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Bz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Uz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Tt={alphahash_fragment:lB,alphahash_pars_fragment:cB,alphamap_fragment:uB,alphamap_pars_fragment:dB,alphatest_fragment:fB,alphatest_pars_fragment:hB,aomap_fragment:mB,aomap_pars_fragment:pB,batching_pars_vertex:vB,batching_vertex:gB,begin_vertex:yB,beginnormal_vertex:bB,bsdfs:_B,iridescence_fragment:xB,bumpmap_pars_fragment:wB,clipping_planes_fragment:SB,clipping_planes_pars_fragment:MB,clipping_planes_pars_vertex:CB,clipping_planes_vertex:TB,color_fragment:EB,color_pars_fragment:AB,color_pars_vertex:PB,color_vertex:IB,common:RB,cube_uv_reflection_fragment:LB,defaultnormal_vertex:kB,displacementmap_pars_vertex:DB,displacementmap_vertex:OB,emissivemap_fragment:NB,emissivemap_pars_fragment:VB,colorspace_fragment:FB,colorspace_pars_fragment:BB,envmap_fragment:UB,envmap_common_pars_fragment:zB,envmap_pars_fragment:HB,envmap_pars_vertex:GB,envmap_physical_pars_fragment:eU,envmap_vertex:WB,fog_vertex:$B,fog_pars_vertex:jB,fog_fragment:XB,fog_pars_fragment:YB,gradientmap_pars_fragment:qB,lightmap_pars_fragment:KB,lights_lambert_fragment:ZB,lights_lambert_pars_fragment:JB,lights_pars_begin:QB,lights_toon_fragment:tU,lights_toon_pars_fragment:nU,lights_phong_fragment:iU,lights_phong_pars_fragment:sU,lights_physical_fragment:rU,lights_physical_pars_fragment:aU,lights_fragment_begin:oU,lights_fragment_maps:lU,lights_fragment_end:cU,logdepthbuf_fragment:uU,logdepthbuf_pars_fragment:dU,logdepthbuf_pars_vertex:fU,logdepthbuf_vertex:hU,map_fragment:mU,map_pars_fragment:pU,map_particle_fragment:vU,map_particle_pars_fragment:gU,metalnessmap_fragment:yU,metalnessmap_pars_fragment:bU,morphinstance_vertex:_U,morphcolor_vertex:xU,morphnormal_vertex:wU,morphtarget_pars_vertex:SU,morphtarget_vertex:MU,normal_fragment_begin:CU,normal_fragment_maps:TU,normal_pars_fragment:EU,normal_pars_vertex:AU,normal_vertex:PU,normalmap_pars_fragment:IU,clearcoat_normal_fragment_begin:RU,clearcoat_normal_fragment_maps:LU,clearcoat_pars_fragment:kU,iridescence_pars_fragment:DU,opaque_fragment:OU,packing:NU,premultiplied_alpha_fragment:VU,project_vertex:FU,dithering_fragment:BU,dithering_pars_fragment:UU,roughnessmap_fragment:zU,roughnessmap_pars_fragment:HU,shadowmap_pars_fragment:GU,shadowmap_pars_vertex:WU,shadowmap_vertex:$U,shadowmask_pars_fragment:jU,skinbase_vertex:XU,skinning_pars_vertex:YU,skinning_vertex:qU,skinnormal_vertex:KU,specularmap_fragment:ZU,specularmap_pars_fragment:JU,tonemapping_fragment:QU,tonemapping_pars_fragment:ez,transmission_fragment:tz,transmission_pars_fragment:nz,uv_pars_fragment:iz,uv_pars_vertex:sz,uv_vertex:rz,worldpos_vertex:az,background_vert:oz,background_frag:lz,backgroundCube_vert:cz,backgroundCube_frag:uz,cube_vert:dz,cube_frag:fz,depth_vert:hz,depth_frag:mz,distanceRGBA_vert:pz,distanceRGBA_frag:vz,equirect_vert:gz,equirect_frag:yz,linedashed_vert:bz,linedashed_frag:_z,meshbasic_vert:xz,meshbasic_frag:wz,meshlambert_vert:Sz,meshlambert_frag:Mz,meshmatcap_vert:Cz,meshmatcap_frag:Tz,meshnormal_vert:Ez,meshnormal_frag:Az,meshphong_vert:Pz,meshphong_frag:Iz,meshphysical_vert:Rz,meshphysical_frag:Lz,meshtoon_vert:kz,meshtoon_frag:Dz,points_vert:Oz,points_frag:Nz,shadow_vert:Vz,shadow_frag:Fz,sprite_vert:Bz,sprite_frag:Uz},We={common:{diffuse:{value:new Be(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new wt},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new wt}},envmap:{envMap:{value:null},envMapRotation:{value:new wt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new wt},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0},uvTransform:{value:new wt}},sprite:{diffuse:{value:new Be(16777215)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new wt},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0}}},Ts={basic:{uniforms:Ai([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.fog]),vertexShader:Tt.meshbasic_vert,fragmentShader:Tt.meshbasic_frag},lambert:{uniforms:Ai([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.fog,We.lights,{emissive:{value:new Be(0)}}]),vertexShader:Tt.meshlambert_vert,fragmentShader:Tt.meshlambert_frag},phong:{uniforms:Ai([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.fog,We.lights,{emissive:{value:new Be(0)},specular:{value:new Be(1118481)},shininess:{value:30}}]),vertexShader:Tt.meshphong_vert,fragmentShader:Tt.meshphong_frag},standard:{uniforms:Ai([We.common,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.roughnessmap,We.metalnessmap,We.fog,We.lights,{emissive:{value:new Be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag},toon:{uniforms:Ai([We.common,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.gradientmap,We.fog,We.lights,{emissive:{value:new Be(0)}}]),vertexShader:Tt.meshtoon_vert,fragmentShader:Tt.meshtoon_frag},matcap:{uniforms:Ai([We.common,We.bumpmap,We.normalmap,We.displacementmap,We.fog,{matcap:{value:null}}]),vertexShader:Tt.meshmatcap_vert,fragmentShader:Tt.meshmatcap_frag},points:{uniforms:Ai([We.points,We.fog]),vertexShader:Tt.points_vert,fragmentShader:Tt.points_frag},dashed:{uniforms:Ai([We.common,We.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tt.linedashed_vert,fragmentShader:Tt.linedashed_frag},depth:{uniforms:Ai([We.common,We.displacementmap]),vertexShader:Tt.depth_vert,fragmentShader:Tt.depth_frag},normal:{uniforms:Ai([We.common,We.bumpmap,We.normalmap,We.displacementmap,{opacity:{value:1}}]),vertexShader:Tt.meshnormal_vert,fragmentShader:Tt.meshnormal_frag},sprite:{uniforms:Ai([We.sprite,We.fog]),vertexShader:Tt.sprite_vert,fragmentShader:Tt.sprite_frag},background:{uniforms:{uvTransform:{value:new wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Tt.background_vert,fragmentShader:Tt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new wt}},vertexShader:Tt.backgroundCube_vert,fragmentShader:Tt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Tt.cube_vert,fragmentShader:Tt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tt.equirect_vert,fragmentShader:Tt.equirect_frag},distanceRGBA:{uniforms:Ai([We.common,We.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tt.distanceRGBA_vert,fragmentShader:Tt.distanceRGBA_frag},shadow:{uniforms:Ai([We.lights,We.fog,{color:{value:new Be(0)},opacity:{value:1}}]),vertexShader:Tt.shadow_vert,fragmentShader:Tt.shadow_frag}};Ts.physical={uniforms:Ai([Ts.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new wt},clearcoatNormalScale:{value:new Ae(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new wt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new wt},sheen:{value:0},sheenColor:{value:new Be(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new wt},transmissionSamplerSize:{value:new Ae},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new wt},attenuationDistance:{value:0},attenuationColor:{value:new Be(0)},specularColor:{value:new Be(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new wt},anisotropyVector:{value:new Ae},anisotropyMap:{value:null},anisotropyMapTransform:{value:new wt}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag};const Dh={r:0,b:0,g:0},xo=new Hi,zz=new at;function Hz(t,e,n,i,s,r,a){const o=new Be(0);let l=r===!0?0:1,c,u,d=null,f=0,h=null;function m(_){let w=_.isScene===!0?_.background:null;return w&&w.isTexture&&(w=(_.backgroundBlurriness>0?n:e).get(w)),w}function g(_){let w=!1;const T=m(_);T===null?v(o,l):T&&T.isColor&&(v(T,1),w=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?i.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(t.autoClear||w)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function p(_,w){const T=m(w);T&&(T.isCubeTexture||T.mapping===tu)?(u===void 0&&(u=new an(new Za(1,1,1),new Gi({name:"BackgroundCubeMaterial",uniforms:Bc(Ts.backgroundCube.uniforms),vertexShader:Ts.backgroundCube.vertexShader,fragmentShader:Ts.backgroundCube.fragmentShader,side:_i,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,A,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(u)),xo.copy(w.backgroundRotation),xo.x*=-1,xo.y*=-1,xo.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(xo.y*=-1,xo.z*=-1),u.material.uniforms.envMap.value=T,u.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(zz.makeRotationFromEuler(xo)),u.material.toneMapped=Vt.getTransfer(T.colorSpace)!==en,(d!==T||f!==T.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=T,f=T.version,h=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new an(new Qa(2,2),new Gi({name:"BackgroundMaterial",uniforms:Bc(Ts.background.uniforms),vertexShader:Ts.background.vertexShader,fragmentShader:Ts.background.fragmentShader,side:vr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=Vt.getTransfer(T.colorSpace)!==en,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(d!==T||f!==T.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=T,f=T.version,h=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function v(_,w){_.getRGB(Dh,OA(t)),i.buffers.color.setClear(Dh.r,Dh.g,Dh.b,w,a)}function b(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(_,w=1){o.set(_),l=w,v(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,v(o,l)},render:g,addToRenderList:p,dispose:b}}function Gz(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},s=f(null);let r=s,a=!1;function o(y,E,P,D,N){let W=!1;const B=d(D,P,E);r!==B&&(r=B,c(r.object)),W=h(y,D,P,N),W&&m(y,D,P,N),N!==null&&e.update(N,t.ELEMENT_ARRAY_BUFFER),(W||a)&&(a=!1,w(y,E,P,D),N!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(N).buffer))}function l(){return t.createVertexArray()}function c(y){return t.bindVertexArray(y)}function u(y){return t.deleteVertexArray(y)}function d(y,E,P){const D=P.wireframe===!0;let N=i[y.id];N===void 0&&(N={},i[y.id]=N);let W=N[E.id];W===void 0&&(W={},N[E.id]=W);let B=W[D];return B===void 0&&(B=f(l()),W[D]=B),B}function f(y){const E=[],P=[],D=[];for(let N=0;N<n;N++)E[N]=0,P[N]=0,D[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:E,enabledAttributes:P,attributeDivisors:D,object:y,attributes:{},index:null}}function h(y,E,P,D){const N=r.attributes,W=E.attributes;let B=0;const q=P.getAttributes();for(const j in q)if(q[j].location>=0){const Z=N[j];let X=W[j];if(X===void 0&&(j==="instanceMatrix"&&y.instanceMatrix&&(X=y.instanceMatrix),j==="instanceColor"&&y.instanceColor&&(X=y.instanceColor)),Z===void 0||Z.attribute!==X||X&&Z.data!==X.data)return!0;B++}return r.attributesNum!==B||r.index!==D}function m(y,E,P,D){const N={},W=E.attributes;let B=0;const q=P.getAttributes();for(const j in q)if(q[j].location>=0){let Z=W[j];Z===void 0&&(j==="instanceMatrix"&&y.instanceMatrix&&(Z=y.instanceMatrix),j==="instanceColor"&&y.instanceColor&&(Z=y.instanceColor));const X={};X.attribute=Z,Z&&Z.data&&(X.data=Z.data),N[j]=X,B++}r.attributes=N,r.attributesNum=B,r.index=D}function g(){const y=r.newAttributes;for(let E=0,P=y.length;E<P;E++)y[E]=0}function p(y){v(y,0)}function v(y,E){const P=r.newAttributes,D=r.enabledAttributes,N=r.attributeDivisors;P[y]=1,D[y]===0&&(t.enableVertexAttribArray(y),D[y]=1),N[y]!==E&&(t.vertexAttribDivisor(y,E),N[y]=E)}function b(){const y=r.newAttributes,E=r.enabledAttributes;for(let P=0,D=E.length;P<D;P++)E[P]!==y[P]&&(t.disableVertexAttribArray(P),E[P]=0)}function _(y,E,P,D,N,W,B){B===!0?t.vertexAttribIPointer(y,E,P,N,W):t.vertexAttribPointer(y,E,P,D,N,W)}function w(y,E,P,D){g();const N=D.attributes,W=P.getAttributes(),B=E.defaultAttributeValues;for(const q in W){const j=W[q];if(j.location>=0){let Q=N[q];if(Q===void 0&&(q==="instanceMatrix"&&y.instanceMatrix&&(Q=y.instanceMatrix),q==="instanceColor"&&y.instanceColor&&(Q=y.instanceColor)),Q!==void 0){const Z=Q.normalized,X=Q.itemSize,ce=e.get(Q);if(ce===void 0)continue;const Me=ce.buffer,ee=ce.type,pe=ce.bytesPerElement,ne=ee===t.INT||ee===t.UNSIGNED_INT||Q.gpuType===Bp;if(Q.isInterleavedBufferAttribute){const de=Q.data,ae=de.stride,F=Q.offset;if(de.isInstancedInterleavedBuffer){for(let U=0;U<j.locationSize;U++)v(j.location+U,de.meshPerAttribute);y.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let U=0;U<j.locationSize;U++)p(j.location+U);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let U=0;U<j.locationSize;U++)_(j.location+U,X/j.locationSize,ee,Z,ae*pe,(F+X/j.locationSize*U)*pe,ne)}else{if(Q.isInstancedBufferAttribute){for(let de=0;de<j.locationSize;de++)v(j.location+de,Q.meshPerAttribute);y.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let de=0;de<j.locationSize;de++)p(j.location+de);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let de=0;de<j.locationSize;de++)_(j.location+de,X/j.locationSize,ee,Z,X*pe,X/j.locationSize*de*pe,ne)}}else if(B!==void 0){const Z=B[q];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(j.location,Z);break;case 3:t.vertexAttrib3fv(j.location,Z);break;case 4:t.vertexAttrib4fv(j.location,Z);break;default:t.vertexAttrib1fv(j.location,Z)}}}}b()}function T(){S();for(const y in i){const E=i[y];for(const P in E){const D=E[P];for(const N in D)u(D[N].object),delete D[N];delete E[P]}delete i[y]}}function C(y){if(i[y.id]===void 0)return;const E=i[y.id];for(const P in E){const D=E[P];for(const N in D)u(D[N].object),delete D[N];delete E[P]}delete i[y.id]}function A(y){for(const E in i){const P=i[E];if(P[y.id]===void 0)continue;const D=P[y.id];for(const N in D)u(D[N].object),delete D[N];delete P[y.id]}}function S(){x(),a=!0,r!==s&&(r=s,c(r.object))}function x(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:o,reset:S,resetDefaultState:x,dispose:T,releaseStatesOfGeometry:C,releaseStatesOfProgram:A,initAttributes:g,enableAttribute:p,disableUnusedAttributes:b}}function Wz(t,e,n){let i;function s(c){i=c}function r(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function a(c,u,d){d!==0&&(t.drawArraysInstanced(i,c,u,d),n.update(u,i,d))}function o(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,d);let h=0;for(let m=0;m<d;m++)h+=u[m];n.update(h,i,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let m=0;m<c.length;m++)a(c[m],u[m],f[m]);else{h.multiDrawArraysInstancedWEBGL(i,c,0,u,0,f,0,d);let m=0;for(let g=0;g<d;g++)m+=u[g]*f[g];n.update(m,i,1)}}this.setMode=s,this.render=r,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function $z(t,e,n,i){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function a(A){return!(A!==gi&&i.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(A){const S=A===Ml&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==Ps&&i.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==Qi&&!S)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=m>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:p,maxAttributes:v,maxVertexUniforms:b,maxVaryings:_,maxFragmentUniforms:w,vertexTextures:T,maxSamples:C}}function jz(t){const e=this;let n=null,i=0,s=!1,r=!1;const a=new or,o=new wt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||i!==0||s;return s=f,i=d.length,h},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const m=d.clippingPlanes,g=d.clipIntersection,p=d.clipShadows,v=t.get(d);if(!s||m===null||m.length===0||r&&!p)r?u(null):c();else{const b=r?0:i,_=b*4;let w=v.clippingState||null;l.value=w,w=u(m,f,_,h);for(let T=0;T!==_;++T)w[T]=n[T];v.clippingState=w,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,f,h,m){const g=d!==null?d.length:0;let p=null;if(g!==0){if(p=l.value,m!==!0||p===null){const v=h+g*4,b=f.matrixWorldInverse;o.getNormalMatrix(b),(p===null||p.length<v)&&(p=new Float32Array(v));for(let _=0,w=h;_!==g;++_,w+=4)a.copy(d[_]).applyMatrix4(b,o),a.normal.toArray(p,w),p[w+3]=a.constant}l.value=p,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,p}}function Xz(t){let e=new WeakMap;function n(a,o){return o===gd?a.mapping=na:o===yd&&(a.mapping=Wa),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===gd||o===yd)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new VA(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",s),n(c.texture,a.mapping)}else return null}}return a}function s(a){const o=a.target;o.removeEventListener("dispose",s);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const bc=4,V1=[.125,.215,.35,.446,.526,.582],ko=20,iy=new Es,F1=new Be;let sy=null,ry=0,ay=0,oy=!1;const Lo=(1+Math.sqrt(5))/2,sc=1/Lo,B1=[new G(-Lo,sc,0),new G(Lo,sc,0),new G(-sc,0,Lo),new G(sc,0,Lo),new G(0,Lo,-sc),new G(0,Lo,sc),new G(-1,1,-1),new G(1,1,-1),new G(-1,1,1),new G(1,1,1)];class w0{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,s=100){sy=this._renderer.getRenderTarget(),ry=this._renderer.getActiveCubeFace(),ay=this._renderer.getActiveMipmapLevel(),oy=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,i,s,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=H1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=z1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(sy,ry,ay),this._renderer.xr.enabled=oy,e.scissorTest=!1,Oh(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===na||e.mapping===Wa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),sy=this._renderer.getRenderTarget(),ry=this._renderer.getActiveCubeFace(),ay=this._renderer.getActiveMipmapLevel(),oy=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:In,minFilter:In,generateMipmaps:!1,type:Ml,format:gi,colorSpace:ul,depthBuffer:!1},s=U1(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=U1(e,n,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Yz(r)),this._blurMaterial=qz(r,e,n)}return s}_compileMaterial(e){const n=new an(this._lodPlanes[0],e);this._renderer.compile(n,iy)}_sceneToCubeUV(e,n,i,s){const o=new tn(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(F1),u.toneMapping=Kr,u.autoClear=!1;const h=new Fi({name:"PMREM.Background",side:_i,depthWrite:!1,depthTest:!1}),m=new an(new Za,h);let g=!1;const p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,g=!0):(h.color.copy(F1),g=!0);for(let v=0;v<6;v++){const b=v%3;b===0?(o.up.set(0,l[v],0),o.lookAt(c[v],0,0)):b===1?(o.up.set(0,0,l[v]),o.lookAt(0,c[v],0)):(o.up.set(0,l[v],0),o.lookAt(0,0,c[v]));const _=this._cubeSize;Oh(s,b*_,v>2?_:0,_,_),u.setRenderTarget(s),g&&u.render(m,o),u.render(e,o)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=p}_textureToCubeUV(e,n){const i=this._renderer,s=e.mapping===na||e.mapping===Wa;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=H1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=z1());const r=s?this._cubemapMaterial:this._equirectMaterial,a=new an(this._lodPlanes[0],r),o=r.uniforms;o.envMap.value=e;const l=this._cubeSize;Oh(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(a,iy)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=B1[(s-r-1)%B1.length];this._blur(e,r-1,r,a,o)}n.autoClear=i}_blur(e,n,i,s,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,s,"latitudinal",r),this._halfBlur(a,e,i,i,s,"longitudinal",r)}_halfBlur(e,n,i,s,r,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new an(this._lodPlanes[s],c),f=c.uniforms,h=this._sizeLods[i]-1,m=isFinite(r)?Math.PI/(2*h):2*Math.PI/(2*ko-1),g=r/m,p=isFinite(r)?1+Math.floor(u*g):ko;p>ko&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${ko}`);const v=[];let b=0;for(let A=0;A<ko;++A){const S=A/g,x=Math.exp(-S*S/2);v.push(x),A===0?b+=x:A<p&&(b+=2*x)}for(let A=0;A<v.length;A++)v[A]=v[A]/b;f.envMap.value=e.texture,f.samples.value=p,f.weights.value=v,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:_}=this;f.dTheta.value=m,f.mipInt.value=_-i;const w=this._sizeLods[s],T=3*w*(s>_-bc?s-_+bc:0),C=4*(this._cubeSize-w);Oh(n,T,C,3*w,2*w),l.setRenderTarget(n),l.render(d,iy)}}function Yz(t){const e=[],n=[],i=[];let s=t;const r=t-bc+1+V1.length;for(let a=0;a<r;a++){const o=Math.pow(2,s);n.push(o);let l=1/o;a>t-bc?l=V1[a-t+bc-1]:a===0&&(l=0),i.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,m=6,g=3,p=2,v=1,b=new Float32Array(g*m*h),_=new Float32Array(p*m*h),w=new Float32Array(v*m*h);for(let C=0;C<h;C++){const A=C%3*2/3-1,S=C>2?0:-1,x=[A,S,0,A+2/3,S,0,A+2/3,S+1,0,A,S,0,A+2/3,S+1,0,A,S+1,0];b.set(x,g*m*C),_.set(f,p*m*C);const y=[C,C,C,C,C,C];w.set(y,v*m*C)}const T=new xt;T.setAttribute("position",new Pt(b,g)),T.setAttribute("uv",new Pt(_,p)),T.setAttribute("faceIndex",new Pt(w,v)),e.push(T),s>bc&&s--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function U1(t,e,n){const i=new js(t,e,n);return i.texture.mapping=tu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Oh(t,e,n,i,s){t.viewport.set(e,n,i,s),t.scissor.set(e,n,i,s)}function qz(t,e,n){const i=new Float32Array(ko),s=new G(0,1,0);return new Gi({name:"SphericalGaussianBlur",defines:{n:ko,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:Y_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qr,depthTest:!1,depthWrite:!1})}function z1(){return new Gi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Y_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qr,depthTest:!1,depthWrite:!1})}function H1(){return new Gi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Y_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qr,depthTest:!1,depthWrite:!1})}function Y_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Kz(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===gd||l===yd,u=l===na||l===Wa;if(c||u){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return n===null&&(n=new w0(t)),d=c?n.fromEquirectangular(o,d):n.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&s(h)?(n===null&&(n=new w0(t)),d=c?n.fromEquirectangular(o):n.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",r),d.texture):null}}}return o}function s(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function r(o){const l=o.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function Zz(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(i)}return e[i]=s,s}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const s=n(i);return s===null&&vc("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function Jz(t,e,n,i){const s={},r=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);f.removeEventListener("dispose",a),delete s[f.id];const h=r.get(f);h&&(e.remove(h),r.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function o(d,f){return s[f.id]===!0||(f.addEventListener("dispose",a),s[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const h in f)e.update(f[h],t.ARRAY_BUFFER)}function c(d){const f=[],h=d.index,m=d.attributes.position;let g=0;if(h!==null){const b=h.array;g=h.version;for(let _=0,w=b.length;_<w;_+=3){const T=b[_+0],C=b[_+1],A=b[_+2];f.push(T,C,C,A,A,T)}}else if(m!==void 0){const b=m.array;g=m.version;for(let _=0,w=b.length/3-1;_<w;_+=3){const T=_+0,C=_+1,A=_+2;f.push(T,C,C,A,A,T)}}else return;const p=new(RA(f)?__:b_)(f,1);p.version=g;const v=r.get(d);v&&e.remove(v),r.set(d,p)}function u(d){const f=r.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return r.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function Qz(t,e,n){let i;function s(f){i=f}let r,a;function o(f){r=f.type,a=f.bytesPerElement}function l(f,h){t.drawElements(i,h,r,f*a),n.update(h,i,1)}function c(f,h,m){m!==0&&(t.drawElementsInstanced(i,h,r,f*a,m),n.update(h,i,m))}function u(f,h,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,h,0,r,f,0,m);let p=0;for(let v=0;v<m;v++)p+=h[v];n.update(p,i,1)}function d(f,h,m,g){if(m===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let v=0;v<f.length;v++)c(f[v]/a,h[v],g[v]);else{p.multiDrawElementsInstancedWEBGL(i,h,0,r,f,0,g,0,m);let v=0;for(let b=0;b<m;b++)v+=h[b]*g[b];n.update(v,i,1)}}this.setMode=s,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function e4(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(r/3);break;case t.LINES:n.lines+=o*(r/2);break;case t.LINE_STRIP:n.lines+=o*(r-1);break;case t.LINE_LOOP:n.lines+=o*r;break;case t.POINTS:n.points+=o*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:i}}function t4(t,e,n){const i=new WeakMap,s=new Et;function r(a,o,l){const c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=u!==void 0?u.length:0;let f=i.get(o);if(f===void 0||f.count!==d){let x=function(){A.dispose(),i.delete(o),o.removeEventListener("dispose",x)};f!==void 0&&f.texture.dispose();const h=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,g=o.morphAttributes.color!==void 0,p=o.morphAttributes.position||[],v=o.morphAttributes.normal||[],b=o.morphAttributes.color||[];let _=0;h===!0&&(_=1),m===!0&&(_=2),g===!0&&(_=3);let w=o.attributes.position.count*_,T=1;w>e.maxTextureSize&&(T=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const C=new Float32Array(w*T*4*d),A=new nf(C,w,T,d);A.type=Qi,A.needsUpdate=!0;const S=_*4;for(let y=0;y<d;y++){const E=p[y],P=v[y],D=b[y],N=w*T*4*y;for(let W=0;W<E.count;W++){const B=W*S;h===!0&&(s.fromBufferAttribute(E,W),C[N+B+0]=s.x,C[N+B+1]=s.y,C[N+B+2]=s.z,C[N+B+3]=0),m===!0&&(s.fromBufferAttribute(P,W),C[N+B+4]=s.x,C[N+B+5]=s.y,C[N+B+6]=s.z,C[N+B+7]=0),g===!0&&(s.fromBufferAttribute(D,W),C[N+B+8]=s.x,C[N+B+9]=s.y,C[N+B+10]=s.z,C[N+B+11]=D.itemSize===4?s.w:1)}}f={count:d,texture:A,size:new Ae(w,T)},i.set(o,f),o.addEventListener("dispose",x)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let h=0;for(let g=0;g<c.length;g++)h+=c[g];const m=o.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",m),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:r}}function n4(t,e,n,i){let s=new WeakMap;function r(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(s.get(d)!==c&&(e.update(d),s.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),s.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),s.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;s.get(f)!==c&&(f.update(),s.set(f,c))}return d}function a(){s=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:a}}const RP=new dn,G1=new T_(1,1),LP=new nf,kP=new Xp,DP=new af,W1=[],$1=[],j1=new Float32Array(16),X1=new Float32Array(9),Y1=new Float32Array(4);function ru(t,e,n){const i=t[0];if(i<=0||i>0)return t;const s=e*n;let r=W1[s];if(r===void 0&&(r=new Float32Array(s),W1[s]=r),e!==0){i.toArray(r,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(r,o)}return r}function Xn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Yn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function pv(t,e){let n=$1[e];n===void 0&&(n=new Int32Array(e),$1[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function i4(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function s4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Xn(n,e))return;t.uniform2fv(this.addr,e),Yn(n,e)}}function r4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Xn(n,e))return;t.uniform3fv(this.addr,e),Yn(n,e)}}function a4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Xn(n,e))return;t.uniform4fv(this.addr,e),Yn(n,e)}}function o4(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Xn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Yn(n,e)}else{if(Xn(n,i))return;Y1.set(i),t.uniformMatrix2fv(this.addr,!1,Y1),Yn(n,i)}}function l4(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Xn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Yn(n,e)}else{if(Xn(n,i))return;X1.set(i),t.uniformMatrix3fv(this.addr,!1,X1),Yn(n,i)}}function c4(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Xn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Yn(n,e)}else{if(Xn(n,i))return;j1.set(i),t.uniformMatrix4fv(this.addr,!1,j1),Yn(n,i)}}function u4(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function d4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Xn(n,e))return;t.uniform2iv(this.addr,e),Yn(n,e)}}function f4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Xn(n,e))return;t.uniform3iv(this.addr,e),Yn(n,e)}}function h4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Xn(n,e))return;t.uniform4iv(this.addr,e),Yn(n,e)}}function m4(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function p4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Xn(n,e))return;t.uniform2uiv(this.addr,e),Yn(n,e)}}function v4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Xn(n,e))return;t.uniform3uiv(this.addr,e),Yn(n,e)}}function g4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Xn(n,e))return;t.uniform4uiv(this.addr,e),Yn(n,e)}}function y4(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s);let r;this.type===t.SAMPLER_2D_SHADOW?(G1.compareFunction=g_,r=G1):r=RP,n.setTexture2D(e||r,s)}function b4(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture3D(e||kP,s)}function _4(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTextureCube(e||DP,s)}function x4(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture2DArray(e||LP,s)}function w4(t){switch(t){case 5126:return i4;case 35664:return s4;case 35665:return r4;case 35666:return a4;case 35674:return o4;case 35675:return l4;case 35676:return c4;case 5124:case 35670:return u4;case 35667:case 35671:return d4;case 35668:case 35672:return f4;case 35669:case 35673:return h4;case 5125:return m4;case 36294:return p4;case 36295:return v4;case 36296:return g4;case 35678:case 36198:case 36298:case 36306:case 35682:return y4;case 35679:case 36299:case 36307:return b4;case 35680:case 36300:case 36308:case 36293:return _4;case 36289:case 36303:case 36311:case 36292:return x4}}function S4(t,e){t.uniform1fv(this.addr,e)}function M4(t,e){const n=ru(e,this.size,2);t.uniform2fv(this.addr,n)}function C4(t,e){const n=ru(e,this.size,3);t.uniform3fv(this.addr,n)}function T4(t,e){const n=ru(e,this.size,4);t.uniform4fv(this.addr,n)}function E4(t,e){const n=ru(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function A4(t,e){const n=ru(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function P4(t,e){const n=ru(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function I4(t,e){t.uniform1iv(this.addr,e)}function R4(t,e){t.uniform2iv(this.addr,e)}function L4(t,e){t.uniform3iv(this.addr,e)}function k4(t,e){t.uniform4iv(this.addr,e)}function D4(t,e){t.uniform1uiv(this.addr,e)}function O4(t,e){t.uniform2uiv(this.addr,e)}function N4(t,e){t.uniform3uiv(this.addr,e)}function V4(t,e){t.uniform4uiv(this.addr,e)}function F4(t,e,n){const i=this.cache,s=e.length,r=pv(n,s);Xn(i,r)||(t.uniform1iv(this.addr,r),Yn(i,r));for(let a=0;a!==s;++a)n.setTexture2D(e[a]||RP,r[a])}function B4(t,e,n){const i=this.cache,s=e.length,r=pv(n,s);Xn(i,r)||(t.uniform1iv(this.addr,r),Yn(i,r));for(let a=0;a!==s;++a)n.setTexture3D(e[a]||kP,r[a])}function U4(t,e,n){const i=this.cache,s=e.length,r=pv(n,s);Xn(i,r)||(t.uniform1iv(this.addr,r),Yn(i,r));for(let a=0;a!==s;++a)n.setTextureCube(e[a]||DP,r[a])}function z4(t,e,n){const i=this.cache,s=e.length,r=pv(n,s);Xn(i,r)||(t.uniform1iv(this.addr,r),Yn(i,r));for(let a=0;a!==s;++a)n.setTexture2DArray(e[a]||LP,r[a])}function H4(t){switch(t){case 5126:return S4;case 35664:return M4;case 35665:return C4;case 35666:return T4;case 35674:return E4;case 35675:return A4;case 35676:return P4;case 5124:case 35670:return I4;case 35667:case 35671:return R4;case 35668:case 35672:return L4;case 35669:case 35673:return k4;case 5125:return D4;case 36294:return O4;case 36295:return N4;case 36296:return V4;case 35678:case 36198:case 36298:case 36306:case 35682:return F4;case 35679:case 36299:case 36307:return B4;case 35680:case 36300:case 36308:case 36293:return U4;case 36289:case 36303:case 36311:case 36292:return z4}}class G4{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=w4(n.type)}}class W4{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=H4(n.type)}}class $4{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const s=this.seq;for(let r=0,a=s.length;r!==a;++r){const o=s[r];o.setValue(e,n[o.id],i)}}}const ly=/(\w+)(\])?(\[|\.)?/g;function q1(t,e){t.seq.push(e),t.map[e.id]=e}function j4(t,e,n){const i=t.name,s=i.length;for(ly.lastIndex=0;;){const r=ly.exec(i),a=ly.lastIndex;let o=r[1];const l=r[2]==="]",c=r[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===s){q1(n,c===void 0?new G4(o,t,e):new W4(o,t,e));break}else{let d=n.map[o];d===void 0&&(d=new $4(o),q1(n,d)),n=d}}}class rm{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(n,s),a=e.getUniformLocation(n,r.name);j4(r,a,this)}}setValue(e,n,i,s){const r=this.map[n];r!==void 0&&r.setValue(e,i,s)}setOptional(e,n,i){const s=n[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,n,i,s){for(let r=0,a=n.length;r!==a;++r){const o=n[r],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,s)}}static seqWithValue(e,n){const i=[];for(let s=0,r=e.length;s!==r;++s){const a=e[s];a.id in n&&i.push(a)}return i}}function K1(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const X4=37297;let Y4=0;function q4(t,e){const n=t.split(`
`),i=[],s=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let a=s;a<r;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return i.join(`
`)}const Z1=new wt;function K4(t){Vt._getMatrix(Z1,Vt.workingColorSpace,t);const e=`mat3( ${Z1.elements.map(n=>n.toFixed(4))} )`;switch(Vt.getTransfer(t)){case _d:return[e,"LinearTransferOETF"];case en:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function J1(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),s=t.getShaderInfoLog(e).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const a=parseInt(r[1]);return n.toUpperCase()+`

`+s+`

`+q4(t.getShaderSource(e),a)}else return s}function Z4(t,e){const n=K4(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function J4(t,e){let n;switch(e){case uA:n="Linear";break;case dA:n="Reinhard";break;case fA:n="Cineon";break;case r_:n="ACESFilmic";break;case mA:n="AgX";break;case pA:n="Neutral";break;case hA:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Nh=new G;function Q4(){Vt.getLuminanceCoefficients(Nh);const t=Nh.x.toFixed(4),e=Nh.y.toFixed(4),n=Nh.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function e5(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(zu).join(`
`)}function t5(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function n5(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=t.getActiveAttrib(e,s),a=r.name;let o=1;r.type===t.FLOAT_MAT2&&(o=2),r.type===t.FLOAT_MAT3&&(o=3),r.type===t.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function zu(t){return t!==""}function Q1(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function eM(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const i5=/^[ \t]*#include +<([\w\d./]+)>/gm;function S0(t){return t.replace(i5,r5)}const s5=new Map;function r5(t,e){let n=Tt[e];if(n===void 0){const i=s5.get(e);if(i!==void 0)n=Tt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return S0(n)}const a5=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tM(t){return t.replace(a5,o5)}function o5(t,e,n,i){let s="";for(let r=parseInt(e);r<parseInt(n);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function nM(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function l5(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===i_?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===s_?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ar&&(e="SHADOWMAP_TYPE_VSM"),e}function c5(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case na:case Wa:e="ENVMAP_TYPE_CUBE";break;case tu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function u5(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Wa:e="ENVMAP_MODE_REFRACTION";break}return e}function d5(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Qd:e="ENVMAP_BLENDING_MULTIPLY";break;case lA:e="ENVMAP_BLENDING_MIX";break;case cA:e="ENVMAP_BLENDING_ADD";break}return e}function f5(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function h5(t,e,n,i){const s=t.getContext(),r=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=l5(n),c=c5(n),u=u5(n),d=d5(n),f=f5(n),h=e5(n),m=t5(r),g=s.createProgram();let p,v,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(zu).join(`
`),p.length>0&&(p+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(zu).join(`
`),v.length>0&&(v+=`
`)):(p=[nM(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zu).join(`
`),v=[nM(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Kr?"#define TONE_MAPPING":"",n.toneMapping!==Kr?Tt.tonemapping_pars_fragment:"",n.toneMapping!==Kr?J4("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Tt.colorspace_pars_fragment,Z4("linearToOutputTexel",n.outputColorSpace),Q4(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(zu).join(`
`)),a=S0(a),a=Q1(a,n),a=eM(a,n),o=S0(o),o=Q1(o,n),o=eM(o,n),a=tM(a),o=tM(o),n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,p=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,v=["#define varying in",n.glslVersion===h0?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===h0?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=b+p+a,w=b+v+o,T=K1(s,s.VERTEX_SHADER,_),C=K1(s,s.FRAGMENT_SHADER,w);s.attachShader(g,T),s.attachShader(g,C),n.index0AttributeName!==void 0?s.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(g,0,"position"),s.linkProgram(g);function A(E){if(t.debug.checkShaderErrors){const P=s.getProgramInfoLog(g).trim(),D=s.getShaderInfoLog(T).trim(),N=s.getShaderInfoLog(C).trim();let W=!0,B=!0;if(s.getProgramParameter(g,s.LINK_STATUS)===!1)if(W=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,g,T,C);else{const q=J1(s,T,"vertex"),j=J1(s,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(g,s.VALIDATE_STATUS)+`

Material Name: `+E.name+`
Material Type: `+E.type+`

Program Info Log: `+P+`
`+q+`
`+j)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(D===""||N==="")&&(B=!1);B&&(E.diagnostics={runnable:W,programLog:P,vertexShader:{log:D,prefix:p},fragmentShader:{log:N,prefix:v}})}s.deleteShader(T),s.deleteShader(C),S=new rm(s,g),x=n5(s,g)}let S;this.getUniforms=function(){return S===void 0&&A(this),S};let x;this.getAttributes=function(){return x===void 0&&A(this),x};let y=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return y===!1&&(y=s.getProgramParameter(g,X4)),y},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Y4++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=T,this.fragmentShader=C,this}let m5=0;class p5{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(n),r=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(s)===!1&&(a.add(s),s.usedTimes++),a.has(r)===!1&&(a.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new v5(e),n.set(e,i)),i}}class v5{constructor(e){this.id=m5++,this.code=e,this.usedTimes=0}}function g5(t,e,n,i,s,r,a){const o=new Yp,l=new p5,c=new Set,u=[],d=s.logarithmicDepthBuffer,f=s.vertexTextures;let h=s.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(x){return c.add(x),x===0?"uv":`uv${x}`}function p(x,y,E,P,D){const N=P.fog,W=D.geometry,B=x.isMeshStandardMaterial?P.environment:null,q=(x.isMeshStandardMaterial?n:e).get(x.envMap||B),j=q&&q.mapping===tu?q.image.height:null,Q=m[x.type];x.precision!==null&&(h=s.getMaxPrecision(x.precision),h!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",h,"instead."));const Z=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,X=Z!==void 0?Z.length:0;let ce=0;W.morphAttributes.position!==void 0&&(ce=1),W.morphAttributes.normal!==void 0&&(ce=2),W.morphAttributes.color!==void 0&&(ce=3);let Me,ee,pe,ne;if(Q){const kt=Ts[Q];Me=kt.vertexShader,ee=kt.fragmentShader}else Me=x.vertexShader,ee=x.fragmentShader,l.update(x),pe=l.getVertexShaderID(x),ne=l.getFragmentShaderID(x);const de=t.getRenderTarget(),ae=t.state.buffers.depth.getReversed(),F=D.isInstancedMesh===!0,U=D.isBatchedMesh===!0,z=!!x.map,k=!!x.matcap,R=!!q,I=!!x.aoMap,Y=!!x.lightMap,$=!!x.bumpMap,J=!!x.normalMap,se=!!x.displacementMap,me=!!x.emissiveMap,re=!!x.metalnessMap,V=!!x.roughnessMap,O=x.anisotropy>0,K=x.clearcoat>0,le=x.dispersion>0,ye=x.iridescence>0,ve=x.sheen>0,Oe=x.transmission>0,Le=O&&!!x.anisotropyMap,ze=K&&!!x.clearcoatMap,ot=K&&!!x.clearcoatNormalMap,De=K&&!!x.clearcoatRoughnessMap,je=ye&&!!x.iridescenceMap,st=ye&&!!x.iridescenceThicknessMap,ct=ve&&!!x.sheenColorMap,He=ve&&!!x.sheenRoughnessMap,ie=!!x.specularMap,Ee=!!x.specularColorMap,Xe=!!x.specularIntensityMap,te=Oe&&!!x.transmissionMap,Fe=Oe&&!!x.thicknessMap,we=!!x.gradientMap,Re=!!x.alphaMap,Ye=x.alphaTest>0,Ge=!!x.alphaHash,ut=!!x.extensions;let nn=Kr;x.toneMapped&&(de===null||de.isXRRenderTarget===!0)&&(nn=t.toneMapping);const Cn={shaderID:Q,shaderType:x.type,shaderName:x.name,vertexShader:Me,fragmentShader:ee,defines:x.defines,customVertexShaderID:pe,customFragmentShaderID:ne,isRawShaderMaterial:x.isRawShaderMaterial===!0,glslVersion:x.glslVersion,precision:h,batching:U,batchingColor:U&&D._colorsTexture!==null,instancing:F,instancingColor:F&&D.instanceColor!==null,instancingMorph:F&&D.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:de===null?t.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:ul,alphaToCoverage:!!x.alphaToCoverage,map:z,matcap:k,envMap:R,envMapMode:R&&q.mapping,envMapCubeUVHeight:j,aoMap:I,lightMap:Y,bumpMap:$,normalMap:J,displacementMap:f&&se,emissiveMap:me,normalMapObjectSpace:J&&x.normalMapType===SA,normalMapTangentSpace:J&&x.normalMapType===Ka,metalnessMap:re,roughnessMap:V,anisotropy:O,anisotropyMap:Le,clearcoat:K,clearcoatMap:ze,clearcoatNormalMap:ot,clearcoatRoughnessMap:De,dispersion:le,iridescence:ye,iridescenceMap:je,iridescenceThicknessMap:st,sheen:ve,sheenColorMap:ct,sheenRoughnessMap:He,specularMap:ie,specularColorMap:Ee,specularIntensityMap:Xe,transmission:Oe,transmissionMap:te,thicknessMap:Fe,gradientMap:we,opaque:x.transparent===!1&&x.blending===Wo&&x.alphaToCoverage===!1,alphaMap:Re,alphaTest:Ye,alphaHash:Ge,combine:x.combine,mapUv:z&&g(x.map.channel),aoMapUv:I&&g(x.aoMap.channel),lightMapUv:Y&&g(x.lightMap.channel),bumpMapUv:$&&g(x.bumpMap.channel),normalMapUv:J&&g(x.normalMap.channel),displacementMapUv:se&&g(x.displacementMap.channel),emissiveMapUv:me&&g(x.emissiveMap.channel),metalnessMapUv:re&&g(x.metalnessMap.channel),roughnessMapUv:V&&g(x.roughnessMap.channel),anisotropyMapUv:Le&&g(x.anisotropyMap.channel),clearcoatMapUv:ze&&g(x.clearcoatMap.channel),clearcoatNormalMapUv:ot&&g(x.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:De&&g(x.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&g(x.iridescenceMap.channel),iridescenceThicknessMapUv:st&&g(x.iridescenceThicknessMap.channel),sheenColorMapUv:ct&&g(x.sheenColorMap.channel),sheenRoughnessMapUv:He&&g(x.sheenRoughnessMap.channel),specularMapUv:ie&&g(x.specularMap.channel),specularColorMapUv:Ee&&g(x.specularColorMap.channel),specularIntensityMapUv:Xe&&g(x.specularIntensityMap.channel),transmissionMapUv:te&&g(x.transmissionMap.channel),thicknessMapUv:Fe&&g(x.thicknessMap.channel),alphaMapUv:Re&&g(x.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(J||O),vertexColors:x.vertexColors,vertexAlphas:x.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,pointsUvs:D.isPoints===!0&&!!W.attributes.uv&&(z||Re),fog:!!N,useFog:x.fog===!0,fogExp2:!!N&&N.isFogExp2,flatShading:x.flatShading===!0,sizeAttenuation:x.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:ae,skinning:D.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:ce,numDirLights:y.directional.length,numPointLights:y.point.length,numSpotLights:y.spot.length,numSpotLightMaps:y.spotLightMap.length,numRectAreaLights:y.rectArea.length,numHemiLights:y.hemi.length,numDirLightShadows:y.directionalShadowMap.length,numPointLightShadows:y.pointShadowMap.length,numSpotLightShadows:y.spotShadowMap.length,numSpotLightShadowsWithMaps:y.numSpotLightShadowsWithMaps,numLightProbes:y.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:x.dithering,shadowMapEnabled:t.shadowMap.enabled&&E.length>0,shadowMapType:t.shadowMap.type,toneMapping:nn,decodeVideoTexture:z&&x.map.isVideoTexture===!0&&Vt.getTransfer(x.map.colorSpace)===en,decodeVideoTextureEmissive:me&&x.emissiveMap.isVideoTexture===!0&&Vt.getTransfer(x.emissiveMap.colorSpace)===en,premultipliedAlpha:x.premultipliedAlpha,doubleSided:x.side===Oi,flipSided:x.side===_i,useDepthPacking:x.depthPacking>=0,depthPacking:x.depthPacking||0,index0AttributeName:x.index0AttributeName,extensionClipCullDistance:ut&&x.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ut&&x.extensions.multiDraw===!0||U)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:x.customProgramCacheKey()};return Cn.vertexUv1s=c.has(1),Cn.vertexUv2s=c.has(2),Cn.vertexUv3s=c.has(3),c.clear(),Cn}function v(x){const y=[];if(x.shaderID?y.push(x.shaderID):(y.push(x.customVertexShaderID),y.push(x.customFragmentShaderID)),x.defines!==void 0)for(const E in x.defines)y.push(E),y.push(x.defines[E]);return x.isRawShaderMaterial===!1&&(b(y,x),_(y,x),y.push(t.outputColorSpace)),y.push(x.customProgramCacheKey),y.join()}function b(x,y){x.push(y.precision),x.push(y.outputColorSpace),x.push(y.envMapMode),x.push(y.envMapCubeUVHeight),x.push(y.mapUv),x.push(y.alphaMapUv),x.push(y.lightMapUv),x.push(y.aoMapUv),x.push(y.bumpMapUv),x.push(y.normalMapUv),x.push(y.displacementMapUv),x.push(y.emissiveMapUv),x.push(y.metalnessMapUv),x.push(y.roughnessMapUv),x.push(y.anisotropyMapUv),x.push(y.clearcoatMapUv),x.push(y.clearcoatNormalMapUv),x.push(y.clearcoatRoughnessMapUv),x.push(y.iridescenceMapUv),x.push(y.iridescenceThicknessMapUv),x.push(y.sheenColorMapUv),x.push(y.sheenRoughnessMapUv),x.push(y.specularMapUv),x.push(y.specularColorMapUv),x.push(y.specularIntensityMapUv),x.push(y.transmissionMapUv),x.push(y.thicknessMapUv),x.push(y.combine),x.push(y.fogExp2),x.push(y.sizeAttenuation),x.push(y.morphTargetsCount),x.push(y.morphAttributeCount),x.push(y.numDirLights),x.push(y.numPointLights),x.push(y.numSpotLights),x.push(y.numSpotLightMaps),x.push(y.numHemiLights),x.push(y.numRectAreaLights),x.push(y.numDirLightShadows),x.push(y.numPointLightShadows),x.push(y.numSpotLightShadows),x.push(y.numSpotLightShadowsWithMaps),x.push(y.numLightProbes),x.push(y.shadowMapType),x.push(y.toneMapping),x.push(y.numClippingPlanes),x.push(y.numClipIntersection),x.push(y.depthPacking)}function _(x,y){o.disableAll(),y.supportsVertexTextures&&o.enable(0),y.instancing&&o.enable(1),y.instancingColor&&o.enable(2),y.instancingMorph&&o.enable(3),y.matcap&&o.enable(4),y.envMap&&o.enable(5),y.normalMapObjectSpace&&o.enable(6),y.normalMapTangentSpace&&o.enable(7),y.clearcoat&&o.enable(8),y.iridescence&&o.enable(9),y.alphaTest&&o.enable(10),y.vertexColors&&o.enable(11),y.vertexAlphas&&o.enable(12),y.vertexUv1s&&o.enable(13),y.vertexUv2s&&o.enable(14),y.vertexUv3s&&o.enable(15),y.vertexTangents&&o.enable(16),y.anisotropy&&o.enable(17),y.alphaHash&&o.enable(18),y.batching&&o.enable(19),y.dispersion&&o.enable(20),y.batchingColor&&o.enable(21),x.push(o.mask),o.disableAll(),y.fog&&o.enable(0),y.useFog&&o.enable(1),y.flatShading&&o.enable(2),y.logarithmicDepthBuffer&&o.enable(3),y.reverseDepthBuffer&&o.enable(4),y.skinning&&o.enable(5),y.morphTargets&&o.enable(6),y.morphNormals&&o.enable(7),y.morphColors&&o.enable(8),y.premultipliedAlpha&&o.enable(9),y.shadowMapEnabled&&o.enable(10),y.doubleSided&&o.enable(11),y.flipSided&&o.enable(12),y.useDepthPacking&&o.enable(13),y.dithering&&o.enable(14),y.transmission&&o.enable(15),y.sheen&&o.enable(16),y.opaque&&o.enable(17),y.pointsUvs&&o.enable(18),y.decodeVideoTexture&&o.enable(19),y.decodeVideoTextureEmissive&&o.enable(20),y.alphaToCoverage&&o.enable(21),x.push(o.mask)}function w(x){const y=m[x.type];let E;if(y){const P=Ts[y];E=sf.clone(P.uniforms)}else E=x.uniforms;return E}function T(x,y){let E;for(let P=0,D=u.length;P<D;P++){const N=u[P];if(N.cacheKey===y){E=N,++E.usedTimes;break}}return E===void 0&&(E=new h5(t,y,x,r),u.push(E)),E}function C(x){if(--x.usedTimes===0){const y=u.indexOf(x);u[y]=u[u.length-1],u.pop(),x.destroy()}}function A(x){l.remove(x)}function S(){l.dispose()}return{getParameters:p,getProgramCacheKey:v,getUniforms:w,acquireProgram:T,releaseProgram:C,releaseShaderCache:A,programs:u,dispose:S}}function y5(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function i(a){t.delete(a)}function s(a,o,l){t.get(a)[o]=l}function r(){t=new WeakMap}return{has:e,get:n,remove:i,update:s,dispose:r}}function b5(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function iM(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function sM(){const t=[];let e=0;const n=[],i=[],s=[];function r(){e=0,n.length=0,i.length=0,s.length=0}function a(d,f,h,m,g,p){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:h,groupOrder:m,renderOrder:d.renderOrder,z:g,group:p},t[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=h,v.groupOrder=m,v.renderOrder=d.renderOrder,v.z=g,v.group=p),e++,v}function o(d,f,h,m,g,p){const v=a(d,f,h,m,g,p);h.transmission>0?i.push(v):h.transparent===!0?s.push(v):n.push(v)}function l(d,f,h,m,g,p){const v=a(d,f,h,m,g,p);h.transmission>0?i.unshift(v):h.transparent===!0?s.unshift(v):n.unshift(v)}function c(d,f){n.length>1&&n.sort(d||b5),i.length>1&&i.sort(f||iM),s.length>1&&s.sort(f||iM)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:i,transparent:s,init:r,push:o,unshift:l,finish:u,sort:c}}function _5(){let t=new WeakMap;function e(i,s){const r=t.get(i);let a;return r===void 0?(a=new sM,t.set(i,[a])):s>=r.length?(a=new sM,r.push(a)):a=r[s],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function x5(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new Be};break;case"SpotLight":n={position:new G,direction:new G,color:new Be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new Be,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new Be,groundColor:new Be};break;case"RectAreaLight":n={color:new Be,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function w5(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let S5=0;function M5(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function C5(t){const e=new x5,n=w5(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new G);const s=new G,r=new at,a=new at;function o(c){let u=0,d=0,f=0;for(let x=0;x<9;x++)i.probe[x].set(0,0,0);let h=0,m=0,g=0,p=0,v=0,b=0,_=0,w=0,T=0,C=0,A=0;c.sort(M5);for(let x=0,y=c.length;x<y;x++){const E=c[x],P=E.color,D=E.intensity,N=E.distance,W=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)u+=P.r*D,d+=P.g*D,f+=P.b*D;else if(E.isLightProbe){for(let B=0;B<9;B++)i.probe[B].addScaledVector(E.sh.coefficients[B],D);A++}else if(E.isDirectionalLight){const B=e.get(E);if(B.color.copy(E.color).multiplyScalar(E.intensity),E.castShadow){const q=E.shadow,j=n.get(E);j.shadowIntensity=q.intensity,j.shadowBias=q.bias,j.shadowNormalBias=q.normalBias,j.shadowRadius=q.radius,j.shadowMapSize=q.mapSize,i.directionalShadow[h]=j,i.directionalShadowMap[h]=W,i.directionalShadowMatrix[h]=E.shadow.matrix,b++}i.directional[h]=B,h++}else if(E.isSpotLight){const B=e.get(E);B.position.setFromMatrixPosition(E.matrixWorld),B.color.copy(P).multiplyScalar(D),B.distance=N,B.coneCos=Math.cos(E.angle),B.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),B.decay=E.decay,i.spot[g]=B;const q=E.shadow;if(E.map&&(i.spotLightMap[T]=E.map,T++,q.updateMatrices(E),E.castShadow&&C++),i.spotLightMatrix[g]=q.matrix,E.castShadow){const j=n.get(E);j.shadowIntensity=q.intensity,j.shadowBias=q.bias,j.shadowNormalBias=q.normalBias,j.shadowRadius=q.radius,j.shadowMapSize=q.mapSize,i.spotShadow[g]=j,i.spotShadowMap[g]=W,w++}g++}else if(E.isRectAreaLight){const B=e.get(E);B.color.copy(P).multiplyScalar(D),B.halfWidth.set(E.width*.5,0,0),B.halfHeight.set(0,E.height*.5,0),i.rectArea[p]=B,p++}else if(E.isPointLight){const B=e.get(E);if(B.color.copy(E.color).multiplyScalar(E.intensity),B.distance=E.distance,B.decay=E.decay,E.castShadow){const q=E.shadow,j=n.get(E);j.shadowIntensity=q.intensity,j.shadowBias=q.bias,j.shadowNormalBias=q.normalBias,j.shadowRadius=q.radius,j.shadowMapSize=q.mapSize,j.shadowCameraNear=q.camera.near,j.shadowCameraFar=q.camera.far,i.pointShadow[m]=j,i.pointShadowMap[m]=W,i.pointShadowMatrix[m]=E.shadow.matrix,_++}i.point[m]=B,m++}else if(E.isHemisphereLight){const B=e.get(E);B.skyColor.copy(E.color).multiplyScalar(D),B.groundColor.copy(E.groundColor).multiplyScalar(D),i.hemi[v]=B,v++}}p>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=We.LTC_FLOAT_1,i.rectAreaLTC2=We.LTC_FLOAT_2):(i.rectAreaLTC1=We.LTC_HALF_1,i.rectAreaLTC2=We.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=f;const S=i.hash;(S.directionalLength!==h||S.pointLength!==m||S.spotLength!==g||S.rectAreaLength!==p||S.hemiLength!==v||S.numDirectionalShadows!==b||S.numPointShadows!==_||S.numSpotShadows!==w||S.numSpotMaps!==T||S.numLightProbes!==A)&&(i.directional.length=h,i.spot.length=g,i.rectArea.length=p,i.point.length=m,i.hemi.length=v,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=_,i.pointShadowMap.length=_,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=_,i.spotLightMatrix.length=w+T-C,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=C,i.numLightProbes=A,S.directionalLength=h,S.pointLength=m,S.spotLength=g,S.rectAreaLength=p,S.hemiLength=v,S.numDirectionalShadows=b,S.numPointShadows=_,S.numSpotShadows=w,S.numSpotMaps=T,S.numLightProbes=A,i.version=S5++)}function l(c,u){let d=0,f=0,h=0,m=0,g=0;const p=u.matrixWorldInverse;for(let v=0,b=c.length;v<b;v++){const _=c[v];if(_.isDirectionalLight){const w=i.directional[d];w.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(p),d++}else if(_.isSpotLight){const w=i.spot[h];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(p),w.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(p),h++}else if(_.isRectAreaLight){const w=i.rectArea[m];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(p),a.identity(),r.copy(_.matrixWorld),r.premultiply(p),a.extractRotation(r),w.halfWidth.set(_.width*.5,0,0),w.halfHeight.set(0,_.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),m++}else if(_.isPointLight){const w=i.point[f];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(p),f++}else if(_.isHemisphereLight){const w=i.hemi[g];w.direction.setFromMatrixPosition(_.matrixWorld),w.direction.transformDirection(p),g++}}}return{setup:o,setupView:l,state:i}}function rM(t){const e=new C5(t),n=[],i=[];function s(u){c.camera=u,n.length=0,i.length=0}function r(u){n.push(u)}function a(u){i.push(u)}function o(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:c,setupLights:o,setupLightsView:l,pushLight:r,pushShadow:a}}function T5(t){let e=new WeakMap;function n(s,r=0){const a=e.get(s);let o;return a===void 0?(o=new rM(t),e.set(s,[o])):r>=a.length?(o=new rM(t),a.push(o)):o=a[r],o}function i(){e=new WeakMap}return{get:n,dispose:i}}const E5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,A5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function P5(t,e,n){let i=new lf;const s=new Ae,r=new Ae,a=new Et,o=new k_({depthPacking:wA}),l=new D_,c={},u=n.maxTextureSize,d={[vr]:_i,[_i]:vr,[Oi]:Oi},f=new Gi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ae},radius:{value:4}},vertexShader:E5,fragmentShader:A5}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const m=new xt;m.setAttribute("position",new Pt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new an(m,f),p=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=i_;let v=this.type;this.render=function(C,A,S){if(p.enabled===!1||p.autoUpdate===!1&&p.needsUpdate===!1||C.length===0)return;const x=t.getRenderTarget(),y=t.getActiveCubeFace(),E=t.getActiveMipmapLevel(),P=t.state;P.setBlending(qr),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);const D=v!==ar&&this.type===ar,N=v===ar&&this.type!==ar;for(let W=0,B=C.length;W<B;W++){const q=C[W],j=q.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;s.copy(j.mapSize);const Q=j.getFrameExtents();if(s.multiply(Q),r.copy(j.mapSize),(s.x>u||s.y>u)&&(s.x>u&&(r.x=Math.floor(u/Q.x),s.x=r.x*Q.x,j.mapSize.x=r.x),s.y>u&&(r.y=Math.floor(u/Q.y),s.y=r.y*Q.y,j.mapSize.y=r.y)),j.map===null||D===!0||N===!0){const X=this.type!==ar?{minFilter:Wn,magFilter:Wn}:{};j.map!==null&&j.map.dispose(),j.map=new js(s.x,s.y,X),j.map.texture.name=q.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const Z=j.getViewportCount();for(let X=0;X<Z;X++){const ce=j.getViewport(X);a.set(r.x*ce.x,r.y*ce.y,r.x*ce.z,r.y*ce.w),P.viewport(a),j.updateMatrices(q,X),i=j.getFrustum(),w(A,S,j.camera,q,this.type)}j.isPointLightShadow!==!0&&this.type===ar&&b(j,S),j.needsUpdate=!1}v=this.type,p.needsUpdate=!1,t.setRenderTarget(x,y,E)};function b(C,A){const S=e.update(g);f.defines.VSM_SAMPLES!==C.blurSamples&&(f.defines.VSM_SAMPLES=C.blurSamples,h.defines.VSM_SAMPLES=C.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new js(s.x,s.y)),f.uniforms.shadow_pass.value=C.map.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(A,null,S,f,g,null),h.uniforms.shadow_pass.value=C.mapPass.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(A,null,S,h,g,null)}function _(C,A,S,x){let y=null;const E=S.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(E!==void 0)y=E;else if(y=S.isPointLight===!0?l:o,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const P=y.uuid,D=A.uuid;let N=c[P];N===void 0&&(N={},c[P]=N);let W=N[D];W===void 0&&(W=y.clone(),N[D]=W,A.addEventListener("dispose",T)),y=W}if(y.visible=A.visible,y.wireframe=A.wireframe,x===ar?y.side=A.shadowSide!==null?A.shadowSide:A.side:y.side=A.shadowSide!==null?A.shadowSide:d[A.side],y.alphaMap=A.alphaMap,y.alphaTest=A.alphaTest,y.map=A.map,y.clipShadows=A.clipShadows,y.clippingPlanes=A.clippingPlanes,y.clipIntersection=A.clipIntersection,y.displacementMap=A.displacementMap,y.displacementScale=A.displacementScale,y.displacementBias=A.displacementBias,y.wireframeLinewidth=A.wireframeLinewidth,y.linewidth=A.linewidth,S.isPointLight===!0&&y.isMeshDistanceMaterial===!0){const P=t.properties.get(y);P.light=S}return y}function w(C,A,S,x,y){if(C.visible===!1)return;if(C.layers.test(A.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&y===ar)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,C.matrixWorld);const D=e.update(C),N=C.material;if(Array.isArray(N)){const W=D.groups;for(let B=0,q=W.length;B<q;B++){const j=W[B],Q=N[j.materialIndex];if(Q&&Q.visible){const Z=_(C,Q,x,y);C.onBeforeShadow(t,C,A,S,D,Z,j),t.renderBufferDirect(S,null,D,Z,C,j),C.onAfterShadow(t,C,A,S,D,Z,j)}}}else if(N.visible){const W=_(C,N,x,y);C.onBeforeShadow(t,C,A,S,D,W,null),t.renderBufferDirect(S,null,D,W,C,null),C.onAfterShadow(t,C,A,S,D,W,null)}}const P=C.children;for(let D=0,N=P.length;D<N;D++)w(P[D],A,S,x,y)}function T(C){C.target.removeEventListener("dispose",T);for(const S in c){const x=c[S],y=C.target.uuid;y in x&&(x[y].dispose(),delete x[y])}}}const I5={[Am]:Pm,[Im]:km,[Rm]:Dm,[sl]:Lm,[Pm]:Am,[km]:Im,[Dm]:Rm,[Lm]:sl};function R5(t,e){function n(){let te=!1;const Fe=new Et;let we=null;const Re=new Et(0,0,0,0);return{setMask:function(Ye){we!==Ye&&!te&&(t.colorMask(Ye,Ye,Ye,Ye),we=Ye)},setLocked:function(Ye){te=Ye},setClear:function(Ye,Ge,ut,nn,Cn){Cn===!0&&(Ye*=nn,Ge*=nn,ut*=nn),Fe.set(Ye,Ge,ut,nn),Re.equals(Fe)===!1&&(t.clearColor(Ye,Ge,ut,nn),Re.copy(Fe))},reset:function(){te=!1,we=null,Re.set(-1,0,0,0)}}}function i(){let te=!1,Fe=!1,we=null,Re=null,Ye=null;return{setReversed:function(Ge){if(Fe!==Ge){const ut=e.get("EXT_clip_control");Fe?ut.clipControlEXT(ut.LOWER_LEFT_EXT,ut.ZERO_TO_ONE_EXT):ut.clipControlEXT(ut.LOWER_LEFT_EXT,ut.NEGATIVE_ONE_TO_ONE_EXT);const nn=Ye;Ye=null,this.setClear(nn)}Fe=Ge},getReversed:function(){return Fe},setTest:function(Ge){Ge?de(t.DEPTH_TEST):ae(t.DEPTH_TEST)},setMask:function(Ge){we!==Ge&&!te&&(t.depthMask(Ge),we=Ge)},setFunc:function(Ge){if(Fe&&(Ge=I5[Ge]),Re!==Ge){switch(Ge){case Am:t.depthFunc(t.NEVER);break;case Pm:t.depthFunc(t.ALWAYS);break;case Im:t.depthFunc(t.LESS);break;case sl:t.depthFunc(t.LEQUAL);break;case Rm:t.depthFunc(t.EQUAL);break;case Lm:t.depthFunc(t.GEQUAL);break;case km:t.depthFunc(t.GREATER);break;case Dm:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Re=Ge}},setLocked:function(Ge){te=Ge},setClear:function(Ge){Ye!==Ge&&(Fe&&(Ge=1-Ge),t.clearDepth(Ge),Ye=Ge)},reset:function(){te=!1,we=null,Re=null,Ye=null,Fe=!1}}}function s(){let te=!1,Fe=null,we=null,Re=null,Ye=null,Ge=null,ut=null,nn=null,Cn=null;return{setTest:function(kt){te||(kt?de(t.STENCIL_TEST):ae(t.STENCIL_TEST))},setMask:function(kt){Fe!==kt&&!te&&(t.stencilMask(kt),Fe=kt)},setFunc:function(kt,fi,Rr){(we!==kt||Re!==fi||Ye!==Rr)&&(t.stencilFunc(kt,fi,Rr),we=kt,Re=fi,Ye=Rr)},setOp:function(kt,fi,Rr){(Ge!==kt||ut!==fi||nn!==Rr)&&(t.stencilOp(kt,fi,Rr),Ge=kt,ut=fi,nn=Rr)},setLocked:function(kt){te=kt},setClear:function(kt){Cn!==kt&&(t.clearStencil(kt),Cn=kt)},reset:function(){te=!1,Fe=null,we=null,Re=null,Ye=null,Ge=null,ut=null,nn=null,Cn=null}}}const r=new n,a=new i,o=new s,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],m=null,g=!1,p=null,v=null,b=null,_=null,w=null,T=null,C=null,A=new Be(0,0,0),S=0,x=!1,y=null,E=null,P=null,D=null,N=null;const W=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,q=0;const j=t.getParameter(t.VERSION);j.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(j)[1]),B=q>=1):j.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),B=q>=2);let Q=null,Z={};const X=t.getParameter(t.SCISSOR_BOX),ce=t.getParameter(t.VIEWPORT),Me=new Et().fromArray(X),ee=new Et().fromArray(ce);function pe(te,Fe,we,Re){const Ye=new Uint8Array(4),Ge=t.createTexture();t.bindTexture(te,Ge),t.texParameteri(te,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(te,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ut=0;ut<we;ut++)te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY?t.texImage3D(Fe,0,t.RGBA,1,1,Re,0,t.RGBA,t.UNSIGNED_BYTE,Ye):t.texImage2D(Fe+ut,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ye);return Ge}const ne={};ne[t.TEXTURE_2D]=pe(t.TEXTURE_2D,t.TEXTURE_2D,1),ne[t.TEXTURE_CUBE_MAP]=pe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ne[t.TEXTURE_2D_ARRAY]=pe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ne[t.TEXTURE_3D]=pe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),a.setClear(1),o.setClear(0),de(t.DEPTH_TEST),a.setFunc(sl),$(!1),J(l0),de(t.CULL_FACE),I(qr);function de(te){u[te]!==!0&&(t.enable(te),u[te]=!0)}function ae(te){u[te]!==!1&&(t.disable(te),u[te]=!1)}function F(te,Fe){return d[te]!==Fe?(t.bindFramebuffer(te,Fe),d[te]=Fe,te===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Fe),te===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Fe),!0):!1}function U(te,Fe){let we=h,Re=!1;if(te){we=f.get(Fe),we===void 0&&(we=[],f.set(Fe,we));const Ye=te.textures;if(we.length!==Ye.length||we[0]!==t.COLOR_ATTACHMENT0){for(let Ge=0,ut=Ye.length;Ge<ut;Ge++)we[Ge]=t.COLOR_ATTACHMENT0+Ge;we.length=Ye.length,Re=!0}}else we[0]!==t.BACK&&(we[0]=t.BACK,Re=!0);Re&&t.drawBuffers(we)}function z(te){return m!==te?(t.useProgram(te),m=te,!0):!1}const k={[Na]:t.FUNC_ADD,[$E]:t.FUNC_SUBTRACT,[jE]:t.FUNC_REVERSE_SUBTRACT};k[XE]=t.MIN,k[YE]=t.MAX;const R={[qE]:t.ZERO,[KE]:t.ONE,[ZE]:t.SRC_COLOR,[Tm]:t.SRC_ALPHA,[iA]:t.SRC_ALPHA_SATURATE,[tA]:t.DST_COLOR,[QE]:t.DST_ALPHA,[JE]:t.ONE_MINUS_SRC_COLOR,[Em]:t.ONE_MINUS_SRC_ALPHA,[nA]:t.ONE_MINUS_DST_COLOR,[eA]:t.ONE_MINUS_DST_ALPHA,[sA]:t.CONSTANT_COLOR,[rA]:t.ONE_MINUS_CONSTANT_COLOR,[aA]:t.CONSTANT_ALPHA,[oA]:t.ONE_MINUS_CONSTANT_ALPHA};function I(te,Fe,we,Re,Ye,Ge,ut,nn,Cn,kt){if(te===qr){g===!0&&(ae(t.BLEND),g=!1);return}if(g===!1&&(de(t.BLEND),g=!0),te!==WE){if(te!==p||kt!==x){if((v!==Na||w!==Na)&&(t.blendEquation(t.FUNC_ADD),v=Na,w=Na),kt)switch(te){case Wo:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Cm:t.blendFunc(t.ONE,t.ONE);break;case c0:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case u0:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case Wo:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Cm:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case c0:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case u0:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}b=null,_=null,T=null,C=null,A.set(0,0,0),S=0,p=te,x=kt}return}Ye=Ye||Fe,Ge=Ge||we,ut=ut||Re,(Fe!==v||Ye!==w)&&(t.blendEquationSeparate(k[Fe],k[Ye]),v=Fe,w=Ye),(we!==b||Re!==_||Ge!==T||ut!==C)&&(t.blendFuncSeparate(R[we],R[Re],R[Ge],R[ut]),b=we,_=Re,T=Ge,C=ut),(nn.equals(A)===!1||Cn!==S)&&(t.blendColor(nn.r,nn.g,nn.b,Cn),A.copy(nn),S=Cn),p=te,x=!1}function Y(te,Fe){te.side===Oi?ae(t.CULL_FACE):de(t.CULL_FACE);let we=te.side===_i;Fe&&(we=!we),$(we),te.blending===Wo&&te.transparent===!1?I(qr):I(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),a.setFunc(te.depthFunc),a.setTest(te.depthTest),a.setMask(te.depthWrite),r.setMask(te.colorWrite);const Re=te.stencilWrite;o.setTest(Re),Re&&(o.setMask(te.stencilWriteMask),o.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),o.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),me(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?de(t.SAMPLE_ALPHA_TO_COVERAGE):ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function $(te){y!==te&&(te?t.frontFace(t.CW):t.frontFace(t.CCW),y=te)}function J(te){te!==HE?(de(t.CULL_FACE),te!==E&&(te===l0?t.cullFace(t.BACK):te===GE?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ae(t.CULL_FACE),E=te}function se(te){te!==P&&(B&&t.lineWidth(te),P=te)}function me(te,Fe,we){te?(de(t.POLYGON_OFFSET_FILL),(D!==Fe||N!==we)&&(t.polygonOffset(Fe,we),D=Fe,N=we)):ae(t.POLYGON_OFFSET_FILL)}function re(te){te?de(t.SCISSOR_TEST):ae(t.SCISSOR_TEST)}function V(te){te===void 0&&(te=t.TEXTURE0+W-1),Q!==te&&(t.activeTexture(te),Q=te)}function O(te,Fe,we){we===void 0&&(Q===null?we=t.TEXTURE0+W-1:we=Q);let Re=Z[we];Re===void 0&&(Re={type:void 0,texture:void 0},Z[we]=Re),(Re.type!==te||Re.texture!==Fe)&&(Q!==we&&(t.activeTexture(we),Q=we),t.bindTexture(te,Fe||ne[te]),Re.type=te,Re.texture=Fe)}function K(){const te=Z[Q];te!==void 0&&te.type!==void 0&&(t.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function le(){try{t.compressedTexImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ye(){try{t.compressedTexImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ve(){try{t.texSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Oe(){try{t.texSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Le(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ze(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ot(){try{t.texStorage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function De(){try{t.texStorage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function je(){try{t.texImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function st(){try{t.texImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ct(te){Me.equals(te)===!1&&(t.scissor(te.x,te.y,te.z,te.w),Me.copy(te))}function He(te){ee.equals(te)===!1&&(t.viewport(te.x,te.y,te.z,te.w),ee.copy(te))}function ie(te,Fe){let we=c.get(Fe);we===void 0&&(we=new WeakMap,c.set(Fe,we));let Re=we.get(te);Re===void 0&&(Re=t.getUniformBlockIndex(Fe,te.name),we.set(te,Re))}function Ee(te,Fe){const Re=c.get(Fe).get(te);l.get(Fe)!==Re&&(t.uniformBlockBinding(Fe,Re,te.__bindingPointIndex),l.set(Fe,Re))}function Xe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},Q=null,Z={},d={},f=new WeakMap,h=[],m=null,g=!1,p=null,v=null,b=null,_=null,w=null,T=null,C=null,A=new Be(0,0,0),S=0,x=!1,y=null,E=null,P=null,D=null,N=null,Me.set(0,0,t.canvas.width,t.canvas.height),ee.set(0,0,t.canvas.width,t.canvas.height),r.reset(),a.reset(),o.reset()}return{buffers:{color:r,depth:a,stencil:o},enable:de,disable:ae,bindFramebuffer:F,drawBuffers:U,useProgram:z,setBlending:I,setMaterial:Y,setFlipSided:$,setCullFace:J,setLineWidth:se,setPolygonOffset:me,setScissorTest:re,activeTexture:V,bindTexture:O,unbindTexture:K,compressedTexImage2D:le,compressedTexImage3D:ye,texImage2D:je,texImage3D:st,updateUBOMapping:ie,uniformBlockBinding:Ee,texStorage2D:ot,texStorage3D:De,texSubImage2D:ve,texSubImage3D:Oe,compressedTexSubImage2D:Le,compressedTexSubImage3D:ze,scissor:ct,viewport:He,reset:Xe}}function L5(t,e,n,i,s,r,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ae,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(V,O){return h?new OffscreenCanvas(V,O):Sd("canvas")}function g(V,O,K){let le=1;const ye=re(V);if((ye.width>K||ye.height>K)&&(le=K/Math.max(ye.width,ye.height)),le<1)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap||typeof VideoFrame<"u"&&V instanceof VideoFrame){const ve=Math.floor(le*ye.width),Oe=Math.floor(le*ye.height);d===void 0&&(d=m(ve,Oe));const Le=O?m(ve,Oe):d;return Le.width=ve,Le.height=Oe,Le.getContext("2d").drawImage(V,0,0,ve,Oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ye.width+"x"+ye.height+") to ("+ve+"x"+Oe+")."),Le}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ye.width+"x"+ye.height+")."),V;return V}function p(V){return V.generateMipmaps}function v(V){t.generateMipmap(V)}function b(V){return V.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:V.isWebGL3DRenderTarget?t.TEXTURE_3D:V.isWebGLArrayRenderTarget||V.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(V,O,K,le,ye=!1){if(V!==null){if(t[V]!==void 0)return t[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let ve=O;if(O===t.RED&&(K===t.FLOAT&&(ve=t.R32F),K===t.HALF_FLOAT&&(ve=t.R16F),K===t.UNSIGNED_BYTE&&(ve=t.R8)),O===t.RED_INTEGER&&(K===t.UNSIGNED_BYTE&&(ve=t.R8UI),K===t.UNSIGNED_SHORT&&(ve=t.R16UI),K===t.UNSIGNED_INT&&(ve=t.R32UI),K===t.BYTE&&(ve=t.R8I),K===t.SHORT&&(ve=t.R16I),K===t.INT&&(ve=t.R32I)),O===t.RG&&(K===t.FLOAT&&(ve=t.RG32F),K===t.HALF_FLOAT&&(ve=t.RG16F),K===t.UNSIGNED_BYTE&&(ve=t.RG8)),O===t.RG_INTEGER&&(K===t.UNSIGNED_BYTE&&(ve=t.RG8UI),K===t.UNSIGNED_SHORT&&(ve=t.RG16UI),K===t.UNSIGNED_INT&&(ve=t.RG32UI),K===t.BYTE&&(ve=t.RG8I),K===t.SHORT&&(ve=t.RG16I),K===t.INT&&(ve=t.RG32I)),O===t.RGB_INTEGER&&(K===t.UNSIGNED_BYTE&&(ve=t.RGB8UI),K===t.UNSIGNED_SHORT&&(ve=t.RGB16UI),K===t.UNSIGNED_INT&&(ve=t.RGB32UI),K===t.BYTE&&(ve=t.RGB8I),K===t.SHORT&&(ve=t.RGB16I),K===t.INT&&(ve=t.RGB32I)),O===t.RGBA_INTEGER&&(K===t.UNSIGNED_BYTE&&(ve=t.RGBA8UI),K===t.UNSIGNED_SHORT&&(ve=t.RGBA16UI),K===t.UNSIGNED_INT&&(ve=t.RGBA32UI),K===t.BYTE&&(ve=t.RGBA8I),K===t.SHORT&&(ve=t.RGBA16I),K===t.INT&&(ve=t.RGBA32I)),O===t.RGB&&K===t.UNSIGNED_INT_5_9_9_9_REV&&(ve=t.RGB9_E5),O===t.RGBA){const Oe=ye?_d:Vt.getTransfer(le);K===t.FLOAT&&(ve=t.RGBA32F),K===t.HALF_FLOAT&&(ve=t.RGBA16F),K===t.UNSIGNED_BYTE&&(ve=Oe===en?t.SRGB8_ALPHA8:t.RGBA8),K===t.UNSIGNED_SHORT_4_4_4_4&&(ve=t.RGBA4),K===t.UNSIGNED_SHORT_5_5_5_1&&(ve=t.RGB5_A1)}return(ve===t.R16F||ve===t.R32F||ve===t.RG16F||ve===t.RG32F||ve===t.RGBA16F||ve===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ve}function w(V,O){let K;return V?O===null||O===sa||O===al?K=t.DEPTH24_STENCIL8:O===Qi?K=t.DEPTH32F_STENCIL8:O===Vc&&(K=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):O===null||O===sa||O===al?K=t.DEPTH_COMPONENT24:O===Qi?K=t.DEPTH_COMPONENT32F:O===Vc&&(K=t.DEPTH_COMPONENT16),K}function T(V,O){return p(V)===!0||V.isFramebufferTexture&&V.minFilter!==Wn&&V.minFilter!==In?Math.log2(Math.max(O.width,O.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?O.mipmaps.length:1}function C(V){const O=V.target;O.removeEventListener("dispose",C),S(O),O.isVideoTexture&&u.delete(O)}function A(V){const O=V.target;O.removeEventListener("dispose",A),y(O)}function S(V){const O=i.get(V);if(O.__webglInit===void 0)return;const K=V.source,le=f.get(K);if(le){const ye=le[O.__cacheKey];ye.usedTimes--,ye.usedTimes===0&&x(V),Object.keys(le).length===0&&f.delete(K)}i.remove(V)}function x(V){const O=i.get(V);t.deleteTexture(O.__webglTexture);const K=V.source,le=f.get(K);delete le[O.__cacheKey],a.memory.textures--}function y(V){const O=i.get(V);if(V.depthTexture&&(V.depthTexture.dispose(),i.remove(V.depthTexture)),V.isWebGLCubeRenderTarget)for(let le=0;le<6;le++){if(Array.isArray(O.__webglFramebuffer[le]))for(let ye=0;ye<O.__webglFramebuffer[le].length;ye++)t.deleteFramebuffer(O.__webglFramebuffer[le][ye]);else t.deleteFramebuffer(O.__webglFramebuffer[le]);O.__webglDepthbuffer&&t.deleteRenderbuffer(O.__webglDepthbuffer[le])}else{if(Array.isArray(O.__webglFramebuffer))for(let le=0;le<O.__webglFramebuffer.length;le++)t.deleteFramebuffer(O.__webglFramebuffer[le]);else t.deleteFramebuffer(O.__webglFramebuffer);if(O.__webglDepthbuffer&&t.deleteRenderbuffer(O.__webglDepthbuffer),O.__webglMultisampledFramebuffer&&t.deleteFramebuffer(O.__webglMultisampledFramebuffer),O.__webglColorRenderbuffer)for(let le=0;le<O.__webglColorRenderbuffer.length;le++)O.__webglColorRenderbuffer[le]&&t.deleteRenderbuffer(O.__webglColorRenderbuffer[le]);O.__webglDepthRenderbuffer&&t.deleteRenderbuffer(O.__webglDepthRenderbuffer)}const K=V.textures;for(let le=0,ye=K.length;le<ye;le++){const ve=i.get(K[le]);ve.__webglTexture&&(t.deleteTexture(ve.__webglTexture),a.memory.textures--),i.remove(K[le])}i.remove(V)}let E=0;function P(){E=0}function D(){const V=E;return V>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+s.maxTextures),E+=1,V}function N(V){const O=[];return O.push(V.wrapS),O.push(V.wrapT),O.push(V.wrapR||0),O.push(V.magFilter),O.push(V.minFilter),O.push(V.anisotropy),O.push(V.internalFormat),O.push(V.format),O.push(V.type),O.push(V.generateMipmaps),O.push(V.premultiplyAlpha),O.push(V.flipY),O.push(V.unpackAlignment),O.push(V.colorSpace),O.join()}function W(V,O){const K=i.get(V);if(V.isVideoTexture&&se(V),V.isRenderTargetTexture===!1&&V.version>0&&K.__version!==V.version){const le=V.image;if(le===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(le.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ee(K,V,O);return}}n.bindTexture(t.TEXTURE_2D,K.__webglTexture,t.TEXTURE0+O)}function B(V,O){const K=i.get(V);if(V.version>0&&K.__version!==V.version){ee(K,V,O);return}n.bindTexture(t.TEXTURE_2D_ARRAY,K.__webglTexture,t.TEXTURE0+O)}function q(V,O){const K=i.get(V);if(V.version>0&&K.__version!==V.version){ee(K,V,O);return}n.bindTexture(t.TEXTURE_3D,K.__webglTexture,t.TEXTURE0+O)}function j(V,O){const K=i.get(V);if(V.version>0&&K.__version!==V.version){pe(K,V,O);return}n.bindTexture(t.TEXTURE_CUBE_MAP,K.__webglTexture,t.TEXTURE0+O)}const Q={[ia]:t.REPEAT,[Ji]:t.CLAMP_TO_EDGE,[rl]:t.MIRRORED_REPEAT},Z={[Wn]:t.NEAREST,[ef]:t.NEAREST_MIPMAP_NEAREST,[Fa]:t.NEAREST_MIPMAP_LINEAR,[In]:t.LINEAR,[$o]:t.LINEAR_MIPMAP_NEAREST,[cs]:t.LINEAR_MIPMAP_LINEAR},X={[MA]:t.NEVER,[IA]:t.ALWAYS,[CA]:t.LESS,[g_]:t.LEQUAL,[TA]:t.EQUAL,[PA]:t.GEQUAL,[EA]:t.GREATER,[AA]:t.NOTEQUAL};function ce(V,O){if(O.type===Qi&&e.has("OES_texture_float_linear")===!1&&(O.magFilter===In||O.magFilter===$o||O.magFilter===Fa||O.magFilter===cs||O.minFilter===In||O.minFilter===$o||O.minFilter===Fa||O.minFilter===cs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(V,t.TEXTURE_WRAP_S,Q[O.wrapS]),t.texParameteri(V,t.TEXTURE_WRAP_T,Q[O.wrapT]),(V===t.TEXTURE_3D||V===t.TEXTURE_2D_ARRAY)&&t.texParameteri(V,t.TEXTURE_WRAP_R,Q[O.wrapR]),t.texParameteri(V,t.TEXTURE_MAG_FILTER,Z[O.magFilter]),t.texParameteri(V,t.TEXTURE_MIN_FILTER,Z[O.minFilter]),O.compareFunction&&(t.texParameteri(V,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(V,t.TEXTURE_COMPARE_FUNC,X[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(O.magFilter===Wn||O.minFilter!==Fa&&O.minFilter!==cs||O.type===Qi&&e.has("OES_texture_float_linear")===!1)return;if(O.anisotropy>1||i.get(O).__currentAnisotropy){const K=e.get("EXT_texture_filter_anisotropic");t.texParameterf(V,K.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,s.getMaxAnisotropy())),i.get(O).__currentAnisotropy=O.anisotropy}}}function Me(V,O){let K=!1;V.__webglInit===void 0&&(V.__webglInit=!0,O.addEventListener("dispose",C));const le=O.source;let ye=f.get(le);ye===void 0&&(ye={},f.set(le,ye));const ve=N(O);if(ve!==V.__cacheKey){ye[ve]===void 0&&(ye[ve]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,K=!0),ye[ve].usedTimes++;const Oe=ye[V.__cacheKey];Oe!==void 0&&(ye[V.__cacheKey].usedTimes--,Oe.usedTimes===0&&x(O)),V.__cacheKey=ve,V.__webglTexture=ye[ve].texture}return K}function ee(V,O,K){let le=t.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(le=t.TEXTURE_2D_ARRAY),O.isData3DTexture&&(le=t.TEXTURE_3D);const ye=Me(V,O),ve=O.source;n.bindTexture(le,V.__webglTexture,t.TEXTURE0+K);const Oe=i.get(ve);if(ve.version!==Oe.__version||ye===!0){n.activeTexture(t.TEXTURE0+K);const Le=Vt.getPrimaries(Vt.workingColorSpace),ze=O.colorSpace===Wr?null:Vt.getPrimaries(O.colorSpace),ot=O.colorSpace===Wr||Le===ze?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);let De=g(O.image,!1,s.maxTextureSize);De=me(O,De);const je=r.convert(O.format,O.colorSpace),st=r.convert(O.type);let ct=_(O.internalFormat,je,st,O.colorSpace,O.isVideoTexture);ce(le,O);let He;const ie=O.mipmaps,Ee=O.isVideoTexture!==!0,Xe=Oe.__version===void 0||ye===!0,te=ve.dataReady,Fe=T(O,De);if(O.isDepthTexture)ct=w(O.format===ol,O.type),Xe&&(Ee?n.texStorage2D(t.TEXTURE_2D,1,ct,De.width,De.height):n.texImage2D(t.TEXTURE_2D,0,ct,De.width,De.height,0,je,st,null));else if(O.isDataTexture)if(ie.length>0){Ee&&Xe&&n.texStorage2D(t.TEXTURE_2D,Fe,ct,ie[0].width,ie[0].height);for(let we=0,Re=ie.length;we<Re;we++)He=ie[we],Ee?te&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,He.width,He.height,je,st,He.data):n.texImage2D(t.TEXTURE_2D,we,ct,He.width,He.height,0,je,st,He.data);O.generateMipmaps=!1}else Ee?(Xe&&n.texStorage2D(t.TEXTURE_2D,Fe,ct,De.width,De.height),te&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,De.width,De.height,je,st,De.data)):n.texImage2D(t.TEXTURE_2D,0,ct,De.width,De.height,0,je,st,De.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){Ee&&Xe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Fe,ct,ie[0].width,ie[0].height,De.depth);for(let we=0,Re=ie.length;we<Re;we++)if(He=ie[we],O.format!==gi)if(je!==null)if(Ee){if(te)if(O.layerUpdates.size>0){const Ye=x0(He.width,He.height,O.format,O.type);for(const Ge of O.layerUpdates){const ut=He.data.subarray(Ge*Ye/He.data.BYTES_PER_ELEMENT,(Ge+1)*Ye/He.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,Ge,He.width,He.height,1,je,ut)}O.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,0,He.width,He.height,De.depth,je,He.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,we,ct,He.width,He.height,De.depth,0,He.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ee?te&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,0,He.width,He.height,De.depth,je,st,He.data):n.texImage3D(t.TEXTURE_2D_ARRAY,we,ct,He.width,He.height,De.depth,0,je,st,He.data)}else{Ee&&Xe&&n.texStorage2D(t.TEXTURE_2D,Fe,ct,ie[0].width,ie[0].height);for(let we=0,Re=ie.length;we<Re;we++)He=ie[we],O.format!==gi?je!==null?Ee?te&&n.compressedTexSubImage2D(t.TEXTURE_2D,we,0,0,He.width,He.height,je,He.data):n.compressedTexImage2D(t.TEXTURE_2D,we,ct,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ee?te&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,He.width,He.height,je,st,He.data):n.texImage2D(t.TEXTURE_2D,we,ct,He.width,He.height,0,je,st,He.data)}else if(O.isDataArrayTexture)if(Ee){if(Xe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Fe,ct,De.width,De.height,De.depth),te)if(O.layerUpdates.size>0){const we=x0(De.width,De.height,O.format,O.type);for(const Re of O.layerUpdates){const Ye=De.data.subarray(Re*we/De.data.BYTES_PER_ELEMENT,(Re+1)*we/De.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Re,De.width,De.height,1,je,st,Ye)}O.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,De.width,De.height,De.depth,je,st,De.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ct,De.width,De.height,De.depth,0,je,st,De.data);else if(O.isData3DTexture)Ee?(Xe&&n.texStorage3D(t.TEXTURE_3D,Fe,ct,De.width,De.height,De.depth),te&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,De.width,De.height,De.depth,je,st,De.data)):n.texImage3D(t.TEXTURE_3D,0,ct,De.width,De.height,De.depth,0,je,st,De.data);else if(O.isFramebufferTexture){if(Xe)if(Ee)n.texStorage2D(t.TEXTURE_2D,Fe,ct,De.width,De.height);else{let we=De.width,Re=De.height;for(let Ye=0;Ye<Fe;Ye++)n.texImage2D(t.TEXTURE_2D,Ye,ct,we,Re,0,je,st,null),we>>=1,Re>>=1}}else if(ie.length>0){if(Ee&&Xe){const we=re(ie[0]);n.texStorage2D(t.TEXTURE_2D,Fe,ct,we.width,we.height)}for(let we=0,Re=ie.length;we<Re;we++)He=ie[we],Ee?te&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,je,st,He):n.texImage2D(t.TEXTURE_2D,we,ct,je,st,He);O.generateMipmaps=!1}else if(Ee){if(Xe){const we=re(De);n.texStorage2D(t.TEXTURE_2D,Fe,ct,we.width,we.height)}te&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,je,st,De)}else n.texImage2D(t.TEXTURE_2D,0,ct,je,st,De);p(O)&&v(le),Oe.__version=ve.version,O.onUpdate&&O.onUpdate(O)}V.__version=O.version}function pe(V,O,K){if(O.image.length!==6)return;const le=Me(V,O),ye=O.source;n.bindTexture(t.TEXTURE_CUBE_MAP,V.__webglTexture,t.TEXTURE0+K);const ve=i.get(ye);if(ye.version!==ve.__version||le===!0){n.activeTexture(t.TEXTURE0+K);const Oe=Vt.getPrimaries(Vt.workingColorSpace),Le=O.colorSpace===Wr?null:Vt.getPrimaries(O.colorSpace),ze=O.colorSpace===Wr||Oe===Le?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);const ot=O.isCompressedTexture||O.image[0].isCompressedTexture,De=O.image[0]&&O.image[0].isDataTexture,je=[];for(let Re=0;Re<6;Re++)!ot&&!De?je[Re]=g(O.image[Re],!0,s.maxCubemapSize):je[Re]=De?O.image[Re].image:O.image[Re],je[Re]=me(O,je[Re]);const st=je[0],ct=r.convert(O.format,O.colorSpace),He=r.convert(O.type),ie=_(O.internalFormat,ct,He,O.colorSpace),Ee=O.isVideoTexture!==!0,Xe=ve.__version===void 0||le===!0,te=ye.dataReady;let Fe=T(O,st);ce(t.TEXTURE_CUBE_MAP,O);let we;if(ot){Ee&&Xe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Fe,ie,st.width,st.height);for(let Re=0;Re<6;Re++){we=je[Re].mipmaps;for(let Ye=0;Ye<we.length;Ye++){const Ge=we[Ye];O.format!==gi?ct!==null?Ee?te&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ye,0,0,Ge.width,Ge.height,ct,Ge.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ye,ie,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ee?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ye,0,0,Ge.width,Ge.height,ct,He,Ge.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ye,ie,Ge.width,Ge.height,0,ct,He,Ge.data)}}}else{if(we=O.mipmaps,Ee&&Xe){we.length>0&&Fe++;const Re=re(je[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Fe,ie,Re.width,Re.height)}for(let Re=0;Re<6;Re++)if(De){Ee?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,0,0,je[Re].width,je[Re].height,ct,He,je[Re].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,ie,je[Re].width,je[Re].height,0,ct,He,je[Re].data);for(let Ye=0;Ye<we.length;Ye++){const ut=we[Ye].image[Re].image;Ee?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ye+1,0,0,ut.width,ut.height,ct,He,ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ye+1,ie,ut.width,ut.height,0,ct,He,ut.data)}}else{Ee?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,0,0,ct,He,je[Re]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,ie,ct,He,je[Re]);for(let Ye=0;Ye<we.length;Ye++){const Ge=we[Ye];Ee?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ye+1,0,0,ct,He,Ge.image[Re]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ye+1,ie,ct,He,Ge.image[Re])}}}p(O)&&v(t.TEXTURE_CUBE_MAP),ve.__version=ye.version,O.onUpdate&&O.onUpdate(O)}V.__version=O.version}function ne(V,O,K,le,ye,ve){const Oe=r.convert(K.format,K.colorSpace),Le=r.convert(K.type),ze=_(K.internalFormat,Oe,Le,K.colorSpace),ot=i.get(O),De=i.get(K);if(De.__renderTarget=O,!ot.__hasExternalTextures){const je=Math.max(1,O.width>>ve),st=Math.max(1,O.height>>ve);ye===t.TEXTURE_3D||ye===t.TEXTURE_2D_ARRAY?n.texImage3D(ye,ve,ze,je,st,O.depth,0,Oe,Le,null):n.texImage2D(ye,ve,ze,je,st,0,Oe,Le,null)}n.bindFramebuffer(t.FRAMEBUFFER,V),J(O)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,le,ye,De.__webglTexture,0,$(O)):(ye===t.TEXTURE_2D||ye>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,le,ye,De.__webglTexture,ve),n.bindFramebuffer(t.FRAMEBUFFER,null)}function de(V,O,K){if(t.bindRenderbuffer(t.RENDERBUFFER,V),O.depthBuffer){const le=O.depthTexture,ye=le&&le.isDepthTexture?le.type:null,ve=w(O.stencilBuffer,ye),Oe=O.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Le=$(O);J(O)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Le,ve,O.width,O.height):K?t.renderbufferStorageMultisample(t.RENDERBUFFER,Le,ve,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,ve,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Oe,t.RENDERBUFFER,V)}else{const le=O.textures;for(let ye=0;ye<le.length;ye++){const ve=le[ye],Oe=r.convert(ve.format,ve.colorSpace),Le=r.convert(ve.type),ze=_(ve.internalFormat,Oe,Le,ve.colorSpace),ot=$(O);K&&J(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ot,ze,O.width,O.height):J(O)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ot,ze,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,ze,O.width,O.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ae(V,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,V),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const le=i.get(O.depthTexture);le.__renderTarget=O,(!le.__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),W(O.depthTexture,0);const ye=le.__webglTexture,ve=$(O);if(O.depthTexture.format===jo)J(O)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ye,0,ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ye,0);else if(O.depthTexture.format===ol)J(O)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ye,0,ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ye,0);else throw new Error("Unknown depthTexture format")}function F(V){const O=i.get(V),K=V.isWebGLCubeRenderTarget===!0;if(O.__boundDepthTexture!==V.depthTexture){const le=V.depthTexture;if(O.__depthDisposeCallback&&O.__depthDisposeCallback(),le){const ye=()=>{delete O.__boundDepthTexture,delete O.__depthDisposeCallback,le.removeEventListener("dispose",ye)};le.addEventListener("dispose",ye),O.__depthDisposeCallback=ye}O.__boundDepthTexture=le}if(V.depthTexture&&!O.__autoAllocateDepthBuffer){if(K)throw new Error("target.depthTexture not supported in Cube render targets");ae(O.__webglFramebuffer,V)}else if(K){O.__webglDepthbuffer=[];for(let le=0;le<6;le++)if(n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer[le]),O.__webglDepthbuffer[le]===void 0)O.__webglDepthbuffer[le]=t.createRenderbuffer(),de(O.__webglDepthbuffer[le],V,!1);else{const ye=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ve=O.__webglDepthbuffer[le];t.bindRenderbuffer(t.RENDERBUFFER,ve),t.framebufferRenderbuffer(t.FRAMEBUFFER,ye,t.RENDERBUFFER,ve)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer===void 0)O.__webglDepthbuffer=t.createRenderbuffer(),de(O.__webglDepthbuffer,V,!1);else{const le=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ye=O.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ye),t.framebufferRenderbuffer(t.FRAMEBUFFER,le,t.RENDERBUFFER,ye)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function U(V,O,K){const le=i.get(V);O!==void 0&&ne(le.__webglFramebuffer,V,V.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),K!==void 0&&F(V)}function z(V){const O=V.texture,K=i.get(V),le=i.get(O);V.addEventListener("dispose",A);const ye=V.textures,ve=V.isWebGLCubeRenderTarget===!0,Oe=ye.length>1;if(Oe||(le.__webglTexture===void 0&&(le.__webglTexture=t.createTexture()),le.__version=O.version,a.memory.textures++),ve){K.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)if(O.mipmaps&&O.mipmaps.length>0){K.__webglFramebuffer[Le]=[];for(let ze=0;ze<O.mipmaps.length;ze++)K.__webglFramebuffer[Le][ze]=t.createFramebuffer()}else K.__webglFramebuffer[Le]=t.createFramebuffer()}else{if(O.mipmaps&&O.mipmaps.length>0){K.__webglFramebuffer=[];for(let Le=0;Le<O.mipmaps.length;Le++)K.__webglFramebuffer[Le]=t.createFramebuffer()}else K.__webglFramebuffer=t.createFramebuffer();if(Oe)for(let Le=0,ze=ye.length;Le<ze;Le++){const ot=i.get(ye[Le]);ot.__webglTexture===void 0&&(ot.__webglTexture=t.createTexture(),a.memory.textures++)}if(V.samples>0&&J(V)===!1){K.__webglMultisampledFramebuffer=t.createFramebuffer(),K.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,K.__webglMultisampledFramebuffer);for(let Le=0;Le<ye.length;Le++){const ze=ye[Le];K.__webglColorRenderbuffer[Le]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,K.__webglColorRenderbuffer[Le]);const ot=r.convert(ze.format,ze.colorSpace),De=r.convert(ze.type),je=_(ze.internalFormat,ot,De,ze.colorSpace,V.isXRRenderTarget===!0),st=$(V);t.renderbufferStorageMultisample(t.RENDERBUFFER,st,je,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Le,t.RENDERBUFFER,K.__webglColorRenderbuffer[Le])}t.bindRenderbuffer(t.RENDERBUFFER,null),V.depthBuffer&&(K.__webglDepthRenderbuffer=t.createRenderbuffer(),de(K.__webglDepthRenderbuffer,V,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ve){n.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture),ce(t.TEXTURE_CUBE_MAP,O);for(let Le=0;Le<6;Le++)if(O.mipmaps&&O.mipmaps.length>0)for(let ze=0;ze<O.mipmaps.length;ze++)ne(K.__webglFramebuffer[Le][ze],V,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ze);else ne(K.__webglFramebuffer[Le],V,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0);p(O)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Oe){for(let Le=0,ze=ye.length;Le<ze;Le++){const ot=ye[Le],De=i.get(ot);n.bindTexture(t.TEXTURE_2D,De.__webglTexture),ce(t.TEXTURE_2D,ot),ne(K.__webglFramebuffer,V,ot,t.COLOR_ATTACHMENT0+Le,t.TEXTURE_2D,0),p(ot)&&v(t.TEXTURE_2D)}n.unbindTexture()}else{let Le=t.TEXTURE_2D;if((V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(Le=V.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Le,le.__webglTexture),ce(Le,O),O.mipmaps&&O.mipmaps.length>0)for(let ze=0;ze<O.mipmaps.length;ze++)ne(K.__webglFramebuffer[ze],V,O,t.COLOR_ATTACHMENT0,Le,ze);else ne(K.__webglFramebuffer,V,O,t.COLOR_ATTACHMENT0,Le,0);p(O)&&v(Le),n.unbindTexture()}V.depthBuffer&&F(V)}function k(V){const O=V.textures;for(let K=0,le=O.length;K<le;K++){const ye=O[K];if(p(ye)){const ve=b(V),Oe=i.get(ye).__webglTexture;n.bindTexture(ve,Oe),v(ve),n.unbindTexture()}}}const R=[],I=[];function Y(V){if(V.samples>0){if(J(V)===!1){const O=V.textures,K=V.width,le=V.height;let ye=t.COLOR_BUFFER_BIT;const ve=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=i.get(V),Le=O.length>1;if(Le)for(let ze=0;ze<O.length;ze++)n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglFramebuffer);for(let ze=0;ze<O.length;ze++){if(V.resolveDepthBuffer&&(V.depthBuffer&&(ye|=t.DEPTH_BUFFER_BIT),V.stencilBuffer&&V.resolveStencilBuffer&&(ye|=t.STENCIL_BUFFER_BIT)),Le){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[ze]);const ot=i.get(O[ze]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ot,0)}t.blitFramebuffer(0,0,K,le,0,0,K,le,ye,t.NEAREST),l===!0&&(R.length=0,I.length=0,R.push(t.COLOR_ATTACHMENT0+ze),V.depthBuffer&&V.resolveDepthBuffer===!1&&(R.push(ve),I.push(ve),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,I)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,R))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Le)for(let ze=0;ze<O.length;ze++){n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[ze]);const ot=i.get(O[ze]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,ot,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer)}else if(V.depthBuffer&&V.resolveDepthBuffer===!1&&l){const O=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[O])}}}function $(V){return Math.min(s.maxSamples,V.samples)}function J(V){const O=i.get(V);return V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function se(V){const O=a.render.frame;u.get(V)!==O&&(u.set(V,O),V.update())}function me(V,O){const K=V.colorSpace,le=V.format,ye=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||K!==ul&&K!==Wr&&(Vt.getTransfer(K)===en?(le!==gi||ye!==Ps)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",K)),O}function re(V){return typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement?(c.width=V.naturalWidth||V.width,c.height=V.naturalHeight||V.height):typeof VideoFrame<"u"&&V instanceof VideoFrame?(c.width=V.displayWidth,c.height=V.displayHeight):(c.width=V.width,c.height=V.height),c}this.allocateTextureUnit=D,this.resetTextureUnits=P,this.setTexture2D=W,this.setTexture2DArray=B,this.setTexture3D=q,this.setTextureCube=j,this.rebindTextures=U,this.setupRenderTarget=z,this.updateRenderTargetMipmap=k,this.updateMultisampleRenderTarget=Y,this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=ne,this.useMultisampledRTT=J}function OP(t,e){function n(i,s=Wr){let r;const a=Vt.getTransfer(s);if(i===Ps)return t.UNSIGNED_BYTE;if(i===Up)return t.UNSIGNED_SHORT_4_4_4_4;if(i===zp)return t.UNSIGNED_SHORT_5_5_5_1;if(i===l_)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===a_)return t.BYTE;if(i===o_)return t.SHORT;if(i===Vc)return t.UNSIGNED_SHORT;if(i===Bp)return t.INT;if(i===sa)return t.UNSIGNED_INT;if(i===Qi)return t.FLOAT;if(i===Ml)return t.HALF_FLOAT;if(i===c_)return t.ALPHA;if(i===u_)return t.RGB;if(i===gi)return t.RGBA;if(i===d_)return t.LUMINANCE;if(i===f_)return t.LUMINANCE_ALPHA;if(i===jo)return t.DEPTH_COMPONENT;if(i===ol)return t.DEPTH_STENCIL;if(i===Hp)return t.RED;if(i===tf)return t.RED_INTEGER;if(i===h_)return t.RG;if(i===Gp)return t.RG_INTEGER;if(i===Wp)return t.RGBA_INTEGER;if(i===Zu||i===Ju||i===Qu||i===ed)if(a===en)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===Zu)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Ju)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Qu)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===ed)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===Zu)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Ju)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Qu)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===ed)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Om||i===Nm||i===Vm||i===Fm)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===Om)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Nm)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Vm)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Fm)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Bm||i===Um||i===zm)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===Bm||i===Um)return a===en?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===zm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Hm||i===Gm||i===Wm||i===$m||i===jm||i===Xm||i===Ym||i===qm||i===Km||i===Zm||i===Jm||i===Qm||i===ep||i===tp)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Hm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Gm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Wm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===$m)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===jm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Xm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Ym)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===qm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Km)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Zm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Jm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Qm)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===ep)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===tp)return a===en?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===td||i===np||i===ip)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===td)return a===en?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===np)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===ip)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===m_||i===sp||i===rp||i===ap)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===td)return r.COMPRESSED_RED_RGTC1_EXT;if(i===sp)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===rp)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===ap)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===al?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const k5=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,D5=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class O5{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const s=new dn,r=e.properties.get(s);r.__webglTexture=n.texture,(n.depthNear!==i.depthNear||n.depthFar!==i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Gi({vertexShader:k5,fragmentShader:D5,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new an(new Qa(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class N5 extends Ks{constructor(e,n){super();const i=this;let s=null,r=1,a=null,o="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,m=null;const g=new O5,p=n.getContextAttributes();let v=null,b=null;const _=[],w=[],T=new Ae;let C=null;const A=new tn;A.viewport=new Et;const S=new tn;S.viewport=new Et;const x=[A,S],y=new xP;let E=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let pe=_[ee];return pe===void 0&&(pe=new sm,_[ee]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(ee){let pe=_[ee];return pe===void 0&&(pe=new sm,_[ee]=pe),pe.getGripSpace()},this.getHand=function(ee){let pe=_[ee];return pe===void 0&&(pe=new sm,_[ee]=pe),pe.getHandSpace()};function D(ee){const pe=w.indexOf(ee.inputSource);if(pe===-1)return;const ne=_[pe];ne!==void 0&&(ne.update(ee.inputSource,ee.frame,c||a),ne.dispatchEvent({type:ee.type,data:ee.inputSource}))}function N(){s.removeEventListener("select",D),s.removeEventListener("selectstart",D),s.removeEventListener("selectend",D),s.removeEventListener("squeeze",D),s.removeEventListener("squeezestart",D),s.removeEventListener("squeezeend",D),s.removeEventListener("end",N),s.removeEventListener("inputsourceschange",W);for(let ee=0;ee<_.length;ee++){const pe=w[ee];pe!==null&&(w[ee]=null,_[ee].disconnect(pe))}E=null,P=null,g.reset(),e.setRenderTarget(v),h=null,f=null,d=null,s=null,b=null,Me.stop(),i.isPresenting=!1,e.setPixelRatio(C),e.setSize(T.width,T.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){r=ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){o=ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ee){c=ee},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return s},this.setSession=async function(ee){if(s=ee,s!==null){if(v=e.getRenderTarget(),s.addEventListener("select",D),s.addEventListener("selectstart",D),s.addEventListener("selectend",D),s.addEventListener("squeeze",D),s.addEventListener("squeezestart",D),s.addEventListener("squeezeend",D),s.addEventListener("end",N),s.addEventListener("inputsourceschange",W),p.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(T),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ne=null,de=null,ae=null;p.depth&&(ae=p.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ne=p.stencil?ol:jo,de=p.stencil?al:sa);const F={colorFormat:n.RGBA8,depthFormat:ae,scaleFactor:r};d=new XRWebGLBinding(s,n),f=d.createProjectionLayer(F),s.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new js(f.textureWidth,f.textureHeight,{format:gi,type:Ps,depthTexture:new T_(f.textureWidth,f.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:p.stencil,colorSpace:e.outputColorSpace,samples:p.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}else{const ne={antialias:p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(s,n,ne),s.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),b=new js(h.framebufferWidth,h.framebufferHeight,{format:gi,type:Ps,colorSpace:e.outputColorSpace,stencilBuffer:p.stencil})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await s.requestReferenceSpace(o),Me.setContext(s),Me.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function W(ee){for(let pe=0;pe<ee.removed.length;pe++){const ne=ee.removed[pe],de=w.indexOf(ne);de>=0&&(w[de]=null,_[de].disconnect(ne))}for(let pe=0;pe<ee.added.length;pe++){const ne=ee.added[pe];let de=w.indexOf(ne);if(de===-1){for(let F=0;F<_.length;F++)if(F>=w.length){w.push(ne),de=F;break}else if(w[F]===null){w[F]=ne,de=F;break}if(de===-1)break}const ae=_[de];ae&&ae.connect(ne)}}const B=new G,q=new G;function j(ee,pe,ne){B.setFromMatrixPosition(pe.matrixWorld),q.setFromMatrixPosition(ne.matrixWorld);const de=B.distanceTo(q),ae=pe.projectionMatrix.elements,F=ne.projectionMatrix.elements,U=ae[14]/(ae[10]-1),z=ae[14]/(ae[10]+1),k=(ae[9]+1)/ae[5],R=(ae[9]-1)/ae[5],I=(ae[8]-1)/ae[0],Y=(F[8]+1)/F[0],$=U*I,J=U*Y,se=de/(-I+Y),me=se*-I;if(pe.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(me),ee.translateZ(se),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert(),ae[10]===-1)ee.projectionMatrix.copy(pe.projectionMatrix),ee.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const re=U+se,V=z+se,O=$-me,K=J+(de-me),le=k*z/V*re,ye=R*z/V*re;ee.projectionMatrix.makePerspective(O,K,le,ye,re,V),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}}function Q(ee,pe){pe===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(pe.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(s===null)return;let pe=ee.near,ne=ee.far;g.texture!==null&&(g.depthNear>0&&(pe=g.depthNear),g.depthFar>0&&(ne=g.depthFar)),y.near=S.near=A.near=pe,y.far=S.far=A.far=ne,(E!==y.near||P!==y.far)&&(s.updateRenderState({depthNear:y.near,depthFar:y.far}),E=y.near,P=y.far),A.layers.mask=ee.layers.mask|2,S.layers.mask=ee.layers.mask|4,y.layers.mask=A.layers.mask|S.layers.mask;const de=ee.parent,ae=y.cameras;Q(y,de);for(let F=0;F<ae.length;F++)Q(ae[F],de);ae.length===2?j(y,A,S):y.projectionMatrix.copy(A.projectionMatrix),Z(ee,y,de)};function Z(ee,pe,ne){ne===null?ee.matrix.copy(pe.matrixWorld):(ee.matrix.copy(ne.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(pe.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(pe.projectionMatrix),ee.projectionMatrixInverse.copy(pe.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=Fc*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return y},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(ee){l=ee,f!==null&&(f.fixedFoveation=ee),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=ee)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(y)};let X=null;function ce(ee,pe){if(u=pe.getViewerPose(c||a),m=pe,u!==null){const ne=u.views;h!==null&&(e.setRenderTargetFramebuffer(b,h.framebuffer),e.setRenderTarget(b));let de=!1;ne.length!==y.cameras.length&&(y.cameras.length=0,de=!0);for(let U=0;U<ne.length;U++){const z=ne[U];let k=null;if(h!==null)k=h.getViewport(z);else{const I=d.getViewSubImage(f,z);k=I.viewport,U===0&&(e.setRenderTargetTextures(b,I.colorTexture,f.ignoreDepthValues?void 0:I.depthStencilTexture),e.setRenderTarget(b))}let R=x[U];R===void 0&&(R=new tn,R.layers.enable(U),R.viewport=new Et,x[U]=R),R.matrix.fromArray(z.transform.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale),R.projectionMatrix.fromArray(z.projectionMatrix),R.projectionMatrixInverse.copy(R.projectionMatrix).invert(),R.viewport.set(k.x,k.y,k.width,k.height),U===0&&(y.matrix.copy(R.matrix),y.matrix.decompose(y.position,y.quaternion,y.scale)),de===!0&&y.cameras.push(R)}const ae=s.enabledFeatures;if(ae&&ae.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&d){const U=d.getDepthInformation(ne[0]);U&&U.isValid&&U.texture&&g.init(e,U,s.renderState)}}for(let ne=0;ne<_.length;ne++){const de=w[ne],ae=_[ne];de!==null&&ae!==void 0&&ae.update(de,pe,c||a)}X&&X(ee,pe),pe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:pe}),m=null}const Me=new IP;Me.setAnimationLoop(ce),this.setAnimationLoop=function(ee){X=ee},this.dispose=function(){}}}const wo=new Hi,V5=new at;function F5(t,e){function n(p,v){p.matrixAutoUpdate===!0&&p.updateMatrix(),v.value.copy(p.matrix)}function i(p,v){v.color.getRGB(p.fogColor.value,OA(t)),v.isFog?(p.fogNear.value=v.near,p.fogFar.value=v.far):v.isFogExp2&&(p.fogDensity.value=v.density)}function s(p,v,b,_,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?r(p,v):v.isMeshToonMaterial?(r(p,v),d(p,v)):v.isMeshPhongMaterial?(r(p,v),u(p,v)):v.isMeshStandardMaterial?(r(p,v),f(p,v),v.isMeshPhysicalMaterial&&h(p,v,w)):v.isMeshMatcapMaterial?(r(p,v),m(p,v)):v.isMeshDepthMaterial?r(p,v):v.isMeshDistanceMaterial?(r(p,v),g(p,v)):v.isMeshNormalMaterial?r(p,v):v.isLineBasicMaterial?(a(p,v),v.isLineDashedMaterial&&o(p,v)):v.isPointsMaterial?l(p,v,b,_):v.isSpriteMaterial?c(p,v):v.isShadowMaterial?(p.color.value.copy(v.color),p.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function r(p,v){p.opacity.value=v.opacity,v.color&&p.diffuse.value.copy(v.color),v.emissive&&p.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(p.map.value=v.map,n(v.map,p.mapTransform)),v.alphaMap&&(p.alphaMap.value=v.alphaMap,n(v.alphaMap,p.alphaMapTransform)),v.bumpMap&&(p.bumpMap.value=v.bumpMap,n(v.bumpMap,p.bumpMapTransform),p.bumpScale.value=v.bumpScale,v.side===_i&&(p.bumpScale.value*=-1)),v.normalMap&&(p.normalMap.value=v.normalMap,n(v.normalMap,p.normalMapTransform),p.normalScale.value.copy(v.normalScale),v.side===_i&&p.normalScale.value.negate()),v.displacementMap&&(p.displacementMap.value=v.displacementMap,n(v.displacementMap,p.displacementMapTransform),p.displacementScale.value=v.displacementScale,p.displacementBias.value=v.displacementBias),v.emissiveMap&&(p.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,p.emissiveMapTransform)),v.specularMap&&(p.specularMap.value=v.specularMap,n(v.specularMap,p.specularMapTransform)),v.alphaTest>0&&(p.alphaTest.value=v.alphaTest);const b=e.get(v),_=b.envMap,w=b.envMapRotation;_&&(p.envMap.value=_,wo.copy(w),wo.x*=-1,wo.y*=-1,wo.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(wo.y*=-1,wo.z*=-1),p.envMapRotation.value.setFromMatrix4(V5.makeRotationFromEuler(wo)),p.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=v.reflectivity,p.ior.value=v.ior,p.refractionRatio.value=v.refractionRatio),v.lightMap&&(p.lightMap.value=v.lightMap,p.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,p.lightMapTransform)),v.aoMap&&(p.aoMap.value=v.aoMap,p.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,p.aoMapTransform))}function a(p,v){p.diffuse.value.copy(v.color),p.opacity.value=v.opacity,v.map&&(p.map.value=v.map,n(v.map,p.mapTransform))}function o(p,v){p.dashSize.value=v.dashSize,p.totalSize.value=v.dashSize+v.gapSize,p.scale.value=v.scale}function l(p,v,b,_){p.diffuse.value.copy(v.color),p.opacity.value=v.opacity,p.size.value=v.size*b,p.scale.value=_*.5,v.map&&(p.map.value=v.map,n(v.map,p.uvTransform)),v.alphaMap&&(p.alphaMap.value=v.alphaMap,n(v.alphaMap,p.alphaMapTransform)),v.alphaTest>0&&(p.alphaTest.value=v.alphaTest)}function c(p,v){p.diffuse.value.copy(v.color),p.opacity.value=v.opacity,p.rotation.value=v.rotation,v.map&&(p.map.value=v.map,n(v.map,p.mapTransform)),v.alphaMap&&(p.alphaMap.value=v.alphaMap,n(v.alphaMap,p.alphaMapTransform)),v.alphaTest>0&&(p.alphaTest.value=v.alphaTest)}function u(p,v){p.specular.value.copy(v.specular),p.shininess.value=Math.max(v.shininess,1e-4)}function d(p,v){v.gradientMap&&(p.gradientMap.value=v.gradientMap)}function f(p,v){p.metalness.value=v.metalness,v.metalnessMap&&(p.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,p.metalnessMapTransform)),p.roughness.value=v.roughness,v.roughnessMap&&(p.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,p.roughnessMapTransform)),v.envMap&&(p.envMapIntensity.value=v.envMapIntensity)}function h(p,v,b){p.ior.value=v.ior,v.sheen>0&&(p.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),p.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(p.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,p.sheenColorMapTransform)),v.sheenRoughnessMap&&(p.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,p.sheenRoughnessMapTransform))),v.clearcoat>0&&(p.clearcoat.value=v.clearcoat,p.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(p.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,p.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,p.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(p.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,p.clearcoatNormalMapTransform),p.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===_i&&p.clearcoatNormalScale.value.negate())),v.dispersion>0&&(p.dispersion.value=v.dispersion),v.iridescence>0&&(p.iridescence.value=v.iridescence,p.iridescenceIOR.value=v.iridescenceIOR,p.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(p.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,p.iridescenceMapTransform)),v.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,p.iridescenceThicknessMapTransform))),v.transmission>0&&(p.transmission.value=v.transmission,p.transmissionSamplerMap.value=b.texture,p.transmissionSamplerSize.value.set(b.width,b.height),v.transmissionMap&&(p.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,p.transmissionMapTransform)),p.thickness.value=v.thickness,v.thicknessMap&&(p.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,p.thicknessMapTransform)),p.attenuationDistance.value=v.attenuationDistance,p.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(p.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(p.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,p.anisotropyMapTransform))),p.specularIntensity.value=v.specularIntensity,p.specularColor.value.copy(v.specularColor),v.specularColorMap&&(p.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,p.specularColorMapTransform)),v.specularIntensityMap&&(p.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,p.specularIntensityMapTransform))}function m(p,v){v.matcap&&(p.matcap.value=v.matcap)}function g(p,v){const b=e.get(v).light;p.referencePosition.value.setFromMatrixPosition(b.matrixWorld),p.nearDistance.value=b.shadow.camera.near,p.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function B5(t,e,n,i){let s={},r={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,_){const w=_.program;i.uniformBlockBinding(b,w)}function c(b,_){let w=s[b.id];w===void 0&&(m(b),w=u(b),s[b.id]=w,b.addEventListener("dispose",p));const T=_.program;i.updateUBOMapping(b,T);const C=e.render.frame;r[b.id]!==C&&(f(b),r[b.id]=C)}function u(b){const _=d();b.__bindingPointIndex=_;const w=t.createBuffer(),T=b.__size,C=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,T,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,w),w}function d(){for(let b=0;b<o;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(b){const _=s[b.id],w=b.uniforms,T=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let C=0,A=w.length;C<A;C++){const S=Array.isArray(w[C])?w[C]:[w[C]];for(let x=0,y=S.length;x<y;x++){const E=S[x];if(h(E,C,x,T)===!0){const P=E.__offset,D=Array.isArray(E.value)?E.value:[E.value];let N=0;for(let W=0;W<D.length;W++){const B=D[W],q=g(B);typeof B=="number"||typeof B=="boolean"?(E.__data[0]=B,t.bufferSubData(t.UNIFORM_BUFFER,P+N,E.__data)):B.isMatrix3?(E.__data[0]=B.elements[0],E.__data[1]=B.elements[1],E.__data[2]=B.elements[2],E.__data[3]=0,E.__data[4]=B.elements[3],E.__data[5]=B.elements[4],E.__data[6]=B.elements[5],E.__data[7]=0,E.__data[8]=B.elements[6],E.__data[9]=B.elements[7],E.__data[10]=B.elements[8],E.__data[11]=0):(B.toArray(E.__data,N),N+=q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,P,E.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(b,_,w,T){const C=b.value,A=_+"_"+w;if(T[A]===void 0)return typeof C=="number"||typeof C=="boolean"?T[A]=C:T[A]=C.clone(),!0;{const S=T[A];if(typeof C=="number"||typeof C=="boolean"){if(S!==C)return T[A]=C,!0}else if(S.equals(C)===!1)return S.copy(C),!0}return!1}function m(b){const _=b.uniforms;let w=0;const T=16;for(let A=0,S=_.length;A<S;A++){const x=Array.isArray(_[A])?_[A]:[_[A]];for(let y=0,E=x.length;y<E;y++){const P=x[y],D=Array.isArray(P.value)?P.value:[P.value];for(let N=0,W=D.length;N<W;N++){const B=D[N],q=g(B),j=w%T,Q=j%q.boundary,Z=j+Q;w+=Q,Z!==0&&T-Z<q.storage&&(w+=T-Z),P.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=w,w+=q.storage}}}const C=w%T;return C>0&&(w+=T-C),b.__size=w,b.__cache={},this}function g(b){const _={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function p(b){const _=b.target;_.removeEventListener("dispose",p);const w=a.indexOf(_.__bindingPointIndex);a.splice(w,1),t.deleteBuffer(s[_.id]),delete s[_.id],delete r[_.id]}function v(){for(const b in s)t.deleteBuffer(s[b]);a=[],s={},r={}}return{bind:l,update:c,dispose:v}}class ad{constructor(e={}){const{canvas:n=LA(),context:i=null,depth:s=!0,stencil:r=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=i.getContextAttributes().alpha}else h=a;const m=new Uint32Array(4),g=new Int32Array(4);let p=null,v=null;const b=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Li,this.toneMapping=Kr,this.toneMappingExposure=1;const w=this;let T=!1,C=0,A=0,S=null,x=-1,y=null;const E=new Et,P=new Et;let D=null;const N=new Be(0);let W=0,B=n.width,q=n.height,j=1,Q=null,Z=null;const X=new Et(0,0,B,q),ce=new Et(0,0,B,q);let Me=!1;const ee=new lf;let pe=!1,ne=!1;this.transmissionResolutionScale=1;const de=new at,ae=new at,F=new G,U=new Et,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let k=!1;function R(){return S===null?j:1}let I=i;function Y(H,ue){return n.getContext(H,ue)}try{const H={alpha:!0,depth:s,stencil:r,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${eu}`),n.addEventListener("webglcontextlost",Re,!1),n.addEventListener("webglcontextrestored",Ye,!1),n.addEventListener("webglcontextcreationerror",Ge,!1),I===null){const ue="webgl2";if(I=Y(ue,H),I===null)throw Y(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let $,J,se,me,re,V,O,K,le,ye,ve,Oe,Le,ze,ot,De,je,st,ct,He,ie,Ee,Xe,te;function Fe(){$=new Zz(I),$.init(),Ee=new OP(I,$),J=new $z(I,$,e,Ee),se=new R5(I,$),J.reverseDepthBuffer&&f&&se.buffers.depth.setReversed(!0),me=new e4(I),re=new y5,V=new L5(I,$,se,re,J,Ee,me),O=new Xz(w),K=new Kz(w),le=new oB(I),Xe=new Gz(I,le),ye=new Jz(I,le,me,Xe),ve=new n4(I,ye,le,me),ct=new t4(I,J,V),De=new jz(re),Oe=new g5(w,O,K,$,J,Xe,De),Le=new F5(w,re),ze=new _5,ot=new T5($),st=new Hz(w,O,K,se,ve,h,l),je=new P5(w,ve,J),te=new B5(I,me,J,se),He=new Wz(I,$,me),ie=new Qz(I,$,me),me.programs=Oe.programs,w.capabilities=J,w.extensions=$,w.properties=re,w.renderLists=ze,w.shadowMap=je,w.state=se,w.info=me}Fe();const we=new N5(w,I);this.xr=we,this.getContext=function(){return I},this.getContextAttributes=function(){return I.getContextAttributes()},this.forceContextLoss=function(){const H=$.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=$.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(H){H!==void 0&&(j=H,this.setSize(B,q,!1))},this.getSize=function(H){return H.set(B,q)},this.setSize=function(H,ue,_e=!0){if(we.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=H,q=ue,n.width=Math.floor(H*j),n.height=Math.floor(ue*j),_e===!0&&(n.style.width=H+"px",n.style.height=ue+"px"),this.setViewport(0,0,H,ue)},this.getDrawingBufferSize=function(H){return H.set(B*j,q*j).floor()},this.setDrawingBufferSize=function(H,ue,_e){B=H,q=ue,j=_e,n.width=Math.floor(H*_e),n.height=Math.floor(ue*_e),this.setViewport(0,0,H,ue)},this.getCurrentViewport=function(H){return H.copy(E)},this.getViewport=function(H){return H.copy(X)},this.setViewport=function(H,ue,_e,xe){H.isVector4?X.set(H.x,H.y,H.z,H.w):X.set(H,ue,_e,xe),se.viewport(E.copy(X).multiplyScalar(j).round())},this.getScissor=function(H){return H.copy(ce)},this.setScissor=function(H,ue,_e,xe){H.isVector4?ce.set(H.x,H.y,H.z,H.w):ce.set(H,ue,_e,xe),se.scissor(P.copy(ce).multiplyScalar(j).round())},this.getScissorTest=function(){return Me},this.setScissorTest=function(H){se.setScissorTest(Me=H)},this.setOpaqueSort=function(H){Q=H},this.setTransparentSort=function(H){Z=H},this.getClearColor=function(H){return H.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor.apply(st,arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha.apply(st,arguments)},this.clear=function(H=!0,ue=!0,_e=!0){let xe=0;if(H){let fe=!1;if(S!==null){const Ne=S.texture.format;fe=Ne===Wp||Ne===Gp||Ne===tf}if(fe){const Ne=S.texture.type,qe=Ne===Ps||Ne===sa||Ne===Vc||Ne===al||Ne===Up||Ne===zp,Je=st.getClearColor(),Qe=st.getClearAlpha(),gt=Je.r,yt=Je.g,lt=Je.b;qe?(m[0]=gt,m[1]=yt,m[2]=lt,m[3]=Qe,I.clearBufferuiv(I.COLOR,0,m)):(g[0]=gt,g[1]=yt,g[2]=lt,g[3]=Qe,I.clearBufferiv(I.COLOR,0,g))}else xe|=I.COLOR_BUFFER_BIT}ue&&(xe|=I.DEPTH_BUFFER_BIT),_e&&(xe|=I.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),I.clear(xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Re,!1),n.removeEventListener("webglcontextrestored",Ye,!1),n.removeEventListener("webglcontextcreationerror",Ge,!1),st.dispose(),ze.dispose(),ot.dispose(),re.dispose(),O.dispose(),K.dispose(),ve.dispose(),Xe.dispose(),te.dispose(),Oe.dispose(),we.dispose(),we.removeEventListener("sessionstart",Vw),we.removeEventListener("sessionend",Fw),so.stop()};function Re(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function Ye(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const H=me.autoReset,ue=je.enabled,_e=je.autoUpdate,xe=je.needsUpdate,fe=je.type;Fe(),me.autoReset=H,je.enabled=ue,je.autoUpdate=_e,je.needsUpdate=xe,je.type=fe}function Ge(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function ut(H){const ue=H.target;ue.removeEventListener("dispose",ut),nn(ue)}function nn(H){Cn(H),re.remove(H)}function Cn(H){const ue=re.get(H).programs;ue!==void 0&&(ue.forEach(function(_e){Oe.releaseProgram(_e)}),H.isShaderMaterial&&Oe.releaseShaderCache(H))}this.renderBufferDirect=function(H,ue,_e,xe,fe,Ne){ue===null&&(ue=z);const qe=fe.isMesh&&fe.matrixWorld.determinant()<0,Je=rD(H,ue,_e,xe,fe);se.setMaterial(xe,qe);let Qe=_e.index,gt=1;if(xe.wireframe===!0){if(Qe=ye.getWireframeAttribute(_e),Qe===void 0)return;gt=2}const yt=_e.drawRange,lt=_e.attributes.position;let zt=yt.start*gt,jt=(yt.start+yt.count)*gt;Ne!==null&&(zt=Math.max(zt,Ne.start*gt),jt=Math.min(jt,(Ne.start+Ne.count)*gt)),Qe!==null?(zt=Math.max(zt,0),jt=Math.min(jt,Qe.count)):lt!=null&&(zt=Math.max(zt,0),jt=Math.min(jt,lt.count));const Fn=jt-zt;if(Fn<0||Fn===1/0)return;Xe.setup(fe,xe,Je,_e,Qe);let Tn,Ht=He;if(Qe!==null&&(Tn=le.get(Qe),Ht=ie,Ht.setIndex(Tn)),fe.isMesh)xe.wireframe===!0?(se.setLineWidth(xe.wireframeLinewidth*R()),Ht.setMode(I.LINES)):Ht.setMode(I.TRIANGLES);else if(fe.isLine){let dt=xe.linewidth;dt===void 0&&(dt=1),se.setLineWidth(dt*R()),fe.isLineSegments?Ht.setMode(I.LINES):fe.isLineLoop?Ht.setMode(I.LINE_LOOP):Ht.setMode(I.LINE_STRIP)}else fe.isPoints?Ht.setMode(I.POINTS):fe.isSprite&&Ht.setMode(I.TRIANGLES);if(fe.isBatchedMesh)if(fe._multiDrawInstances!==null)Ht.renderMultiDrawInstances(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount,fe._multiDrawInstances);else if($.get("WEBGL_multi_draw"))Ht.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else{const dt=fe._multiDrawStarts,li=fe._multiDrawCounts,Xt=fe._multiDrawCount,Os=Qe?le.get(Qe).bytesPerElement:1,Bl=re.get(xe).currentProgram.getUniforms();for(let ss=0;ss<Xt;ss++)Bl.setValue(I,"_gl_DrawID",ss),Ht.render(dt[ss]/Os,li[ss])}else if(fe.isInstancedMesh)Ht.renderInstances(zt,Fn,fe.count);else if(_e.isInstancedBufferGeometry){const dt=_e._maxInstanceCount!==void 0?_e._maxInstanceCount:1/0,li=Math.min(_e.instanceCount,dt);Ht.renderInstances(zt,Fn,li)}else Ht.render(zt,Fn)};function kt(H,ue,_e){H.transparent===!0&&H.side===Oi&&H.forceSinglePass===!1?(H.side=_i,H.needsUpdate=!0,Uf(H,ue,_e),H.side=vr,H.needsUpdate=!0,Uf(H,ue,_e),H.side=Oi):Uf(H,ue,_e)}this.compile=function(H,ue,_e=null){_e===null&&(_e=H),v=ot.get(_e),v.init(ue),_.push(v),_e.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ue.layers)&&(v.pushLight(fe),fe.castShadow&&v.pushShadow(fe))}),H!==_e&&H.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ue.layers)&&(v.pushLight(fe),fe.castShadow&&v.pushShadow(fe))}),v.setupLights();const xe=new Set;return H.traverse(function(fe){if(!(fe.isMesh||fe.isPoints||fe.isLine||fe.isSprite))return;const Ne=fe.material;if(Ne)if(Array.isArray(Ne))for(let qe=0;qe<Ne.length;qe++){const Je=Ne[qe];kt(Je,_e,fe),xe.add(Je)}else kt(Ne,_e,fe),xe.add(Ne)}),_.pop(),v=null,xe},this.compileAsync=function(H,ue,_e=null){const xe=this.compile(H,ue,_e);return new Promise(fe=>{function Ne(){if(xe.forEach(function(qe){re.get(qe).currentProgram.isReady()&&xe.delete(qe)}),xe.size===0){fe(H);return}setTimeout(Ne,10)}$.get("KHR_parallel_shader_compile")!==null?Ne():setTimeout(Ne,10)})};let fi=null;function Rr(H){fi&&fi(H)}function Vw(){so.stop()}function Fw(){so.start()}const so=new IP;so.setAnimationLoop(Rr),typeof self<"u"&&so.setContext(self),this.setAnimationLoop=function(H){fi=H,we.setAnimationLoop(H),H===null?so.stop():so.start()},we.addEventListener("sessionstart",Vw),we.addEventListener("sessionend",Fw),this.render=function(H,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),we.enabled===!0&&we.isPresenting===!0&&(we.cameraAutoUpdate===!0&&we.updateCamera(ue),ue=we.getCamera()),H.isScene===!0&&H.onBeforeRender(w,H,ue,S),v=ot.get(H,_.length),v.init(ue),_.push(v),ae.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),ee.setFromProjectionMatrix(ae),ne=this.localClippingEnabled,pe=De.init(this.clippingPlanes,ne),p=ze.get(H,b.length),p.init(),b.push(p),we.enabled===!0&&we.isPresenting===!0){const Ne=w.xr.getDepthSensingMesh();Ne!==null&&og(Ne,ue,-1/0,w.sortObjects)}og(H,ue,0,w.sortObjects),p.finish(),w.sortObjects===!0&&p.sort(Q,Z),k=we.enabled===!1||we.isPresenting===!1||we.hasDepthSensing()===!1,k&&st.addToRenderList(p,H),this.info.render.frame++,pe===!0&&De.beginShadows();const _e=v.state.shadowsArray;je.render(_e,H,ue),pe===!0&&De.endShadows(),this.info.autoReset===!0&&this.info.reset();const xe=p.opaque,fe=p.transmissive;if(v.setupLights(),ue.isArrayCamera){const Ne=ue.cameras;if(fe.length>0)for(let qe=0,Je=Ne.length;qe<Je;qe++){const Qe=Ne[qe];Uw(xe,fe,H,Qe)}k&&st.render(H);for(let qe=0,Je=Ne.length;qe<Je;qe++){const Qe=Ne[qe];Bw(p,H,Qe,Qe.viewport)}}else fe.length>0&&Uw(xe,fe,H,ue),k&&st.render(H),Bw(p,H,ue);S!==null&&A===0&&(V.updateMultisampleRenderTarget(S),V.updateRenderTargetMipmap(S)),H.isScene===!0&&H.onAfterRender(w,H,ue),Xe.resetDefaultState(),x=-1,y=null,_.pop(),_.length>0?(v=_[_.length-1],pe===!0&&De.setGlobalState(w.clippingPlanes,v.state.camera)):v=null,b.pop(),b.length>0?p=b[b.length-1]:p=null};function og(H,ue,_e,xe){if(H.visible===!1)return;if(H.layers.test(ue.layers)){if(H.isGroup)_e=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ue);else if(H.isLight)v.pushLight(H),H.castShadow&&v.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||ee.intersectsSprite(H)){xe&&U.setFromMatrixPosition(H.matrixWorld).applyMatrix4(ae);const qe=ve.update(H),Je=H.material;Je.visible&&p.push(H,qe,Je,_e,U.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||ee.intersectsObject(H))){const qe=ve.update(H),Je=H.material;if(xe&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),U.copy(H.boundingSphere.center)):(qe.boundingSphere===null&&qe.computeBoundingSphere(),U.copy(qe.boundingSphere.center)),U.applyMatrix4(H.matrixWorld).applyMatrix4(ae)),Array.isArray(Je)){const Qe=qe.groups;for(let gt=0,yt=Qe.length;gt<yt;gt++){const lt=Qe[gt],zt=Je[lt.materialIndex];zt&&zt.visible&&p.push(H,qe,zt,_e,U.z,lt)}}else Je.visible&&p.push(H,qe,Je,_e,U.z,null)}}const Ne=H.children;for(let qe=0,Je=Ne.length;qe<Je;qe++)og(Ne[qe],ue,_e,xe)}function Bw(H,ue,_e,xe){const fe=H.opaque,Ne=H.transmissive,qe=H.transparent;v.setupLightsView(_e),pe===!0&&De.setGlobalState(w.clippingPlanes,_e),xe&&se.viewport(E.copy(xe)),fe.length>0&&Bf(fe,ue,_e),Ne.length>0&&Bf(Ne,ue,_e),qe.length>0&&Bf(qe,ue,_e),se.buffers.depth.setTest(!0),se.buffers.depth.setMask(!0),se.buffers.color.setMask(!0),se.setPolygonOffset(!1)}function Uw(H,ue,_e,xe){if((_e.isScene===!0?_e.overrideMaterial:null)!==null)return;v.state.transmissionRenderTarget[xe.id]===void 0&&(v.state.transmissionRenderTarget[xe.id]=new js(1,1,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")||$.has("EXT_color_buffer_float")?Ml:Ps,minFilter:cs,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Vt.workingColorSpace}));const Ne=v.state.transmissionRenderTarget[xe.id],qe=xe.viewport||E;Ne.setSize(qe.z*w.transmissionResolutionScale,qe.w*w.transmissionResolutionScale);const Je=w.getRenderTarget();w.setRenderTarget(Ne),w.getClearColor(N),W=w.getClearAlpha(),W<1&&w.setClearColor(16777215,.5),w.clear(),k&&st.render(_e);const Qe=w.toneMapping;w.toneMapping=Kr;const gt=xe.viewport;if(xe.viewport!==void 0&&(xe.viewport=void 0),v.setupLightsView(xe),pe===!0&&De.setGlobalState(w.clippingPlanes,xe),Bf(H,_e,xe),V.updateMultisampleRenderTarget(Ne),V.updateRenderTargetMipmap(Ne),$.has("WEBGL_multisampled_render_to_texture")===!1){let yt=!1;for(let lt=0,zt=ue.length;lt<zt;lt++){const jt=ue[lt],Fn=jt.object,Tn=jt.geometry,Ht=jt.material,dt=jt.group;if(Ht.side===Oi&&Fn.layers.test(xe.layers)){const li=Ht.side;Ht.side=_i,Ht.needsUpdate=!0,zw(Fn,_e,xe,Tn,Ht,dt),Ht.side=li,Ht.needsUpdate=!0,yt=!0}}yt===!0&&(V.updateMultisampleRenderTarget(Ne),V.updateRenderTargetMipmap(Ne))}w.setRenderTarget(Je),w.setClearColor(N,W),gt!==void 0&&(xe.viewport=gt),w.toneMapping=Qe}function Bf(H,ue,_e){const xe=ue.isScene===!0?ue.overrideMaterial:null;for(let fe=0,Ne=H.length;fe<Ne;fe++){const qe=H[fe],Je=qe.object,Qe=qe.geometry,gt=xe===null?qe.material:xe,yt=qe.group;Je.layers.test(_e.layers)&&zw(Je,ue,_e,Qe,gt,yt)}}function zw(H,ue,_e,xe,fe,Ne){H.onBeforeRender(w,ue,_e,xe,fe,Ne),H.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),fe.onBeforeRender(w,ue,_e,xe,H,Ne),fe.transparent===!0&&fe.side===Oi&&fe.forceSinglePass===!1?(fe.side=_i,fe.needsUpdate=!0,w.renderBufferDirect(_e,ue,xe,fe,H,Ne),fe.side=vr,fe.needsUpdate=!0,w.renderBufferDirect(_e,ue,xe,fe,H,Ne),fe.side=Oi):w.renderBufferDirect(_e,ue,xe,fe,H,Ne),H.onAfterRender(w,ue,_e,xe,fe,Ne)}function Uf(H,ue,_e){ue.isScene!==!0&&(ue=z);const xe=re.get(H),fe=v.state.lights,Ne=v.state.shadowsArray,qe=fe.state.version,Je=Oe.getParameters(H,fe.state,Ne,ue,_e),Qe=Oe.getProgramCacheKey(Je);let gt=xe.programs;xe.environment=H.isMeshStandardMaterial?ue.environment:null,xe.fog=ue.fog,xe.envMap=(H.isMeshStandardMaterial?K:O).get(H.envMap||xe.environment),xe.envMapRotation=xe.environment!==null&&H.envMap===null?ue.environmentRotation:H.envMapRotation,gt===void 0&&(H.addEventListener("dispose",ut),gt=new Map,xe.programs=gt);let yt=gt.get(Qe);if(yt!==void 0){if(xe.currentProgram===yt&&xe.lightsStateVersion===qe)return Gw(H,Je),yt}else Je.uniforms=Oe.getUniforms(H),H.onBeforeCompile(Je,w),yt=Oe.acquireProgram(Je,Qe),gt.set(Qe,yt),xe.uniforms=Je.uniforms;const lt=xe.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(lt.clippingPlanes=De.uniform),Gw(H,Je),xe.needsLights=oD(H),xe.lightsStateVersion=qe,xe.needsLights&&(lt.ambientLightColor.value=fe.state.ambient,lt.lightProbe.value=fe.state.probe,lt.directionalLights.value=fe.state.directional,lt.directionalLightShadows.value=fe.state.directionalShadow,lt.spotLights.value=fe.state.spot,lt.spotLightShadows.value=fe.state.spotShadow,lt.rectAreaLights.value=fe.state.rectArea,lt.ltc_1.value=fe.state.rectAreaLTC1,lt.ltc_2.value=fe.state.rectAreaLTC2,lt.pointLights.value=fe.state.point,lt.pointLightShadows.value=fe.state.pointShadow,lt.hemisphereLights.value=fe.state.hemi,lt.directionalShadowMap.value=fe.state.directionalShadowMap,lt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,lt.spotShadowMap.value=fe.state.spotShadowMap,lt.spotLightMatrix.value=fe.state.spotLightMatrix,lt.spotLightMap.value=fe.state.spotLightMap,lt.pointShadowMap.value=fe.state.pointShadowMap,lt.pointShadowMatrix.value=fe.state.pointShadowMatrix),xe.currentProgram=yt,xe.uniformsList=null,yt}function Hw(H){if(H.uniformsList===null){const ue=H.currentProgram.getUniforms();H.uniformsList=rm.seqWithValue(ue.seq,H.uniforms)}return H.uniformsList}function Gw(H,ue){const _e=re.get(H);_e.outputColorSpace=ue.outputColorSpace,_e.batching=ue.batching,_e.batchingColor=ue.batchingColor,_e.instancing=ue.instancing,_e.instancingColor=ue.instancingColor,_e.instancingMorph=ue.instancingMorph,_e.skinning=ue.skinning,_e.morphTargets=ue.morphTargets,_e.morphNormals=ue.morphNormals,_e.morphColors=ue.morphColors,_e.morphTargetsCount=ue.morphTargetsCount,_e.numClippingPlanes=ue.numClippingPlanes,_e.numIntersection=ue.numClipIntersection,_e.vertexAlphas=ue.vertexAlphas,_e.vertexTangents=ue.vertexTangents,_e.toneMapping=ue.toneMapping}function rD(H,ue,_e,xe,fe){ue.isScene!==!0&&(ue=z),V.resetTextureUnits();const Ne=ue.fog,qe=xe.isMeshStandardMaterial?ue.environment:null,Je=S===null?w.outputColorSpace:S.isXRRenderTarget===!0?S.texture.colorSpace:ul,Qe=(xe.isMeshStandardMaterial?K:O).get(xe.envMap||qe),gt=xe.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,yt=!!_e.attributes.tangent&&(!!xe.normalMap||xe.anisotropy>0),lt=!!_e.morphAttributes.position,zt=!!_e.morphAttributes.normal,jt=!!_e.morphAttributes.color;let Fn=Kr;xe.toneMapped&&(S===null||S.isXRRenderTarget===!0)&&(Fn=w.toneMapping);const Tn=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,Ht=Tn!==void 0?Tn.length:0,dt=re.get(xe),li=v.state.lights;if(pe===!0&&(ne===!0||H!==y)){const Ci=H===y&&xe.id===x;De.setState(xe,H,Ci)}let Xt=!1;xe.version===dt.__version?(dt.needsLights&&dt.lightsStateVersion!==li.state.version||dt.outputColorSpace!==Je||fe.isBatchedMesh&&dt.batching===!1||!fe.isBatchedMesh&&dt.batching===!0||fe.isBatchedMesh&&dt.batchingColor===!0&&fe.colorTexture===null||fe.isBatchedMesh&&dt.batchingColor===!1&&fe.colorTexture!==null||fe.isInstancedMesh&&dt.instancing===!1||!fe.isInstancedMesh&&dt.instancing===!0||fe.isSkinnedMesh&&dt.skinning===!1||!fe.isSkinnedMesh&&dt.skinning===!0||fe.isInstancedMesh&&dt.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&dt.instancingColor===!1&&fe.instanceColor!==null||fe.isInstancedMesh&&dt.instancingMorph===!0&&fe.morphTexture===null||fe.isInstancedMesh&&dt.instancingMorph===!1&&fe.morphTexture!==null||dt.envMap!==Qe||xe.fog===!0&&dt.fog!==Ne||dt.numClippingPlanes!==void 0&&(dt.numClippingPlanes!==De.numPlanes||dt.numIntersection!==De.numIntersection)||dt.vertexAlphas!==gt||dt.vertexTangents!==yt||dt.morphTargets!==lt||dt.morphNormals!==zt||dt.morphColors!==jt||dt.toneMapping!==Fn||dt.morphTargetsCount!==Ht)&&(Xt=!0):(Xt=!0,dt.__version=xe.version);let Os=dt.currentProgram;Xt===!0&&(Os=Uf(xe,ue,fe));let Bl=!1,ss=!1,pu=!1;const vn=Os.getUniforms(),bs=dt.uniforms;if(se.useProgram(Os.program)&&(Bl=!0,ss=!0,pu=!0),xe.id!==x&&(x=xe.id,ss=!0),Bl||y!==H){se.buffers.depth.getReversed()?(de.copy(H.projectionMatrix),NN(de),VN(de),vn.setValue(I,"projectionMatrix",de)):vn.setValue(I,"projectionMatrix",H.projectionMatrix),vn.setValue(I,"viewMatrix",H.matrixWorldInverse);const $i=vn.map.cameraPosition;$i!==void 0&&$i.setValue(I,F.setFromMatrixPosition(H.matrixWorld)),J.logarithmicDepthBuffer&&vn.setValue(I,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial)&&vn.setValue(I,"isOrthographic",H.isOrthographicCamera===!0),y!==H&&(y=H,ss=!0,pu=!0)}if(fe.isSkinnedMesh){vn.setOptional(I,fe,"bindMatrix"),vn.setOptional(I,fe,"bindMatrixInverse");const Ci=fe.skeleton;Ci&&(Ci.boneTexture===null&&Ci.computeBoneTexture(),vn.setValue(I,"boneTexture",Ci.boneTexture,V))}fe.isBatchedMesh&&(vn.setOptional(I,fe,"batchingTexture"),vn.setValue(I,"batchingTexture",fe._matricesTexture,V),vn.setOptional(I,fe,"batchingIdTexture"),vn.setValue(I,"batchingIdTexture",fe._indirectTexture,V),vn.setOptional(I,fe,"batchingColorTexture"),fe._colorsTexture!==null&&vn.setValue(I,"batchingColorTexture",fe._colorsTexture,V));const _s=_e.morphAttributes;if((_s.position!==void 0||_s.normal!==void 0||_s.color!==void 0)&&ct.update(fe,_e,Os),(ss||dt.receiveShadow!==fe.receiveShadow)&&(dt.receiveShadow=fe.receiveShadow,vn.setValue(I,"receiveShadow",fe.receiveShadow)),xe.isMeshGouraudMaterial&&xe.envMap!==null&&(bs.envMap.value=Qe,bs.flipEnvMap.value=Qe.isCubeTexture&&Qe.isRenderTargetTexture===!1?-1:1),xe.isMeshStandardMaterial&&xe.envMap===null&&ue.environment!==null&&(bs.envMapIntensity.value=ue.environmentIntensity),ss&&(vn.setValue(I,"toneMappingExposure",w.toneMappingExposure),dt.needsLights&&aD(bs,pu),Ne&&xe.fog===!0&&Le.refreshFogUniforms(bs,Ne),Le.refreshMaterialUniforms(bs,xe,j,q,v.state.transmissionRenderTarget[H.id]),rm.upload(I,Hw(dt),bs,V)),xe.isShaderMaterial&&xe.uniformsNeedUpdate===!0&&(rm.upload(I,Hw(dt),bs,V),xe.uniformsNeedUpdate=!1),xe.isSpriteMaterial&&vn.setValue(I,"center",fe.center),vn.setValue(I,"modelViewMatrix",fe.modelViewMatrix),vn.setValue(I,"normalMatrix",fe.normalMatrix),vn.setValue(I,"modelMatrix",fe.matrixWorld),xe.isShaderMaterial||xe.isRawShaderMaterial){const Ci=xe.uniformsGroups;for(let $i=0,lg=Ci.length;$i<lg;$i++){const ro=Ci[$i];te.update(ro,Os),te.bind(ro,Os)}}return Os}function aD(H,ue){H.ambientLightColor.needsUpdate=ue,H.lightProbe.needsUpdate=ue,H.directionalLights.needsUpdate=ue,H.directionalLightShadows.needsUpdate=ue,H.pointLights.needsUpdate=ue,H.pointLightShadows.needsUpdate=ue,H.spotLights.needsUpdate=ue,H.spotLightShadows.needsUpdate=ue,H.rectAreaLights.needsUpdate=ue,H.hemisphereLights.needsUpdate=ue}function oD(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(H,ue,_e){re.get(H.texture).__webglTexture=ue,re.get(H.depthTexture).__webglTexture=_e;const xe=re.get(H);xe.__hasExternalTextures=!0,xe.__autoAllocateDepthBuffer=_e===void 0,xe.__autoAllocateDepthBuffer||$.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(H,ue){const _e=re.get(H);_e.__webglFramebuffer=ue,_e.__useDefaultFramebuffer=ue===void 0};const lD=I.createFramebuffer();this.setRenderTarget=function(H,ue=0,_e=0){S=H,C=ue,A=_e;let xe=!0,fe=null,Ne=!1,qe=!1;if(H){const Qe=re.get(H);if(Qe.__useDefaultFramebuffer!==void 0)se.bindFramebuffer(I.FRAMEBUFFER,null),xe=!1;else if(Qe.__webglFramebuffer===void 0)V.setupRenderTarget(H);else if(Qe.__hasExternalTextures)V.rebindTextures(H,re.get(H.texture).__webglTexture,re.get(H.depthTexture).__webglTexture);else if(H.depthBuffer){const lt=H.depthTexture;if(Qe.__boundDepthTexture!==lt){if(lt!==null&&re.has(lt)&&(H.width!==lt.image.width||H.height!==lt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");V.setupDepthRenderbuffer(H)}}const gt=H.texture;(gt.isData3DTexture||gt.isDataArrayTexture||gt.isCompressedArrayTexture)&&(qe=!0);const yt=re.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(yt[ue])?fe=yt[ue][_e]:fe=yt[ue],Ne=!0):H.samples>0&&V.useMultisampledRTT(H)===!1?fe=re.get(H).__webglMultisampledFramebuffer:Array.isArray(yt)?fe=yt[_e]:fe=yt,E.copy(H.viewport),P.copy(H.scissor),D=H.scissorTest}else E.copy(X).multiplyScalar(j).floor(),P.copy(ce).multiplyScalar(j).floor(),D=Me;if(_e!==0&&(fe=lD),se.bindFramebuffer(I.FRAMEBUFFER,fe)&&xe&&se.drawBuffers(H,fe),se.viewport(E),se.scissor(P),se.setScissorTest(D),Ne){const Qe=re.get(H.texture);I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Qe.__webglTexture,_e)}else if(qe){const Qe=re.get(H.texture),gt=ue;I.framebufferTextureLayer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,Qe.__webglTexture,_e,gt)}else if(H!==null&&_e!==0){const Qe=re.get(H.texture);I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,Qe.__webglTexture,_e)}x=-1},this.readRenderTargetPixels=function(H,ue,_e,xe,fe,Ne,qe){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Je=re.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&qe!==void 0&&(Je=Je[qe]),Je){se.bindFramebuffer(I.FRAMEBUFFER,Je);try{const Qe=H.texture,gt=Qe.format,yt=Qe.type;if(!J.textureFormatReadable(gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!J.textureTypeReadable(yt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=H.width-xe&&_e>=0&&_e<=H.height-fe&&I.readPixels(ue,_e,xe,fe,Ee.convert(gt),Ee.convert(yt),Ne)}finally{const Qe=S!==null?re.get(S).__webglFramebuffer:null;se.bindFramebuffer(I.FRAMEBUFFER,Qe)}}},this.readRenderTargetPixelsAsync=async function(H,ue,_e,xe,fe,Ne,qe){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Je=re.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&qe!==void 0&&(Je=Je[qe]),Je){const Qe=H.texture,gt=Qe.format,yt=Qe.type;if(!J.textureFormatReadable(gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!J.textureTypeReadable(yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ue>=0&&ue<=H.width-xe&&_e>=0&&_e<=H.height-fe){se.bindFramebuffer(I.FRAMEBUFFER,Je);const lt=I.createBuffer();I.bindBuffer(I.PIXEL_PACK_BUFFER,lt),I.bufferData(I.PIXEL_PACK_BUFFER,Ne.byteLength,I.STREAM_READ),I.readPixels(ue,_e,xe,fe,Ee.convert(gt),Ee.convert(yt),0);const zt=S!==null?re.get(S).__webglFramebuffer:null;se.bindFramebuffer(I.FRAMEBUFFER,zt);const jt=I.fenceSync(I.SYNC_GPU_COMMANDS_COMPLETE,0);return I.flush(),await ON(I,jt,4),I.bindBuffer(I.PIXEL_PACK_BUFFER,lt),I.getBufferSubData(I.PIXEL_PACK_BUFFER,0,Ne),I.deleteBuffer(lt),I.deleteSync(jt),Ne}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(H,ue=null,_e=0){H.isTexture!==!0&&(vc("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ue=arguments[0]||null,H=arguments[1]);const xe=Math.pow(2,-_e),fe=Math.floor(H.image.width*xe),Ne=Math.floor(H.image.height*xe),qe=ue!==null?ue.x:0,Je=ue!==null?ue.y:0;V.setTexture2D(H,0),I.copyTexSubImage2D(I.TEXTURE_2D,_e,0,0,qe,Je,fe,Ne),se.unbindTexture()};const cD=I.createFramebuffer(),uD=I.createFramebuffer();this.copyTextureToTexture=function(H,ue,_e=null,xe=null,fe=0,Ne=null){H.isTexture!==!0&&(vc("WebGLRenderer: copyTextureToTexture function signature has changed."),xe=arguments[0]||null,H=arguments[1],ue=arguments[2],Ne=arguments[3]||0,_e=null),Ne===null&&(fe!==0?(vc("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ne=fe,fe=0):Ne=0);let qe,Je,Qe,gt,yt,lt,zt,jt,Fn;const Tn=H.isCompressedTexture?H.mipmaps[Ne]:H.image;if(_e!==null)qe=_e.max.x-_e.min.x,Je=_e.max.y-_e.min.y,Qe=_e.isBox3?_e.max.z-_e.min.z:1,gt=_e.min.x,yt=_e.min.y,lt=_e.isBox3?_e.min.z:0;else{const _s=Math.pow(2,-fe);qe=Math.floor(Tn.width*_s),Je=Math.floor(Tn.height*_s),H.isDataArrayTexture?Qe=Tn.depth:H.isData3DTexture?Qe=Math.floor(Tn.depth*_s):Qe=1,gt=0,yt=0,lt=0}xe!==null?(zt=xe.x,jt=xe.y,Fn=xe.z):(zt=0,jt=0,Fn=0);const Ht=Ee.convert(ue.format),dt=Ee.convert(ue.type);let li;ue.isData3DTexture?(V.setTexture3D(ue,0),li=I.TEXTURE_3D):ue.isDataArrayTexture||ue.isCompressedArrayTexture?(V.setTexture2DArray(ue,0),li=I.TEXTURE_2D_ARRAY):(V.setTexture2D(ue,0),li=I.TEXTURE_2D),I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,ue.flipY),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),I.pixelStorei(I.UNPACK_ALIGNMENT,ue.unpackAlignment);const Xt=I.getParameter(I.UNPACK_ROW_LENGTH),Os=I.getParameter(I.UNPACK_IMAGE_HEIGHT),Bl=I.getParameter(I.UNPACK_SKIP_PIXELS),ss=I.getParameter(I.UNPACK_SKIP_ROWS),pu=I.getParameter(I.UNPACK_SKIP_IMAGES);I.pixelStorei(I.UNPACK_ROW_LENGTH,Tn.width),I.pixelStorei(I.UNPACK_IMAGE_HEIGHT,Tn.height),I.pixelStorei(I.UNPACK_SKIP_PIXELS,gt),I.pixelStorei(I.UNPACK_SKIP_ROWS,yt),I.pixelStorei(I.UNPACK_SKIP_IMAGES,lt);const vn=H.isDataArrayTexture||H.isData3DTexture,bs=ue.isDataArrayTexture||ue.isData3DTexture;if(H.isDepthTexture){const _s=re.get(H),Ci=re.get(ue),$i=re.get(_s.__renderTarget),lg=re.get(Ci.__renderTarget);se.bindFramebuffer(I.READ_FRAMEBUFFER,$i.__webglFramebuffer),se.bindFramebuffer(I.DRAW_FRAMEBUFFER,lg.__webglFramebuffer);for(let ro=0;ro<Qe;ro++)vn&&(I.framebufferTextureLayer(I.READ_FRAMEBUFFER,I.COLOR_ATTACHMENT0,re.get(H).__webglTexture,fe,lt+ro),I.framebufferTextureLayer(I.DRAW_FRAMEBUFFER,I.COLOR_ATTACHMENT0,re.get(ue).__webglTexture,Ne,Fn+ro)),I.blitFramebuffer(gt,yt,qe,Je,zt,jt,qe,Je,I.DEPTH_BUFFER_BIT,I.NEAREST);se.bindFramebuffer(I.READ_FRAMEBUFFER,null),se.bindFramebuffer(I.DRAW_FRAMEBUFFER,null)}else if(fe!==0||H.isRenderTargetTexture||re.has(H)){const _s=re.get(H),Ci=re.get(ue);se.bindFramebuffer(I.READ_FRAMEBUFFER,cD),se.bindFramebuffer(I.DRAW_FRAMEBUFFER,uD);for(let $i=0;$i<Qe;$i++)vn?I.framebufferTextureLayer(I.READ_FRAMEBUFFER,I.COLOR_ATTACHMENT0,_s.__webglTexture,fe,lt+$i):I.framebufferTexture2D(I.READ_FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,_s.__webglTexture,fe),bs?I.framebufferTextureLayer(I.DRAW_FRAMEBUFFER,I.COLOR_ATTACHMENT0,Ci.__webglTexture,Ne,Fn+$i):I.framebufferTexture2D(I.DRAW_FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,Ci.__webglTexture,Ne),fe!==0?I.blitFramebuffer(gt,yt,qe,Je,zt,jt,qe,Je,I.COLOR_BUFFER_BIT,I.NEAREST):bs?I.copyTexSubImage3D(li,Ne,zt,jt,Fn+$i,gt,yt,qe,Je):I.copyTexSubImage2D(li,Ne,zt,jt,gt,yt,qe,Je);se.bindFramebuffer(I.READ_FRAMEBUFFER,null),se.bindFramebuffer(I.DRAW_FRAMEBUFFER,null)}else bs?H.isDataTexture||H.isData3DTexture?I.texSubImage3D(li,Ne,zt,jt,Fn,qe,Je,Qe,Ht,dt,Tn.data):ue.isCompressedArrayTexture?I.compressedTexSubImage3D(li,Ne,zt,jt,Fn,qe,Je,Qe,Ht,Tn.data):I.texSubImage3D(li,Ne,zt,jt,Fn,qe,Je,Qe,Ht,dt,Tn):H.isDataTexture?I.texSubImage2D(I.TEXTURE_2D,Ne,zt,jt,qe,Je,Ht,dt,Tn.data):H.isCompressedTexture?I.compressedTexSubImage2D(I.TEXTURE_2D,Ne,zt,jt,Tn.width,Tn.height,Ht,Tn.data):I.texSubImage2D(I.TEXTURE_2D,Ne,zt,jt,qe,Je,Ht,dt,Tn);I.pixelStorei(I.UNPACK_ROW_LENGTH,Xt),I.pixelStorei(I.UNPACK_IMAGE_HEIGHT,Os),I.pixelStorei(I.UNPACK_SKIP_PIXELS,Bl),I.pixelStorei(I.UNPACK_SKIP_ROWS,ss),I.pixelStorei(I.UNPACK_SKIP_IMAGES,pu),Ne===0&&ue.generateMipmaps&&I.generateMipmap(li),se.unbindTexture()},this.copyTextureToTexture3D=function(H,ue,_e=null,xe=null,fe=0){return H.isTexture!==!0&&(vc("WebGLRenderer: copyTextureToTexture3D function signature has changed."),_e=arguments[0]||null,xe=arguments[1]||null,H=arguments[2],ue=arguments[3],fe=arguments[4]||0),vc('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(H,ue,_e,xe,fe)},this.initRenderTarget=function(H){re.get(H).__webglFramebuffer===void 0&&V.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?V.setTextureCube(H,0):H.isData3DTexture?V.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?V.setTexture2DArray(H,0):V.setTexture2D(H,0),se.unbindTexture()},this.resetState=function(){C=0,A=0,S=null,se.reset(),Xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return zs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Vt._getDrawingBufferColorSpace(e),n.unpackColorSpace=Vt._getUnpackColorSpace()}}const U5=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:r_,AddEquation:Na,AddOperation:cA,AdditiveAnimationBlendMode:p_,AdditiveBlending:Cm,AgXToneMapping:mA,AlphaFormat:c_,AlwaysCompare:IA,AlwaysDepth:Pm,AlwaysStencilFunc:f0,AmbientLight:mP,AnimationAction:MP,AnimationClip:Wc,AnimationLoader:aF,AnimationMixer:kF,AnimationObjectGroup:RF,AnimationUtils:nF,ArcCurve:GA,ArrayCamera:xP,ArrowHelper:QF,AttachedBindMode:d0,Audio:wP,AudioAnalyser:xF,AudioContext:G_,AudioListener:yF,AudioLoader:pF,AxesHelper:eB,BackSide:_i,BasicDepthPacking:xA,BasicShadowMap:UO,BatchedMesh:zA,Bone:Zp,BooleanKeyframeTrack:Tl,Box2:TP,Box3:ti,Box3Helper:ZF,BoxGeometry:Za,BoxHelper:KF,BufferAttribute:Pt,BufferGeometry:xt,BufferGeometryLoader:bP,ByteType:a_,Cache:Xr,Camera:rf,CameraHelper:qF,CanvasTexture:TV,CapsuleGeometry:ev,CatmullRomCurve3:WA,CineonToneMapping:fA,CircleGeometry:tv,ClampToEdgeWrapping:Ji,Clock:W_,Color:Be,ColorKeyframeTrack:V_,ColorManagement:Vt,CompressedArrayTexture:MV,CompressedCubeTexture:CV,CompressedTexture:Yo,CompressedTextureLoader:oF,ConeGeometry:nv,ConstantAlphaFactor:aA,ConstantColorFactor:sA,Controls:tB,CubeCamera:NA,CubeReflectionMapping:na,CubeRefractionMapping:Wa,CubeTexture:af,CubeTextureLoader:lF,CubeUVReflectionMapping:tu,CubicBezierCurve:A_,CubicBezierCurve3:$A,CubicInterpolant:lP,CullFaceBack:l0,CullFaceFront:GE,CullFaceFrontBack:BO,CullFaceNone:HE,Curve:Js,CurvePath:XA,CustomBlending:WE,CustomToneMapping:hA,CylinderGeometry:iu,Cylindrical:UF,Data3DTexture:Xp,DataArrayTexture:nf,DataTexture:hr,DataTextureLoader:cF,DataUtils:JN,DecrementStencilOp:ZO,DecrementWrapStencilOp:QO,DefaultLoadingManager:dP,DepthFormat:jo,DepthStencilFormat:ol,DepthTexture:T_,DetachedBindMode:vA,DirectionalLight:H_,DirectionalLightHelper:YF,DiscreteInterpolant:cP,DodecahedronGeometry:iv,DoubleSide:Oi,DstAlphaFactor:QE,DstColorFactor:tA,DynamicCopyUsage:mN,DynamicDrawUsage:lN,DynamicReadUsage:dN,EdgesGeometry:YA,EllipseCurve:Qp,EqualCompare:TA,EqualDepth:Rm,EqualStencilFunc:iN,EquirectangularReflectionMapping:gd,EquirectangularRefractionMapping:yd,Euler:Hi,EventDispatcher:Ks,ExtrudeGeometry:rv,FileLoader:ms,Float16BufferAttribute:rV,Float32BufferAttribute:nt,FloatType:Qi,Fog:Kp,FogExp2:qp,FramebufferTexture:p0,FrontSide:vr,Frustum:lf,GLBufferAttribute:BF,GLSL1:vN,GLSL3:h0,GreaterCompare:EA,GreaterDepth:km,GreaterEqualCompare:PA,GreaterEqualDepth:Lm,GreaterEqualStencilFunc:oN,GreaterStencilFunc:rN,GridHelper:jF,Group:jr,HalfFloatType:Ml,HemisphereLight:hP,HemisphereLightHelper:$F,IcosahedronGeometry:av,ImageBitmapLoader:_P,ImageLoader:Ad,ImageUtils:kA,IncrementStencilOp:KO,IncrementWrapStencilOp:JO,InstancedBufferAttribute:zc,InstancedBufferGeometry:yP,InstancedInterleavedBuffer:FF,InstancedMesh:S_,Int16BufferAttribute:iV,Int32BufferAttribute:sV,Int8BufferAttribute:eV,IntType:Bp,InterleavedBuffer:nu,InterleavedBufferAttribute:gr,Interpolant:su,InterpolateDiscrete:ll,InterpolateLinear:cl,InterpolateSmooth:im,InvertStencilOp:eN,KeepStencilOp:Ro,KeyframeTrack:Qs,LOD:UA,LatheGeometry:cf,Layers:Yp,LessCompare:CA,LessDepth:Im,LessEqualCompare:g_,LessEqualDepth:sl,LessEqualStencilFunc:sN,LessStencilFunc:nN,Light:eo,LightProbe:gP,Line:ra,Line3:EP,LineBasicMaterial:xi,LineCurve:P_,LineCurve3:jA,LineDashedMaterial:rP,LineLoop:M_,LineSegments:Zs,LinearFilter:In,LinearInterpolant:N_,LinearMipMapLinearFilter:WO,LinearMipMapNearestFilter:GO,LinearMipmapLinearFilter:cs,LinearMipmapNearestFilter:$o,LinearSRGBColorSpace:ul,LinearToneMapping:uA,LinearTransfer:_d,Loader:wi,LoaderUtils:pr,LoadingManager:F_,LoopOnce:gA,LoopPingPong:bA,LoopRepeat:yA,LuminanceAlphaFormat:f_,LuminanceFormat:d_,MOUSE:Io,Material:$n,MaterialLoader:hv,MathUtils:$a,Matrix2:X_,Matrix3:wt,Matrix4:at,MaxEquation:YE,Mesh:an,MeshBasicMaterial:Fi,MeshDepthMaterial:k_,MeshDistanceMaterial:D_,MeshLambertMaterial:iP,MeshMatcapMaterial:sP,MeshNormalMaterial:nP,MeshPhongMaterial:eP,MeshPhysicalMaterial:Sr,MeshStandardMaterial:ff,MeshToonMaterial:tP,MinEquation:XE,MirroredRepeatWrapping:rl,MixOperation:lA,MultiplyBlending:u0,MultiplyOperation:Qd,NearestFilter:Wn,NearestMipMapLinearFilter:HO,NearestMipMapNearestFilter:zO,NearestMipmapLinearFilter:Fa,NearestMipmapNearestFilter:ef,NeutralToneMapping:pA,NeverCompare:MA,NeverDepth:Am,NeverStencilFunc:tN,NoBlending:qr,NoColorSpace:Wr,NoToneMapping:Kr,NormalAnimationBlendMode:$p,NormalBlending:Wo,NotEqualCompare:AA,NotEqualDepth:Dm,NotEqualStencilFunc:aN,NumberKeyframeTrack:Hc,Object3D:Nt,ObjectLoader:hF,ObjectSpaceNormalMap:SA,OctahedronGeometry:uf,OneFactor:KE,OneMinusConstantAlphaFactor:oA,OneMinusConstantColorFactor:rA,OneMinusDstAlphaFactor:eA,OneMinusDstColorFactor:nA,OneMinusSrcAlphaFactor:Em,OneMinusSrcColorFactor:JE,OrthographicCamera:Es,PCFShadowMap:i_,PCFSoftShadowMap:s_,PMREMGenerator:w0,Path:Md,PerspectiveCamera:tn,Plane:or,PlaneGeometry:Qa,PlaneHelper:JF,PointLight:z_,PointLightHelper:GF,Points:C_,PointsMaterial:Jp,PolarGridHelper:XF,PolyhedronGeometry:Ja,PositionalAudio:_F,PropertyBinding:At,PropertyMixer:SP,QuadraticBezierCurve:I_,QuadraticBezierCurve3:R_,Quaternion:ei,QuaternionKeyframeTrack:fl,QuaternionLinearInterpolant:uP,RED_GREEN_RGTC2_Format:rp,RED_RGTC1_Format:m_,REVISION:eu,RGBADepthPacking:wA,RGBAFormat:gi,RGBAIntegerFormat:Wp,RGBA_ASTC_10x10_Format:Qm,RGBA_ASTC_10x5_Format:Km,RGBA_ASTC_10x6_Format:Zm,RGBA_ASTC_10x8_Format:Jm,RGBA_ASTC_12x10_Format:ep,RGBA_ASTC_12x12_Format:tp,RGBA_ASTC_4x4_Format:Hm,RGBA_ASTC_5x4_Format:Gm,RGBA_ASTC_5x5_Format:Wm,RGBA_ASTC_6x5_Format:$m,RGBA_ASTC_6x6_Format:jm,RGBA_ASTC_8x5_Format:Xm,RGBA_ASTC_8x6_Format:Ym,RGBA_ASTC_8x8_Format:qm,RGBA_BPTC_Format:td,RGBA_ETC2_EAC_Format:zm,RGBA_PVRTC_2BPPV1_Format:Fm,RGBA_PVRTC_4BPPV1_Format:Vm,RGBA_S3TC_DXT1_Format:Ju,RGBA_S3TC_DXT3_Format:Qu,RGBA_S3TC_DXT5_Format:ed,RGBDepthPacking:jO,RGBFormat:u_,RGBIntegerFormat:$O,RGB_BPTC_SIGNED_Format:np,RGB_BPTC_UNSIGNED_Format:ip,RGB_ETC1_Format:Bm,RGB_ETC2_Format:Um,RGB_PVRTC_2BPPV1_Format:Nm,RGB_PVRTC_4BPPV1_Format:Om,RGB_S3TC_DXT1_Format:Zu,RGDepthPacking:XO,RGFormat:h_,RGIntegerFormat:Gp,RawShaderMaterial:rd,Ray:Cl,Raycaster:CP,RectAreaLight:pP,RedFormat:Hp,RedIntegerFormat:tf,ReinhardToneMapping:dA,RenderTarget:jp,RenderTarget3D:DF,RenderTargetArray:OF,RepeatWrapping:ia,ReplaceStencilOp:qO,ReverseSubtractEquation:jE,RingGeometry:ov,SIGNED_RED_GREEN_RGTC2_Format:ap,SIGNED_RED_RGTC1_Format:sp,SRGBColorSpace:Li,SRGBTransfer:en,Scene:Uc,ShaderChunk:Tt,ShaderLib:Ts,ShaderMaterial:Gi,ShadowMaterial:QA,Shape:qo,ShapeGeometry:lv,ShapePath:PP,ShapeUtils:mr,ShortType:o_,Skeleton:of,SkeletonHelper:HF,SkinnedMesh:w_,Source:Vo,Sphere:ni,SphereGeometry:df,Spherical:_0,SphericalHarmonics3:vP,SplineCurve:L_,SpotLight:U_,SpotLightHelper:zF,Sprite:BA,SpriteMaterial:x_,SrcAlphaFactor:Tm,SrcAlphaSaturateFactor:iA,SrcColorFactor:ZE,StaticCopyUsage:hN,StaticDrawUsage:xd,StaticReadUsage:uN,StereoCamera:vF,StreamCopyUsage:pN,StreamDrawUsage:cN,StreamReadUsage:fN,StringKeyframeTrack:El,SubtractEquation:$E,SubtractiveBlending:c0,TOUCH:zr,TangentSpaceNormalMap:Ka,TetrahedronGeometry:cv,Texture:dn,TextureLoader:fP,TextureUtils:aB,TimestampQuery:gN,TorusGeometry:uv,TorusKnotGeometry:dv,Triangle:Vi,TriangleFanDrawMode:op,TriangleStripDrawMode:v_,TrianglesDrawMode:_A,TubeGeometry:fv,UVMapping:Fp,Uint16BufferAttribute:b_,Uint32BufferAttribute:__,Uint8BufferAttribute:tV,Uint8ClampedBufferAttribute:nV,Uniform:mv,UniformsGroup:VF,UniformsLib:We,UniformsUtils:sf,UnsignedByteType:Ps,UnsignedInt248Type:al,UnsignedInt5999Type:l_,UnsignedIntType:sa,UnsignedShort4444Type:Up,UnsignedShort5551Type:zp,UnsignedShortType:Vc,VSMShadowMap:ar,Vector2:Ae,Vector3:G,Vector4:Et,VectorKeyframeTrack:Gc,VideoFrameTexture:SV,VideoTexture:HA,WebGL3DRenderTarget:HN,WebGLArrayRenderTarget:zN,WebGLCoordinateSystem:zs,WebGLCubeRenderTarget:VA,WebGLRenderTarget:js,WebGLRenderer:ad,WebGLUtils:OP,WebGPUCoordinateSystem:wd,WebXRController:sm,WireframeGeometry:JA,WrapAroundEnding:bd,ZeroCurvatureEnding:Oo,ZeroFactor:qE,ZeroSlopeEnding:No,ZeroStencilOp:YO,createCanvasElement:LA},Symbol.toStringTag,{value:"Module"}));function yr(t){return Nb()?(ri(t),!0):!1}function Pd(){const t=new Set,e=s=>{t.delete(s)};return{on:s=>{t.add(s);const r=()=>e(s);return yr(r),{off:r}},off:e,trigger:(...s)=>Promise.all(Array.from(t).map(r=>r(...s)))}}function un(t){return typeof t=="function"?t():Pe(t)}const M0=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const NP=t=>t!=null,z5=Object.prototype.toString,dp=t=>z5.call(t)==="[object Object]",Pc=()=>{};function H5(t,e){function n(...i){return new Promise((s,r)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(s).catch(r)})}return n}function G5(t,e={}){let n,i,s=Pc;const r=o=>{clearTimeout(o),s(),s=Pc};return o=>{const l=un(t),c=un(e.maxWait);return n&&r(n),l<=0||c!==void 0&&c<=0?(i&&(r(i),i=null),Promise.resolve(o())):new Promise((u,d)=>{s=e.rejectOnCancel?d:u,c&&!i&&(i=setTimeout(()=>{n&&r(n),i=null,u(o())},c)),n=setTimeout(()=>{i&&r(i),i=null,u(o())},l)})}}function W5(t,e,n=!1){return e.reduce((i,s)=>(s in t&&(!n||t[s]!==void 0)&&(i[s]=t[s]),i),{})}function VP(t){return ta()}function $5(t,e=200,n={}){return H5(G5(e,n),t)}function aM(t,e=200,n={}){const i=he(t.value),s=$5(()=>{i.value=t.value},e,n);return Ie(t,()=>s()),i}function j5(t,e={}){if(!ln(t))return Ys(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const i in t.value)n[i]=$D(()=>({get(){return t.value[i]},set(s){var r;if((r=un(e.replaceRef))!=null?r:!0)if(Array.isArray(t.value)){const o=[...t.value];o[i]=s,t.value=o}else{const o={...t.value,[i]:s};Object.setPrototypeOf(o,Object.getPrototypeOf(t.value)),t.value=o}else t.value[i]=s}}));return n}function q_(t,e=!0,n){VP()?On(t,n):e?t():Rt(t)}function X5(t,e){VP()&&qs(t,e)}function Y5(t,e=1e3,n={}){const{immediate:i=!0,immediateCallback:s=!1}=n;let r=null;const a=he(!1);function o(){r&&(clearInterval(r),r=null)}function l(){a.value=!1,o()}function c(){const u=un(e);u<=0||(a.value=!0,s&&t(),o(),r=setInterval(t,u))}if(i&&M0&&c(),ln(e)||typeof e=="function"){const u=Ie(e,()=>{a.value&&M0&&c()});yr(u)}return yr(l),{isActive:a,pause:l,resume:c}}function Bi(t){var e;const n=un(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Mr=M0?window:void 0;function Ii(...t){let e,n,i,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,s]=t,e=Mr):[e,n,i,s]=t,!e)return Pc;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],a=()=>{r.forEach(u=>u()),r.length=0},o=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=Ie(()=>[Bi(e),un(s)],([u,d])=>{if(a(),!u)return;const f=dp(d)?{...d}:d;r.push(...n.flatMap(h=>i.map(m=>o(u,h,m,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return yr(c),c}function q5(){const t=he(!1),e=ta();return e&&On(()=>{t.value=!0},e),t}function hf(t){const e=q5();return L(()=>(e.value,!!t()))}function K5(t,e,n={}){const{window:i=Mr,...s}=n;let r;const a=hf(()=>i&&"MutationObserver"in i),o=()=>{r&&(r.disconnect(),r=void 0)},l=L(()=>{const f=un(t),h=(Array.isArray(f)?f:[f]).map(Bi).filter(NP);return new Set(h)}),c=Ie(()=>l.value,f=>{o(),a.value&&f.size&&(r=new MutationObserver(e),f.forEach(h=>r.observe(h,s)))},{immediate:!0,flush:"post"}),u=()=>r==null?void 0:r.takeRecords(),d=()=>{o(),c()};return yr(d),{isSupported:a,stop:d,takeRecords:u}}function K_(t,e={}){const{immediate:n=!0,fpsLimit:i=void 0,window:s=Mr}=e,r=he(!1),a=i?1e3/i:null;let o=0,l=null;function c(f){if(!r.value||!s)return;o||(o=f);const h=f-o;if(a&&h<a){l=s.requestAnimationFrame(c);return}o=f,t({delta:h,timestamp:f}),l=s.requestAnimationFrame(c)}function u(){!r.value&&s&&(r.value=!0,o=0,l=s.requestAnimationFrame(c))}function d(){r.value=!1,l!=null&&s&&(s.cancelAnimationFrame(l),l=null)}return n&&u(),yr(d),{isActive:Qr(r),pause:d,resume:u}}function Z5(t,e={}){const{window:n=Mr}=e,i=hf(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const r=he(!1),a=c=>{r.value=c.matches},o=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",a):s.removeListener(a))},l=Zt(()=>{i.value&&(o(),s=n.matchMedia(un(t)),"addEventListener"in s?s.addEventListener("change",a):s.addListener(a),r.value=s.matches)});return yr(()=>{l(),o(),s=void 0}),r}function J5(t={}){const{window:e=Mr}=t,n=he(1);if(e){let i=function(){n.value=e.devicePixelRatio,s(),r=e.matchMedia(`(resolution: ${n.value}dppx)`),r.addEventListener("change",i,{once:!0})},s=function(){r==null||r.removeEventListener("change",i)},r;i(),yr(s)}return{pixelRatio:n}}function FP(t,e,n={}){const{window:i=Mr,...s}=n;let r;const a=hf(()=>i&&"ResizeObserver"in i),o=()=>{r&&(r.disconnect(),r=void 0)},l=L(()=>Array.isArray(t)?t.map(d=>Bi(d)):[Bi(t)]),c=Ie(l,d=>{if(o(),a.value&&i){r=new ResizeObserver(e);for(const f of d)f&&r.observe(f,s)}},{immediate:!0,flush:"post"}),u=()=>{o(),c()};return yr(u),{isSupported:a,stop:u}}function Q5(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:s=!0,immediate:r=!0}=e,a=he(0),o=he(0),l=he(0),c=he(0),u=he(0),d=he(0),f=he(0),h=he(0);function m(){const g=Bi(t);if(!g){n&&(a.value=0,o.value=0,l.value=0,c.value=0,u.value=0,d.value=0,f.value=0,h.value=0);return}const p=g.getBoundingClientRect();a.value=p.height,o.value=p.bottom,l.value=p.left,c.value=p.right,u.value=p.top,d.value=p.width,f.value=p.x,h.value=p.y}return FP(t,m),Ie(()=>Bi(t),g=>!g&&m()),K5(t,m,{attributeFilter:["style","class"]}),s&&Ii("scroll",m,{capture:!0,passive:!0}),i&&Ii("resize",m,{passive:!0}),q_(()=>{r&&m()}),{height:a,bottom:o,left:l,right:c,top:u,width:d,x:f,y:h,update:m}}function eH(t,e={width:0,height:0},n={}){const{window:i=Mr,box:s="content-box"}=n,r=L(()=>{var d,f;return(f=(d=Bi(t))==null?void 0:d.namespaceURI)==null?void 0:f.includes("svg")}),a=he(e.width),o=he(e.height),{stop:l}=FP(t,([d])=>{const f=s==="border-box"?d.borderBoxSize:s==="content-box"?d.contentBoxSize:d.devicePixelContentBoxSize;if(i&&r.value){const h=Bi(t);if(h){const m=h.getBoundingClientRect();a.value=m.width,o.value=m.height}}else if(f){const h=Array.isArray(f)?f:[f];a.value=h.reduce((m,{inlineSize:g})=>m+g,0),o.value=h.reduce((m,{blockSize:g})=>m+g,0)}else a.value=d.contentRect.width,o.value=d.contentRect.height},n);q_(()=>{const d=Bi(t);d&&(a.value="offsetWidth"in d?d.offsetWidth:e.width,o.value="offsetHeight"in d?d.offsetHeight:e.height)});const c=Ie(()=>Bi(t),d=>{a.value=d?e.width:0,o.value=d?e.height:0});function u(){l(),c()}return{width:a,height:o,stop:u}}function tH(t,e,n={}){const{root:i,rootMargin:s="0px",threshold:r=.1,window:a=Mr,immediate:o=!0}=n,l=hf(()=>a&&"IntersectionObserver"in a),c=L(()=>{const m=un(t);return(Array.isArray(m)?m:[m]).map(Bi).filter(NP)});let u=Pc;const d=he(o),f=l.value?Ie(()=>[c.value,Bi(i),d.value],([m,g])=>{if(u(),!d.value||!m.length)return;const p=new IntersectionObserver(e,{root:Bi(g),rootMargin:s,threshold:r});m.forEach(v=>v&&p.observe(v)),u=()=>{p.disconnect(),u=Pc}},{immediate:o,flush:"post"}):Pc,h=()=>{u(),f(),d.value=!1};return yr(h),{isSupported:l,isActive:d,pause(){u(),d.value=!1},resume(){d.value=!0},stop:h}}function nH(t){var e;const n=he(0);if(typeof performance>"u")return n;const i=(e=t==null?void 0:t.every)!=null?e:10;let s=performance.now(),r=0;return K_(()=>{if(r+=1,r>=i){const a=performance.now(),o=a-s;n.value=Math.round(1e3/(o/r)),s=a,r=0}}),n}function iH(t={}){const e=he(),n=hf(()=>typeof performance<"u"&&"memory"in performance);if(n.value){const{interval:i=1e3}=t;Y5(()=>{e.value=performance.memory},i,{immediate:t.immediate,immediateCallback:t.immediateCallback})}return{isSupported:n,memory:e}}const BP={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},sH=Object.keys(BP);function rH(t={}){const{target:e=Mr}=t,n=he(!1),i=he(t.initialValue||{});Object.assign(i.value,BP,i.value);const s=r=>{n.value=!0,!(t.pointerTypes&&!t.pointerTypes.includes(r.pointerType))&&(i.value=W5(r,sH,!1))};if(e){const r={passive:!0};Ii(e,["pointerdown","pointermove","pointerup"],s,r),Ii(e,"pointerleave",()=>n.value=!1,r)}return{...j5(i),isInside:n}}function aH(t={}){const{window:e=Mr,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:r=!0}=t,a=he(n),o=he(i),l=()=>{e&&(r?(a.value=e.innerWidth,o.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};if(l(),q_(l),Ii("resize",l,{passive:!0}),s){const c=Z5("(orientation: portrait)");Ie(c,()=>l())}return{width:a,height:o}}var oH=Object.defineProperty,lH=(t,e,n)=>e in t?oH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oM=(t,e,n)=>(lH(t,typeof e!="symbol"?e+"":e,n),n);const cH="@tresjs/core",uH="module",dH="3.9.0",fH="pnpm@8.15.6",hH="Declarative ThreeJS using Vue Components",mH="Alvaro Saburido <hola@alvarosaburido.dev> (https://github.com/alvarosabu/)",pH="MIT",vH=["vue","3d","threejs","three","threejs-vue"],gH=!1,yH={".":{types:"./dist/index.d.ts",import:"./dist/tres.js",require:"./dist/tres.umd.cjs"},"./components":{types:"./dist/src/components/index.d.ts"},"./composables":{types:"./dist/src/composables/index.d.ts"},"./types":{types:"./dist/src/types/index.d.ts"},"./utils":{types:"./dist/src/utils/index.d.ts"},"./*":"./*"},bH="./dist/tres.js",_H="./dist/tres.js",xH="./dist/index.d.ts",wH=["*.d.ts","dist"],SH={access:"public"},MH={dev:"cd playground && npm run dev",build:"vite build",playground:"cd playground && npm run dev",test:"vitest","test:ci":"vitest run","test:ui":"vitest --ui",release:"release-it",coverage:"vitest run --coverage",lint:"eslint .","lint:fix":"eslint . --fix","docs:dev":"vitepress dev docs","docs:build":"vitepress build docs","docs:serve":"vitepress serve docs","docs:preview":"vitepress preview docs","docs:contributors":"esno scripts/update-contributors.ts",prepare:"node .husky/install.mjs"},CH={three:">=0.133",vue:">=3.3"},TH={"@alvarosabu/utils":"^3.1.1","@vue/devtools-api":"^6.6.1","@vueuse/core":"^10.7.0"},EH={"@release-it/conventional-changelog":"^8.0.1","@stackblitz/sdk":"^1.9.0","@tresjs/cientos":"3.8.0","@tresjs/eslint-config":"^1.0.0","@tresjs/eslint-config-vue":"^0.2.1","@types/three":"^0.163.0","@typescript-eslint/eslint-plugin":"^7.7.1","@typescript-eslint/parser":"^7.7.1","@vitejs/plugin-vue":"^5.0.4","@vitest/coverage-c8":"^0.33.0","@vitest/ui":"^1.5.0","@vue/test-utils":"^2.4.3",eslint:"^9.1.1","eslint-plugin-vue":"^9.25.0",esno:"^4.0.0",gsap:"^3.12.3",husky:"^9.0.11",jsdom:"^24.0.0",kolorist:"^1.8.0",ohmyfetch:"^0.4.21",pathe:"^1.1.1","release-it":"^17.2.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-copy":"^3.5.0","rollup-plugin-visualizer":"^5.11.0",three:"^0.163.0",unocss:"^0.59.4",unplugin:"^1.10.1","unplugin-vue-components":"^0.26.0",vite:"^5.2.10","vite-plugin-banner":"^0.7.1","vite-plugin-dts":"3.9.0","vite-plugin-inspect":"^0.8.4","vite-plugin-require-transform":"^1.0.21","vite-svg-loader":"^5.1.0",vitepress:"1.1.3",vitest:"^1.5.0",vue:"^3.4.24","vue-demi":"^0.14.6"},AH={name:cH,type:uH,version:dH,packageManager:fH,description:hH,author:mH,license:pH,keywords:vH,sideEffects:gH,exports:yH,main:bH,module:_H,types:xH,files:wH,publishConfig:SH,scripts:MH,peerDependencies:CH,dependencies:TH,devDependencies:EH},PH=({sizes:t,scene:e})=>{const n=he([]),i=L(()=>n.value[0]),s=o=>{const l=o instanceof rf?o:n.value.find(u=>u.uuid===o);if(!l)return;const c=n.value.filter(({uuid:u})=>u!==l.uuid);n.value=[l,...c]},r=(o,l=!1)=>{n.value.some(({uuid:c})=>c===o.uuid)||(l?s(o):n.value.push(o))},a=o=>{n.value=n.value.filter(({uuid:l})=>l!==o.uuid)};return Zt(()=>{t.aspectRatio.value&&n.value.forEach(o=>{o instanceof tn&&(o.aspect=t.aspectRatio.value),(o instanceof tn||o instanceof Es)&&o.updateProjectionMatrix()})}),e.userData.tres__registerCamera=r,e.userData.tres__deregisterCamera=a,qs(()=>{n.value=[]}),{camera:i,cameras:n,registerCamera:r,deregisterCamera:a,setCameraActive:s}},UP=Pd(),zP=Pd(),Z_=Pd(),od=new W_;let am=0,om=0;const{pause:IH,resume:RH,isActive:LH}=K_(()=>{UP.trigger({delta:am,elapsed:om,clock:od}),zP.trigger({delta:am,elapsed:om,clock:od}),Z_.trigger({delta:am,elapsed:om,clock:od})},{immediate:!1});Z_.on(()=>{am=od.getDelta(),om=od.getElapsedTime()});const au=()=>({onBeforeLoop:UP.on,onLoop:zP.on,onAfterLoop:Z_.on,pause:IH,resume:RH,isActive:LH}),Vh="[TresJS   ] ";function vv(){function t(...i){typeof i[0]=="string"?i[0]=Vh+i[0]:i.unshift(Vh),console.error(...i)}function e(...i){typeof i[0]=="string"?i[0]=Vh+i[0]:i.unshift(Vh),console.warn(...i)}function n(i,s){}return{logError:t,logWarning:e,logMessage:n}}function kH(t){return t instanceof Be?t:Array.isArray(t)?new Be(...t):new Be(t)}class DH extends an{constructor(...e){super(...e),oM(this,"type","HightlightMesh"),oM(this,"createTime"),this.createTime=Date.now()}onBeforeRender(){const e=(Date.now()-this.createTime)/1e3,n=1+.07*Math.sin(2.5*e);this.scale.set(n,n,n)}}const HP=(t,e)=>{for(const n of Object.keys(e))e[n]instanceof Object&&Object.assign(e[n],HP(t[n],e[n]));return Object.assign(t||{},e),t},OH="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",NH=VH(OH);function lM(t){return t&&t.nodeType===1}function Fh(t){return t.replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function VH(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const FH=(t,e)=>{const n=new Set,i=[];for(const s of t){const r=e(s);n.has(r)||(n.add(r),i.push(s))}return i},cM=(t,e)=>{if(!e)return;const n=Array.isArray(e)?e:e.match(/([^[.\]])+/g);return n==null?void 0:n.reduce((i,s)=>i&&i[s],t)},BH=(t,e,n)=>{const i=Array.isArray(e)?e:e.match(/([^[.\]])+/g);i&&i.reduce((s,r,a)=>(s[r]===void 0&&(s[r]={}),a===i.length-1&&(s[r]=n),s[r]),t)};function GP(t,e){if(lM(t)&&lM(e)){const s=t.attributes,r=e.attributes;return s.length!==r.length?!1:Array.from(s).every(({name:a,value:o})=>e.getAttribute(a)===o)}if(t===e)return!0;if(t===null||typeof t!="object"||e===null||typeof e!="object")return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const s of n)if(!i.includes(s)||!GP(t[s],e[s]))return!1;return!0}function UH(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!GP(t[n],e[n]))return!1;return!0}function zH(t,e,n,i){const s=l=>{if(l.uuid===e)return l;for(const c of l.children){const u=s(c);if(u)return u}},r=s(t);if(!r){console.warn("Object with UUID not found in the scene.");return}let a=r;for(let l=0;l<n.length-1;l++)if(a[n[l]]!==void 0)a=a[n[l]];else{console.warn(`Property path is not valid: ${n.join(".")}`);return}const o=n[n.length-1];a[o]!==void 0?a[o]=i:console.warn(`Property path is not valid: ${n.join(".")}`)}function HH(t){const e=new Fi({color:11003607,transparent:!0,opacity:.2,depthTest:!1,side:Oi});return new DH(t.geometry.clone(),e)}const GH=Number.parseInt(eu.replace("dev","")),Bh={realistic:{shadows:!0,physicallyCorrectLights:!0,outputColorSpace:Li,toneMapping:r_,toneMappingExposure:3,shadowMap:{enabled:!0,type:s_}}};function WH({scene:t,canvas:e,options:n,disableRender:i,contextParts:{sizes:s,camera:r}}){const a=L(()=>({alpha:un(n.alpha),depth:un(n.depth),canvas:Bi(e),context:un(n.context),stencil:un(n.stencil),antialias:un(n.antialias)===void 0?!0:un(n.antialias),precision:un(n.precision),powerPreference:un(n.powerPreference),premultipliedAlpha:un(n.premultipliedAlpha),preserveDrawingBuffer:un(n.preserveDrawingBuffer),logarithmicDepthBuffer:un(n.logarithmicDepthBuffer),failIfMajorPerformanceCaveat:un(n.failIfMajorPerformanceCaveat)})),o=ke(new ad(a.value));Ie(a,()=>{o.value.dispose(),o.value=new ad(a.value)}),Zt(()=>{o.value.setSize(s.width.value,s.height.value)});const{pixelRatio:l}=J5();Zt(()=>{o.value.setPixelRatio(l.value)});const{logError:c}=vv(),u=(()=>{const m=new ad,g={shadowMap:{enabled:m.shadowMap.enabled,type:m.shadowMap.type},toneMapping:m.toneMapping,toneMappingExposure:m.toneMappingExposure,outputColorSpace:m.outputColorSpace};return m.dispose(),g})();Zt(()=>{const m=un(n.preset);m&&(m in Bh||c(`Renderer Preset must be one of these: ${Object.keys(Bh).join(", ")}`),HP(o.value,Bh[m]));const g=(b,_)=>{const w=un(b),T=()=>{if(m)return cM(Bh[m],_)};if(w!==void 0)return w;const C=T();return C!==void 0?C:cM(u,_)},p=(b,_)=>BH(o.value,_,g(b,_));p(n.shadows,"shadowMap.enabled"),p(n.toneMapping,"toneMapping"),p(n.shadowMapType,"shadowMap.type"),GH<150&&p(!n.useLegacyLights,"physicallyCorrectLights"),p(n.outputColorSpace,"outputColorSpace"),p(n.toneMappingExposure,"toneMappingExposure");const v=g(n.clearColor,"clearColor");v&&o.value.setClearColor(v?kH(v):new Be(0))});const{pause:d,resume:f,onLoop:h}=au();return h(()=>{r.value&&!un(i)&&o.value.render(t,r.value)}),f(),qs(()=>{d(),o.value.dispose(),o.value.forceContextLoss()}),{renderer:o}}const uM=t=>typeof t=="function",$H=t=>!!t&&t.constructor===Array;function jH(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}async function XH(t,e,n,i,s){const{logError:r}=vv(),a=new t;n&&n(a);const o=(Array.isArray(e)?e:[e]).map(l=>new Promise((c,u)=>{a.load(l,d=>{d.scene&&Object.assign(d,jH(d.scene)),c(d)},i,d=>u(r("[useLoader] - Failed to load resource",d)))}));return $H(e)?await Promise.all(o):await o[0]}const YH=(t,{renderer:e,camera:n,raycaster:i})=>{const s=L(()=>e.value.domElement),{x:r,y:a}=rH({target:s}),{width:o,height:l,top:c,left:u}=Q5(s),d=({x:A,y:S})=>{if(s.value)return{x:(A-u.value)/o.value*2-1,y:-((S-c.value)/l.value)*2+1}},f=({x:A,y:S})=>{if(n.value)return i.value.setFromCamera(new Ae(A,S),n.value),i.value.intersectObjects(t.value,!1)},h=A=>{const S=d({x:(A==null?void 0:A.clientX)??r.value,y:(A==null?void 0:A.clientY)??a.value});return S?f(S)||[]:[]},m=L(()=>h()),g=Pd(),p=Pd(),v=(A,S)=>{A.trigger({event:S,intersects:h(S)})},b=A=>{v(p,A)};let _;const w=A=>{var S;_=(S=h(A)[0])==null?void 0:S.object},T=A=>{var S;A instanceof PointerEvent&&_===((S=h(A)[0])==null?void 0:S.object)&&v(g,A)},C=A=>p.trigger({event:A,intersects:[]});return s.value.addEventListener("pointerup",T),s.value.addEventListener("pointerdown",w),s.value.addEventListener("pointermove",b),s.value.addEventListener("pointerleave",C),qs(()=>{s!=null&&s.value&&(s.value.removeEventListener("pointerup",T),s.value.removeEventListener("pointerdown",w),s.value.removeEventListener("pointermove",b),s.value.removeEventListener("pointerleave",C))}),{intersects:m,onClick:A=>g.on(A).off,onPointerMove:A=>p.on(A).off}},qH=({scene:t,contextParts:e})=>{const n=_n({click:new Map,pointerMove:new Map,pointerEnter:new Map,pointerLeave:new Map}),i=he(new Set),s=f=>{i.value.add(f)},r=f=>{i.value.delete(f)},a=f=>{Object.values(n).forEach(h=>h.delete(f)),r(f)},o=f=>{const{onClick:h,onPointerMove:m,onPointerEnter:g,onPointerLeave:p}=f;h&&n.click.set(f,h),m&&n.pointerMove.set(f,m),g&&n.pointerEnter.set(f,g),p&&n.pointerLeave.set(f,p)};t.userData.tres__registerAtPointerEventHandler=o,t.userData.tres__deregisterAtPointerEventHandler=a,t.userData.tres__registerBlockingObjectAtPointerEventHandler=s,t.userData.tres__deregisterBlockingObjectAtPointerEventHandler=r;const l=L(()=>FH([...Array.from(i.value),...Object.values(n).map(f=>Array.from(f.keys())).flat()],({uuid:f})=>f)),{onClick:c,onPointerMove:u}=YH(l,e);c(({intersects:f,event:h})=>{var m;f.length&&((m=n.click.get(f[0].object))==null||m(f[0],h))});let d;return u(({intersects:f,event:h})=>{var m,g,p,v;const b=(m=f==null?void 0:f[0])==null?void 0:m.object,{pointerLeave:_,pointerEnter:w,pointerMove:T}=n;d&&d!==b&&((g=_.get(d))==null||g(d,h)),b&&(d!==b&&((p=w.get(b))==null||p(f[0],h)),(v=T.get(b))==null||v(f[0],h)),d=b||null}),{registerObject:o,deregisterObject:a}};function WP(t){let e=0;return t.traverse(n=>{if(n.isMesh&&n.geometry){const i=n.geometry,s=i.attributes.position.count*3*Float32Array.BYTES_PER_ELEMENT,r=i.index?i.index.count*Uint32Array.BYTES_PER_ELEMENT:0,a=i.attributes.normal?i.attributes.normal.count*3*Float32Array.BYTES_PER_ELEMENT:0,o=i.attributes.uv?i.attributes.uv.count*2*Float32Array.BYTES_PER_ELEMENT:0,l=s+r+a+o;e+=l}}),e}function KH(t){return(t/1024).toFixed(2)}const C0=he({}),J_=t=>Object.assign(C0.value,t);function ZH(t,e,n=10){const i=un(t)?aH():eH(L(()=>un(e).parentElement)),s=Qr(aM(i.width,n)),r=Qr(aM(i.height,n)),a=L(()=>s.value/r.value);return{height:r,width:s,aspectRatio:a}}function JH({scene:t,canvas:e,windowSize:n,disableRender:i,rendererOptions:s}){const r=ZH(n,e),a=ke(t),{camera:o,cameras:l,registerCamera:c,deregisterCamera:u,setCameraActive:d}=PH({sizes:r,scene:t}),{renderer:f}=WH({scene:t,canvas:e,options:s,contextParts:{sizes:r,camera:o},disableRender:i}),h={sizes:r,scene:a,camera:o,cameras:Qr(l),renderer:f,raycaster:ke(new CP),controls:he(null),perf:{maxFrames:160,fps:{value:0,accumulator:[]},memory:{currentMem:0,allocatedMem:0,accumulator:[]}},extend:J_,registerCamera:c,setCameraActive:d,deregisterCamera:u};Qt("useTres",h);const m=100,g=nH({every:m}),{isSupported:p,memory:v}=iH({interval:m}),b=160;let _=performance.now();const w=({timestamp:S})=>{h.scene.value&&(h.perf.memory.allocatedMem=WP(h.scene.value)),S-_>=m&&(_=S,h.perf.fps.accumulator.push(g.value),h.perf.fps.accumulator.length>b&&h.perf.fps.accumulator.shift(),h.perf.fps.value=g.value,p.value&&v.value&&(h.perf.memory.accumulator.push(v.value.usedJSHeapSize/1024/1024),h.perf.memory.accumulator.length>b&&h.perf.memory.accumulator.shift(),h.perf.memory.currentMem=h.perf.memory.accumulator.reduce((x,y)=>x+y,0)/h.perf.memory.accumulator.length))};let T=0;const C=1,{pause:A}=K_(({delta:S})=>{window.__TRES__DEVTOOLS__&&(w({timestamp:performance.now()}),T+=S,T>=C&&(window.__TRES__DEVTOOLS__.cb(h),T=0))},{immediate:!0});return qs(()=>{A()}),h}function Q_(){const t=St("useTres");if(!t)throw new Error("useTresContext must be used together with useTresContextProvider");return t}let An=null;const{logError:dM}=vv(),cy=["onClick","onPointerMove","onPointerEnter","onPointerLeave"],QH={createElement(t,e,n,i){var s,r;if(i||(i={}),i.args||(i.args=[]),t==="template"||NH(t))return null;let a=t.replace("Tres",""),o;if(t==="primitive"){(i==null?void 0:i.object)===void 0&&dM("Tres primitives need a prop 'object'");const l=i.object;a=l.type,o=Object.assign(l,{type:a,attach:i.attach,primitive:!0})}else{const l=C0.value[a];l||dM(`${a} is not defined on the THREE namespace. Use extend to add it to the catalog.`),o=new l(...i.args)}return o.isCamera&&(i!=null&&i.position||o.position.set(3,3,3),i!=null&&i.lookAt||o.lookAt(0,0,0)),(i==null?void 0:i.attach)===void 0&&(o.isMaterial?o.attach="material":o.isBufferGeometry&&(o.attach="geometry")),o.isObject3D&&((s=i==null?void 0:i.material)!=null&&s.isMaterial&&(o.userData.tres__materialViaProp=!0),(r=i==null?void 0:i.geometry)!=null&&r.isBufferGeometry&&(o.userData.tres__geometryViaProp=!0)),o.userData={...o.userData,tres__name:a},o},insert(t,e){var n,i,s,r;e&&e.isScene&&(An=e);const a=e||An;if(t!=null&&t.isObject3D){if(t!=null&&t.isCamera){if(!(An!=null&&An.userData.tres__registerCamera))throw new Error("could not find tres__registerCamera on scene's userData");(i=An==null?void 0:(n=An.userData).tres__registerCamera)==null||i.call(n,t)}if(t&&cy.some(o=>t[o])){if(!(An!=null&&An.userData.tres__registerAtPointerEventHandler))throw new Error("could not find tres__registerAtPointerEventHandler on scene's userData");(r=An==null?void 0:(s=An.userData).tres__registerAtPointerEventHandler)==null||r.call(s,t)}}t!=null&&t.isObject3D&&a!=null&&a.isObject3D?(a.add(t),t.dispatchEvent({type:"added"})):t!=null&&t.isFog?a.fog=t:typeof(t==null?void 0:t.attach)=="string"&&(t.__previousAttach=t[a==null?void 0:a.attach],a&&(a[t.attach]=t))},remove(t){var e,n;if(t){if(t.isObject3D){const i=t,s=c=>{var u,d;const f=c;c.userData.tres__materialViaProp||((u=f.material)==null||u.dispose(),f.material=void 0),c.userData.tres__geometryViaProp||((d=f.geometry)==null||d.dispose(),f.geometry=void 0)},r=An==null?void 0:An.userData.tres__deregisterAtPointerEventHandler,a=An==null?void 0:An.userData.tres__deregisterBlockingObjectAtPointerEventHandler,o=c=>{var u,d;if(!a)throw new Error("could not find tres__deregisterBlockingObjectAtPointerEventHandler on scene's userData");if((d=An==null?void 0:(u=An.userData).tres__deregisterBlockingObjectAtPointerEventHandler)==null||d.call(u,c),!r)throw new Error("could not find tres__deregisterAtPointerEventHandler on scene's userData");c&&cy.some(f=>c[f])&&(r==null||r(c))},l=c=>{const u=An==null?void 0:An.userData.tres__deregisterCamera;if(!u)throw new Error("could not find tres__deregisterCamera on scene's userData");c.isCamera&&(u==null||u(c))};(e=t.removeFromParent)==null||e.call(t),i.traverse(c=>{s(c),l(c),o==null||o(c)}),s(i),l(i),o==null||o(i)}(n=t.dispose)==null||n.call(t)}},patchProp(t,e,n,i){var s,r,a,o;if(t){let l=t,c=e;if(t.isObject3D&&c==="blocks-pointer-events"){i||i===""?(r=An==null?void 0:(s=An.userData).tres__registerBlockingObjectAtPointerEventHandler)==null||r.call(s,t):(o=An==null?void 0:(a=An.userData).tres__deregisterBlockingObjectAtPointerEventHandler)==null||o.call(a,t);return}let u=Fh(c),d=l==null?void 0:l[u];if(c==="args"){const h=t,m=n??[],g=i??[],p=t.userData.tres__name||t.type;p&&m.length&&!UH(m,g)&&(l=Object.assign(h,new C0.value[p](...i)));return}if(l.type==="BufferGeometry"){if(c==="args")return;l.setAttribute(Fh(c),new Pt(...i));return}if(c.includes("-")&&d===void 0){const h=c.split("-");d=h.reduce((m,g)=>m[Fh(g)],l),c=h.pop(),u=c.toLowerCase(),d!=null&&d.set||(l=h.reduce((m,g)=>m[Fh(g)],l))}let f=i;if(f===""&&(f=!0),uM(d)){cy.includes(e)||(Array.isArray(f)?t[u](...f):t[u](f));return}!(d!=null&&d.set)&&!uM(d)?l[u]=f:d.constructor===f.constructor&&d!=null&&d.copy?d==null||d.copy(f):Array.isArray(f)?d.set(...f):!d.isColor&&d.setScalar?d.setScalar(f):d.set(f)}},parentNode(t){return(t==null?void 0:t.parent)||null},createText:()=>{},createComment:()=>{},setText:()=>{},setElementText:()=>{},nextSibling:()=>{},querySelector:()=>{},setScopeId:()=>{},cloneNode:()=>{},insertStaticContent:()=>{}},{render:eG}=_E(QH);J_(U5);function tG(){return $P().__VUE_DEVTOOLS_GLOBAL_HOOK__}function $P(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const nG=typeof Proxy=="function",iG="devtools-plugin:setup",sG="plugin:settings:set";let Ru,T0;function rG(){var t;return Ru!==void 0||(typeof window<"u"&&window.performance?(Ru=!0,T0=window.performance):typeof globalThis<"u"&&!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance?(Ru=!0,T0=globalThis.perf_hooks.performance):Ru=!1),Ru}function aG(){return rG()?T0.now():Date.now()}class oG{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const a in e.settings){const o=e.settings[a];i[a]=o.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},i);try{const a=localStorage.getItem(s),o=JSON.parse(a);Object.assign(r,o)}catch{}this.fallbacks={getSettings(){return r},setSettings(a){try{localStorage.setItem(s,JSON.stringify(a))}catch{}r=a},now(){return aG()}},n&&n.on(sG,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:o,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function lG(t,e){const n=t,i=$P(),s=tG(),r=nG&&n.enableEarlyProxy;if(s&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))s.emit(iG,t,e);else{const a=r?new oG(n,s):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}function cG(t,e){const n=`  ${t}`;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):console.log(n)}const jP=t=>{const e={id:t.uuid,label:t.type,children:[],tags:[]};t.name!==""&&e.tags.push({label:t.name,textColor:5750629,backgroundColor:15793395});const n=WP(t);return n>0&&e.tags.push({label:`${KH(n)} KB`,textColor:15707189,backgroundColor:16775644,tooltip:"Memory usage"}),t.type.includes("Light")&&(e.tags.push({label:`${t.intensity}`,textColor:9738662,backgroundColor:16316922,tooltip:"Intensity"}),e.tags.push({label:`#${t.color.getHexString()}`,textColor:9738662,backgroundColor:16316922,tooltip:"Color"})),t.type.includes("Camera")&&(e.tags.push({label:`${t.fov}`,textColor:9738662,backgroundColor:16316922,tooltip:"Field of view"}),e.tags.push({label:`x: ${Math.round(t.position.x)} y: ${Math.round(t.position.y)} z: ${Math.round(t.position.z)}`,textColor:9738662,backgroundColor:16316922,tooltip:"Position"})),e};function XP(t,e){t.children.forEach(n=>{if(n.type==="HightlightMesh")return;const i=jP(n);e.children.push(i),XP(n,i)})}const uG=[],Lu="tres:inspector",dG=_n({sceneGraph:null});function fG(t,e){lG({id:"dev.esm.tres",label:"TresJS ",logo:"https://raw.githubusercontent.com/Tresjs/tres/main/public/favicon.svg",packageName:"tresjs",homepage:"https://tresjs.org",componentStateTypes:uG,app:t},n=>{typeof n.now!="function"&&cG("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addInspector({id:Lu,label:"TresJS ",icon:"account_tree",treeFilterPlaceholder:"Search instances"}),setInterval(()=>{n.sendInspectorTree(Lu)},1e3),setInterval(()=>{n.notifyComponentUpdate()},5e3),n.on.getInspectorTree(r=>{if(r.inspectorId===Lu){const a=jP(e.scene.value);XP(e.scene.value,a),dG.sceneGraph=a,r.rootNodes=[a]}});let i=null,s=null;n.on.getInspectorState(r=>{if(r.inspectorId===Lu){const[a]=e.scene.value.getObjectsByProperty("uuid",r.nodeId);if(!a)return;if(s&&i&&i.parent&&s.remove(i),a.isMesh){const o=HH(a);a.add(o),i=o,s=a}r.state={object:[{key:"uuid",editable:!0,value:a.uuid},{key:"name",editable:!0,value:a.name},{key:"type",editable:!0,value:a.type},{key:"position",editable:!0,value:a.position},{key:"rotation",editable:!0,value:a.rotation},{key:"scale",editable:!0,value:a.scale},{key:"geometry",value:a.geometry},{key:"material",value:a.material},{key:"color",editable:!0,value:a.color},{key:"intensity",editable:!0,value:a.intensity},{key:"castShadow",editable:!0,value:a.castShadow},{key:"receiveShadow",editable:!0,value:a.receiveShadow},{key:"frustumCulled",editable:!0,value:a.frustumCulled},{key:"matrixAutoUpdate",editable:!0,value:a.matrixAutoUpdate},{key:"matrixWorldNeedsUpdate",editable:!0,value:a.matrixWorldNeedsUpdate},{key:"matrixWorld",value:a.matrixWorld},{key:"visible",editable:!0,value:a.visible}]}}}),n.on.editInspectorState(r=>{r.inspectorId===Lu&&zH(e.scene.value,r.nodeId,r.path,r.state.value)})})}const hG=["data-scene","data-tres"],YP=$s({__name:"TresCanvas",props:{shadows:{type:Boolean,default:void 0},clearColor:{},toneMapping:{},shadowMapType:{},useLegacyLights:{type:Boolean,default:void 0},outputColorSpace:{},toneMappingExposure:{},camera:{},preset:{},windowSize:{type:Boolean,default:void 0},disableRender:{type:Boolean,default:void 0},context:{},precision:{},alpha:{type:Boolean,default:void 0},premultipliedAlpha:{type:Boolean},antialias:{type:Boolean,default:void 0},stencil:{type:Boolean,default:void 0},preserveDrawingBuffer:{type:Boolean,default:void 0},powerPreference:{},depth:{type:Boolean,default:void 0},logarithmicDepthBuffer:{type:Boolean,default:void 0},failIfMajorPerformanceCaveat:{type:Boolean,default:void 0}},setup(t,{expose:e}){var n;const i=t,s=Op(),{logWarning:r}=vv(),a=he(),o=ke(new Uc),{resume:l}=au(),c=(n=ta())==null?void 0:n.appContext.app,u=g=>$s({setup(){var p;const v=(p=ta())==null?void 0:p.appContext;return v&&(v.app=c),Qt("useTres",g),Qt("extend",J_),typeof window<"u"&&fG(v.app,g),()=>hs($e,null,s!=null&&s.default?s.default():[])}}),d=g=>{const p=u(g);eG(hs(p),o.value)},f=(g,p=!1)=>{o.value.children=[],p&&(g.renderer.value.dispose(),g.renderer.value.renderLists.dispose(),g.renderer.value.forceContextLoss()),d(g),l()},h=L(()=>i.disableRender),m=ke(null);return e({context:m,dispose:()=>f(m.value,!0)}),On(()=>{const g=a;m.value=JH({scene:o.value,canvas:g,windowSize:i.windowSize,disableRender:h,rendererOptions:i}),qH({scene:o.value,contextParts:m.value});const{registerCamera:p,camera:v,cameras:b,deregisterCamera:_}=m.value;d(m.value);const w=()=>{const T=new tn(45,window.innerWidth/window.innerHeight,.1,1e3);T.position.set(3,3,3),T.lookAt(0,0,0),p(T);const C=Zt(()=>{b.value.length>=2&&(T.removeFromParent(),_(T),C==null||C())})};Ie(()=>i.camera,(T,C)=>{T&&p(T),C&&(C.removeFromParent(),_(C))},{immediate:!0}),v.value||(r("No camera found. Creating a default perspective camera. To have full control over a camera, please add one to the scene."),w())}),(g,p)=>(it(),qt("canvas",{ref_key:"canvas",ref:a,"data-scene":o.value.uuid,class:qd(g.$attrs.class),"data-tres":`tresjs ${Pe(AH).version}`,style:Dc({display:"block",width:"100%",height:"100%",position:g.windowSize?"fixed":"relative",top:0,left:0,pointerEvents:"auto",touchAction:"none",...g.$attrs.style})},null,14,hG))}});/*! Tweakpane 4.0.5 (c) 2016 cocopon, licensed under the MIT license. */function wn(t){return t==null}function ex(t){return t!==null&&typeof t=="object"}function E0(t){return t!==null&&typeof t=="object"}function mG(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hl(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((i,s)=>{const r=t[s],a=e[s];return E0(r)&&E0(a)?Object.assign(Object.assign({},i),{[s]:hl(r,a)}):Object.assign(Object.assign({},i),{[s]:s in e?a:r})},{})}function pG(t){return ex(t)?"target"in t:!1}const vG={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class os{static alreadyDisposed(){return new os({type:"alreadydisposed"})}static notBindable(){return new os({type:"notbindable"})}static notCompatible(e,n){return new os({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new os({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new os({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=vG[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class fp{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const i=this.read();if(!fp.isBindable(i))throw os.notBindable();if(!(e in i))throw os.propertyNotFound(e);i[e]=n}}class ps{constructor(){this.observers_={}}on(e,n,i){var s;let r=this.observers_[e];return r||(r=this.observers_[e]=[]),r.push({handler:n,key:(s=i==null?void 0:i.key)!==null&&s!==void 0?s:n}),this}off(e,n){const i=this.observers_[e];return i&&(this.observers_[e]=i.filter(s=>s.key!==n)),this}emit(e,n){const i=this.observers_[e];i&&i.forEach(s=>{s.handler(n)})}}class gG{constructor(e,n){var i;this.constraint_=n==null?void 0:n.constraint,this.equals_=(i=n==null?void 0:n.equals)!==null&&i!==void 0?i:(s,r)=>s===r,this.emitter=new ps,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const i=n??{forceEmit:!1,last:!0},s=this.constraint_?this.constraint_.constrain(e):e,r=this.rawValue_;this.equals_(r,s)&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=s,this.emitter.emit("change",{options:i,previousRawValue:r,rawValue:s,sender:this}))}}class yG{constructor(e){this.emitter=new ps,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const i=n??{forceEmit:!1,last:!0},s=this.value_;s===e&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:i,previousRawValue:s,rawValue:this.value_,sender:this}))}}class bG{constructor(e){this.emitter=new ps,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function si(t,e){const n=e==null?void 0:e.constraint,i=e==null?void 0:e.equals;return!n&&!i?new yG(t):new gG(t,e)}function _G(t){return[new bG(t),(e,n)=>{t.setRawValue(e,n)}]}class Wt{constructor(e){this.emitter=new ps,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((i,s)=>Object.assign(i,{[s]:si(e[s])}),{})}static fromObject(e){const n=this.createCore(e);return new Wt(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}}class gv{constructor(e){this.values=Wt.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),i=this.values.get("min");return Math.min(Math.max(e,i),n)}}class xG{constructor(e){this.values=Wt.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),i=this.values.get("min");let s=e;return wn(i)||(s=Math.max(s,i)),wn(n)||(s=Math.min(s,n)),s}}class wG{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,i=Math.round((e-n)/this.step);return n+i*this.step}}class SG{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const MG={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};class CG{constructor(e,n,i){this.left=n,this.operator=e,this.right=i}evaluate(){const e=MG[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const TG={"+":t=>t,"-":t=>-t,"~":t=>~t};class EG{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=TG[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function tx(t){return(e,n)=>{for(let i=0;i<t.length;i++){const s=t[i](e,n);if(s!=="")return s}return""}}function Id(t,e){var n;const i=t.substr(e).match(/^\s+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function AG(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function Rd(t,e){var n;const i=t.substr(e).match(/^[0-9]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function PG(t,e){const n=Rd(t,e);if(n!=="")return n;const i=t.substr(e,1);if(e+=1,i!=="-"&&i!=="+")return"";const s=Rd(t,e);return s===""?"":i+s}function nx(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const i=PG(t,e);return i===""?"":n+i}function qP(t,e){const n=t.substr(e,1);if(n==="0")return n;const i=AG(t,e);return e+=i.length,i===""?"":i+Rd(t,e)}function IG(t,e){const n=qP(t,e);if(e+=n.length,n==="")return"";const i=t.substr(e,1);if(e+=i.length,i!==".")return"";const s=Rd(t,e);return e+=s.length,n+i+s+nx(t,e)}function RG(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const i=Rd(t,e);return e+=i.length,i===""?"":n+i+nx(t,e)}function LG(t,e){const n=qP(t,e);return e+=n.length,n===""?"":n+nx(t,e)}const kG=tx([IG,RG,LG]);function DG(t,e){var n;const i=t.substr(e).match(/^[01]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function OG(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const i=DG(t,e);return i===""?"":n+i}function NG(t,e){var n;const i=t.substr(e).match(/^[0-7]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function VG(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const i=NG(t,e);return i===""?"":n+i}function FG(t,e){var n;const i=t.substr(e).match(/^[0-9a-f]+/i);return(n=i&&i[0])!==null&&n!==void 0?n:""}function BG(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const i=FG(t,e);return i===""?"":n+i}const UG=tx([OG,VG,BG]),zG=tx([UG,kG]);function HG(t,e){const n=zG(t,e);return e+=n.length,n===""?null:{evaluable:new SG(n),cursor:e}}function GG(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const i=ZP(t,e);if(!i)return null;e=i.cursor,e+=Id(t,e).length;const s=t.substr(e,1);return e+=s.length,s!==")"?null:{evaluable:i.evaluable,cursor:e}}function WG(t,e){var n;return(n=HG(t,e))!==null&&n!==void 0?n:GG(t,e)}function KP(t,e){const n=WG(t,e);if(n)return n;const i=t.substr(e,1);if(e+=i.length,i!=="+"&&i!=="-"&&i!=="~")return null;const s=KP(t,e);return s?(e=s.cursor,{cursor:e,evaluable:new EG(i,s.evaluable)}):null}function $G(t,e,n){n+=Id(e,n).length;const i=t.filter(s=>e.startsWith(s,n))[0];return i?(n+=i.length,n+=Id(e,n).length,{cursor:n,operator:i}):null}function jG(t,e){return(n,i)=>{const s=t(n,i);if(!s)return null;i=s.cursor;let r=s.evaluable;for(;;){const a=$G(e,n,i);if(!a)break;i=a.cursor;const o=t(n,i);if(!o)return null;i=o.cursor,r=new CG(a.operator,r,o.evaluable)}return r?{cursor:i,evaluable:r}:null}}const XG=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>jG(t,e),KP);function ZP(t,e){return e+=Id(t,e).length,XG(t,e)}function YG(t){const e=ZP(t,0);return!e||e.cursor+Id(t,e.cursor).length!==t.length?null:e.evaluable}function ja(t){var e;const n=YG(t);return(e=n==null?void 0:n.evaluate())!==null&&e!==void 0?e:null}function JP(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=ja(t);if(!wn(e))return e}return 0}function ns(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function Kt(t,e,n,i,s){const r=(t-e)/(n-e);return i+r*(s-i)}function fM(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Gn(t,e,n){return Math.min(Math.max(t,e),n)}function QP(t,e){return(t%e+e)%e}function qG(t,e){return wn(t.step)?Math.max(fM(e),2):fM(t.step)}function eI(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function KG(t,e){var n;const i=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return i===0?.1:Math.pow(10,Math.floor(Math.log10(i))-1)}function tI(t,e){return wn(t.step)?null:new wG(t.step,e)}function nI(t){return!wn(t.max)&&!wn(t.min)?new gv({max:t.max,min:t.min}):!wn(t.max)||!wn(t.min)?new xG({max:t.max,min:t.min}):null}function iI(t,e){var n,i,s;return{formatter:(n=t.format)!==null&&n!==void 0?n:ns(qG(t,e)),keyScale:(i=t.keyScale)!==null&&i!==void 0?i:eI(t),pointerScale:(s=t.pointerScale)!==null&&s!==void 0?s:KG(t,e)}}function sI(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function ix(t){return{constraint:t.constraint,textProps:Wt.fromObject(iI(t.params,t.initialValue))}}class sx{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class yv{constructor(e){this.target=e}}class rI extends yv{constructor(e,n,i){super(e),this.value=n,this.last=i??!0}}class ZG extends yv{constructor(e,n){super(e),this.expanded=n}}class JG extends yv{constructor(e,n){super(e),this.index=n}}class QG extends yv{constructor(e,n){super(e),this.native=n}}class rx extends sx{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new ps,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const i=n.bind(this);return this.emitter_.on(e,s=>{i(s)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new rI(this,n.binding.target.read(),e.options.last))}}function e6(t,e){const i=Object.keys(e).reduce((s,r)=>{if(s===void 0)return;const a=e[r],o=a(t[r]);return o.succeeded?Object.assign(Object.assign({},s),{[r]:o.value}):void 0},{});return i}function t6(t,e){return t.reduce((n,i)=>{if(n===void 0)return;const s=e(i);if(!(!s.succeeded||s.value===void 0))return[...n,s.value]},[])}function n6(t){return t===null?!1:typeof t=="object"}function Br(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const i=t(n);return i!==void 0?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}function hM(t){return{custom:e=>Br(e)(t),boolean:Br(e=>typeof e=="boolean"?e:void 0)(t),number:Br(e=>typeof e=="number"?e:void 0)(t),string:Br(e=>typeof e=="string"?e:void 0)(t),function:Br(e=>typeof e=="function"?e:void 0)(t),constant:e=>Br(n=>n===e?e:void 0)(t),raw:Br(e=>e)(t),object:e=>Br(n=>{if(n6(n))return e6(n,e)})(t),array:e=>Br(n=>{if(Array.isArray(n))return t6(n,e)})(t)}}const A0={optional:hM(!0),required:hM(!1)};function Si(t,e){const n=e(A0),i=A0.required.object(n)(t);return i.succeeded?i.value:void 0}function Cr(t,e,n,i){if(e&&!e(t))return!1;const s=Si(t,n);return s?i(s):!1}function Tr(t,e){var n;return hl((n=t==null?void 0:t())!==null&&n!==void 0?n:{},e)}function lm(t){return"value"in t}function i6(t){if(!ex(t)||!("binding"in t))return!1;const e=t.binding;return pG(e)}const ur="http://www.w3.org/2000/svg";function hp(t){t.offsetHeight}function s6(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function ax(t){return t.ontouchstart!==void 0}function r6(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const a6={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function bv(t,e){const n=t.createElementNS(ur,"svg");return n.innerHTML=a6[e],n}function aI(t,e,n){t.insertBefore(e,t.children[n])}function ox(t){t.parentElement&&t.parentElement.removeChild(t)}function oI(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function o6(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function lI(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function Jr(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function br(t,e,n){Jr(t.value(e),n)}const l6="tp";function $t(t){return(n,i)=>[l6,"-",t,"v",n?`_${n}`:"",i?`-${i}`:""].join("")}const ku=$t("lbl");function c6(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(s=>t.createTextNode(s)).forEach((s,r)=>{r>0&&n.appendChild(t.createElement("br")),n.appendChild(s)}),n}class u6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(ku()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(ku("l")),br(n.props,"label",r=>{wn(r)?this.element.classList.add(ku(void 0,"nol")):(this.element.classList.remove(ku(void 0,"nol")),o6(i),i.appendChild(c6(e,r)))}),this.element.appendChild(i),this.labelElement=i;const s=e.createElement("div");s.classList.add(ku("v")),this.element.appendChild(s),this.valueElement=s}}class d6{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new u6(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return Cr(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return Tr(null,{label:this.props.get("label")})}}function f6(){return["veryfirst","first","last","verylast"]}const mM=$t(""),pM={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class cI{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{f6().forEach(i=>{n.classList.remove(mM(void 0,pM[i]))}),this.blade.get("positions").forEach(i=>{n.classList.add(mM(void 0,pM[i]))})}),this.viewProps.handleDispose(()=>{ox(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return Cr(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return Tr(null,Object.assign({},this.viewProps.exportState()))}}class h6 extends sx{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const i=n.bind(this);return this.controller.buttonController.emitter.on(e,r=>{i(new QG(this,r.nativeEvent))}),this}off(e,n){return this.controller.buttonController.emitter.off(e,n),this}}function m6(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function ou(t,e){return n=>{m6(t,e,n)}}function lx(t,e){Jr(t,n=>{e.textContent=n??""})}const uy=$t("btn");class p6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(uy()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("button");i.classList.add(uy("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const s=e.createElement("div");s.classList.add(uy("t")),lx(n.props.value("title"),s),this.buttonElement.appendChild(s)}}class v6{constructor(e,n){this.emitter=new ps,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new p6(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return Cr(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return Tr(null,{title:this.props.get("title")})}onClick_(e){this.emitter.emit("click",{nativeEvent:e,sender:this})}}class vM extends cI{constructor(e,n){const i=new v6(e,{props:n.buttonProps,viewProps:n.viewProps}),s=new d6(e,{blade:n.blade,props:n.labelProps,valueController:i});super({blade:n.blade,view:s.view,viewProps:n.viewProps}),this.buttonController=i,this.labelController=s}importState(e){return Cr(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return Tr(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class uI{constructor(e){const[n,i]=e.split("-"),s=n.split(".");this.major=parseInt(s[0],10),this.minor=parseInt(s[1],10),this.patch=parseInt(s[2],10),this.prerelease=i??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}const g6=new uI("2.0.5");function Wi(t){return Object.assign({core:g6},t)}Wi({id:"button",type:"blade",accept(t){const e=Si(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new vM(t.document,{blade:t.blade,buttonProps:Wt.fromObject({title:t.params.title}),labelProps:Wt.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof vM?new h6(t.controller):null}});function y6(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function b6(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function _6(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function x6(t){return ex(t)?"refresh"in t&&typeof t.refresh=="function":!1}function w6(t,e){if(!fp.isBindable(t))throw os.notBindable();return new fp(t,e)}class S6{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new ps,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,i){const s=i??{},r=this.controller_.element.ownerDocument,a=this.pool_.createBinding(r,w6(e,n),s),o=this.pool_.createBindingApi(a);return this.add(o,s.index)}addFolder(e){return b6(this,e)}addButton(e){return y6(this,e)}addTab(e){return _6(this,e)}add(e,n){const i=e.controller;return this.controller_.rack.add(i,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,i=this.pool_.createBlade(n,e),s=this.pool_.createApi(i);return this.add(s,e.index)}on(e,n){const i=n.bind(this);return this.emitter_.on(e,s=>{i(s)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.children.forEach(e=>{x6(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,i=this.pool_.createApi(n),s=i6(n.value)?n.value.binding:null;this.emitter_.emit("change",new rI(i,s?s.target.read():n.value.rawValue,e.options.last))}}class cx extends sx{constructor(e,n){super(e),this.rackApi_=new S6(e.rackController,n)}refresh(){this.rackApi_.refresh()}}class ux extends cI{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return Cr(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((i,s)=>i.importState(n.children[s])))}exportState(){return Tr(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}}function P0(t){return"rackController"in t}class M6{constructor(e){this.emitter=new ps,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw os.shouldNeverHappen();const i=n!==void 0?n:this.items_.length;this.items_.splice(i,0,e),this.cache_.add(e);const s=this.extract_(e);s&&(s.emitter.on("add",this.onSubListAdd_),s.emitter.on("remove",this.onSubListRemove_),s.allItems().forEach(r=>{this.cache_.add(r)})),this.emitter.emit("add",{index:i,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const i=this.extract_(e);i&&(i.allItems().forEach(s=>{this.cache_.delete(s)}),i.emitter.off("add",this.onSubListAdd_),i.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function C6(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(lm(i)&&i.value===e)return i}return null}function T6(t){return P0(t)?t.rackController.rack.bcSet_:null}class E6{constructor(e){var n,i;this.emitter=new ps,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new M6(T6),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var i;(i=e.parent)===null||i===void 0||i.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const i=e.item;if(i.viewProps.emitter.on("change",this.onChildViewPropsChange_),i.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),i.viewProps.handleDispose(this.onChildDispose_),lm(i))i.value.emitter.on("change",this.onChildValueChange_);else if(P0(i)){const s=i.rackController.rack;if(s){const r=s.emitter;r.on("layout",this.onRackLayout_),r.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const i=e.item;if(lm(i))i.value.emitter.off("change",this.onChildValueChange_);else if(P0(i)){const s=i.rackController.rack;if(s){const r=s.emitter;r.off("layout",this.onRackLayout_),r.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(s=>!s.viewProps.get("hidden")),n=e[0],i=e[e.length-1];this.bcSet_.items.forEach(s=>{const r=[];s===n&&(r.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&r.push("veryfirst")),s===i&&(r.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&r.push("verylast")),s.blade.set("positions",r)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=C6(this.find(lm),e.sender);if(!n)throw os.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class dx{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new E6({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let i=this.rack.children.length-1;i>=0;i--)this.rack.children[i].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&aI(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&ox(e.bladeController.view.element)}}function dI(){return new Wt({positions:si([],{equals:mG})})}class mf extends Wt{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},i=Wt.createCore(n);return new mf(i)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!wn(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const i=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};br(this,"expanded",i),br(this,"temporaryExpanded",i)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function A6(t,e){let n=0;return s6(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),hp(e),n=e.clientHeight,t.set("temporaryExpanded",null),hp(e)}),n}function gM(t,e){e.style.height=t.styleHeight}function fx(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),wn(t.get("expandedHeight"))){const n=A6(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),hp(e)}),t.emitter.on("change",()=>{gM(t,e)}),gM(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}class P6 extends cx{constructor(e,n){super(e,n),this.emitter_=new ps,this.controller.foldable.value("expanded").emitter.on("change",i=>{this.emitter_.emit("fold",new ZG(this,i.sender.rawValue))}),this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,i){return this.rackApi_.addBinding(e,n,i)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const i=n.bind(this);return this.emitter_.on(e,s=>{i(s)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}const fI=$t("cnt");class I6{constructor(e,n){var i;this.className_=$t((i=n.viewName)!==null&&i!==void 0?i:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),fI()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),br(this.foldable_,"completed",ou(this.element,this.className_(void 0,"cpl")));const s=e.createElement("button");s.classList.add(this.className_("b")),br(n.props,"title",c=>{wn(c)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(s),this.element.appendChild(s),this.buttonElement=s;const r=e.createElement("div");r.classList.add(this.className_("i")),this.element.appendChild(r);const a=e.createElement("div");a.classList.add(this.className_("t")),lx(n.props.value("title"),a),this.buttonElement.appendChild(a),this.titleElement=a;const o=e.createElement("div");o.classList.add(this.className_("m")),this.buttonElement.appendChild(o);const l=e.createElement("div");l.classList.add(this.className_("c")),this.element.appendChild(l),this.containerElement=l}}class yM extends ux{constructor(e,n){var i;const s=mf.create((i=n.expanded)!==null&&i!==void 0?i:!0),r=new I6(e,{foldable:s,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new dx({blade:n.blade,element:r.containerElement,root:n.root,viewProps:n.viewProps}),view:r})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=s,fx(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return Cr(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return Tr(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}Wi({id:"folder",type:"blade",accept(t){const e=Si(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new yM(t.document,{blade:t.blade,expanded:t.params.expanded,props:Wt.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof yM?new P6(t.controller,t.pool):null}});const R6=$t("");function bM(t,e){return ou(t,R6(void 0,e))}class pf extends Wt{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=_G(si(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,i,s;const r=e??{};return new pf(Wt.createCore({disabled:(n=r.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(i=r.hidden)!==null&&i!==void 0?i:!1,parent:(s=r.parent)!==null&&s!==void 0?s:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){Jr(this.globalDisabled_,bM(e,"disabled")),br(this,"hidden",bM(e,"hidden"))}bindDisabled(e){Jr(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){Jr(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const i=e.previousRawValue;i==null||i.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const _M=$t("tbp");class L6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(_M()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(_M("c")),this.element.appendChild(i),this.containerElement=i}}const Du=$t("tbi");class k6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Du()),n.viewProps.bindClassModifiers(this.element),br(n.props,"selected",r=>{r?this.element.classList.add(Du(void 0,"sel")):this.element.classList.remove(Du(void 0,"sel"))});const i=e.createElement("button");i.classList.add(Du("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const s=e.createElement("div");s.classList.add(Du("t")),lx(n.props.value("title"),s),this.buttonElement.appendChild(s),this.titleElement=s}}class D6{constructor(e,n){this.emitter=new ps,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new k6(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class I0 extends ux{constructor(e,n){const i=new L6(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new dx({blade:n.blade,element:i.containerElement,viewProps:n.viewProps}),view:i})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new D6(e,{props:n.itemProps,viewProps:pf.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,br(this.props,"selected",s=>{this.itemController.props.set("selected",s),this.viewProps.set("hidden",!s)})}get itemController(){return this.ic_}importState(e){return Cr(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return Tr(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class O6 extends cx{constructor(e,n){super(e,n),this.emitter_=new ps,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,i=new I0(n,{blade:dI(),itemProps:Wt.fromObject({selected:!1,title:e.title}),props:Wt.fromObject({selected:!1}),viewProps:pf.create()}),s=this.pool_.createApi(i);return this.rackApi_.add(s,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const i=n.bind(this);return this.emitter_.on(e,s=>{i(s)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}onSelect_(e){this.emitter_.emit("select",new JG(this,e.rawValue))}}class N6 extends cx{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,i){return this.rackApi_.addBinding(e,n,i)}addBlade(e){return this.rackApi_.addBlade(e)}}const xM=-1;class V6{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=si(!0),this.selectedIndex=si(xM),this.items_=[]}add(e,n){const i=n??this.items_.length;this.items_.splice(i,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=xM,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,i)=>{n.rawValue=i===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,i)=>{n.rawValue=i===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(i=>i===e.sender);this.items_.forEach((i,s)=>{i.rawValue=s===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}}const Ou=$t("tab");class F6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Ou(),fI()),n.viewProps.bindClassModifiers(this.element),Jr(n.empty,ou(this.element,Ou(void 0,"nop")));const i=e.createElement("div");i.classList.add(Ou("t")),this.element.appendChild(i),this.itemsElement=i;const s=e.createElement("div");s.classList.add(Ou("i")),this.element.appendChild(s);const r=e.createElement("div");r.classList.add(Ou("c")),this.element.appendChild(r),this.contentsElement=r}}class wM extends ux{constructor(e,n){const i=new V6,s=new F6(e,{empty:i.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new dx({blade:n.blade,element:s.contentsElement,viewProps:n.viewProps}),view:s}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const r=this.rackController.rack;r.emitter.on("add",this.onRackAdd_),r.emitter.on("remove",this.onRackRemove_),this.tab=i}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;aI(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;ox(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}}Wi({id:"tab",type:"blade",accept(t){const e=Si(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new wM(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const i=new I0(t.document,{blade:dI(),itemProps:Wt.fromObject({selected:!1,title:n.title}),props:Wt.fromObject({selected:!1}),viewProps:pf.create()});e.add(i)}),e},api(t){return t.controller instanceof wM?new O6(t.controller,t.pool):t.controller instanceof I0?new N6(t.controller,t.pool):null}});class hx extends rx{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class vf{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,i)=>i.constrain(n),e)}}function mp(t,e){if(t instanceof e)return t;if(t instanceof vf){const n=t.constraints.reduce((i,s)=>i||(s instanceof e?s:null),null);if(n)return n}return null}class _v{constructor(e){this.values=Wt.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(s=>s.value===e).length>0?e:n[0].value}}function xv(t){var e;const n=A0;if(Array.isArray(t))return(e=Si({items:t},i=>({items:i.required.array(i.required.object({text:i.required.string,value:i.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function hI(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function mx(t){return wn(t)?null:new _v(hI(t))}const dy=$t("lst");class B6{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(dy()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("select");i.classList.add(dy("s")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;const s=e.createElement("div");s.classList.add(dy("m")),s.appendChild(bv(e,"dropdown")),this.element.appendChild(s),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,br(this.props_,"options",r=>{oI(this.selectElement),r.forEach(a=>{const o=e.createElement("option");o.textContent=a.text,this.selectElement.appendChild(o)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class $c{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new B6(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return Cr(e,null,n=>({options:n.required.custom(xv)}),n=>(this.props.set("options",hI(n.options)),!0))}exportProps(){return Tr(null,{options:this.props.get("options")})}}const SM=$t("pop");class U6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(SM()),n.viewProps.bindClassModifiers(this.element),Jr(n.shows,ou(this.element,SM(void 0,"v")))}}class mI{constructor(e,n){this.shows=si(!1),this.viewProps=n.viewProps,this.view=new U6(e,{shows:this.shows,viewProps:this.viewProps})}}const MM=$t("txt");class z6{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(MM()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const i=e.createElement("input");i.classList.add(MM("i")),i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class px{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new z6(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const i=e.currentTarget.value,s=this.parser_(i);wn(s)||(this.value.rawValue=s),this.view.refresh()}}function H6(t){return String(t)}function pI(t){return t==="false"?!1:!!t}function CM(t){return H6(t)}function G6(t){return e=>t.reduce((n,i)=>n!==null?n:i(e),null)}const W6=ns(0);function pp(t){return W6(t)+"%"}function vI(t){return String(t)}function R0(t){return t}function lu({primary:t,secondary:e,forward:n,backward:i}){let s=!1;function r(a){s||(s=!0,a(),s=!1)}t.emitter.on("change",a=>{r(()=>{e.setRawValue(n(t.rawValue,e.rawValue),a.options)})}),e.emitter.on("change",a=>{r(()=>{t.setRawValue(i(t.rawValue,e.rawValue),a.options)}),r(()=>{e.setRawValue(n(t.rawValue,e.rawValue),a.options)})}),r(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function es(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function Ld(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function aa(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function $6(t){return t==="ArrowUp"||t==="ArrowDown"}function gI(t){return $6(t)||t==="ArrowLeft"||t==="ArrowRight"}function fy(t,e){var n,i;const s=e.ownerDocument.defaultView,r=e.getBoundingClientRect();return{x:t.pageX-(((n=s&&s.scrollX)!==null&&n!==void 0?n:0)+r.left),y:t.pageY-(((i=s&&s.scrollY)!==null&&i!==void 0?i:0)+r.top)}}class Al{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new ps,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const i=this.elem_.ownerDocument;i.addEventListener("mousemove",this.onDocumentMouseMove_),i.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(fy(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(fy(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(fy(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-i.left,y:n.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-i.left,y:n.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const i=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,s=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(i?{x:i.clientX-s.left,y:i.clientY-s.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const Ss=$t("txt");class j6{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Ss(),Ss(void 0,"num")),n.arrayPosition&&this.element.classList.add(Ss(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("input");i.classList.add(Ss("i")),i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Ss()),this.inputElement.classList.add(Ss("i"));const s=e.createElement("div");s.classList.add(Ss("k")),this.element.appendChild(s),this.knobElement=s;const r=e.createElementNS(ur,"svg");r.classList.add(Ss("g")),this.knobElement.appendChild(r);const a=e.createElementNS(ur,"path");a.classList.add(Ss("gb")),r.appendChild(a),this.guideBodyElem_=a;const o=e.createElementNS(ur,"path");o.classList.add(Ss("gh")),r.appendChild(o),this.guideHeadElem_=o;const l=e.createElement("div");l.classList.add($t("tt")()),this.knobElement.appendChild(l),this.tooltipElem_=l,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(Ss(void 0,"drg"));return}this.element.classList.add(Ss(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),i=n+(n>0?-1:n<0?1:0),s=Gn(-i,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${i+s},0 L${i},4 L${i+s},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const r=this.props_.get("formatter");this.tooltipElem_.textContent=r(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class gf{constructor(e,n){var i;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(i=n.sliderProps)!==null&&i!==void 0?i:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=si(null),this.view=new j6(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const s=new Al(this.view.knobElement);s.emitter.on("down",this.onPointerDown_),s.emitter.on("move",this.onPointerMove_),s.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,i;const s=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),r=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("max");let a=e;return s!==void 0&&(a=Math.max(a,s)),r!==void 0&&(a=Math.min(a,r)),a}onInputChange_(e){const i=e.currentTarget.value,s=this.parser_(i);wn(s)||(this.value.rawValue=this.constrainValue_(s)),this.view.refresh()}onInputKeyDown_(e){const n=es(this.props.get("keyScale"),Ld(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){es(this.props.get("keyScale"),Ld(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const hy=$t("sld");class X6{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(hy()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(hy("t")),n.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;const s=e.createElement("div");s.classList.add(hy("k")),this.trackElement.appendChild(s),this.knobElement=s,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=Gn(Kt(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class Y6{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new X6(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Al(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(Kt(Gn(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=es(this.props.get("keyScale"),aa(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){es(this.props.get("keyScale"),aa(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const my=$t("sldtxt");class q6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(my());const i=e.createElement("div");i.classList.add(my("s")),this.sliderView_=n.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(my("t")),this.textView_=n.textView,s.appendChild(this.textView_.element),this.element.appendChild(s)}}class TM{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new Y6(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new gf(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new q6(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return Cr(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const i=this.sliderC_.props;return i.set("max",n.max),i.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return Tr(null,{max:e.get("max"),min:e.get("min")})}}function K6(t){return{sliderProps:new Wt({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new Wt({formatter:si(t.formatter),keyScale:t.keyScale,pointerScale:si(t.pointerScale)})}}const Z6={containerUnitSize:"cnt-usz"};function yI(t){return`--${Z6[t]}`}function kd(t){return sI(t)}function Ba(t){if(E0(t))return Si(t,kd)}function Yr(t,e){if(!t)return;const n=[],i=tI(t,e);i&&n.push(i);const s=nI(t);return s&&n.push(s),new vf(n)}function bI(t){if(t==="inline"||t==="popup")return t}function yf(t,e){t.write(e)}const Uh=$t("ckb");class J6{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Uh()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("label");i.classList.add(Uh("l")),this.element.appendChild(i),this.labelElement=i;const s=e.createElement("input");s.classList.add(Uh("i")),s.type="checkbox",this.labelElement.appendChild(s),this.inputElement=s,n.viewProps.bindDisabled(this.inputElement);const r=e.createElement("div");r.classList.add(Uh("w")),this.labelElement.appendChild(r);const a=bv(e,"check");r.appendChild(a),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class Q6{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.onLabelMouseDown_=this.onLabelMouseDown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new J6(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.labelElement.addEventListener("mousedown",this.onLabelMouseDown_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked,e.preventDefault(),e.stopPropagation()}onLabelMouseDown_(e){e.preventDefault()}}function e8(t){const e=[],n=mx(t.options);return n&&e.push(n),new vf(e)}Wi({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=Si(e,i=>({options:i.optional.custom(xv),readonly:i.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>pI,constraint:t=>e8(t.params),writer:t=>yf},controller:t=>{const e=t.document,n=t.value,i=t.constraint,s=i&&mp(i,_v);return s?new $c(e,{props:new Wt({options:s.values.value("options")}),value:n,viewProps:t.viewProps}):new Q6(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof $c?new hx(t.controller):null}});const So=$t("col");class t8{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(So()),n.foldable.bindExpandedClass(this.element,So(void 0,"expanded")),br(n.foldable,"completed",ou(this.element,So(void 0,"cpl")));const i=e.createElement("div");i.classList.add(So("h")),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(So("s")),i.appendChild(s),this.swatchElement=s;const r=e.createElement("div");if(r.classList.add(So("t")),i.appendChild(r),this.textElement=r,n.pickerLayout==="inline"){const a=e.createElement("div");a.classList.add(So("p")),this.element.appendChild(a),this.pickerElement=a}else this.pickerElement=null}}function n8(t,e,n){const i=Gn(t/255,0,1),s=Gn(e/255,0,1),r=Gn(n/255,0,1),a=Math.max(i,s,r),o=Math.min(i,s,r),l=a-o;let c=0,u=0;const d=(o+a)/2;return l!==0&&(u=l/(1-Math.abs(a+o-1)),i===a?c=(s-r)/l:s===a?c=2+(r-i)/l:c=4+(i-s)/l,c=c/6+(c<0?1:0)),[c*360,u*100,d*100]}function i8(t,e,n){const i=(t%360+360)%360,s=Gn(e/100,0,1),r=Gn(n/100,0,1),a=(1-Math.abs(2*r-1))*s,o=a*(1-Math.abs(i/60%2-1)),l=r-a/2;let c,u,d;return i>=0&&i<60?[c,u,d]=[a,o,0]:i>=60&&i<120?[c,u,d]=[o,a,0]:i>=120&&i<180?[c,u,d]=[0,a,o]:i>=180&&i<240?[c,u,d]=[0,o,a]:i>=240&&i<300?[c,u,d]=[o,0,a]:[c,u,d]=[a,0,o],[(c+l)*255,(u+l)*255,(d+l)*255]}function s8(t,e,n){const i=Gn(t/255,0,1),s=Gn(e/255,0,1),r=Gn(n/255,0,1),a=Math.max(i,s,r),o=Math.min(i,s,r),l=a-o;let c;l===0?c=0:a===i?c=60*(((s-r)/l%6+6)%6):a===s?c=60*((r-i)/l+2):c=60*((i-s)/l+4);const u=a===0?0:l/a,d=a;return[c,u*100,d*100]}function _I(t,e,n){const i=QP(t,360),s=Gn(e/100,0,1),r=Gn(n/100,0,1),a=r*s,o=a*(1-Math.abs(i/60%2-1)),l=r-a;let c,u,d;return i>=0&&i<60?[c,u,d]=[a,o,0]:i>=60&&i<120?[c,u,d]=[o,a,0]:i>=120&&i<180?[c,u,d]=[0,a,o]:i>=180&&i<240?[c,u,d]=[0,o,a]:i>=240&&i<300?[c,u,d]=[o,0,a]:[c,u,d]=[a,0,o],[(c+l)*255,(u+l)*255,(d+l)*255]}function r8(t,e,n){const i=n+e*(100-Math.abs(2*n-100))/200;return[t,i!==0?e*(100-Math.abs(2*n-100))/i:0,n+e*(100-Math.abs(2*n-100))/(2*100)]}function a8(t,e,n){const i=100-Math.abs(n*(200-e)/100-100);return[t,i!==0?e*n/i:0,n*(200-e)/(2*100)]}function _r(t){return[t[0],t[1],t[2]]}function wv(t,e){return[t[0],t[1],t[2],e]}const o8={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:r8,rgb:i8},hsv:{hsl:a8,hsv:(t,e,n)=>[t,e,n],rgb:_I},rgb:{hsl:n8,hsv:s8,rgb:(t,e,n)=>[t,e,n]}};function jc(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function l8(t,e){return t===e?e:QP(t,e)}function xI(t,e,n){var i;const s=jc(e,n);return[e==="rgb"?Gn(t[0],0,s[0]):l8(t[0],s[0]),Gn(t[1],0,s[1]),Gn(t[2],0,s[2]),Gn((i=t[3])!==null&&i!==void 0?i:1,0,1)]}function EM(t,e,n,i){const s=jc(e,n),r=jc(e,i);return t.map((a,o)=>a/s[o]*r[o])}function wI(t,e,n){const i=EM(t,e.mode,e.type,"int"),s=o8[e.mode][n.mode](...i);return EM(s,n.mode,"int",n.type)}class Gt{static black(){return new Gt([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=xI(e,n,this.type)}getComponents(e){return wv(wI(_r(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const Ca=$t("colp");class c8{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Ca()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(Ca("hsv"));const s=e.createElement("div");s.classList.add(Ca("sv")),this.svPaletteView_=n.svPaletteView,s.appendChild(this.svPaletteView_.element),i.appendChild(s);const r=e.createElement("div");r.classList.add(Ca("h")),this.hPaletteView_=n.hPaletteView,r.appendChild(this.hPaletteView_.element),i.appendChild(r),this.element.appendChild(i);const a=e.createElement("div");if(a.classList.add(Ca("rgb")),this.textsView_=n.textsView,a.appendChild(this.textsView_.element),this.element.appendChild(a),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const o=e.createElement("div");o.classList.add(Ca("a"));const l=e.createElement("div");l.classList.add(Ca("ap")),l.appendChild(this.alphaViews_.palette.element),o.appendChild(l);const c=e.createElement("div");c.classList.add(Ca("at")),c.appendChild(this.alphaViews_.text.element),o.appendChild(c),this.element.appendChild(o)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function u8(t){return t==="int"?"int":t==="float"?"float":void 0}function vx(t){return Si(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(u8)}),expanded:e.optional.boolean,picker:e.optional.custom(bI),readonly:e.optional.constant(!1)}))}function ml(t){return t?.1:1}function SI(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}class gx{constructor(e,n){this.type="float",this.mode=n,this.comps_=xI(e,n,this.type)}getComponents(e){return wv(wI(_r(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const d8={int:(t,e)=>new Gt(t,e),float:(t,e)=>new gx(t,e)};function yx(t,e,n){return d8[n](t,e)}function f8(t){return t.type==="float"}function h8(t){return t.type==="int"}function m8(t){const e=t.getComponents(),n=jc(t.mode,"int");return new Gt([Math.round(Kt(e[0],0,1,0,n[0])),Math.round(Kt(e[1],0,1,0,n[1])),Math.round(Kt(e[2],0,1,0,n[2])),e[3]],t.mode)}function p8(t){const e=t.getComponents(),n=jc(t.mode,"int");return new gx([Kt(e[0],0,n[0],0,1),Kt(e[1],0,n[1],0,1),Kt(e[2],0,n[2],0,1),e[3]],t.mode)}function Ui(t,e){if(t.type===e)return t;if(h8(t)&&e==="float")return p8(t);if(f8(t)&&e==="int")return m8(t);throw os.shouldNeverHappen()}function v8(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function As(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const g8={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function MI(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),i=e[2];return g8[i](n)}function CI(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[As(e[1],255),As(e[2],255),As(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function y8(t){const e=CI(t);return e?new Gt(e,"rgb"):null}function TI(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[As(e[1],255),As(e[2],255),As(e[3],255),As(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function b8(t){const e=TI(t);return e?new Gt(e,"rgb"):null}function EI(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[MI(e[1]),As(e[2],100),As(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function _8(t){const e=EI(t);return e?new Gt(e,"hsl"):null}function AI(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[MI(e[1]),As(e[2],100),As(e[3],100),As(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function x8(t){const e=AI(t);return e?new Gt(e,"hsl"):null}function PI(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function w8(t){const e=PI(t);return e?new Gt(e,"rgb"):null}function II(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Kt(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),Kt(parseInt(n[4],16),0,255,0,1)]:null}function S8(t){const e=II(t);return e?new Gt(e,"rgb"):null}function RI(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function M8(t){return e=>{const n=RI(e);return n?yx(n,"rgb",t):null}}function LI(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function C8(t){return e=>{const n=LI(e);return n?yx(n,"rgb",t):null}}const T8=[{parser:PI,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:II,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:CI,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:TI,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:EI,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:AI,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:RI,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:LI,result:{alpha:!0,mode:"rgb",notation:"object"}}];function E8(t){return T8.reduce((e,{parser:n,result:i})=>e||(n(t)?i:null),null)}function A8(t,e="int"){const n=E8(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function bf(t){const e=[w8,S8,y8,b8,_8,x8];e.push(M8("int"),C8("int"));const n=G6(e);return i=>{const s=n(i);return s?Ui(s,t):null}}function P8(t){const e=bf("int");if(typeof t!="string")return Gt.black();const n=e(t);return n??Gt.black()}function kI(t){const e=Gn(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function bx(t,e="#"){const n=_r(t.getComponents("rgb")).map(kI).join("");return`${e}${n}`}function _x(t,e="#"){const n=t.getComponents("rgb"),i=[n[0],n[1],n[2],n[3]*255].map(kI).join("");return`${e}${i}`}function DI(t){const e=ns(0),n=Ui(t,"int");return`rgb(${_r(n.getComponents("rgb")).map(s=>e(s)).join(", ")})`}function cm(t){const e=ns(2),n=ns(0);return`rgba(${Ui(t,"int").getComponents("rgb").map((r,a)=>(a===3?e:n)(r)).join(", ")})`}function I8(t){const e=[ns(0),pp,pp],n=Ui(t,"int");return`hsl(${_r(n.getComponents("hsl")).map((s,r)=>e[r](s)).join(", ")})`}function R8(t){const e=[ns(0),pp,pp,ns(2)];return`hsla(${Ui(t,"int").getComponents("hsl").map((s,r)=>e[r](s)).join(", ")})`}function OI(t,e){const n=ns(e==="float"?2:0),i=["r","g","b"],s=Ui(t,e);return`{${_r(s.getComponents("rgb")).map((a,o)=>`${i[o]}: ${n(a)}`).join(", ")}}`}function L8(t){return e=>OI(e,t)}function NI(t,e){const n=ns(2),i=ns(e==="float"?2:0),s=["r","g","b","a"];return`{${Ui(t,e).getComponents("rgb").map((o,l)=>{const c=l===3?n:i;return`${s[l]}: ${c(o)}`}).join(", ")}}`}function k8(t){return e=>NI(e,t)}const D8=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:bx},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:_x},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:DI},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:cm},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:I8},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:R8},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:L8(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:k8(e)}],[])];function VI(t){return D8.reduce((e,n)=>e||(v8(n.format,t)?n.stringifier:null),null)}const Nu=$t("apl");class O8{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Nu()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("div");i.classList.add(Nu("b")),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(Nu("c")),i.appendChild(s),this.colorElem_=s;const r=e.createElement("div");r.classList.add(Nu("m")),this.element.appendChild(r),this.markerElem_=r;const a=e.createElement("div");a.classList.add(Nu("p")),this.markerElem_.appendChild(a),this.previewElem_=a,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),i=new Gt([n[0],n[1],n[2],0],"rgb"),s=new Gt([n[0],n[1],n[2],255],"rgb"),r=["to right",cm(i),cm(s)];this.colorElem_.style.background=`linear-gradient(${r.join(",")})`,this.previewElem_.style.backgroundColor=cm(e);const a=Kt(n[3],0,1,0,100);this.markerElem_.style.left=`${a}%`}onValueChange_(){this.update_()}}class N8{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new O8(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Al(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=e.point.x/e.bounds.width,s=this.value.rawValue,[r,a,o]=s.getComponents("hsv");this.value.setRawValue(new Gt([r,a,o,i],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=es(ml(!0),aa(e));if(n===0)return;const i=this.value.rawValue,[s,r,a,o]=i.getComponents("hsv");this.value.setRawValue(new Gt([s,r,a,o+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){es(ml(!0),aa(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const rc=$t("coltxt");function V8(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((i,s)=>{const r=t.createElement("option");return r.textContent=s.text,r.value=s.value,i.appendChild(r),i},t.createDocumentFragment())),e}class F8{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(rc()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(rc("m")),this.modeElem_=V8(e),this.modeElem_.classList.add(rc("ms")),i.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const s=e.createElement("div");s.classList.add(rc("mm")),s.appendChild(bv(e,"dropdown")),i.appendChild(s),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(rc("w")),this.element.appendChild(r),this.inputsElem_=r,this.inputViews_=n.inputViews,this.applyInputViews_(),Jr(n.mode,a=>{this.modeElem_.value=a})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){oI(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const i=e.createElement("div");i.classList.add(rc("c")),i.appendChild(n.element),this.inputsElem_.appendChild(i)})}}function B8(t){return ns(t==="float"?2:0)}function U8(t,e,n){const i=jc(t,e)[n];return new gv({min:0,max:i})}function z8(t,e,n){return new gf(t,{arrayPosition:n===0?"fst":n===2?"lst":"mid",parser:e.parser,props:Wt.fromObject({formatter:B8(e.colorType),keyScale:ml(!1),pointerScale:e.colorType==="float"?.01:1}),value:si(0,{constraint:U8(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function H8(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:ja,viewProps:e.viewProps};return[0,1,2].map(i=>{const s=z8(t,n,i);return lu({primary:e.value,secondary:s.value,forward(r){return Ui(r,e.colorType).getComponents(e.colorMode)[i]},backward(r,a){const o=e.colorMode,c=Ui(r,e.colorType).getComponents(o);c[i]=a;const u=yx(wv(_r(c),c[3]),o,e.colorType);return Ui(u,"int")}}),s})}function G8(t,e){const n=new px(t,{parser:bf("int"),props:Wt.fromObject({formatter:bx}),value:si(Gt.black()),viewProps:e.viewProps});return lu({primary:e.value,secondary:n.value,forward:i=>new Gt(_r(i.getComponents()),i.mode),backward:(i,s)=>new Gt(wv(_r(s.getComponents(i.mode)),i.getComponents()[3]),i.mode)}),[n]}function W8(t){return t!=="hex"}class $8{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=si(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new F8(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return W8(n)?H8(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):G8(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(i=>i.view)}}const py=$t("hpl");class j8{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(py()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("div");i.classList.add(py("c")),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(py("m")),this.element.appendChild(s),this.markerElem_=s,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=DI(new Gt([n,100,100],"hsv"));const i=Kt(n,0,360,0,100);this.markerElem_.style.left=`${i}%`}onValueChange_(){this.update_()}}class X8{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new j8(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Al(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=Kt(Gn(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),s=this.value.rawValue,[,r,a,o]=s.getComponents("hsv");this.value.setRawValue(new Gt([i,r,a,o],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=es(ml(!1),aa(e));if(n===0)return;const i=this.value.rawValue,[s,r,a,o]=i.getComponents("hsv");this.value.setRawValue(new Gt([s+n,r,a,o],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){es(ml(!1),aa(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const vy=$t("svp"),AM=64;class Y8{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(vy()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("canvas");i.height=AM,i.width=AM,i.classList.add(vy("c")),this.element.appendChild(i),this.canvasElement=i;const s=e.createElement("div");s.classList.add(vy("m")),this.element.appendChild(s),this.markerElem_=s,this.update_()}update_(){const e=r6(this.canvasElement);if(!e)return;const i=this.value.rawValue.getComponents("hsv"),s=this.canvasElement.width,r=this.canvasElement.height,a=e.getImageData(0,0,s,r),o=a.data;for(let u=0;u<r;u++)for(let d=0;d<s;d++){const f=Kt(d,0,s,0,100),h=Kt(u,0,r,100,0),m=_I(i[0],f,h),g=(u*s+d)*4;o[g]=m[0],o[g+1]=m[1],o[g+2]=m[2],o[g+3]=255}e.putImageData(a,0,0);const l=Kt(i[1],0,100,0,100);this.markerElem_.style.left=`${l}%`;const c=Kt(i[2],0,100,100,0);this.markerElem_.style.top=`${c}%`}onValueChange_(){this.update_()}}class q8{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new Y8(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Al(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=Kt(e.point.x,0,e.bounds.width,0,100),s=Kt(e.point.y,0,e.bounds.height,100,0),[r,,,a]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Gt([r,i,s,a],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){gI(e.key)&&e.preventDefault();const[n,i,s,r]=this.value.rawValue.getComponents("hsv"),a=ml(!1),o=es(a,aa(e)),l=es(a,Ld(e));o===0&&l===0||this.value.setRawValue(new Gt([n,i+o,s+l,r],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=ml(!1),i=es(n,aa(e)),s=es(n,Ld(e));i===0&&s===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class K8{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new X8(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new q8(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new N8(e,{value:this.value,viewProps:this.viewProps}),text:new gf(e,{parser:ja,props:Wt.fromObject({pointerScale:.01,keyScale:.1,formatter:ns(2)}),value:si(0,{constraint:new gv({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&lu({primary:this.value,secondary:this.alphaIcs_.text.value,forward:i=>i.getComponents()[3],backward:(i,s)=>{const r=i.getComponents();return r[3]=s,new Gt(r,i.mode)}}),this.textsC_=new $8(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new c8(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const gy=$t("colsw");class Z8{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(gy()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(gy("sw")),this.element.appendChild(i),this.swatchElem_=i;const s=e.createElement("button");s.classList.add(gy("b")),n.viewProps.bindDisabled(s),this.element.appendChild(s),this.buttonElement=s,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=_x(e)}onValueChange_(){this.update_()}}class J8{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new Z8(e,{value:this.value,viewProps:this.viewProps})}}class xx{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=mf.create(n.expanded),this.swatchC_=new J8(e,{value:this.value,viewProps:this.viewProps});const i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new px(e,{parser:n.parser,props:Wt.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new t8(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new mI(e,{viewProps:this.viewProps}):null;const s=new K8(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});s.view.allFocusableElements.forEach(r=>{r.addEventListener("blur",this.onPopupChildBlur_),r.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=s,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(s.view.element),lu({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:r=>r,backward:(r,a)=>a})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),fx(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,i=e.relatedTarget;(!i||!n.contains(i))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,i=lI(e);i&&n.contains(i)||i&&i===this.swatchC_.view.buttonElement&&!ax(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Q8(t){return _r(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function eW(t){return t.getComponents("rgb").reduce((e,n,i)=>{const s=Math.floor(i===3?n*255:n)&255;return e<<8|s},0)>>>0}function tW(t){return new Gt([t>>16&255,t>>8&255,t&255],"rgb")}function nW(t){return new Gt([t>>24&255,t>>16&255,t>>8&255,Kt(t&255,0,255,0,1)],"rgb")}function iW(t){return typeof t!="number"?Gt.black():tW(t)}function sW(t){return typeof t!="number"?Gt.black():nW(t)}function um(t,e){return typeof t!="object"||wn(t)?!1:e in t&&typeof t[e]=="number"}function FI(t){return um(t,"r")&&um(t,"g")&&um(t,"b")}function BI(t){return FI(t)&&um(t,"a")}function UI(t){return FI(t)}function wx(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),i=e.getComponents();for(let s=0;s<n.length;s++)if(n[s]!==i[s])return!1;return!0}function PM(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function rW(t){const e=VI(t);return e?(n,i)=>{yf(n,e(i))}:null}function aW(t){const e=t?eW:Q8;return(n,i)=>{yf(n,e(i))}}function oW(t,e,n){const s=Ui(e,n).toRgbaObject();t.writeProperty("r",s.r),t.writeProperty("g",s.g),t.writeProperty("b",s.b),t.writeProperty("a",s.a)}function lW(t,e,n){const s=Ui(e,n).toRgbaObject();t.writeProperty("r",s.r),t.writeProperty("g",s.g),t.writeProperty("b",s.b)}function cW(t,e){return(n,i)=>{t?oW(n,i,e):lW(n,i,e)}}function uW(t){var e;return!!(!((e=t==null?void 0:t.color)===null||e===void 0)&&e.alpha)}function dW(t){return t?e=>_x(e,"0x"):e=>bx(e,"0x")}function fW(t){return"color"in t||t.view==="color"}Wi({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!fW(e))return null;const n=vx(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:uW(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?sW:iW,equals:wx,writer:t=>aW(t.params.supportsAlpha)},controller:t=>{var e,n;return new xx(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:dW(t.params.supportsAlpha),parser:bf("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function hW(t,e){if(!UI(t))return Ui(Gt.black(),e);if(e==="int"){const n=PM(t);return new Gt(n,"rgb")}if(e==="float"){const n=PM(t);return new gx(n,"rgb")}return Ui(Gt.black(),"int")}function mW(t){return BI(t)}function pW(t){return e=>{const n=hW(e,t);return Ui(n,"int")}}function vW(t,e){return n=>t?NI(n,e):OI(n,e)}Wi({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!UI(t))return null;const i=vx(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{colorType:(n=SI(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>pW(t.params.colorType),equals:wx,writer:t=>cW(mW(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const i=BI(t.initialValue);return new xx(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:vW(i,t.params.colorType),parser:bf("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:i,value:t.value,viewProps:t.viewProps})}});Wi({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=A8(t,SI(e));if(!n)return null;const i=VI(n);if(!i)return null;const s=vx(e);return s?{initialValue:t,params:Object.assign(Object.assign({},s),{format:n,stringifier:i})}:null},binding:{reader:()=>P8,equals:wx,writer:t=>{const e=rW(t.params.format);if(!e)throw os.notBindable();return e}},controller:t=>{var e,n;return new xx(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:bf("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});class Sx{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((i,s)=>{var r,a;return(a=(r=this.components[s])===null||r===void 0?void 0:r.constrain(i))!==null&&a!==void 0?a:i});return this.asm_.fromComponents(n)}}const IM=$t("pndtxt");class gW{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(IM()),this.textViews.forEach(i=>{const s=e.createElement("div");s.classList.add(IM("a")),s.appendChild(i.element),this.element.appendChild(s)})}}function yW(t,e,n){return new gf(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:si(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}class Mx{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((i,s)=>yW(e,n,s)),this.acs_.forEach((i,s)=>{lu({primary:this.value,secondary:i.value,forward:r=>n.assembly.toComponents(r)[s],backward:(r,a)=>{const o=n.assembly.toComponents(r);return o[s]=a,n.assembly.fromComponents(o)}})}),this.view=new gW(e,{textViews:this.acs_.map(i=>i.view)})}get textControllers(){return this.acs_}}class bW extends rx{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}function _W(t,e){const n=[],i=tI(t,e);i&&n.push(i);const s=nI(t);s&&n.push(s);const r=mx(t.options);return r&&n.push(r),new vf(n)}Wi({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=Si(e,i=>Object.assign(Object.assign({},sI(i)),{options:i.optional.custom(xv),readonly:i.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>JP,constraint:t=>_W(t.params,t.initialValue),writer:t=>yf},controller:t=>{const e=t.value,n=t.constraint,i=n&&mp(n,_v);if(i)return new $c(t.document,{props:new Wt({options:i.values.value("options")}),value:e,viewProps:t.viewProps});const s=iI(t.params,e.rawValue),r=n&&mp(n,gv);return r?new TM(t.document,Object.assign(Object.assign({},K6(Object.assign(Object.assign({},s),{keyScale:si(s.keyScale),max:r.values.value("max"),min:r.values.value("min")}))),{parser:ja,value:e,viewProps:t.viewProps})):new gf(t.document,{parser:ja,props:Wt.fromObject(s),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof TM?new bW(t.controller):t.controller.valueController instanceof $c?new hx(t.controller):null}});class Ha{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(wn(e))return!1;const n=e.x,i=e.y;return!(typeof n!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}}const zI={toComponents:t=>t.getComponents(),fromComponents:t=>new Ha(...t)},ac=$t("p2d");class xW{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(ac()),n.viewProps.bindClassModifiers(this.element),Jr(n.expanded,ou(this.element,ac(void 0,"expanded")));const i=e.createElement("div");i.classList.add(ac("h")),this.element.appendChild(i);const s=e.createElement("button");s.classList.add(ac("b")),s.appendChild(bv(e,"p2dpad")),n.viewProps.bindDisabled(s),i.appendChild(s),this.buttonElement=s;const r=e.createElement("div");if(r.classList.add(ac("t")),i.appendChild(r),this.textElement=r,n.pickerLayout==="inline"){const a=e.createElement("div");a.classList.add(ac("p")),this.element.appendChild(a),this.pickerElement=a}else this.pickerElement=null}}const Ta=$t("p2dp");class wW{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(Ta()),n.layout==="popup"&&this.element.classList.add(Ta(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(Ta("p")),n.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;const s=e.createElementNS(ur,"svg");s.classList.add(Ta("g")),this.padElement.appendChild(s),this.svgElem_=s;const r=e.createElementNS(ur,"line");r.classList.add(Ta("ax")),r.setAttributeNS(null,"x1","0"),r.setAttributeNS(null,"y1","50%"),r.setAttributeNS(null,"x2","100%"),r.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(r);const a=e.createElementNS(ur,"line");a.classList.add(Ta("ax")),a.setAttributeNS(null,"x1","50%"),a.setAttributeNS(null,"y1","0"),a.setAttributeNS(null,"x2","50%"),a.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(a);const o=e.createElementNS(ur,"line");o.classList.add(Ta("l")),o.setAttributeNS(null,"x1","50%"),o.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(o),this.lineElem_=o;const l=e.createElement("div");l.classList.add(Ta("m")),this.padElement.appendChild(l),this.markerElem_=l,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),i=this.props_.get("max"),s=Kt(e,-i,+i,0,100),r=Kt(n,-i,+i,0,100),a=this.props_.get("invertsY")?100-r:r;this.lineElem_.setAttributeNS(null,"x2",`${s}%`),this.lineElem_.setAttributeNS(null,"y2",`${a}%`),this.markerElem_.style.left=`${s}%`,this.markerElem_.style.top=`${a}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function RM(t,e,n){return[es(e[0],aa(t)),es(e[1],Ld(t))*(n?1:-1)]}class SW{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new wW(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Al(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=this.props.get("max"),s=Kt(e.point.x,0,e.bounds.width,-i,+i),r=Kt(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-i,+i);this.value.setRawValue(new Ha(s,r),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){gI(e.key)&&e.preventDefault();const[n,i]=RM(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&i===0||this.value.setRawValue(new Ha(this.value.rawValue.x+n,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,i]=RM(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class MW{constructor(e,n){var i,s;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=mf.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new mI(e,{viewProps:this.viewProps}):null;const r=new SW(e,{layout:n.pickerLayout,props:new Wt({invertsY:si(n.invertsY),max:si(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});r.view.allFocusableElements.forEach(a=>{a.addEventListener("blur",this.onPopupChildBlur_),a.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=r,this.textC_=new Mx(e,{assembly:zI,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new xW(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("blur",this.onPadButtonBlur_),(s=this.view.buttonElement)===null||s===void 0||s.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),lu({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:a=>a,backward:(a,o)=>o})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),fx(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,i=e.relatedTarget;(!i||!n.contains(i))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,i=lI(e);i&&n.contains(i)||i&&i===this.view.buttonElement&&!ax(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}function CW(t){return Ha.isObject(t)?new Ha(t.x,t.y):new Ha}function TW(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function EW(t,e){return new Sx({assembly:zI,components:[Yr(Object.assign(Object.assign({},t),t.x),e.x),Yr(Object.assign(Object.assign({},t),t.y),e.y)]})}function LM(t,e){var n,i;if(!wn(t.min)||!wn(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((i=t.max)!==null&&i!==void 0?i:0));const s=eI(t);return Math.max(Math.abs(s)*10,Math.abs(e)*10)}function AW(t,e){var n,i;const s=LM(hl(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),r=LM(hl(t,(i=t.y)!==null&&i!==void 0?i:{}),e.y);return Math.max(s,r)}function PW(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}Wi({id:"input-point2d",type:"input",accept:(t,e)=>{if(!Ha.isObject(t))return null;const n=Si(e,i=>Object.assign(Object.assign({},kd(i)),{expanded:i.optional.boolean,picker:i.optional.custom(bI),readonly:i.optional.constant(!1),x:i.optional.custom(Ba),y:i.optional.object(Object.assign(Object.assign({},kd(i)),{inverted:i.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>CW,constraint:t=>EW(t.params,t.initialValue),equals:Ha.equals,writer:()=>TW},controller:t=>{var e,n;const i=t.document,s=t.value,r=t.constraint,a=[t.params.x,t.params.y];return new MW(i,{axes:s.rawValue.getComponents().map((o,l)=>{var c;return ix({constraint:r.components[l],initialValue:o,params:hl(t.params,(c=a[l])!==null&&c!==void 0?c:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:PW(t.params),max:AW(t.params,s.rawValue),parser:ja,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:s,viewProps:t.viewProps})}});class Ic{constructor(e=0,n=0,i=0){this.x=e,this.y=n,this.z=i}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(wn(e))return!1;const n=e.x,i=e.y,s=e.z;return!(typeof n!="number"||typeof i!="number"||typeof s!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const HI={toComponents:t=>t.getComponents(),fromComponents:t=>new Ic(...t)};function IW(t){return Ic.isObject(t)?new Ic(t.x,t.y,t.z):new Ic}function RW(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function LW(t,e){return new Sx({assembly:HI,components:[Yr(Object.assign(Object.assign({},t),t.x),e.x),Yr(Object.assign(Object.assign({},t),t.y),e.y),Yr(Object.assign(Object.assign({},t),t.z),e.z)]})}Wi({id:"input-point3d",type:"input",accept:(t,e)=>{if(!Ic.isObject(t))return null;const n=Si(e,i=>Object.assign(Object.assign({},kd(i)),{readonly:i.optional.constant(!1),x:i.optional.custom(Ba),y:i.optional.custom(Ba),z:i.optional.custom(Ba)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>IW,constraint:t=>LW(t.params,t.initialValue),equals:Ic.equals,writer:t=>RW},controller:t=>{const e=t.value,n=t.constraint,i=[t.params.x,t.params.y,t.params.z];return new Mx(t.document,{assembly:HI,axes:e.rawValue.getComponents().map((s,r)=>{var a;return ix({constraint:n.components[r],initialValue:s,params:hl(t.params,(a=i[r])!==null&&a!==void 0?a:{})})}),parser:ja,value:e,viewProps:t.viewProps})}});class Rc{constructor(e=0,n=0,i=0,s=0){this.x=e,this.y=n,this.z=i,this.w=s}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(wn(e))return!1;const n=e.x,i=e.y,s=e.z,r=e.w;return!(typeof n!="number"||typeof i!="number"||typeof s!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const GI={toComponents:t=>t.getComponents(),fromComponents:t=>new Rc(...t)};function kW(t){return Rc.isObject(t)?new Rc(t.x,t.y,t.z,t.w):new Rc}function DW(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function OW(t,e){return new Sx({assembly:GI,components:[Yr(Object.assign(Object.assign({},t),t.x),e.x),Yr(Object.assign(Object.assign({},t),t.y),e.y),Yr(Object.assign(Object.assign({},t),t.z),e.z),Yr(Object.assign(Object.assign({},t),t.w),e.w)]})}Wi({id:"input-point4d",type:"input",accept:(t,e)=>{if(!Rc.isObject(t))return null;const n=Si(e,i=>Object.assign(Object.assign({},kd(i)),{readonly:i.optional.constant(!1),w:i.optional.custom(Ba),x:i.optional.custom(Ba),y:i.optional.custom(Ba),z:i.optional.custom(Ba)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>kW,constraint:t=>OW(t.params,t.initialValue),equals:Rc.equals,writer:t=>DW},controller:t=>{const e=t.value,n=t.constraint,i=[t.params.x,t.params.y,t.params.z,t.params.w];return new Mx(t.document,{assembly:GI,axes:e.rawValue.getComponents().map((s,r)=>{var a;return ix({constraint:n.components[r],initialValue:s,params:hl(t.params,(a=i[r])!==null&&a!==void 0?a:{})})}),parser:ja,value:e,viewProps:t.viewProps})}});function NW(t){const e=[],n=mx(t.options);return n&&e.push(n),new vf(e)}Wi({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=Si(e,i=>({readonly:i.optional.constant(!1),options:i.optional.custom(xv)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>vI,constraint:t=>NW(t.params),writer:t=>yf},controller:t=>{const e=t.document,n=t.value,i=t.constraint,s=i&&mp(i,_v);return s?new $c(e,{props:new Wt({options:s.values.value("options")}),value:n,viewProps:t.viewProps}):new px(e,{parser:r=>r,props:Wt.fromObject({formatter:R0}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof $c?new hx(t.controller):null}});const Sv={monitor:{defaultRows:3}},kM=$t("mll");class VW{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(kM()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("textarea");i.classList.add(kM("i")),i.style.height=`calc(var(${yI("containerUnitSize")}) * ${n.rows})`,i.readOnly=!0,n.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,i=[];this.value.rawValue.forEach(s=>{s!==void 0&&i.push(this.formatter_(s))}),e.textContent=i.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class Cx{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new VW(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}}const DM=$t("sgl");class FW{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(DM()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("input");i.classList.add(DM("i")),i.readOnly=!0,i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}}class Tx{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new FW(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}}Wi({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=Si(e,i=>({readonly:i.required.constant(!0),rows:i.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>pI},controller:t=>{var e;return t.value.rawValue.length===1?new Tx(t.document,{formatter:CM,value:t.value,viewProps:t.viewProps}):new Cx(t.document,{formatter:CM,rows:(e=t.params.rows)!==null&&e!==void 0?e:Sv.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});class BW extends rx{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const Ea=$t("grl");class UW{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ea()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const i=e.createElementNS(ur,"svg");i.classList.add(Ea("g")),i.style.height=`calc(var(${yI("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(i),this.svgElem_=i;const s=e.createElementNS(ur,"polyline");this.svgElem_.appendChild(s),this.lineElem_=s;const r=e.createElement("div");r.classList.add(Ea("t"),$t("tt")()),this.element.appendChild(r),this.tooltipElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const{clientWidth:e,clientHeight:n}=this.element,i=this.value.rawValue.length-1,s=this.props_.get("min"),r=this.props_.get("max"),a=[];this.value.rawValue.forEach((d,f)=>{if(d===void 0)return;const h=Kt(f,0,i,0,e),m=Kt(d,s,r,n,0);a.push([h,m].join(","))}),this.lineElem_.setAttributeNS(null,"points",a.join(" "));const o=this.tooltipElem_,l=this.value.rawValue[this.cursor_.rawValue];if(l===void 0){o.classList.remove(Ea("t","a"));return}const c=Kt(this.cursor_.rawValue,0,i,0,e),u=Kt(l,s,r,n,0);o.style.left=`${c}px`,o.style.top=`${u}px`,o.textContent=`${this.formatter_(l)}`,o.classList.contains(Ea("t","a"))||(o.classList.add(Ea("t","a"),Ea("t","in")),hp(o),o.classList.remove(Ea("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class WI{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=si(-1),this.view=new UW(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!ax(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const i=new Al(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return Cr(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return Tr(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const{clientWidth:n}=this.view.element;this.cursor_.rawValue=Math.floor(Kt(e.offsetX,0,n,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Kt(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function L0(t){return wn(t.format)?ns(2):t.format}function zW(t){var e;return t.value.rawValue.length===1?new Tx(t.document,{formatter:L0(t.params),value:t.value,viewProps:t.viewProps}):new Cx(t.document,{formatter:L0(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:Sv.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function HW(t){var e,n,i;return new WI(t.document,{formatter:L0(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:Sv.monitor.defaultRows,props:Wt.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(i=t.params.min)!==null&&i!==void 0?i:0}),value:t.value,viewProps:t.viewProps})}function OM(t){return t.view==="graph"}Wi({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=Si(e,i=>({format:i.optional.function,max:i.optional.number,min:i.optional.number,readonly:i.required.constant(!0),rows:i.optional.number,view:i.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>OM(t)?64:1,reader:t=>JP},controller:t=>OM(t.params)?HW(t):zW(t),api:t=>t.controller.valueController instanceof WI?new BW(t.controller):null});Wi({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=Si(e,i=>({multiline:i.optional.boolean,readonly:i.required.constant(!0),rows:i.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>vI},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new Cx(t.document,{formatter:R0,rows:(e=t.params.rows)!==null&&e!==void 0?e:Sv.monitor.defaultRows,value:n,viewProps:t.viewProps}):new Tx(t.document,{formatter:R0,value:n,viewProps:t.viewProps})}});new uI("4.0.5");function NM(t,e){if(e===_A)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===op||e===v_){let n=t.getIndex();if(n===null){const a=[],o=t.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,s=[];if(n)if(e===op)for(let a=1;a<=i;a++)s.push(n.getX(0)),s.push(n.getX(a)),s.push(n.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(s.push(n.getX(a)),s.push(n.getX(a+1)),s.push(n.getX(a+2))):(s.push(n.getX(a+2)),s.push(n.getX(a+1)),s.push(n.getX(a)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=t.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const $I=parseInt(eu.replace(/\D+/g,""));var GW=Object.defineProperty,WW=(t,e,n)=>e in t?GW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$W=(t,e,n)=>(WW(t,e+"",n),n);async function VM(t){const e=await t.arrayBuffer(),n=btoa(String.fromCharCode(...new Uint8Array(e)));return`data:${t.type||""};base64,${n}`}let zh,yy,oc,Hh;function by(t,e=1/0,n=null){yy||(yy=new Qa(2,2,1,1)),oc||(oc=new Gi({uniforms:{blitTexture:new mv(t)},vertexShader:`
        varying vec2 vUv;
        void main(){
            vUv = uv;
            gl_Position = vec4(position.xy * 1.0,0.,.999999);
        }
      `,fragmentShader:`
          uniform sampler2D blitTexture; 
          varying vec2 vUv;

          void main(){ 
              gl_FragColor = vec4(vUv.xy, 0, 1);
              
              #ifdef IS_SRGB
              gl_FragColor = LinearTosRGB( texture2D( blitTexture, vUv) );
              #else
              gl_FragColor = texture2D( blitTexture, vUv);
              #endif
          }
      `})),oc.uniforms.blitTexture.value=t,oc.defines.IS_SRGB="colorSpace"in t?t.colorSpace==="srgb":t.encoding===3001,oc.needsUpdate=!0,Hh||(Hh=new an(yy,oc),Hh.frustrumCulled=!1);const i=new tn,s=new Uc;s.add(Hh),n||(n=zh=new ad({antialias:!1})),n.setSize(Math.min(t.image.width,e),Math.min(t.image.height,e)),n.clear(),n.render(s,i);const r=new dn(n.domElement);return r.minFilter=t.minFilter,r.magFilter=t.magFilter,r.wrapS=t.wrapS,r.wrapT=t.wrapT,r.name=t.name,zh&&(zh.dispose(),zh=null),r}const FM={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class jI{constructor(){this.pluginCallbacks=[],this.register(function(e){return new t$(e)}),this.register(function(e){return new n$(e)}),this.register(function(e){return new r$(e)}),this.register(function(e){return new a$(e)}),this.register(function(e){return new o$(e)}),this.register(function(e){return new l$(e)}),this.register(function(e){return new i$(e)}),this.register(function(e){return new s$(e)}),this.register(function(e){return new c$(e)}),this.register(function(e){return new u$(e)}),this.register(function(e){return new d$(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,s){const r=new e$,a=[];for(let o=0,l=this.pluginCallbacks.length;o<l;o++)a.push(this.pluginCallbacks[o](r));r.setPlugins(a),r.write(e,n,s).catch(i)}parseAsync(e,n){const i=this;return new Promise(function(s,r){i.parse(e,s,r,n)})}}$W(jI,"Utils",{insertKeyframe:function(t,e){const n=t.getValueSize(),i=new t.TimeBufferType(t.times.length+1),s=new t.ValueBufferType(t.values.length+n),r=t.createInterpolant(new t.ValueBufferType(n));let a;if(t.times.length===0){i[0]=e;for(let o=0;o<n;o++)s[o]=0;a=0}else if(e<t.times[0]){if(Math.abs(t.times[0]-e)<.001)return 0;i[0]=e,i.set(t.times,1),s.set(r.evaluate(e),0),s.set(t.values,n),a=0}else if(e>t.times[t.times.length-1]){if(Math.abs(t.times[t.times.length-1]-e)<.001)return t.times.length-1;i[i.length-1]=e,i.set(t.times,0),s.set(t.values,0),s.set(r.evaluate(e),t.values.length),a=i.length-1}else for(let o=0;o<t.times.length;o++){if(Math.abs(t.times[o]-e)<.001)return o;if(t.times[o]<e&&t.times[o+1]>e){i.set(t.times.slice(0,o+1),0),i[o+1]=e,i.set(t.times.slice(o+1),o+2),s.set(t.values.slice(0,(o+1)*n),0),s.set(r.evaluate(e),(o+1)*n),s.set(t.values.slice((o+1)*n),(o+2)*n),a=o+1;break}}return t.times=i,t.values=s,a},mergeMorphTargetTracks:function(t,e){const n=[],i={},s=t.tracks;for(let r=0;r<s.length;++r){let a=s[r];const o=At.parseTrackName(a.name),l=At.findNode(e,o.nodeName);if(o.propertyName!=="morphTargetInfluences"||o.propertyIndex===void 0){n.push(a);continue}if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),a=a.clone(),a.setInterpolation(cl)}const c=l.morphTargetInfluences.length,u=l.morphTargetDictionary[o.propertyIndex];if(u===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+o.propertyIndex);let d;if(i[l.uuid]===void 0){d=a.clone();const h=new d.ValueBufferType(c*d.times.length);for(let m=0;m<d.times.length;m++)h[m*c+u]=d.values[m];d.name=(o.nodeName||"")+".morphTargetInfluences",d.values=h,i[l.uuid]=d,n.push(d);continue}const f=a.createInterpolant(new a.ValueBufferType(1));d=i[l.uuid];for(let h=0;h<d.times.length;h++)d.values[h*c+u]=f.evaluate(d.times[h]);for(let h=0;h<a.times.length;h++){const m=this.insertKeyframe(d,a.times[h]);d.values[m*c+u]=a.values[h]}}return t.tracks=n,t}});const Lt={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},_y="KHR_mesh_quantization",us={};us[Wn]=Lt.NEAREST;us[ef]=Lt.NEAREST_MIPMAP_NEAREST;us[Fa]=Lt.NEAREST_MIPMAP_LINEAR;us[In]=Lt.LINEAR;us[$o]=Lt.LINEAR_MIPMAP_NEAREST;us[cs]=Lt.LINEAR_MIPMAP_LINEAR;us[Ji]=Lt.CLAMP_TO_EDGE;us[ia]=Lt.REPEAT;us[rl]=Lt.MIRRORED_REPEAT;const BM={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},jW=new Be,UM=12,XW=1179937895,YW=2,zM=8,qW=1313821514,KW=5130562;function Hu(t,e){return t.length===e.length&&t.every(function(n,i){return n===e[i]})}function ZW(t){return new TextEncoder().encode(t).buffer}function JW(t){return Hu(t.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function QW(t,e,n){const i={min:new Array(t.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(t.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let s=e;s<e+n;s++)for(let r=0;r<t.itemSize;r++){let a;t.itemSize>4?a=t.array[s*t.itemSize+r]:(r===0?a=t.getX(s):r===1?a=t.getY(s):r===2?a=t.getZ(s):r===3&&(a=t.getW(s)),t.normalized===!0&&(a=$a.normalize(a,t.array))),i.min[r]=Math.min(i.min[r],a),i.max[r]=Math.max(i.max[r],a)}return i}function XI(t){return Math.ceil(t/4)*4}function xy(t,e=0){const n=XI(t.byteLength);if(n!==t.byteLength){const i=new Uint8Array(n);if(i.set(new Uint8Array(t)),e!==0)for(let s=t.byteLength;s<n;s++)i[s]=e;return i.buffer}return t}function HM(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function GM(t,e){if(t.toBlob!==void 0)return new Promise(i=>t.toBlob(i,e));let n;return e==="image/jpeg"?n=.92:e==="image/webp"&&(n=.8),t.convertToBlob({type:e,quality:n})}class e${constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,n,i={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},i),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);const s=this,r=s.buffers,a=s.json;i=s.options;const o=s.extensionsUsed,l=s.extensionsRequired,c=new Blob(r,{type:"application/octet-stream"}),u=Object.keys(o),d=Object.keys(l);u.length>0&&(a.extensionsUsed=u),d.length>0&&(a.extensionsRequired=d),a.buffers&&a.buffers.length>0&&(a.buffers[0].byteLength=c.size),i.binary===!0?c.arrayBuffer().then(f=>{const h=xy(f),m=new DataView(new ArrayBuffer(zM));m.setUint32(0,h.byteLength,!0),m.setUint32(4,KW,!0);const g=xy(ZW(JSON.stringify(a)),32),p=new DataView(new ArrayBuffer(zM));p.setUint32(0,g.byteLength,!0),p.setUint32(4,qW,!0);const v=new ArrayBuffer(UM),b=new DataView(v);b.setUint32(0,XW,!0),b.setUint32(4,YW,!0);const _=UM+p.byteLength+g.byteLength+m.byteLength+h.byteLength;b.setUint32(8,_,!0),new Blob([v,p,g,m,h],{type:"application/octet-stream"}).arrayBuffer().then(n)}):a.buffers&&a.buffers.length>0?VM(c).then(f=>{a.buffers[0].uri=f,n(a)}):n(a)}serializeUserData(e,n){if(Object.keys(e.userData).length===0)return;const i=this.options,s=this.extensionsUsed;try{const r=JSON.parse(JSON.stringify(e.userData));if(i.includeCustomExtensions&&r.gltfExtensions){n.extensions===void 0&&(n.extensions={});for(const a in r.gltfExtensions)n.extensions[a]=r.gltfExtensions[a],s[a]=!0;delete r.gltfExtensions}Object.keys(r).length>0&&(n.extras=r)}catch(r){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+r.message)}}getUID(e,n=!1){if(this.uids.has(e)===!1){const i=new Map;i.set(!0,this.uid++),i.set(!1,this.uid++),this.uids.set(e,i)}return this.uids.get(e).get(n)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const n=new G;for(let i=0,s=e.count;i<s;i++)if(Math.abs(n.fromBufferAttribute(e,i).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const n=this.cache;if(n.attributesNormalized.has(e))return n.attributesNormalized.get(e);const i=e.clone(),s=new G;for(let r=0,a=i.count;r<a;r++)s.fromBufferAttribute(i,r),s.x===0&&s.y===0&&s.z===0?s.setX(1):s.normalize(),i.setXYZ(r,s.x,s.y,s.z);return n.attributesNormalized.set(e,i),i}applyTextureTransform(e,n){let i=!1;const s={};(n.offset.x!==0||n.offset.y!==0)&&(s.offset=n.offset.toArray(),i=!0),n.rotation!==0&&(s.rotation=n.rotation,i=!0),(n.repeat.x!==1||n.repeat.y!==1)&&(s.scale=n.repeat.toArray(),i=!0),i&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=s,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(e,n){if(e===n)return e;function i(f){return("colorSpace"in f?f.colorSpace==="srgb":f.encoding===3001)?function(h){return h<.04045?h*.0773993808:Math.pow(h*.9478672986+.0521327014,2.4)}:function(h){return h}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),e instanceof Yo&&(e=by(e)),n instanceof Yo&&(n=by(n));const s=e?e.image:null,r=n?n.image:null,a=Math.max(s?s.width:0,r?r.width:0),o=Math.max(s?s.height:0,r?r.height:0),l=HM();l.width=a,l.height=o;const c=l.getContext("2d");c.fillStyle="#00ffff",c.fillRect(0,0,a,o);const u=c.getImageData(0,0,a,o);if(s){c.drawImage(s,0,0,a,o);const f=i(e),h=c.getImageData(0,0,a,o).data;for(let m=2;m<h.length;m+=4)u.data[m]=f(h[m]/256)*256}if(r){c.drawImage(r,0,0,a,o);const f=i(n),h=c.getImageData(0,0,a,o).data;for(let m=1;m<h.length;m+=4)u.data[m]=f(h[m]/256)*256}c.putImageData(u,0,0);const d=(e||n).clone();return d.source=new dn(l).source,"colorSpace"in d?d.colorSpace="":d.encoding=3e3,d.channel=(e||n).channel,e&&n&&e.channel!==n.channel&&console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match."),d}processBuffer(e){const n=this.json,i=this.buffers;return n.buffers||(n.buffers=[{byteLength:0}]),i.push(e),0}processBufferView(e,n,i,s,r){const a=this.json;a.bufferViews||(a.bufferViews=[]);let o;switch(n){case Lt.BYTE:case Lt.UNSIGNED_BYTE:o=1;break;case Lt.SHORT:case Lt.UNSIGNED_SHORT:o=2;break;default:o=4}const l=XI(s*e.itemSize*o),c=new DataView(new ArrayBuffer(l));let u=0;for(let f=i;f<i+s;f++)for(let h=0;h<e.itemSize;h++){let m;e.itemSize>4?m=e.array[f*e.itemSize+h]:(h===0?m=e.getX(f):h===1?m=e.getY(f):h===2?m=e.getZ(f):h===3&&(m=e.getW(f)),e.normalized===!0&&(m=$a.normalize(m,e.array))),n===Lt.FLOAT?c.setFloat32(u,m,!0):n===Lt.INT?c.setInt32(u,m,!0):n===Lt.UNSIGNED_INT?c.setUint32(u,m,!0):n===Lt.SHORT?c.setInt16(u,m,!0):n===Lt.UNSIGNED_SHORT?c.setUint16(u,m,!0):n===Lt.BYTE?c.setInt8(u,m):n===Lt.UNSIGNED_BYTE&&c.setUint8(u,m),u+=o}const d={buffer:this.processBuffer(c.buffer),byteOffset:this.byteOffset,byteLength:l};return r!==void 0&&(d.target=r),r===Lt.ARRAY_BUFFER&&(d.byteStride=e.itemSize*o),this.byteOffset+=l,a.bufferViews.push(d),{id:a.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const n=this,i=n.json;return i.bufferViews||(i.bufferViews=[]),e.arrayBuffer().then(s=>{const r=xy(s),a={buffer:n.processBuffer(r),byteOffset:n.byteOffset,byteLength:r.byteLength};return n.byteOffset+=r.byteLength,i.bufferViews.push(a)-1})}processAccessor(e,n,i,s){const r=this.json,a={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"};let o;if(e.array.constructor===Float32Array)o=Lt.FLOAT;else if(e.array.constructor===Int32Array)o=Lt.INT;else if(e.array.constructor===Uint32Array)o=Lt.UNSIGNED_INT;else if(e.array.constructor===Int16Array)o=Lt.SHORT;else if(e.array.constructor===Uint16Array)o=Lt.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)o=Lt.BYTE;else if(e.array.constructor===Uint8Array)o=Lt.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+e.array.constructor.name);if(i===void 0&&(i=0),s===void 0&&(s=e.count),s===0)return null;const l=QW(e,i,s);let c;n!==void 0&&(c=e===n.index?Lt.ELEMENT_ARRAY_BUFFER:Lt.ARRAY_BUFFER);const u=this.processBufferView(e,o,i,s,c),d={bufferView:u.id,byteOffset:u.byteOffset,componentType:o,count:s,max:l.max,min:l.min,type:a[e.itemSize]};return e.normalized===!0&&(d.normalized=!0),r.accessors||(r.accessors=[]),r.accessors.push(d)-1}processImage(e,n,i,s="image/png"){if(e!==null){const r=this,a=r.cache,o=r.json,l=r.options,c=r.pending;a.images.has(e)||a.images.set(e,{});const u=a.images.get(e),d=s+":flipY/"+i.toString();if(u[d]!==void 0)return u[d];o.images||(o.images=[]);const f={mimeType:s},h=HM();h.width=Math.min(e.width,l.maxTextureSize),h.height=Math.min(e.height,l.maxTextureSize);const m=h.getContext("2d");if(i===!0&&(m.translate(0,h.height),m.scale(1,-1)),e.data!==void 0){n!==gi&&console.error("GLTFExporter: Only RGBAFormat is supported.",n),(e.width>l.maxTextureSize||e.height>l.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const p=new Uint8ClampedArray(e.height*e.width*4);for(let v=0;v<p.length;v+=4)p[v+0]=e.data[v+0],p[v+1]=e.data[v+1],p[v+2]=e.data[v+2],p[v+3]=e.data[v+3];m.putImageData(new ImageData(p,e.width,e.height),0,0)}else m.drawImage(e,0,0,h.width,h.height);l.binary===!0?c.push(GM(h,s).then(p=>r.processBufferViewImage(p)).then(p=>{f.bufferView=p})):h.toDataURL!==void 0?f.uri=h.toDataURL(s):c.push(GM(h,s).then(VM).then(p=>{f.uri=p}));const g=o.images.push(f)-1;return u[d]=g,g}else throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(e){const n=this.json;n.samplers||(n.samplers=[]);const i={magFilter:us[e.magFilter],minFilter:us[e.minFilter],wrapS:us[e.wrapS],wrapT:us[e.wrapT]};return n.samplers.push(i)-1}processTexture(e){const n=this.options,i=this.cache,s=this.json;if(i.textures.has(e))return i.textures.get(e);s.textures||(s.textures=[]),e instanceof Yo&&(e=by(e,n.maxTextureSize));let r=e.userData.mimeType;r==="image/webp"&&(r="image/png");const a={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(a.name=e.name),this._invokeAll(function(l){l.writeTexture&&l.writeTexture(e,a)});const o=s.textures.push(a)-1;return i.textures.set(e,o),o}processMaterial(e){const n=this.cache,i=this.json;if(n.materials.has(e))return n.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;i.materials||(i.materials=[]);const s={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const r=e.color.toArray().concat([e.opacity]);if(Hu(r,[1,1,1,1])||(s.pbrMetallicRoughness.baseColorFactor=r),e.isMeshStandardMaterial?(s.pbrMetallicRoughness.metallicFactor=e.metalness,s.pbrMetallicRoughness.roughnessFactor=e.roughness):(s.pbrMetallicRoughness.metallicFactor=.5,s.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){const o=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),l={index:this.processTexture(o),channel:o.channel};this.applyTextureTransform(l,o),s.pbrMetallicRoughness.metallicRoughnessTexture=l}if(e.map){const o={index:this.processTexture(e.map),texCoord:e.map.channel};this.applyTextureTransform(o,e.map),s.pbrMetallicRoughness.baseColorTexture=o}if(e.emissive){const o=e.emissive;if(Math.max(o.r,o.g,o.b)>0&&(s.emissiveFactor=e.emissive.toArray()),e.emissiveMap){const l={index:this.processTexture(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(l,e.emissiveMap),s.emissiveTexture=l}}if(e.normalMap){const o={index:this.processTexture(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(o.scale=e.normalScale.x),this.applyTextureTransform(o,e.normalMap),s.normalTexture=o}if(e.aoMap){const o={index:this.processTexture(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(o.strength=e.aoMapIntensity),this.applyTextureTransform(o,e.aoMap),s.occlusionTexture=o}e.transparent?s.alphaMode="BLEND":e.alphaTest>0&&(s.alphaMode="MASK",s.alphaCutoff=e.alphaTest),e.side===Oi&&(s.doubleSided=!0),e.name!==""&&(s.name=e.name),this.serializeUserData(e,s),this._invokeAll(function(o){o.writeMaterial&&o.writeMaterial(e,s)});const a=i.materials.push(s)-1;return n.materials.set(e,a),a}processMesh(e){const n=this.cache,i=this.json,s=[e.geometry.uuid];if(Array.isArray(e.material))for(let _=0,w=e.material.length;_<w;_++)s.push(e.material[_].uuid);else s.push(e.material.uuid);const r=s.join(":");if(n.meshes.has(r))return n.meshes.get(r);const a=e.geometry;let o;e.isLineSegments?o=Lt.LINES:e.isLineLoop?o=Lt.LINE_LOOP:e.isLine?o=Lt.LINE_STRIP:e.isPoints?o=Lt.POINTS:o=e.material.wireframe?Lt.LINES:Lt.TRIANGLES;const l={},c={},u=[],d=[],f={...$I>=152?{uv:"TEXCOORD_0",uv1:"TEXCOORD_1",uv2:"TEXCOORD_2",uv3:"TEXCOORD_3"}:{uv:"TEXCOORD_0",uv2:"TEXCOORD_1"},color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},h=a.getAttribute("normal");h!==void 0&&!this.isNormalizedNormalAttribute(h)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),a.setAttribute("normal",this.createNormalizedNormalAttribute(h)));let m=null;for(let _ in a.attributes){if(_.slice(0,5)==="morph")continue;const w=a.attributes[_];if(_=f[_]||_.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(_)||(_="_"+_),n.attributes.has(this.getUID(w))){c[_]=n.attributes.get(this.getUID(w));continue}m=null;const T=w.array;_==="JOINTS_0"&&!(T instanceof Uint16Array)&&!(T instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),m=new Pt(new Uint16Array(T),w.itemSize,w.normalized));const C=this.processAccessor(m||w,a);C!==null&&(_.startsWith("_")||this.detectMeshQuantization(_,w),c[_]=C,n.attributes.set(this.getUID(w),C))}if(h!==void 0&&a.setAttribute("normal",h),Object.keys(c).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const _=[],w=[],T={};if(e.morphTargetDictionary!==void 0)for(const C in e.morphTargetDictionary)T[e.morphTargetDictionary[C]]=C;for(let C=0;C<e.morphTargetInfluences.length;++C){const A={};let S=!1;for(const x in a.morphAttributes){if(x!=="position"&&x!=="normal"){S||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),S=!0);continue}const y=a.morphAttributes[x][C],E=x.toUpperCase(),P=a.attributes[x];if(n.attributes.has(this.getUID(y,!0))){A[E]=n.attributes.get(this.getUID(y,!0));continue}const D=y.clone();if(!a.morphTargetsRelative)for(let N=0,W=y.count;N<W;N++)for(let B=0;B<y.itemSize;B++)B===0&&D.setX(N,y.getX(N)-P.getX(N)),B===1&&D.setY(N,y.getY(N)-P.getY(N)),B===2&&D.setZ(N,y.getZ(N)-P.getZ(N)),B===3&&D.setW(N,y.getW(N)-P.getW(N));A[E]=this.processAccessor(D,a),n.attributes.set(this.getUID(P,!0),A[E])}d.push(A),_.push(e.morphTargetInfluences[C]),e.morphTargetDictionary!==void 0&&w.push(T[C])}l.weights=_,w.length>0&&(l.extras={},l.extras.targetNames=w)}const g=Array.isArray(e.material);if(g&&a.groups.length===0)return null;const p=g?e.material:[e.material],v=g?a.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let _=0,w=v.length;_<w;_++){const T={mode:o,attributes:c};if(this.serializeUserData(a,T),d.length>0&&(T.targets=d),a.index!==null){let A=this.getUID(a.index);(v[_].start!==void 0||v[_].count!==void 0)&&(A+=":"+v[_].start+":"+v[_].count),n.attributes.has(A)?T.indices=n.attributes.get(A):(T.indices=this.processAccessor(a.index,a,v[_].start,v[_].count),n.attributes.set(A,T.indices)),T.indices===null&&delete T.indices}const C=this.processMaterial(p[v[_].materialIndex]);C!==null&&(T.material=C),u.push(T)}l.primitives=u,i.meshes||(i.meshes=[]),this._invokeAll(function(_){_.writeMesh&&_.writeMesh(e,l)});const b=i.meshes.push(l)-1;return n.meshes.set(r,b),b}detectMeshQuantization(e,n){if(this.extensionsUsed[_y])return;let i;switch(n.array.constructor){case Int8Array:i="byte";break;case Uint8Array:i="unsigned byte";break;case Int16Array:i="short";break;case Uint16Array:i="unsigned short";break;default:return}n.normalized&&(i+=" normalized");const s=e.split("_",1)[0];FM[s]&&FM[s].includes(i)&&(this.extensionsUsed[_y]=!0,this.extensionsRequired[_y]=!0)}processCamera(e){const n=this.json;n.cameras||(n.cameras=[]);const i=e.isOrthographicCamera,s={type:i?"orthographic":"perspective"};return i?s.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:s.perspective={aspectRatio:e.aspect,yfov:$a.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(s.name=e.type),n.cameras.push(s)-1}processAnimation(e,n){const i=this.json,s=this.nodeMap;i.animations||(i.animations=[]),e=jI.Utils.mergeMorphTargetTracks(e.clone(),n);const r=e.tracks,a=[],o=[];for(let l=0;l<r.length;++l){const c=r[l],u=At.parseTrackName(c.name);let d=At.findNode(n,u.nodeName);const f=BM[u.propertyName];if(u.objectName==="bones"&&(d.isSkinnedMesh===!0?d=d.skeleton.getBoneByName(u.objectIndex):d=void 0),!d||!f)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',c.name),null;const h=1;let m=c.values.length/c.times.length;f===BM.morphTargetInfluences&&(m/=d.morphTargetInfluences.length);let g;c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(g="CUBICSPLINE",m/=3):c.getInterpolation()===ll?g="STEP":g="LINEAR",o.push({input:this.processAccessor(new Pt(c.times,h)),output:this.processAccessor(new Pt(c.values,m)),interpolation:g}),a.push({sampler:o.length-1,target:{node:s.get(d),path:f}})}return i.animations.push({name:e.name||"clip_"+i.animations.length,samplers:o,channels:a}),i.animations.length-1}processSkin(e){const n=this.json,i=this.nodeMap,s=n.nodes[i.get(e)],r=e.skeleton;if(r===void 0)return null;const a=e.skeleton.bones[0];if(a===void 0)return null;const o=[],l=new Float32Array(r.bones.length*16),c=new at;for(let u=0;u<r.bones.length;++u)o.push(i.get(r.bones[u])),c.copy(r.boneInverses[u]),c.multiply(e.bindMatrix).toArray(l,u*16);return n.skins===void 0&&(n.skins=[]),n.skins.push({inverseBindMatrices:this.processAccessor(new Pt(l,16)),joints:o,skeleton:i.get(a)}),s.skin=n.skins.length-1}processNode(e){const n=this.json,i=this.options,s=this.nodeMap;n.nodes||(n.nodes=[]);const r={};if(i.trs){const o=e.quaternion.toArray(),l=e.position.toArray(),c=e.scale.toArray();Hu(o,[0,0,0,1])||(r.rotation=o),Hu(l,[0,0,0])||(r.translation=l),Hu(c,[1,1,1])||(r.scale=c)}else e.matrixAutoUpdate&&e.updateMatrix(),JW(e.matrix)===!1&&(r.matrix=e.matrix.elements);if(e.name!==""&&(r.name=String(e.name)),this.serializeUserData(e,r),e.isMesh||e.isLine||e.isPoints){const o=this.processMesh(e);o!==null&&(r.mesh=o)}else e.isCamera&&(r.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const o=[];for(let l=0,c=e.children.length;l<c;l++){const u=e.children[l];if(u.visible||i.onlyVisible===!1){const d=this.processNode(u);d!==null&&o.push(d)}}o.length>0&&(r.children=o)}this._invokeAll(function(o){o.writeNode&&o.writeNode(e,r)});const a=n.nodes.push(r)-1;return s.set(e,a),a}processScene(e){const n=this.json,i=this.options;n.scenes||(n.scenes=[],n.scene=0);const s={};e.name!==""&&(s.name=e.name),n.scenes.push(s);const r=[];for(let a=0,o=e.children.length;a<o;a++){const l=e.children[a];if(l.visible||i.onlyVisible===!1){const c=this.processNode(l);c!==null&&r.push(c)}}r.length>0&&(s.nodes=r),this.serializeUserData(e,s)}processObjects(e){const n=new Uc;n.name="AuxScene";for(let i=0;i<e.length;i++)n.children.push(e[i]);this.processScene(n)}processInput(e){const n=this.options;e=e instanceof Array?e:[e],this._invokeAll(function(s){s.beforeParse&&s.beforeParse(e)});const i=[];for(let s=0;s<e.length;s++)e[s]instanceof Uc?this.processScene(e[s]):i.push(e[s]);i.length>0&&this.processObjects(i);for(let s=0;s<this.skins.length;++s)this.processSkin(this.skins[s]);for(let s=0;s<n.animations.length;++s)this.processAnimation(n.animations[s],e[0]);this._invokeAll(function(s){s.afterParse&&s.afterParse(e)})}_invokeAll(e){for(let n=0,i=this.plugins.length;n<i;n++)e(this.plugins[n])}}class t${constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,n){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const i=this.writer,s=i.json,r=i.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),r[this.name]||(s.extensions=s.extensions||{},s.extensions[this.name]={lights:[]},r[this.name]=!0);const o=s.extensions[this.name].lights;o.push(a),n.extensions=n.extensions||{},n.extensions[this.name]={light:o.length-1}}}let n$=class{constructor(t){this.writer=t,this.name="KHR_materials_unlit"}writeMaterial(t,e){if(!t.isMeshBasicMaterial)return;const n=this.writer.extensionsUsed;e.extensions=e.extensions||{},e.extensions[this.name]={},n[this.name]=!0,e.pbrMetallicRoughness.metallicFactor=0,e.pbrMetallicRoughness.roughnessFactor=.9}},i$=class{constructor(t){this.writer=t,this.name="KHR_materials_clearcoat"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.clearcoat===0)return;const n=this.writer,i=n.extensionsUsed,s={};if(s.clearcoatFactor=t.clearcoat,t.clearcoatMap){const r={index:n.processTexture(t.clearcoatMap),texCoord:t.clearcoatMap.channel};n.applyTextureTransform(r,t.clearcoatMap),s.clearcoatTexture=r}if(s.clearcoatRoughnessFactor=t.clearcoatRoughness,t.clearcoatRoughnessMap){const r={index:n.processTexture(t.clearcoatRoughnessMap),texCoord:t.clearcoatRoughnessMap.channel};n.applyTextureTransform(r,t.clearcoatRoughnessMap),s.clearcoatRoughnessTexture=r}if(t.clearcoatNormalMap){const r={index:n.processTexture(t.clearcoatNormalMap),texCoord:t.clearcoatNormalMap.channel};n.applyTextureTransform(r,t.clearcoatNormalMap),s.clearcoatNormalTexture=r}e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},s$=class{constructor(t){this.writer=t,this.name="KHR_materials_iridescence"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.iridescence===0)return;const n=this.writer,i=n.extensionsUsed,s={};if(s.iridescenceFactor=t.iridescence,t.iridescenceMap){const r={index:n.processTexture(t.iridescenceMap),texCoord:t.iridescenceMap.channel};n.applyTextureTransform(r,t.iridescenceMap),s.iridescenceTexture=r}if(s.iridescenceIor=t.iridescenceIOR,s.iridescenceThicknessMinimum=t.iridescenceThicknessRange[0],s.iridescenceThicknessMaximum=t.iridescenceThicknessRange[1],t.iridescenceThicknessMap){const r={index:n.processTexture(t.iridescenceThicknessMap),texCoord:t.iridescenceThicknessMap.channel};n.applyTextureTransform(r,t.iridescenceThicknessMap),s.iridescenceThicknessTexture=r}e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},r$=class{constructor(t){this.writer=t,this.name="KHR_materials_transmission"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const n=this.writer,i=n.extensionsUsed,s={};if(s.transmissionFactor=t.transmission,t.transmissionMap){const r={index:n.processTexture(t.transmissionMap),texCoord:t.transmissionMap.channel};n.applyTextureTransform(r,t.transmissionMap),s.transmissionTexture=r}e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},a$=class{constructor(t){this.writer=t,this.name="KHR_materials_volume"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const n=this.writer,i=n.extensionsUsed,s={};if(s.thicknessFactor=t.thickness,t.thicknessMap){const r={index:n.processTexture(t.thicknessMap),texCoord:t.thicknessMap.channel};n.applyTextureTransform(r,t.thicknessMap),s.thicknessTexture=r}s.attenuationDistance=t.attenuationDistance,s.attenuationColor=t.attenuationColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},o$=class{constructor(t){this.writer=t,this.name="KHR_materials_ior"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.ior===1.5)return;const n=this.writer.extensionsUsed,i={};i.ior=t.ior,e.extensions=e.extensions||{},e.extensions[this.name]=i,n[this.name]=!0}},l$=class{constructor(t){this.writer=t,this.name="KHR_materials_specular"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.specularIntensity===1&&t.specularColor.equals(jW)&&!t.specularIntensityMap&&!t.specularColorTexture)return;const n=this.writer,i=n.extensionsUsed,s={};if(t.specularIntensityMap){const r={index:n.processTexture(t.specularIntensityMap),texCoord:t.specularIntensityMap.channel};n.applyTextureTransform(r,t.specularIntensityMap),s.specularTexture=r}if(t.specularColorMap){const r={index:n.processTexture(t.specularColorMap),texCoord:t.specularColorMap.channel};n.applyTextureTransform(r,t.specularColorMap),s.specularColorTexture=r}s.specularFactor=t.specularIntensity,s.specularColorFactor=t.specularColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},c$=class{constructor(t){this.writer=t,this.name="KHR_materials_sheen"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.sheen==0)return;const n=this.writer,i=n.extensionsUsed,s={};if(t.sheenRoughnessMap){const r={index:n.processTexture(t.sheenRoughnessMap),texCoord:t.sheenRoughnessMap.channel};n.applyTextureTransform(r,t.sheenRoughnessMap),s.sheenRoughnessTexture=r}if(t.sheenColorMap){const r={index:n.processTexture(t.sheenColorMap),texCoord:t.sheenColorMap.channel};n.applyTextureTransform(r,t.sheenColorMap),s.sheenColorTexture=r}s.sheenRoughnessFactor=t.sheenRoughness,s.sheenColorFactor=t.sheenColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},u$=class{constructor(t){this.writer=t,this.name="KHR_materials_anisotropy"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.anisotropy==0)return;const n=this.writer,i=n.extensionsUsed,s={};if(t.anisotropyMap){const r={index:n.processTexture(t.anisotropyMap)};n.applyTextureTransform(r,t.anisotropyMap),s.anisotropyTexture=r}s.anisotropyStrength=t.anisotropy,s.anisotropyRotation=t.anisotropyRotation,e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},d$=class{constructor(t){this.writer=t,this.name="KHR_materials_emissive_strength"}writeMaterial(t,e){if(!t.isMeshStandardMaterial||t.emissiveIntensity===1)return;const n=this.writer.extensionsUsed,i={};i.emissiveStrength=t.emissiveIntensity,e.extensions=e.extensions||{},e.extensions[this.name]=i,n[this.name]=!0}};var _f=Uint8Array,YI=Uint16Array,f$=Uint32Array,h$=new _f([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m$=new _f([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qI=function(t,e){for(var n=new YI(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var s=new f$(n[30]),i=1;i<30;++i)for(var r=n[i];r<n[i+1];++r)s[r]=r-n[i]<<5|i;return[n,s]},KI=qI(h$,2),p$=KI[0],v$=KI[1];p$[28]=258,v$[258]=28;qI(m$,0);var g$=new YI(32768);for(var hn=0;hn<32768;++hn){var Aa=(hn&43690)>>>1|(hn&21845)<<1;Aa=(Aa&52428)>>>2|(Aa&13107)<<2,Aa=(Aa&61680)>>>4|(Aa&3855)<<4,g$[hn]=((Aa&65280)>>>8|(Aa&255)<<8)>>>1}var Mv=new _f(288);for(var hn=0;hn<144;++hn)Mv[hn]=8;for(var hn=144;hn<256;++hn)Mv[hn]=9;for(var hn=256;hn<280;++hn)Mv[hn]=7;for(var hn=280;hn<288;++hn)Mv[hn]=8;var y$=new _f(32);for(var hn=0;hn<32;++hn)y$[hn]=5;var b$=new _f(0),_$=typeof TextDecoder<"u"&&new TextDecoder,x$=0;try{_$.decode(b$,{stream:!0}),x$=1}catch{}new Vi;new G;new Hi(0,0,0,"YXZ");new G;var w$=Object.defineProperty,S$=(t,e,n)=>e in t?w$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mt=(t,e,n)=>(S$(t,typeof e!="symbol"?e+"":e,n),n);const Gh=new Cl,WM=new or,M$=Math.cos(70*(Math.PI/180)),$M=(t,e)=>(t%e+e)%e;class C$ extends Ks{constructor(e,n){super(),mt(this,"object"),mt(this,"domElement"),mt(this,"enabled",!0),mt(this,"target",new G),mt(this,"minDistance",0),mt(this,"maxDistance",1/0),mt(this,"minZoom",0),mt(this,"maxZoom",1/0),mt(this,"minPolarAngle",0),mt(this,"maxPolarAngle",Math.PI),mt(this,"minAzimuthAngle",-1/0),mt(this,"maxAzimuthAngle",1/0),mt(this,"enableDamping",!1),mt(this,"dampingFactor",.05),mt(this,"enableZoom",!0),mt(this,"zoomSpeed",1),mt(this,"enableRotate",!0),mt(this,"rotateSpeed",1),mt(this,"enablePan",!0),mt(this,"panSpeed",1),mt(this,"screenSpacePanning",!0),mt(this,"keyPanSpeed",7),mt(this,"zoomToCursor",!1),mt(this,"autoRotate",!1),mt(this,"autoRotateSpeed",2),mt(this,"reverseOrbit",!1),mt(this,"reverseHorizontalOrbit",!1),mt(this,"reverseVerticalOrbit",!1),mt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),mt(this,"mouseButtons",{LEFT:Io.ROTATE,MIDDLE:Io.DOLLY,RIGHT:Io.PAN}),mt(this,"touches",{ONE:zr.ROTATE,TWO:zr.DOLLY_PAN}),mt(this,"target0"),mt(this,"position0"),mt(this,"zoom0"),mt(this,"_domElementKeyEvents",null),mt(this,"getPolarAngle"),mt(this,"getAzimuthalAngle"),mt(this,"setPolarAngle"),mt(this,"setAzimuthalAngle"),mt(this,"getDistance"),mt(this,"listenToKeyEvents"),mt(this,"stopListenToKeyEvents"),mt(this,"saveState"),mt(this,"reset"),mt(this,"update"),mt(this,"connect"),mt(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=ie=>{let Ee=$M(ie,2*Math.PI),Xe=u.phi;Xe<0&&(Xe+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let te=Math.abs(Ee-Xe);2*Math.PI-te<te&&(Ee<Xe?Ee+=2*Math.PI:Xe+=2*Math.PI),d.phi=Ee-Xe,i.update()},this.setAzimuthalAngle=ie=>{let Ee=$M(ie,2*Math.PI),Xe=u.theta;Xe<0&&(Xe+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let te=Math.abs(Ee-Xe);2*Math.PI-te<te&&(Ee<Xe?Ee+=2*Math.PI:Xe+=2*Math.PI),d.theta=Ee-Xe,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",Le),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Le),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(s),i.update(),l=o.NONE},this.update=(()=>{const ie=new G,Ee=new G(0,1,0),Xe=new ei().setFromUnitVectors(e.up,Ee),te=Xe.clone().invert(),Fe=new G,we=new ei,Re=2*Math.PI;return function(){const Ye=i.object.position;Xe.setFromUnitVectors(e.up,Ee),te.copy(Xe).invert(),ie.copy(Ye).sub(i.target),ie.applyQuaternion(Xe),u.setFromVector3(ie),i.autoRotate&&l===o.NONE&&N(P()),i.enableDamping?(u.theta+=d.theta*i.dampingFactor,u.phi+=d.phi*i.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let Ge=i.minAzimuthAngle,ut=i.maxAzimuthAngle;isFinite(Ge)&&isFinite(ut)&&(Ge<-Math.PI?Ge+=Re:Ge>Math.PI&&(Ge-=Re),ut<-Math.PI?ut+=Re:ut>Math.PI&&(ut-=Re),Ge<=ut?u.theta=Math.max(Ge,Math.min(ut,u.theta)):u.theta=u.theta>(Ge+ut)/2?Math.max(Ge,u.theta):Math.min(ut,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(h,i.dampingFactor):i.target.add(h),i.zoomToCursor&&x||i.object.isOrthographicCamera?u.radius=ce(u.radius):u.radius=ce(u.radius*f),ie.setFromSpherical(u),ie.applyQuaternion(te),Ye.copy(i.target).add(ie),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,h.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),h.set(0,0,0));let nn=!1;if(i.zoomToCursor&&x){let Cn=null;if(i.object instanceof tn&&i.object.isPerspectiveCamera){const kt=ie.length();Cn=ce(kt*f);const fi=kt-Cn;i.object.position.addScaledVector(A,fi),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const kt=new G(S.x,S.y,0);kt.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/f)),i.object.updateProjectionMatrix(),nn=!0;const fi=new G(S.x,S.y,0);fi.unproject(i.object),i.object.position.sub(fi).add(kt),i.object.updateMatrixWorld(),Cn=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Cn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Cn).add(i.object.position):(Gh.origin.copy(i.object.position),Gh.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Gh.direction))<M$?e.lookAt(i.target):(WM.setFromNormalAndCoplanarPoint(i.object.up,i.target),Gh.intersectPlane(WM,i.target))))}else i.object instanceof Es&&i.object.isOrthographicCamera&&(nn=f!==1,nn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/f)),i.object.updateProjectionMatrix()));return f=1,x=!1,nn||Fe.distanceToSquared(i.object.position)>c||8*(1-we.dot(i.object.quaternion))>c?(i.dispatchEvent(s),Fe.copy(i.object.position),we.copy(i.object.quaternion),nn=!1,!0):!1}})(),this.connect=ie=>{ie===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=ie,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",De),i.domElement.addEventListener("pointerdown",V),i.domElement.addEventListener("pointercancel",le),i.domElement.addEventListener("wheel",Oe,{passive:!0})},this.dispose=()=>{var ie,Ee,Xe,te,Fe,we;i.domElement&&(i.domElement.style.touchAction="auto"),(ie=i.domElement)==null||ie.removeEventListener("contextmenu",De),(Ee=i.domElement)==null||Ee.removeEventListener("pointerdown",V),(Xe=i.domElement)==null||Xe.removeEventListener("pointercancel",le),(te=i.domElement)==null||te.removeEventListener("wheel",Oe),(Fe=i.domElement)==null||Fe.ownerDocument.removeEventListener("pointermove",O),(we=i.domElement)==null||we.ownerDocument.removeEventListener("pointerup",K),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Le)};const i=this,s={type:"change"},r={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new _0,d=new _0;let f=1;const h=new G,m=new Ae,g=new Ae,p=new Ae,v=new Ae,b=new Ae,_=new Ae,w=new Ae,T=new Ae,C=new Ae,A=new G,S=new Ae;let x=!1;const y=[],E={};function P(){return 2*Math.PI/60/60*i.autoRotateSpeed}function D(){return Math.pow(.95,i.zoomSpeed)}function N(ie){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=ie:d.theta-=ie}function W(ie){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=ie:d.phi-=ie}const B=(()=>{const ie=new G;return function(Ee,Xe){ie.setFromMatrixColumn(Xe,0),ie.multiplyScalar(-Ee),h.add(ie)}})(),q=(()=>{const ie=new G;return function(Ee,Xe){i.screenSpacePanning===!0?ie.setFromMatrixColumn(Xe,1):(ie.setFromMatrixColumn(Xe,0),ie.crossVectors(i.object.up,ie)),ie.multiplyScalar(Ee),h.add(ie)}})(),j=(()=>{const ie=new G;return function(Ee,Xe){const te=i.domElement;if(te&&i.object instanceof tn&&i.object.isPerspectiveCamera){const Fe=i.object.position;ie.copy(Fe).sub(i.target);let we=ie.length();we*=Math.tan(i.object.fov/2*Math.PI/180),B(2*Ee*we/te.clientHeight,i.object.matrix),q(2*Xe*we/te.clientHeight,i.object.matrix)}else te&&i.object instanceof Es&&i.object.isOrthographicCamera?(B(Ee*(i.object.right-i.object.left)/i.object.zoom/te.clientWidth,i.object.matrix),q(Xe*(i.object.top-i.object.bottom)/i.object.zoom/te.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function Q(ie){i.object instanceof tn&&i.object.isPerspectiveCamera||i.object instanceof Es&&i.object.isOrthographicCamera?f/=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Z(ie){i.object instanceof tn&&i.object.isPerspectiveCamera||i.object instanceof Es&&i.object.isOrthographicCamera?f*=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function X(ie){if(!i.zoomToCursor||!i.domElement)return;x=!0;const Ee=i.domElement.getBoundingClientRect(),Xe=ie.clientX-Ee.left,te=ie.clientY-Ee.top,Fe=Ee.width,we=Ee.height;S.x=Xe/Fe*2-1,S.y=-(te/we)*2+1,A.set(S.x,S.y,1).unproject(i.object).sub(i.object.position).normalize()}function ce(ie){return Math.max(i.minDistance,Math.min(i.maxDistance,ie))}function Me(ie){m.set(ie.clientX,ie.clientY)}function ee(ie){X(ie),w.set(ie.clientX,ie.clientY)}function pe(ie){v.set(ie.clientX,ie.clientY)}function ne(ie){g.set(ie.clientX,ie.clientY),p.subVectors(g,m).multiplyScalar(i.rotateSpeed);const Ee=i.domElement;Ee&&(N(2*Math.PI*p.x/Ee.clientHeight),W(2*Math.PI*p.y/Ee.clientHeight)),m.copy(g),i.update()}function de(ie){T.set(ie.clientX,ie.clientY),C.subVectors(T,w),C.y>0?Q(D()):C.y<0&&Z(D()),w.copy(T),i.update()}function ae(ie){b.set(ie.clientX,ie.clientY),_.subVectors(b,v).multiplyScalar(i.panSpeed),j(_.x,_.y),v.copy(b),i.update()}function F(ie){X(ie),ie.deltaY<0?Z(D()):ie.deltaY>0&&Q(D()),i.update()}function U(ie){let Ee=!1;switch(ie.code){case i.keys.UP:j(0,i.keyPanSpeed),Ee=!0;break;case i.keys.BOTTOM:j(0,-i.keyPanSpeed),Ee=!0;break;case i.keys.LEFT:j(i.keyPanSpeed,0),Ee=!0;break;case i.keys.RIGHT:j(-i.keyPanSpeed,0),Ee=!0;break}Ee&&(ie.preventDefault(),i.update())}function z(){if(y.length==1)m.set(y[0].pageX,y[0].pageY);else{const ie=.5*(y[0].pageX+y[1].pageX),Ee=.5*(y[0].pageY+y[1].pageY);m.set(ie,Ee)}}function k(){if(y.length==1)v.set(y[0].pageX,y[0].pageY);else{const ie=.5*(y[0].pageX+y[1].pageX),Ee=.5*(y[0].pageY+y[1].pageY);v.set(ie,Ee)}}function R(){const ie=y[0].pageX-y[1].pageX,Ee=y[0].pageY-y[1].pageY,Xe=Math.sqrt(ie*ie+Ee*Ee);w.set(0,Xe)}function I(){i.enableZoom&&R(),i.enablePan&&k()}function Y(){i.enableZoom&&R(),i.enableRotate&&z()}function $(ie){if(y.length==1)g.set(ie.pageX,ie.pageY);else{const Xe=He(ie),te=.5*(ie.pageX+Xe.x),Fe=.5*(ie.pageY+Xe.y);g.set(te,Fe)}p.subVectors(g,m).multiplyScalar(i.rotateSpeed);const Ee=i.domElement;Ee&&(N(2*Math.PI*p.x/Ee.clientHeight),W(2*Math.PI*p.y/Ee.clientHeight)),m.copy(g)}function J(ie){if(y.length==1)b.set(ie.pageX,ie.pageY);else{const Ee=He(ie),Xe=.5*(ie.pageX+Ee.x),te=.5*(ie.pageY+Ee.y);b.set(Xe,te)}_.subVectors(b,v).multiplyScalar(i.panSpeed),j(_.x,_.y),v.copy(b)}function se(ie){const Ee=He(ie),Xe=ie.pageX-Ee.x,te=ie.pageY-Ee.y,Fe=Math.sqrt(Xe*Xe+te*te);T.set(0,Fe),C.set(0,Math.pow(T.y/w.y,i.zoomSpeed)),Q(C.y),w.copy(T)}function me(ie){i.enableZoom&&se(ie),i.enablePan&&J(ie)}function re(ie){i.enableZoom&&se(ie),i.enableRotate&&$(ie)}function V(ie){var Ee,Xe;i.enabled!==!1&&(y.length===0&&((Ee=i.domElement)==null||Ee.ownerDocument.addEventListener("pointermove",O),(Xe=i.domElement)==null||Xe.ownerDocument.addEventListener("pointerup",K)),je(ie),ie.pointerType==="touch"?ze(ie):ye(ie))}function O(ie){i.enabled!==!1&&(ie.pointerType==="touch"?ot(ie):ve(ie))}function K(ie){var Ee,Xe,te;st(ie),y.length===0&&((Ee=i.domElement)==null||Ee.releasePointerCapture(ie.pointerId),(Xe=i.domElement)==null||Xe.ownerDocument.removeEventListener("pointermove",O),(te=i.domElement)==null||te.ownerDocument.removeEventListener("pointerup",K)),i.dispatchEvent(a),l=o.NONE}function le(ie){st(ie)}function ye(ie){let Ee;switch(ie.button){case 0:Ee=i.mouseButtons.LEFT;break;case 1:Ee=i.mouseButtons.MIDDLE;break;case 2:Ee=i.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case Io.DOLLY:if(i.enableZoom===!1)return;ee(ie),l=o.DOLLY;break;case Io.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(i.enablePan===!1)return;pe(ie),l=o.PAN}else{if(i.enableRotate===!1)return;Me(ie),l=o.ROTATE}break;case Io.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(i.enableRotate===!1)return;Me(ie),l=o.ROTATE}else{if(i.enablePan===!1)return;pe(ie),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(r)}function ve(ie){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;ne(ie);break;case o.DOLLY:if(i.enableZoom===!1)return;de(ie);break;case o.PAN:if(i.enablePan===!1)return;ae(ie);break}}function Oe(ie){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(i.dispatchEvent(r),F(ie),i.dispatchEvent(a))}function Le(ie){i.enabled===!1||i.enablePan===!1||U(ie)}function ze(ie){switch(ct(ie),y.length){case 1:switch(i.touches.ONE){case zr.ROTATE:if(i.enableRotate===!1)return;z(),l=o.TOUCH_ROTATE;break;case zr.PAN:if(i.enablePan===!1)return;k(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case zr.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;I(),l=o.TOUCH_DOLLY_PAN;break;case zr.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Y(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(r)}function ot(ie){switch(ct(ie),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;$(ie),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;J(ie),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;me(ie),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;re(ie),i.update();break;default:l=o.NONE}}function De(ie){i.enabled!==!1&&ie.preventDefault()}function je(ie){y.push(ie)}function st(ie){delete E[ie.pointerId];for(let Ee=0;Ee<y.length;Ee++)if(y[Ee].pointerId==ie.pointerId){y.splice(Ee,1);return}}function ct(ie){let Ee=E[ie.pointerId];Ee===void 0&&(Ee=new Ae,E[ie.pointerId]=Ee),Ee.set(ie.pageX,ie.pageY)}function He(ie){const Ee=ie.pointerId===y[0].pointerId?y[1]:y[0];return E[Ee.pointerId]}n!==void 0&&this.connect(n),this.update()}}class T$ extends wi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new R$(n)}),this.register(function(n){return new B$(n)}),this.register(function(n){return new U$(n)}),this.register(function(n){return new z$(n)}),this.register(function(n){return new k$(n)}),this.register(function(n){return new D$(n)}),this.register(function(n){return new O$(n)}),this.register(function(n){return new N$(n)}),this.register(function(n){return new I$(n)}),this.register(function(n){return new V$(n)}),this.register(function(n){return new L$(n)}),this.register(function(n){return new F$(n)}),this.register(function(n){return new A$(n)}),this.register(function(n){return new H$(n)}),this.register(function(n){return new G$(n)})}load(e,n,i,s){const r=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=pr.extractUrlBase(e),this.manager.itemStart(e);const o=function(c){s?s(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},l=new ms(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{r.parse(c,a,function(u){n(u),r.manager.itemEnd(e)},o)}catch(u){o(u)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,s){let r;const a={},o={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(pr.decodeText(new Uint8Array(e.slice(0,4)))===ZI){try{a[Dt.KHR_BINARY_GLTF]=new W$(e)}catch(c){s&&s(c);return}r=JSON.parse(a[Dt.KHR_BINARY_GLTF].content)}else r=JSON.parse(pr.decodeText(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new i9(r,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);o[u.name]=u,a[u.name]=!0}if(r.extensionsUsed)for(let c=0;c<r.extensionsUsed.length;++c){const u=r.extensionsUsed[c],d=r.extensionsRequired||[];switch(u){case Dt.KHR_MATERIALS_UNLIT:a[u]=new P$;break;case Dt.KHR_DRACO_MESH_COMPRESSION:a[u]=new $$(r,this.dracoLoader);break;case Dt.KHR_TEXTURE_TRANSFORM:a[u]=new j$;break;case Dt.KHR_MESH_QUANTIZATION:a[u]=new X$;break;default:d.indexOf(u)>=0&&o[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(i,s)}parseAsync(e,n){const i=this;return new Promise(function(s,r){i.parse(e,n,s,r)})}}function E$(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Dt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class A${constructor(e){this.parser=e,this.name=Dt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,s=n.length;i<s;i++){const r=n[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let s=n.cache.get(i);if(s)return s;const r=n.json,a=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let o;const l=new Be(16777215);a.color!==void 0&&l.fromArray(a.color);const c=a.range!==void 0?a.range:0;switch(a.type){case"directional":o=new H_(l),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new z_(l),o.distance=c;break;case"spot":o=new U_(l),o.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle!==void 0?a.spot.innerConeAngle:0,a.spot.outerConeAngle=a.spot.outerConeAngle!==void 0?a.spot.outerConeAngle:Math.PI/4,o.angle=a.spot.outerConeAngle,o.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return o.position.set(0,0,0),o.decay=2,Oa(o,a),a.intensity!==void 0&&(o.intensity=a.intensity),o.name=n.createUniqueName(a.name||"light_"+e),s=Promise.resolve(o),n.cache.add(i,s),s}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],r=(s.extensions&&s.extensions[this.name]||{}).light;return r===void 0?null:this._loadLight(r).then(function(a){return i._getNodeRef(n.cache,r,a)})}}class P${constructor(){this.name=Dt.KHR_MATERIALS_UNLIT}getMaterialType(){return Fi}extendParams(e,n,i){const s=[];e.color=new Be(1,1,1),e.opacity=1;const r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",r.baseColorTexture,3001))}return Promise.all(s)}}class I${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class R${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Sr}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&r.push(i.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ae(o,o)}return Promise.all(r)}}class L${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Sr}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&r.push(i.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(r)}}class k${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Sr}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];n.sheenColor=new Be(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=s.extensions[this.name];return a.sheenColorFactor!==void 0&&n.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&r.push(i.assignTexture(n,"sheenColorMap",a.sheenColorTexture,3001)),a.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class D${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Sr}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&r.push(i.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class O${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Sr}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&r.push(i.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return n.attenuationColor=new Be(o[0],o[1],o[2]),Promise.all(r)}}class N${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Sr}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class V${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Sr}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&r.push(i.assignTexture(n,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return n.specularColor=new Be(o[0],o[1],o[2]),a.specularColorTexture!==void 0&&r.push(i.assignTexture(n,"specularColorMap",a.specularColorTexture,3001)),Promise.all(r)}}class F${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Sr}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&r.push(i.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(r)}}class B${constructor(e){this.parser=e,this.name=Dt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,r.source,a)}}class U${constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[n])return null;const a=r.extensions[n],o=s.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class z${constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[n])return null;const a=r.extensions[n],o=s.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class H${constructor(e){this.name=Dt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(o){const l=s.byteOffset||0,c=s.byteLength||0,u=s.count,d=s.byteStride,f=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,d,f,s.mode,s.filter).then(function(h){return h.buffer}):a.ready.then(function(){const h=new ArrayBuffer(u*d);return a.decodeGltfBuffer(new Uint8Array(h),u,d,f,s.mode,s.filter),h})})}else return null}}class G${constructor(e){this.name=Dt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=n.meshes[i.mesh];for(const l of s.primitives)if(l.mode!==Cs.TRIANGLES&&l.mode!==Cs.TRIANGLE_STRIP&&l.mode!==Cs.TRIANGLE_FAN&&l.mode!==void 0)return null;const r=i.extensions[this.name].attributes,a=[],o={};for(const l in r)a.push(this.parser.getDependency("accessor",r[l]).then(c=>(o[l]=c,o[l])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(l=>{const c=l.pop(),u=c.isGroup?c.children:[c],d=l[0].count,f=[];for(const h of u){const m=new at,g=new G,p=new ei,v=new G(1,1,1),b=new S_(h.geometry,h.material,d);for(let _=0;_<d;_++)o.TRANSLATION&&g.fromBufferAttribute(o.TRANSLATION,_),o.ROTATION&&p.fromBufferAttribute(o.ROTATION,_),o.SCALE&&v.fromBufferAttribute(o.SCALE,_),b.setMatrixAt(_,m.compose(g,p,v));for(const _ in o)_!=="TRANSLATION"&&_!=="ROTATION"&&_!=="SCALE"&&h.geometry.setAttribute(_,o[_]);Nt.prototype.copy.call(b,h),this.parser.assignFinalMaterial(b),f.push(b)}return c.isGroup?(c.clear(),c.add(...f),c):f[0]}))}}const ZI="glTF",Vu=12,jM={JSON:1313821514,BIN:5130562};class W${constructor(e){this.name=Dt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Vu);if(this.header={magic:pr.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==ZI)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Vu,s=new DataView(e,Vu);let r=0;for(;r<i;){const a=s.getUint32(r,!0);r+=4;const o=s.getUint32(r,!0);if(r+=4,o===jM.JSON){const l=new Uint8Array(e,Vu+r,a);this.content=pr.decodeText(l)}else if(o===jM.BIN){const l=Vu+r;this.body=e.slice(l,l+a)}r+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class $${constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Dt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const u in a){const d=k0[u]||u.toLowerCase();o[d]=a[u]}for(const u in e.attributes){const d=k0[u]||u.toLowerCase();if(a[u]!==void 0){const f=i.accessors[e.attributes[u]],h=Lc[f.componentType];c[d]=h.name,l[d]=f.normalized===!0}}return n.getDependency("bufferView",r).then(function(u){return new Promise(function(d){s.decodeDracoFile(u,function(f){for(const h in f.attributes){const m=f.attributes[h],g=l[h];g!==void 0&&(m.normalized=g)}d(f)},o,c)})})}}class j${constructor(){this.name=Dt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class X${constructor(){this.name=Dt.KHR_MESH_QUANTIZATION}}class JI extends su{constructor(e,n,i,s){super(e,n,i,s)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let a=0;a!==s;a++)n[a]=i[r+a];return n}interpolate_(e,n,i,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=s-n,d=(i-n)/u,f=d*d,h=f*d,m=e*c,g=m-c,p=-2*h+3*f,v=h-f,b=1-p,_=v-f+d;for(let w=0;w!==o;w++){const T=a[g+w+o],C=a[g+w+l]*u,A=a[m+w+o],S=a[m+w]*u;r[w]=b*T+_*C+p*A+v*S}return r}}const Y$=new ei;class q$ extends JI{interpolate_(e,n,i,s){const r=super.interpolate_(e,n,i,s);return Y$.fromArray(r).normalize().toArray(r),r}}const Cs={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Lc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},XM={9728:Wn,9729:In,9984:ef,9985:$o,9986:Fa,9987:cs},YM={33071:Ji,33648:rl,10497:ia},wy={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},k0={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...$I>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Pa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},K$={CUBICSPLINE:void 0,LINEAR:cl,STEP:ll},Sy={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Z$(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new ff({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:vr})),t.DefaultMaterial}function Mo(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function Oa(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function J$(t,e,n){let i=!1,s=!1,r=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(s=!0),d.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(t);const a=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const f=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;a.push(f)}if(s){const f=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;o.push(f)}if(r){const f=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return i&&(t.morphAttributes.position=u),s&&(t.morphAttributes.normal=d),r&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function Q$(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,s=n.length;i<s;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function e9(t){let e;const n=t.extensions&&t.extensions[Dt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+My(n.attributes):e=t.indices+":"+My(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,s=t.targets.length;i<s;i++)e+=":"+My(t.targets[i]);return e}function My(t){let e="";const n=Object.keys(t).sort();for(let i=0,s=n.length;i<s;i++)e+=n[i]+":"+t[n[i]]+";";return e}function D0(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function t9(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const n9=new at;class i9{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new E$,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,r=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&r<98?this.textureLoader=new fP(this.options.manager):this.textureLoader=new _P(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ms(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][s.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:s.asset,parser:i,userData:{}};Mo(r,o,s),Oa(o,s),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){e(o)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=n.length;s<r;s++){const a=n[s].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const a=e[s];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const s=i.clone(),r=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,u]of a.children.entries())r(u,o.children[c])};return r(i,s),s.name+="_instance_"+e.uses[n]++,s}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const s=e(n[i]);if(s)return s}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let s=0;s<n.length;s++){const r=e(n[s]);r&&i.push(r)}return i}getDependency(e,n){const i=e+":"+n;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(n);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(n)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":s=this.loadAccessor(n);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":s=this.loadBuffer(n);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":s=this.loadSkin(n);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":s=this.loadCamera(n);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,n)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(s.map(function(r,a){return i.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Dt.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,a){i.load(pr.resolveURL(n.uri,s.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const s=n.byteLength||0,r=n.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(e){const n=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const a=wy[s.type],o=Lc[s.componentType],l=s.normalized===!0,c=new o(s.count*a);return Promise.resolve(new Pt(c,a,l))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(a){const o=a[0],l=wy[s.type],c=Lc[s.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=s.byteOffset||0,h=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,m=s.normalized===!0;let g,p;if(h&&h!==d){const v=Math.floor(f/h),b="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+v+":"+s.count;let _=n.cache.get(b);_||(g=new c(o,v*h,s.count*h/u),_=new nu(g,h/u),n.cache.add(b,_)),p=new gr(_,l,f%h/u,m)}else o===null?g=new c(s.count*l):g=new c(o,f,s.count*l),p=new Pt(g,l,m);if(s.sparse!==void 0){const v=wy.SCALAR,b=Lc[s.sparse.indices.componentType],_=s.sparse.indices.byteOffset||0,w=s.sparse.values.byteOffset||0,T=new b(a[1],_,s.sparse.count*v),C=new c(a[2],w,s.sparse.count*l);o!==null&&(p=new Pt(p.array.slice(),p.itemSize,p.normalized));for(let A=0,S=T.length;A<S;A++){const x=T[A];if(p.setX(x,C[A*l]),l>=2&&p.setY(x,C[A*l+1]),l>=3&&p.setZ(x,C[A*l+2]),l>=4&&p.setW(x,C[A*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p})}loadTexture(e){const n=this.json,i=this.options,s=n.textures[e].source,r=n.images[s];let a=this.textureLoader;if(r.uri){const o=i.manager.getHandler(r.uri);o!==null&&(a=o)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,i){const s=this,r=this.json,a=r.textures[e],o=r.images[n],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(u){u.flipY=!1,u.name=a.name||o.name||"",u.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(u.name=o.uri);const d=(r.samplers||{})[a.sampler]||{};return u.magFilter=XM[d.magFilter]||In,u.minFilter=XM[d.minFilter]||cs,u.wrapS=YM[d.wrapS]||ia,u.wrapT=YM[d.wrapT]||ia,s.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,s=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const a=s.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=i.getDependency("bufferView",a.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:a.mimeType});return l=o.createObjectURL(f),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let m=f;n.isImageBitmapLoader===!0&&(m=function(g){const p=new dn(g);p.needsUpdate=!0,f(p)}),n.load(pr.resolveURL(d,r.path),m,void 0,h)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),d.userData.mimeType=a.mimeType||t9(a.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,i,s){const r=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),r.extensions[Dt.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[Dt.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=r.associations.get(a);a=r.extensions[Dt.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),r.associations.set(a,l)}}return s!==void 0&&("colorSpace"in a?a.colorSpace=s===3001?"srgb":"srgb-linear":a.encoding=s),e[n]=a,a})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const s=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new Jp,$n.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new xi,$n.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(s||r||a){let o="ClonedMaterial:"+i.uuid+":";s&&(o+="derivative-tangents:"),r&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),r&&(l.vertexColors=!0),a&&(l.flatShading=!0),s&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return ff}loadMaterial(e){const n=this,i=this.json,s=this.extensions,r=i.materials[e];let a;const o={},l=r.extensions||{},c=[];if(l[Dt.KHR_MATERIALS_UNLIT]){const d=s[Dt.KHR_MATERIALS_UNLIT];a=d.getMaterialType(),c.push(d.extendParams(o,r,n))}else{const d=r.pbrMetallicRoughness||{};if(o.color=new Be(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;o.color.fromArray(f),o.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(o,"map",d.baseColorTexture,3001)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),a=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,o)})))}r.doubleSided===!0&&(o.side=Oi);const u=r.alphaMode||Sy.OPAQUE;if(u===Sy.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===Sy.MASK&&(o.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&a!==Fi&&(c.push(n.assignTexture(o,"normalMap",r.normalTexture)),o.normalScale=new Ae(1,1),r.normalTexture.scale!==void 0)){const d=r.normalTexture.scale;o.normalScale.set(d,d)}return r.occlusionTexture!==void 0&&a!==Fi&&(c.push(n.assignTexture(o,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&a!==Fi&&(o.emissive=new Be().fromArray(r.emissiveFactor)),r.emissiveTexture!==void 0&&a!==Fi&&c.push(n.assignTexture(o,"emissiveMap",r.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new a(o);return r.name&&(d.name=r.name),Oa(d,r),n.associations.set(d,{materials:e}),r.extensions&&Mo(s,d,r),d})}createUniqueName(e){const n=At.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,s=this.primitiveCache;function r(o){return i[Dt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(l){return qM(l,o,n)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=e9(c),d=s[u];if(d)a.push(d.promise);else{let f;c.extensions&&c.extensions[Dt.KHR_DRACO_MESH_COMPRESSION]?f=r(c):f=qM(new xt,c,n),s[u]={primitive:c,promise:f},a.push(f)}}return Promise.all(a)}loadMesh(e){const n=this,i=this.json,s=this.extensions,r=i.meshes[e],a=r.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].material===void 0?Z$(this.cache):this.getDependency("material",a[l].material);o.push(u)}return o.push(n.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,m=u.length;h<m;h++){const g=u[h],p=a[h];let v;const b=c[h];if(p.mode===Cs.TRIANGLES||p.mode===Cs.TRIANGLE_STRIP||p.mode===Cs.TRIANGLE_FAN||p.mode===void 0)v=r.isSkinnedMesh===!0?new w_(g,b):new an(g,b),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),p.mode===Cs.TRIANGLE_STRIP?v.geometry=NM(v.geometry,v_):p.mode===Cs.TRIANGLE_FAN&&(v.geometry=NM(v.geometry,op));else if(p.mode===Cs.LINES)v=new Zs(g,b);else if(p.mode===Cs.LINE_STRIP)v=new ra(g,b);else if(p.mode===Cs.LINE_LOOP)v=new M_(g,b);else if(p.mode===Cs.POINTS)v=new C_(g,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);Object.keys(v.geometry.morphAttributes).length>0&&Q$(v,r),v.name=n.createUniqueName(r.name||"mesh_"+e),Oa(v,r),p.extensions&&Mo(s,v,p),n.assignFinalMaterial(v),d.push(v)}for(let h=0,m=d.length;h<m;h++)n.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return r.extensions&&Mo(s,d[0],r),d[0];const f=new jr;r.extensions&&Mo(s,f,r),n.associations.set(f,{meshes:e});for(let h=0,m=d.length;h<m;h++)f.add(d[h]);return f})}loadCamera(e){let n;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new tn($a.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(n=new Es(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),Oa(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let s=0,r=n.joints.length;s<r;s++)i.push(this._loadNodeShallow(n.joints[s]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),a=s,o=[],l=[];for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d){o.push(d);const f=new at;r!==null&&f.fromArray(r.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new of(o,l)})}loadAnimation(e){const n=this.json.animations[e],i=n.name?n.name:"animation_"+e,s=[],r=[],a=[],o=[],l=[];for(let c=0,u=n.channels.length;c<u;c++){const d=n.channels[c],f=n.samplers[d.sampler],h=d.target,m=h.node,g=n.parameters!==void 0?n.parameters[f.input]:f.input,p=n.parameters!==void 0?n.parameters[f.output]:f.output;h.node!==void 0&&(s.push(this.getDependency("node",m)),r.push(this.getDependency("accessor",g)),a.push(this.getDependency("accessor",p)),o.push(f),l.push(h))}return Promise.all([Promise.all(s),Promise.all(r),Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],h=c[3],m=c[4],g=[];for(let p=0,v=u.length;p<v;p++){const b=u[p],_=d[p],w=f[p],T=h[p],C=m[p];if(b===void 0)continue;b.updateMatrix();let A;switch(Pa[C.path]){case Pa.weights:A=Hc;break;case Pa.rotation:A=fl;break;case Pa.position:case Pa.scale:default:A=Gc;break}const S=b.name?b.name:b.uuid,x=T.interpolation!==void 0?K$[T.interpolation]:cl,y=[];Pa[C.path]===Pa.weights?b.traverse(function(P){P.morphTargetInfluences&&y.push(P.name?P.name:P.uuid)}):y.push(S);let E=w.array;if(w.normalized){const P=D0(E.constructor),D=new Float32Array(E.length);for(let N=0,W=E.length;N<W;N++)D[N]=E[N]*P;E=D}for(let P=0,D=y.length;P<D;P++){const N=new A(y[P]+"."+Pa[C.path],_.array,E,x);T.interpolation==="CUBICSPLINE"&&(N.createInterpolant=function(W){const B=this instanceof fl?q$:JI;return new B(this.times,this.values,this.getValueSize()/3,W)},N.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(N)}}return new Wc(i,void 0,g)})}createNodeMesh(e){const n=this.json,i=this,s=n.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const a=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=s.weights.length;l<c;l++)o.morphTargetInfluences[l]=s.weights[l]}),a})}loadNode(e){const n=this.json,i=this,s=n.nodes[e],r=i._loadNodeShallow(e),a=[],o=s.children||[];for(let c=0,u=o.length;c<u;c++)a.push(i.getDependency("node",o[c]));const l=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(a),l]).then(function(c){const u=c[0],d=c[1],f=c[2];f!==null&&u.traverse(function(h){h.isSkinnedMesh&&h.bind(f,n9)});for(let h=0,m=d.length;h<m;h++)u.add(d[h]);return u})}_loadNodeShallow(e){const n=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=n.nodes[e],a=r.name?s.createUniqueName(r.name):"",o=[],l=s._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),r.camera!==void 0&&o.push(s.getDependency("camera",r.camera).then(function(c){return s._getNodeRef(s.cameraCache,r.camera,c)})),s._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let u;if(r.isBone===!0?u=new Zp:c.length>1?u=new jr:c.length===1?u=c[0]:u=new Nt,u!==c[0])for(let d=0,f=c.length;d<f;d++)u.add(c[d]);if(r.name&&(u.userData.name=r.name,u.name=a),Oa(u,r),r.extensions&&Mo(i,u,r),r.matrix!==void 0){const d=new at;d.fromArray(r.matrix),u.applyMatrix4(d)}else r.translation!==void 0&&u.position.fromArray(r.translation),r.rotation!==void 0&&u.quaternion.fromArray(r.rotation),r.scale!==void 0&&u.scale.fromArray(r.scale);return s.associations.has(u)||s.associations.set(u,{}),s.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],s=this,r=new jr;i.name&&(r.name=s.createUniqueName(i.name)),Oa(r,i),i.extensions&&Mo(n,r,i);const a=i.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(s.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let u=0,d=l.length;u<d;u++)r.add(l[u]);const c=u=>{const d=new Map;for(const[f,h]of s.associations)(f instanceof $n||f instanceof dn)&&d.set(f,h);return u.traverse(f=>{const h=s.associations.get(f);h!=null&&d.set(f,h)}),d};return s.associations=c(r),r})}}function s9(t,e,n){const i=e.attributes,s=new ti;if(i.POSITION!==void 0){const o=n.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(s.set(new G(l[0],l[1],l[2]),new G(c[0],c[1],c[2])),o.normalized){const u=D0(Lc[o.componentType]);s.min.multiplyScalar(u),s.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const o=new G,l=new G;for(let c=0,u=r.length;c<u;c++){const d=r[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],h=f.min,m=f.max;if(h!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(m[2]))),f.normalized){const g=D0(Lc[f.componentType]);l.multiplyScalar(g)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(o)}t.boundingBox=s;const a=new ni;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,t.boundingSphere=a}function qM(t,e,n){const i=e.attributes,s=[];function r(a,o){return n.getDependency("accessor",a).then(function(l){t.setAttribute(o,l)})}for(const a in i){const o=k0[a]||a.toLowerCase();o in t.attributes||s.push(r(i[a],o))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(o){t.setIndex(o)});s.push(a)}return Oa(t,e),s9(t,e,n),Promise.all(s).then(function(){return e.targets!==void 0?J$(t,e.targets,n):t})}new G;new Hi;new G;var r9=Object.defineProperty,a9=(t,e,n)=>e in t?r9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ex=(t,e,n)=>(a9(t,typeof e!="symbol"?e+"":e,n),n);class QI{constructor(e){Ex(this,"data"),this.data=e}generateShapes(e,n=100,i){const s=[],r={letterSpacing:0,lineHeight:1,...i},a=o9(e,n,this.data,r);for(let o=0,l=a.length;o<l;o++)Array.prototype.push.apply(s,a[o].toShapes(!1));return s}}Ex(QI,"isFont");Ex(QI,"type");function o9(t,e,n,i){const s=Array.from(t),r=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[];let l=0,c=0;for(let u=0;u<s.length;u++){const d=s[u];if(d===`
`)l=0,c-=a*i.lineHeight;else{const f=l9(d,r,l,c,n);f&&(l+=f.offsetX+i.letterSpacing,o.push(f.path))}}return o}function l9(t,e,n,i,s){const r=s.glyphs[t]||s.glyphs["?"];if(!r){console.error('THREE.Font: character "'+t+'" does not exists in font family '+s.familyName+".");return}const a=new PP;let o,l,c,u,d,f,h,m;if(r.o){const g=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let p=0,v=g.length;p<v;)switch(g[p++]){case"m":o=parseInt(g[p++])*e+n,l=parseInt(g[p++])*e+i,a.moveTo(o,l);break;case"l":o=parseInt(g[p++])*e+n,l=parseInt(g[p++])*e+i,a.lineTo(o,l);break;case"q":c=parseInt(g[p++])*e+n,u=parseInt(g[p++])*e+i,d=parseInt(g[p++])*e+n,f=parseInt(g[p++])*e+i,a.quadraticCurveTo(d,f,c,u);break;case"b":c=parseInt(g[p++])*e+n,u=parseInt(g[p++])*e+i,d=parseInt(g[p++])*e+n,f=parseInt(g[p++])*e+i,h=parseInt(g[p++])*e+n,m=parseInt(g[p++])*e+i,a.bezierCurveTo(d,f,h,m,c,u);break}}return{offsetX:r.ha*e,path:a}}const Cy=new WeakMap;class c9 extends wi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,s){const r=new ms(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,a=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,o).then(n).catch(s)},i,s)}decodeDracoFile(e,n,i,s){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,r).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const i=JSON.stringify(n);if(Cy.has(e)){const l=Cy.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const r=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(r,a).then(l=>(s=l,new Promise((c,u)=>{s._callbacks[r]={resolve:c,reject:u},s.postMessage({type:"decode",id:r,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{s&&r&&this._releaseTask(s,r)}),Cy.set(e,{key:i,promise:o}),o}_createGeometry(e){const n=new xt;e.index&&n.setIndex(new Pt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],r=s.name,a=s.array,o=s.itemSize;n.setAttribute(r,new Pt(a,o))}return n}_loadLibrary(e,n){const i=new ms(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((s,r)=>{i.load(e,s,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const s=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=u9.toString(),a=["/* draco decoder */",s,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(r){const a=r.data;switch(a.type){case"decode":s._callbacks[a.id].resolve(a);break;case"error":s._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,r){return s._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function u9(){let t,e;onmessage=function(a){const o=a.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,h=new d.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{const m=n(d,f,h,c),g=m.attributes.map(p=>p.array.buffer);m.index&&g.push(m.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:m},g)}catch(m){console.error(m),self.postMessage({type:"error",id:o.id,error:m.message})}finally{d.destroy(h),d.destroy(f)}});break}};function n(a,o,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,h;const m=o.GetEncodedGeometryType(l);if(m===a.TRIANGULAR_MESH)f=new a.Mesh,h=o.DecodeBufferToMesh(l,f);else if(m===a.POINT_CLOUD)f=new a.PointCloud,h=o.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const g={index:null,attributes:[]};for(const p in u){const v=self[d[p]];let b,_;if(c.useUniqueIDs)_=u[p],b=o.GetAttributeByUniqueId(f,_);else{if(_=o.GetAttributeId(f,a[u[p]]),_===-1)continue;b=o.GetAttribute(f,_)}g.attributes.push(s(a,o,f,p,v,b))}return m===a.TRIANGULAR_MESH&&(g.index=i(a,o,f)),a.destroy(f),g}function i(a,o,l){const c=l.num_faces()*3,u=c*4,d=a._malloc(u);o.GetTrianglesUInt32Array(l,u,d);const f=new Uint32Array(a.HEAPF32.buffer,d,c).slice();return a._free(d),{array:f,itemSize:1}}function s(a,o,l,c,u,d){const f=d.num_components(),h=l.num_points()*f,m=h*u.BYTES_PER_ELEMENT,g=r(a,u),p=a._malloc(m);o.GetAttributeDataArrayForAllPoints(l,d,g,m,p);const v=new u(a.HEAPF32.buffer,p,h).slice();return a._free(p),{name:c,array:v,itemSize:f}}function r(a,o){switch(o){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}const nr=$s({__name:"Levioso",props:{speed:{default:1},rotationFactor:{default:1},floatFactor:{default:1},range:{default:()=>[-.1,.1]}},setup(t,{expose:e}){const n=t,i=ke();e({value:i});{const s=Math.random()*1e4,{onLoop:r}=au();let a=s;r(({delta:o})=>{if(!i.value)return;a+=o*n.speed;const l=a*.25,c=i.value;c.rotation.x=Math.cos(l)*.125*n.rotationFactor,c.rotation.y=Math.sin(l)*.125*n.rotationFactor,c.rotation.z=Math.sin(l)*.05*n.rotationFactor,c.position.y=$a.mapLinear(Math.sin(l),-1,1,n.range[0],n.range[1])*n.floatFactor})}return(s,r)=>(it(),qt("TresGroup",Se(s.$attrs,{ref_key:"groupRef",ref:i}),[qb(s.$slots,"default")],16))}});class Dd extends an{constructor(e,n={}){super(e),this.isReflector=!0,this.type="Reflector",this.camera=new tn;const i=this,s=n.color!==void 0?new Be(n.color):new Be(8355711),r=n.textureWidth||512,a=n.textureHeight||512,o=n.clipBias||0,l=n.shader||Dd.ReflectorShader,c=n.multisample!==void 0?n.multisample:4,u=new or,d=new G,f=new G,h=new G,m=new at,g=new G(0,0,-1),p=new Et,v=new G,b=new G,_=new Et,w=new at,T=this.camera,C=new js(r,a,{samples:c,type:Ml}),A=new Gi({name:l.name!==void 0?l.name:"unspecified",uniforms:sf.clone(l.uniforms),fragmentShader:l.fragmentShader,vertexShader:l.vertexShader});A.uniforms.tDiffuse.value=C.texture,A.uniforms.color.value=s,A.uniforms.textureMatrix.value=w,this.material=A,this.onBeforeRender=function(S,x,y){if(f.setFromMatrixPosition(i.matrixWorld),h.setFromMatrixPosition(y.matrixWorld),m.extractRotation(i.matrixWorld),d.set(0,0,1),d.applyMatrix4(m),v.subVectors(f,h),v.dot(d)>0)return;v.reflect(d).negate(),v.add(f),m.extractRotation(y.matrixWorld),g.set(0,0,-1),g.applyMatrix4(m),g.add(h),b.subVectors(f,g),b.reflect(d).negate(),b.add(f),T.position.copy(v),T.up.set(0,1,0),T.up.applyMatrix4(m),T.up.reflect(d),T.lookAt(b),T.far=y.far,T.updateMatrixWorld(),T.projectionMatrix.copy(y.projectionMatrix),w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(T.projectionMatrix),w.multiply(T.matrixWorldInverse),w.multiply(i.matrixWorld),u.setFromNormalAndCoplanarPoint(d,f),u.applyMatrix4(T.matrixWorldInverse),p.set(u.normal.x,u.normal.y,u.normal.z,u.constant);const E=T.projectionMatrix;_.x=(Math.sign(p.x)+E.elements[8])/E.elements[0],_.y=(Math.sign(p.y)+E.elements[9])/E.elements[5],_.z=-1,_.w=(1+E.elements[10])/E.elements[14],p.multiplyScalar(2/p.dot(_)),E.elements[2]=p.x,E.elements[6]=p.y,E.elements[10]=p.z+1-o,E.elements[14]=p.w,i.visible=!1;const P=S.getRenderTarget(),D=S.xr.enabled,N=S.shadowMap.autoUpdate;S.xr.enabled=!1,S.shadowMap.autoUpdate=!1,S.setRenderTarget(C),S.state.buffers.depth.setMask(!0),S.autoClear===!1&&S.clear(),S.render(x,T),S.xr.enabled=D,S.shadowMap.autoUpdate=N,S.setRenderTarget(P);const W=y.viewport;W!==void 0&&S.state.viewport(W),i.visible=!0},this.getRenderTarget=function(){return C},this.dispose=function(){C.dispose(),i.material.dispose()}}}Dd.ReflectorShader={name:"ReflectorShader",uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};const d9=["args","material-uniforms-color-value"],f9=Te("TresPlaneGeometry",{args:[5,5]},null,-1);Dd.ReflectorShader;function h9(t){return Nb()?(ri(t),!0):!1}function eR(t){return typeof t=="function"?t():Pe(t)}const m9=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const p9=Object.prototype.toString,v9=t=>p9.call(t)==="[object Object]",g9=()=>{};function y9(t){var e;const n=eR(t);return(e=n==null?void 0:n.$el)!=null?e:n}const b9=m9?window:void 0;function Ty(...t){let e,n,i,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,s]=t,e=b9):[e,n,i,s]=t,!e)return g9;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],a=()=>{r.forEach(u=>u()),r.length=0},o=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=Ie(()=>[y9(e),eR(s)],([u,d])=>{if(a(),!u)return;const f=v9(d)?{...d}:d;r.push(...n.flatMap(h=>i.map(m=>o(u,h,m,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return h9(c),c}class vp extends an{constructor(){super(vp.Geometry,new Fi({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const e=new G,n=new G,i=new p0(16,16),s=new p0(16,16);let r=Ps;const a=vp.Geometry,o=new rd({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),l=new rd({uniforms:{map:{value:i},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),c=new an(a,o),u=[],d=tR.Shader,f=new rd({name:d.name,uniforms:{map:{value:null},occlusionMap:{value:s},color:{value:new Be(16777215)},scale:{value:new Ae},screenPosition:{value:new G}},vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:Cm,transparent:!0,depthWrite:!1}),h=new an(a,f);this.addElement=function(b){u.push(b)};const m=new Ae,g=new Ae,p=new TP,v=new Et;this.onBeforeRender=function(b,_,w){b.getCurrentViewport(v);const T=b.getRenderTarget(),C=T!==null?T.texture.type:Ps;r!==C&&(i.dispose(),s.dispose(),i.type=s.type=C,r=C);const A=v.w/v.z,S=v.z/2,x=v.w/2;let y=16/v.w;if(m.set(y*A,y),p.min.set(v.x,v.y),p.max.set(v.x+(v.z-16),v.y+(v.w-16)),n.setFromMatrixPosition(this.matrixWorld),n.applyMatrix4(w.matrixWorldInverse),!(n.z>0)&&(e.copy(n).applyMatrix4(w.projectionMatrix),g.x=v.x+e.x*S+S-8,g.y=v.y+e.y*x+x-8,p.containsPoint(g))){b.copyFramebufferToTexture(g,i);let E=o.uniforms;E.scale.value=m,E.screenPosition.value=e,b.renderBufferDirect(w,null,a,o,c,null),b.copyFramebufferToTexture(g,s),E=l.uniforms,E.scale.value=m,E.screenPosition.value=e,b.renderBufferDirect(w,null,a,l,c,null);const P=-e.x*2,D=-e.y*2;for(let N=0,W=u.length;N<W;N++){const B=u[N],q=f.uniforms;q.color.value.copy(B.color),q.map.value=B.texture,q.screenPosition.value.x=e.x+P*B.distance,q.screenPosition.value.y=e.y+D*B.distance,y=B.size/v.w;const j=v.w/v.z;q.scale.value.set(y*j,y),f.uniformsNeedUpdate=!0,b.renderBufferDirect(w,null,a,f,h,null)}}},this.dispose=function(){o.dispose(),l.dispose(),f.dispose(),i.dispose(),s.dispose();for(let b=0,_=u.length;b<_;b++)u[b].texture.dispose()}}}class tR{constructor(e,n=1,i=0,s=new Be(16777215)){this.texture=e,this.size=n,this.distance=i,this.color=s}}tR.Shader={name:"LensflareElementShader",uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`};vp.Geometry=function(){const t=new xt,e=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),n=new nu(e,5);return t.setIndex([0,1,2,0,2,3]),t.setAttribute("position",new gr(n,3,0,!1)),t.setAttribute("uv",new gr(n,2,3,!1)),t}();$a.clamp;$a.lerp;let Bo=null;function _9(t,e){return n=>{t.draco&&(Bo||(Bo=new c9),Bo.setDecoderPath(t.decoderPath||"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),n.setDRACOLoader(Bo))}}async function x9(t,e={draco:!1},n){const i=await XH(T$,t,_9(e));return Bo==null||Bo.dispose(),Bo=null,i}const w9=["object"],Bs=$s({__name:"component",props:{path:{},draco:{type:Boolean,default:!1},decoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.4.1/"},castShadow:{type:Boolean,default:!1},receiveShadow:{type:Boolean,default:!1}},async setup(t,{expose:e}){let n,i;const s=t,r=he();e({value:r});const{scene:a}=([n,i]=m3(()=>x9(s.path,{draco:s.draco,decoderPath:s.decoderPath})),n=await n,i(),n);return(s.castShadow||s.receiveShadow)&&a.traverse(o=>{o.isMesh&&(o.castShadow=s.castShadow,o.receiveShadow=s.receiveShadow)}),(o,l)=>(it(),qt("primitive",Se({ref_key:"modelRef",ref:r,object:Pe(a)},o.$attrs),null,16,w9))}}),S9=["target","auto-rotate","auto-rotate-speed","enable-damping","damping-factor","enable-pan","key-pan-speed","keys","max-azimuth-angle","min-azimuth-angle","max-polar-angle","min-polar-angle","min-distance","max-distance","min-zoom","max-zoom","touches","enable-zoom","zoom-speed","enable-rotate","rotate-speed","args"],nR=$s({__name:"OrbitControls",props:{makeDefault:{type:Boolean,default:!1},camera:{},domElement:{},target:{default:()=>[0,0,0]},enableDamping:{type:Boolean,default:!0},dampingFactor:{default:.05},autoRotate:{type:Boolean,default:!1},autoRotateSpeed:{default:2},enablePan:{type:Boolean,default:!0},keyPanSpeed:{default:7},keys:{},maxAzimuthAngle:{default:Number.POSITIVE_INFINITY},minAzimuthAngle:{default:Number.NEGATIVE_INFINITY},maxPolarAngle:{default:Math.PI},minPolarAngle:{default:0},minDistance:{default:0},maxDistance:{default:Number.POSITIVE_INFINITY},minZoom:{default:0},maxZoom:{default:Number.POSITIVE_INFINITY},touches:{default:()=>({ONE:zr.ROTATE,TWO:zr.DOLLY_PAN})},enableZoom:{type:Boolean,default:!0},zoomSpeed:{default:1},enableRotate:{type:Boolean,default:!0},rotateSpeed:{default:1}},emits:["change","start","end"],setup(t,{expose:e,emit:n}){const i=t,s=n,{makeDefault:r,autoRotate:a,autoRotateSpeed:o,enableDamping:l,dampingFactor:c,enablePan:u,keyPanSpeed:d,maxAzimuthAngle:f,minAzimuthAngle:h,maxPolarAngle:m,minPolarAngle:g,minDistance:p,maxDistance:v,minZoom:b,maxZoom:_,enableZoom:w,zoomSpeed:T,enableRotate:C,touches:A,rotateSpeed:S,target:x}=Ys(i),{camera:y,renderer:E,extend:P,controls:D}=Q_(),N=he(null);P({OrbitControls:C$}),Ie(N,q=>{W(),q&&r.value?D.value=q:D.value=null});function W(){Ty(N.value,"change",()=>s("change",N.value)),Ty(N.value,"start",()=>s("start",N.value)),Ty(N.value,"end",()=>s("end",N.value))}const{onLoop:B}=au();return B(()=>{N.value&&(l.value||a.value)&&N.value.update()}),qs(()=>{N.value&&N.value.dispose()}),e({value:N}),(q,j)=>(q.camera||Pe(y))&&(q.domElement||Pe(E))?(it(),qt("TresOrbitControls",{key:0,ref_key:"controlsRef",ref:N,target:Pe(x),"auto-rotate":Pe(a),"auto-rotate-speed":Pe(o),"enable-damping":Pe(l),"damping-factor":Pe(c),"enable-pan":Pe(u),"key-pan-speed":Pe(d),keys:q.keys,"max-azimuth-angle":Pe(f),"min-azimuth-angle":Pe(h),"max-polar-angle":Pe(m),"min-polar-angle":Pe(g),"min-distance":Pe(p),"max-distance":Pe(v),"min-zoom":Pe(b),"max-zoom":Pe(_),touches:Pe(A),"enable-zoom":Pe(w),"zoom-speed":Pe(T),"enable-rotate":Pe(C),"rotate-speed":Pe(S),args:[q.camera||Pe(y),q.domElement||Pe(E).domElement]},null,8,S9)):PE("",!0)}});var Ey;/Mac/.test((Ey=globalThis==null?void 0:globalThis.navigator)===null||Ey===void 0?void 0:Ey.platform);var M9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var C9={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,s,r){function a(c,u){if(!s[c]){if(!i[c]){var d=typeof Wh=="function"&&Wh;if(!u&&d)return d(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}u=s[c]={exports:{}},i[c][0].call(u.exports,function(f){var h=i[c][1][f];return a(h||f)},u,u.exports,n,i,s,r)}return s[c].exports}for(var o=typeof Wh=="function"&&Wh,l=0;l<r.length;l++)a(r[l]);return a}({1:[function(n,i,s){(function(r,a,o,l,c,u,d,f,h){var m=n("crypto");function g(C,A){A=b(C,A);var S;return(S=A.algorithm!=="passthrough"?m.createHash(A.algorithm):new T).write===void 0&&(S.write=S.update,S.end=S.update),w(A,S).dispatch(C),S.update||S.end(""),S.digest?S.digest(A.encoding==="buffer"?void 0:A.encoding):(C=S.read(),A.encoding!=="buffer"?C.toString(A.encoding):C)}(s=i.exports=g).sha1=function(C){return g(C)},s.keys=function(C){return g(C,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(C){return g(C,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(C){return g(C,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=m.getHashes?m.getHashes().slice():["sha1","md5"],v=(p.push("passthrough"),["buffer","hex","binary","base64"]);function b(C,A){var S={};if(S.algorithm=(A=A||{}).algorithm||"sha1",S.encoding=A.encoding||"hex",S.excludeValues=!!A.excludeValues,S.algorithm=S.algorithm.toLowerCase(),S.encoding=S.encoding.toLowerCase(),S.ignoreUnknown=A.ignoreUnknown===!0,S.respectType=A.respectType!==!1,S.respectFunctionNames=A.respectFunctionNames!==!1,S.respectFunctionProperties=A.respectFunctionProperties!==!1,S.unorderedArrays=A.unorderedArrays===!0,S.unorderedSets=A.unorderedSets!==!1,S.unorderedObjects=A.unorderedObjects!==!1,S.replacer=A.replacer||void 0,S.excludeKeys=A.excludeKeys||void 0,C===void 0)throw new Error("Object argument required.");for(var x=0;x<p.length;++x)p[x].toLowerCase()===S.algorithm.toLowerCase()&&(S.algorithm=p[x]);if(p.indexOf(S.algorithm)===-1)throw new Error('Algorithm "'+S.algorithm+'"  not supported. supported values: '+p.join(", "));if(v.indexOf(S.encoding)===-1&&S.algorithm!=="passthrough")throw new Error('Encoding "'+S.encoding+'"  not supported. supported values: '+v.join(", "));return S}function _(C){if(typeof C=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(C))!=null}function w(C,A,S){S=S||[];function x(y){return A.update?A.update(y,"utf8"):A.write(y,"utf8")}return{dispatch:function(y){return this["_"+((y=C.replacer?C.replacer(y):y)===null?"null":typeof y)](y)},_object:function(y){var E,P=Object.prototype.toString.call(y),D=/\[object (.*)\]/i.exec(P);if(D=(D=D?D[1]:"unknown:["+P+"]").toLowerCase(),0<=(P=S.indexOf(y)))return this.dispatch("[CIRCULAR:"+P+"]");if(S.push(y),o!==void 0&&o.isBuffer&&o.isBuffer(y))return x("buffer:"),x(y);if(D==="object"||D==="function"||D==="asyncfunction")return P=Object.keys(y),C.unorderedObjects&&(P=P.sort()),C.respectType===!1||_(y)||P.splice(0,0,"prototype","__proto__","constructor"),C.excludeKeys&&(P=P.filter(function(N){return!C.excludeKeys(N)})),x("object:"+P.length+":"),E=this,P.forEach(function(N){E.dispatch(N),x(":"),C.excludeValues||E.dispatch(y[N]),x(",")});if(!this["_"+D]){if(C.ignoreUnknown)return x("["+D+"]");throw new Error('Unknown object type "'+D+'"')}this["_"+D](y)},_array:function(y,N){N=N!==void 0?N:C.unorderedArrays!==!1;var P=this;if(x("array:"+y.length+":"),!N||y.length<=1)return y.forEach(function(W){return P.dispatch(W)});var D=[],N=y.map(function(W){var B=new T,q=S.slice();return w(C,B,q).dispatch(W),D=D.concat(q.slice(S.length)),B.read().toString()});return S=S.concat(D),N.sort(),this._array(N,!1)},_date:function(y){return x("date:"+y.toJSON())},_symbol:function(y){return x("symbol:"+y.toString())},_error:function(y){return x("error:"+y.toString())},_boolean:function(y){return x("bool:"+y.toString())},_string:function(y){x("string:"+y.length+":"),x(y.toString())},_function:function(y){x("fn:"),_(y)?this.dispatch("[native]"):this.dispatch(y.toString()),C.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(y.name)),C.respectFunctionProperties&&this._object(y)},_number:function(y){return x("number:"+y.toString())},_xml:function(y){return x("xml:"+y.toString())},_null:function(){return x("Null")},_undefined:function(){return x("Undefined")},_regexp:function(y){return x("regex:"+y.toString())},_uint8array:function(y){return x("uint8array:"),this.dispatch(Array.prototype.slice.call(y))},_uint8clampedarray:function(y){return x("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(y))},_int8array:function(y){return x("int8array:"),this.dispatch(Array.prototype.slice.call(y))},_uint16array:function(y){return x("uint16array:"),this.dispatch(Array.prototype.slice.call(y))},_int16array:function(y){return x("int16array:"),this.dispatch(Array.prototype.slice.call(y))},_uint32array:function(y){return x("uint32array:"),this.dispatch(Array.prototype.slice.call(y))},_int32array:function(y){return x("int32array:"),this.dispatch(Array.prototype.slice.call(y))},_float32array:function(y){return x("float32array:"),this.dispatch(Array.prototype.slice.call(y))},_float64array:function(y){return x("float64array:"),this.dispatch(Array.prototype.slice.call(y))},_arraybuffer:function(y){return x("arraybuffer:"),this.dispatch(new Uint8Array(y))},_url:function(y){return x("url:"+y.toString())},_map:function(y){return x("map:"),y=Array.from(y),this._array(y,C.unorderedSets!==!1)},_set:function(y){return x("set:"),y=Array.from(y),this._array(y,C.unorderedSets!==!1)},_file:function(y){return x("file:"),this.dispatch([y.name,y.size,y.type,y.lastModfied])},_blob:function(){if(C.ignoreUnknown)return x("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return x("domwindow")},_bigint:function(y){return x("bigint:"+y.toString())},_process:function(){return x("process")},_timer:function(){return x("timer")},_pipe:function(){return x("pipe")},_tcp:function(){return x("tcp")},_udp:function(){return x("udp")},_tty:function(){return x("tty")},_statwatcher:function(){return x("statwatcher")},_securecontext:function(){return x("securecontext")},_connection:function(){return x("connection")},_zlib:function(){return x("zlib")},_context:function(){return x("context")},_nodescript:function(){return x("nodescript")},_httpparser:function(){return x("httpparser")},_dataview:function(){return x("dataview")},_signal:function(){return x("signal")},_fsevent:function(){return x("fsevent")},_tlswrap:function(){return x("tlswrap")}}}function T(){return{buf:"",write:function(C){this.buf+=C},end:function(C){this.buf+=C},read:function(){return this.buf}}}s.writeToStream=function(C,A,S){return S===void 0&&(S=A,A={}),w(A=b(C,A),S).dispatch(C)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,i,s){(function(r,a,o,l,c,u,d,f,h){(function(m){var g=typeof Uint8Array<"u"?Uint8Array:Array,p=43,v=47,b=48,_=97,w=65,T=45,C=95;function A(S){return S=S.charCodeAt(0),S===p||S===T?62:S===v||S===C?63:S<b?-1:S<b+10?S-b+26+26:S<w+26?S-w:S<_+26?S-_+26:void 0}m.toByteArray=function(S){var x,y;if(0<S.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var E=S.length,E=S.charAt(E-2)==="="?2:S.charAt(E-1)==="="?1:0,P=new g(3*S.length/4-E),D=0<E?S.length-4:S.length,N=0;function W(B){P[N++]=B}for(x=0;x<D;x+=4,0)W((16711680&(y=A(S.charAt(x))<<18|A(S.charAt(x+1))<<12|A(S.charAt(x+2))<<6|A(S.charAt(x+3))))>>16),W((65280&y)>>8),W(255&y);return E==2?W(255&(y=A(S.charAt(x))<<2|A(S.charAt(x+1))>>4)):E==1&&(W((y=A(S.charAt(x))<<10|A(S.charAt(x+1))<<4|A(S.charAt(x+2))>>2)>>8&255),W(255&y)),P},m.fromByteArray=function(S){var x,y,E,P,D=S.length%3,N="";function W(B){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(B)}for(x=0,E=S.length-D;x<E;x+=3)y=(S[x]<<16)+(S[x+1]<<8)+S[x+2],N+=W((P=y)>>18&63)+W(P>>12&63)+W(P>>6&63)+W(63&P);switch(D){case 1:N=(N+=W((y=S[S.length-1])>>2))+W(y<<4&63)+"==";break;case 2:N=(N=(N+=W((y=(S[S.length-2]<<8)+S[S.length-1])>>10))+W(y>>4&63))+W(y<<2&63)+"="}return N}})(s===void 0?this.base64js={}:s)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,i,s){(function(r,a,p,l,c,u,d,f,h){var m=n("base64-js"),g=n("ieee754");function p(F,U,z){if(!(this instanceof p))return new p(F,U,z);var k,R,I,Y,$=typeof F;if(U==="base64"&&$=="string")for(F=(Y=F).trim?Y.trim():Y.replace(/^\s+|\s+$/g,"");F.length%4!=0;)F+="=";if($=="number")k=j(F);else if($=="string")k=p.byteLength(F,U);else{if($!="object")throw new Error("First argument needs to be a number, array or string.");k=j(F.length)}if(p._useTypedArrays?R=p._augment(new Uint8Array(k)):((R=this).length=k,R._isBuffer=!0),p._useTypedArrays&&typeof F.byteLength=="number")R._set(F);else if(Q(Y=F)||p.isBuffer(Y)||Y&&typeof Y=="object"&&typeof Y.length=="number")for(I=0;I<k;I++)p.isBuffer(F)?R[I]=F.readUInt8(I):R[I]=F[I];else if($=="string")R.write(F,0,U);else if($=="number"&&!p._useTypedArrays&&!z)for(I=0;I<k;I++)R[I]=0;return R}function v(F,U,z,k){return p._charsWritten=Me(function(R){for(var I=[],Y=0;Y<R.length;Y++)I.push(255&R.charCodeAt(Y));return I}(U),F,z,k)}function b(F,U,z,k){return p._charsWritten=Me(function(R){for(var I,Y,$=[],J=0;J<R.length;J++)Y=R.charCodeAt(J),I=Y>>8,Y=Y%256,$.push(Y),$.push(I);return $}(U),F,z,k)}function _(F,U,z){var k="";z=Math.min(F.length,z);for(var R=U;R<z;R++)k+=String.fromCharCode(F[R]);return k}function w(F,U,z,I){I||(ae(typeof z=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+1<F.length,"Trying to read beyond buffer length"));var R,I=F.length;if(!(I<=U))return z?(R=F[U],U+1<I&&(R|=F[U+1]<<8)):(R=F[U]<<8,U+1<I&&(R|=F[U+1])),R}function T(F,U,z,I){I||(ae(typeof z=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+3<F.length,"Trying to read beyond buffer length"));var R,I=F.length;if(!(I<=U))return z?(U+2<I&&(R=F[U+2]<<16),U+1<I&&(R|=F[U+1]<<8),R|=F[U],U+3<I&&(R+=F[U+3]<<24>>>0)):(U+1<I&&(R=F[U+1]<<16),U+2<I&&(R|=F[U+2]<<8),U+3<I&&(R|=F[U+3]),R+=F[U]<<24>>>0),R}function C(F,U,z,k){if(k||(ae(typeof z=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+1<F.length,"Trying to read beyond buffer length")),!(F.length<=U))return k=w(F,U,z,!0),32768&k?-1*(65535-k+1):k}function A(F,U,z,k){if(k||(ae(typeof z=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+3<F.length,"Trying to read beyond buffer length")),!(F.length<=U))return k=T(F,U,z,!0),2147483648&k?-1*(4294967295-k+1):k}function S(F,U,z,k){return k||(ae(typeof z=="boolean","missing or invalid endian"),ae(U+3<F.length,"Trying to read beyond buffer length")),g.read(F,U,z,23,4)}function x(F,U,z,k){return k||(ae(typeof z=="boolean","missing or invalid endian"),ae(U+7<F.length,"Trying to read beyond buffer length")),g.read(F,U,z,52,8)}function y(F,U,z,k,R){if(R||(ae(U!=null,"missing value"),ae(typeof k=="boolean","missing or invalid endian"),ae(z!=null,"missing offset"),ae(z+1<F.length,"trying to write beyond buffer length"),pe(U,65535)),R=F.length,!(R<=z))for(var I=0,Y=Math.min(R-z,2);I<Y;I++)F[z+I]=(U&255<<8*(k?I:1-I))>>>8*(k?I:1-I)}function E(F,U,z,k,R){if(R||(ae(U!=null,"missing value"),ae(typeof k=="boolean","missing or invalid endian"),ae(z!=null,"missing offset"),ae(z+3<F.length,"trying to write beyond buffer length"),pe(U,4294967295)),R=F.length,!(R<=z))for(var I=0,Y=Math.min(R-z,4);I<Y;I++)F[z+I]=U>>>8*(k?I:3-I)&255}function P(F,U,z,k,R){R||(ae(U!=null,"missing value"),ae(typeof k=="boolean","missing or invalid endian"),ae(z!=null,"missing offset"),ae(z+1<F.length,"Trying to write beyond buffer length"),ne(U,32767,-32768)),F.length<=z||y(F,0<=U?U:65535+U+1,z,k,R)}function D(F,U,z,k,R){R||(ae(U!=null,"missing value"),ae(typeof k=="boolean","missing or invalid endian"),ae(z!=null,"missing offset"),ae(z+3<F.length,"Trying to write beyond buffer length"),ne(U,2147483647,-2147483648)),F.length<=z||E(F,0<=U?U:4294967295+U+1,z,k,R)}function N(F,U,z,k,R){R||(ae(U!=null,"missing value"),ae(typeof k=="boolean","missing or invalid endian"),ae(z!=null,"missing offset"),ae(z+3<F.length,"Trying to write beyond buffer length"),de(U,34028234663852886e22,-34028234663852886e22)),F.length<=z||g.write(F,U,z,k,23,4)}function W(F,U,z,k,R){R||(ae(U!=null,"missing value"),ae(typeof k=="boolean","missing or invalid endian"),ae(z!=null,"missing offset"),ae(z+7<F.length,"Trying to write beyond buffer length"),de(U,17976931348623157e292,-17976931348623157e292)),F.length<=z||g.write(F,U,z,k,52,8)}s.Buffer=p,s.SlowBuffer=p,s.INSPECT_MAX_BYTES=50,p.poolSize=8192,p._useTypedArrays=function(){try{var F=new ArrayBuffer(0),U=new Uint8Array(F);return U.foo=function(){return 42},U.foo()===42&&typeof U.subarray=="function"}catch{return!1}}(),p.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.isBuffer=function(F){return!(F==null||!F._isBuffer)},p.byteLength=function(F,U){var z;switch(F+="",U||"utf8"){case"hex":z=F.length/2;break;case"utf8":case"utf-8":z=X(F).length;break;case"ascii":case"binary":case"raw":z=F.length;break;case"base64":z=ce(F).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":z=2*F.length;break;default:throw new Error("Unknown encoding")}return z},p.concat=function(F,U){if(ae(Q(F),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),F.length===0)return new p(0);if(F.length===1)return F[0];if(typeof U!="number")for(R=U=0;R<F.length;R++)U+=F[R].length;for(var z=new p(U),k=0,R=0;R<F.length;R++){var I=F[R];I.copy(z,k),k+=I.length}return z},p.prototype.write=function(F,U,z,k){isFinite(U)?isFinite(z)||(k=z,z=void 0):(J=k,k=U,U=z,z=J),U=Number(U)||0;var R,I,Y,$,J=this.length-U;switch((!z||J<(z=Number(z)))&&(z=J),k=String(k||"utf8").toLowerCase()){case"hex":R=function(se,me,re,V){re=Number(re)||0;var O=se.length-re;(!V||O<(V=Number(V)))&&(V=O),ae((O=me.length)%2==0,"Invalid hex string"),O/2<V&&(V=O/2);for(var K=0;K<V;K++){var le=parseInt(me.substr(2*K,2),16);ae(!isNaN(le),"Invalid hex string"),se[re+K]=le}return p._charsWritten=2*K,K}(this,F,U,z);break;case"utf8":case"utf-8":I=this,Y=U,$=z,R=p._charsWritten=Me(X(F),I,Y,$);break;case"ascii":case"binary":R=v(this,F,U,z);break;case"base64":I=this,Y=U,$=z,R=p._charsWritten=Me(ce(F),I,Y,$);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":R=b(this,F,U,z);break;default:throw new Error("Unknown encoding")}return R},p.prototype.toString=function(F,U,z){var k,R,I,Y,$=this;if(F=String(F||"utf8").toLowerCase(),U=Number(U)||0,(z=z!==void 0?Number(z):$.length)===U)return"";switch(F){case"hex":k=function(J,se,me){var re=J.length;(!se||se<0)&&(se=0),(!me||me<0||re<me)&&(me=re);for(var V="",O=se;O<me;O++)V+=Z(J[O]);return V}($,U,z);break;case"utf8":case"utf-8":k=function(J,se,me){var re="",V="";me=Math.min(J.length,me);for(var O=se;O<me;O++)J[O]<=127?(re+=ee(V)+String.fromCharCode(J[O]),V=""):V+="%"+J[O].toString(16);return re+ee(V)}($,U,z);break;case"ascii":case"binary":k=_($,U,z);break;case"base64":R=$,Y=z,k=(I=U)===0&&Y===R.length?m.fromByteArray(R):m.fromByteArray(R.slice(I,Y));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":k=function(J,se,me){for(var re=J.slice(se,me),V="",O=0;O<re.length;O+=2)V+=String.fromCharCode(re[O]+256*re[O+1]);return V}($,U,z);break;default:throw new Error("Unknown encoding")}return k},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.copy=function(F,U,z,k){if(U=U||0,(k=k||k===0?k:this.length)!==(z=z||0)&&F.length!==0&&this.length!==0){ae(z<=k,"sourceEnd < sourceStart"),ae(0<=U&&U<F.length,"targetStart out of bounds"),ae(0<=z&&z<this.length,"sourceStart out of bounds"),ae(0<=k&&k<=this.length,"sourceEnd out of bounds"),k>this.length&&(k=this.length);var R=(k=F.length-U<k-z?F.length-U+z:k)-z;if(R<100||!p._useTypedArrays)for(var I=0;I<R;I++)F[I+U]=this[I+z];else F._set(this.subarray(z,z+R),U)}},p.prototype.slice=function(F,U){var z=this.length;if(F=q(F,z,0),U=q(U,z,z),p._useTypedArrays)return p._augment(this.subarray(F,U));for(var k=U-F,R=new p(k,void 0,!0),I=0;I<k;I++)R[I]=this[I+F];return R},p.prototype.get=function(F){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(F)},p.prototype.set=function(F,U){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(F,U)},p.prototype.readUInt8=function(F,U){if(U||(ae(F!=null,"missing offset"),ae(F<this.length,"Trying to read beyond buffer length")),!(F>=this.length))return this[F]},p.prototype.readUInt16LE=function(F,U){return w(this,F,!0,U)},p.prototype.readUInt16BE=function(F,U){return w(this,F,!1,U)},p.prototype.readUInt32LE=function(F,U){return T(this,F,!0,U)},p.prototype.readUInt32BE=function(F,U){return T(this,F,!1,U)},p.prototype.readInt8=function(F,U){if(U||(ae(F!=null,"missing offset"),ae(F<this.length,"Trying to read beyond buffer length")),!(F>=this.length))return 128&this[F]?-1*(255-this[F]+1):this[F]},p.prototype.readInt16LE=function(F,U){return C(this,F,!0,U)},p.prototype.readInt16BE=function(F,U){return C(this,F,!1,U)},p.prototype.readInt32LE=function(F,U){return A(this,F,!0,U)},p.prototype.readInt32BE=function(F,U){return A(this,F,!1,U)},p.prototype.readFloatLE=function(F,U){return S(this,F,!0,U)},p.prototype.readFloatBE=function(F,U){return S(this,F,!1,U)},p.prototype.readDoubleLE=function(F,U){return x(this,F,!0,U)},p.prototype.readDoubleBE=function(F,U){return x(this,F,!1,U)},p.prototype.writeUInt8=function(F,U,z){z||(ae(F!=null,"missing value"),ae(U!=null,"missing offset"),ae(U<this.length,"trying to write beyond buffer length"),pe(F,255)),U>=this.length||(this[U]=F)},p.prototype.writeUInt16LE=function(F,U,z){y(this,F,U,!0,z)},p.prototype.writeUInt16BE=function(F,U,z){y(this,F,U,!1,z)},p.prototype.writeUInt32LE=function(F,U,z){E(this,F,U,!0,z)},p.prototype.writeUInt32BE=function(F,U,z){E(this,F,U,!1,z)},p.prototype.writeInt8=function(F,U,z){z||(ae(F!=null,"missing value"),ae(U!=null,"missing offset"),ae(U<this.length,"Trying to write beyond buffer length"),ne(F,127,-128)),U>=this.length||(0<=F?this.writeUInt8(F,U,z):this.writeUInt8(255+F+1,U,z))},p.prototype.writeInt16LE=function(F,U,z){P(this,F,U,!0,z)},p.prototype.writeInt16BE=function(F,U,z){P(this,F,U,!1,z)},p.prototype.writeInt32LE=function(F,U,z){D(this,F,U,!0,z)},p.prototype.writeInt32BE=function(F,U,z){D(this,F,U,!1,z)},p.prototype.writeFloatLE=function(F,U,z){N(this,F,U,!0,z)},p.prototype.writeFloatBE=function(F,U,z){N(this,F,U,!1,z)},p.prototype.writeDoubleLE=function(F,U,z){W(this,F,U,!0,z)},p.prototype.writeDoubleBE=function(F,U,z){W(this,F,U,!1,z)},p.prototype.fill=function(F,U,z){if(U=U||0,z=z||this.length,ae(typeof(F=typeof(F=F||0)=="string"?F.charCodeAt(0):F)=="number"&&!isNaN(F),"value is not a number"),ae(U<=z,"end < start"),z!==U&&this.length!==0){ae(0<=U&&U<this.length,"start out of bounds"),ae(0<=z&&z<=this.length,"end out of bounds");for(var k=U;k<z;k++)this[k]=F}},p.prototype.inspect=function(){for(var F=[],U=this.length,z=0;z<U;z++)if(F[z]=Z(this[z]),z===s.INSPECT_MAX_BYTES){F[z+1]="...";break}return"<Buffer "+F.join(" ")+">"},p.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(p._useTypedArrays)return new p(this).buffer;for(var F=new Uint8Array(this.length),U=0,z=F.length;U<z;U+=1)F[U]=this[U];return F.buffer};var B=p.prototype;function q(F,U,z){return typeof F!="number"?z:U<=(F=~~F)?U:0<=F||0<=(F+=U)?F:0}function j(F){return(F=~~Math.ceil(+F))<0?0:F}function Q(F){return(Array.isArray||function(U){return Object.prototype.toString.call(U)==="[object Array]"})(F)}function Z(F){return F<16?"0"+F.toString(16):F.toString(16)}function X(F){for(var U=[],z=0;z<F.length;z++){var k=F.charCodeAt(z);if(k<=127)U.push(F.charCodeAt(z));else for(var R=z,I=(55296<=k&&k<=57343&&z++,encodeURIComponent(F.slice(R,z+1)).substr(1).split("%")),Y=0;Y<I.length;Y++)U.push(parseInt(I[Y],16))}return U}function ce(F){return m.toByteArray(F)}function Me(F,U,z,k){for(var R=0;R<k&&!(R+z>=U.length||R>=F.length);R++)U[R+z]=F[R];return R}function ee(F){try{return decodeURIComponent(F)}catch{return""}}function pe(F,U){ae(typeof F=="number","cannot write a non-number as a number"),ae(0<=F,"specified a negative value for writing an unsigned value"),ae(F<=U,"value is larger than maximum value for type"),ae(Math.floor(F)===F,"value has a fractional component")}function ne(F,U,z){ae(typeof F=="number","cannot write a non-number as a number"),ae(F<=U,"value larger than maximum allowed value"),ae(z<=F,"value smaller than minimum allowed value"),ae(Math.floor(F)===F,"value has a fractional component")}function de(F,U,z){ae(typeof F=="number","cannot write a non-number as a number"),ae(F<=U,"value larger than maximum allowed value"),ae(z<=F,"value smaller than minimum allowed value")}function ae(F,U){if(!F)throw new Error(U||"Failed assertion")}p._augment=function(F){return F._isBuffer=!0,F._get=F.get,F._set=F.set,F.get=B.get,F.set=B.set,F.write=B.write,F.toString=B.toString,F.toLocaleString=B.toString,F.toJSON=B.toJSON,F.copy=B.copy,F.slice=B.slice,F.readUInt8=B.readUInt8,F.readUInt16LE=B.readUInt16LE,F.readUInt16BE=B.readUInt16BE,F.readUInt32LE=B.readUInt32LE,F.readUInt32BE=B.readUInt32BE,F.readInt8=B.readInt8,F.readInt16LE=B.readInt16LE,F.readInt16BE=B.readInt16BE,F.readInt32LE=B.readInt32LE,F.readInt32BE=B.readInt32BE,F.readFloatLE=B.readFloatLE,F.readFloatBE=B.readFloatBE,F.readDoubleLE=B.readDoubleLE,F.readDoubleBE=B.readDoubleBE,F.writeUInt8=B.writeUInt8,F.writeUInt16LE=B.writeUInt16LE,F.writeUInt16BE=B.writeUInt16BE,F.writeUInt32LE=B.writeUInt32LE,F.writeUInt32BE=B.writeUInt32BE,F.writeInt8=B.writeInt8,F.writeInt16LE=B.writeInt16LE,F.writeInt16BE=B.writeInt16BE,F.writeInt32LE=B.writeInt32LE,F.writeInt32BE=B.writeInt32BE,F.writeFloatLE=B.writeFloatLE,F.writeFloatBE=B.writeFloatBE,F.writeDoubleLE=B.writeDoubleLE,F.writeDoubleBE=B.writeDoubleBE,F.fill=B.fill,F.inspect=B.inspect,F.toArrayBuffer=B.toArrayBuffer,F}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,i,s){(function(r,a,m,l,c,u,d,f,h){var m=n("buffer").Buffer,g=4,p=new m(g);p.fill(0),i.exports={hash:function(v,b,_,w){for(var T=b(function(y,E){y.length%g!=0&&(P=y.length+(g-y.length%g),y=m.concat([y,p],P));for(var P,D=[],N=E?y.readInt32BE:y.readInt32LE,W=0;W<y.length;W+=g)D.push(N.call(y,W));return D}(v=m.isBuffer(v)?v:new m(v),w),8*v.length),b=w,C=new m(_),A=b?C.writeInt32BE:C.writeInt32LE,S=0;S<T.length;S++)A.call(C,T[S],4*S,!0);return C}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,i,s){(function(r,a,m,l,c,u,d,f,h){var m=n("buffer").Buffer,g=n("./sha"),p=n("./sha256"),v=n("./rng"),b={sha1:g,sha256:p,md5:n("./md5")},_=64,w=new m(_);function T(y,E){var P=b[y=y||"sha1"],D=[];return P||C("algorithm:",y,"is not yet supported"),{update:function(N){return m.isBuffer(N)||(N=new m(N)),D.push(N),N.length,this},digest:function(N){var W=m.concat(D),W=E?function(B,q,j){m.isBuffer(q)||(q=new m(q)),m.isBuffer(j)||(j=new m(j)),q.length>_?q=B(q):q.length<_&&(q=m.concat([q,w],_));for(var Q=new m(_),Z=new m(_),X=0;X<_;X++)Q[X]=54^q[X],Z[X]=92^q[X];return j=B(m.concat([Q,j])),B(m.concat([Z,j]))}(P,E,W):P(W);return D=null,N?W.toString(N):W}}}function C(){var y=[].slice.call(arguments).join(" ");throw new Error([y,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}w.fill(0),s.createHash=function(y){return T(y)},s.createHmac=T,s.randomBytes=function(y,E){if(!E||!E.call)return new m(v(y));try{E.call(this,void 0,new m(v(y)))}catch(P){E(P)}};var A,S=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],x=function(y){s[y]=function(){C("sorry,",y,"is not implemented yet")}};for(A in S)x(S[A])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,i,s){(function(r,a,o,l,c,u,d,f,h){var m=n("./helpers");function g(C,A){C[A>>5]|=128<<A%32,C[14+(A+64>>>9<<4)]=A;for(var S=1732584193,x=-271733879,y=-1732584194,E=271733878,P=0;P<C.length;P+=16){var D=S,N=x,W=y,B=E,S=v(S,x,y,E,C[P+0],7,-680876936),E=v(E,S,x,y,C[P+1],12,-389564586),y=v(y,E,S,x,C[P+2],17,606105819),x=v(x,y,E,S,C[P+3],22,-1044525330);S=v(S,x,y,E,C[P+4],7,-176418897),E=v(E,S,x,y,C[P+5],12,1200080426),y=v(y,E,S,x,C[P+6],17,-1473231341),x=v(x,y,E,S,C[P+7],22,-45705983),S=v(S,x,y,E,C[P+8],7,1770035416),E=v(E,S,x,y,C[P+9],12,-1958414417),y=v(y,E,S,x,C[P+10],17,-42063),x=v(x,y,E,S,C[P+11],22,-1990404162),S=v(S,x,y,E,C[P+12],7,1804603682),E=v(E,S,x,y,C[P+13],12,-40341101),y=v(y,E,S,x,C[P+14],17,-1502002290),S=b(S,x=v(x,y,E,S,C[P+15],22,1236535329),y,E,C[P+1],5,-165796510),E=b(E,S,x,y,C[P+6],9,-1069501632),y=b(y,E,S,x,C[P+11],14,643717713),x=b(x,y,E,S,C[P+0],20,-373897302),S=b(S,x,y,E,C[P+5],5,-701558691),E=b(E,S,x,y,C[P+10],9,38016083),y=b(y,E,S,x,C[P+15],14,-660478335),x=b(x,y,E,S,C[P+4],20,-405537848),S=b(S,x,y,E,C[P+9],5,568446438),E=b(E,S,x,y,C[P+14],9,-1019803690),y=b(y,E,S,x,C[P+3],14,-187363961),x=b(x,y,E,S,C[P+8],20,1163531501),S=b(S,x,y,E,C[P+13],5,-1444681467),E=b(E,S,x,y,C[P+2],9,-51403784),y=b(y,E,S,x,C[P+7],14,1735328473),S=_(S,x=b(x,y,E,S,C[P+12],20,-1926607734),y,E,C[P+5],4,-378558),E=_(E,S,x,y,C[P+8],11,-2022574463),y=_(y,E,S,x,C[P+11],16,1839030562),x=_(x,y,E,S,C[P+14],23,-35309556),S=_(S,x,y,E,C[P+1],4,-1530992060),E=_(E,S,x,y,C[P+4],11,1272893353),y=_(y,E,S,x,C[P+7],16,-155497632),x=_(x,y,E,S,C[P+10],23,-1094730640),S=_(S,x,y,E,C[P+13],4,681279174),E=_(E,S,x,y,C[P+0],11,-358537222),y=_(y,E,S,x,C[P+3],16,-722521979),x=_(x,y,E,S,C[P+6],23,76029189),S=_(S,x,y,E,C[P+9],4,-640364487),E=_(E,S,x,y,C[P+12],11,-421815835),y=_(y,E,S,x,C[P+15],16,530742520),S=w(S,x=_(x,y,E,S,C[P+2],23,-995338651),y,E,C[P+0],6,-198630844),E=w(E,S,x,y,C[P+7],10,1126891415),y=w(y,E,S,x,C[P+14],15,-1416354905),x=w(x,y,E,S,C[P+5],21,-57434055),S=w(S,x,y,E,C[P+12],6,1700485571),E=w(E,S,x,y,C[P+3],10,-1894986606),y=w(y,E,S,x,C[P+10],15,-1051523),x=w(x,y,E,S,C[P+1],21,-2054922799),S=w(S,x,y,E,C[P+8],6,1873313359),E=w(E,S,x,y,C[P+15],10,-30611744),y=w(y,E,S,x,C[P+6],15,-1560198380),x=w(x,y,E,S,C[P+13],21,1309151649),S=w(S,x,y,E,C[P+4],6,-145523070),E=w(E,S,x,y,C[P+11],10,-1120210379),y=w(y,E,S,x,C[P+2],15,718787259),x=w(x,y,E,S,C[P+9],21,-343485551),S=T(S,D),x=T(x,N),y=T(y,W),E=T(E,B)}return Array(S,x,y,E)}function p(C,A,S,x,y,E){return T((A=T(T(A,C),T(x,E)))<<y|A>>>32-y,S)}function v(C,A,S,x,y,E,P){return p(A&S|~A&x,C,A,y,E,P)}function b(C,A,S,x,y,E,P){return p(A&x|S&~x,C,A,y,E,P)}function _(C,A,S,x,y,E,P){return p(A^S^x,C,A,y,E,P)}function w(C,A,S,x,y,E,P){return p(S^(A|~x),C,A,y,E,P)}function T(C,A){var S=(65535&C)+(65535&A);return(C>>16)+(A>>16)+(S>>16)<<16|65535&S}i.exports=function(C){return m.hash(C,g,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,i,s){(function(r,a,o,l,c,u,d,f,h){i.exports=function(m){for(var g,p=new Array(m),v=0;v<m;v++)!(3&v)&&(g=4294967296*Math.random()),p[v]=g>>>((3&v)<<3)&255;return p}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,i,s){(function(r,a,o,l,c,u,d,f,h){var m=n("./helpers");function g(b,_){b[_>>5]|=128<<24-_%32,b[15+(_+64>>9<<4)]=_;for(var w,T,C,A=Array(80),S=1732584193,x=-271733879,y=-1732584194,E=271733878,P=-1009589776,D=0;D<b.length;D+=16){for(var N=S,W=x,B=y,q=E,j=P,Q=0;Q<80;Q++){A[Q]=Q<16?b[D+Q]:v(A[Q-3]^A[Q-8]^A[Q-14]^A[Q-16],1);var Z=p(p(v(S,5),(Z=x,T=y,C=E,(w=Q)<20?Z&T|~Z&C:!(w<40)&&w<60?Z&T|Z&C|T&C:Z^T^C)),p(p(P,A[Q]),(w=Q)<20?1518500249:w<40?1859775393:w<60?-1894007588:-899497514)),P=E,E=y,y=v(x,30),x=S,S=Z}S=p(S,N),x=p(x,W),y=p(y,B),E=p(E,q),P=p(P,j)}return Array(S,x,y,E,P)}function p(b,_){var w=(65535&b)+(65535&_);return(b>>16)+(_>>16)+(w>>16)<<16|65535&w}function v(b,_){return b<<_|b>>>32-_}i.exports=function(b){return m.hash(b,g,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,i,s){(function(r,a,o,l,c,u,d,f,h){function m(_,w){var T=(65535&_)+(65535&w);return(_>>16)+(w>>16)+(T>>16)<<16|65535&T}function g(_,w){var T,C=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),A=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),S=new Array(64);_[w>>5]|=128<<24-w%32,_[15+(w+64>>9<<4)]=w;for(var x,y,E=0;E<_.length;E+=16){for(var P=A[0],D=A[1],N=A[2],W=A[3],B=A[4],q=A[5],j=A[6],Q=A[7],Z=0;Z<64;Z++)S[Z]=Z<16?_[Z+E]:m(m(m((y=S[Z-2],v(y,17)^v(y,19)^b(y,10)),S[Z-7]),(y=S[Z-15],v(y,7)^v(y,18)^b(y,3))),S[Z-16]),T=m(m(m(m(Q,v(y=B,6)^v(y,11)^v(y,25)),B&q^~B&j),C[Z]),S[Z]),x=m(v(x=P,2)^v(x,13)^v(x,22),P&D^P&N^D&N),Q=j,j=q,q=B,B=m(W,T),W=N,N=D,D=P,P=m(T,x);A[0]=m(P,A[0]),A[1]=m(D,A[1]),A[2]=m(N,A[2]),A[3]=m(W,A[3]),A[4]=m(B,A[4]),A[5]=m(q,A[5]),A[6]=m(j,A[6]),A[7]=m(Q,A[7])}return A}var p=n("./helpers"),v=function(_,w){return _>>>w|_<<32-w},b=function(_,w){return _>>>w};i.exports=function(_){return p.hash(_,g,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,i,s){(function(r,a,o,l,c,u,d,f,h){s.read=function(m,g,p,v,E){var _,w,T=8*E-v-1,C=(1<<T)-1,A=C>>1,S=-7,x=p?E-1:0,y=p?-1:1,E=m[g+x];for(x+=y,_=E&(1<<-S)-1,E>>=-S,S+=T;0<S;_=256*_+m[g+x],x+=y,S-=8);for(w=_&(1<<-S)-1,_>>=-S,S+=v;0<S;w=256*w+m[g+x],x+=y,S-=8);if(_===0)_=1-A;else{if(_===C)return w?NaN:1/0*(E?-1:1);w+=Math.pow(2,v),_-=A}return(E?-1:1)*w*Math.pow(2,_-v)},s.write=function(m,g,p,v,b,P){var w,T,C=8*P-b-1,A=(1<<C)-1,S=A>>1,x=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=v?0:P-1,E=v?1:-1,P=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(T=isNaN(g)?1:0,w=A):(w=Math.floor(Math.log(g)/Math.LN2),g*(v=Math.pow(2,-w))<1&&(w--,v*=2),2<=(g+=1<=w+S?x/v:x*Math.pow(2,1-S))*v&&(w++,v/=2),A<=w+S?(T=0,w=A):1<=w+S?(T=(g*v-1)*Math.pow(2,b),w+=S):(T=g*Math.pow(2,S-1)*Math.pow(2,b),w=0));8<=b;m[p+y]=255&T,y+=E,T/=256,b-=8);for(w=w<<b|T,C+=b;0<C;m[p+y]=255&w,y+=E,w/=256,C-=8);m[p+y-E]|=128*P}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,i,s){(function(r,a,o,l,c,u,d,f,h){var m,g,p;function v(){}(r=i.exports={}).nextTick=(g=typeof window<"u"&&window.setImmediate,p=typeof window<"u"&&window.postMessage&&window.addEventListener,g?function(b){return window.setImmediate(b)}:p?(m=[],window.addEventListener("message",function(b){var _=b.source;_!==window&&_!==null||b.data!=="process-tick"||(b.stopPropagation(),0<m.length&&m.shift()())},!0),function(b){m.push(b),window.postMessage("process-tick","*")}):function(b){setTimeout(b,0)}),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.binding=function(b){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(b){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(C9);var T9=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],O0=T9;O0=O0.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)});O0.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]);function E9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A9(t){var e=E9(t,"string");return typeof e=="symbol"?e:String(e)}function sn(t,e,n){return e=A9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO",bump:"csm_Bump",depthAlpha:"csm_DepthAlpha"},Xi,lc;Xi={},sn(Xi,"".concat(vt.normal),{"#include <beginnormal_vertex>":`
    vec3 objectNormal = `.concat(vt.normal,`;
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `)}),sn(Xi,"".concat(vt.position),{"#include <begin_vertex>":`
    vec3 transformed = `.concat(vt.position,`;
  `)}),sn(Xi,"".concat(vt.positionRaw),{"#include <begin_vertex>":`
    vec4 csm_internal_positionUnprojected = `.concat(vt.positionRaw,`;
    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;
    #endif
    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;
    vec3 transformed = csm_internal_positionUnprojected.xyz;
  `)}),sn(Xi,"".concat(vt.pointSize),{"gl_PointSize = size;":`
    gl_PointSize = `.concat(vt.pointSize,`;
    `)}),sn(Xi,"".concat(vt.diffuseColor),{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = `.concat(vt.diffuseColor,`;
  `)}),sn(Xi,"".concat(vt.fragColor),{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = `.concat(vt.fragColor,`;
  `)}),sn(Xi,"".concat(vt.emissive),{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = `.concat(vt.emissive,`;
    `)}),sn(Xi,"".concat(vt.roughness),{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = `.concat(vt.roughness,`;
    `)}),sn(Xi,"".concat(vt.metalness),{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = `.concat(vt.metalness,`;
    `)}),sn(Xi,"".concat(vt.ao),{"#include <aomap_fragment>":`
    #include <aomap_fragment>
    reflectedLight.indirectDiffuse *= 1. - `.concat(vt.ao,`;
    `)}),sn(Xi,"".concat(vt.bump),{"#include <normal_fragment_maps>":`
    #include <normal_fragment_maps>

    vec3 csm_internal_orthogonal = `.concat(vt.bump," - (dot(").concat(vt.bump,`, normal) * normal);
    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;
    normal = normalize(normal - csm_internal_projectedbump);
    `)}),sn(Xi,"".concat(vt.depthAlpha),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":`
      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * `.concat(vt.depthAlpha,` );
    `),"gl_FragColor = packDepthToRGBA( fragCoordZ );":`
      gl_FragColor = packDepthToRGBA( fragCoordZ );
      gl_FragColor.a *= `.concat(vt.depthAlpha,`;
    `)});lc={},sn(lc,"".concat(vt.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( `.concat(vt.position,`, 1.0 );
  `)}),sn(lc,"".concat(vt.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = `.concat(vt.position,`;
  `)}),sn(lc,"".concat(vt.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(vt.diffuseColor,`;
  `)}),sn(lc,"".concat(vt.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(vt.fragColor,`;
  `)});var Yi;Yi={},sn(Yi,"".concat(vt.position),"*"),sn(Yi,"".concat(vt.positionRaw),"*"),sn(Yi,"".concat(vt.normal),"*"),sn(Yi,"".concat(vt.pointSize),["PointsMaterial"]),sn(Yi,"".concat(vt.diffuseColor),"*"),sn(Yi,"".concat(vt.fragColor),"*"),sn(Yi,"".concat(vt.emissive),["MeshStandardMaterial","MeshPhysicalMaterial"]),sn(Yi,"".concat(vt.roughness),["MeshStandardMaterial","MeshPhysicalMaterial"]),sn(Yi,"".concat(vt.metalness),["MeshStandardMaterial","MeshPhysicalMaterial"]),sn(Yi,"".concat(vt.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial"]),sn(Yi,"".concat(vt.bump),["MeshLambertMaterial","MeshMatcapMaterial","MeshNormalMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshStandardMaterial","MeshToonMaterial","ShadowMaterial"]),sn(Yi,"".concat(vt.depthAlpha),"*");new ti;new G;We.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ae(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};Ts.line={uniforms:sf.merge([We.common,We.fog,We.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};new G;new G;new Et;new Et;new Et;new G;new at;new EP;new G;new ti;new ni;new Et;const P9={key:0,args:[0,1,64]},I9={key:1,args:[.5,1,64]},R9={key:2},L9=["tone-mapped","map","side","color"];new Be(16777215);class Ax extends an{constructor(){const e=Ax.SkyShader,n=new Gi({name:e.name,uniforms:sf.clone(e.uniforms),vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:_i,depthWrite:!1});super(new Za(1,1,1),n),this.isSky=!0}}Ax.SkyShader={name:"SkyShader",uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new G},up:{value:new G(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPosition );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};var k9={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(M9,function(){var n=function(){function i(h){return a.appendChild(h.dom),h}function s(h){for(var m=0;m<a.children.length;m++)a.children[m].style.display=m===h?"block":"none";r=h}var r=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(h){h.preventDefault(),s(++r%a.children.length)},!1);var o=(performance||Date).now(),l=o,c=0,u=i(new n.Panel("FPS","#0ff","#002")),d=i(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=i(new n.Panel("MB","#f08","#201"));return s(0),{REVISION:16,dom:a,addPanel:i,showPanel:s,begin:function(){o=(performance||Date).now()},end:function(){c++;var h=(performance||Date).now();if(d.update(h-o,200),h>l+1e3&&(u.update(1e3*c/(h-l),100),l=h,c=0,f)){var m=performance.memory;f.update(m.usedJSHeapSize/1048576,m.jsHeapSizeLimit/1048576)}return h},update:function(){o=this.end()},domElement:a,setMode:s}};return n.Panel=function(i,s,r){var a=1/0,o=0,l=Math.round,c=l(window.devicePixelRatio||1),u=80*c,d=48*c,f=3*c,h=2*c,m=3*c,g=15*c,p=74*c,v=30*c,b=document.createElement("canvas");b.width=u,b.height=d,b.style.cssText="width:80px;height:48px";var _=b.getContext("2d");return _.font="bold "+9*c+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=r,_.fillRect(0,0,u,d),_.fillStyle=s,_.fillText(i,f,h),_.fillRect(m,g,p,v),_.fillStyle=r,_.globalAlpha=.9,_.fillRect(m,g,p,v),{dom:b,update:function(w,T){a=Math.min(a,w),o=Math.max(o,w),_.fillStyle=r,_.globalAlpha=1,_.fillRect(0,0,u,g),_.fillStyle=s,_.fillText(l(w)+" "+i+" ("+l(a)+"-"+l(o)+")",f,h),_.drawImage(b,m+c,g,p-c,v,m,g,p-c,v),_.fillRect(m+p-c,g,c,v),_.fillStyle=r,_.globalAlpha=.9,_.fillRect(m+p-c,g,c,l((1-w/T)*v))}}},n})})(k9);var D9=`#include <common>

void main() {
  vec2 center = vec2(0., 1.);
  float rotation = 0.0;

  
  
  float size = 0.03;

  vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
  vec2 scale;
  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

  bool isPerspective = isPerspectiveMatrix( projectionMatrix );
  if ( isPerspective ) scale *= - mvPosition.z;

  vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
  vec2 rotatedPosition;
  rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
  rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
  mvPosition.xy += rotatedPosition;

  gl_Position = projectionMatrix * mvPosition;
}`,O9=`void main() {
  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
}`;const xf=new G(0,0,0),Px=new G(0,0,0),N9=new G(0,0,0);function KM(t,e,n){const i=xf.setFromMatrixPosition(t.matrixWorld);i.project(e);const s=n.width/2,r=n.height/2;return[(Number.isNaN(i.x)?0:i.x)*s+s,-(i.y*r)+r]}function V9(t,e){const n=xf.setFromMatrixPosition(t.matrixWorld),i=Px.setFromMatrixPosition(e.matrixWorld),s=n.sub(i),r=e.getWorldDirection(N9);return s.angleTo(r)>Math.PI/2}function F9(t,e,n,i){const s=xf.setFromMatrixPosition(t.matrixWorld),r=s.clone();r.project(e),n.setFromCamera(new Ae(r.x,r.y),e);const a=n.intersectObjects(i,!0);if(a.length>0){const o=a[0].distance;return s.distanceTo(n.ray.origin)<o}return!0}function B9(t,e){if(e instanceof Es)return e.zoom;if(e instanceof tn){const n=xf.setFromMatrixPosition(t.matrixWorld),i=Px.setFromMatrixPosition(e.matrixWorld),s=e.fov*Math.PI/180,r=n.distanceTo(i);return 1/(2*Math.tan(s/2)*r)}else return 1}function U9(t,e,n){if(e instanceof tn||e instanceof Es){const i=xf.setFromMatrixPosition(t.matrixWorld),s=Px.setFromMatrixPosition(e.matrixWorld),r=i.distanceTo(s),a=(n[1]-n[0])/(e.far-e.near),o=n[1]-a*e.far;return Math.round(a*r+o)}}const N0=t=>Math.abs(t)<1e-10?0:t;function iR(t,e,n=""){let i="matrix3d(";for(let s=0;s!==16;s++)i+=N0(e[s]*t.elements[s])+(s!==15?",":")");return n+i}const z9=(t=>e=>iR(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),H9=(t=>(e,n)=>iR(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]),G9=["geometry","material"];new Qa;const W9="/Portfolio/Models/IsoBedroom.glb",$9={__name:"room",setup(t){const{onLoop:e}=au(),n=ke();e(({delta:s,elapsed:r})=>{n.value&&(n.value.rotation.y+=s,n.value.position.y=Math.sin(r))});const i=ke();return e(({delta:s,elapsed:r})=>{i.value&&(i.value.rotation.y+=s/2,i.value.position.y=Math.sin(r)/2)}),(s,r)=>{const a=Sn("motion-slide-visible-right");return tt((it(),rn(Pe(YP),{alpha:""},{default:et(()=>[r[0]||(r[0]=Te("TresPerspectiveCamera",{zoom:.6},null,-1)),M(Pe(nR),{"enable-zoom":!1}),Te("TresMesh",{ref_key:"roomRef",ref:i},[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(W9)},null,8,["path"])]),_:1}))],512),r[1]||(r[1]=Te("TresAmbientLight",{intensity:1},null,-1)),r[2]||(r[2]=Te("TresDirectionalLight",{position:[-4,8,4],intensity:1.5,"cast-shadow":""},null,-1)),r[3]||(r[3]=Te("TresDirectionalLight",{position:[-4,30,4],intensity:.2},null,-1))]),_:1})),[[a]])}}},j9="/Portfolio/Parallax/FrontTrees.png",X9="/Portfolio/Parallax/BackTrees.png",Y9="/Portfolio/Parallax/Clouds.png",q9="/Portfolio/Parallax/Mountain.png",K9="/Portfolio/Parallax/Foreground.png",Z9="/Portfolio/Parallax/Stars.png",J9="/Portfolio/Parallax/Sky.png",Q9={class:"h-screen w-screen relative flex flex-col justify-start items-center"},ej=["src"],tj=["src"],nj=["src"],ij=["src"],sj=["src"],rj=["src"],aj=["src"],oj={__name:"intro",setup(t){const e=he(),n=he(),i=he(),s=he(),r=he(),a=he(),o=he(),l=he();On(()=>{document.addEventListener("scroll",c)}),qs(()=>{document.removeEventListener("scroll",c)});const c=u=>{const d=window.scrollY,f=d/20;d<800&&(i.value.style.transform="translateY("+f+"px)scale("+(1+f*.02)+")",s.value.style.transform="translateX("+f*10+"px)",l.value.style.transform="translateY("+f*-15+"px)",r.value.style.transform="translateY("+f*-5+"px)scale("+(1+f*.03)+")",a.value.style.transform="scale("+(1+f*.005)+")",e.value.style.transform="translateX("+f*20+"px)",n.value.style.transform="translateX("+f*10+"px)")};return(u,d)=>{const f=Sn("motion-fade");return it(),qt("div",Q9,[tt(Te("img",{src:Pe(J9),class:"w-full h-full absolute"},null,8,ej),[[f]]),tt((it(),qt("h1",{class:"font-extrabold text-6xl display-1 mt-28 text-white text-shadow shadow-purple-900",ref_key:"greeting",ref:e},d[0]||(d[0]=[Pn(" Hi, I'm ")]))),[[f]]),tt((it(),qt("h1",{class:"font-extrabold text-6xl text-white text-shadow shadow-purple-900",ref_key:"name",ref:n},d[1]||(d[1]=[Pn(" Shivam ")]))),[[f]]),tt(Te("img",{src:Pe(Z9),class:"w-full h-full absolute object-cover",ref_key:"stars",ref:l},null,8,tj),[[f]]),tt(Te("img",{src:Pe(Y9),class:"w-full overflow-visible h-full absolute object-cover",ref_key:"clouds",ref:s},null,8,nj),[[f]]),tt(Te("img",{src:Pe(q9),class:"w-full h-full overflow-hidden absolute object-cover",ref_key:"mountain",ref:i},null,8,ij),[[f]]),tt(Te("img",{src:Pe(X9),class:"w-full h-full absolute object-cover",ref_key:"backTrees",ref:a},null,8,sj),[[f]]),tt(Te("img",{src:Pe(K9),class:"w-full h-full absolute object-cover",ref_key:"foreGround",ref:o},null,8,rj),[[f]]),tt(Te("img",{src:Pe(j9),class:"w-full h-full absolute object-cover",ref_key:"frontTrees",ref:r},null,8,aj),[[f]])])}}},lj="/Portfolio/Logos/Tensorflow.svg",cj="/Portfolio/Logos/Scratch.png",uj="/Portfolio/Logos/First.png",dj="/Portfolio/Logos/Ubuntu.png",fj="/Portfolio/Logos/UmdLoop.png",hj=["src"],mj=["src"],pj=["src"],vj=["src"],gj=["src"],yj={__name:"timeline",setup(t){return(e,n)=>{const i=Ia("v-card-subtitle"),s=Ia("v-col"),r=Ia("v-row"),a=Ia("v-card"),o=Ia("v-timeline-item"),l=Ia("v-timeline"),c=Ia("v-app"),u=Sn("motion-pop"),d=Sn("motion-slide-visible-right"),f=Sn("motion-fade");return it(),rn(c,{class:"bg-transparent ml-8 mr-8"},{default:et(()=>[M(l,{class:"","line-color":"white","line-thickness":"3"},{default:et(()=>[tt((it(),rn(o,{class:"",size:"large","dot-color":"#1A1644"},{icon:et(()=>[tt(Te("img",{src:Pe(fj)},null,8,hj),[[u]])]),default:et(()=>[tt((it(),rn(a,{tile:""},{default:et(()=>[M(r,{align:"start",class:"bg-foreground shadow-2xl"},{default:et(()=>[M(s,null,{default:et(()=>[n[1]||(n[1]=Te("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"UMD Loop Software Engineer ",-1)),n[2]||(n[2]=Te("div",{class:"text-white font-semibold p-6"},[Te("li",null," Collaborated with 5 people to complete robotics challenges including corner detection and creating a hardware interface "),Te("li",null," Implemented Harris Corner Detection algo in python by utilizing linear alg and cv2 to determine sharp corners in an image "),Te("li",null," Constructed result by using k-means clustering to find large corner groups and plotted red circles onto the image at same cords ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:et(()=>n[0]||(n[0]=[Pn("2024-Present")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1})),[[f]]),M(o,{class:"",size:"large","dot-color":"#1A1644"},{icon:et(()=>[tt(Te("img",{src:Pe(lj)},null,8,mj),[[u]])]),default:et(()=>[tt((it(),rn(a,{tile:""},{default:et(()=>[M(r,{align:"start",class:"bg-foreground shadow-2xl"},{default:et(()=>[M(s,null,{default:et(()=>[n[4]||(n[4]=Te("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"AI Club Vice President",-1)),n[5]||(n[5]=Te("div",{class:"text-white font-semibold p-6"},[Te("li",null," Organized lessons relating to machine learning, artificial intelligence, and Python to allow for better student engagement "),Te("li",null," Trained YoloV5 ML model with PyTorch by labeling data, then setting weights and biases to differentiate food in a photo "),Te("li",null," Created a chatbot w/ GUI utilizing open AI whisper and Chat-GPT API to convert verbal input into text in several languages "),Te("li",null," Implemented flappy-bird project w/ Keras API, utilizing a genetic algorithm allowing birds to pass down beneficial traits ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:et(()=>n[3]||(n[3]=[Pn("2021-2023")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1}),tt((it(),rn(o,{size:"large","dot-color":"#1A1644"},{icon:et(()=>[tt(Te("img",{src:Pe(uj)},null,8,pj),[[u]])]),default:et(()=>[tt((it(),rn(a,{tile:""},{default:et(()=>[M(r,{align:"start",class:"bg-foreground"},{default:et(()=>[M(s,null,{default:et(()=>[n[7]||(n[7]=Te("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"}," Robotics Software Co-lead",-1)),n[8]||(n[8]=Te("div",{class:"text-white font-semibold p-6"},[Te("li",null," Collaborated with team to build and program robot in order to compete in the FTC robotics competition "),Te("li",null," Taught new members computer science concepts in Java including OOD principles and set up procedures for the robot "),Te("li",null," Utilized color detection to automate parking and picking up cones for the FTC competition ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:et(()=>n[6]||(n[6]=[Pn("2022-2023")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1})),[[f]]),tt((it(),rn(o,{size:"large","dot-color":"#1A1644"},{icon:et(()=>[tt(Te("img",{src:Pe(cj)},null,8,vj),[[u]])]),default:et(()=>[tt((it(),rn(a,{class:"mb-2",tile:""},{default:et(()=>[M(r,{align:"start",class:"bg-foreground"},{default:et(()=>[M(s,null,{default:et(()=>[n[10]||(n[10]=Te("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"CS Summer Camp Tutor",-1)),n[11]||(n[11]=Te("div",{class:"text-white font-semibold p-6"},[Te("li",null," Tutored 10 kids ages 5-10 in basic computer science concepts including debugging, variables, and conditionals "),Te("li",null," Utilized various tools to improve computer science understanding including Scratch, Edblocks, and Edscratch "),Te("li",null," Organized activities for kids to program Edison robots for various activities including soccer, battles, and maze traversal ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:et(()=>n[9]||(n[9]=[Pn("2022")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1})),[[f]]),tt((it(),rn(o,{size:"large","dot-color":"#1A1644"},{icon:et(()=>[tt(Te("img",{src:Pe(dj)},null,8,gj),[[u]])]),default:et(()=>[tt((it(),rn(a,{tile:""},{default:et(()=>[M(r,{align:"start",class:"bg-foreground"},{default:et(()=>[M(s,null,{default:et(()=>[n[13]||(n[13]=Te("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"Coding Club Lead ",-1)),n[14]||(n[14]=Te("div",{class:"text-white font-semibold p-6"},[Te("li",null," Inventoried and recorded problems with 15 laptops including defective hard drives, motherboards, batteries, and RAM "),Te("li",null," Repaired computers by replacing parts, and installing Ubuntu operating system to improve system performance ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:et(()=>n[12]||(n[12]=[Pn("2021")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1})),[[f]])]),_:1})]),_:1})}}},bj="/Portfolio/Models/Skills/PythonBall.glb",_j="/Portfolio/Models/Skills/JavaBall.glb",xj="/Portfolio/Models/Skills/JavaScriptBall.glb",wj="/Portfolio/Models/Skills/HTMLBall.glb",Sj="/Portfolio/Models/Skills/CSSBall.glb",Mj="/Portfolio/Models/Skills/GithubBall.glb",Cj="/Portfolio/Models/Skills/CSharpBall.glb",Tj="/Portfolio/Models/Skills/BlenderBall.glb",Ej="/Portfolio/Models/Skills/UnityBall.glb",Aj="/Portfolio/Models/Skills/VueBall.glb",Pj={position:[-6,0,-2]},Ij={position:[-3,0,-2]},Rj={position:[0,0,-2]},Lj={position:[-6,0,2]},kj={position:[-3,0,2]},Dj={position:[0,0,2]},Oj={position:[3,0,2]},Nj={position:[3,0,-2]},Vj={position:[6,0,2]},Fj={position:[6,0,-2]},Bj={class:"font-medium text-center mt-5 text-shadow shadow-black text-lg"},Uj={class:"font-medium text-center mt-5 text-shadow shadow-black text-md"},zj={__name:"skills",setup(t){return(e,n)=>{const i=Sn("motion-slide-visible-bottom"),s=Sn("motion-slide-visible-left");return it(),qt($e,null,[tt((it(),rn(Pe(YP),{alpha:""},{default:et(()=>[n[0]||(n[0]=Te("TresPerspectiveCamera",{position:[0,10,0],"look-at":[0,10,0]},null,-1)),M(Pe(nR),{"enable-pan":!1,"max-polar-angle":1.4,"min-polar-angle":-1.4,"max-azimuth-angle":.4,"min-azimuth-angle":-.4,"enable-zoom":!1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Pj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(_j)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Ij,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(bj)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Rj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(xj)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Lj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(wj)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",kj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(Sj)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Dj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(Mj)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Oj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(Cj)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Nj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(Tj)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Vj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(Ej)},null,8,["path"])]),_:1}))])]),_:1}),M(Pe(nr),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:et(()=>[Te("TresMesh",Fj,[(it(),rn(Ms,null,{default:et(()=>[M(Pe(Bs),{path:Pe(Aj)},null,8,["path"])]),_:1}))])]),_:1}),n[1]||(n[1]=Te("TresAmbientLight",{intensity:1},null,-1)),n[2]||(n[2]=Te("TresDirectionalLight",{intensity:2,position:[0,5,2]},null,-1)),n[3]||(n[3]=Te("TresDirectionalLight",{intensity:1,position:[6,-15,-2]},null,-1))]),_:1})),[[i]]),tt((it(),qt("p",Bj,n[4]||(n[4]=[Pn("Java, Python, JavaScript, Blender, Vue, HTML, CSS, Github, C#, Unity ")]))),[[s]]),tt((it(),qt("p",Uj,n[5]||(n[5]=[Pn("Typescript, React, C, Git, SQL ")]))),[[s]])],64)}}};class lr{constructor(e,n={}){if(!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(n),this.reverse=this.settings.reverse?-1:1,this.resetToStart=lr.isSettingTrue(this.settings["reset-to-start"]),this.glare=lr.isSettingTrue(this.settings.glare),this.glarePrerender=lr.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=lr.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=lr.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),this.resetToStart===!1&&(this.settings.startX=0,this.settings.startY=0)}static isSettingTrue(e){return e===""||e===!0||e===1}getElementListener(){if(this.fullPageListening)return window.document;if(typeof this.settings["mouse-event-element"]=="string"){const e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}addEventListeners(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}removeEventListeners(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}destroy(){clearTimeout(this.transitionTimeout),this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.element.style.willChange="",this.element.style.transition="",this.element.style.transform="",this.resetGlare(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}onDeviceOrientation(e){if(e.gamma===null||e.beta===null)return;this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,this.gammazero===null?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);const n=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,i=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,s=n/this.width,r=i/this.height,a=e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero),o=e.beta-(this.settings.gyroscopeMinAngleY+this.betazero),l=a/s,c=o/r;this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.event={clientX:l+this.left,clientY:c+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}onMouseEnter(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}onMouseMove(e){this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}onMouseLeave(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}reset(){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};let e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}resetGlare(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}getValues(){let e,n;this.fullPageListening?(e=this.event.clientX/this.clientWidth,n=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,n=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),n=Math.min(Math.max(n,0),1);let i=(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),s=(this.reverse*(n*this.settings.max*2-this.settings.max)).toFixed(2),r=Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI);return{tiltX:i,tiltY:s,percentageX:e*100,percentageY:n*100,angle:r}}updateElementPosition(){let e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}update(){let e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:e.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform=`rotate(${e.angle}deg) translate(-50%, -50%)`,this.glareElement.style.opacity=`${e.percentageY*this.settings["max-glare"]/100}`),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}prepareGlare(){if(!this.glarePrerender){const e=document.createElement("div");e.classList.add("js-tilt-glare");const n=document.createElement("div");n.classList.add("js-tilt-glare-inner"),e.appendChild(n),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),!this.glarePrerender&&(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none","border-radius":"inherit"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())}updateGlareSize(){if(this.glare){const e=(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight)*2;Object.assign(this.glareElement.style,{width:`${e}px`,height:`${e}px`})}}updateClientSize(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}onWindowResize(){this.updateGlareSize(),this.updateClientSize()}setTransition(){clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition=`opacity ${this.settings.speed}ms ${this.settings.easing}`),this.transitionTimeout=setTimeout(()=>{this.element.style.transition="",this.glare&&(this.glareElement.style.transition="")},this.settings.speed)}extendSettings(e){let n={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,"reset-to-start":!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},i={};for(var s in n)if(s in e)i[s]=e[s];else if(this.element.hasAttribute("data-tilt-"+s)){let r=this.element.getAttribute("data-tilt-"+s);try{i[s]=JSON.parse(r)}catch{i[s]=r}}else i[s]=n[s];return i}static init(e,n){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach(i=>{"vanillaTilt"in i||(i.vanillaTilt=new lr(i,n))})}}typeof document<"u"&&(window.VanillaTilt=lr,lr.init(document.querySelectorAll("[data-tilt]")));const sR=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Hj={name:"Tilt",data:function(){return{}},mounted(){lr.init(this.$refs.tiltRef,this.options)},props:{options:Object,parallax:Boolean}};function Gj(t,e,n,i,s,r){return it(),qt("div",{class:qd(n.parallax?"preserve":""),id:"tiltMe",ref:"tiltRef"},[qb(t.$slots,"default")],2)}const cc=sR(Hj,[["render",Gj]]),Wj="/Portfolio/Logos/Unity.png",$j="/Portfolio/Logos/cs50.jpeg",jj="/Portfolio/Logos/TTT.png",Xj="/Portfolio/Logos/Battleship.png",Yj="/Portfolio/Logos/Canvas.png",qj="/Portfolio/Logos/BackTesting.png",Kj={class:"flex flex-row"},Zj={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},Jj={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},Qj={class:"flex items-center"},e7=["src"],t7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},n7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},i7={class:"flex items-center"},s7=["src"],r7={class:"flex flex-row"},a7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},o7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},l7={class:"flex items-center"},c7=["src"],u7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},d7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},f7={class:"flex items-center"},h7=["src"],m7={class:"flex flex-row"},p7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},v7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},g7={class:"flex items-center"},y7=["src"],b7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},_7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},x7={class:"flex items-center"},w7=["src"],S7={__name:"projects",setup(t){return(e,n)=>{const i=Sn("motion-slide-visible-left"),s=Sn("motion-slide-visible-right");return it(),qt($e,null,[Te("div",Kj,[tt((it(),qt("div",Zj,[M(Pe(cc),null,{default:et(()=>[Te("div",Jj,[n[1]||(n[1]=Te("h1",{class:"mb-2 text-2xl font-bold"},"Canvas-AI Chrome Extension(Palette)",-1)),Te("section",Qj,[Te("img",{src:Pe(Yj),class:"w-8 h-8 mr-4 rounded"},null,8,e7),n[0]||(n[0]=Te("h2",{class:"font-2xl"},"2024-Present",-1))]),n[2]||(n[2]=Te("li",null," Creating fluid and reactive UI to display text input and responses utilizing Typescript with React and Tailwind css ",-1)),n[3]||(n[3]=Te("li",null," Utilizing Python web scrapper with Canvas LMS API to allow users to collect information about their canvas courses ",-1)),n[4]||(n[4]=Te("li",null," Hosting llama llm locally on linux cloud vm allowing constant access across several different devices ",-1)),n[5]||(n[5]=Te("li",null," Passing in canvas data along with user query into llama llm to generate responses relating to canvas info ",-1))])]),_:1})])),[[i]]),tt((it(),qt("div",t7,[M(Pe(cc),null,{default:et(()=>[Te("div",n7,[n[7]||(n[7]=Te("h1",{class:"mb-2 text-2xl font-bold"},"Apex Quant Backtesting Engine ",-1)),Te("section",i7,[Te("img",{src:Pe(qj),class:"w-8 h-8 mr-4 rounded"},null,8,s7),n[6]||(n[6]=Te("h2",{class:"font-2xl"},"2024-Present",-1))]),n[8]||(n[8]=Te("li",null," Obtaining Forex pair price data using Yahoo Finance and processing with Pandas data frame for simplified manipulation ",-1)),n[9]||(n[9]=Te("li",null," Calculating long and short-term moving average to simulate trading strategy which holds and sells based on average crossovers ",-1)),n[10]||(n[10]=Te("li",null," Implementing risk management strategy which limits position size based on capital and stops trading if loss exceeds a threshold ",-1)),n[11]||(n[11]=Te("li",null," Plotting equity curve with Matplotlib and calculating key statistics including winning percentage and total profit/loss ",-1))])]),_:1})])),[[s]])]),Te("div",r7,[tt((it(),qt("div",a7,[M(Pe(cc),null,{default:et(()=>[Te("div",o7,[n[13]||(n[13]=Te("h1",{class:"mb-2 text-2xl font-bold"},"Unity Parkour Game",-1)),Te("section",l7,[Te("img",{src:Pe(Wj),class:"w-8 h-8 mr-4 rounded"},null,8,c7),n[12]||(n[12]=Te("h2",{class:"font-2xl"},"2022-2023",-1))]),n[14]||(n[14]=Te("li",null," Collaborated with two team members to create a 3d parkour game using C# in the unity game engine ",-1)),n[15]||(n[15]=Te("li",null," Rapidly prototyped new iterations for project ideas with team members by utilizing git repositories and version control ",-1)),n[16]||(n[16]=Te("li",null," Developed character movement abilities and player controls including wall running, jumping, and sliding ",-1)),n[17]||(n[17]=Te("li",null," Rigged up character model to allow for smooth animation transitions between different movement positions and actions ",-1))])]),_:1})])),[[i]]),tt((it(),qt("div",u7,[M(Pe(cc),null,{default:et(()=>[Te("div",d7,[n[19]||(n[19]=Te("h1",{class:"mb-2 text-2xl font-bold"},"Harvards CS50X",-1)),Te("section",f7,[Te("img",{src:Pe($j),class:"w-8 h-8 mr-4 rounded"},null,8,h7),n[18]||(n[18]=Te("h2",{class:"font-2xl"},"2022",-1))]),n[20]||(n[20]=Te("li",null," Completed an online CS course that covered several topics including C, algorithms, and web design ",-1)),n[21]||(n[21]=Te("li",null," Created a stock trading website using python, flask, and SQL, allowed users to buy and sell simulated stocks based on real data ",-1)),n[22]||(n[22]=Te("li",null," Manipulated pixels in an image by utilizing image algorithms in C to achieve effects including grayscale, blur, and outlines. ",-1)),n[23]||(n[23]=Te("li",null," Learned to encrypt and decrypt data in C utilizing some common cipher technique including substitution cipher and Caesar shift ",-1))])]),_:1})])),[[s]])]),Te("div",m7,[tt((it(),qt("div",p7,[M(Pe(cc),null,{default:et(()=>[Te("div",v7,[n[25]||(n[25]=Te("h1",{class:"mb-2 text-2xl font-bold"},"Tic Tac Toe Bot",-1)),Te("section",g7,[Te("img",{src:Pe(jj),class:"w-8 h-8 mr-4 rounded"},null,8,y7),n[24]||(n[24]=Te("h2",{class:"font-2xl"},"2020",-1))]),n[26]||(n[26]=Te("li",null," Created an interactive, terminal-based tic tac toe game using Java where a player can compete against the computer ",-1)),n[27]||(n[27]=Te("li",null," Utilized minimax algorithm to allow computer to always select the most optimal move, leading to a win or draw every game ",-1))])]),_:1})])),[[i]]),Te("div",b7,[M(Pe(cc),null,{default:et(()=>[tt((it(),qt("div",_7,[n[29]||(n[29]=Te("h1",{class:"mb-2 text-2xl font-bold"},"Battleship",-1)),Te("section",x7,[Te("img",{src:Pe(Xj),class:"w-8 h-8 mr-4 rounded"},null,8,w7),n[28]||(n[28]=Te("h2",{class:"font-2xl"},"2023",-1))]),n[30]||(n[30]=Te("li",null," Created terminal-based battleship game utilizing polymorphism to create classes for several separate ship and player types ",-1)),n[31]||(n[31]=Te("li",null," Allowed players to play against a bot and implemented hunt algorithm to improve average performance over random guesses ",-1))])),[[s]])]),_:1})])])],64)}}},M7={class:"w-screen h-screen flex flex-col md:flex-row mt-40 px-5 md:px-10"},C7={class:"w-full md:w-1/2 p-5 text-center"},T7={class:"text-4xl md:text-8xl font-bold text-shadow shadow-black"},E7={class:"w-full md:w-1/2 p-5"},A7={class:"flex justify-center mt-10"},P7={class:"text-4xl md:text-8xl font-bold text-shadow shadow-black"},I7={class:"flex justify-center mt-10"},R7={class:"text-4xl md:text-8xl font-bold text-shadow shadow-black"},L7={class:"h-screen w-screen"},k7={class:"h-1/2"},D7={class:"flex justify-center mt-10"},O7={class:"text-4xl md:text-8xl font-bold text-shadow shadow-black"},N7={__name:"App",setup(t){const e=he(!1);return(n,i)=>{const s=Sn("motion-pop-visible");return it(),qt($e,null,[M(oj),i[7]||(i[7]=Te("div",{class:"h-64 bg-gradient-to-b from-foreground from-20% to-transparent"},null,-1)),Te("div",{class:"logo",style:Dc({backgroundImage:`url(${Pe(FO)})`})},null,4),Te("div",M7,[Te("div",C7,[tt((it(),qt("h1",T7,i[1]||(i[1]=[Pn(" About Me ")]))),[[s]]),i[3]||(i[3]=Te("p",{class:"font-medium text-shadow shadow-black text-lg md:text-xl p-2"}," I am a Sophomore majoring in computer science and mathematics at the University of Maryland, College Park. ",-1)),Te("button",{onClick:i[0]||(i[0]=r=>e.value=!e.value),class:"mt-4 p-2 bg-blue-500 text-white rounded-md hover:bg-blue-700 transition-all duration-300 ease-in-out"},Db(e.value?"Show Less":"Show More"),1),tt(Te("div",{class:"mt-4 overflow-hidden max-h-0 transition-all duration-500 ease-in-out",style:Dc(e.value?"max-height: 400px;":"max-height: 0;")},i[2]||(i[2]=[Te("p",{class:"font-medium text-shadow shadow-black text-lg md:text-xl p-2"}," I enjoy creating projects that merge my passion for technology and problem-solving. Currently, Im exploring advanced machine learning techniques and seeking ways to enhance the user experience in software development. ",-1)]),4),[[Rs,e.value]])]),Te("div",E7,[M($9)])]),Te("div",A7,[tt((it(),qt("h1",P7,i[4]||(i[4]=[Pn(" Experiences ")]))),[[s]])]),M(yj),Te("div",I7,[tt((it(),qt("h1",R7,i[5]||(i[5]=[Pn(" Skills ")]))),[[s]])]),(it(),rn(Ms,null,{default:et(()=>[Te("div",L7,[Te("div",k7,[M(zj)])])]),_:1})),Te("div",D7,[tt((it(),qt("h1",O7,i[6]||(i[6]=[Pn(" Projects ")]))),[[s]])]),M(S7)],64)}}},V7=sR(N7,[["__scopeId","data-v-c9c71747"]]);function Ay(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function V0(t,e,n=".",i){if(!Ay(e))return V0(t,{},n,i);const s=Object.assign({},e);for(const r in t){if(r==="__proto__"||r==="constructor")continue;const a=t[r];a!=null&&(i&&i(s,r,a,n)||(Array.isArray(a)&&Array.isArray(s[r])?s[r]=[...a,...s[r]]:Ay(a)&&Ay(s[r])?s[r]=V0(a,s[r],(n?`${n}.`:"")+r.toString(),i):s[r]=a))}return s}function F7(t){return(...e)=>e.reduce((n,i)=>V0(n,i,"",t),{})}const rR=F7(),aR=1/60*1e3,B7=typeof performance<"u"?()=>performance.now():()=>Date.now(),oR=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(B7()),aR);function U7(t){let e=[],n=[],i=0,s=!1,r=!1;const a=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const d=u&&s,f=d?e:n;return c&&a.add(l),f.indexOf(l)===-1&&(f.push(l),d&&s&&(i=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),a.delete(l)},process:l=>{if(s){r=!0;return}if(s=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let c=0;c<i;c++){const u=e[c];u(l),a.has(u)&&(o.schedule(u),t())}s=!1,r&&(r=!1,o.process(l))}};return o}const z7=40;let F0=!0,Od=!1,B0=!1;const kc={delta:0,timestamp:0},wf=["read","update","preRender","render","postRender"],Cv=wf.reduce((t,e)=>(t[e]=U7(()=>Od=!0),t),{}),U0=wf.reduce((t,e)=>{const n=Cv[e];return t[e]=(i,s=!1,r=!1)=>(Od||W7(),n.schedule(i,s,r)),t},{}),H7=wf.reduce((t,e)=>(t[e]=Cv[e].cancel,t),{});wf.reduce((t,e)=>(t[e]=()=>Cv[e].process(kc),t),{});const G7=t=>Cv[t].process(kc),lR=t=>{Od=!1,kc.delta=F0?aR:Math.max(Math.min(t-kc.timestamp,z7),1),kc.timestamp=t,B0=!0,wf.forEach(G7),B0=!1,Od&&(F0=!1,oR(lR))},W7=()=>{Od=!0,F0=!0,B0||oR(lR)},cR=()=>kc;function uR(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}var ZM=function(){};const z0=(t,e,n)=>Math.min(Math.max(n,t),e),JM=.001,$7=.01,j7=10,X7=.05,Y7=1;function q7({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let s,r,a=1-e;a=z0(X7,Y7,a),t=z0($7,j7,t/1e3),a<1?(s=c=>{const u=c*a,d=u*t,f=u-n,h=H0(c,a),m=Math.exp(-d);return JM-f/h*m},r=c=>{const d=c*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(c,2)*t,m=Math.exp(-d),g=H0(Math.pow(c,2),a);return(-s(c)+JM>0?-1:1)*((f-h)*m)/g}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-.001+u*d},r=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const o=5/t,l=Z7(s,r,o);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:t}}}const K7=12;function Z7(t,e,n){let i=n;for(let s=1;s<K7;s++)i=i-t(i)/e(i);return i}function H0(t,e){return t*Math.sqrt(1-e*e)}const J7=["duration","bounce"],Q7=["stiffness","damping","mass"];function QM(t,e){return e.some(n=>t[n]!==void 0)}function eX(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!QM(t,Q7)&&QM(t,J7)){const n=q7(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Ix(t){var{from:e=0,to:n=1,restSpeed:i=2,restDelta:s}=t,r=uR(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:e};let{stiffness:o,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:f}=eX(r),h=eC,m=eC;function g(){const p=u?-(u/1e3):0,v=n-e,b=l/(2*Math.sqrt(o*c)),_=Math.sqrt(o/c)/1e3;if(s===void 0&&(s=Math.min(Math.abs(n-e)/100,.4)),b<1){const w=H0(_,b);h=T=>{const C=Math.exp(-b*_*T);return n-C*((p+b*_*v)/w*Math.sin(w*T)+v*Math.cos(w*T))},m=T=>{const C=Math.exp(-b*_*T);return b*_*C*(Math.sin(w*T)*(p+b*_*v)/w+v*Math.cos(w*T))-C*(Math.cos(w*T)*(p+b*_*v)-w*v*Math.sin(w*T))}}else if(b===1)h=w=>n-Math.exp(-_*w)*(v+(p+_*v)*w);else{const w=_*Math.sqrt(b*b-1);h=T=>{const C=Math.exp(-b*_*T),A=Math.min(w*T,300);return n-C*((p+b*_*v)*Math.sinh(A)+w*v*Math.cosh(A))/w}}}return g(),{next:p=>{const v=h(p);if(f)a.done=p>=d;else{const b=m(p)*1e3,_=Math.abs(b)<=i,w=Math.abs(n-v)<=s;a.done=_&&w}return a.value=a.done?n:v,a},flipTarget:()=>{u=-u,[e,n]=[n,e],g()}}}Ix.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const eC=t=>0,dR=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Rx=(t,e,n)=>-n*t+n*e+t,fR=(t,e)=>n=>Math.max(Math.min(n,e),t),ld=t=>t%1?Number(t.toFixed(5)):t,Nd=/(-)?([\d]*\.?[\d])+/g,G0=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tX=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Sf(t){return typeof t=="string"}const Mf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cd=Object.assign(Object.assign({},Mf),{transform:fR(0,1)}),$h=Object.assign(Object.assign({},Mf),{default:1}),Lx=t=>({test:e=>Sf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Co=Lx("deg"),ud=Lx("%"),Ct=Lx("px"),tC=Object.assign(Object.assign({},ud),{parse:t=>ud.parse(t)/100,transform:t=>ud.transform(t*100)}),kx=(t,e)=>n=>!!(Sf(n)&&tX.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),hR=(t,e,n)=>i=>{if(!Sf(i))return i;const[s,r,a,o]=i.match(Nd);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Uo={test:kx("hsl","hue"),parse:hR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ud.transform(ld(e))+", "+ud.transform(ld(n))+", "+ld(cd.transform(i))+")"},nX=fR(0,255),Py=Object.assign(Object.assign({},Mf),{transform:t=>Math.round(nX(t))}),Ua={test:kx("rgb","red"),parse:hR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Py.transform(t)+", "+Py.transform(e)+", "+Py.transform(n)+", "+ld(cd.transform(i))+")"};function iX(t){let e="",n="",i="",s="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),i=t.substr(5,2),s=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),i=t.substr(3,1),s=t.substr(4,1),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const W0={test:kx("#"),parse:iX,transform:Ua.transform},Ki={test:t=>Ua.test(t)||W0.test(t)||Uo.test(t),parse:t=>Ua.test(t)?Ua.parse(t):Uo.test(t)?Uo.parse(t):W0.parse(t),transform:t=>Sf(t)?t:t.hasOwnProperty("red")?Ua.transform(t):Uo.transform(t)},mR="${c}",pR="${n}";function sX(t){var e,n,i,s;return isNaN(t)&&Sf(t)&&((n=(e=t.match(Nd))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((s=(i=t.match(G0))===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0)>0}function vR(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const i=t.match(G0);i&&(n=i.length,t=t.replace(G0,mR),e.push(...i.map(Ki.parse)));const s=t.match(Nd);return s&&(t=t.replace(Nd,pR),e.push(...s.map(Mf.parse))),{values:e,numColors:n,tokenised:t}}function gR(t){return vR(t).values}function yR(t){const{values:e,numColors:n,tokenised:i}=vR(t),s=e.length;return r=>{let a=i;for(let o=0;o<s;o++)a=a.replace(o<n?mR:pR,o<n?Ki.transform(r[o]):ld(r[o]));return a}}const rX=t=>typeof t=="number"?0:t;function aX(t){const e=gR(t);return yR(t)(e.map(rX))}const Cf={test:sX,parse:gR,createTransformer:yR,getAnimatableNone:aX},oX=new Set(["brightness","contrast","saturate","opacity"]);function lX(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Nd)||[];if(!i)return t;const s=n.replace(i,"");let r=oX.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const cX=/([a-z-]*)\(.*?\)/g,$0=Object.assign(Object.assign({},Cf),{getAnimatableNone:t=>{const e=t.match(cX);return e?e.map(lX).join(" "):t}});function Iy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nC({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,a=0;if(!e)s=r=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=Iy(l,o,t+1/3),r=Iy(l,o,t),a=Iy(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}const uX=(t,e,n)=>{const i=t*t,s=e*e;return Math.sqrt(Math.max(0,n*(s-i)+i))},dX=[W0,Ua,Uo],iC=t=>dX.find(e=>e.test(t)),bR=(t,e)=>{let n=iC(t),i=iC(e),s=n.parse(t),r=i.parse(e);n===Uo&&(s=nC(s),n=Ua),i===Uo&&(r=nC(r),i=Ua);const a=Object.assign({},s);return o=>{for(const l in a)l!=="alpha"&&(a[l]=uX(s[l],r[l],o));return a.alpha=Rx(s.alpha,r.alpha,o),n.transform(a)}},fX=t=>typeof t=="number",hX=(t,e)=>n=>e(t(n)),_R=(...t)=>t.reduce(hX);function xR(t,e){return fX(t)?n=>Rx(t,e,n):Ki.test(t)?bR(t,e):SR(t,e)}const wR=(t,e)=>{const n=[...t],i=n.length,s=t.map((r,a)=>xR(r,e[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}},mX=(t,e)=>{const n=Object.assign(Object.assign({},t),e),i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=xR(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}};function sC(t){const e=Cf.parse(t),n=e.length;let i=0,s=0,r=0;for(let a=0;a<n;a++)i||typeof e[a]=="number"?i++:e[a].hue!==void 0?r++:s++;return{parsed:e,numNumbers:i,numRGB:s,numHSL:r}}const SR=(t,e)=>{const n=Cf.createTransformer(e),i=sC(t),s=sC(e);return i.numHSL===s.numHSL&&i.numRGB===s.numRGB&&i.numNumbers>=s.numNumbers?_R(wR(i.parsed,s.parsed),n):a=>`${a>0?e:t}`},pX=(t,e)=>n=>Rx(t,e,n);function vX(t){if(typeof t=="number")return pX;if(typeof t=="string")return Ki.test(t)?bR:SR;if(Array.isArray(t))return wR;if(typeof t=="object")return mX}function gX(t,e,n){const i=[],s=n||vX(t[0]),r=t.length-1;for(let a=0;a<r;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]:e;o=_R(l,o)}i.push(o)}return i}function yX([t,e],[n]){return i=>n(dR(t,e,i))}function bX(t,e){const n=t.length,i=n-1;return s=>{let r=0,a=!1;if(s<=t[0]?a=!0:s>=t[i]&&(r=i-1,a=!0),!a){let l=1;for(;l<n&&!(t[l]>s||l===i);l++);r=l-1}const o=dR(t[r],t[r+1],s);return e[r](o)}}function MR(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;ZM(r===e.length),ZM(!i||!Array.isArray(i)||i.length===r-1),t[0]>t[r-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const a=gX(e,i,s),o=r===2?yX(t,a):bX(t,a);return n?l=>o(z0(t[0],t[r-1],l)):o}const Tv=t=>e=>1-t(1-e),Dx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_X=t=>e=>Math.pow(e,t),CR=t=>e=>e*e*((t+1)*e-t),xX=t=>{const e=CR(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},TR=1.525,wX=4/11,SX=8/11,MX=9/10,ER=t=>t,Ox=_X(2),CX=Tv(Ox),AR=Dx(Ox),PR=t=>1-Math.sin(Math.acos(t)),IR=Tv(PR),TX=Dx(IR),Nx=CR(TR),EX=Tv(Nx),AX=Dx(Nx),PX=xX(TR),IX=4356/361,RX=35442/1805,LX=16061/1805,gp=t=>{if(t===1||t===0)return t;const e=t*t;return t<wX?7.5625*e:t<SX?9.075*e-9.9*t+3.4:t<MX?IX*e-RX*t+LX:10.8*t*t-20.52*t+10.72},kX=Tv(gp),DX=t=>t<.5?.5*(1-gp(1-t*2)):.5*gp(t*2-1)+.5;function OX(t,e){return t.map(()=>e||AR).splice(0,t.length-1)}function NX(t){const e=t.length;return t.map((n,i)=>i!==0?i/(e-1):0)}function VX(t,e){return t.map(n=>n*e)}function dm({from:t=0,to:e=1,ease:n,offset:i,duration:s=300}){const r={done:!1,value:t},a=Array.isArray(e)?e:[t,e],o=VX(i&&i.length===a.length?i:NX(a),s);function l(){return MR(o,a,{ease:Array.isArray(n)?n:OX(a,n)})}let c=l();return{next:u=>(r.value=c(u),r.done=u>=s,r),flipTarget:()=>{a.reverse(),c=l()}}}function FX({velocity:t=0,from:e=0,power:n=.8,timeConstant:i=350,restDelta:s=.5,modifyTarget:r}){const a={done:!1,value:e};let o=n*t;const l=e+o,c=r===void 0?l:r(l);return c!==l&&(o=c-e),{next:u=>{const d=-o*Math.exp(-u/i);return a.done=!(d>s||d<-s),a.value=a.done?c:c+d,a},flipTarget:()=>{}}}const rC={keyframes:dm,spring:Ix,decay:FX};function BX(t){if(Array.isArray(t.to))return dm;if(rC[t.type])return rC[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?dm:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Ix:dm}function RR(t,e,n=0){return t-e-n}function UX(t,e,n=0,i=!0){return i?RR(e+-t,e,n):e-(t-e)+n}function zX(t,e,n,i){return i?t>=e+n:t<=-n}const HX=t=>{const e=({delta:n})=>t(n);return{start:()=>U0.update(e,!0),stop:()=>H7.update(e)}};function LR(t){var e,n,{from:i,autoplay:s=!0,driver:r=HX,elapsed:a=0,repeat:o=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:d,onComplete:f,onRepeat:h,onUpdate:m}=t,g=uR(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:p}=g,v,b=0,_=g.duration,w,T=!1,C=!0,A;const S=BX(g);!((n=(e=S).needsInterpolation)===null||n===void 0)&&n.call(e,i,p)&&(A=MR([0,100],[i,p],{clamp:!1}),i=0,p=100);const x=S(Object.assign(Object.assign({},g),{from:i,to:p}));function y(){b++,l==="reverse"?(C=b%2===0,a=UX(a,_,c,C)):(a=RR(a,_,c),l==="mirror"&&x.flipTarget()),T=!1,h&&h()}function E(){v.stop(),f&&f()}function P(N){if(C||(N=-N),a+=N,!T){const W=x.next(Math.max(0,a));w=W.value,A&&(w=A(w)),T=C?W.done:a<=0}m==null||m(w),T&&(b===0&&(_??(_=a)),b<o?zX(a,_,c,C)&&y():E())}function D(){u==null||u(),v=r(P),v.start()}return s&&D(),{stop:()=>{d==null||d(),v.stop()}}}function kR(t,e){return e?t*(1e3/e):0}function GX({from:t=0,velocity:e=0,min:n,max:i,power:s=.8,timeConstant:r=750,bounceStiffness:a=500,bounceDamping:o=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:f,onStop:h}){let m;function g(_){return n!==void 0&&_<n||i!==void 0&&_>i}function p(_){return n===void 0?i:i===void 0||Math.abs(n-_)<Math.abs(i-_)?n:i}function v(_){m==null||m.stop(),m=LR(Object.assign(Object.assign({},_),{driver:u,onUpdate:w=>{var T;d==null||d(w),(T=_.onUpdate)===null||T===void 0||T.call(_,w)},onComplete:f,onStop:h}))}function b(_){v(Object.assign({type:"spring",stiffness:a,damping:o,restDelta:l},_))}if(g(t))b({from:t,velocity:e,to:p(t)});else{let _=s*e+t;typeof c<"u"&&(_=c(_));const w=p(_),T=w===n?-1:1;let C,A;const S=x=>{C=A,A=x,e=kR(x-C,cR().delta),(T===1&&x>w||T===-1&&x<w)&&b({from:x,to:w,velocity:e})};v({type:"decay",from:t,velocity:e,timeConstant:r,power:s,restDelta:l,modifyTarget:c,onUpdate:g(_)?S:void 0})}return{stop:()=>m==null?void 0:m.stop()}}const DR=(t,e)=>1-3*e+3*t,OR=(t,e)=>3*e-6*t,NR=t=>3*t,yp=(t,e,n)=>((DR(e,n)*t+OR(e,n))*t+NR(e))*t,VR=(t,e,n)=>3*DR(e,n)*t*t+2*OR(e,n)*t+NR(e),WX=1e-7,$X=10;function jX(t,e,n,i,s){let r,a,o=0;do a=e+(n-e)/2,r=yp(a,i,s)-t,r>0?n=a:e=a;while(Math.abs(r)>WX&&++o<$X);return a}const XX=8,YX=.001;function qX(t,e,n,i){for(let s=0;s<XX;++s){const r=VR(e,n,i);if(r===0)return e;const a=yp(e,n,i)-t;e-=a/r}return e}const fm=11,jh=1/(fm-1);function KX(t,e,n,i){if(t===e&&n===i)return ER;const s=new Float32Array(fm);for(let a=0;a<fm;++a)s[a]=yp(a*jh,t,n);function r(a){let o=0,l=1;const c=fm-1;for(;l!==c&&s[l]<=a;++l)o+=jh;--l;const u=(a-s[l])/(s[l+1]-s[l]),d=o+u*jh,f=VR(d,t,n);return f>=YX?qX(a,d,t,n):f===0?d:jX(a,o,o+jh,t,n)}return a=>a===0||a===1?a:yp(r(a),e,i)}const Ry={};var ZX=Object.defineProperty,JX=(t,e,n)=>e in t?ZX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QX=(t,e,n)=>(JX(t,e+"",n),n);class eY{constructor(){QX(this,"subscriptions",new Set)}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,n,i){if(this.subscriptions.size)for(const s of this.subscriptions)s(e,n,i)}clear(){this.subscriptions.clear()}}var tY=Object.defineProperty,nY=(t,e,n)=>e in t?tY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ir=(t,e,n)=>(nY(t,typeof e!="symbol"?e+"":e,n),n);function aC(t){return!Number.isNaN(Number.parseFloat(t))}class iY{constructor(e){ir(this,"current"),ir(this,"prev"),ir(this,"timeDelta",0),ir(this,"lastUpdated",0),ir(this,"updateSubscribers",new eY),ir(this,"stopAnimation"),ir(this,"canTrackVelocity",!1),ir(this,"updateAndNotify",n=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:s}=cR();this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s),U0.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)}),ir(this,"scheduleVelocityCheck",()=>U0.postRender(this.velocityCheck)),ir(this,"velocityCheck",({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=aC(this.current)),n!==this.lastUpdated&&(this.prev=this.current)}),this.prev=this.current=e,this.canTrackVelocity=aC(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?kR(Number.parseFloat(this.current)-Number.parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{const{stop:i}=e(n);this.stopAnimation=i}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function sY(t){return new iY(t)}const{isArray:rY}=Array;function aY(){const t=he({}),e=i=>{const s=r=>{t.value[r]&&(t.value[r].stop(),t.value[r].destroy(),delete t.value[r])};i?rY(i)?i.forEach(s):s(i):Object.keys(t.value).forEach(s)},n=(i,s,r)=>{if(t.value[i])return t.value[i];const a=sY(s);return a.onChange(o=>r[i]=o),t.value[i]=a,a};return X5(e),{motionValues:t,get:n,stop:e}}function oY(t){return Array.isArray(t)}function To(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function Ly(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function lY(t){return{type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}}function ky(){return{type:"keyframes",ease:"linear",duration:300}}function cY(t){return{type:"keyframes",duration:800,values:t}}const oC={default:lY,x:To,y:To,z:To,rotate:To,rotateX:To,rotateY:To,rotateZ:To,scaleX:Ly,scaleY:Ly,scale:Ly,backgroundColor:ky,color:ky,opacity:ky};function FR(t,e){let n;return oY(e)?n=cY:n=oC[t]||oC.default,{to:e,...n(e)}}const lC={...Mf,transform:Math.round},BR={color:Ki,backgroundColor:Ki,outlineColor:Ki,fill:Ki,stroke:Ki,borderColor:Ki,borderTopColor:Ki,borderRightColor:Ki,borderBottomColor:Ki,borderLeftColor:Ki,borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,size:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,rotate:Co,rotateX:Co,rotateY:Co,rotateZ:Co,scale:$h,scaleX:$h,scaleY:$h,scaleZ:$h,skew:Co,skewX:Co,skewY:Co,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:cd,originX:tC,originY:tC,originZ:Ct,zIndex:lC,filter:$0,WebkitFilter:$0,fillOpacity:cd,strokeOpacity:cd,numOctaves:lC},Vx=t=>BR[t];function j0(t,e){return e&&typeof t=="number"&&e.transform?e.transform(t):t}function uY(t,e){let n=Vx(t);return n!==$0&&(n=Cf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dY={linear:ER,easeIn:Ox,easeInOut:AR,easeOut:CX,circIn:PR,circInOut:TX,circOut:IR,backIn:Nx,backInOut:AX,backOut:EX,anticipate:PX,bounceIn:kX,bounceInOut:DX,bounceOut:gp};function cC(t){if(Array.isArray(t)){const[e,n,i,s]=t;return KX(e,n,i,s)}else if(typeof t=="string")return dY[t];return t}function fY(t){return Array.isArray(t)&&typeof t[0]!="number"}function uC(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Cf.test(e)&&!e.startsWith("url("))}function hY(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function mY({ease:t,times:e,delay:n,...i}){const s={...i};return e&&(s.offset=e),t&&(s.ease=fY(t)?t.map(cC):cC(t)),n&&(s.elapsed=-n),s}function pY(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),hY(e),vY(t)||(t={...t,...FR(n,e.to)}),{...e,...mY(t)}}function vY({delay:t,repeat:e,repeatType:n,repeatDelay:i,from:s,...r}){return!!Object.keys(r).length}function gY(t,e){return t[e]||t.default||t}function yY(t,e,n,i,s){const r=gY(i,t);let a=r.from===null||r.from===void 0?e.get():r.from;const o=uC(t,n);a==="none"&&o&&typeof n=="string"&&(a=uY(t,n));const l=uC(t,a);function c(d){const f={from:a,to:n,velocity:i.velocity?i.velocity:e.getVelocity(),onUpdate:h=>e.set(h)};return r.type==="inertia"||r.type==="decay"?GX({...f,...r}):LR({...pY(r,f,t),onUpdate:h=>{f.onUpdate(h),r.onUpdate&&r.onUpdate(h)},onComplete:()=>{s&&s(),d&&d()}})}function u(d){return e.set(n),s&&s(),d&&d(),{stop:()=>{}}}return!l||!o||r.type===!1?u:c}function bY(){const{motionValues:t,stop:e,get:n}=aY();return{motionValues:t,stop:e,push:(s,r,a,o={},l)=>{const c=a[s],u=n(s,c,a);if(o&&o.immediate){u.set(r);return}const d=yY(s,u,r,o,l);u.start(d)}}}function _Y(t,e={},{motionValues:n,push:i,stop:s}=bY()){const r=Pe(e),a=he(!1);Ie(n,d=>{a.value=Object.values(d).filter(f=>f.isAnimating()).length>0},{immediate:!0,deep:!0});const o=d=>{if(!r||!r[d])throw new Error(`The variant ${d} does not exist.`);return r[d]},l=d=>{typeof d=="string"&&(d=o(d));const f=Object.entries(d).map(([m,g])=>{if(m!=="transition")return new Promise(p=>i(m,g,t,d.transition||FR(m,d[m]),p))}).filter(Boolean);async function h(){var m,g;await Promise.all(f),(g=(m=d.transition)==null?void 0:m.onComplete)==null||g.call(m)}return Promise.all([h()])};return{isAnimating:a,apply:l,set:d=>{const f=dp(d)?d:o(d);Object.entries(f).forEach(([h,m])=>{h!=="transition"&&i(h,m,t,{immediate:!0})})},leave:async d=>{let f;if(r&&(r.leave&&(f=r.leave),!r.leave&&r.initial&&(f=r.initial)),!f){d();return}await l(f),d()},stop:s}}const Fx=typeof window<"u",xY=()=>Fx&&(window.onpointerdown===null||void 0),wY=()=>Fx&&(window.ontouchstart===null||void 0),SY=()=>Fx&&(window.onmousedown===null||void 0);function MY({target:t,state:e,variants:n,apply:i}){const s=Pe(n),r=he(!1),a=he(!1),o=he(!1),l=L(()=>{let u=[...Object.keys(e.value||{})];return s&&(s.hovered&&(u=[...u,...Object.keys(s.hovered)]),s.tapped&&(u=[...u,...Object.keys(s.tapped)]),s.focused&&(u=[...u,...Object.keys(s.focused)])),u}),c=L(()=>{const u={};Object.assign(u,e.value),r.value&&s.hovered&&Object.assign(u,s.hovered),a.value&&s.tapped&&Object.assign(u,s.tapped),o.value&&s.focused&&Object.assign(u,s.focused);for(const d in u)l.value.includes(d)||delete u[d];return u});s.hovered&&(Ii(t,"mouseenter",()=>r.value=!0),Ii(t,"mouseleave",()=>{r.value=!1,a.value=!1})),s.tapped&&(SY()&&(Ii(t,"mousedown",()=>a.value=!0),Ii(t,"mouseup",()=>a.value=!1)),xY()&&(Ii(t,"pointerdown",()=>a.value=!0),Ii(t,"pointerup",()=>a.value=!1)),wY()&&(Ii(t,"touchstart",()=>a.value=!0),Ii(t,"touchend",()=>a.value=!1))),s.focused&&(Ii(t,"focus",()=>o.value=!0),Ii(t,"blur",()=>o.value=!1)),Ie([r,a,o],()=>{i(c.value)})}function CY({set:t,target:e,variants:n,variant:i}){const s=Pe(n);Ie(()=>e,()=>{s&&(s.initial&&(t("initial"),i.value="initial"),s.enter&&(i.value="enter"))},{immediate:!0,flush:"pre"})}function TY({state:t,apply:e}){Ie(t,n=>{n&&e(n)},{immediate:!0})}function UR({target:t,variants:e,variant:n}){const i=Pe(e);i&&(i.visible||i.visibleOnce)&&tH(t,([{isIntersecting:s}])=>{i.visible?s?n.value="visible":n.value="initial":i.visibleOnce&&(s&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function EY(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&CY(t),e.syncVariants&&TY(t),e.visibilityHooks&&UR(t),e.eventListeners&&MY(t)}function zR(t={}){const e=_n({...t}),n=he({});return Ie(e,()=>{const i={};for(const[s,r]of Object.entries(e)){const a=Vx(s),o=j0(r,a);i[s]=o}n.value=i},{immediate:!0,deep:!0}),{state:e,style:n}}function Bx(t,e){Ie(()=>Bi(t),n=>{n&&e(n)},{immediate:!0})}const AY={x:"translateX",y:"translateY",z:"translateZ"};function HR(t={},e=!0){const n=_n({...t}),i=he("");return Ie(n,s=>{let r="",a=!1;if(e&&(s.x||s.y||s.z)){const o=[s.x||0,s.y||0,s.z||0].map(l=>j0(l,Ct)).join(",");r+=`translate3d(${o}) `,a=!0}for(const[o,l]of Object.entries(s)){if(e&&(o==="x"||o==="y"||o==="z"))continue;const c=Vx(o),u=j0(l,c);r+=`${AY[o]||o}(${u}) `}e&&!a&&(r+="translateZ(0px) "),i.value=r.trim()},{immediate:!0,deep:!0}),{state:n,transform:i}}const PY=["","X","Y","Z"],IY=["perspective","translate","scale","rotate","skew"],GR=["transformPerspective","x","y","z"];IY.forEach(t=>{PY.forEach(e=>{const n=t+e;GR.push(n)})});const RY=new Set(GR);function Ux(t){return RY.has(t)}const LY=new Set(["originX","originY","originZ"]);function WR(t){return LY.has(t)}function kY(t){const e={},n={};return Object.entries(t).forEach(([i,s])=>{Ux(i)||WR(i)?e[i]=s:n[i]=s}),{transform:e,style:n}}function Ev(t){const{transform:e,style:n}=kY(t),{transform:i}=HR(e),{style:s}=zR(n);return i.value&&(s.value.transform=i.value),s.value}function DY(t,e){let n,i;const{state:s,style:r}=zR();return Bx(t,a=>{i=a;for(const o of Object.keys(BR))a.style[o]===null||a.style[o]===""||Ux(o)||WR(o)||(s[o]=a.style[o]);n&&Object.entries(n).forEach(([o,l])=>a.style[o]=l),e&&e(s)}),Ie(r,a=>{if(!i){n=a;return}for(const o in a)i.style[o]=a[o]},{immediate:!0}),{style:s}}function OY(t){const e=t.trim().split(/\) |\)/);if(e.length===1)return{};const n=i=>i.endsWith("px")||i.endsWith("deg")?Number.parseFloat(i):Number.isNaN(Number(i))?Number(i):i;return e.reduce((i,s)=>{if(!s)return i;const[r,a]=s.split("("),l=a.split(",").map(u=>n(u.endsWith(")")?u.replace(")",""):u.trim())),c=l.length===1?l[0]:l;return{...i,[r]:c}},{})}function NY(t,e){Object.entries(OY(e)).forEach(([n,i])=>{const s=["x","y","z"];if(n==="translate3d"){if(i===0){s.forEach(r=>t[r]=0);return}i.forEach((r,a)=>t[s[a]]=r);return}if(i=Number.parseFloat(`${i}`),n==="translateX"){t.x=i;return}if(n==="translateY"){t.y=i;return}if(n==="translateZ"){t.z=i;return}t[n]=i})}function VY(t,e){let n,i;const{state:s,transform:r}=HR();return Bx(t,a=>{i=a,a.style.transform&&NY(s,a.style.transform),n&&(a.style.transform=n),e&&e(s)}),Ie(r,a=>{if(!i){n=a;return}i.style.transform=a},{immediate:!0}),{transform:s}}function FY(t){return Object.entries(t)}function BY(t,e){const n=_n({}),i=a=>Object.entries(a).forEach(([o,l])=>n[o]=l),{style:s}=DY(t,i),{transform:r}=VY(t,i);return Ie(n,a=>{FY(a).forEach(([o,l])=>{const c=Ux(o)?r:s;c[o]&&c[o]===l||(c[o]=l)})},{immediate:!0,deep:!0}),Bx(t,()=>e),{motionProperties:n,style:s,transform:r}}function UY(t={}){const e=Pe(t),n=he();return{state:L(()=>{if(n.value)return e[n.value]}),variant:n}}function $R(t,e={},n){const{motionProperties:i}=BY(t),{variant:s,state:r}=UY(e),a=_Y(i,e),o={target:t,variant:s,variants:e,state:r,motionProperties:i,...a};return EY(o,n),o}const jR=["delay","duration"],zY=["initial","enter","leave","visible","visible-once","visibleOnce","hovered","tapped","focused",...jR];function HY(t){return jR.includes(t)}function GY(t,e){const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};if(n){n.variants&&dp(n.variants)&&(e.value={...e.value,...n.variants});for(let i of zY)if(!(!n||!n[i])){if(HY(i)&&typeof n[i]=="number"){for(const s of["enter","visible","visibleOnce"]){const r=e.value[s];r!=null&&(r.transition??(r.transition={}),r.transition[i]=n[i])}continue}if(dp(n[i])){const s=n[i];i==="visible-once"&&(i="visibleOnce"),e.value[i]=s}}}}function Dy(t,e=!1){return{created:(s,r,a)=>{const o=r.value&&typeof r.value=="string"?r.value:a.key;o&&Ry[o]&&Ry[o].stop();const l=e?structuredClone(rt(t)||{}):t||{},c=he(l);typeof r.value=="object"&&(c.value=r.value),GY(a,c);const d=$R(s,c,{eventListeners:!0,lifeCycleHooks:!0,syncVariants:!0,visibilityHooks:!1});s.motionInstance=d,o&&(Ry[o]=d)},mounted:(s,r,a)=>{s.motionInstance&&UR(s.motionInstance)},getSSRProps(s,r){let{initial:a}=s.value||r&&(r==null?void 0:r.props)||{};a=Pe(a);const o=rR({},(t==null?void 0:t.initial)||{},a||{});return!o||Object.keys(o).length===0?void 0:{style:Ev(o)}}}}const WY={initial:{opacity:0},enter:{opacity:1}},$Y={initial:{opacity:0},visible:{opacity:1}},jY={initial:{opacity:0},visibleOnce:{opacity:1}},XY={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},YY={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},qY={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},KY={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},ZY={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},JY={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},QY={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},eq={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},tq={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},nq={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},iq={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},sq={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},rq={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},aq={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},oq={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},lq={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},cq={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},uq={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},dq={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},fq={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},hq={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},mq={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},pq={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},vq={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},gq={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},yq={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},bq={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},Do={__proto__:null,fade:WY,fadeVisible:$Y,fadeVisibleOnce:jY,pop:XY,popVisible:YY,popVisibleOnce:qY,rollBottom:rq,rollLeft:KY,rollRight:QY,rollTop:nq,rollVisibleBottom:aq,rollVisibleLeft:ZY,rollVisibleOnceBottom:oq,rollVisibleOnceLeft:JY,rollVisibleOnceRight:tq,rollVisibleOnceTop:sq,rollVisibleRight:eq,rollVisibleTop:iq,slideBottom:gq,slideLeft:lq,slideRight:dq,slideTop:mq,slideVisibleBottom:yq,slideVisibleLeft:cq,slideVisibleOnceBottom:bq,slideVisibleOnceLeft:uq,slideVisibleOnceRight:hq,slideVisibleOnceTop:vq,slideVisibleRight:fq,slideVisibleTop:pq};function _q(t){const e="/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",i=new RegExp(e.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,s=>`-${s}`).toLowerCase().replace(/\s+/g,"-").replace(i,s=>n.charAt(e.indexOf(s))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const XR=Symbol(import.meta.dev?"motionCustomPresets":""),YR={preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1},duration:{type:[Number,String],required:!1}};function xq(t){return Object.prototype.toString.call(t)==="[object Object]"}function X0(t){if(Array.isArray(t))return t.map(X0);if(xq(t)){const e={};for(const n in t)e[n]=X0(t[n]);return e}return t}function qR(t){const e=_n({}),n=St(XR,{}),i=L(()=>t.preset==null?{}:n!=null&&t.preset in n?structuredClone(rt(n)[t.preset]):t.preset in Do?structuredClone(Do[t.preset]):{}),s=L(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused}));function r(l,c){for(const u of["delay","duration"]){if(c[u]==null)continue;const d=Number.parseInt(c[u]);for(const f of["enter","visible","visibleOnce"]){const h=l[f];h!=null&&(h.transition??(h.transition={}),h.transition[u]=d)}}return l}const a=L(()=>{const l=rR({},s.value,i.value,t.variants||{});return r({...l},t)});if(import.meta.dev){t.preset!=null&&(Do==null?void 0:Do[t.preset])==null&&(n==null?void 0:n[t.preset])==null&&console.warn(`[@vueuse/motion]: Preset \`${t.preset}\` not found.`);const l=c=>{var u;(u=c.variants)!=null&&u.initial&&c.set("initial"),Rt(()=>{var d,f,h;(d=c.variants)!=null&&d.enter&&c.apply("enter"),(f=c.variants)!=null&&f.visible&&c.apply("visible"),(h=c.variants)!=null&&h.visibleOnce&&c.apply("visibleOnce")})};Dp(()=>{for(const c in e)l(e[c])})}function o(l,c,u){var d;l.props??(l.props={}),(d=l.props).style??(d.style={}),l.props.style={...l.props.style,...u};const f=r(X0(a.value),l.props);return l.props.onVnodeMounted=({el:h})=>{e[c]=$R(h,f)},l.props.onVnodeUpdated=({el:h})=>{const m=Ev(e[c].state);for(const[g,p]of Object.entries(m))h.style[g]=p},l}return{motionConfig:a,setNodeInstance:o}}const wq=$s({name:"Motion",props:{...YR,is:{type:[String,Object],default:"div"}},setup(t){const e=Op(),{motionConfig:n,setNodeInstance:i}=qR(t);return()=>{const s=Ev(n.value.initial||{}),r=hs(t.is,void 0,e);return i(r,0,s),r}}}),Sq=$s({name:"MotionGroup",props:{...YR,is:{type:[String,Object],required:!1}},setup(t){const e=Op(),{motionConfig:n,setNodeInstance:i}=qR(t);return()=>{var a;const s=Ev(n.value.initial||{}),r=((a=e.default)==null?void 0:a.call(e))||[];for(let o=0;o<r.length;o++){const l=r[o];l.type===$e&&Array.isArray(l.children)?l.children.forEach(function c(u,d){if(u!=null){if(Array.isArray(u)){c(u,d);return}typeof u=="object"&&i(u,d,s)}}):i(l,o,s)}return t.is?hs(t.is,void 0,r):r}}}),Mq={install(t,e){if(t.directive("motion",Dy()),!e||e&&!e.excludePresets)for(const n in Do){const i=Do[n];t.directive(`motion-${_q(n)}`,Dy(i,!0))}if(e&&e.directives)for(const n in e.directives){const i=e.directives[n];!i.initial&&import.meta.dev&&console.warn(`Your directive v-motion-${n} is missing initial variant!`),t.directive(`motion-${n}`,Dy(i,!0))}t.provide(XR,e==null?void 0:e.directives),t.component("Motion",wq),t.component("MotionGroup",Sq)}};function zi(t,e){let n;function i(){n=Ob(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}Ie(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),ri(()=>{n==null||n.stop()})}const Ot=typeof window<"u",zx=Ot&&"IntersectionObserver"in window,Cq=Ot&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),dC=Ot&&"EyeDropper"in window;function fC(t,e,n){Tq(t,e),e.set(t,n)}function Tq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Eq(t,e,n){return t.set(KR(t,e),n),n}function Eo(t,e){return t.get(KR(t,e))}function KR(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ZR(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Er(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Er(t[i],e[i]))}function pl(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),ZR(t,e.split("."),n))}function Un(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return pl(t,e,n);if(Array.isArray(e))return ZR(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function dr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Ve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Av(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function hC(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function Hx(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const mC=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Y0=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function JR(t){return Object.keys(t)}function zo(t,e){return e.every(n=>t.hasOwnProperty(n))}function Gx(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function q0(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)?i[r]=t[r]:s[r]=t[r];return[i,s]}function Dn(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function Pv(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const QR=/^on[^a-z]/,Iv=t=>QR.test(t),Aq=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],Pq=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function Iq(t){return t.isComposing&&Pq.includes(t.key)}function to(t){const[e,n]=q0(t,[QR]),i=Dn(e,Aq),[s,r]=q0(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function mn(t){return t==null?[]:Array.isArray(t)?t:[t]}function Rq(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),Pe(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function Rn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function pC(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function vC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function gC(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function Lq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function yC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function yi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(hC(r)&&hC(a)){i[s]=yi(r,a,n);continue}if(n&&Array.isArray(r)&&Array.isArray(a)){i[s]=n(r,a);continue}i[s]=a}return i}function e2(t){return t.map(e=>e.type===$e?e2(e.children):e).flat()}function Ko(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Ko.cache.has(t))return Ko.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Ko.cache.set(t,e),e}Ko.cache=new Map;function _c(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>_c(t,n)).flat(1);if(e.suspense)return _c(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>_c(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return _c(t,e.component.subTree).flat(1)}return[]}var Xh=new WeakMap,uc=new WeakMap;class kq{constructor(e){fC(this,Xh,[]),fC(this,uc,0),this.size=e}push(e){Eo(Xh,this)[Eo(uc,this)]=e,Eq(uc,this,(Eo(uc,this)+1)%this.size)}values(){return Eo(Xh,this).slice(Eo(uc,this)).concat(Eo(Xh,this).slice(0,Eo(uc,this)))}}function Dq(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function Wx(t){const e=_n({}),n=L(t);return Zt(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),Ys(e)}function bp(t,e){return t.includes(e)}function t2(t){return t[2].toLowerCase()+t.slice(3)}const ii=()=>[Function,Array];function bC(t,e){return e="on"+wr(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function Rv(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function Vd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function n2(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function Zo(t,e){var i,s,r,a;const n=Vd(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const o=n2(n,e);o?o.focus():Zo(t,e==="next"?"first":"last")}}function Yh(t){return t==null||typeof t=="string"&&t.trim()===""}function i2(){}function Xc(t,e){if(!(Ot&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function Lv(t){return t.some(e=>nl(e)?e.type===Jn?!1:e.type!==$e||Lv(e.children):!0)?t:null}function Oq(t,e){if(!Ot||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function Nq(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,o=s.right,l=s.bottom;return n>=r&&n<=o&&i>=a&&i<=l}function _p(){const t=ke(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>Hx(t.value)}),e}function Yc(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}const s2=["top","bottom"],Vq=["start","end","left","right"];function K0(t,e){let[n,i]=t.split(" ");return i||(i=bp(s2,n)?"start":bp(Vq,n)?"top":"center"),{side:Z0(n,e),align:Z0(i,e)}}function Z0(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function Oy(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function Ny(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function _C(t){return{side:t.align,align:t.side}}function xC(t){return bp(s2,t.side)?"y":"x"}class Jo{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function wC(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function r2(t){return Array.isArray(t)?new Jo({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function $x(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,o,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],a=+s[5],o=+s[12],l=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],a=+s[3],o=+s[4],l=+s[5];else return new Jo(e);const c=n.transformOrigin,u=e.x-o-(1-r)*parseFloat(c),d=e.y-l-(1-a)*parseFloat(c.slice(c.indexOf(" ")+1)),f=r?e.width/r:t.offsetWidth+1,h=a?e.height/a:t.offsetHeight+1;return new Jo({x:u,y:d,width:f,height:h})}else return new Jo(e)}function Ho(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const hm=new WeakMap;function Fq(t,e){Object.keys(e).forEach(n=>{if(Iv(n)){const i=t2(n),s=hm.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),hm.has(t)||hm.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function Bq(t,e){Object.keys(e).forEach(n=>{if(Iv(n)){const i=t2(n),s=hm.get(t);s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))})}else t.removeAttribute(n)})}const dc=2.4,SC=.2126729,MC=.7151522,CC=.072175,Uq=.55,zq=.58,Hq=.57,Gq=.62,qh=.03,TC=1.45,Wq=5e-4,$q=1.25,jq=1.25,Xq=.078,EC=12.82051282051282,Kh=.06,Yq=.001;function AC(t,e){const n=(t.r/255)**dc,i=(t.g/255)**dc,s=(t.b/255)**dc,r=(e.r/255)**dc,a=(e.g/255)**dc,o=(e.b/255)**dc;let l=n*SC+i*MC+s*CC,c=r*SC+a*MC+o*CC;if(l<=qh&&(l+=(qh-l)**TC),c<=qh&&(c+=(qh-c)**TC),Math.abs(c-l)<Wq)return 0;let u;if(c>l){const d=(c**Uq-l**zq)*$q;u=d<Yq?0:d<Xq?d-d*EC*Kh:d-Kh}else{const d=(c**Gq-l**Hq)*jq;u=d>-.001?0:d>-.078?d-d*EC*Kh:d+Kh}return u*100}function qq(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const xp=.20689655172413793,Kq=t=>t>xp**3?Math.cbrt(t):t/(3*xp**2)+4/29,Zq=t=>t>xp?t**3:3*xp**2*(t-4/29);function a2(t){const e=Kq,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function o2(t){const e=Zq,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const Jq=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Qq=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,eK=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],tK=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function l2(t){const e=Array(3),n=Qq,i=Jq;for(let s=0;s<3;++s)e[s]=Math.round(Rn(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function jx(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=tK,a=eK;e=r(e/255),n=r(n/255),i=r(i/255);for(let o=0;o<3;++o)s[o]=a[o][0]*e+a[o][1]*n+a[o][2]*i;return s}function J0(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function nK(t){return J0(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const PC=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,iK={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>IC({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>IC({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>oa({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>oa({h:t,s:e,v:n,a:i})};function ds(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&PC.test(t)){const{groups:e}=t.match(PC),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return iK[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),h2(e)}else if(typeof t=="object"){if(zo(t,["r","g","b"]))return t;if(zo(t,["h","s","l"]))return oa(Xx(t));if(zo(t,["h","s","v"]))return oa(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function oa(t){const{h:e,s:n,v:i,a:s}=t,r=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},a=[r(5),r(3),r(1)].map(o=>Math.round(o*255));return{r:a[0],g:a[1],b:a[2],a:s}}function IC(t){return oa(Xx(t))}function Tf(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i);let a=0;s!==r&&(s===e?a=60*(0+(n-i)/(s-r)):s===n?a=60*(2+(i-e)/(s-r)):s===i&&(a=60*(4+(e-n)/(s-r)))),a<0&&(a=a+360);const o=s===0?0:(s-r)/s,l=[a,o,s];return{h:l[0],s:l[1],v:l[2],a:t.a}}function c2(t){const{h:e,s:n,v:i,a:s}=t,r=i-i*n/2,a=r===1||r===0?0:(i-r)/Math.min(r,1-r);return{h:e,s:a,l:r,a:s}}function Xx(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function u2(t){let{r:e,g:n,b:i,a:s}=t;return s===void 0?`rgb(${e}, ${n}, ${i})`:`rgba(${e}, ${n}, ${i}, ${s})`}function d2(t){return u2(oa(t))}function Zh(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function f2(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Zh(e),Zh(n),Zh(i),s!==void 0?Zh(Math.round(s*255)):""].join("")}`}function h2(t){t=rK(t);let[e,n,i,s]=Lq(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function sK(t){const e=h2(t);return Tf(e)}function m2(t){return f2(oa(t))}function rK(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=vC(vC(t,6),8,"F")),t}function aK(t,e){const n=a2(jx(t));return n[0]=n[0]+e*10,l2(o2(n))}function oK(t,e){const n=a2(jx(t));return n[0]=n[0]-e*10,l2(o2(n))}function Q0(t){const e=ds(t);return jx(e)[1]}function lK(t,e){const n=Q0(t),i=Q0(e),s=Math.max(n,i),r=Math.min(n,i);return(s+.05)/(r+.05)}function p2(t){const e=Math.abs(AC(ds(0),ds(t)));return Math.abs(AC(ds(16777215),ds(t)))>Math.min(e,50)?"#fff":"#000"}function oe(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const Ue=oe({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function yn(t,e){const n=ta();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Ar(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=yn(t).type;return Ko((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let v2=0,mm=new WeakMap;function ai(){const t=yn("getUid");if(mm.has(t))return mm.get(t);{const e=v2++;return mm.set(t,e),e}}ai.reset=()=>{v2=0,mm=new WeakMap};function cK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const qc=Symbol.for("vuetify:defaults");function uK(t){return he(t)}function Yx(){const t=St(qc);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function gn(t,e){const n=Yx(),i=he(t),s=L(()=>{if(Pe(e==null?void 0:e.disabled))return n.value;const a=Pe(e==null?void 0:e.scoped),o=Pe(e==null?void 0:e.reset),l=Pe(e==null?void 0:e.root);if(i.value==null&&!(a||o||l))return n.value;let c=yi(i.value,{prev:n.value});if(a)return c;if(o||l){const u=Number(o||1/0);for(let d=0;d<=u&&!(!c||!("prev"in c));d++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=yi(yi(c,{prev:c}),c[l])),c}return c.prev?yi(c.prev,c):c});return Qt(qc,s),s}function dK(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[Ko(e)])<"u"}function fK(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yx();const i=yn("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=L(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,c){var d,f,h,m,g,p,v;const u=Reflect.get(l,c);return c==="class"||c==="style"?[(d=s.value)==null?void 0:d[c],u].filter(b=>b!=null):typeof c=="string"&&!dK(i.vnode,c)?((f=s.value)==null?void 0:f[c])!==void 0?(h=s.value)==null?void 0:h[c]:((g=(m=n.value)==null?void 0:m.global)==null?void 0:g[c])!==void 0?(v=(p=n.value)==null?void 0:p.global)==null?void 0:v[c]:u:u}}),a=ke();Zt(()=>{if(s.value){const l=Object.entries(s.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function o(){const l=cK(qc,i);Qt(qc,L(()=>a.value?yi((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:r,provideSubDefaults:o}}function vs(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=oe(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return Gx(i,e)},t.props._as=String,t.setup=function(i,s){const r=Yx();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:o}=fK(i,i._as??t.name,r),l=t._setup(a,s);return o(),l}}return t}function be(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?vs:$s)(e)}function hK(t,e){return e.props=t,e}function Pr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return be()({name:n??wr(ts(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Ue()},setup(i,s){let{slots:r}=s;return()=>{var a;return hs(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function g2(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Fd="cubic-bezier(0.4, 0, 0.2, 1)",mK="cubic-bezier(0.0, 0, 0.2, 1)",pK="cubic-bezier(0.4, 0, 1, 1)";function RC(t,e,n){return Object.keys(t).filter(i=>Iv(i)&&i.endsWith(e)).reduce((i,s)=>(i[s.slice(0,-e.length)]=r=>t[s](r,n(r)),i),{})}function qx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?vK(t):Kx(t))return t;t=t.parentElement}return document.scrollingElement}function wp(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(Kx(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function Kx(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function vK(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function gK(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function Ce(t){const e=yn("useRender");e.render=t}function Ke(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const r=yn("useProxiedModel"),a=he(t[e]!==void 0?t[e]:n),o=Ko(e),c=L(o!==e?()=>{var d,f,h,m;return t[e],!!(((d=r.vnode.props)!=null&&d.hasOwnProperty(e)||(f=r.vnode.props)!=null&&f.hasOwnProperty(o))&&((h=r.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)||(m=r.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var d,f;return t[e],!!((d=r.vnode.props)!=null&&d.hasOwnProperty(e)&&((f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)))});zi(()=>!c.value,()=>{Ie(()=>t[e],d=>{a.value=d})});const u=L({get(){const d=t[e];return i(c.value?d:a.value)},set(d){const f=s(d),h=rt(c.value?t[e]:a.value);h===f||i(h)===d||(a.value=f,r==null||r.emit(`update:${e}`,f))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:a.value}),u}const yK={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},LC="$vuetify.",kC=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),y2=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith(LC))return kC(i,r);const o=i.replace(LC,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=pl(l,o,null);return u||(`${i}${t.value}`,u=pl(c,o,null)),u||(u=i),typeof u!="string"&&(u=i),kC(u,r)};function b2(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function Vy(t,e,n){const i=Ke(t,e,t[e]??n.value);return i.value=t[e]??n.value,Ie(n,s=>{t[e]==null&&(i.value=n.value)}),i}function _2(t){return e=>{const n=Vy(e,"locale",t.current),i=Vy(e,"fallback",t.fallback),s=Vy(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:y2(n,i,s),n:b2(n,i),provide:_2({current:n,fallback:i,messages:s})}}}function bK(t){const e=ke((t==null?void 0:t.locale)??"en"),n=ke((t==null?void 0:t.fallback)??"en"),i=he({en:yK,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:y2(e,n,i),n:b2(e,n),provide:_2({current:e,fallback:n,messages:i})}}const Kc=Symbol.for("vuetify:locale");function _K(t){return t.name!=null}function xK(t){const e=t!=null&&t.adapter&&_K(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:bK(t),n=MK(e,t);return{...e,...n}}function Mn(){const t=St(Kc);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function wK(t){const e=St(Kc);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const n=e.provide(t),i=CK(n,e.rtl,t),s={...n,...i};return Qt(Kc,s),s}function SK(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function MK(t,e){const n=he((e==null?void 0:e.rtl)??SK()),i=L(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:L(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function CK(t,e,n){const i=L(()=>n.rtl??e.value[t.current.value]??!1);return{isRtl:i,rtl:e,rtlClasses:L(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function zn(){const t=St(Kc);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const kv={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function TK(t,e,n){const i=[];let s=[];const r=x2(t),a=w2(t),o=n??kv[e.slice(-2).toUpperCase()]??0,l=(r.getDay()-o+7)%7,c=(a.getDay()-o+7)%7;for(let u=0;u<l;u++){const d=new Date(r);d.setDate(d.getDate()-(l-u)),s.push(d)}for(let u=1;u<=a.getDate();u++){const d=new Date(t.getFullYear(),t.getMonth(),u);s.push(d),s.length===7&&(i.push(s),s=[])}for(let u=1;u<7-c;u++){const d=new Date(a);d.setDate(d.getDate()+u),s.push(d)}return s.length>0&&i.push(s),i}function EK(t,e,n){const i=n??kv[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function AK(t,e){const n=new Date(t),i=((kv[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function x2(t){return new Date(t.getFullYear(),t.getMonth(),1)}function w2(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function PK(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const IK=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function S2(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(IK.test(t))return PK(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const DC=new Date(2e3,0,2);function RK(t,e){const n=e??kv[t.slice(-2).toUpperCase()]??0;return dr(7).map(i=>{const s=new Date(DC);return s.setDate(DC.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function LK(t,e,n,i){const s=S2(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function kK(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=gC(String(n.getMonth()+1),2,"0"),r=gC(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function DK(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function OK(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function NK(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function VK(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function FK(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function BK(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function UK(t){return t.getFullYear()}function zK(t){return t.getMonth()}function HK(t){return t.getDate()}function GK(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function WK(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function $K(t){return t.getHours()}function jK(t){return t.getMinutes()}function XK(t){return new Date(t.getFullYear(),0,1)}function YK(t){return new Date(t.getFullYear(),11,31)}function qK(t,e){return Sp(t,e[0])&&JK(t,e[1])}function KK(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Sp(t,e){return t.getTime()>e.getTime()}function ZK(t,e){return Sp(eb(t),eb(e))}function JK(t,e){return t.getTime()<e.getTime()}function OC(t,e){return t.getTime()===e.getTime()}function QK(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function eZ(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function tZ(t,e){return t.getFullYear()===e.getFullYear()}function nZ(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function iZ(t,e){const n=new Date(t);return n.setHours(e),n}function sZ(t,e){const n=new Date(t);return n.setMinutes(e),n}function rZ(t,e){const n=new Date(t);return n.setMonth(e),n}function aZ(t,e){const n=new Date(t);return n.setDate(e),n}function oZ(t,e){const n=new Date(t);return n.setFullYear(e),n}function eb(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function lZ(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class cZ{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return S2(e)}toJsDate(e){return e}toISO(e){return kK(this,e)}parseISO(e){return DK(e)}addMinutes(e,n){return OK(e,n)}addHours(e,n){return NK(e,n)}addDays(e,n){return VK(e,n)}addWeeks(e,n){return FK(e,n)}addMonths(e,n){return BK(e,n)}getWeekArray(e,n){return TK(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return EK(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return AK(e,this.locale)}startOfMonth(e){return x2(e)}endOfMonth(e){return w2(e)}format(e,n){return LK(e,n,this.locale,this.formats)}isEqual(e,n){return OC(e,n)}isValid(e){return KK(e)}isWithinRange(e,n){return qK(e,n)}isAfter(e,n){return Sp(e,n)}isAfterDay(e,n){return ZK(e,n)}isBefore(e,n){return!Sp(e,n)&&!OC(e,n)}isSameDay(e,n){return QK(e,n)}isSameMonth(e,n){return eZ(e,n)}isSameYear(e,n){return tZ(e,n)}setMinutes(e,n){return sZ(e,n)}setHours(e,n){return iZ(e,n)}setMonth(e,n){return rZ(e,n)}setDate(e,n){return aZ(e,n)}setYear(e,n){return oZ(e,n)}getDiff(e,n,i){return nZ(e,n,i)}getWeekdays(e){return RK(this.locale,e?Number(e):void 0)}getYear(e){return UK(e)}getMonth(e){return zK(e)}getDate(e){return HK(e)}getNextMonth(e){return GK(e)}getPreviousMonth(e){return WK(e)}getHours(e){return $K(e)}getMinutes(e){return jK(e)}startOfDay(e){return eb(e)}endOfDay(e){return lZ(e)}startOfYear(e){return XK(e)}endOfYear(e){return YK(e)}}const M2=Symbol.for("vuetify:date-options"),NC=Symbol.for("vuetify:date-adapter");function uZ(t,e){const n=yi({adapter:cZ,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:C2(n,e)}}function C2(t,e){const n=_n(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return Ie(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function Ef(){const t=St(M2);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=Mn();return C2(t,e)}function dZ(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),s=new Date(i,0,1);if(n<s)i=i-1,s=new Date(i,0,1);else{const o=new Date(i+1,0,1);n>=o&&(i=i+1,s=o)}const r=Math.abs(n.getTime()-s.getTime()),a=Math.ceil(r/(1e3*60*60*24));return Math.floor(a/7)+1}const Dv=["sm","md","lg","xl","xxl"],tb=Symbol.for("vuetify:display"),VC={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},fZ=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VC;return yi(VC,t)};function FC(t){return Ot&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function BC(t){return Ot&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function UC(t){const e=Ot&&!t?window.navigator.userAgent:"ssr";function n(m){return!!e.match(m)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),d=n(/win/i),f=n(/mac/i),h=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:o,edge:l,firefox:c,opera:u,win:d,mac:f,linux:h,touch:Cq,ssr:e==="ssr"}}function hZ(t,e){const{thresholds:n,mobileBreakpoint:i}=fZ(t),s=ke(BC(e)),r=ke(UC(e)),a=_n({}),o=ke(FC(e));function l(){s.value=BC(),o.value=FC()}function c(){l(),r.value=UC()}return Zt(()=>{const u=o.value<n.sm,d=o.value<n.md&&!u,f=o.value<n.lg&&!(d||u),h=o.value<n.xl&&!(f||d||u),m=o.value<n.xxl&&!(h||f||d||u),g=o.value>=n.xxl,p=u?"xs":d?"sm":f?"md":h?"lg":m?"xl":"xxl",v=typeof i=="number"?i:n[i],b=o.value<v;a.xs=u,a.sm=d,a.md=f,a.lg=h,a.xl=m,a.xxl=g,a.smAndUp=!u,a.mdAndUp=!(u||d),a.lgAndUp=!(u||d||f),a.xlAndUp=!(u||d||f||h),a.smAndDown=!(f||h||m||g),a.mdAndDown=!(h||m||g),a.lgAndDown=!(m||g),a.xlAndDown=!g,a.name=p,a.height=s.value,a.width=o.value,a.mobile=b,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),Ot&&window.addEventListener("resize",l,{passive:!0}),{...Ys(a),update:c,ssr:!!e}}const Pl=oe({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Ls(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();const n=St(tb);if(!n)throw new Error("Could not find Vuetify display injection");const i=L(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?n.width.value<t.mobileBreakpoint:t.mobileBreakpoint?n.width.value<n.thresholds.value[t.mobileBreakpoint]:t.mobile===null?n.mobile.value:!1),s=L(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const T2=Symbol.for("vuetify:goto");function E2(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function mZ(t){return Zx(t)??(document.scrollingElement||document.body)}function Zx(t){return typeof t=="string"?document.querySelector(t):Hx(t)}function Fy(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=Zx(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function pZ(t,e){return{rtl:e.isRtl,options:yi(E2(),t)}}async function zC(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=yi((i==null?void 0:i.options)??E2(),e),a=i==null?void 0:i.rtl.value,o=(typeof t=="number"?t:Zx(t))??0,l=r.container==="parent"&&o instanceof HTMLElement?o.parentElement:mZ(r.container),c=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!c)throw new TypeError(`Easing function "${r.easing}" not found.`);let u;if(typeof o=="number")u=Fy(o,n,a);else if(u=Fy(o,n,a)-Fy(l,n,a),r.layout){const m=window.getComputedStyle(o).getPropertyValue("--v-layout-top");m&&(u-=parseInt(m,10))}u+=r.offset,u=gZ(l,u,!!a,!!n);const d=l[s]??0;if(u===d)return Promise.resolve(u);const f=performance.now();return new Promise(h=>requestAnimationFrame(function m(g){const v=(g-f)/r.duration,b=Math.floor(d+(u-d)*c(Rn(v,0,1)));if(l[s]=b,v>=1&&Math.abs(b-l[s])<10)return h(u);if(v>2)return h(l[s]);requestAnimationFrame(m)}))}function vZ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=St(T2),{isRtl:n}=zn();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:L(()=>e.rtl.value||n.value)};async function s(r,a){return zC(r,yi(t,a),!1,i)}return s.horizontal=async(r,a)=>zC(r,yi(t,a),!0,i),s}function gZ(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,o]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,c;return i?n?(l=-(s-a),c=0):(l=0,c=s-a):(l=0,c=r+-o),Math.max(Math.min(e,c),l)}const yZ={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},bZ={component:t=>hs(Qx,{...t,class:"mdi"})},Ze=[String,Function,Object,Array],nb=Symbol.for("vuetify:icons"),Ov=oe({icon:{type:Ze},tag:{type:String,required:!0}},"icon"),ib=be()({name:"VComponentIcon",props:Ov(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return M(t.tag,null,{default:()=>{var s;return[t.icon?M(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),Jx=vs({name:"VSvgIcon",inheritAttrs:!1,props:Ov(),setup(t,e){let{attrs:n}=e;return()=>M(t.tag,Se(n,{style:null}),{default:()=>[M("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?M("path",{d:i[0],"fill-opacity":i[1]},null):M("path",{d:i},null)):M("path",{d:t.icon},null)])]})}}),_Z=vs({name:"VLigatureIcon",props:Ov(),setup(t){return()=>M(t.tag,null,{default:()=>[t.icon]})}}),Qx=vs({name:"VClassIcon",props:Ov(),setup(t){return()=>M(t.tag,{class:t.icon},null)}});function xZ(){return{svg:{component:Jx},class:{component:Qx}}}function wZ(t){const e=xZ(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=bZ),yi({defaultSet:n,sets:e,aliases:{...yZ,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const SZ=t=>{const e=St(nb);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:L(()=>{var l;const i=Pe(t);if(!i)return{component:ib};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),Array.isArray(s))return{component:Jx,icon:s};if(typeof s!="string")return{component:ib,icon:s};const r=Object.keys(e.sets).find(c=>typeof s=="string"&&s.startsWith(`${c}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},Bd=Symbol.for("vuetify:theme"),It=oe({theme:String},"theme");function HC(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function MZ(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:HC();const e=HC();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const o=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=yi(o,a)}return yi(e,{...t,themes:n})}function CZ(t){const e=MZ(t),n=he(e.defaultTheme),i=he(e.themes),s=L(()=>{const u={};for(const[d,f]of Object.entries(i.value)){const h=u[d]={...f,colors:{...f.colors}};if(e.variations)for(const m of e.variations.colors){const g=h.colors[m];if(g)for(const p of["lighten","darken"]){const v=p==="lighten"?aK:oK;for(const b of dr(e.variations[p],1))h.colors[`${m}-${p}-${b}`]=f2(v(ds(g),b))}}for(const m of Object.keys(h.colors)){if(/^on-[a-z]/.test(m)||h.colors[`on-${m}`])continue;const g=`on-${m}`,p=ds(h.colors[m]);h.colors[g]=p2(p)}}return u}),r=L(()=>s.value[n.value]),a=L(()=>{var m;const u=[];(m=r.value)!=null&&m.dark&&Ao(u,":root",["color-scheme: dark"]),Ao(u,":root",GC(r.value));for(const[g,p]of Object.entries(s.value))Ao(u,`.v-theme--${g}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...GC(p)]);const d=[],f=[],h=new Set(Object.values(s.value).flatMap(g=>Object.keys(g.colors)));for(const g of h)/^on-[a-z]/.test(g)?Ao(f,`.${g}`,[`color: rgb(var(--v-theme-${g})) !important`]):(Ao(d,`.bg-${g}`,[`--v-theme-overlay-multiplier: var(--v-theme-${g}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${g})) !important`,`color: rgb(var(--v-theme-on-${g})) !important`]),Ao(f,`.text-${g}`,[`color: rgb(var(--v-theme-${g})) !important`]),Ao(f,`.border-${g}`,[`--v-border-color: var(--v-theme-${g})`]));return u.push(...d,...f),u.map((g,p)=>p===0?g:`    ${g}`).join("")});function o(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(u){if(e.isDisabled)return;const d=u._context.provides.usehead;if(d)if(d.push){const f=d.push(o);Ot&&Ie(a,()=>{f.patch(o)})}else Ot?(d.addHeadObjs(L(o)),Zt(()=>d.updateDOM())):d.addHeadObjs(o());else{let h=function(){if(typeof document<"u"&&!f){const m=document.createElement("style");m.type="text/css",m.id="vuetify-theme-stylesheet",e.cspNonce&&m.setAttribute("nonce",e.cspNonce),f=m,document.head.appendChild(f)}f&&(f.innerHTML=a.value)},f=Ot?document.getElementById("vuetify-theme-stylesheet"):null;Ot?Ie(a,h,{immediate:!0}):h()}}const c=L(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:c,styles:a,global:{name:n,current:r}}}function Ut(t){yn("provideTheme");const e=St(Bd,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=L(()=>t.theme??e.name.value),i=L(()=>e.themes.value[n.value]),s=L(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return Qt(Bd,r),r}function A2(){yn("useTheme");const t=St(Bd,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function Ao(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function GC(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=ds(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${Q0(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?ds(r):void 0,o=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${o??r}`)}return i}function Xs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=_p(),i=he();if(Ot){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});qn(()=>{s.disconnect()}),Ie(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:Qr(i)}}const Ud=Symbol.for("vuetify:layout"),P2=Symbol.for("vuetify:layout-item"),WC=1e3,I2=oe({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Il=oe({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function R2(){const t=St(Ud);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Rl(t){const e=St(Ud);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${ai()}`,i=yn("useLayoutItem");Qt(P2,{id:n});const s=ke(!1);jb(()=>s.value=!0),iE(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:a}=e.register(i,{...t,active:L(()=>s.value?!1:t.active.value),id:n});return qn(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const TZ=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const o=e.get(a),l=n.get(a),c=i.get(a);if(!o||!l||!c)continue;const u={...s,[o.value]:parseInt(s[o.value],10)+(c.value?parseInt(l.value,10):0)};r.push({id:a,layer:u}),s=u}return r};function L2(t){const e=St(Ud,null),n=L(()=>e?e.rootZIndex.value-100:WC),i=he([]),s=_n(new Map),r=_n(new Map),a=_n(new Map),o=_n(new Map),l=_n(new Map),{resizeRef:c,contentRect:u}=Xs(),d=L(()=>{const C=new Map,A=t.overlaps??[];for(const S of A.filter(x=>x.includes(":"))){const[x,y]=S.split(":");if(!i.value.includes(x)||!i.value.includes(y))continue;const E=s.get(x),P=s.get(y),D=r.get(x),N=r.get(y);!E||!P||!D||!N||(C.set(y,{position:E.value,amount:parseInt(D.value,10)}),C.set(x,{position:P.value,amount:-parseInt(N.value,10)}))}return C}),f=L(()=>{const C=[...new Set([...a.values()].map(S=>S.value))].sort((S,x)=>S-x),A=[];for(const S of C){const x=i.value.filter(y=>{var E;return((E=a.get(y))==null?void 0:E.value)===S});A.push(...x)}return TZ(A,s,r,o)}),h=L(()=>!Array.from(l.values()).some(C=>C.value)),m=L(()=>f.value[f.value.length-1].layer),g=L(()=>({"--v-layout-left":Ve(m.value.left),"--v-layout-right":Ve(m.value.right),"--v-layout-top":Ve(m.value.top),"--v-layout-bottom":Ve(m.value.bottom),...h.value?void 0:{transition:"none"}})),p=L(()=>f.value.slice(1).map((C,A)=>{let{id:S}=C;const{layer:x}=f.value[A],y=r.get(S),E=s.get(S);return{id:S,...x,size:Number(y.value),position:E.value}})),v=C=>p.value.find(A=>A.id===C),b=yn("createLayout"),_=ke(!1);On(()=>{_.value=!0}),Qt(Ud,{register:(C,A)=>{let{id:S,order:x,position:y,layoutSize:E,elementSize:P,active:D,disableTransitions:N,absolute:W}=A;a.set(S,x),s.set(S,y),r.set(S,E),o.set(S,D),N&&l.set(S,N);const q=_c(P2,b==null?void 0:b.vnode).indexOf(C);q>-1?i.value.splice(q,0,S):i.value.push(S);const j=L(()=>p.value.findIndex(ce=>ce.id===S)),Q=L(()=>n.value+f.value.length*2-j.value*2),Z=L(()=>{const ce=y.value==="left"||y.value==="right",Me=y.value==="right",ee=y.value==="bottom",pe=P.value??E.value,ne=pe===0?"%":"px",de={[y.value]:0,zIndex:Q.value,transform:`translate${ce?"X":"Y"}(${(D.value?0:-(pe===0?100:pe))*(Me||ee?-1:1)}${ne})`,position:W.value||n.value!==WC?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!_.value)return de;const ae=p.value[j.value];if(!ae)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const F=d.value.get(S);return F&&(ae[F.position]+=F.amount),{...de,height:ce?`calc(100% - ${ae.top}px - ${ae.bottom}px)`:P.value?`${P.value}px`:void 0,left:Me?void 0:`${ae.left}px`,right:Me?`${ae.right}px`:void 0,top:y.value!=="bottom"?`${ae.top}px`:void 0,bottom:y.value!=="top"?`${ae.bottom}px`:void 0,width:ce?P.value?`${P.value}px`:void 0:`calc(100% - ${ae.left}px - ${ae.right}px)`}}),X=L(()=>({zIndex:Q.value-1}));return{layoutItemStyles:Z,layoutItemScrimStyles:X,zIndex:Q}},unregister:C=>{a.delete(C),s.delete(C),r.delete(C),o.delete(C),l.delete(C),i.value=i.value.filter(A=>A!==C)},mainRect:m,mainStyles:g,getLayoutItem:v,items:p,layoutRect:u,rootZIndex:n});const w=L(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),T=L(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:w,layoutStyles:T,getLayoutItem:v,items:p,layoutRect:u,layoutRef:c}}function k2(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=yi(e,n),{aliases:s={},components:r={},directives:a={}}=i,o=uK(i.defaults),l=hZ(i.display,i.ssr),c=CZ(i.theme),u=wZ(i.icons),d=xK(i.locale),f=uZ(i.date,d),h=pZ(i.goTo,d);return{install:g=>{for(const p in a)g.directive(p,a[p]);for(const p in r)g.component(p,r[p]);for(const p in s)g.component(p,vs({...s[p],name:p,aliasName:s[p].name}));if(c.install(g),g.provide(qc,o),g.provide(tb,l),g.provide(Bd,c),g.provide(nb,u),g.provide(Kc,d),g.provide(M2,f.options),g.provide(NC,f.instance),g.provide(T2,h),Ot&&i.ssr)if(g.$nuxt)g.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=g;g.mount=function(){const v=p(...arguments);return Rt(()=>l.update()),g.mount=p,v}}ai.reset(),g.mixin({computed:{$vuetify(){return _n({defaults:fc.call(this,qc),display:fc.call(this,tb),theme:fc.call(this,Bd),icons:fc.call(this,nb),locale:fc.call(this,Kc),date:fc.call(this,NC)})}}})},defaults:o,display:l,theme:c,icons:u,locale:d,date:f,goTo:h}}const EZ="3.7.11";k2.version=EZ;function fc(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}const AZ=oe({...Ue(),...I2({fullHeight:!0}),...It()},"VApp"),PZ=be()({name:"VApp",props:AZ(),setup(t,e){let{slots:n}=e;const i=Ut(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:o}=L2(t),{rtlClasses:l}=zn();return Ce(()=>{var c;return M("div",{ref:o,class:["v-application",i.themeClasses.value,s.value,l.value,t.class],style:[t.style]},[M("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:r,items:a,theme:i}}}),ht=oe({tag:{type:String,default:"div"}},"tag"),D2=oe({text:String,...Ue(),...ht()},"VToolbarTitle"),ew=be()({name:"VToolbarTitle",props:D2(),setup(t,e){let{slots:n}=e;return Ce(()=>{const i=!!(n.default||n.text||t.text);return M(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&M("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),IZ=oe({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function gs(t,e,n){return be()({name:t,props:IZ({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:d}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${c}px`,o.style.width=`${u}px`,o.style.height=`${d}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:c,left:u,width:d,height:f}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=c||"",o.style.left=u||"",o.style.width=d||"",o.style.height=f||""}}};return()=>{const o=i.group?t_:Ga;return hs(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function O2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return be()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?t_:Ga;return()=>hs(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function N2(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=ts(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const o=a._initialStyle;if(!o)return;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=o.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){if(!a._initialStyle)return;const o=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,o!=null&&(a.style[n]=o),delete a._initialStyle}}const RZ=oe({target:[Object,Array]},"v-dialog-transition"),Nv=be()({name:"VDialogTransition",props:RZ(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var f;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),s.style.visibility="";const{x:a,y:o,sx:l,sy:c,speed:u}=jC(t.target,s),d=Ho(s,[{transform:`translate(${a}px, ${o}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*u,easing:mK});(f=$C(s))==null||f.forEach(h=>{Ho(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:Fd})}),d.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var f;await new Promise(h=>requestAnimationFrame(h));const{x:a,y:o,sx:l,sy:c,speed:u}=jC(t.target,s);Ho(s,[{},{transform:`translate(${a}px, ${o}px) scale(${l}, ${c})`,opacity:0}],{duration:125*u,easing:pK}).finished.then(()=>r()),(f=$C(s))==null||f.forEach(h=>{Ho(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:Fd})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?M(Ga,Se({name:"dialog-transition"},i,{css:!1}),n):M(Ga,{name:"dialog-transition"},n)}});function $C(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function jC(t,e){const n=r2(t),i=$x(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(v=>parseFloat(v)),[a,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;a==="left"||o==="left"?l-=n.width/2:(a==="right"||o==="right")&&(l+=n.width/2);let c=n.top+n.height/2;a==="top"||o==="top"?c-=n.height/2:(a==="bottom"||o==="bottom")&&(c+=n.height/2);const u=n.width/i.width,d=n.height/i.height,f=Math.max(1,u,d),h=u/f||0,m=d/f||0,g=i.width*i.height/(window.innerWidth*window.innerHeight),p=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(s+i.left),y:c-(r+i.top),sx:h,sy:m,speed:p}}const LZ=gs("fab-transition","center center","out-in"),kZ=gs("dialog-bottom-transition"),DZ=gs("dialog-top-transition"),zd=gs("fade-transition"),tw=gs("scale-transition"),OZ=gs("scroll-x-transition"),NZ=gs("scroll-x-reverse-transition"),VZ=gs("scroll-y-transition"),FZ=gs("scroll-y-reverse-transition"),BZ=gs("slide-x-transition"),UZ=gs("slide-x-reverse-transition"),nw=gs("slide-y-transition"),zZ=gs("slide-y-reverse-transition"),Vv=O2("expand-transition",N2()),iw=O2("expand-x-transition",N2("",!0)),HZ=oe({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),_t=be(!1)({name:"VDefaultsProvider",props:HZ(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:o}=Ys(t);return gn(i,{reset:r,root:a,scoped:o,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),Nn=oe({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Vn(t){return{dimensionStyles:L(()=>{const n={},i=Ve(t.height),s=Ve(t.maxHeight),r=Ve(t.maxWidth),a=Ve(t.minHeight),o=Ve(t.minWidth),l=Ve(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}function GZ(t){return{aspectStyles:L(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const V2=oe({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Ue(),...Nn()},"VResponsive"),sb=be()({name:"VResponsive",props:V2(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=GZ(t),{dimensionStyles:s}=Vn(t);return Ce(()=>{var r;return M("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[M("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&M("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}});function sw(t){return Wx(()=>{const e=[],n={};if(t.value.background)if(J0(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&nK(t.value.background)){const i=ds(t.value.background);if(i.a==null||i.a===1){const s=p2(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(J0(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function ui(t,e){const n=L(()=>({text:ln(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=sw(n);return{textColorClasses:i,textColorStyles:s}}function Jt(t,e){const n=L(()=>({background:ln(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=sw(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const fn=oe({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function bn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();return{roundedClasses:L(()=>{const i=ln(t)?t.value:t.rounded,s=ln(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const er=oe({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),bi=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:o=r?t_:Ga,...l}=typeof i=="object"?i:{};return hs(o,Se(typeof i=="string"?{name:s?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(c=>{let[u,d]=c;return d!==void 0})),a),n)};function WZ(t,e){if(!zx)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var d;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(d=t._observe)==null?void 0:d[e.instance.$.uid];if(!c)return;const u=o.some(f=>f.isIntersecting);s&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&s(u,o,l),u&&n.once?F2(t,e):c.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function F2(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Af={mounted:WZ,unmounted:F2},B2=oe({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...V2(),...Ue(),...fn(),...er()},"VImg"),la=be()({name:"VImg",directives:{intersect:Af},props:B2(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=Jt(ge(t,"color")),{roundedClasses:a}=bn(t),o=yn("VImg"),l=ke(""),c=he(),u=ke(t.eager?"loading":"idle"),d=ke(),f=ke(),h=L(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),m=L(()=>h.value.aspect||d.value/f.value||0);Ie(()=>t.src,()=>{g(u.value!=="idle")}),Ie(m,(P,D)=>{!P&&D&&c.value&&w(c.value)}),Qc(()=>g());function g(P){if(!(t.eager&&P)&&!(zx&&!P&&!t.eager)){if(u.value="loading",h.value.lazySrc){const D=new Image;D.src=h.value.lazySrc,w(D,null)}h.value.src&&Rt(()=>{var D;n("loadstart",((D=c.value)==null?void 0:D.currentSrc)||h.value.src),setTimeout(()=>{var N;if(!o.isUnmounted)if((N=c.value)!=null&&N.complete){if(c.value.naturalWidth||v(),u.value==="error")return;m.value||w(c.value,null),u.value==="loading"&&p()}else m.value||w(c.value),b()})})}}function p(){var P;o.isUnmounted||(b(),w(c.value),u.value="loaded",n("load",((P=c.value)==null?void 0:P.currentSrc)||h.value.src))}function v(){var P;o.isUnmounted||(u.value="error",n("error",((P=c.value)==null?void 0:P.currentSrc)||h.value.src))}function b(){const P=c.value;P&&(l.value=P.currentSrc||P.src)}let _=-1;qn(()=>{clearTimeout(_)});function w(P){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const N=()=>{if(clearTimeout(_),o.isUnmounted)return;const{naturalHeight:W,naturalWidth:B}=P;W||B?(d.value=B,f.value=W):!P.complete&&u.value==="loading"&&D!=null?_=window.setTimeout(N,D):(P.currentSrc.endsWith(".svg")||P.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,f.value=1)};N()}const T=L(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),C=()=>{var N;if(!h.value.src||u.value==="idle")return null;const P=M("img",{class:["v-img__img",T.value],style:{objectPosition:t.position},crossorigin:t.crossorigin,src:h.value.src,srcset:h.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:c,onLoad:p,onError:v},null),D=(N=i.sources)==null?void 0:N.call(i);return M(bi,{transition:t.transition,appear:!0},{default:()=>[tt(D?M("picture",{class:"v-img__picture"},[D,P]):P,[[Rs,u.value==="loaded"]])]})},A=()=>M(bi,{transition:t.transition},{default:()=>[h.value.lazySrc&&u.value!=="loaded"&&M("img",{class:["v-img__img","v-img__img--preload",T.value],style:{objectPosition:t.position},crossorigin:t.crossorigin,src:h.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),S=()=>i.placeholder?M(bi,{transition:t.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!i.error)&&M("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,x=()=>i.error?M(bi,{transition:t.transition,appear:!0},{default:()=>[u.value==="error"&&M("div",{class:"v-img__error"},[i.error()])]}):null,y=()=>t.gradient?M("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,E=ke(!1);{const P=Ie(m,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{E.value=!0})}),P())})}return Ce(()=>{const P=sb.filterProps(t);return tt(M(sb,Se({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!E.value},s.value,a.value,t.class],style:[{width:Ve(t.width==="auto"?d.value:t.width)},r.value,t.style]},P,{aspectRatio:m.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>M($e,null,[M(C,null,null),M(A,null,null),M(y,null,null),M(S,null,null),M(x,null,null)]),default:i.default}),[[Sn("intersect"),{handler:g,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:c,state:u,naturalWidth:d,naturalHeight:f}}}),is=oe({border:[Boolean,Number,String]},"border");function ys(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();return{borderClasses:L(()=>{const i=ln(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const Hn=oe({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function oi(t){return{elevationClasses:L(()=>{const n=ln(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const $Z=[null,"prominent","default","comfortable","compact"],U2=oe({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>$Z.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...is(),...Ue(),...Hn(),...fn(),...ht({tag:"header"}),...It()},"VToolbar"),rb=be()({name:"VToolbar",props:U2(),setup(t,e){var h;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Jt(ge(t,"color")),{borderClasses:r}=ys(t),{elevationClasses:a}=oi(t),{roundedClasses:o}=bn(t),{themeClasses:l}=Ut(t),{rtlClasses:c}=zn(),u=ke(!!(t.extended||(h=n.extension)!=null&&h.call(n))),d=L(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),f=L(()=>u.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return gn({VBtn:{variant:"text"}}),Ce(()=>{var v;const m=!!(t.title||n.title),g=!!(n.image||t.image),p=(v=n.extension)==null?void 0:v.call(n);return u.value=!!(t.extended||p),M(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,o.value,l.value,c.value,t.class],style:[s.value,t.style]},{default:()=>[g&&M("div",{key:"image",class:"v-toolbar__image"},[n.image?M(_t,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):M(la,{key:"image-img",cover:!0,src:t.image},null)]),M(_t,{defaults:{VTabs:{height:Ve(d.value)}}},{default:()=>{var b,_,w;return[M("div",{class:"v-toolbar__content",style:{height:Ve(d.value)}},[n.prepend&&M("div",{class:"v-toolbar__prepend"},[(b=n.prepend)==null?void 0:b.call(n)]),m&&M(ew,{key:"title",text:t.title},{text:n.title}),(_=n.default)==null?void 0:_.call(n),n.append&&M("div",{class:"v-toolbar__append"},[(w=n.append)==null?void 0:w.call(n)])])]}}),M(_t,{defaults:{VTabs:{height:Ve(f.value)}}},{default:()=>[M(Vv,null,{default:()=>[u.value&&M("div",{class:"v-toolbar__extension",style:{height:Ve(f.value)}},[p])]})]})]})}),{contentHeight:d,extensionHeight:f}}}),jZ=oe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function XZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=he(null),a=ke(0),o=ke(0),l=ke(0),c=ke(!1),u=ke(!1),d=L(()=>Number(t.scrollThreshold)),f=L(()=>Rn((d.value-a.value)/d.value||0)),h=()=>{const m=r.value;if(!m||n&&!n.value)return;i=a.value,a.value="window"in m?m.pageYOffset:m.scrollTop;const g=m instanceof Window?document.documentElement.scrollHeight:m.scrollHeight;if(s!==g){s=g;return}u.value=a.value<i,l.value=Math.abs(a.value-d.value)};return Ie(u,()=>{o.value=o.value||a.value}),Ie(c,()=>{o.value=0}),On(()=>{Ie(()=>t.scrollTarget,m=>{var p;const g=m?document.querySelector(m):window;g&&g!==r.value&&((p=r.value)==null||p.removeEventListener("scroll",h),r.value=g,r.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),qn(()=>{var m;(m=r.value)==null||m.removeEventListener("scroll",h)}),n&&Ie(n,h,{immediate:!0}),{scrollThreshold:d,currentScroll:a,currentThreshold:l,isScrollActive:c,scrollRatio:f,isScrollingUp:u,savedScroll:o}}function Ll(){const t=ke(!1);return On(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:L(()=>t.value?void 0:{transition:"none !important"}),isBooted:Qr(t)}}const YZ=oe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...U2(),...Il(),...jZ(),height:{type:[Number,String],default:64}},"VAppBar"),qZ=be()({name:"VAppBar",props:YZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=he(),s=Ke(t,"modelValue"),r=L(()=>{var _;const b=new Set(((_=t.scrollBehavior)==null?void 0:_.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),a=L(()=>{const b=r.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:c,scrollRatio:u}=XZ(t,{canScroll:a}),d=L(()=>r.value.hide||r.value.fullyHide),f=L(()=>t.collapse||r.value.collapse&&(r.value.inverted?u.value>0:u.value===0)),h=L(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?o.value>0:o.value===0)),m=L(()=>r.value.fadeImage?r.value.inverted?1-u.value:u.value:void 0),g=L(()=>{var w,T;if(r.value.hide&&r.value.inverted)return 0;const b=((w=i.value)==null?void 0:w.contentHeight)??0,_=((T=i.value)==null?void 0:T.extensionHeight)??0;return d.value?o.value<l.value||r.value.fullyHide?b+_:b:b+_});zi(L(()=>!!t.scrollBehavior),()=>{Zt(()=>{d.value?r.value.inverted?s.value=o.value>l.value:s.value=c.value||o.value<l.value:s.value=!0})});const{ssrBootStyles:p}=Ll(),{layoutItemStyles:v}=Rl({id:t.name,order:L(()=>parseInt(t.order,10)),position:ge(t,"location"),layoutSize:g,elementSize:ke(void 0),active:s,absolute:ge(t,"absolute")});return Ce(()=>{const b=rb.filterProps(t);return M(rb,Se({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...v.value,"--v-toolbar-image-opacity":m.value,height:void 0,...p.value},t.style]},b,{collapse:f.value,flat:h.value}),n)}),{}}}),KZ=[null,"default","comfortable","compact"],Kn=oe({density:{type:String,default:"default",validator:t=>KZ.includes(t)}},"density");function Mi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();return{densityClasses:L(()=>`${e}--density-${t.density}`)}}const ZZ=["elevated","flat","tonal","outlined","text","plain"];function no(t,e){return M($e,null,[t&&M("span",{key:"overlay",class:`${e}__overlay`},null),M("span",{key:"underlay",class:`${e}__underlay`},null)])}const ks=oe({color:String,variant:{type:String,default:"elevated",validator:t=>ZZ.includes(t)}},"variant");function kl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();const n=L(()=>{const{variant:r}=Pe(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=sw(L(()=>{const{variant:r,color:a}=Pe(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const z2=oe({baseColor:String,divided:Boolean,...is(),...Ue(),...Kn(),...Hn(),...fn(),...ht(),...It(),...ks()},"VBtnGroup"),ab=be()({name:"VBtnGroup",props:z2(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t),{densityClasses:s}=Mi(t),{borderClasses:r}=ys(t),{elevationClasses:a}=oi(t),{roundedClasses:o}=bn(t);gn({VBtn:{height:"auto",baseColor:ge(t,"baseColor"),color:ge(t,"color"),density:ge(t,"density"),flat:!0,variant:ge(t,"variant")}}),Ce(()=>M(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,o.value,t.class],style:t.style},n))}}),Dl=oe({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Ol=oe({value:null,disabled:Boolean,selectedClass:String},"group-item");function Nl(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=yn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=ai();Qt(Symbol.for(`${e.description}:id`),s);const r=St(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=ge(t,"value"),o=L(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:o},i),qn(()=>{r.unregister(s)});const l=L(()=>r.isSelected(s)),c=L(()=>r.items.value[0].id===s),u=L(()=>r.items.value[r.items.value.length-1].id===s),d=L(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return Ie(l,f=>{i.emit("group:selected",{value:f})},{flush:"sync"}),{id:s,isSelected:l,isFirst:c,isLast:u,toggle:()=>r.select(s,!l.value),select:f=>r.select(s,f),selectedClass:d,value:a,disabled:o,group:r}}function io(t,e){let n=!1;const i=_n([]),s=Ke(t,"modelValue",[],f=>f==null?[]:H2(i,mn(f)),f=>{const h=QZ(i,f);return t.multiple?h:h[0]}),r=yn("useGroup");function a(f,h){const m=f,g=Symbol.for(`${e.description}:id`),v=_c(g,r==null?void 0:r.vnode).indexOf(h);Pe(m.value)==null&&(m.value=v,m.useIndexAsValue=!0),v>-1?i.splice(v,0,m):i.push(m)}function o(f){if(n)return;l();const h=i.findIndex(m=>m.id===f);i.splice(h,1)}function l(){const f=i.find(h=>!h.disabled);f&&t.mandatory==="force"&&!s.value.length&&(s.value=[f.id])}On(()=>{l()}),qn(()=>{n=!0}),Dp(()=>{for(let f=0;f<i.length;f++)i[f].useIndexAsValue&&(i[f].value=f)});function c(f,h){const m=i.find(g=>g.id===f);if(!(h&&(m!=null&&m.disabled)))if(t.multiple){const g=s.value.slice(),p=g.findIndex(b=>b===f),v=~p;if(h=h??!v,v&&t.mandatory&&g.length<=1||!v&&t.max!=null&&g.length+1>t.max)return;p<0&&h?g.push(f):p>=0&&!h&&g.splice(p,1),s.value=g}else{const g=s.value.includes(f);if(t.mandatory&&g)return;s.value=h??!g?[f]:[]}}function u(f){if(t.multiple,s.value.length){const h=s.value[0],m=i.findIndex(v=>v.id===h);let g=(m+f)%i.length,p=i[g];for(;p.disabled&&g!==m;)g=(g+f)%i.length,p=i[g];if(p.disabled)return;s.value=[i[g].id]}else{const h=i.find(m=>!m.disabled);h&&(s.value=[h.id])}}const d={register:a,unregister:o,selected:s,select:c,disabled:ge(t,"disabled"),prev:()=>u(i.length-1),next:()=>u(1),isSelected:f=>s.value.includes(f),selectedClass:L(()=>t.selectedClass),items:L(()=>i),getItemIndex:f=>JZ(i,f)};return Qt(e,d),d}function JZ(t,e){const n=H2(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function H2(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>Er(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function QZ(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const rw=Symbol.for("vuetify:v-btn-toggle"),eJ=oe({...z2(),...Dl()},"VBtnToggle"),tJ=be()({name:"VBtnToggle",props:eJ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:o}=io(t,rw);return Ce(()=>{const l=ab.filterProps(t);return M(ab,Se({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,next:s,prev:r,select:a,selected:o})]}})}),{next:s,prev:r,select:a}}}),nJ=["x-small","small","default","large","x-large"],Ir=oe({size:{type:[String,Number],default:"default"}},"size");function cu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();return Wx(()=>{let n,i;return bp(nJ,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Ve(t.size),height:Ve(t.size)}),{sizeClasses:n,sizeStyles:i}})}const iJ=oe({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ze,...Ue(),...Ir(),...ht({tag:"i"}),...It()},"VIcon"),Bt=be()({name:"VIcon",props:iJ(),setup(t,e){let{attrs:n,slots:i}=e;const s=he(),{themeClasses:r}=Ut(t),{iconData:a}=SZ(L(()=>s.value||t.icon)),{sizeClasses:o}=cu(t),{textColorClasses:l,textColorStyles:c}=ui(ge(t,"color"));return Ce(()=>{var f,h;const u=(f=i.default)==null?void 0:f.call(i);u&&(s.value=(h=e2(u).filter(m=>m.type===Jd&&m.children&&typeof m.children=="string")[0])==null?void 0:h.children);const d=!!(n.onClick||n.onClickOnce);return M(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,o.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[o.value?void 0:{fontSize:Ve(t.size),height:Ve(t.size),width:Ve(t.size)},c.value,t.style],role:d?"button":void 0,"aria-hidden":!d,tabindex:d?t.disabled?-1:0:void 0},{default:()=>[u]})}),{}}});function Fv(t,e){const n=he(),i=ke(!1);if(zx){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);qn(()=>{s.disconnect()}),Ie(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const sJ=oe({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ue(),...Ir(),...ht({tag:"div"}),...It()},"VProgressCircular"),Zc=be()({name:"VProgressCircular",props:sJ(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=he(),{themeClasses:a}=Ut(t),{sizeClasses:o,sizeStyles:l}=cu(t),{textColorClasses:c,textColorStyles:u}=ui(ge(t,"color")),{textColorClasses:d,textColorStyles:f}=ui(ge(t,"bgColor")),{intersectionRef:h,isIntersecting:m}=Fv(),{resizeRef:g,contentRect:p}=Xs(),v=L(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),b=L(()=>Number(t.width)),_=L(()=>l.value?Number(t.size):p.value?p.value.width:Math.max(b.value,32)),w=L(()=>i/(1-b.value/_.value)*2),T=L(()=>b.value/_.value*w.value),C=L(()=>Ve((100-v.value)/100*s));return Zt(()=>{h.value=r.value,g.value=r.value}),Ce(()=>M(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,o.value,c.value,t.class],style:[l.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:v.value},{default:()=>[M("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${w.value} ${w.value}`},[M("circle",{class:["v-progress-circular__underlay",d.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":T.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),M("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":T.value,"stroke-dasharray":s,"stroke-dashoffset":C.value},null)]),n.default&&M("div",{class:"v-progress-circular__content"},[n.default({value:v.value})])]})),{}}}),XC={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},ha=oe({location:String},"location");function Vl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=zn();return{locationStyles:L(()=>{if(!t.location)return{};const{side:r,align:a}=K0(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(c){return n?n(c):0}const l={};return r!=="center"&&(e?l[XC[r]]=`calc(100% - ${o(r)}px)`:l[r]=0),a!=="center"?e?l[XC[a]]=`calc(100% - ${o(a)}px)`:l[a]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const rJ=oe({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ue(),...ha({location:"top"}),...fn(),...ht(),...It()},"VProgressLinear"),Bv=be()({name:"VProgressLinear",props:rJ(),emits:{"update:modelValue":t=>!0},setup(t,e){var E;let{slots:n}=e;const i=Ke(t,"modelValue"),{isRtl:s,rtlClasses:r}=zn(),{themeClasses:a}=Ut(t),{locationStyles:o}=Vl(t),{textColorClasses:l,textColorStyles:c}=ui(t,"color"),{backgroundColorClasses:u,backgroundColorStyles:d}=Jt(L(()=>t.bgColor||t.color)),{backgroundColorClasses:f,backgroundColorStyles:h}=Jt(L(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:m,backgroundColorStyles:g}=Jt(t,"color"),{roundedClasses:p}=bn(t),{intersectionRef:v,isIntersecting:b}=Fv(),_=L(()=>parseFloat(t.max)),w=L(()=>parseFloat(t.height)),T=L(()=>Rn(parseFloat(t.bufferValue)/_.value*100,0,100)),C=L(()=>Rn(parseFloat(i.value)/_.value*100,0,100)),A=L(()=>s.value!==t.reverse),S=L(()=>t.indeterminate?"fade-transition":"slide-x-transition"),x=Ot&&((E=window.matchMedia)==null?void 0:E.call(window,"(forced-colors: active)").matches);function y(P){if(!v.value)return;const{left:D,right:N,width:W}=v.value.getBoundingClientRect(),B=A.value?W-P.clientX+(N-W):P.clientX-D;i.value=Math.round(B/W*_.value)}return Ce(()=>M(t.tag,{ref:v,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&b.value,"v-progress-linear--reverse":A.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},p.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Ve(w.value):0,"--v-progress-linear-height":Ve(w.value),...t.absolute?o.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(i.value),_.value),onClick:t.clickable&&y},{default:()=>[t.stream&&M("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...c.value,[A.value?"left":"right"]:Ve(-w.value),borderTop:`${Ve(w.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Ve(w.value/4)})`,width:Ve(100-T.value,"%"),"--v-progress-linear-stream-to":Ve(w.value*(A.value?1:-1))}},null),M("div",{class:["v-progress-linear__background",x?void 0:u.value],style:[d.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),M("div",{class:["v-progress-linear__buffer",x?void 0:f.value],style:[h.value,{opacity:parseFloat(t.bufferOpacity),width:Ve(T.value,"%")}]},null),M(Ga,{name:S.value},{default:()=>[t.indeterminate?M("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(P=>M("div",{key:P,class:["v-progress-linear__indeterminate",P,x?void 0:m.value],style:g.value},null))]):M("div",{class:["v-progress-linear__determinate",x?void 0:m.value],style:[g.value,{width:Ve(C.value,"%")}]},null)]}),n.default&&M("div",{class:"v-progress-linear__content"},[n.default({value:C.value,buffer:T.value})])]})),{}}}),Uv=oe({loading:[Boolean,String]},"loader");function Pf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();return{loaderClasses:L(()=>({[`${e}--loading`]:t.loading}))}}function If(t,e){var i;let{slots:n}=e;return M("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||M(Bv,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const aJ=["static","relative","fixed","absolute","sticky"],uu=oe({position:{type:String,validator:t=>aJ.includes(t)}},"position");function du(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();return{positionClasses:L(()=>t.position?`${e}--${t.position}`:void 0)}}function oJ(){const t=yn("useRoute");return L(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function G2(){var t,e;return(e=(t=yn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Rf(t,e){var d,f;const n=d3("RouterLink"),i=L(()=>!!(t.href||t.to)),s=L(()=>(i==null?void 0:i.value)||bC(e,"click")||bC(t,"click"));if(typeof n=="string"||!("useLink"in n)){const h=ge(t,"href");return{isLink:i,isClickable:s,href:h,linkProps:_n({href:h})}}const r=L(()=>({...t,to:ge(()=>t.to||"")})),a=n.useLink(r.value),o=L(()=>t.to?a:void 0),l=oJ(),c=L(()=>{var h,m,g;return o.value?t.exact?l.value?((g=o.value.isExactActive)==null?void 0:g.value)&&Er(o.value.route.value.query,l.value.query):((m=o.value.isExactActive)==null?void 0:m.value)??!1:((h=o.value.isActive)==null?void 0:h.value)??!1:!1}),u=L(()=>{var h;return t.to?(h=o.value)==null?void 0:h.route.value.href:t.href});return{isLink:i,isClickable:s,isActive:c,route:(d=o.value)==null?void 0:d.route,navigate:(f=o.value)==null?void 0:f.navigate,href:u,linkProps:_n({href:u,"aria-current":L(()=>c.value?"page":void 0)})}}const Lf=oe({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let By=!1;function lJ(t,e){let n=!1,i,s;Ot&&(t!=null&&t.beforeEach)&&(Rt(()=>{window.addEventListener("popstate",r),i=t.beforeEach((a,o,l)=>{By?n?e(l):l():setTimeout(()=>n?e(l):l()),By=!0}),s=t==null?void 0:t.afterEach(()=>{By=!1})}),ri(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var o;(o=a.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function cJ(t,e){Ie(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&Rt(()=>{e(!0)})},{immediate:!0})}const ob=Symbol("rippleStop"),uJ=80;function YC(t,e){t.style.transform=e,t.style.webkitTransform=e}function lb(t){return t.constructor.name==="TouchEvent"}function W2(t){return t.constructor.name==="KeyboardEvent"}const dJ=function(t,e){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!W2(t)){const f=e.getBoundingClientRect(),h=lb(t)?t.touches[t.touches.length-1]:t;i=h.clientX-f.left,s=h.clientY-f.top}let r=0,a=.3;(d=e._ripple)!=null&&d.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,c=n.center?o:`${i-r}px`,u=n.center?l:`${s-r}px`;return{radius:r,scale:a,x:c,y:u,centerX:o,centerY:l}},Mp={show(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=e==null?void 0:e._ripple)!=null&&h.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:o,y:l,centerX:c,centerY:u}=dJ(t,e,n),d=`${r*2}px`;s.className="v-ripple__animation",s.style.width=d,s.style.height=d,e.appendChild(i);const f=window.getComputedStyle(e);f&&f.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),YC(s,`translate(${o}, ${l}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),YC(s,`translate(${c}, ${u}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function $2(t){return typeof t>"u"||!!t}function Hd(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[ob])){if(t[ob]=!0,lb(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||W2(t),n._ripple.class&&(e.class=n._ripple.class),lb(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Mp.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},uJ)}else Mp.show(t,n,e)}}function qC(t){t[ob]=!0}function ls(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{ls(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),Mp.hide(e)}}function j2(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Gd=!1;function X2(t){!Gd&&(t.keyCode===mC.enter||t.keyCode===mC.space)&&(Gd=!0,Hd(t))}function Y2(t){Gd=!1,ls(t)}function q2(t){Gd&&(Gd=!1,ls(t))}function K2(t,e,n){const{value:i,modifiers:s}=e,r=$2(i);if(r||Mp.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,Av(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",qC,{passive:!0}),t.addEventListener("mousedown",qC);return}t.addEventListener("touchstart",Hd,{passive:!0}),t.addEventListener("touchend",ls,{passive:!0}),t.addEventListener("touchmove",j2,{passive:!0}),t.addEventListener("touchcancel",ls),t.addEventListener("mousedown",Hd),t.addEventListener("mouseup",ls),t.addEventListener("mouseleave",ls),t.addEventListener("keydown",X2),t.addEventListener("keyup",Y2),t.addEventListener("blur",q2),t.addEventListener("dragstart",ls,{passive:!0})}else!r&&n&&Z2(t)}function Z2(t){t.removeEventListener("mousedown",Hd),t.removeEventListener("touchstart",Hd),t.removeEventListener("touchend",ls),t.removeEventListener("touchmove",j2),t.removeEventListener("touchcancel",ls),t.removeEventListener("mouseup",ls),t.removeEventListener("mouseleave",ls),t.removeEventListener("keydown",X2),t.removeEventListener("keyup",Y2),t.removeEventListener("dragstart",ls),t.removeEventListener("blur",q2)}function fJ(t,e){K2(t,e,!1)}function hJ(t){delete t._ripple,Z2(t)}function mJ(t,e){if(e.value===e.oldValue)return;const n=$2(e.oldValue);K2(t,e,n)}const ma={mounted:fJ,unmounted:hJ,updated:mJ},zv=oe({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:rw},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ze,appendIcon:Ze,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...is(),...Ue(),...Kn(),...Nn(),...Hn(),...Ol(),...Uv(),...ha(),...uu(),...fn(),...Lf(),...Ir(),...ht({tag:"button"}),...It(),...ks({variant:"elevated"})},"VBtn"),Ft=be()({name:"VBtn",props:zv(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Ut(t),{borderClasses:r}=ys(t),{densityClasses:a}=Mi(t),{dimensionStyles:o}=Vn(t),{elevationClasses:l}=oi(t),{loaderClasses:c}=Pf(t),{locationStyles:u}=Vl(t),{positionClasses:d}=du(t),{roundedClasses:f}=bn(t),{sizeClasses:h,sizeStyles:m}=cu(t),g=Nl(t,t.symbol,!1),p=Rf(t,n),v=L(()=>{var E;return t.active!==void 0?t.active:p.isLink.value?(E=p.isActive)==null?void 0:E.value:g==null?void 0:g.isSelected.value}),b=L(()=>v.value?t.activeColor??t.color:t.color),_=L(()=>{var P,D;return{color:(g==null?void 0:g.isSelected.value)&&(!p.isLink.value||((P=p.isActive)==null?void 0:P.value))||!g||((D=p.isActive)==null?void 0:D.value)?b.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:w,colorStyles:T,variantClasses:C}=kl(_),A=L(()=>(g==null?void 0:g.disabled.value)||t.disabled),S=L(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),x=L(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function y(E){var P;A.value||p.isLink.value&&(E.metaKey||E.ctrlKey||E.shiftKey||E.button!==0||n.target==="_blank")||((P=p.navigate)==null||P.call(p,E),g==null||g.toggle())}return cJ(p,g==null?void 0:g.select),Ce(()=>{const E=p.isLink.value?"a":t.tag,P=!!(t.prependIcon||i.prepend),D=!!(t.appendIcon||i.append),N=!!(t.icon&&t.icon!==!0);return tt(M(E,Se({type:E==="a"?void 0:"button",class:["v-btn",g==null?void 0:g.selectedClass.value,{"v-btn--active":v.value,"v-btn--block":t.block,"v-btn--disabled":A.value,"v-btn--elevated":S.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,w.value,a.value,l.value,c.value,d.value,f.value,h.value,C.value,t.class],style:[T.value,o.value,u.value,m.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:A.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:y,value:x.value},p.linkProps),{default:()=>{var W;return[no(!0,"v-btn"),!t.icon&&P&&M("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?M(_t,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):M(Bt,{key:"prepend-icon",icon:t.prependIcon},null)]),M("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&N?M(Bt,{key:"content-icon",icon:t.icon},null):M(_t,{key:"content-defaults",disabled:!N,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var B;return[((B=i.default)==null?void 0:B.call(i))??t.text]}})]),!t.icon&&D&&M("span",{key:"append",class:"v-btn__append"},[i.append?M(_t,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):M(Bt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&M("span",{key:"loader",class:"v-btn__loader"},[((W=i.loader)==null?void 0:W.call(i))??M(Zc,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[ma,!A.value&&t.ripple,"",{center:!!t.icon}]])}),{group:g}}}),pJ=oe({...zv({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),vJ=be()({name:"VAppBarNavIcon",props:pJ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(Ft,Se(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),gJ=be()({name:"VAppBarTitle",props:D2(),setup(t,e){let{slots:n}=e;return Ce(()=>M(ew,Se(t,{class:"v-app-bar-title"}),n)),{}}}),J2=Pr("v-alert-title"),yJ=["success","info","warning","error"],bJ=oe({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Ze,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>yJ.includes(t)},...Ue(),...Kn(),...Nn(),...Hn(),...ha(),...uu(),...fn(),...ht(),...It(),...ks({variant:"flat"})},"VAlert"),_J=be()({name:"VAlert",props:bJ(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ke(t,"modelValue"),r=L(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=L(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=Ut(t),{colorClasses:l,colorStyles:c,variantClasses:u}=kl(a),{densityClasses:d}=Mi(t),{dimensionStyles:f}=Vn(t),{elevationClasses:h}=oi(t),{locationStyles:m}=Vl(t),{positionClasses:g}=du(t),{roundedClasses:p}=bn(t),{textColorClasses:v,textColorStyles:b}=ui(ge(t,"borderColor")),{t:_}=Mn(),w=L(()=>({"aria-label":_(t.closeLabel),onClick(T){s.value=!1,n("click:close",T)}}));return()=>{const T=!!(i.prepend||r.value),C=!!(i.title||t.title),A=!!(i.close||t.closable);return s.value&&M(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,l.value,d.value,h.value,g.value,p.value,u.value,t.class],style:[c.value,f.value,m.value,t.style],role:"alert"},{default:()=>{var S,x;return[no(!1,"v-alert"),t.border&&M("div",{key:"border",class:["v-alert__border",v.value],style:b.value},null),T&&M("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?M(_t,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):M(Bt,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),M("div",{class:"v-alert__content"},[C&&M(J2,{key:"title"},{default:()=>{var y;return[((y=i.title)==null?void 0:y.call(i))??t.title]}}),((S=i.text)==null?void 0:S.call(i))??t.text,(x=i.default)==null?void 0:x.call(i)]),i.append&&M("div",{key:"append",class:"v-alert__append"},[i.append()]),A&&M("div",{key:"close",class:"v-alert__close"},[i.close?M(_t,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var y;return[(y=i.close)==null?void 0:y.call(i,{props:w.value})]}}):M(Ft,Se({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},w.value),null)])]}})}}}),xJ=oe({start:Boolean,end:Boolean,icon:Ze,image:String,text:String,...is(),...Ue(),...Kn(),...fn(),...Ir(),...ht(),...It(),...ks({variant:"flat"})},"VAvatar"),Is=be()({name:"VAvatar",props:xJ(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t),{borderClasses:s}=ys(t),{colorClasses:r,colorStyles:a,variantClasses:o}=kl(t),{densityClasses:l}=Mi(t),{roundedClasses:c}=bn(t),{sizeClasses:u,sizeStyles:d}=cu(t);return Ce(()=>M(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,r.value,l.value,c.value,u.value,o.value,t.class],style:[a.value,d.value,t.style]},{default:()=>[n.default?M(_t,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?M(la,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?M(Bt,{key:"icon",icon:t.icon},null):t.text,no(!1,"v-avatar")]})),{}}}),wJ=oe({text:String,onClick:ii(),...Ue(),...It()},"VLabel"),fu=be()({name:"VLabel",props:wJ(),setup(t,e){let{slots:n}=e;return Ce(()=>{var i;return M("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),Q2=Symbol.for("vuetify:selection-control-group"),aw=oe({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ze,trueIcon:Ze,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Er},...Ue(),...Kn(),...It()},"SelectionControlGroup"),SJ=oe({...aw({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),eL=be()({name:"VSelectionControlGroup",props:SJ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),s=ai(),r=L(()=>t.id||`v-selection-control-group-${s}`),a=L(()=>t.name||r.value),o=new Set;return Qt(Q2,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),ri(()=>{o.delete(l)})}}),gn({[t.defaultsTarget]:{color:ge(t,"color"),disabled:ge(t,"disabled"),density:ge(t,"density"),error:ge(t,"error"),inline:ge(t,"inline"),modelValue:i,multiple:L(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:a,falseIcon:ge(t,"falseIcon"),trueIcon:ge(t,"trueIcon"),readonly:ge(t,"readonly"),ripple:ge(t,"ripple"),type:ge(t,"type"),valueComparator:ge(t,"valueComparator")}}),Ce(()=>{var l;return M("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),Hv=oe({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ue(),...aw()},"VSelectionControl");function MJ(t){const e=St(Q2,void 0),{densityClasses:n}=Mi(t),i=Ke(t,"modelValue"),s=L(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=L(()=>t.falseValue!==void 0?t.falseValue:!1),a=L(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=L({get(){const h=e?e.modelValue.value:i.value;return a.value?mn(h).some(m=>t.valueComparator(m,s.value)):t.valueComparator(h,s.value)},set(h){if(t.readonly)return;const m=h?s.value:r.value;let g=m;a.value&&(g=h?[...mn(i.value),m]:mn(i.value).filter(p=>!t.valueComparator(p,s.value))),e?e.modelValue.value=g:i.value=g}}),{textColorClasses:l,textColorStyles:c}=ui(L(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:u,backgroundColorStyles:d}=Jt(L(()=>o.value&&!t.error&&!t.disabled?t.color:t.baseColor)),f=L(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,icon:f}}const Xa=be()({name:"VSelectionControl",directives:{Ripple:ma},inheritAttrs:!1,props:Hv(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:a,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,trueValue:f}=MJ(t),h=ai(),m=ke(!1),g=ke(!1),p=he(),v=L(()=>t.id||`input-${h}`),b=L(()=>!t.disabled&&!t.readonly);s==null||s.onForceUpdate(()=>{p.value&&(p.value.checked=o.value)});function _(A){b.value&&(m.value=!0,Xc(A.target,":focus-visible")!==!1&&(g.value=!0))}function w(){m.value=!1,g.value=!1}function T(A){A.stopPropagation()}function C(A){if(!b.value){p.value&&(p.value.checked=o.value);return}t.readonly&&s&&Rt(()=>s.forceUpdate()),o.value=A.target.checked}return Ce(()=>{var E,P;const A=i.label?i.label({label:t.label,props:{for:v.value}}):t.label,[S,x]=to(n),y=M("input",Se({ref:p,checked:o.value,disabled:!!t.disabled,id:v.value,onBlur:w,onFocus:_,onInput:C,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:f.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},x),null);return M("div",Se({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":t.inline},r.value,t.class]},S,{style:t.style}),[M("div",{class:["v-selection-control__wrapper",l.value],style:c.value},[(E=i.default)==null?void 0:E.call(i,{backgroundColorClasses:u,backgroundColorStyles:d}),tt(M("div",{class:["v-selection-control__input"]},[((P=i.input)==null?void 0:P.call(i,{model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,inputNode:y,icon:a.value,props:{onFocus:_,onBlur:w,id:v.value}}))??M($e,null,[a.value&&M(Bt,{key:"icon",icon:a.value},null),y])]),[[Sn("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),A&&M(fu,{for:v.value,onClick:T},{default:()=>[A]})])}),{isFocused:m,input:p}}}),tL=oe({indeterminate:Boolean,indeterminateIcon:{type:Ze,default:"$checkboxIndeterminate"},...Hv({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),ca=be()({name:"VCheckboxBtn",props:tL(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"indeterminate"),s=Ke(t,"modelValue");function r(l){i.value&&(i.value=!1)}const a=L(()=>i.value?t.indeterminateIcon:t.falseIcon),o=L(()=>i.value?t.indeterminateIcon:t.trueIcon);return Ce(()=>{const l=Dn(Xa.filterProps(t),["modelValue"]);return M(Xa,Se(l,{modelValue:s.value,"onUpdate:modelValue":[c=>s.value=c,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function nL(t){const{t:e}=Mn();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=t[`onClick:${s}`];function o(c){c.key!=="Enter"&&c.key!==" "||(c.preventDefault(),c.stopPropagation(),Rv(a,new PointerEvent("click",c)))}const l=a&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return M(Bt,{icon:t[`${s}Icon`],"aria-label":l,onClick:a,onKeydown:o},null)}return{InputIcon:n}}const CJ=oe({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ue(),...er({transition:{component:nw,leaveAbsolute:!0,group:!0}})},"VMessages"),iL=be()({name:"VMessages",props:CJ(),setup(t,e){let{slots:n}=e;const i=L(()=>mn(t.messages)),{textColorClasses:s,textColorStyles:r}=ui(L(()=>t.color));return Ce(()=>M(bi,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style]},{default:()=>[t.active&&i.value.map((a,o)=>M("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),kf=oe({focused:Boolean,"onUpdate:focused":ii()},"focus");function pa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar();const n=Ke(t,"focused"),i=L(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const sL=Symbol.for("vuetify:form"),TJ=oe({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function EJ(t){const e=Ke(t,"modelValue"),n=L(()=>t.disabled),i=L(()=>t.readonly),s=ke(!1),r=he([]),a=he([]);async function o(){const u=[];let d=!0;a.value=[],s.value=!0;for(const f of r.value){const h=await f.validate();if(h.length>0&&(d=!1,u.push({id:f.id,errorMessages:h})),!d&&t.fastFail)break}return a.value=u,s.value=!1,{valid:d,errors:a.value}}function l(){r.value.forEach(u=>u.reset())}function c(){r.value.forEach(u=>u.resetValidation())}return Ie(r,()=>{let u=0,d=0;const f=[];for(const h of r.value)h.isValid===!1?(d++,f.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&u++;a.value=f,e.value=d>0?!1:u===r.value.length?!0:null},{deep:!0,flush:"post"}),Qt(sL,{register:u=>{let{id:d,vm:f,validate:h,reset:m,resetValidation:g}=u;r.value.some(p=>p.id===d),r.value.push({id:d,validate:h,reset:m,resetValidation:g,vm:FT(f),isValid:null,errorMessages:[]})},unregister:u=>{r.value=r.value.filter(d=>d.id!==u)},update:(u,d,f)=>{const h=r.value.find(m=>m.id===u);h&&(h.isValid=d,h.errorMessages=f)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:ge(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:o,reset:l,resetValidation:c}}function Gv(t){const e=St(sL,null);return{...e,isReadonly:L(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:L(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const rL=oe({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...kf()},"validation");function aL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ai();const i=Ke(t,"modelValue"),s=L(()=>t.validationValue===void 0?i.value:t.validationValue),r=Gv(t),a=he([]),o=ke(!0),l=L(()=>!!(mn(i.value===""?null:i.value).length||mn(s.value===""?null:s.value).length)),c=L(()=>{var _;return(_=t.errorMessages)!=null&&_.length?mn(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),u=L(()=>{var T;let _=(t.validateOn??((T=r.validateOn)==null?void 0:T.value))||"input";_==="lazy"&&(_="input lazy"),_==="eager"&&(_="input eager");const w=new Set((_==null?void 0:_.split(" "))??[]);return{input:w.has("input"),blur:w.has("blur")||w.has("input")||w.has("invalid-input"),invalidInput:w.has("invalid-input"),lazy:w.has("lazy"),eager:w.has("eager")}}),d=L(()=>{var _;return t.error||(_=t.errorMessages)!=null&&_.length?!1:t.rules.length?o.value?a.value.length||u.value.lazy?null:!0:!a.value.length:!0}),f=ke(!1),h=L(()=>({[`${e}--error`]:d.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:r.isDisabled.value,[`${e}--readonly`]:r.isReadonly.value})),m=yn("validation"),g=L(()=>t.name??Pe(n));Qc(()=>{var _;(_=r.register)==null||_.call(r,{id:g.value,vm:m,validate:b,reset:p,resetValidation:v})}),qn(()=>{var _;(_=r.unregister)==null||_.call(r,g.value)}),On(async()=>{var _;u.value.lazy||await b(!u.value.eager),(_=r.update)==null||_.call(r,g.value,d.value,c.value)}),zi(()=>u.value.input||u.value.invalidInput&&d.value===!1,()=>{Ie(s,()=>{if(s.value!=null)b();else if(t.focused){const _=Ie(()=>t.focused,w=>{w||b(),_()})}})}),zi(()=>u.value.blur,()=>{Ie(()=>t.focused,_=>{_||b()})}),Ie([d,c],()=>{var _;(_=r.update)==null||_.call(r,g.value,d.value,c.value)});async function p(){i.value=null,await Rt(),await v()}async function v(){o.value=!0,u.value.lazy?a.value=[]:await b(!u.value.eager)}async function b(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const w=[];f.value=!0;for(const T of t.rules){if(w.length>=+(t.maxErrors??1))break;const A=await(typeof T=="function"?T:()=>T)(s.value);if(A!==!0){if(A!==!1&&typeof A!="string"){console.warn(`${A} is not a valid value. Rule functions must return boolean true or a string.`);continue}w.push(A||"")}}return a.value=w,f.value=!1,o.value=_,a.value}return{errorMessages:c,isDirty:l,isDisabled:r.isDisabled,isReadonly:r.isReadonly,isPristine:o,isValid:d,isValidating:f,reset:p,resetValidation:v,validate:b,validationClasses:h}}const va=oe({id:String,appendIcon:Ze,centerAffix:{type:Boolean,default:!0},prependIcon:Ze,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":ii(),"onClick:append":ii(),...Ue(),...Kn(),...Pv(Nn(),["maxWidth","minWidth","width"]),...It(),...rL()},"VInput"),di=be()({name:"VInput",props:{...va()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=Mi(t),{dimensionStyles:a}=Vn(t),{themeClasses:o}=Ut(t),{rtlClasses:l}=zn(),{InputIcon:c}=nL(t),u=ai(),d=L(()=>t.id||`input-${u}`),f=L(()=>`${d.value}-messages`),{errorMessages:h,isDirty:m,isDisabled:g,isReadonly:p,isPristine:v,isValid:b,isValidating:_,reset:w,resetValidation:T,validate:C,validationClasses:A}=aL(t,"v-input",d),S=L(()=>({id:d,messagesId:f,isDirty:m,isDisabled:g,isReadonly:p,isPristine:v,isValid:b,isValidating:_,reset:w,resetValidation:T,validate:C})),x=L(()=>{var y;return(y=t.errorMessages)!=null&&y.length||!v.value&&h.value.length?h.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return Ce(()=>{var N,W,B,q;const y=!!(i.prepend||t.prependIcon),E=!!(i.append||t.appendIcon),P=x.value.length>0,D=!t.hideDetails||t.hideDetails==="auto"&&(P||!!i.details);return M("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,o.value,l.value,A.value,t.class],style:[a.value,t.style]},[y&&M("div",{key:"prepend",class:"v-input__prepend"},[(N=i.prepend)==null?void 0:N.call(i,S.value),t.prependIcon&&M(c,{key:"prepend-icon",name:"prepend"},null)]),i.default&&M("div",{class:"v-input__control"},[(W=i.default)==null?void 0:W.call(i,S.value)]),E&&M("div",{key:"append",class:"v-input__append"},[t.appendIcon&&M(c,{key:"append-icon",name:"append"},null),(B=i.append)==null?void 0:B.call(i,S.value)]),D&&M("div",{id:f.value,class:"v-input__details",role:"alert","aria-live":"polite"},[M(iL,{active:P,messages:x.value},{message:i.message}),(q=i.details)==null?void 0:q.call(i,S.value)])])}),{reset:w,resetValidation:T,validate:C,isValid:b,errorMessages:h}}}),AJ=oe({...va(),...Dn(tL(),["inline"])},"VCheckbox"),PJ=be()({name:"VCheckbox",inheritAttrs:!1,props:AJ(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ke(t,"modelValue"),{isFocused:r,focus:a,blur:o}=pa(t),l=ai(),c=L(()=>t.id||`checkbox-${l}`);return Ce(()=>{const[u,d]=to(n),f=di.filterProps(t),h=ca.filterProps(t);return M(di,Se({class:["v-checkbox",t.class]},u,f,{modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,id:c.value,focused:r.value,style:t.style}),{...i,default:m=>{let{id:g,messagesId:p,isDisabled:v,isReadonly:b,isValid:_}=m;return M(ca,Se(h,{id:g.value,"aria-describedby":p.value,disabled:v.value,readonly:b.value},d,{error:_.value===!1,modelValue:s.value,"onUpdate:modelValue":w=>s.value=w,onFocus:a,onBlur:o}),i)}})}),{}}});function IJ(t){let{selectedElement:e,containerElement:n,isRtl:i,isHorizontal:s}=t;const r=Wd(s,n),a=oL(s,i,n),o=Wd(s,e),l=lL(s,e),c=o*.4;return a>l?l-c:a+r<l+o?l-r+o+c:a}function RJ(t){let{selectedElement:e,containerElement:n,isHorizontal:i}=t;const s=Wd(i,n),r=lL(i,e),a=Wd(i,e);return r-s/2+a/2}function KC(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function LJ(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function oL(t,e,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:s,scrollWidth:r}=n;return t?e?r-s+i:i:n.scrollTop}function Wd(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function lL(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const cL=Symbol.for("vuetify:v-slide-group"),ow=oe({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:cL},nextIcon:{type:Ze,default:"$next"},prevIcon:{type:Ze,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Ue(),...Pl({mobile:null}),...ht(),...Dl({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),$d=be()({name:"VSlideGroup",props:ow(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=zn(),{displayClasses:s,mobile:r}=Ls(t),a=io(t,t.symbol),o=ke(!1),l=ke(0),c=ke(0),u=ke(0),d=L(()=>t.direction==="horizontal"),{resizeRef:f,contentRect:h}=Xs(),{resizeRef:m,contentRect:g}=Xs(),p=vZ(),v=L(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),b=L(()=>a.selected.value.length?a.items.value.findIndex(X=>X.id===a.selected.value[0]):-1),_=L(()=>a.selected.value.length?a.items.value.findIndex(X=>X.id===a.selected.value[a.selected.value.length-1]):-1);if(Ot){let X=-1;Ie(()=>[a.selected.value,h.value,g.value,d.value],()=>{cancelAnimationFrame(X),X=requestAnimationFrame(()=>{if(h.value&&g.value){const ce=d.value?"width":"height";c.value=h.value[ce],u.value=g.value[ce],o.value=c.value+1<u.value}if(b.value>=0&&m.el){const ce=m.el.children[_.value];T(ce,t.centerActive)}})})}const w=ke(!1);function T(X,ce){let Me=0;ce?Me=RJ({containerElement:f.el,isHorizontal:d.value,selectedElement:X}):Me=IJ({containerElement:f.el,isHorizontal:d.value,isRtl:i.value,selectedElement:X}),C(Me)}function C(X){if(!Ot||!f.el)return;const ce=Wd(d.value,f.el),Me=oL(d.value,i.value,f.el);if(!(KC(d.value,f.el)<=ce||Math.abs(X-Me)<16)){if(d.value&&i.value&&f.el){const{scrollWidth:pe,offsetWidth:ne}=f.el;X=pe-ne-X}d.value?p.horizontal(X,v.value):p(X,v.value)}}function A(X){const{scrollTop:ce,scrollLeft:Me}=X.target;l.value=d.value?Me:ce}function S(X){if(w.value=!0,!(!o.value||!m.el)){for(const ce of X.composedPath())for(const Me of m.el.children)if(Me===ce){T(Me);return}}}function x(X){w.value=!1}let y=!1;function E(X){var ce;!y&&!w.value&&!(X.relatedTarget&&((ce=m.el)!=null&&ce.contains(X.relatedTarget)))&&W(),y=!1}function P(){y=!0}function D(X){if(!m.el)return;function ce(Me){X.preventDefault(),W(Me)}d.value?X.key==="ArrowRight"?ce(i.value?"prev":"next"):X.key==="ArrowLeft"&&ce(i.value?"next":"prev"):X.key==="ArrowDown"?ce("next"):X.key==="ArrowUp"&&ce("prev"),X.key==="Home"?ce("first"):X.key==="End"&&ce("last")}function N(X,ce){if(!X)return;let Me=X;do Me=Me==null?void 0:Me[ce==="next"?"nextElementSibling":"previousElementSibling"];while(Me!=null&&Me.hasAttribute("disabled"));return Me}function W(X){if(!m.el)return;let ce;if(!X)ce=Vd(m.el)[0];else if(X==="next"){if(ce=N(m.el.querySelector(":focus"),X),!ce)return W("first")}else if(X==="prev"){if(ce=N(m.el.querySelector(":focus"),X),!ce)return W("last")}else X==="first"?(ce=m.el.firstElementChild,ce!=null&&ce.hasAttribute("disabled")&&(ce=N(ce,"next"))):X==="last"&&(ce=m.el.lastElementChild,ce!=null&&ce.hasAttribute("disabled")&&(ce=N(ce,"prev")));ce&&ce.focus({preventScroll:!0})}function B(X){const ce=d.value&&i.value?-1:1,Me=(X==="prev"?-ce:ce)*c.value;let ee=l.value+Me;if(d.value&&i.value&&f.el){const{scrollWidth:pe,offsetWidth:ne}=f.el;ee+=pe-ne}C(ee)}const q=L(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),j=L(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return r.value||o.value||Math.abs(l.value)>0;default:return!r.value&&(o.value||Math.abs(l.value)>0)}}),Q=L(()=>Math.abs(l.value)>1),Z=L(()=>{if(!f.value)return!1;const X=KC(d.value,f.el),ce=LJ(d.value,f.el);return X-ce-Math.abs(l.value)>1});return Ce(()=>M(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":j.value,"v-slide-group--is-overflowing":o.value},s.value,t.class],style:t.style,tabindex:w.value||a.selected.value.length?-1:0,onFocus:E},{default:()=>{var X,ce,Me;return[j.value&&M("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Q.value}],onMousedown:P,onClick:()=>Q.value&&B("prev")},[((X=n.prev)==null?void 0:X.call(n,q.value))??M(zd,null,{default:()=>[M(Bt,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),M("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:A},[M("div",{ref:m,class:"v-slide-group__content",onFocusin:S,onFocusout:x,onKeydown:D},[(ce=n.default)==null?void 0:ce.call(n,q.value)])]),j.value&&M("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Z.value}],onMousedown:P,onClick:()=>Z.value&&B("next")},[((Me=n.next)==null?void 0:Me.call(n,q.value))??M(zd,null,{default:()=>[M(Bt,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:B,scrollOffset:l,focus:W,hasPrev:Q,hasNext:Z}}}),uL=Symbol.for("vuetify:v-chip-group"),kJ=oe({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Er},...ow(),...Ue(),...Dl({selectedClass:"v-chip--selected"}),...ht(),...It(),...ks({variant:"tonal"})},"VChipGroup"),DJ=be()({name:"VChipGroup",props:kJ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=io(t,uL);return gn({VChip:{color:ge(t,"color"),disabled:ge(t,"disabled"),filter:ge(t,"filter"),variant:ge(t,"variant")}}),Ce(()=>{const c=$d.filterProps(t);return M($d,Se(c,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}),{}}}),OJ=oe({activeClass:String,appendAvatar:String,appendIcon:Ze,closable:Boolean,closeIcon:{type:Ze,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ze,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ii(),onClickOnce:ii(),...is(),...Ue(),...Kn(),...Hn(),...Ol(),...fn(),...Lf(),...Ir(),...ht({tag:"span"}),...It(),...ks({variant:"tonal"})},"VChip"),hu=be()({name:"VChip",directives:{Ripple:ma},props:OJ(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=Mn(),{borderClasses:a}=ys(t),{colorClasses:o,colorStyles:l,variantClasses:c}=kl(t),{densityClasses:u}=Mi(t),{elevationClasses:d}=oi(t),{roundedClasses:f}=bn(t),{sizeClasses:h}=cu(t),{themeClasses:m}=Ut(t),g=Ke(t,"modelValue"),p=Nl(t,uL,!1),v=Rf(t,n),b=L(()=>t.link!==!1&&v.isLink.value),_=L(()=>!t.disabled&&t.link!==!1&&(!!p||t.link||v.isClickable.value)),w=L(()=>({"aria-label":r(t.closeLabel),onClick(A){A.preventDefault(),A.stopPropagation(),g.value=!1,i("click:close",A)}}));function T(A){var S;i("click",A),_.value&&((S=v.navigate)==null||S.call(v,A),p==null||p.toggle())}function C(A){(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),T(A))}return()=>{var W;const A=v.isLink.value?"a":t.tag,S=!!(t.appendIcon||t.appendAvatar),x=!!(S||s.append),y=!!(s.close||t.closable),E=!!(s.filter||t.filter)&&p,P=!!(t.prependIcon||t.prependAvatar),D=!!(P||s.prepend),N=!p||p.isSelected.value;return g.value&&tt(M(A,Se({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":_.value,"v-chip--filter":E,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((W=v.isActive)==null?void 0:W.value)},m.value,a.value,N?o.value:void 0,u.value,d.value,f.value,h.value,c.value,p==null?void 0:p.selectedClass.value,t.class],style:[N?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:_.value?0:void 0,onClick:T,onKeydown:_.value&&!b.value&&C},v.linkProps),{default:()=>{var B;return[no(_.value,"v-chip"),E&&M(iw,{key:"filter"},{default:()=>[tt(M("div",{class:"v-chip__filter"},[s.filter?M(_t,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},s.filter):M(Bt,{key:"filter-icon",icon:t.filterIcon},null)]),[[Rs,p.isSelected.value]])]}),D&&M("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?M(_t,{key:"prepend-defaults",disabled:!P,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):M($e,null,[t.prependIcon&&M(Bt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&M(Is,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),M("div",{class:"v-chip__content","data-no-activator":""},[((B=s.default)==null?void 0:B.call(s,{isSelected:p==null?void 0:p.isSelected.value,selectedClass:p==null?void 0:p.selectedClass.value,select:p==null?void 0:p.select,toggle:p==null?void 0:p.toggle,value:p==null?void 0:p.value.value,disabled:t.disabled}))??t.text]),x&&M("div",{key:"append",class:"v-chip__append"},[s.append?M(_t,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):M($e,null,[t.appendIcon&&M(Bt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&M(Is,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),y&&M("button",Se({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},w.value),[s.close?M(_t,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):M(Bt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Sn("ripple"),_.value&&t.ripple,null]])}}}),cb=Symbol.for("vuetify:list");function dL(){const t=St(cb,{hasPrepend:ke(!1),updateHasPrepend:()=>null}),e={hasPrepend:ke(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Qt(cb,e),t}function fL(){return St(cb,null)}const lw=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=rt(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of mn(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},hL=t=>{const e=lw(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=rt(r);const o=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:o})},in:(i,s,r)=>{let a=new Set;if(i!=null){const o=mn(i);o.length&&(a=e.in(o.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},NJ=t=>{const e=lw(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=rt(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},VJ=t=>{const e=hL(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=rt(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},FJ={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},mL={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},BJ={open:mL.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},cw=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=rt(i),t&&!s){const a=Array.from(r.entries()).reduce((o,l)=>{let[c,u]=l;return u==="on"&&o.push(c),o},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},pL=t=>{const e=cw(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=rt(r);const o=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:o})},in:(i,s,r)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),s,r)),a},out:(i,s,r)=>e.out(i,s,r)}},UJ=t=>{const e=cw(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=rt(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},zJ=t=>{const e=pL(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=rt(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},HJ=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:o}=n;i=rt(i);const l=new Map(r),c=[i];for(;c.length;){const d=c.shift();r.set(rt(d),s?"on":"off"),a.has(d)&&c.push(...a.get(d))}let u=rt(o.get(i));for(;u;){const d=a.get(u),f=d.every(m=>r.get(rt(m))==="on"),h=d.every(m=>!r.has(rt(m))||r.get(rt(m))==="off");r.set(u,f?"on":h?"off":"indeterminate"),u=rt(o.get(u))}return t&&!s&&Array.from(r.entries()).reduce((f,h)=>{let[m,g]=h;return g==="on"&&f.push(m),f},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},jd=Symbol.for("vuetify:nested"),vL={id:ke(),root:{register:()=>null,unregister:()=>null,parents:he(new Map),children:he(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:he(!1),selectable:he(!1),opened:he(new Set),activated:he(new Set),selected:he(new Map),selectedValues:he([]),getPath:()=>[]}},GJ=oe({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),WJ=t=>{let e=!1;const n=he(new Map),i=he(new Map),s=Ke(t,"opened",t.opened,m=>new Set(m),m=>[...m.values()]),r=L(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return NJ(t.mandatory);case"single-leaf":return VJ(t.mandatory);case"independent":return lw(t.mandatory);case"single-independent":default:return hL(t.mandatory)}}),a=L(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return zJ(t.mandatory);case"leaf":return UJ(t.mandatory);case"independent":return cw(t.mandatory);case"single-independent":return pL(t.mandatory);case"classic":default:return HJ(t.mandatory)}}),o=L(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return BJ;case"single":return FJ;case"multiple":default:return mL}}),l=Ke(t,"activated",t.activated,m=>r.value.in(m,n.value,i.value),m=>r.value.out(m,n.value,i.value)),c=Ke(t,"selected",t.selected,m=>a.value.in(m,n.value,i.value),m=>a.value.out(m,n.value,i.value));qn(()=>{e=!0});function u(m){const g=[];let p=m;for(;p!=null;)g.unshift(p),p=i.value.get(p);return g}const d=yn("nested"),f=new Set,h={id:ke(),root:{opened:s,activatable:ge(t,"activatable"),selectable:ge(t,"selectable"),activated:l,selected:c,selectedValues:L(()=>{const m=[];for(const[g,p]of c.value.entries())p==="on"&&m.push(g);return m}),register:(m,g,p)=>{if(f.has(m)){u(m).map(String).join(" -> "),u(g).concat(m).map(String).join(" -> ");return}else f.add(m);g&&m!==g&&i.value.set(m,g),p&&n.value.set(m,[]),g!=null&&n.value.set(g,[...n.value.get(g)||[],m])},unregister:m=>{if(e)return;f.delete(m),n.value.delete(m);const g=i.value.get(m);if(g){const p=n.value.get(g)??[];n.value.set(g,p.filter(v=>v!==m))}i.value.delete(m)},open:(m,g,p)=>{d.emit("click:open",{id:m,value:g,path:u(m),event:p});const v=o.value.open({id:m,value:g,opened:new Set(s.value),children:n.value,parents:i.value,event:p});v&&(s.value=v)},openOnSelect:(m,g,p)=>{const v=o.value.select({id:m,value:g,selected:new Map(c.value),opened:new Set(s.value),children:n.value,parents:i.value,event:p});v&&(s.value=v)},select:(m,g,p)=>{d.emit("click:select",{id:m,value:g,path:u(m),event:p});const v=a.value.select({id:m,value:g,selected:new Map(c.value),children:n.value,parents:i.value,event:p});v&&(c.value=v),h.root.openOnSelect(m,g,p)},activate:(m,g,p)=>{if(!t.activatable)return h.root.select(m,!0,p);d.emit("click:activate",{id:m,value:g,path:u(m),event:p});const v=r.value.activate({id:m,value:g,activated:new Set(l.value),children:n.value,parents:i.value,event:p});v&&(l.value=v)},children:n,parents:i,getPath:u}};return Qt(jd,h),h.root},gL=(t,e)=>{const n=St(jd,vL),i=Symbol(ai()),s=L(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,o)=>n.root.open(s.value,a,o),openOnSelect:(a,o)=>n.root.openOnSelect(s.value,a,o),isOpen:L(()=>n.root.opened.value.has(s.value)),parent:L(()=>n.root.parents.value.get(s.value)),activate:(a,o)=>n.root.activate(s.value,a,o),isActivated:L(()=>n.root.activated.value.has(rt(s.value))),select:(a,o)=>n.root.select(s.value,a,o),isSelected:L(()=>n.root.selected.value.get(rt(s.value))==="on"),isIndeterminate:L(()=>n.root.selected.value.get(rt(s.value))==="indeterminate"),isLeaf:L(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return Qc(()=>{!n.isGroupActivator&&n.root.register(s.value,n.id.value,e)}),qn(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&Qt(jd,r),r},$J=()=>{const t=St(jd,vL);Qt(jd,{...t,isGroupActivator:!0})},jJ=vs({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return $J(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),XJ=oe({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ze,default:"$collapse"},expandIcon:{type:Ze,default:"$expand"},prependIcon:Ze,appendIcon:Ze,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ue(),...ht()},"VListGroup"),ub=be()({name:"VListGroup",props:XJ(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=gL(ge(t,"value"),!0),a=L(()=>`v-list-group--id-${String(r.value)}`),o=fL(),{isBooted:l}=Ll();function c(h){h.stopPropagation(),s(!i.value,h)}const u=L(()=>({onClick:c,class:"v-list-group__header",id:a.value})),d=L(()=>i.value?t.collapseIcon:t.expandIcon),f=L(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}));return Ce(()=>M(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&M(_t,{defaults:f.value},{default:()=>[M(jJ,null,{default:()=>[n.activator({props:u.value,isOpen:i.value})]})]}),M(bi,{transition:{component:Vv},disabled:!l.value},{default:()=>{var h;return[tt(M("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(h=n.default)==null?void 0:h.call(n)]),[[Rs,i.value]])]}})]})),{isOpen:i}}}),YJ=oe({opacity:[Number,String],...Ue(),...ht()},"VListItemSubtitle"),yL=be()({name:"VListItemSubtitle",props:YJ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),bL=Pr("v-list-item-title"),qJ=oe({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ze,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:ii(),onClickOnce:ii(),...is(),...Ue(),...Kn(),...Nn(),...Hn(),...fn(),...Lf(),...ht(),...It(),...ks({variant:"text"})},"VListItem"),ua=be()({name:"VListItem",directives:{Ripple:ma},props:qJ(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=Rf(t,n),a=L(()=>t.value===void 0?r.href.value:t.value),{activate:o,isActivated:l,select:c,isOpen:u,isSelected:d,isIndeterminate:f,isGroupActivator:h,root:m,parent:g,openOnSelect:p,id:v}=gL(a,!1),b=fL(),_=L(()=>{var ee;return t.active!==!1&&(t.active||((ee=r.isActive)==null?void 0:ee.value)||(m.activatable.value?l.value:d.value))}),w=L(()=>t.link!==!1&&r.isLink.value),T=L(()=>!!b&&(m.selectable.value||m.activatable.value||t.value!=null)),C=L(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||T.value)),A=L(()=>t.rounded||t.nav),S=L(()=>t.color??t.activeColor),x=L(()=>({color:_.value?S.value??t.baseColor:t.baseColor,variant:t.variant}));Ie(()=>{var ee;return(ee=r.isActive)==null?void 0:ee.value},ee=>{ee&&y()}),Qc(()=>{var ee;(ee=r.isActive)!=null&&ee.value&&y()});function y(){g.value!=null&&m.open(g.value,!0),p(!0)}const{themeClasses:E}=Ut(t),{borderClasses:P}=ys(t),{colorClasses:D,colorStyles:N,variantClasses:W}=kl(x),{densityClasses:B}=Mi(t),{dimensionStyles:q}=Vn(t),{elevationClasses:j}=oi(t),{roundedClasses:Q}=bn(A),Z=L(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),X=L(()=>({isActive:_.value,select:c,isOpen:u.value,isSelected:d.value,isIndeterminate:f.value}));function ce(ee){var pe;s("click",ee),C.value&&((pe=r.navigate)==null||pe.call(r,ee),!h&&(m.activatable.value?o(!l.value,ee):(m.selectable.value||t.value!=null)&&c(!d.value,ee)))}function Me(ee){(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),ee.target.dispatchEvent(new MouseEvent("click",ee)))}return Ce(()=>{const ee=w.value?"a":t.tag,pe=i.title||t.title!=null,ne=i.subtitle||t.subtitle!=null,de=!!(t.appendAvatar||t.appendIcon),ae=!!(de||i.append),F=!!(t.prependAvatar||t.prependIcon),U=!!(F||i.prepend);return b==null||b.updateHasPrepend(U),t.activeColor&&qq("active-color",["color","base-color"]),tt(M(ee,Se({class:["v-list-item",{"v-list-item--active":_.value,"v-list-item--disabled":t.disabled,"v-list-item--link":C.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!U&&(b==null?void 0:b.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&_.value},E.value,P.value,D.value,B.value,j.value,Z.value,Q.value,W.value,t.class],style:[N.value,q.value,t.style],tabindex:C.value?b?-2:0:void 0,"aria-selected":T.value?m.activatable.value?l.value:m.selectable.value?d.value:_.value:void 0,onClick:ce,onKeydown:C.value&&!w.value&&Me},r.linkProps),{default:()=>{var z;return[no(C.value||_.value,"v-list-item"),U&&M("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?M(_t,{key:"prepend-defaults",disabled:!F,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var k;return[(k=i.prepend)==null?void 0:k.call(i,X.value)]}}):M($e,null,[t.prependAvatar&&M(Is,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&M(Bt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),M("div",{class:"v-list-item__spacer"},null)]),M("div",{class:"v-list-item__content","data-no-activator":""},[pe&&M(bL,{key:"title"},{default:()=>{var k;return[((k=i.title)==null?void 0:k.call(i,{title:t.title}))??t.title]}}),ne&&M(yL,{key:"subtitle"},{default:()=>{var k;return[((k=i.subtitle)==null?void 0:k.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(z=i.default)==null?void 0:z.call(i,X.value)]),ae&&M("div",{key:"append",class:"v-list-item__append"},[i.append?M(_t,{key:"append-defaults",disabled:!de,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var k;return[(k=i.append)==null?void 0:k.call(i,X.value)]}}):M($e,null,[t.appendIcon&&M(Bt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&M(Is,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),M("div",{class:"v-list-item__spacer"},null)])]}}),[[Sn("ripple"),C.value&&t.ripple]])}),{activate:o,isActivated:l,isGroupActivator:h,isSelected:d,list:b,select:c,root:m,id:v}}}),KJ=oe({color:String,inset:Boolean,sticky:Boolean,title:String,...Ue(),...ht()},"VListSubheader"),_L=be()({name:"VListSubheader",props:KJ(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=ui(ge(t,"color"));return Ce(()=>{const r=!!(n.default||t.title);return M(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&M("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),ZJ=oe({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Ue(),...It()},"VDivider"),Df=be()({name:"VDivider",props:ZJ(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Ut(t),{textColorClasses:r,textColorStyles:a}=ui(ge(t,"color")),o=L(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=Ve(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=Ve(t.thickness)),l});return Ce(()=>{const l=M("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[o.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?M("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[l,M("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),JJ=oe({items:Array,returnObject:Boolean},"VListChildren"),xL=be()({name:"VListChildren",props:JJ(),setup(t,e){let{slots:n}=e;return dL(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var f,h;let{children:a,props:o,type:l,raw:c}=r;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:o}))??M(Df,o,null);if(l==="subheader")return((h=n.subheader)==null?void 0:h.call(n,{props:o}))??M(_L,o,null);const u={subtitle:n.subtitle?m=>{var g;return(g=n.subtitle)==null?void 0:g.call(n,{...m,item:c})}:void 0,prepend:n.prepend?m=>{var g;return(g=n.prepend)==null?void 0:g.call(n,{...m,item:c})}:void 0,append:n.append?m=>{var g;return(g=n.append)==null?void 0:g.call(n,{...m,item:c})}:void 0,title:n.title?m=>{var g;return(g=n.title)==null?void 0:g.call(n,{...m,item:c})}:void 0},d=ub.filterProps(o);return a?M(ub,Se({value:o==null?void 0:o.value},d),{activator:m=>{let{props:g}=m;const p={...o,...g,value:t.returnObject?c:o.value};return n.header?n.header({props:p}):M(ua,p,u)},default:()=>M(xL,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:o}):M(ua,Se(o,{value:t.returnObject?c:o.value}),u)}))}}}),wL=oe({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Er}},"list-items");function Va(t,e){const n=Un(e,t.itemTitle,e),i=Un(e,t.itemValue,n),s=Un(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?Dn(e,["children"]):e:void 0:Un(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?SL(t,s):void 0,raw:e}}function SL(t,e){const n=[];for(const i of e)n.push(Va(t,i));return n}function uw(t){const e=L(()=>SL(t,t.items)),n=L(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(a=>a!==null)),r.map(a=>t.returnObject&&typeof a=="string"?Va(t,a):e.value.find(o=>t.valueComparator(a,o.value))||Va(t,a))}function s(r){return t.returnObject?r.map(a=>{let{raw:o}=a;return o}):r.map(a=>{let{value:o}=a;return o})}return{items:e,transformIn:i,transformOut:s}}function QJ(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function eQ(t,e){const n=Un(e,t.itemType,"item"),i=QJ(e)?e:Un(e,t.itemTitle),s=Un(e,t.itemValue,void 0),r=Un(e,t.itemChildren),a=t.itemProps===!0?Dn(e,["children"]):Un(e,t.itemProps),o={title:i,value:s,...a};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&r?ML(t,r):void 0,raw:e}}function ML(t,e){const n=[];for(const i of e)n.push(eQ(t,i));return n}function tQ(t){return{items:L(()=>ML(t,t.items))}}const nQ=oe({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Ze,collapseIcon:Ze,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ii(),"onClick:select":ii(),"onUpdate:opened":ii(),...GJ({selectStrategy:"single-leaf",openStrategy:"list"}),...is(),...Ue(),...Kn(),...Nn(),...Hn(),itemType:{type:String,default:"type"},...wL(),...fn(),...ht(),...It(),...ks({variant:"text"})},"VList"),Wv=be()({name:"VList",props:nQ(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=tQ(t),{themeClasses:s}=Ut(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Jt(ge(t,"bgColor")),{borderClasses:o}=ys(t),{densityClasses:l}=Mi(t),{dimensionStyles:c}=Vn(t),{elevationClasses:u}=oi(t),{roundedClasses:d}=bn(t),{children:f,open:h,parents:m,select:g,getPath:p}=WJ(t),v=L(()=>t.lines?`v-list--${t.lines}-line`:void 0),b=ge(t,"activeColor"),_=ge(t,"baseColor"),w=ge(t,"color");dL(),gn({VListGroup:{activeColor:b,baseColor:_,color:w,expandIcon:ge(t,"expandIcon"),collapseIcon:ge(t,"collapseIcon")},VListItem:{activeClass:ge(t,"activeClass"),activeColor:b,baseColor:_,color:w,density:ge(t,"density"),disabled:ge(t,"disabled"),lines:ge(t,"lines"),nav:ge(t,"nav"),slim:ge(t,"slim"),variant:ge(t,"variant")}});const T=ke(!1),C=he();function A(D){T.value=!0}function S(D){T.value=!1}function x(D){var N;!T.value&&!(D.relatedTarget&&((N=C.value)!=null&&N.contains(D.relatedTarget)))&&P()}function y(D){const N=D.target;if(!(!C.value||["INPUT","TEXTAREA"].includes(N.tagName))){if(D.key==="ArrowDown")P("next");else if(D.key==="ArrowUp")P("prev");else if(D.key==="Home")P("first");else if(D.key==="End")P("last");else return;D.preventDefault()}}function E(D){T.value=!0}function P(D){if(C.value)return Zo(C.value,D)}return Ce(()=>M(t.tag,{ref:C,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,o.value,l.value,u.value,v.value,d.value,t.class],style:[a.value,c.value,t.style],tabindex:t.disabled||T.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:A,onFocusout:S,onFocus:x,onKeydown:y,onMousedown:E},{default:()=>[M(xL,{items:i.value,returnObject:t.returnObject},n)]})),{open:h,select:g,focus:P,children:f,parents:m,getPath:p}}}),iQ=Pr("v-list-img"),sQ=oe({start:Boolean,end:Boolean,...Ue(),...ht()},"VListItemAction"),rQ=be()({name:"VListItemAction",props:sQ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},n)),{}}}),aQ=oe({start:Boolean,end:Boolean,...Ue(),...ht()},"VListItemMedia"),oQ=be()({name:"VListItemMedia",props:aQ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end},t.class],style:t.style},n)),{}}});function Uy(t,e){return{x:t.x+e.x,y:t.y+e.y}}function lQ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ZC(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return Uy({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Uy({x:s,y:r},e)}return Uy({x:e.width/2,y:e.height/2},e)}const CL={static:dQ,connected:hQ},cQ=oe({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in CL},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function uQ(t,e){const n=he({}),i=he();Ot&&zi(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,o;Ie(()=>t.locationStrategy,r),ri(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(o=CL[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function dQ(){}function fQ(t,e){const n=$x(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function hQ(t,e,n){(Array.isArray(t.target.value)||gK(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=Wx(()=>{const m=K0(e.location,t.isRtl.value),g=e.origin==="overlap"?m:e.origin==="auto"?Oy(m):K0(e.origin,t.isRtl.value);return m.side===g.side&&m.align===Ny(g).align?{preferredAnchor:_C(m),preferredOrigin:_C(g)}:{preferredAnchor:m,preferredOrigin:g}}),[a,o,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(m=>L(()=>{const g=parseFloat(e[m]);return isNaN(g)?1/0:g})),u=L(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const m=e.offset.split(" ").map(parseFloat);return m.length<2&&m.push(0),m}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let d=!1;const f=new ResizeObserver(()=>{d&&h()});Ie([t.target,t.contentEl],(m,g)=>{let[p,v]=m,[b,_]=g;b&&!Array.isArray(b)&&f.unobserve(b),p&&!Array.isArray(p)&&f.observe(p),_&&f.unobserve(_),v&&f.observe(v)},{immediate:!0}),ri(()=>{f.disconnect()});function h(){if(d=!1,requestAnimationFrame(()=>d=!0),!t.target.value||!t.contentEl.value)return;const m=r2(t.target.value),g=fQ(t.contentEl.value,t.isRtl.value),p=wp(t.contentEl.value),v=12;p.length||(p.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=p.reduce((E,P)=>{const D=P.getBoundingClientRect(),N=new Jo({x:P===document.documentElement?0:D.x,y:P===document.documentElement?0:D.y,width:P.clientWidth,height:P.clientHeight});return E?new Jo({x:Math.max(E.left,N.left),y:Math.max(E.top,N.top),width:Math.min(E.right,N.right)-Math.max(E.left,N.left),height:Math.min(E.bottom,N.bottom)-Math.max(E.top,N.top)}):N},void 0);b.x+=v,b.y+=v,b.width-=v*2,b.height-=v*2;let _={anchor:s.value,origin:r.value};function w(E){const P=new Jo(g),D=ZC(E.anchor,m),N=ZC(E.origin,P);let{x:W,y:B}=lQ(D,N);switch(E.anchor.side){case"top":B-=u.value[0];break;case"bottom":B+=u.value[0];break;case"left":W-=u.value[0];break;case"right":W+=u.value[0];break}switch(E.anchor.align){case"top":B-=u.value[1];break;case"bottom":B+=u.value[1];break;case"left":W-=u.value[1];break;case"right":W+=u.value[1];break}return P.x+=W,P.y+=B,P.width=Math.min(P.width,l.value),P.height=Math.min(P.height,c.value),{overflows:wC(P,b),x:W,y:B}}let T=0,C=0;const A={x:0,y:0},S={x:!1,y:!1};let x=-1;for(;!(x++>10);){const{x:E,y:P,overflows:D}=w(_);T+=E,C+=P,g.x+=E,g.y+=P;{const N=xC(_.anchor),W=D.x.before||D.x.after,B=D.y.before||D.y.after;let q=!1;if(["x","y"].forEach(j=>{if(j==="x"&&W&&!S.x||j==="y"&&B&&!S.y){const Q={anchor:{..._.anchor},origin:{..._.origin}},Z=j==="x"?N==="y"?Ny:Oy:N==="y"?Oy:Ny;Q.anchor=Z(Q.anchor),Q.origin=Z(Q.origin);const{overflows:X}=w(Q);(X[j].before<=D[j].before&&X[j].after<=D[j].after||X[j].before+X[j].after<(D[j].before+D[j].after)/2)&&(_=Q,q=S[j]=!0)}}),q)continue}D.x.before&&(T+=D.x.before,g.x+=D.x.before),D.x.after&&(T-=D.x.after,g.x-=D.x.after),D.y.before&&(C+=D.y.before,g.y+=D.y.before),D.y.after&&(C-=D.y.after,g.y-=D.y.after);{const N=wC(g,b);A.x=b.width-N.x.before-N.x.after,A.y=b.height-N.y.before-N.y.after,T+=N.x.before,g.x+=N.x.before,C+=N.y.before,g.y+=N.y.before}break}const y=xC(_.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${_.anchor.side} ${_.anchor.align}`,transformOrigin:`${_.origin.side} ${_.origin.align}`,top:Ve(zy(C)),left:t.isRtl.value?void 0:Ve(zy(T)),right:t.isRtl.value?Ve(zy(-T)):void 0,minWidth:Ve(y==="y"?Math.min(a.value,m.width):a.value),maxWidth:Ve(JC(Rn(A.x,a.value===1/0?0:a.value,l.value))),maxHeight:Ve(JC(Rn(A.y,o.value===1/0?0:o.value,c.value)))}),{available:A,contentBox:g}}return Ie(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>h()),Rt(()=>{const m=h();if(!m)return;const{available:g,contentBox:p}=m;p.height>g.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function zy(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function JC(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let db=!0;const Cp=[];function mQ(t){!db||Cp.length?(Cp.push(t),fb()):(db=!1,t(),fb())}let QC=-1;function fb(){cancelAnimationFrame(QC),QC=requestAnimationFrame(()=>{const t=Cp.shift();t&&t(),Cp.length?fb():db=!0})}const pm={none:null,close:gQ,block:yQ,reposition:bQ},pQ=oe({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in pm}},"VOverlay-scroll-strategies");function vQ(t,e){if(!Ot)return;let n;Zt(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Ob(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=pm[t.scrollStrategy])==null||i.call(pm,e,t,n)}))}),ri(()=>{n==null||n.stop()})}function gQ(t){function e(n){t.isActive.value=!1}TL(t.targetEl.value??t.contentEl.value,e)}function yQ(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...wp(t.targetEl.value,e.contained?n:void 0),...wp(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(o=>Kx(o)&&o)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Ve(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Ve(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Ve(s)),o.classList.add("v-overlay-scroll-blocked")}),ri(()=>{i.forEach((o,l)=>{const c=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),d=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-c,o.scrollTop=-u,o.style.scrollBehavior=d}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function bQ(t,e,n){let i=!1,s=-1,r=-1;function a(o){mQ(()=>{var u,d;const l=performance.now();(d=(u=t.updateLocation).value)==null||d.call(u,o),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{TL(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(o)})})):a(o)})})}),ri(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function TL(t,e){const n=[document,...wp(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),ri(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const hb=Symbol.for("vuetify:v-menu"),dw=oe({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function fw(t,e){let n=()=>{};function i(a){n==null||n();const o=Number(a?t.openDelay:t.closeDelay);return new Promise(l=>{n=Oq(o,()=>{e==null||e(a),l(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const _Q=oe({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...dw()},"VOverlay-activator");function xQ(t,e){let{isActive:n,isTop:i,contentEl:s}=e;const r=yn("useActivator"),a=he();let o=!1,l=!1,c=!0;const u=L(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),d=L(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!u.value),{runOpenDelay:f,runCloseDelay:h}=fw(t,S=>{S===(t.openOnHover&&o||u.value&&l)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==S&&(c=!0),n.value=S)}),m=he(),g={onClick:S=>{S.stopPropagation(),a.value=S.currentTarget||S.target,n.value||(m.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var x;(x=S.sourceCapabilities)!=null&&x.firesTouchEvents||(o=!0,a.value=S.currentTarget||S.target,f())},onMouseleave:S=>{o=!1,h()},onFocus:S=>{Xc(S.target,":focus-visible")!==!1&&(l=!0,S.stopPropagation(),a.value=S.currentTarget||S.target,f())},onBlur:S=>{l=!1,S.stopPropagation(),h()}},p=L(()=>{const S={};return d.value&&(S.onClick=g.onClick),t.openOnHover&&(S.onMouseenter=g.onMouseenter,S.onMouseleave=g.onMouseleave),u.value&&(S.onFocus=g.onFocus,S.onBlur=g.onBlur),S}),v=L(()=>{const S={};if(t.openOnHover&&(S.onMouseenter=()=>{o=!0,f()},S.onMouseleave=()=>{o=!1,h()}),u.value&&(S.onFocusin=()=>{l=!0,f()},S.onFocusout=()=>{l=!1,h()}),t.closeOnContentClick){const x=St(hb,null);S.onClick=()=>{n.value=!1,x==null||x.closeParents()}}return S}),b=L(()=>{const S={};return t.openOnHover&&(S.onMouseenter=()=>{c&&(o=!0,c=!1,f())},S.onMouseleave=()=>{o=!1,h()}),S});Ie(i,S=>{var x;S&&(t.openOnHover&&!o&&(!u.value||!l)||u.value&&!l&&(!t.openOnHover||!o))&&!((x=s.value)!=null&&x.contains(document.activeElement))&&(n.value=!1)}),Ie(n,S=>{S||setTimeout(()=>{m.value=void 0})},{flush:"post"});const _=_p();Zt(()=>{_.value&&Rt(()=>{a.value=_.el})});const w=_p(),T=L(()=>t.target==="cursor"&&m.value?m.value:w.value?w.el:EL(t.target,r)||a.value),C=L(()=>Array.isArray(T.value)?void 0:T.value);let A;return Ie(()=>!!t.activator,S=>{S&&Ot?(A=Ob(),A.run(()=>{wQ(t,r,{activatorEl:a,activatorEvents:p})})):A&&A.stop()},{flush:"post",immediate:!0}),ri(()=>{A==null||A.stop()}),{activatorEl:a,activatorRef:_,target:T,targetEl:C,targetRef:w,activatorEvents:p,contentEvents:v,scrimEvents:b}}function wQ(t,e,n){let{activatorEl:i,activatorEvents:s}=n;Ie(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=o(c);u&&a(u)}l&&Rt(()=>r())},{immediate:!0}),Ie(()=>t.activatorProps,()=>{r()}),ri(()=>{a()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&Fq(l,Se(s.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&Bq(l,Se(s.value,c))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const c=EL(l,e);return i.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,i.value}}function EL(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function AL(){if(!Ot)return ke(!1);const{ssr:t}=Ls();if(t){const e=ke(!1);return On(()=>{e.value=!0}),e}else return ke(!0)}const hw=oe({eager:Boolean},"lazy");function mw(t,e){const n=ke(!1),i=L(()=>n.value||t.eager||e.value);Ie(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function Fl(){const e=yn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const eT=Symbol.for("vuetify:stack"),Fu=_n([]);function SQ(t,e,n){const i=yn("useStack"),s=!n,r=St(eT,void 0),a=_n({activeChildren:new Set});Qt(eT,a);const o=ke(+e.value);zi(t,()=>{var d;const u=(d=Fu.at(-1))==null?void 0:d[1];o.value=u?u+10:+e.value,s&&Fu.push([i.uid,o.value]),r==null||r.activeChildren.add(i.uid),ri(()=>{if(s){const f=rt(Fu).findIndex(h=>h[0]===i.uid);Fu.splice(f,1)}r==null||r.activeChildren.delete(i.uid)})});const l=ke(!0);s&&Zt(()=>{var d;const u=((d=Fu.at(-1))==null?void 0:d[0])===i.uid;setTimeout(()=>l.value=u)});const c=L(()=>!a.activeChildren.size);return{globalTop:Qr(l),localTop:c,stackStyles:L(()=>({zIndex:o.value}))}}function MQ(t){return{teleportTarget:L(()=>{const n=t();if(n===!0||!Ot)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=[...i.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function CQ(){return!0}function PL(t,e,n){if(!t||IL(t,n)===!1)return!1;const i=g2(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function IL(t,e){return(typeof e.value=="object"&&e.value.closeConditional||CQ)(t)}function TQ(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&PL(t,e,n)&&setTimeout(()=>{IL(t,n)&&i&&i(t)},0)}function tT(t,e){const n=g2(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const RL={mounted(t,e){const n=s=>TQ(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=PL(s,t,e)};tT(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&(tT(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function EQ(t){const{modelValue:e,color:n,...i}=t;return M(Ga,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&M("div",Se({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const Of=oe({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},..._Q(),...Ue(),...Nn(),...hw(),...cQ(),...pQ(),...It(),...er()},"VOverlay"),xr=be()({name:"VOverlay",directives:{ClickOutside:RL},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Of()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=yn("VOverlay"),a=he(),o=he(),l=he(),c=Ke(t,"modelValue"),u=L({get:()=>c.value,set:ne=>{ne&&t.disabled||(c.value=ne)}}),{themeClasses:d}=Ut(t),{rtlClasses:f,isRtl:h}=zn(),{hasContent:m,onAfterLeave:g}=mw(t,u),p=Jt(L(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:v,localTop:b,stackStyles:_}=SQ(u,ge(t,"zIndex"),t._disableGlobalStack),{activatorEl:w,activatorRef:T,target:C,targetEl:A,targetRef:S,activatorEvents:x,contentEvents:y,scrimEvents:E}=xQ(t,{isActive:u,isTop:b,contentEl:l}),{teleportTarget:P}=MQ(()=>{var ae,F,U;const ne=t.attach||t.contained;if(ne)return ne;const de=((ae=w==null?void 0:w.value)==null?void 0:ae.getRootNode())||((U=(F=r.proxy)==null?void 0:F.$el)==null?void 0:U.getRootNode());return de instanceof ShadowRoot?de:!1}),{dimensionStyles:D}=Vn(t),N=AL(),{scopeId:W}=Fl();Ie(()=>t.disabled,ne=>{ne&&(u.value=!1)});const{contentStyles:B,updateLocation:q}=uQ(t,{isRtl:h,contentEl:l,target:C,isActive:u});vQ(t,{root:a,contentEl:l,targetEl:A,isActive:u,updateLocation:q});function j(ne){s("click:outside",ne),t.persistent?Me():u.value=!1}function Q(ne){return u.value&&v.value&&(!t.scrim||ne.target===o.value||ne instanceof MouseEvent&&ne.shadowTarget===o.value)}Ot&&Ie(u,ne=>{ne?window.addEventListener("keydown",Z):window.removeEventListener("keydown",Z)},{immediate:!0}),qn(()=>{Ot&&window.removeEventListener("keydown",Z)});function Z(ne){var de,ae;ne.key==="Escape"&&v.value&&(t.persistent?Me():(u.value=!1,(de=l.value)!=null&&de.contains(document.activeElement)&&((ae=w.value)==null||ae.focus())))}const X=G2();zi(()=>t.closeOnBack,()=>{lJ(X,ne=>{v.value&&u.value?(ne(!1),t.persistent?Me():u.value=!1):ne()})});const ce=he();Ie(()=>u.value&&(t.absolute||t.contained)&&P.value==null,ne=>{if(ne){const de=qx(a.value);de&&de!==document.scrollingElement&&(ce.value=de.scrollTop)}});function Me(){t.noClickAnimation||l.value&&Ho(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Fd})}function ee(){s("afterEnter")}function pe(){g(),s("afterLeave")}return Ce(()=>{var ne;return M($e,null,[(ne=n.activator)==null?void 0:ne.call(n,{isActive:u.value,targetRef:S,props:Se({ref:T},x.value,t.activatorProps)}),N.value&&m.value&&M(t3,{disabled:!P.value,to:P.value},{default:()=>[M("div",Se({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":u.value,"v-overlay--contained":t.contained},d.value,f.value,t.class],style:[_.value,{"--v-overlay-opacity":t.opacity,top:Ve(ce.value)},t.style],ref:a},W,i),[M(EQ,Se({color:p,modelValue:u.value&&!!t.scrim,ref:o},E.value),null),M(bi,{appear:!0,persisted:!0,transition:t.transition,target:C.value,onAfterEnter:ee,onAfterLeave:pe},{default:()=>{var de;return[tt(M("div",Se({ref:l,class:["v-overlay__content",t.contentClass],style:[D.value,B.value]},y.value,t.contentProps),[(de=n.default)==null?void 0:de.call(n,{isActive:u})]),[[Rs,u.value],[Sn("click-outside"),{handler:j,closeConditional:Q,include:()=>[w.value]}]])]}})])]})])}),{activatorEl:w,scrimEl:o,target:C,animateClick:Me,contentEl:l,globalTop:v,localTop:b,updateLocation:q}}}),Hy=Symbol("Forwarded refs");function Gy(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Ds(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[Hy]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const o=Reflect.get(a.value,r);return typeof o=="function"?o.bind(a.value):o}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return Reflect.set(o.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var o;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=Gy(l.value,r)??("_"in l.value?Gy((o=l.value._)==null?void 0:o.setupState,r):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[Hy];if(!c)continue;const u=c.slice();for(;u.length;){const d=u.shift(),f=Gy(d.value,r);if(f)return f;const h=d.value&&d.value[Hy];h&&u.push(...h)}}}}})}const LL=oe({id:String,submenu:Boolean,...Dn(Of({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Nv}}),["absolute"])},"VMenu"),Jc=be()({name:"VMenu",props:LL(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{scopeId:s}=Fl(),{isRtl:r}=zn(),a=ai(),o=L(()=>t.id||`v-menu-${a}`),l=he(),c=St(hb,null),u=ke(new Set);Qt(hb,{register(){u.value.add(a)},unregister(){u.value.delete(a)},closeParents(p){setTimeout(()=>{var v;!u.value.size&&!t.persistent&&(p==null||(v=l.value)!=null&&v.contentEl&&!Nq(p,l.value.contentEl))&&(i.value=!1,c==null||c.closeParents())},40)}}),qn(()=>{c==null||c.unregister(),document.removeEventListener("focusin",d)}),jb(()=>i.value=!1);async function d(p){var _,w,T;const v=p.relatedTarget,b=p.target;await Rt(),i.value&&v!==b&&((_=l.value)!=null&&_.contentEl)&&((w=l.value)!=null&&w.globalTop)&&![document,l.value.contentEl].includes(b)&&!l.value.contentEl.contains(b)&&((T=Vd(l.value.contentEl)[0])==null||T.focus())}Ie(i,p=>{p?(c==null||c.register(),Ot&&document.addEventListener("focusin",d,{once:!0})):(c==null||c.unregister(),Ot&&document.removeEventListener("focusin",d))},{immediate:!0});function f(p){c==null||c.closeParents(p)}function h(p){var v,b,_,w,T;if(!t.disabled)if(p.key==="Tab"||p.key==="Enter"&&!t.closeOnContentClick){if(p.key==="Enter"&&(p.target instanceof HTMLTextAreaElement||p.target instanceof HTMLInputElement&&p.target.closest("form")))return;p.key==="Enter"&&p.preventDefault(),n2(Vd((v=l.value)==null?void 0:v.contentEl,!1),p.shiftKey?"prev":"next",A=>A.tabIndex>=0)||(i.value=!1,(_=(b=l.value)==null?void 0:b.activatorEl)==null||_.focus())}else t.submenu&&p.key===(r.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(T=(w=l.value)==null?void 0:w.activatorEl)==null||T.focus())}function m(p){var b;if(t.disabled)return;const v=(b=l.value)==null?void 0:b.contentEl;v&&i.value?p.key==="ArrowDown"?(p.preventDefault(),p.stopImmediatePropagation(),Zo(v,"next")):p.key==="ArrowUp"?(p.preventDefault(),p.stopImmediatePropagation(),Zo(v,"prev")):t.submenu&&(p.key===(r.value?"ArrowRight":"ArrowLeft")?i.value=!1:p.key===(r.value?"ArrowLeft":"ArrowRight")&&(p.preventDefault(),Zo(v,"first"))):(t.submenu?p.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(p.key))&&(i.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>m(p))))}const g=L(()=>Se({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-controls":o.value,onKeydown:m},t.activatorProps));return Ce(()=>{const p=xr.filterProps(t);return M(xr,Se({ref:l,id:o.value,class:["v-menu",t.class],style:t.style},p,{modelValue:i.value,"onUpdate:modelValue":v=>i.value=v,absolute:!0,activatorProps:g.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:h},s),{activator:n.activator,default:function(){for(var v=arguments.length,b=new Array(v),_=0;_<v;_++)b[_]=arguments[_];return M(_t,{root:"VMenu"},{default:()=>{var w;return[(w=n.default)==null?void 0:w.call(n,...b)]}})}})}),Ds({id:o,openChildren:u},l)}}),AQ=oe({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ue(),...er({transition:{component:nw}})},"VCounter"),$v=be()({name:"VCounter",functional:!0,props:AQ(),setup(t,e){let{slots:n}=e;const i=L(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return Ce(()=>M(bi,{transition:t.transition},{default:()=>[tt(M("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[Rs,t.active]])]})),{}}}),PQ=oe({floating:Boolean,...Ue()},"VFieldLabel"),Gu=be()({name:"VFieldLabel",props:PQ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(fu,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),IQ=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Nf=oe({appendInnerIcon:Ze,bgColor:String,clearable:Boolean,clearIcon:{type:Ze,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ze,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>IQ.includes(t)},"onClick:clear":ii(),"onClick:appendInner":ii(),"onClick:prependInner":ii(),...Ue(),...Uv(),...fn(),...It()},"VField"),mu=be()({name:"VField",inheritAttrs:!1,props:{id:String,...kf(),...Nf()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Ut(t),{loaderClasses:a}=Pf(t),{focusClasses:o,isFocused:l,focus:c,blur:u}=pa(t),{InputIcon:d}=nL(t),{roundedClasses:f}=bn(t),{rtlClasses:h}=zn(),m=L(()=>t.dirty||t.active),g=L(()=>!!(t.label||s.label)),p=L(()=>!t.singleLine&&g.value),v=ai(),b=L(()=>t.id||`input-${v}`),_=L(()=>`${b.value}-messages`),w=he(),T=he(),C=he(),A=L(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:S,backgroundColorStyles:x}=Jt(ge(t,"bgColor")),{textColorClasses:y,textColorStyles:E}=ui(L(()=>t.error||t.disabled?void 0:m.value&&l.value?t.color:t.baseColor));Ie(m,N=>{if(p.value){const W=w.value.$el,B=T.value.$el;requestAnimationFrame(()=>{const q=$x(W),j=B.getBoundingClientRect(),Q=j.x-q.x,Z=j.y-q.y-(q.height/2-j.height/2),X=j.width/.75,ce=Math.abs(X-q.width)>1?{maxWidth:Ve(X)}:void 0,Me=getComputedStyle(W),ee=getComputedStyle(B),pe=parseFloat(Me.transitionDuration)*1e3||150,ne=parseFloat(ee.getPropertyValue("--v-field-label-scale")),de=ee.getPropertyValue("color");W.style.visibility="visible",B.style.visibility="hidden",Ho(W,{transform:`translate(${Q}px, ${Z}px) scale(${ne})`,color:de,...ce},{duration:pe,easing:Fd,direction:N?"normal":"reverse"}).finished.then(()=>{W.style.removeProperty("visibility"),B.style.removeProperty("visibility")})})}},{flush:"post"});const P=L(()=>({isActive:m,isFocused:l,controlRef:C,blur:u,focus:c}));function D(N){N.target!==document.activeElement&&N.preventDefault()}return Ce(()=>{var Q,Z,X;const N=t.variant==="outlined",W=!!(s["prepend-inner"]||t.prependInnerIcon),B=!!(t.clearable||s.clear)&&!t.disabled,q=!!(s["append-inner"]||t.appendInnerIcon||B),j=()=>s.label?s.label({...P.value,label:t.label,props:{for:b.value}}):t.label;return M("div",Se({class:["v-field",{"v-field--active":m.value,"v-field--appended":q,"v-field--center-affix":t.centerAffix??!A.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":W,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!j(),[`v-field--variant-${t.variant}`]:!0},r.value,S.value,o.value,a.value,f.value,h.value,t.class],style:[x.value,t.style],onClick:D},n),[M("div",{class:"v-field__overlay"},null),M(If,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),W&&M("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&M(d,{key:"prepend-icon",name:"prependInner"},null),(Q=s["prepend-inner"])==null?void 0:Q.call(s,P.value)]),M("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&p.value&&M(Gu,{key:"floating-label",ref:T,class:[y.value],floating:!0,for:b.value,style:E.value},{default:()=>[j()]}),g.value&&M(Gu,{key:"label",ref:w,for:b.value},{default:()=>[j()]}),(Z=s.default)==null?void 0:Z.call(s,{...P.value,props:{id:b.value,class:"v-field__input","aria-describedby":_.value},focus:c,blur:u})]),B&&M(iw,{key:"clear"},{default:()=>[tt(M("div",{class:"v-field__clearable",onMousedown:ce=>{ce.preventDefault(),ce.stopPropagation()}},[M(_t,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...P.value,props:{onFocus:c,onBlur:u,onClick:t["onClick:clear"]}}):M(d,{name:"clear",onFocus:c,onBlur:u},null)]})]),[[Rs,t.dirty]])]}),q&&M("div",{key:"append",class:"v-field__append-inner"},[(X=s["append-inner"])==null?void 0:X.call(s,P.value),t.appendInnerIcon&&M(d,{key:"append-icon",name:"appendInner"},null)]),M("div",{class:["v-field__outline",y.value],style:E.value},[N&&M($e,null,[M("div",{class:"v-field__outline__start"},null),p.value&&M("div",{class:"v-field__outline__notch"},[M(Gu,{ref:T,floating:!0,for:b.value},{default:()=>[j()]})]),M("div",{class:"v-field__outline__end"},null)]),A.value&&p.value&&M(Gu,{ref:T,floating:!0,for:b.value},{default:()=>[j()]})])])}),{controlRef:C}}});function pw(t){const e=Object.keys(mu.props).filter(n=>!Iv(n)&&n!=="class"&&n!=="style");return Gx(t,e)}const RQ=["color","file","time","date","datetime-local","week","month"],jv=oe({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...va(),...Nf()},"VTextField"),vl=be()({name:"VTextField",directives:{Intersect:Af},inheritAttrs:!1,props:jv(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ke(t,"modelValue"),{isFocused:a,focus:o,blur:l}=pa(t),c=L(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),u=L(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),d=L(()=>["plain","underlined"].includes(t.variant));function f(C,A){var S,x;!t.autofocus||!C||(x=(S=A[0].target)==null?void 0:S.focus)==null||x.call(S)}const h=he(),m=he(),g=he(),p=L(()=>RQ.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function v(){var C;g.value!==document.activeElement&&((C=g.value)==null||C.focus()),a.value||o()}function b(C){i("mousedown:control",C),C.target!==g.value&&(v(),C.preventDefault())}function _(C){v(),i("click:control",C)}function w(C){C.stopPropagation(),v(),Rt(()=>{r.value=null,Rv(t["onClick:clear"],C)})}function T(C){var S;const A=C.target;if(r.value=A.value,(S=t.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(t.type)){const x=[A.selectionStart,A.selectionEnd];Rt(()=>{A.selectionStart=x[0],A.selectionEnd=x[1]})}}return Ce(()=>{const C=!!(s.counter||t.counter!==!1&&t.counter!=null),A=!!(C||s.details),[S,x]=to(n),{modelValue:y,...E}=di.filterProps(t),P=pw(t);return M(di,Se({ref:h,modelValue:r.value,"onUpdate:modelValue":D=>r.value=D,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":d.value},t.class],style:t.style},S,E,{centerAffix:!d.value,focused:a.value}),{...s,default:D=>{let{id:N,isDisabled:W,isDirty:B,isReadonly:q,isValid:j}=D;return M(mu,Se({ref:m,onMousedown:b,onClick:_,"onClick:clear":w,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},P,{id:N.value,active:p.value||B.value,dirty:B.value||t.dirty,disabled:W.value,focused:a.value,error:j.value===!1}),{...s,default:Q=>{let{props:{class:Z,...X}}=Q;const ce=tt(M("input",Se({ref:g,value:r.value,onInput:T,autofocus:t.autofocus,readonly:q.value,disabled:W.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:v,onBlur:l},X,x),null),[[Sn("intersect"),{handler:f},null,{once:!0}]]);return M($e,null,[t.prefix&&M("span",{class:"v-text-field__prefix"},[M("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?M("div",{class:Z,"data-no-activator":""},[s.default(),ce]):ea(ce,{class:Z}),t.suffix&&M("span",{class:"v-text-field__suffix"},[M("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:A?D=>{var N;return M($e,null,[(N=s.details)==null?void 0:N.call(s,D),C&&M($e,null,[M("span",null,null),M($v,{active:t.persistentCounter||a.value,value:c.value,max:u.value,disabled:t.disabled},s.counter)])])}:void 0})}),Ds({},h,m,g)}}),LQ=oe({renderless:Boolean,...Ue()},"VVirtualScrollItem"),kL=be()({name:"VVirtualScrollItem",inheritAttrs:!1,props:LQ(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{resizeRef:r,contentRect:a}=Xs(void 0,"border");Ie(()=>{var o;return(o=a.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),Ce(()=>{var o,l;return t.renderless?M($e,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:r})]):M("div",Se({ref:r,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=s.default)==null?void 0:l.call(s)])})}}),kQ=-1,DQ=1,Wy=100,DL=oe({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function OL(t,e){const n=Ls(),i=ke(0);Zt(()=>{i.value=parseFloat(t.itemHeight||0)});const s=ke(0),r=ke(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),a=ke(0),o=ke(0),l=he(),c=he();let u=0;const{resizeRef:d,contentRect:f}=Xs();Zt(()=>{d.value=l.value});const h=L(()=>{var Z;return l.value===document.documentElement?n.height.value:((Z=f.value)==null?void 0:Z.height)||parseInt(t.height)||0}),m=L(()=>!!(l.value&&c.value&&h.value&&i.value));let g=Array.from({length:e.value.length}),p=Array.from({length:e.value.length});const v=ke(0);let b=-1;function _(Z){return g[Z]||i.value}const w=Rq(()=>{const Z=performance.now();p[0]=0;const X=e.value.length;for(let ce=1;ce<=X-1;ce++)p[ce]=(p[ce-1]||0)+_(ce-1);v.value=Math.max(v.value,performance.now()-Z)},v),T=Ie(m,Z=>{Z&&(T(),u=c.value.offsetTop,w.immediate(),B(),~b&&Rt(()=>{Ot&&window.requestAnimationFrame(()=>{j(b),b=-1})}))});ri(()=>{w.clear()});function C(Z,X){const ce=g[Z],Me=i.value;i.value=Me?Math.min(i.value,X):X,(ce!==X||Me!==i.value)&&(g[Z]=X,w())}function A(Z){return Z=Rn(Z,0,e.value.length-1),p[Z]||0}function S(Z){return OQ(p,Z)}let x=0,y=0,E=0;Ie(h,(Z,X)=>{X&&(B(),Z<X&&requestAnimationFrame(()=>{y=0,B()}))});let P=-1;function D(){if(!l.value||!c.value)return;const Z=l.value.scrollTop,X=performance.now();X-E>500?(y=Math.sign(Z-x),u=c.value.offsetTop):y=Z-x,x=Z,E=X,window.clearTimeout(P),P=window.setTimeout(N,500),B()}function N(){!l.value||!c.value||(y=0,E=0,window.clearTimeout(P),B())}let W=-1;function B(){cancelAnimationFrame(W),W=requestAnimationFrame(q)}function q(){if(!l.value||!h.value)return;const Z=x-u,X=Math.sign(y),ce=Math.max(0,Z-Wy),Me=Rn(S(ce),0,e.value.length),ee=Z+h.value+Wy,pe=Rn(S(ee)+1,Me+1,e.value.length);if((X!==kQ||Me<s.value)&&(X!==DQ||pe>r.value)){const ne=A(s.value)-A(Me),de=A(pe)-A(r.value);Math.max(ne,de)>Wy?(s.value=Me,r.value=pe):(Me<=0&&(s.value=Me),pe>=e.value.length&&(r.value=pe))}a.value=A(s.value),o.value=A(e.value.length)-A(r.value)}function j(Z){const X=A(Z);!l.value||Z&&!X?b=Z:l.value.scrollTop=X}const Q=L(()=>e.value.slice(s.value,r.value).map((Z,X)=>({raw:Z,index:X+s.value,key:Av(Z)&&"value"in Z?Z.value:X+s.value})));return Ie(e,()=>{g=Array.from({length:e.value.length}),p=Array.from({length:e.value.length}),w.immediate(),B()},{deep:!0}),{calculateVisibleItems:B,containerRef:l,markerRef:c,computedItems:Q,paddingTop:a,paddingBottom:o,scrollToIndex:j,handleScroll:D,handleScrollend:N,handleItemResize:C}}function OQ(t,e){let n=t.length-1,i=0,s=0,r=null,a=-1;if(t[n]<e)return n;for(;i<=n;)if(s=i+n>>1,r=t[s],r>e)n=s-1;else if(r<e)a=s,i=s+1;else return r===e?s:i;return a}const NQ=oe({items:{type:Array,default:()=>[]},renderless:Boolean,...DL(),...Ue(),...Nn()},"VVirtualScroll"),Xv=be()({name:"VVirtualScroll",props:NQ(),setup(t,e){let{slots:n}=e;const i=yn("VVirtualScroll"),{dimensionStyles:s}=Vn(t),{calculateVisibleItems:r,containerRef:a,markerRef:o,handleScroll:l,handleScrollend:c,handleItemResize:u,scrollToIndex:d,paddingTop:f,paddingBottom:h,computedItems:m}=OL(t,ge(t,"items"));return zi(()=>t.renderless,()=>{function g(){var b,_;const v=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[v]("scroll",l,{passive:!0}),document[v]("scrollend",c)):((b=a.value)==null||b[v]("scroll",l,{passive:!0}),(_=a.value)==null||_[v]("scrollend",c))}On(()=>{a.value=qx(i.vnode.el,!0),g(!0)}),ri(g)}),Ce(()=>{const g=m.value.map(p=>M(kL,{key:p.key,renderless:t.renderless,"onUpdate:height":v=>u(p.index,v)},{default:v=>{var b;return(b=n.default)==null?void 0:b.call(n,{item:p.raw,index:p.index,...v})}}));return t.renderless?M($e,null,[M("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Ve(f.value)}},null),g,M("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ve(h.value)}},null)]):M("div",{ref:a,class:["v-virtual-scroll",t.class],onScrollPassive:l,onScrollend:c,style:[s.value,t.style]},[M("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Ve(f.value),paddingBottom:Ve(h.value)}},[g])])}),{calculateVisibleItems:r,scrollToIndex:d}}});function vw(t,e){const n=ke(!1);let i;function s(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function r(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=Ie(n,()=>{l(),o()})}else o()})}async function a(o){var u,d;if(o.key==="Tab"&&((u=e.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(d=t.value)==null?void 0:d.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const f=l.getBoundingClientRect().top;for(const h of c)if(h.getBoundingClientRect().top>=f){h.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const h of[...c].reverse())if(h.getBoundingClientRect().bottom<=f){h.focus();break}}}return{onScrollPassive:s,onKeydown:a}}const gw=oe({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ze,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...wL({itemChildren:!1})},"Select"),VQ=oe({...gw(),...Dn(jv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...er({transition:{component:Nv}})},"VSelect"),yw=be()({name:"VSelect",props:VQ(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Mn(),s=he(),r=he(),a=he(),o=Ke(t,"menu"),l=L({get:()=>o.value,set:Q=>{var Z;o.value&&!Q&&((Z=r.value)!=null&&Z.openChildren.size)||(o.value=Q)}}),{items:c,transformIn:u,transformOut:d}=uw(t),f=Ke(t,"modelValue",[],Q=>u(Q===null?[null]:mn(Q)),Q=>{const Z=d(Q);return t.multiple?Z:Z[0]??null}),h=L(()=>typeof t.counterValue=="function"?t.counterValue(f.value):typeof t.counterValue=="number"?t.counterValue:f.value.length),m=Gv(t),g=L(()=>f.value.map(Q=>Q.value)),p=ke(!1),v=L(()=>l.value?t.closeText:t.openText);let b="",_;const w=L(()=>t.hideSelected?c.value.filter(Q=>!f.value.some(Z=>t.valueComparator(Z,Q))):c.value),T=L(()=>t.hideNoData&&!w.value.length||m.isReadonly.value||m.isDisabled.value),C=L(()=>{var Q;return{...t.menuProps,activatorProps:{...((Q=t.menuProps)==null?void 0:Q.activatorProps)||{},"aria-haspopup":"listbox"}}}),A=he(),S=vw(A,s);function x(Q){t.openOnClear&&(l.value=!0)}function y(){T.value||(l.value=!l.value)}function E(Q){Yc(Q)&&P(Q)}function P(Q){var Me,ee;if(!Q.key||m.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Q.key)&&Q.preventDefault(),["Enter","ArrowDown"," "].includes(Q.key)&&(l.value=!0),["Escape","Tab"].includes(Q.key)&&(l.value=!1),Q.key==="Home"?(Me=A.value)==null||Me.focus("first"):Q.key==="End"&&((ee=A.value)==null||ee.focus("last"));const Z=1e3;if(!Yc(Q))return;const X=performance.now();X-_>Z&&(b=""),b+=Q.key.toLowerCase(),_=X;const ce=c.value.find(pe=>pe.title.toLowerCase().startsWith(b));if(ce!==void 0){f.value=[ce];const pe=w.value.indexOf(ce);Ot&&window.requestAnimationFrame(()=>{var ne;pe>=0&&((ne=a.value)==null||ne.scrollToIndex(pe))})}}function D(Q){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Q.props.disabled)if(t.multiple){const X=f.value.findIndex(Me=>t.valueComparator(Me.value,Q.value)),ce=Z??!~X;if(~X){const Me=ce?[...f.value,Q]:[...f.value];Me.splice(X,1),f.value=Me}else ce&&(f.value=[...f.value,Q])}else{const X=Z!==!1;f.value=X?[Q]:[],Rt(()=>{l.value=!1})}}function N(Q){var Z;(Z=A.value)!=null&&Z.$el.contains(Q.relatedTarget)||(l.value=!1)}function W(){var Q;t.eager&&((Q=a.value)==null||Q.calculateVisibleItems())}function B(){var Q;p.value&&((Q=s.value)==null||Q.focus())}function q(Q){p.value=!0}function j(Q){if(Q==null)f.value=[];else if(Xc(s.value,":autofill")||Xc(s.value,":-webkit-autofill")){const Z=c.value.find(X=>X.title===Q);Z&&D(Z)}else s.value&&(s.value.value="")}return Ie(l,()=>{if(!t.hideSelected&&l.value&&f.value.length){const Q=w.value.findIndex(Z=>f.value.some(X=>t.valueComparator(X.value,Z.value)));Ot&&window.requestAnimationFrame(()=>{var Z;Q>=0&&((Z=a.value)==null||Z.scrollToIndex(Q))})}}),Ie(()=>t.items,(Q,Z)=>{l.value||p.value&&!Z.length&&Q.length&&(l.value=!0)}),Ce(()=>{const Q=!!(t.chips||n.chip),Z=!!(!t.hideNoData||w.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),X=f.value.length>0,ce=vl.filterProps(t),Me=X||!p.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return M(vl,Se({ref:s},ce,{modelValue:f.value.map(ee=>ee.props.value).join(", "),"onUpdate:modelValue":j,focused:p.value,"onUpdate:focused":ee=>p.value=ee,validationValue:f.externalValue,counterValue:h.value,dirty:X,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:Me,"onClick:clear":x,"onMousedown:control":y,onBlur:N,onKeydown:P,"aria-label":i(v.value),title:i(v.value)}),{...n,default:()=>M($e,null,[M(Jc,Se({ref:r,modelValue:l.value,"onUpdate:modelValue":ee=>l.value=ee,activator:"parent",contentClass:"v-select__content",disabled:T.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:W,onAfterLeave:B},C.value),{default:()=>[Z&&M(Wv,Se({ref:A,selected:g.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ee=>ee.preventDefault(),onKeydown:E,onFocusin:q,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},S,t.listProps),{default:()=>{var ee,pe,ne;return[(ee=n["prepend-item"])==null?void 0:ee.call(n),!w.value.length&&!t.hideNoData&&(((pe=n["no-data"])==null?void 0:pe.call(n))??M(ua,{key:"no-data",title:i(t.noDataText)},null)),M(Xv,{ref:a,renderless:!0,items:w.value},{default:de=>{var k;let{item:ae,index:F,itemRef:U}=de;const z=Se(ae.props,{ref:U,key:ae.value,onClick:()=>D(ae,null)});return((k=n.item)==null?void 0:k.call(n,{item:ae,index:F,props:z}))??M(ua,Se(z,{role:"option"}),{prepend:R=>{let{isSelected:I}=R;return M($e,null,[t.multiple&&!t.hideSelected?M(ca,{key:ae.value,modelValue:I,ripple:!1,tabindex:"-1"},null):void 0,ae.props.prependAvatar&&M(Is,{image:ae.props.prependAvatar},null),ae.props.prependIcon&&M(Bt,{icon:ae.props.prependIcon},null)])}})}}),(ne=n["append-item"])==null?void 0:ne.call(n)]}})]}),f.value.map((ee,pe)=>{function ne(U){U.stopPropagation(),U.preventDefault(),D(ee,!1)}const de={"onClick:close":ne,onKeydown(U){U.key!=="Enter"&&U.key!==" "||(U.preventDefault(),U.stopPropagation(),ne(U))},onMousedown(U){U.preventDefault(),U.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ae=Q?!!n.chip:!!n.selection,F=ae?Lv(Q?n.chip({item:ee,index:pe,props:de}):n.selection({item:ee,index:pe})):void 0;if(!(ae&&!F))return M("div",{key:ee.value,class:"v-select__selection"},[Q?n.chip?M(_t,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ee.title}}},{default:()=>[F]}):M(hu,Se({key:"chip",closable:t.closableChips,size:"small",text:ee.title,disabled:ee.props.disabled},de),null):F??M("span",{class:"v-select__selection-text"},[ee.title,t.multiple&&pe<f.value.length-1&&M("span",{class:"v-select__selection-comma"},[Pn(",")])])])})]),"append-inner":function(){var de;for(var ee=arguments.length,pe=new Array(ee),ne=0;ne<ee;ne++)pe[ne]=arguments[ne];return M($e,null,[(de=n["append-inner"])==null?void 0:de.call(n,...pe),t.menuIcon?M(Bt,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Ds({isFocused:p,menu:l,select:D},s)}}),FQ=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),Vf=oe({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function BQ(t,e,n){var o;const i=[],s=(n==null?void 0:n.default)??FQ,r=n!=null&&n.filterKeys?mn(n.filterKeys):!1,a=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[c,u=c]=mn(t[l]),d={},f={};let h=-1;if((e||a>0)&&!(n!=null&&n.noFilter)){if(typeof c=="object"){const p=r||Object.keys(u);for(const v of p){const b=Un(u,v),_=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[v];if(h=_?_(b,e,c):s(b,e,c),h!==-1&&h!==!1)_?d[v]=h:f[v]=h;else if((n==null?void 0:n.filterMode)==="every")continue e}}else h=s(c,e,c),h!==-1&&h!==!1&&(f.title=h);const m=Object.keys(f).length,g=Object.keys(d).length;if(!m&&!g||(n==null?void 0:n.filterMode)==="union"&&g!==a&&!m||(n==null?void 0:n.filterMode)==="intersection"&&(g!==a||!m))continue}i.push({index:l,matches:{...f,...d}})}return i}function Ff(t,e,n,i){const s=ke([]),r=ke(new Map),a=L(()=>i!=null&&i.transform?Pe(e).map(l=>[l,i.transform(l)]):Pe(e));Zt(()=>{const l=typeof n=="function"?n():Pe(n),c=typeof l!="string"&&typeof l!="number"?"":String(l),u=BQ(a.value,c,{customKeyFilter:{...t.customKeyFilter,...Pe(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),d=Pe(e),f=[],h=new Map;u.forEach(m=>{let{index:g,matches:p}=m;const v=d[g];f.push(v),h.set(v.value,p)}),s.value=f,r.value=h});function o(l){return r.value.get(l.value)}return{filteredItems:s,filteredMatches:r,getMatches:o}}function UQ(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?M($e,null,[M("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),M("span",{class:"v-autocomplete__mask"},[t.substr(e,n)]),M("span",{class:"v-autocomplete__unmask"},[t.substr(e+n)])]):t}const zQ=oe({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Vf({filterKeys:["title"]}),...gw(),...Dn(jv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...er({transition:!1})},"VAutocomplete"),HQ=be()({name:"VAutocomplete",props:zQ(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Mn(),s=he(),r=ke(!1),a=ke(!0),o=ke(!1),l=he(),c=he(),u=Ke(t,"menu"),d=L({get:()=>u.value,set:z=>{var k;u.value&&!z&&((k=l.value)!=null&&k.openChildren.size)||(u.value=z)}}),f=ke(-1),h=L(()=>{var z;return(z=s.value)==null?void 0:z.color}),m=L(()=>d.value?t.closeText:t.openText),{items:g,transformIn:p,transformOut:v}=uw(t),{textColorClasses:b,textColorStyles:_}=ui(h),w=Ke(t,"search",""),T=Ke(t,"modelValue",[],z=>p(z===null?[null]:mn(z)),z=>{const k=v(z);return t.multiple?k:k[0]??null}),C=L(()=>typeof t.counterValue=="function"?t.counterValue(T.value):typeof t.counterValue=="number"?t.counterValue:T.value.length),A=Gv(t),{filteredItems:S,getMatches:x}=Ff(t,g,()=>a.value?"":w.value),y=L(()=>t.hideSelected?S.value.filter(z=>!T.value.some(k=>k.value===z.value)):S.value),E=L(()=>!!(t.chips||n.chip)),P=L(()=>E.value||!!n.selection),D=L(()=>T.value.map(z=>z.props.value)),N=L(()=>{var k;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&w.value===((k=y.value[0])==null?void 0:k.title))&&y.value.length>0&&!a.value&&!o.value}),W=L(()=>t.hideNoData&&!y.value.length||A.isReadonly.value||A.isDisabled.value),B=he(),q=vw(B,s);function j(z){t.openOnClear&&(d.value=!0),w.value=""}function Q(){W.value||(d.value=!0)}function Z(z){W.value||(r.value&&(z.preventDefault(),z.stopPropagation()),d.value=!d.value)}function X(z){var k;z.key!==" "&&Yc(z)&&((k=s.value)==null||k.focus())}function ce(z){var I,Y,$;if(A.isReadonly.value)return;const k=s.value.selectionStart,R=T.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(z.key)&&z.preventDefault(),["Enter","ArrowDown"].includes(z.key)&&(d.value=!0),["Escape"].includes(z.key)&&(d.value=!1),N.value&&["Enter","Tab"].includes(z.key)&&!T.value.some(J=>{let{value:se}=J;return se===y.value[0].value})&&U(y.value[0]),z.key==="ArrowDown"&&N.value&&((I=B.value)==null||I.focus("next")),["Backspace","Delete"].includes(z.key)){if(!t.multiple&&P.value&&T.value.length>0&&!w.value)return U(T.value[0],!1);if(~f.value){z.preventDefault();const J=f.value;U(T.value[f.value],!1),f.value=J>=R-1?R-2:J}else z.key==="Backspace"&&!w.value&&(f.value=R-1);return}if(t.multiple)if(z.key==="ArrowLeft"){if(f.value<0&&k>0)return;const J=f.value>-1?f.value-1:R-1;T.value[J]?f.value=J:(f.value=-1,s.value.setSelectionRange((Y=w.value)==null?void 0:Y.length,($=w.value)==null?void 0:$.length))}else if(z.key==="ArrowRight"){if(f.value<0)return;const J=f.value+1;T.value[J]?f.value=J:(f.value=-1,s.value.setSelectionRange(0,0))}else~f.value&&Yc(z)&&(f.value=-1)}function Me(z){if(Xc(s.value,":autofill")||Xc(s.value,":-webkit-autofill")){const k=g.value.find(R=>R.title===z.target.value);k&&U(k)}}function ee(){var z;t.eager&&((z=c.value)==null||z.calculateVisibleItems())}function pe(){var z;r.value&&(a.value=!0,(z=s.value)==null||z.focus())}function ne(z){r.value=!0,setTimeout(()=>{o.value=!0})}function de(z){o.value=!1}function ae(z){(z==null||z===""&&!t.multiple&&!P.value)&&(T.value=[])}const F=ke(!1);function U(z){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!z||z.props.disabled))if(t.multiple){const R=T.value.findIndex(Y=>t.valueComparator(Y.value,z.value)),I=k??!~R;if(~R){const Y=I?[...T.value,z]:[...T.value];Y.splice(R,1),T.value=Y}else I&&(T.value=[...T.value,z]);t.clearOnSelect&&(w.value="")}else{const R=k!==!1;T.value=R?[z]:[],w.value=R&&!P.value?z.title:"",Rt(()=>{d.value=!1,a.value=!0})}}return Ie(r,(z,k)=>{var R;z!==k&&(z?(F.value=!0,w.value=t.multiple||P.value?"":String(((R=T.value.at(-1))==null?void 0:R.props.title)??""),a.value=!0,Rt(()=>F.value=!1)):(!t.multiple&&w.value==null&&(T.value=[]),d.value=!1,T.value.some(I=>{let{title:Y}=I;return Y===w.value})||(w.value=""),f.value=-1))}),Ie(w,z=>{!r.value||F.value||(z&&(d.value=!0),a.value=!z)}),Ie(d,()=>{if(!t.hideSelected&&d.value&&T.value.length){const z=y.value.findIndex(k=>T.value.some(R=>k.value===R.value));Ot&&window.requestAnimationFrame(()=>{var k;z>=0&&((k=c.value)==null||k.scrollToIndex(z))})}}),Ie(()=>t.items,(z,k)=>{d.value||r.value&&!k.length&&z.length&&(d.value=!0)}),Ce(()=>{const z=!!(!t.hideNoData||y.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),k=T.value.length>0,R=vl.filterProps(t);return M(vl,Se({ref:s},R,{modelValue:w.value,"onUpdate:modelValue":[I=>w.value=I,ae],focused:r.value,"onUpdate:focused":I=>r.value=I,validationValue:T.externalValue,counterValue:C.value,dirty:k,onChange:Me,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!P.value,"v-autocomplete--selecting-index":f.value>-1},t.class],style:t.style,readonly:A.isReadonly.value,placeholder:k?void 0:t.placeholder,"onClick:clear":j,"onMousedown:control":Q,onKeydown:ce}),{...n,default:()=>M($e,null,[M(Jc,Se({ref:l,modelValue:d.value,"onUpdate:modelValue":I=>d.value=I,activator:"parent",contentClass:"v-autocomplete__content",disabled:W.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:ee,onAfterLeave:pe},t.menuProps),{default:()=>[z&&M(Wv,Se({ref:B,selected:D.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:I=>I.preventDefault(),onKeydown:X,onFocusin:ne,onFocusout:de,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},q,t.listProps),{default:()=>{var I,Y,$;return[(I=n["prepend-item"])==null?void 0:I.call(n),!y.value.length&&!t.hideNoData&&(((Y=n["no-data"])==null?void 0:Y.call(n))??M(ua,{key:"no-data",title:i(t.noDataText)},null)),M(Xv,{ref:c,renderless:!0,items:y.value},{default:J=>{var O;let{item:se,index:me,itemRef:re}=J;const V=Se(se.props,{ref:re,key:se.value,active:N.value&&me===0?!0:void 0,onClick:()=>U(se,null)});return((O=n.item)==null?void 0:O.call(n,{item:se,index:me,props:V}))??M(ua,Se(V,{role:"option"}),{prepend:K=>{let{isSelected:le}=K;return M($e,null,[t.multiple&&!t.hideSelected?M(ca,{key:se.value,modelValue:le,ripple:!1,tabindex:"-1"},null):void 0,se.props.prependAvatar&&M(Is,{image:se.props.prependAvatar},null),se.props.prependIcon&&M(Bt,{icon:se.props.prependIcon},null)])},title:()=>{var K,le;return a.value?se.title:UQ(se.title,(K=x(se))==null?void 0:K.title,((le=w.value)==null?void 0:le.length)??0)}})}}),($=n["append-item"])==null?void 0:$.call(n)]}})]}),T.value.map((I,Y)=>{function $(re){re.stopPropagation(),re.preventDefault(),U(I,!1)}const J={"onClick:close":$,onKeydown(re){re.key!=="Enter"&&re.key!==" "||(re.preventDefault(),re.stopPropagation(),$(re))},onMousedown(re){re.preventDefault(),re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},se=E.value?!!n.chip:!!n.selection,me=se?Lv(E.value?n.chip({item:I,index:Y,props:J}):n.selection({item:I,index:Y})):void 0;if(!(se&&!me))return M("div",{key:I.value,class:["v-autocomplete__selection",Y===f.value&&["v-autocomplete__selection--selected",b.value]],style:Y===f.value?_.value:{}},[E.value?n.chip?M(_t,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:I.title}}},{default:()=>[me]}):M(hu,Se({key:"chip",closable:t.closableChips,size:"small",text:I.title,disabled:I.props.disabled},J),null):me??M("span",{class:"v-autocomplete__selection-text"},[I.title,t.multiple&&Y<T.value.length-1&&M("span",{class:"v-autocomplete__selection-comma"},[Pn(",")])])])})]),"append-inner":function(){var J;for(var I=arguments.length,Y=new Array(I),$=0;$<I;$++)Y[$]=arguments[$];return M($e,null,[(J=n["append-inner"])==null?void 0:J.call(n,...Y),t.menuIcon?M(Bt,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:Z,onClick:i2,"aria-label":i(m.value),title:i(m.value),tabindex:"-1"},null):void 0])}})}),Ds({isFocused:r,isPristine:a,menu:d,search:w,filteredItems:S,select:U},s)}}),GQ=oe({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ze,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ue(),...ha({location:"top end"}),...fn(),...ht(),...It(),...er({transition:"scale-rotate-transition"})},"VBadge"),WQ=be()({name:"VBadge",inheritAttrs:!1,props:GQ(),setup(t,e){const{backgroundColorClasses:n,backgroundColorStyles:i}=Jt(ge(t,"color")),{roundedClasses:s}=bn(t),{t:r}=Mn(),{textColorClasses:a,textColorStyles:o}=ui(ge(t,"textColor")),{themeClasses:l}=A2(),{locationStyles:c}=Vl(t,!0,u=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(u)?+(t.offsetY??0):["left","right"].includes(u)?+(t.offsetX??0):0));return Ce(()=>{const u=Number(t.content),d=!t.max||isNaN(u)?t.content:u<=+t.max?u:`${t.max}+`,[f,h]=q0(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return M(t.tag,Se({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline},t.class]},h,{style:t.style}),{default:()=>{var m,g;return[M("div",{class:"v-badge__wrapper"},[(g=(m=e.slots).default)==null?void 0:g.call(m),M(bi,{transition:t.transition},{default:()=>{var p,v;return[tt(M("span",Se({class:["v-badge__badge",l.value,n.value,s.value,a.value],style:[i.value,o.value,t.inline?{}:c.value],"aria-atomic":"true","aria-label":r(t.label,u),"aria-live":"polite",role:"status"},f),[t.dot?void 0:e.slots.badge?(v=(p=e.slots).badge)==null?void 0:v.call(p):t.icon?M(Bt,{icon:t.icon},null):d]),[[Rs,t.modelValue]])]}})])]}})}),{}}}),$Q=oe({color:String,density:String,...Ue()},"VBannerActions"),NL=be()({name:"VBannerActions",props:$Q(),setup(t,e){let{slots:n}=e;return gn({VBtn:{color:t.color,density:t.density,slim:!0,variant:"text"}}),Ce(()=>{var i;return M("div",{class:["v-banner-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),VL=Pr("v-banner-text"),jQ=oe({avatar:String,bgColor:String,color:String,icon:Ze,lines:String,stacked:Boolean,sticky:Boolean,text:String,...is(),...Ue(),...Kn(),...Nn(),...Pl({mobile:null}),...Hn(),...ha(),...uu(),...fn(),...ht(),...It()},"VBanner"),XQ=be()({name:"VBanner",props:jQ(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Jt(t,"bgColor"),{borderClasses:r}=ys(t),{densityClasses:a}=Mi(t),{displayClasses:o,mobile:l}=Ls(t),{dimensionStyles:c}=Vn(t),{elevationClasses:u}=oi(t),{locationStyles:d}=Vl(t),{positionClasses:f}=du(t),{roundedClasses:h}=bn(t),{themeClasses:m}=Ut(t),g=ge(t,"color"),p=ge(t,"density");gn({VBannerActions:{color:g,density:p}}),Ce(()=>{const v=!!(t.text||n.text),b=!!(t.avatar||t.icon),_=!!(b||n.prepend);return M(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||l.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},m.value,i.value,r.value,a.value,o.value,u.value,f.value,h.value,t.class],style:[s.value,c.value,d.value,t.style],role:"banner"},{default:()=>{var w;return[_&&M("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?M(_t,{key:"prepend-defaults",disabled:!b,defaults:{VAvatar:{color:g.value,density:p.value,icon:t.icon,image:t.avatar}}},n.prepend):M(Is,{key:"prepend-avatar",color:g.value,density:p.value,icon:t.icon,image:t.avatar},null)]),M("div",{class:"v-banner__content"},[v&&M(VL,{key:"text"},{default:()=>{var T;return[((T=n.text)==null?void 0:T.call(n))??t.text]}}),(w=n.default)==null?void 0:w.call(n)]),n.actions&&M(NL,{key:"actions"},n.actions)]}})})}}),YQ=oe({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...is(),...Ue(),...Kn(),...Hn(),...fn(),...Il({name:"bottom-navigation"}),...ht({tag:"header"}),...Dl({selectedClass:"v-btn--selected"}),...It()},"VBottomNavigation"),qQ=be()({name:"VBottomNavigation",props:YQ(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=A2(),{borderClasses:s}=ys(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Jt(ge(t,"bgColor")),{densityClasses:o}=Mi(t),{elevationClasses:l}=oi(t),{roundedClasses:c}=bn(t),{ssrBootStyles:u}=Ll(),d=L(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),f=Ke(t,"active",t.active),{layoutItemStyles:h}=Rl({id:t.name,order:L(()=>parseInt(t.order,10)),position:L(()=>"bottom"),layoutSize:L(()=>f.value?d.value:0),elementSize:d,active:f,absolute:ge(t,"absolute")});return io(t,rw),gn({VBtn:{baseColor:ge(t,"baseColor"),color:ge(t,"color"),density:ge(t,"density"),stacked:L(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Ce(()=>M(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},i.value,r.value,s.value,o.value,l.value,c.value,t.class],style:[a.value,h.value,{height:Ve(d.value)},u.value,t.style]},{default:()=>[n.default&&M("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),FL=oe({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Of({origin:"center center",scrollStrategy:"block",transition:{component:Nv},zIndex:2400})},"VDialog"),mb=be()({name:"VDialog",props:FL(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ke(t,"modelValue"),{scopeId:r}=Fl(),a=he();function o(u){var h,m;const d=u.relatedTarget,f=u.target;if(d!==f&&((h=a.value)!=null&&h.contentEl)&&((m=a.value)!=null&&m.globalTop)&&![document,a.value.contentEl].includes(f)&&!a.value.contentEl.contains(f)){const g=Vd(a.value.contentEl);if(!g.length)return;const p=g[0],v=g[g.length-1];d===p?v.focus():p.focus()}}qn(()=>{document.removeEventListener("focusin",o)}),Ot&&Ie(()=>s.value&&t.retainFocus,u=>{u?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function l(){var u;n("afterEnter"),(u=a.value)!=null&&u.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function c(){n("afterLeave")}return Ie(s,async u=>{var d;u||(await Rt(),(d=a.value.activatorEl)==null||d.focus({preventScroll:!0}))}),Ce(()=>{const u=xr.filterProps(t),d=Se({"aria-haspopup":"dialog"},t.activatorProps),f=Se({tabindex:-1},t.contentProps);return M(xr,Se({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},u,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,"aria-modal":"true",activatorProps:d,contentProps:f,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:c},r),{activator:i.activator,default:function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return M(_t,{root:"VDialog"},{default:()=>{var p;return[(p=i.default)==null?void 0:p.call(i,...m)]}})}})}),Ds({},a)}}),KQ=oe({inset:Boolean,...FL({transition:"bottom-sheet-transition"})},"VBottomSheet"),ZQ=be()({name:"VBottomSheet",props:KQ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue");return Ce(()=>{const s=mb.filterProps(t);return M(mb,Se(s,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),JQ=oe({divider:[Number,String],...Ue()},"VBreadcrumbsDivider"),BL=be()({name:"VBreadcrumbsDivider",props:JQ(),setup(t,e){let{slots:n}=e;return Ce(()=>{var i;return M("li",{"aria-hidden":"true",class:["v-breadcrumbs-divider",t.class],style:t.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??t.divider])}),{}}}),QQ=oe({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Ue(),...Lf(),...ht({tag:"li"})},"VBreadcrumbsItem"),UL=be()({name:"VBreadcrumbsItem",props:QQ(),setup(t,e){let{slots:n,attrs:i}=e;const s=Rf(t,i),r=L(()=>{var c;return t.active||((c=s.isActive)==null?void 0:c.value)}),a=L(()=>r.value?t.activeColor:t.color),{textColorClasses:o,textColorStyles:l}=ui(a);return Ce(()=>M(t.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":r.value,"v-breadcrumbs-item--disabled":t.disabled,[`${t.activeClass}`]:r.value&&t.activeClass},o.value,t.class],style:[l.value,t.style],"aria-current":r.value?"page":void 0},{default:()=>{var c,u;return[s.isLink.value?M("a",Se({class:"v-breadcrumbs-item--link",onClick:s.navigate},s.linkProps),[((u=n.default)==null?void 0:u.call(n))??t.title]):((c=n.default)==null?void 0:c.call(n))??t.title]}})),{}}}),eee=oe({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ze,items:{type:Array,default:()=>[]},...Ue(),...Kn(),...fn(),...ht({tag:"ul"})},"VBreadcrumbs"),tee=be()({name:"VBreadcrumbs",props:eee(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Jt(ge(t,"bgColor")),{densityClasses:r}=Mi(t),{roundedClasses:a}=bn(t);gn({VBreadcrumbsDivider:{divider:ge(t,"divider")},VBreadcrumbsItem:{activeClass:ge(t,"activeClass"),activeColor:ge(t,"activeColor"),color:ge(t,"color"),disabled:ge(t,"disabled")}});const o=L(()=>t.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return Ce(()=>{const l=!!(n.prepend||t.icon);return M(t.tag,{class:["v-breadcrumbs",i.value,r.value,a.value,t.class],style:[s.value,t.style]},{default:()=>{var c;return[l&&M("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?M(_t,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},n.prepend):M(Bt,{key:"prepend-icon",start:!0,icon:t.icon},null)]),o.value.map((u,d,f)=>{var g;let{item:h,raw:m}=u;return M($e,null,[((g=n.item)==null?void 0:g.call(n,{item:h,index:d}))??M(UL,Se({key:d,disabled:d>=f.length-1},typeof h=="string"?{title:h}:h),{default:n.title?()=>{var p;return(p=n.title)==null?void 0:p.call(n,{item:h,index:d})}:void 0}),d<f.length-1&&M(BL,null,{default:n.divider?()=>{var p;return(p=n.divider)==null?void 0:p.call(n,{item:m,index:d})}:void 0})])}),(c=n.default)==null?void 0:c.call(n)]}})}),{}}}),zL=be()({name:"VCardActions",props:Ue(),setup(t,e){let{slots:n}=e;return gn({VBtn:{slim:!0,variant:"text"}}),Ce(()=>{var i;return M("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),nee=oe({opacity:[Number,String],...Ue(),...ht()},"VCardSubtitle"),HL=be()({name:"VCardSubtitle",props:nee(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),GL=Pr("v-card-title"),iee=oe({appendAvatar:String,appendIcon:Ze,prependAvatar:String,prependIcon:Ze,subtitle:[String,Number],title:[String,Number],...Ue(),...Kn()},"VCardItem"),WL=be()({name:"VCardItem",props:iee(),setup(t,e){let{slots:n}=e;return Ce(()=>{var c;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),o=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return M("div",{class:["v-card-item",t.class],style:t.style},[s&&M("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?M(_t,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):M($e,null,[t.prependAvatar&&M(Is,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&M(Bt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),M("div",{class:"v-card-item__content"},[o&&M(GL,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??t.title]}}),l&&M(HL,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??t.subtitle]}}),(c=n.default)==null?void 0:c.call(n)]),a&&M("div",{key:"append",class:"v-card-item__append"},[n.append?M(_t,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):M($e,null,[t.appendIcon&&M(Bt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&M(Is,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),see=oe({opacity:[Number,String],...Ue(),...ht()},"VCardText"),$L=be()({name:"VCardText",props:see(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),ree=oe({appendAvatar:String,appendIcon:Ze,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...is(),...Ue(),...Kn(),...Nn(),...Hn(),...Uv(),...ha(),...uu(),...fn(),...Lf(),...ht(),...It(),...ks({variant:"elevated"})},"VCard"),aee=be()({name:"VCard",directives:{Ripple:ma},props:ree(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Ut(t),{borderClasses:r}=ys(t),{colorClasses:a,colorStyles:o,variantClasses:l}=kl(t),{densityClasses:c}=Mi(t),{dimensionStyles:u}=Vn(t),{elevationClasses:d}=oi(t),{loaderClasses:f}=Pf(t),{locationStyles:h}=Vl(t),{positionClasses:m}=du(t),{roundedClasses:g}=bn(t),p=Rf(t,n),v=L(()=>t.link!==!1&&p.isLink.value),b=L(()=>!t.disabled&&t.link!==!1&&(t.link||p.isClickable.value));return Ce(()=>{const _=v.value?"a":t.tag,w=!!(i.title||t.title!=null),T=!!(i.subtitle||t.subtitle!=null),C=w||T,A=!!(i.append||t.appendAvatar||t.appendIcon),S=!!(i.prepend||t.prependAvatar||t.prependIcon),x=!!(i.image||t.image),y=C||S||A,E=!!(i.text||t.text!=null);return tt(M(_,Se({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":b.value},s.value,r.value,a.value,c.value,d.value,f.value,m.value,g.value,l.value,t.class],style:[o.value,u.value,h.value,t.style],onClick:b.value&&p.navigate,tabindex:t.disabled?-1:void 0},p.linkProps),{default:()=>{var P;return[x&&M("div",{key:"image",class:"v-card__image"},[i.image?M(_t,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):M(la,{key:"image-img",cover:!0,src:t.image},null)]),M(If,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),y&&M(WL,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),E&&M($L,{key:"text"},{default:()=>{var D;return[((D=i.text)==null?void 0:D.call(i))??t.text]}}),(P=i.default)==null?void 0:P.call(i),i.actions&&M(zL,null,{default:i.actions}),no(b.value,"v-card")]}}),[[Sn("ripple"),b.value&&t.ripple]])}),{}}}),oee=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:s}=t,r=.5,a=16;t.offsetX=n-e,t.offsetY=s-i,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&n<e-a&&t.left(t),t.right&&n>e+a&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&s<i-a&&t.up(t),t.down&&s>i+a&&t.down(t))};function lee(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function cee(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),oee(e)}function uee(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function dee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>lee(n,e),touchend:n=>cee(n,e),touchmove:n=>uee(n,e)}}function fee(t,e){var o;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},r=(o=e.instance)==null?void 0:o.$.uid;if(!i||!r)return;const a=dee(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[r]=a,JR(a).forEach(l=>{i.addEventListener(l,a[l],s)})}function hee(t,e){var r,a;const n=(r=e.value)!=null&&r.parent?t.parentElement:t,i=(a=e.instance)==null?void 0:a.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const s=n._touchHandlers[i];JR(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[i]}const bw={mounted:fee,unmounted:hee},jL=Symbol.for("vuetify:v-window"),XL=Symbol.for("vuetify:v-window-group"),Yv=oe({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ue(),...ht(),...It()},"VWindow"),gl=be()({name:"VWindow",directives:{Touch:bw},props:Yv(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t),{isRtl:s}=zn(),{t:r}=Mn(),a=io(t,XL),o=he(),l=L(()=>s.value?!t.reverse:t.reverse),c=ke(!1),u=L(()=>{const w=t.direction==="vertical"?"y":"x",C=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${w}${C}-transition`}),d=ke(0),f=he(void 0),h=L(()=>a.items.value.findIndex(w=>a.selected.value.includes(w.id)));Ie(h,(w,T)=>{const C=a.items.value.length,A=C-1;C<=2?c.value=w<T:w===A&&T===0?c.value=!0:w===0&&T===A?c.value=!1:c.value=w<T}),Qt(jL,{transition:u,isReversed:c,transitionCount:d,transitionHeight:f,rootRef:o});const m=L(()=>t.continuous||h.value!==0),g=L(()=>t.continuous||h.value!==a.items.value.length-1);function p(){m.value&&a.prev()}function v(){g.value&&a.next()}const b=L(()=>{const w=[],T={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,"aria-label":r("$vuetify.carousel.prev")};w.push(m.value?n.prev?n.prev({props:T}):M(Ft,T,null):M("div",null,null));const C={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,"aria-label":r("$vuetify.carousel.next")};return w.push(g.value?n.next?n.next({props:C}):M(Ft,C,null):M("div",null,null)),w}),_=L(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?p():v()},right:()=>{l.value?v():p()},start:T=>{let{originalEvent:C}=T;C.stopPropagation()}},...t.touch===!0?{}:t.touch});return Ce(()=>tt(M(t.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var w,T;return[M("div",{class:"v-window__container",style:{height:f.value}},[(w=n.default)==null?void 0:w.call(n,{group:a}),t.showArrows!==!1&&M("div",{class:"v-window__controls"},[b.value])]),(T=n.additional)==null?void 0:T.call(n,{group:a})]}}),[[Sn("touch"),_.value]])),{group:a}}}),mee=oe({color:String,cycle:Boolean,delimiterIcon:{type:Ze,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>Number(t)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...Yv({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),pee=be()({name:"VCarousel",props:mee(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{t:s}=Mn(),r=he();let a=-1;Ie(i,l),Ie(()=>t.interval,l),Ie(()=>t.cycle,c=>{c?l():window.clearTimeout(a)}),On(o);function o(){!t.cycle||!r.value||(a=window.setTimeout(r.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(a),window.requestAnimationFrame(o)}return Ce(()=>{const c=gl.filterProps(t);return M(gl,Se({ref:r},c,{modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters},t.class],style:[{height:Ve(t.height)},t.style]}),{default:n.default,additional:u=>{let{group:d}=u;return M($e,null,[!t.hideDelimiters&&M("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&M(_t,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((f,h)=>{const m={id:`carousel-item-${f.id}`,"aria-label":s("$vuetify.carousel.ariaLabel.delimiter",h+1,d.items.value.length),class:["v-carousel__controls__item",d.isSelected(f.id)&&"v-btn--active"],onClick:()=>d.select(f.id,!0)};return n.item?n.item({props:m,item:f}):M(Ft,Se(f,m),null)})]})]),t.progress&&M(Bv,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(d.getItemIndex(i.value)+1)/d.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),qv=oe({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ue(),...Ol(),...hw()},"VWindowItem"),yl=be()({name:"VWindowItem",directives:{Touch:bw},props:qv(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=St(jL),s=Nl(t,XL),{isBooted:r}=Ll();if(!i||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=ke(!1),o=L(()=>r.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!a.value||!i||(a.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function c(){var m;a.value||!i||(a.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Ve((m=i.rootRef.value)==null?void 0:m.clientHeight)),i.transitionCount.value+=1)}function u(){l()}function d(m){a.value&&Rt(()=>{!o.value||!a.value||!i||(i.transitionHeight.value=Ve(m.clientHeight))})}const f=L(()=>{const m=i.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof m!="string"?i.transition.value:m,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:u,onEnter:d}:!1}),{hasContent:h}=mw(t,s.isSelected);return Ce(()=>M(bi,{transition:f.value,disabled:!r.value},{default:()=>{var m;return[tt(M("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[h.value&&((m=n.default)==null?void 0:m.call(n))]),[[Rs,s.isSelected.value]])]}})),{groupItem:s}}}),vee=oe({...B2(),...qv()},"VCarouselItem"),gee=be()({name:"VCarouselItem",inheritAttrs:!1,props:vee(),setup(t,e){let{slots:n,attrs:i}=e;Ce(()=>{const s=la.filterProps(t),r=yl.filterProps(t);return M(yl,Se({class:["v-carousel-item",t.class]},r),{default:()=>[M(la,Se(i,s),n)]})})}}),yee=Pr("v-code","code"),bee=oe({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Ue()},"VColorPickerCanvas"),_ee=vs({name:"VColorPickerCanvas",props:bee(),emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const i=ke(!1),s=he(),r=ke(parseFloat(t.width)),a=ke(parseFloat(t.height)),o=he({x:0,y:0}),l=L({get:()=>o.value,set(p){var _,w;if(!s.value)return;const{x:v,y:b}=p;o.value=p,n("update:color",{h:((_=t.color)==null?void 0:_.h)??0,s:Rn(v,0,r.value)/r.value,v:1-Rn(b,0,a.value)/a.value,a:((w=t.color)==null?void 0:w.a)??1})}}),c=L(()=>{const{x:p,y:v}=l.value,b=parseInt(t.dotSize,10)/2;return{width:Ve(t.dotSize),height:Ve(t.dotSize),transform:`translate(${Ve(p-b)}, ${Ve(v-b)})`}}),{resizeRef:u}=Xs(p=>{var _;if(!((_=u.el)!=null&&_.offsetParent))return;const{width:v,height:b}=p[0].contentRect;r.value=v,a.value=b});function d(p,v,b){const{left:_,top:w,width:T,height:C}=b;l.value={x:Rn(p-_,0,T),y:Rn(v-w,0,C)}}function f(p){p.type==="mousedown"&&p.preventDefault(),!t.disabled&&(h(p),window.addEventListener("mousemove",h),window.addEventListener("mouseup",m),window.addEventListener("touchmove",h),window.addEventListener("touchend",m))}function h(p){if(t.disabled||!s.value)return;i.value=!0;const v=Dq(p);d(v.clientX,v.clientY,s.value.getBoundingClientRect())}function m(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",m)}function g(){var w;if(!s.value)return;const p=s.value,v=p.getContext("2d");if(!v)return;const b=v.createLinearGradient(0,0,p.width,0);b.addColorStop(0,"hsla(0, 0%, 100%, 1)"),b.addColorStop(1,`hsla(${((w=t.color)==null?void 0:w.h)??0}, 100%, 50%, 1)`),v.fillStyle=b,v.fillRect(0,0,p.width,p.height);const _=v.createLinearGradient(0,0,0,p.height);_.addColorStop(0,"hsla(0, 0%, 0%, 0)"),_.addColorStop(1,"hsla(0, 0%, 0%, 1)"),v.fillStyle=_,v.fillRect(0,0,p.width,p.height)}return Ie(()=>{var p;return(p=t.color)==null?void 0:p.h},g,{immediate:!0}),Ie(()=>[r.value,a.value],(p,v)=>{g(),o.value={x:l.value.x*p[0]/v[0],y:l.value.y*p[1]/v[1]}},{flush:"post"}),Ie(()=>t.color,()=>{if(i.value){i.value=!1;return}o.value=t.color?{x:t.color.s*r.value,y:(1-t.color.v)*a.value}:{x:0,y:0}},{deep:!0,immediate:!0}),On(()=>g()),Ce(()=>M("div",{ref:u,class:["v-color-picker-canvas",t.class],style:t.style,onMousedown:f,onTouchstartPassive:f},[M("canvas",{ref:s,width:r.value,height:a.value},null),t.color&&M("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:c.value},null)])),{}}});function xee(t,e){if(e){const{a:n,...i}=t;return i}return t}function wee(t,e){if(e==null||typeof e=="string"){const n=m2(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return zo(e,["r","g","b"])?n=oa(t):zo(e,["h","s","l"])?n=c2(t):zo(e,["h","s","v"])&&(n=t),xee(n,!zo(e,["a"])&&t.a===1)}return t}const xc={h:0,s:0,v:0,a:1},pb={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:oa,from:Tf};var mT;const See={...pb,inputs:(mT=pb.inputs)==null?void 0:mT.slice(0,3)},vb={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:c2,from:Xx},Mee={...vb,inputs:vb.inputs.slice(0,3)},YL={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:m2,from:sK},Cee={...YL,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},Qo={rgb:See,rgba:pb,hsl:Mee,hsla:vb,hex:Cee,hexa:YL},Tee=t=>{let{label:e,...n}=t;return M("div",{class:"v-color-picker-edit__input"},[M("input",n,null),M("span",null,[e])])},Eee=oe({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Qo).includes(t)},modes:{type:Array,default:()=>Object.keys(Qo),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Qo).includes(e))},...Ue()},"VColorPickerEdit"),Aee=vs({name:"VColorPickerEdit",props:Eee(),emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const i=L(()=>t.modes.map(r=>({...Qo[r],name:r}))),s=L(()=>{var o;const r=i.value.find(l=>l.name===t.mode);if(!r)return[];const a=t.color?r.to(t.color):null;return(o=r.inputs)==null?void 0:o.map(l=>{let{getValue:c,getColor:u,...d}=l;return{...r.inputProps,...d,disabled:t.disabled,value:a&&c(a),onChange:f=>{const h=f.target;h&&n("update:color",r.from(u(a??r.to(xc),h.value)))}}})});return Ce(()=>{var r;return M("div",{class:["v-color-picker-edit",t.class],style:t.style},[(r=s.value)==null?void 0:r.map(a=>M(Tee,a,null)),i.value.length>1&&M(Ft,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const a=i.value.findIndex(o=>o.name===t.mode);n("update:mode",i.value[(a+1)%i.value.length].name)}},null)])}),{}}}),_w=Symbol.for("vuetify:v-slider");function gb(t,e,n){const i=n==="vertical",s=e.getBoundingClientRect(),r="touches"in t?t.touches[0]:t;return i?r.clientY-(s.top+s.height/2):r.clientX-(s.left+s.width/2)}function Pee(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const qL=oe({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...fn(),...Hn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),KL=t=>{const e=L(()=>parseFloat(t.min)),n=L(()=>parseFloat(t.max)),i=L(()=>+t.step>0?parseFloat(t.step):0),s=L(()=>Math.max(pC(i.value),pC(e.value)));function r(a){if(a=parseFloat(a),i.value<=0)return a;const o=Rn(a,e.value,n.value),l=e.value%i.value,c=Math.round((o-l)/i.value)*i.value+l;return parseFloat(Math.min(c,n.value).toFixed(s.value))}return{min:e,max:n,step:i,decimals:s,roundValue:r}},ZL=t=>{let{props:e,steps:n,onSliderStart:i,onSliderMove:s,onSliderEnd:r,getActiveThumb:a}=t;const{isRtl:o}=zn(),l=ge(e,"reverse"),c=L(()=>e.direction==="vertical"),u=L(()=>c.value!==l.value),{min:d,max:f,step:h,decimals:m,roundValue:g}=n,p=L(()=>parseInt(e.thumbSize,10)),v=L(()=>parseInt(e.tickSize,10)),b=L(()=>parseInt(e.trackSize,10)),_=L(()=>(f.value-d.value)/h.value),w=ge(e,"disabled"),T=L(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),C=L(()=>e.error||e.disabled?void 0:e.trackColor??e.color),A=L(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),S=ke(!1),x=ke(0),y=he(),E=he();function P(ne){var Y;const de=e.direction==="vertical",ae=de?"top":"left",F=de?"height":"width",U=de?"clientY":"clientX",{[ae]:z,[F]:k}=(Y=y.value)==null?void 0:Y.$el.getBoundingClientRect(),R=Pee(ne,U);let I=Math.min(Math.max((R-z-x.value)/k,0),1)||0;return(de?u.value:u.value!==o.value)&&(I=1-I),g(d.value+I*(f.value-d.value))}const D=ne=>{r({value:P(ne)}),S.value=!1,x.value=0},N=ne=>{E.value=a(ne),E.value&&(S.value=!0,E.value.contains(ne.target)?x.value=gb(ne,E.value,e.direction):(x.value=0,s({value:P(ne)})),i({value:P(ne)}),Rt(()=>{var de;return(de=E.value)==null?void 0:de.focus()}))},W={passive:!0,capture:!0};function B(ne){s({value:P(ne)})}function q(ne){ne.stopPropagation(),ne.preventDefault(),D(ne),window.removeEventListener("mousemove",B,W),window.removeEventListener("mouseup",q)}function j(ne){var de;D(ne),window.removeEventListener("touchmove",B,W),(de=ne.target)==null||de.removeEventListener("touchend",j)}function Q(ne){var de;N(ne),window.addEventListener("touchmove",B,W),(de=ne.target)==null||de.addEventListener("touchend",j,{passive:!1})}function Z(ne){ne.preventDefault(),N(ne),window.addEventListener("mousemove",B,W),window.addEventListener("mouseup",q,{passive:!1})}const X=ne=>{const de=(ne-d.value)/(f.value-d.value)*100;return Rn(isNaN(de)?0:de,0,100)},ce=ge(e,"showTicks"),Me=L(()=>ce.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(ne=>({value:ne,position:X(ne),label:ne.toString()})):Object.keys(e.ticks).map(ne=>({value:parseFloat(ne),position:X(parseFloat(ne)),label:e.ticks[ne]})):_.value!==1/0?dr(_.value+1).map(ne=>{const de=d.value+ne*h.value;return{value:de,position:X(de)}}):[]:[]),ee=L(()=>Me.value.some(ne=>{let{label:de}=ne;return!!de})),pe={activeThumbRef:E,color:ge(e,"color"),decimals:m,disabled:w,direction:ge(e,"direction"),elevation:ge(e,"elevation"),hasLabels:ee,isReversed:l,indexFromEnd:u,min:d,max:f,mousePressed:S,numTicks:_,onSliderMousedown:Z,onSliderTouchstart:Q,parsedTicks:Me,parseMouseMove:P,position:X,readonly:ge(e,"readonly"),rounded:ge(e,"rounded"),roundValue:g,showTicks:ce,startOffset:x,step:h,thumbSize:p,thumbColor:T,thumbLabel:ge(e,"thumbLabel"),ticks:ge(e,"ticks"),tickSize:v,trackColor:C,trackContainerRef:y,trackFillColor:A,trackSize:b,vertical:c};return Qt(_w,pe),pe},Iee=oe({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ue()},"VSliderThumb"),yb=be()({name:"VSliderThumb",directives:{Ripple:ma},props:Iee(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=St(_w),{isRtl:r,rtlClasses:a}=zn();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:c,thumbSize:u,thumbLabel:d,direction:f,isReversed:h,vertical:m,readonly:g,elevation:p,mousePressed:v,decimals:b,indexFromEnd:_}=s,w=L(()=>c.value?void 0:p.value),{elevationClasses:T}=oi(w),{textColorClasses:C,textColorStyles:A}=ui(o),{pageup:S,pagedown:x,end:y,home:E,left:P,right:D,down:N,up:W}=Y0,B=[S,x,y,E,P,D,N,W],q=L(()=>l.value?[1,2,3]:[1,5,10]);function j(Z,X){if(!B.includes(Z.key))return;Z.preventDefault();const ce=l.value||.1,Me=(t.max-t.min)/ce;if([P,D,N,W].includes(Z.key)){const pe=(m.value?[r.value?P:D,h.value?N:W]:_.value!==r.value?[P,W]:[D,W]).includes(Z.key)?1:-1,ne=Z.shiftKey?2:Z.ctrlKey?1:0;X=X+pe*ce*q.value[ne]}else if(Z.key===E)X=t.min;else if(Z.key===y)X=t.max;else{const ee=Z.key===x?1:-1;X=X-ee*ce*(Me>100?Me/10:10)}return Math.max(t.min,Math.min(t.max,X))}function Q(Z){const X=j(Z,t.modelValue);X!=null&&i("update:modelValue",X)}return Ce(()=>{const Z=Ve(_.value?100-t.position:t.position,"%");return M("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&v.value},t.class,a.value],style:[{"--v-slider-thumb-position":Z,"--v-slider-thumb-size":Ve(u.value)},t.style],role:"slider",tabindex:c.value?-1:0,"aria-label":t.name,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!g.value,"aria-orientation":f.value,onKeydown:g.value?void 0:Q},[M("div",{class:["v-slider-thumb__surface",C.value,T.value],style:{...A.value}},null),tt(M("div",{class:["v-slider-thumb__ripple",C.value],style:A.value},null),[[Sn("ripple"),t.ripple,null,{circle:!0,center:!0}]]),M(tw,{origin:"bottom center"},{default:()=>{var X;return[tt(M("div",{class:"v-slider-thumb__label-container"},[M("div",{class:["v-slider-thumb__label"]},[M("div",null,[((X=n["thumb-label"])==null?void 0:X.call(n,{modelValue:t.modelValue}))??t.modelValue.toFixed(l.value?b.value:1)])])]),[[Rs,d.value&&t.focused||d.value==="always"]])]}})])}),{}}}),Ree=oe({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ue()},"VSliderTrack"),JL=be()({name:"VSliderTrack",props:Ree(),emits:{},setup(t,e){let{slots:n}=e;const i=St(_w);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:r,rounded:a,showTicks:o,tickSize:l,trackColor:c,trackFillColor:u,trackSize:d,vertical:f,min:h,max:m,indexFromEnd:g}=i,{roundedClasses:p}=bn(a),{backgroundColorClasses:v,backgroundColorStyles:b}=Jt(u),{backgroundColorClasses:_,backgroundColorStyles:w}=Jt(c),T=L(()=>`inset-${f.value?"block":"inline"}-${g.value?"end":"start"}`),C=L(()=>f.value?"height":"width"),A=L(()=>({[T.value]:"0%",[C.value]:"100%"})),S=L(()=>t.stop-t.start),x=L(()=>({[T.value]:Ve(t.start,"%"),[C.value]:Ve(S.value,"%")})),y=L(()=>o.value?(f.value?r.value.slice().reverse():r.value).map((P,D)=>{var W;const N=P.value!==h.value&&P.value!==m.value?Ve(P.position,"%"):void 0;return M("div",{key:P.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":P.position>=t.start&&P.position<=t.stop,"v-slider-track__tick--first":P.value===h.value,"v-slider-track__tick--last":P.value===m.value}],style:{[T.value]:N}},[(P.label||n["tick-label"])&&M("div",{class:"v-slider-track__tick-label"},[((W=n["tick-label"])==null?void 0:W.call(n,{tick:P,index:D}))??P.label])])}):[]);return Ce(()=>M("div",{class:["v-slider-track",p.value,t.class],style:[{"--v-slider-track-size":Ve(d.value),"--v-slider-tick-size":Ve(l.value)},t.style]},[M("div",{class:["v-slider-track__background",_.value,{"v-slider-track__background--opacity":!!s.value||!u.value}],style:{...A.value,...w.value}},null),M("div",{class:["v-slider-track__fill",v.value],style:{...x.value,...b.value}},null),o.value&&M("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[y.value])])),{}}}),Lee=oe({...kf(),...qL(),...va(),modelValue:{type:[Number,String],default:0}},"VSlider"),bb=be()({name:"VSlider",props:Lee(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=he(),{rtlClasses:r}=zn(),a=KL(t),o=Ke(t,"modelValue",void 0,C=>a.roundValue(C??a.min.value)),{min:l,max:c,mousePressed:u,roundValue:d,onSliderMousedown:f,onSliderTouchstart:h,trackContainerRef:m,position:g,hasLabels:p,readonly:v}=ZL({props:t,steps:a,onSliderStart:()=>{i("start",o.value)},onSliderEnd:C=>{let{value:A}=C;const S=d(A);o.value=S,i("end",S)},onSliderMove:C=>{let{value:A}=C;return o.value=d(A)},getActiveThumb:()=>{var C;return(C=s.value)==null?void 0:C.$el}}),{isFocused:b,focus:_,blur:w}=pa(t),T=L(()=>g(o.value));return Ce(()=>{const C=di.filterProps(t),A=!!(t.label||n.label||n.prepend);return M(di,Se({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":b.value,"v-slider--pressed":u.value,"v-slider--disabled":t.disabled},r.value,t.class],style:t.style},C,{focused:b.value}),{...n,prepend:A?S=>{var x,y;return M($e,null,[((x=n.label)==null?void 0:x.call(n,S))??(t.label?M(fu,{id:S.id.value,class:"v-slider__label",text:t.label},null):void 0),(y=n.prepend)==null?void 0:y.call(n,S)])}:void 0,default:S=>{let{id:x,messagesId:y}=S;return M("div",{class:"v-slider__container",onMousedown:v.value?void 0:f,onTouchstartPassive:v.value?void 0:h},[M("input",{id:x.value,name:t.name||x.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:o.value},null),M(JL,{ref:m,start:0,stop:T.value},{"tick-label":n["tick-label"]}),M(yb,{ref:s,"aria-describedby":y.value,focused:b.value,min:l.value,max:c.value,modelValue:o.value,"onUpdate:modelValue":E=>o.value=E,position:T.value,elevation:t.elevation,onFocus:_,onBlur:w,ripple:t.ripple,name:t.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),kee=oe({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Ue()},"VColorPickerPreview"),Dee=vs({name:"VColorPickerPreview",props:kee(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;const i=new AbortController;qs(()=>i.abort());async function s(){if(!dC)return;const r=new window.EyeDropper;try{const a=await r.open({signal:i.signal}),o=Tf(ds(a.sRGBHex));n("update:color",{...t.color??xc,...o})}catch{}}return Ce(()=>{var r,a;return M("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha},t.class],style:t.style},[dC&&M("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[M(Ft,{onClick:s,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),M("div",{class:"v-color-picker-preview__dot"},[M("div",{style:{background:d2(t.color??xc)}},null)]),M("div",{class:"v-color-picker-preview__sliders"},[M(bb,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=t.color)==null?void 0:r.h,"onUpdate:modelValue":o=>n("update:color",{...t.color??xc,h:o}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&M(bb,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((a=t.color)==null?void 0:a.a)??1,"onUpdate:modelValue":o=>n("update:color",{...t.color??xc,a:o}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Oee={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Nee={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Vee={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Fee={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Bee={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Uee={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},zee={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Hee={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Gee={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},Wee={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},$ee={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},jee={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Xee={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Yee={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},qee={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Kee={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Zee={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Jee={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Qee={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},ete={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},tte={red:Oee,pink:Nee,purple:Vee,deepPurple:Fee,indigo:Bee,blue:Uee,lightBlue:zee,cyan:Hee,teal:Gee,green:Wee,lightGreen:$ee,lime:jee,yellow:Xee,amber:Yee,orange:qee,deepOrange:Kee,brown:Zee,blueGrey:Jee,grey:Qee,shades:ete},nte=oe({swatches:{type:Array,default:()=>ite(tte)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Ue()},"VColorPickerSwatches");function ite(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const ste=vs({name:"VColorPickerSwatches",props:nte(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return Ce(()=>M("div",{class:["v-color-picker-swatches",t.class],style:[{maxHeight:Ve(t.maxHeight)},t.style]},[M("div",null,[t.swatches.map(i=>M("div",{class:"v-color-picker-swatches__swatch"},[i.map(s=>{const r=ds(s),a=Tf(r),o=u2(r);return M("div",{class:"v-color-picker-swatches__color",onClick:()=>a&&n("update:color",a)},[M("div",{style:{background:o}},[t.color&&Er(t.color,a)?M(Bt,{size:"x-small",icon:"$success",color:lK(s,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),Kv=oe({color:String,...is(),...Ue(),...Nn(),...Hn(),...ha(),...uu(),...fn(),...ht(),...It()},"VSheet"),bl=be()({name:"VSheet",props:Kv(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t),{backgroundColorClasses:s,backgroundColorStyles:r}=Jt(ge(t,"color")),{borderClasses:a}=ys(t),{dimensionStyles:o}=Vn(t),{elevationClasses:l}=oi(t),{locationStyles:c}=Vl(t),{positionClasses:u}=du(t),{roundedClasses:d}=bn(t);return Ce(()=>M(t.tag,{class:["v-sheet",i.value,s.value,a.value,l.value,u.value,d.value,t.class],style:[r.value,o.value,c.value,t.style]},n)),{}}}),rte=oe({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Qo).includes(t)},modes:{type:Array,default:()=>Object.keys(Qo),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Qo).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Dn(Kv({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),ate=vs({name:"VColorPicker",props:rte(),emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=Ke(t,"mode"),n=he(null),i=Ke(t,"modelValue",void 0,l=>{if(l==null||l==="")return null;let c;try{c=Tf(ds(l))}catch{return null}return c},l=>l?wee(l,t.modelValue):null),s=L(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:r}=zn();let a=!0;Ie(i,l=>{if(!a){a=!0;return}l&&(n.value=l.h)},{immediate:!0});const o=l=>{a=!1,n.value=l.h,i.value=l};return Qc(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),gn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Ce(()=>{const l=bl.filterProps(t);return M(bl,Se({rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker",r.value,t.class],style:[{"--v-color-picker-color-hsv":d2({...s.value??xc,a:1})},t.style]},l,{maxWidth:t.width}),{default:()=>[!t.hideCanvas&&M(_ee,{key:"canvas",color:s.value,"onUpdate:color":o,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&M("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&M(Dee,{key:"preview",color:s.value,"onUpdate:color":o,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&M(Aee,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":c=>e.value=c,color:s.value,"onUpdate:color":o,disabled:t.disabled},null)]),t.showSwatches&&M(ste,{key:"swatches",color:s.value,"onUpdate:color":o,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}});function ote(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?M($e,null,[M("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),M("span",{class:"v-combobox__mask"},[t.substr(e,n)]),M("span",{class:"v-combobox__unmask"},[t.substr(e+n)])]):t}const lte=oe({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Vf({filterKeys:["title"]}),...gw({hideNoData:!0,returnObject:!0}),...Dn(jv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...er({transition:!1})},"VCombobox"),cte=be()({name:"VCombobox",props:lte(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var k;let{emit:n,slots:i}=e;const{t:s}=Mn(),r=he(),a=ke(!1),o=ke(!0),l=ke(!1),c=he(),u=he(),d=Ke(t,"menu"),f=L({get:()=>d.value,set:R=>{var I;d.value&&!R&&((I=c.value)!=null&&I.openChildren.size)||(d.value=R)}}),h=ke(-1);let m=!1;const g=L(()=>{var R;return(R=r.value)==null?void 0:R.color}),p=L(()=>f.value?t.closeText:t.openText),{items:v,transformIn:b,transformOut:_}=uw(t),{textColorClasses:w,textColorStyles:T}=ui(g),C=Ke(t,"modelValue",[],R=>b(mn(R)),R=>{const I=_(R);return t.multiple?I:I[0]??null}),A=Gv(t),S=L(()=>!!(t.chips||i.chip)),x=L(()=>S.value||!!i.selection),y=ke(!t.multiple&&!x.value?((k=C.value[0])==null?void 0:k.title)??"":""),E=L({get:()=>y.value,set:R=>{var I;if(y.value=R??"",!t.multiple&&!x.value&&(C.value=[Va(t,R)]),R&&t.multiple&&((I=t.delimiters)!=null&&I.length)){const Y=R.split(new RegExp(`(?:${t.delimiters.join("|")})+`));Y.length>1&&(Y.forEach($=>{$=$.trim(),$&&ae(Va(t,$))}),y.value="")}R||(h.value=-1),o.value=!R}}),P=L(()=>typeof t.counterValue=="function"?t.counterValue(C.value):typeof t.counterValue=="number"?t.counterValue:t.multiple?C.value.length:E.value.length);Ie(y,R=>{m?Rt(()=>m=!1):a.value&&!f.value&&(f.value=!0),n("update:search",R)}),Ie(C,R=>{var I;!t.multiple&&!x.value&&(y.value=((I=R[0])==null?void 0:I.title)??"")});const{filteredItems:D,getMatches:N}=Ff(t,v,()=>o.value?"":E.value),W=L(()=>t.hideSelected?D.value.filter(R=>!C.value.some(I=>I.value===R.value)):D.value),B=L(()=>C.value.map(R=>R.value)),q=L(()=>{var I;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&E.value===((I=W.value[0])==null?void 0:I.title))&&W.value.length>0&&!o.value&&!l.value}),j=L(()=>t.hideNoData&&!W.value.length||A.isReadonly.value||A.isDisabled.value),Q=he(),Z=vw(Q,r);function X(R){m=!0,t.openOnClear&&(f.value=!0)}function ce(){j.value||(f.value=!0)}function Me(R){j.value||(a.value&&(R.preventDefault(),R.stopPropagation()),f.value=!f.value)}function ee(R){var I;R.key!==" "&&Yc(R)&&((I=r.value)==null||I.focus())}function pe(R){var $;if(Iq(R)||A.isReadonly.value)return;const I=r.value.selectionStart,Y=C.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(R.key)&&R.preventDefault(),["Enter","ArrowDown"].includes(R.key)&&(f.value=!0),["Escape"].includes(R.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(R.key)&&(q.value&&["Enter","Tab"].includes(R.key)&&!C.value.some(J=>{let{value:se}=J;return se===W.value[0].value})&&ae(D.value[0]),o.value=!0),R.key==="ArrowDown"&&q.value&&(($=Q.value)==null||$.focus("next")),R.key==="Enter"&&E.value&&(ae(Va(t,E.value)),x.value&&(y.value="")),["Backspace","Delete"].includes(R.key)){if(!t.multiple&&x.value&&C.value.length>0&&!E.value)return ae(C.value[0],!1);if(~h.value){R.preventDefault();const J=h.value;ae(C.value[h.value],!1),h.value=J>=Y-1?Y-2:J}else R.key==="Backspace"&&!E.value&&(h.value=Y-1);return}if(t.multiple)if(R.key==="ArrowLeft"){if(h.value<0&&I>0)return;const J=h.value>-1?h.value-1:Y-1;C.value[J]?h.value=J:(h.value=-1,r.value.setSelectionRange(E.value.length,E.value.length))}else if(R.key==="ArrowRight"){if(h.value<0)return;const J=h.value+1;C.value[J]?h.value=J:(h.value=-1,r.value.setSelectionRange(0,0))}else~h.value&&Yc(R)&&(h.value=-1)}function ne(){var R;t.eager&&((R=u.value)==null||R.calculateVisibleItems())}function de(){var R;a.value&&(o.value=!0,(R=r.value)==null||R.focus())}function ae(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!R||R.props.disabled))if(t.multiple){const Y=C.value.findIndex(J=>t.valueComparator(J.value,R.value)),$=I??!~Y;if(~Y){const J=$?[...C.value,R]:[...C.value];J.splice(Y,1),C.value=J}else $&&(C.value=[...C.value,R]);t.clearOnSelect&&(E.value="")}else{const Y=I!==!1;C.value=Y?[R]:[],y.value=Y&&!x.value?R.title:"",Rt(()=>{f.value=!1,o.value=!0})}}function F(R){a.value=!0,setTimeout(()=>{l.value=!0})}function U(R){l.value=!1}function z(R){(R==null||R===""&&!t.multiple&&!x.value)&&(C.value=[])}return Ie(a,(R,I)=>{if(!(R||R===I)&&(h.value=-1,f.value=!1,E.value)){if(t.multiple){ae(Va(t,E.value));return}if(!x.value)return;C.value.some(Y=>{let{title:$}=Y;return $===E.value})?y.value="":ae(Va(t,E.value))}}),Ie(f,()=>{if(!t.hideSelected&&f.value&&C.value.length){const R=W.value.findIndex(I=>C.value.some(Y=>t.valueComparator(Y.value,I.value)));Ot&&window.requestAnimationFrame(()=>{var I;R>=0&&((I=u.value)==null||I.scrollToIndex(R))})}}),Ie(()=>t.items,(R,I)=>{f.value||a.value&&!I.length&&R.length&&(f.value=!0)}),Ce(()=>{const R=!!(!t.hideNoData||W.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),I=C.value.length>0,Y=vl.filterProps(t);return M(vl,Se({ref:r},Y,{modelValue:E.value,"onUpdate:modelValue":[$=>E.value=$,z],focused:a.value,"onUpdate:focused":$=>a.value=$,validationValue:C.externalValue,counterValue:P.value,dirty:I,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!x.value,"v-combobox--selecting-index":h.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:A.isReadonly.value,placeholder:I?void 0:t.placeholder,"onClick:clear":X,"onMousedown:control":ce,onKeydown:pe}),{...i,default:()=>M($e,null,[M(Jc,Se({ref:c,modelValue:f.value,"onUpdate:modelValue":$=>f.value=$,activator:"parent",contentClass:"v-combobox__content",disabled:j.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:ne,onAfterLeave:de},t.menuProps),{default:()=>[R&&M(Wv,Se({ref:Q,selected:B.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:$=>$.preventDefault(),onKeydown:ee,onFocusin:F,onFocusout:U,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Z,t.listProps),{default:()=>{var $,J,se;return[($=i["prepend-item"])==null?void 0:$.call(i),!W.value.length&&!t.hideNoData&&(((J=i["no-data"])==null?void 0:J.call(i))??M(ua,{key:"no-data",title:s(t.noDataText)},null)),M(Xv,{ref:u,renderless:!0,items:W.value},{default:me=>{var le;let{item:re,index:V,itemRef:O}=me;const K=Se(re.props,{ref:O,key:re.value,active:q.value&&V===0?!0:void 0,onClick:()=>ae(re,null)});return((le=i.item)==null?void 0:le.call(i,{item:re,index:V,props:K}))??M(ua,Se(K,{role:"option"}),{prepend:ye=>{let{isSelected:ve}=ye;return M($e,null,[t.multiple&&!t.hideSelected?M(ca,{key:re.value,modelValue:ve,ripple:!1,tabindex:"-1"},null):void 0,re.props.prependAvatar&&M(Is,{image:re.props.prependAvatar},null),re.props.prependIcon&&M(Bt,{icon:re.props.prependIcon},null)])},title:()=>{var ye,ve;return o.value?re.title:ote(re.title,(ye=N(re))==null?void 0:ye.title,((ve=E.value)==null?void 0:ve.length)??0)}})}}),(se=i["append-item"])==null?void 0:se.call(i)]}})]}),C.value.map(($,J)=>{function se(O){O.stopPropagation(),O.preventDefault(),ae($,!1)}const me={"onClick:close":se,onKeydown(O){O.key!=="Enter"&&O.key!==" "||(O.preventDefault(),O.stopPropagation(),se(O))},onMousedown(O){O.preventDefault(),O.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},re=S.value?!!i.chip:!!i.selection,V=re?Lv(S.value?i.chip({item:$,index:J,props:me}):i.selection({item:$,index:J})):void 0;if(!(re&&!V))return M("div",{key:$.value,class:["v-combobox__selection",J===h.value&&["v-combobox__selection--selected",w.value]],style:J===h.value?T.value:{}},[S.value?i.chip?M(_t,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:$.title}}},{default:()=>[V]}):M(hu,Se({key:"chip",closable:t.closableChips,size:"small",text:$.title,disabled:$.props.disabled},me),null):V??M("span",{class:"v-combobox__selection-text"},[$.title,t.multiple&&J<C.value.length-1&&M("span",{class:"v-combobox__selection-comma"},[Pn(",")])])])})]),"append-inner":function(){var me;for(var $=arguments.length,J=new Array($),se=0;se<$;se++)J[se]=arguments[se];return M($e,null,[(me=i["append-inner"])==null?void 0:me.call(i,...J),(!t.hideNoData||t.items.length)&&t.menuIcon?M(Bt,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:Me,onClick:i2,"aria-label":s(p.value),title:s(p.value),tabindex:"-1"},null):void 0])}})}),Ds({isFocused:a,isPristine:o,menu:f,search:E,selectionIndex:h,filteredItems:D,select:ae},r)}}),ute=oe({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),dte=be()({name:"VConfirmEdit",props:ute(),emits:{cancel:()=>!0,save:t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ke(t,"modelValue"),r=he();Zt(()=>{r.value=structuredClone(rt(s.value))});const{t:a}=Mn(),o=L(()=>Er(s.value,r.value));function l(){s.value=r.value,n("save",r.value)}function c(){r.value=structuredClone(rt(s.value)),n("cancel")}function u(f){return M($e,null,[M(Ft,Se({disabled:o.value,variant:"text",color:t.color,onClick:c,text:a(t.cancelText)},f),null),M(Ft,Se({disabled:o.value,variant:"text",color:t.color,onClick:l,text:a(t.okText)},f),null)])}let d=!1;return Ce(()=>{var f;return M($e,null,[(f=i.default)==null?void 0:f.call(i,{model:r,save:l,cancel:c,isPristine:o.value,get actions(){return d=!0,u}}),!d&&u()])}),{save:l,cancel:c,isPristine:o}}}),QL=oe({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),ek=Symbol.for("vuetify:datatable:expanded");function Zv(t){const e=ge(t,"expandOnClick"),n=Ke(t,"expanded",t.expanded,o=>new Set(o),o=>[...o.values()]);function i(o,l){const c=new Set(n.value);l?c.add(o.value):c.delete(o.value),n.value=c}function s(o){return n.value.has(o.value)}function r(o){i(o,!s(o))}const a={expand:i,expanded:n,expandOnClick:e,isExpanded:s,toggleExpand:r};return Qt(ek,a),a}function tk(){const t=St(ek);if(!t)throw new Error("foo");return t}const xw=oe({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),nk=Symbol.for("vuetify:data-table-group");function ww(t){return{groupBy:Ke(t,"groupBy")}}function Jv(t){const{disableSort:e,groupBy:n,sortBy:i}=t,s=he(new Set),r=L(()=>n.value.map(u=>({...u,order:u.order??!1})).concat(e!=null&&e.value?[]:i.value));function a(u){return s.value.has(u.id)}function o(u){const d=new Set(s.value);a(u)?d.delete(u.id):d.add(u.id),s.value=d}function l(u){function d(f){const h=[];for(const m of f.items)"type"in m&&m.type==="group"?h.push(...d(m)):h.push(m);return[...new Set(h)]}return d({items:u})}const c={sortByWithGroups:r,toggleGroup:o,opened:s,groupBy:n,extractRows:l,isGroupOpen:a};return Qt(nk,c),c}function ik(){const t=St(nk);if(!t)throw new Error("Missing group!");return t}function fte(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const s=pl(i.raw,e);n.has(s)||n.set(s,[]),n.get(s).push(i)}return n}function sk(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const s=fte(t,e[0]),r=[],a=e.slice(1);return s.forEach((o,l)=>{const c=e[0],u=`${i}_${c}_${l}`;r.push({depth:n,id:u,key:c,value:l,items:a.length?sk(o,a,n+1,u):o,type:"group"})}),r}function rk(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...rk(i.items,e))):n.push(i);return n}function Qv(t,e,n){return{flatItems:L(()=>{if(!e.value.length)return t.value;const s=sk(t.value,e.value.map(r=>r.key));return rk(s,n.value)})}}function eg(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:s,search:r}=t;const a=yn("VDataTable"),o=L(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:s.value,search:r.value}));let l=null;Ie(o,()=>{Er(l,o.value)||(l&&l.search!==o.value.search&&(e.value=1),a.emit("update:options",o.value),l=o.value)},{deep:!0,immediate:!0})}const Sw=oe({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),ak=Symbol.for("vuetify:data-table-pagination");function Mw(t){const e=Ke(t,"page",void 0,i=>+(i??1)),n=Ke(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function Cw(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,s=L(()=>n.value===-1?0:n.value*(e.value-1)),r=L(()=>n.value===-1?i.value:Math.min(i.value,s.value+n.value)),a=L(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));Ie([e,a],()=>{e.value>a.value&&(e.value=a.value)});function o(f){n.value=f,e.value=1}function l(){e.value=Rn(e.value+1,1,a.value)}function c(){e.value=Rn(e.value-1,1,a.value)}function u(f){e.value=Rn(f,1,a.value)}const d={page:e,itemsPerPage:n,startIndex:s,stopIndex:r,pageCount:a,itemsLength:i,nextPage:l,prevPage:c,setPage:u,setItemsPerPage:o};return Qt(ak,d),d}function hte(){const t=St(ak);if(!t)throw new Error("Missing pagination!");return t}function ok(t){const e=yn("usePaginatedItems"),{items:n,startIndex:i,stopIndex:s,itemsPerPage:r}=t,a=L(()=>r.value<=0?n.value:n.value.slice(i.value,s.value));return Ie(a,o=>{e.emit("update:currentItems",o)},{immediate:!0}),{paginatedItems:a}}const mte={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},lk={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return lk.select({items:n,value:e,selected:i})}},ck={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return ck.select({items:n,value:e,selected:i})}},uk=oe({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Er}},"DataTable-select"),dk=Symbol.for("vuetify:data-table-selection");function tg(t,e){let{allItems:n,currentPage:i}=e;const s=Ke(t,"modelValue",t.modelValue,v=>new Set(mn(v).map(b=>{var _;return((_=n.value.find(w=>t.valueComparator(b,w.value)))==null?void 0:_.value)??b})),v=>[...v.values()]),r=L(()=>n.value.filter(v=>v.selectable)),a=L(()=>i.value.filter(v=>v.selectable)),o=L(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return mte;case"all":return ck;case"page":default:return lk}});function l(v){return mn(v).every(b=>s.value.has(b.value))}function c(v){return mn(v).some(b=>s.value.has(b.value))}function u(v,b){const _=o.value.select({items:v,value:b,selected:new Set(s.value)});s.value=_}function d(v){u([v],!l([v]))}function f(v){const b=o.value.selectAll({value:v,allItems:r.value,currentPage:a.value,selected:new Set(s.value)});s.value=b}const h=L(()=>s.value.size>0),m=L(()=>{const v=o.value.allSelected({allItems:r.value,currentPage:a.value});return!!v.length&&l(v)}),g=L(()=>o.value.showSelectAll),p={toggleSelect:d,select:u,selectAll:f,isSelected:l,isSomeSelected:c,someSelected:h,allSelected:m,showSelectAll:g};return Qt(dk,p),p}function ng(){const t=St(dk);if(!t)throw new Error("Missing selection!");return t}const fk=oe({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),hk=Symbol.for("vuetify:data-table-sort");function ig(t){const e=Ke(t,"sortBy"),n=ge(t,"mustSort"),i=ge(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function sg(t){const{sortBy:e,mustSort:n,multiSort:i,page:s}=t,r=l=>{if(l.key==null)return;let c=e.value.map(d=>({...d}))??[];const u=c.find(d=>d.key===l.key);u?u.order==="desc"?n.value?u.order="asc":c=c.filter(d=>d.key!==l.key):u.order="desc":i.value?c=[...c,{key:l.key,order:"asc"}]:c=[{key:l.key,order:"asc"}],e.value=c,s&&(s.value=1)};function a(l){return!!e.value.find(c=>c.key===l.key)}const o={sortBy:e,toggleSort:r,isSorted:a};return Qt(hk,o),o}function mk(){const t=St(hk);if(!t)throw new Error("Missing sort!");return t}function Tw(t,e,n,i){const s=Mn();return{sortedItems:L(()=>{var a,o;return n.value.length?pte(e.value,n.value,s.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...t.customKeySort,...(a=i==null?void 0:i.sortFunctions)==null?void 0:a.value},sortRawFunctions:(o=i==null?void 0:i.sortRawFunctions)==null?void 0:o.value}):e.value})}}function pte(t,e,n,i){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return t.map(a=>[a,i!=null&&i.transform?i.transform(a):a]).sort((a,o)=>{var l,c;for(let u=0;u<e.length;u++){let d=!1;const f=e[u].key,h=e[u].order??"asc";if(h===!1)continue;let m=pl(a[1],f),g=pl(o[1],f),p=a[0].raw,v=o[0].raw;if(h==="desc"&&([m,g]=[g,m],[p,v]=[v,p]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[f]){const b=i.sortRawFunctions[f](p,v);if(b==null)continue;if(d=!0,b)return b}if((c=i==null?void 0:i.sortFunctions)!=null&&c[f]){const b=i.sortFunctions[f](m,g);if(b==null)continue;if(d=!0,b)return b}if(!d){if(m instanceof Date&&g instanceof Date)return m.getTime()-g.getTime();if([m,g]=[m,g].map(b=>b!=null?b.toString().toLocaleLowerCase():b),m!==g)return Yh(m)&&Yh(g)?0:Yh(m)?-1:Yh(g)?1:!isNaN(m)&&!isNaN(g)?Number(m)-Number(g):s.compare(m,g)}}return 0}).map(a=>{let[o]=a;return o})}const vte=oe({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function gte(t,e){const n=t.returnObject?e:Un(e,t.itemValue),i=Un(e,t.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:e}}function yte(t,e){const n=[];for(const i of e)n.push(gte(t,i));return n}function bte(t){return{items:L(()=>yte(t,t.items))}}const _te=oe({search:String,loading:Boolean,...Ue(),...vte(),...uk(),...fk(),...Sw({itemsPerPage:5}),...QL(),...xw(),...Vf(),...ht(),...er({transition:{component:zd,hideOnLeave:!0}})},"VDataIterator"),xte=be()({name:"VDataIterator",props:_te(),emits:{"update:modelValue":t=>!0,"update:groupBy":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"groupBy"),s=ge(t,"search"),{items:r}=bte(t),{filteredItems:a}=Ff(t,r,s,{transform:X=>X.raw}),{sortBy:o,multiSort:l,mustSort:c}=ig(t),{page:u,itemsPerPage:d}=Mw(t),{toggleSort:f}=sg({sortBy:o,multiSort:l,mustSort:c,page:u}),{sortByWithGroups:h,opened:m,extractRows:g,isGroupOpen:p,toggleGroup:v}=Jv({groupBy:i,sortBy:o}),{sortedItems:b}=Tw(t,a,h,{transform:X=>X.raw}),{flatItems:_}=Qv(b,i,m),w=L(()=>_.value.length),{startIndex:T,stopIndex:C,pageCount:A,prevPage:S,nextPage:x,setItemsPerPage:y,setPage:E}=Cw({page:u,itemsPerPage:d,itemsLength:w}),{paginatedItems:P}=ok({items:_,startIndex:T,stopIndex:C,itemsPerPage:d}),D=L(()=>g(P.value)),{isSelected:N,select:W,selectAll:B,toggleSelect:q}=tg(t,{allItems:r,currentPage:D}),{isExpanded:j,toggleExpand:Q}=Zv(t);eg({page:u,itemsPerPage:d,sortBy:o,groupBy:i,search:s});const Z=L(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:A.value,toggleSort:f,prevPage:S,nextPage:x,setPage:E,setItemsPerPage:y,isSelected:N,select:W,selectAll:B,toggleSelect:q,isExpanded:j,toggleExpand:Q,isGroupOpen:p,toggleGroup:v,items:D.value,groupedItems:P.value}));return Ce(()=>M(t.tag,{class:["v-data-iterator",{"v-data-iterator--loading":t.loading},t.class],style:t.style},{default:()=>{var X,ce;return[(X=n.header)==null?void 0:X.call(n,Z.value),M(bi,{transition:t.transition},{default:()=>{var Me,ee;return[t.loading?M(If,{key:"loader",name:"v-data-iterator",active:!0},{default:pe=>{var ne;return(ne=n.loader)==null?void 0:ne.call(n,pe)}}):M("div",{key:"items"},[P.value.length?(ee=n.default)==null?void 0:ee.call(n,Z.value):(Me=n["no-data"])==null?void 0:Me.call(n)])]}}),(ce=n.footer)==null?void 0:ce.call(n,Z.value)]}})),{}}});function wte(){const t=he([]);rE(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const Ste=oe({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:Ze,default:"$first"},prevIcon:{type:Ze,default:"$prev"},nextIcon:{type:Ze,default:"$next"},lastIcon:{type:Ze,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...is(),...Ue(),...Kn(),...Hn(),...fn(),...Ir(),...ht({tag:"nav"}),...It(),...ks({variant:"text"})},"VPagination"),_b=be()({name:"VPagination",props:Ste(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Ke(t,"modelValue"),{t:r,n:a}=Mn(),{isRtl:o}=zn(),{themeClasses:l}=Ut(t),{width:c}=Ls(),u=ke(-1);gn(void 0,{scoped:!0});const{resizeRef:d}=Xs(S=>{if(!S.length)return;const{target:x,contentRect:y}=S[0],E=x.querySelector(".v-pagination__list > *");if(!E)return;const P=y.width,D=E.offsetWidth+parseFloat(getComputedStyle(E).marginRight)*2;u.value=g(P,D)}),f=L(()=>parseInt(t.length,10)),h=L(()=>parseInt(t.start,10)),m=L(()=>t.totalVisible!=null?parseInt(t.totalVisible,10):u.value>=0?u.value:g(c.value,58));function g(S,x){const y=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-x*y)/x).toFixed(2)))}const p=L(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(m.value<=0)return[];if(m.value===1)return[s.value];if(f.value<=m.value)return dr(f.value,h.value);const S=m.value%2===0,x=S?m.value/2:Math.floor(m.value/2),y=S?x:x+1,E=f.value-x;if(y-s.value>=0)return[...dr(Math.max(1,m.value-1),h.value),t.ellipsis,f.value];if(s.value-E>=(S?1:0)){const P=m.value-1,D=f.value-P+h.value;return[h.value,t.ellipsis,...dr(P,D)]}else{const P=Math.max(1,m.value-2),D=P===1?s.value:s.value-Math.ceil(P/2)+h.value;return[h.value,t.ellipsis,...dr(P,D),t.ellipsis,f.value]}});function v(S,x,y){S.preventDefault(),s.value=x,y&&i(y,x)}const{refs:b,updateRef:_}=wte();gn({VPaginationBtn:{color:ge(t,"color"),border:ge(t,"border"),density:ge(t,"density"),size:ge(t,"size"),variant:ge(t,"variant"),rounded:ge(t,"rounded"),elevation:ge(t,"elevation")}});const w=L(()=>p.value.map((S,x)=>{const y=E=>_(E,x);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${x}`,page:S,props:{ref:y,ellipsis:!0,icon:!0,disabled:!0}};{const E=S===s.value;return{isActive:E,key:S,page:a(S),props:{ref:y,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:E?t.activeColor:t.color,"aria-current":E,"aria-label":r(E?t.currentPageAriaLabel:t.pageAriaLabel,S),onClick:P=>v(P,S)}}}})),T=L(()=>{const S=!!t.disabled||s.value<=h.value,x=!!t.disabled||s.value>=h.value+f.value-1;return{first:t.showFirstLastPage?{icon:o.value?t.lastIcon:t.firstIcon,onClick:y=>v(y,h.value,"first"),disabled:S,"aria-label":r(t.firstAriaLabel),"aria-disabled":S}:void 0,prev:{icon:o.value?t.nextIcon:t.prevIcon,onClick:y=>v(y,s.value-1,"prev"),disabled:S,"aria-label":r(t.previousAriaLabel),"aria-disabled":S},next:{icon:o.value?t.prevIcon:t.nextIcon,onClick:y=>v(y,s.value+1,"next"),disabled:x,"aria-label":r(t.nextAriaLabel),"aria-disabled":x},last:t.showFirstLastPage?{icon:o.value?t.firstIcon:t.lastIcon,onClick:y=>v(y,h.value+f.value-1,"last"),disabled:x,"aria-label":r(t.lastAriaLabel),"aria-disabled":x}:void 0}});function C(){var x;const S=s.value-h.value;(x=b.value[S])==null||x.$el.focus()}function A(S){S.key===Y0.left&&!t.disabled&&s.value>+t.start?(s.value=s.value-1,Rt(C)):S.key===Y0.right&&!t.disabled&&s.value<h.value+f.value-1&&(s.value=s.value+1,Rt(C))}return Ce(()=>M(t.tag,{ref:d,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":r(t.ariaLabel),onKeydown:A,"data-test":"v-pagination-root"},{default:()=>[M("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&M("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(T.value.first):M(Ft,Se({_as:"VPaginationBtn"},T.value.first),null)]),M("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(T.value.prev):M(Ft,Se({_as:"VPaginationBtn"},T.value.prev),null)]),w.value.map((S,x)=>M("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(S):M(Ft,Se({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),M("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(T.value.next):M(Ft,Se({_as:"VPaginationBtn"},T.value.next),null)]),t.showFirstLastPage&&M("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(T.value.last):M(Ft,Se({_as:"VPaginationBtn"},T.value.last),null)])])]})),{}}}),Ew=oe({prevIcon:{type:Ze,default:"$prev"},nextIcon:{type:Ze,default:"$next"},firstIcon:{type:Ze,default:"$first"},lastIcon:{type:Ze,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Xd=be()({name:"VDataTableFooter",props:Ew(),setup(t,e){let{slots:n}=e;const{t:i}=Mn(),{page:s,pageCount:r,startIndex:a,stopIndex:o,itemsLength:l,itemsPerPage:c,setItemsPerPage:u}=hte(),d=L(()=>t.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?i(f.title):f.title}));return Ce(()=>{var h;const f=_b.filterProps(t);return M("div",{class:"v-data-table-footer"},[(h=n.prepend)==null?void 0:h.call(n),M("div",{class:"v-data-table-footer__items-per-page"},[M("span",null,[i(t.itemsPerPageText)]),M(yw,{items:d.value,modelValue:c.value,"onUpdate:modelValue":m=>u(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),M("div",{class:"v-data-table-footer__info"},[M("div",null,[i(t.pageText,l.value?a.value+1:0,o.value,l.value)])]),M("div",{class:"v-data-table-footer__pagination"},[M(_b,Se({modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,density:"comfortable","first-aria-label":t.firstPageLabel,"last-aria-label":t.lastPageLabel,length:r.value,"next-aria-label":t.nextPageLabel,"previous-aria-label":t.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":t.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),Tp=hK({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return M(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding,"v-data-table-column--nowrap":t.nowrap},`v-data-table-column--align-${t.align}`],style:{height:Ve(t.height),width:Ve(t.width),maxWidth:Ve(t.maxWidth),left:Ve(t.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),Mte=oe({headers:Array},"DataTable-header"),pk=Symbol.for("vuetify:data-table-headers"),vk={title:"",sortable:!1},Cte={...vk,width:48};function Tte(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let s=!1;for(let r=0;r<e.length;r++)if(e[r].priority>i){e.splice(r,0,{element:n,priority:i}),s=!0;break}s||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let s=0;s<e.length;s++)Math.floor(e[s].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function xb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)xb(n,e);return e}function gk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&gk(n.children,e);return e}function Ete(t){if(t.key){if(t.key==="data-table-group")return vk;if(["data-table-expand","data-table-select"].includes(t.key))return Cte}}function Aw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>Aw(n,e+1))):e}function Ate(t){let e=!1;function n(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(a&&(r.fixed=!0),r.fixed)if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o],!0);else e?isNaN(+r.width)&&(`${r.key}`,void 0):r.lastFixed=!0,e=!0;else if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o]);else e=!1}for(let r=t.length-1;r>=0;r--)n(t[r]);function i(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return a;if(r.children){r.fixedOffset=a;for(const o of r.children)a=i(o,a)}else r.fixed&&(r.fixedOffset=a,a+=parseFloat(r.width||"0")||0);return a}let s=0;for(const r of t)s=i(r,s)}function Pte(t,e){const n=[];let i=0;const s=Tte(t);for(;s.size()>0;){let a=s.count();const o=[];let l=1;for(;a>0;){const{element:c,priority:u}=s.dequeue(),d=e-i-Aw(c);if(o.push({...c,rowspan:d??1,colspan:c.children?xb(c).length:1}),c.children)for(const f of c.children){const h=u%1+l/Math.pow(10,i+2);s.enqueue(f,i+d+h)}l+=1,a-=1}i+=1,n.push(o)}return{columns:t.map(a=>xb(a)).flat(),headers:n}}function yk(t){const e=[];for(const n of t){const i={...Ete(n),...n},s=i.key??(typeof i.value=="string"?i.value:null),r=i.value??s??null,a={...i,key:s,value:r,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?yk(i.children):void 0};e.push(a)}return e}function Pw(t,e){const n=he([]),i=he([]),s=he({}),r=he({}),a=he({});Zt(()=>{var g,p,v;const c=(t.headers||Object.keys(t.items[0]??{}).map(b=>({key:b,title:wr(b)}))).slice(),u=gk(c);(g=e==null?void 0:e.groupBy)!=null&&g.value.length&&!u.has("data-table-group")&&c.unshift({key:"data-table-group",title:"Group"}),(p=e==null?void 0:e.showSelect)!=null&&p.value&&!u.has("data-table-select")&&c.unshift({key:"data-table-select"}),(v=e==null?void 0:e.showExpand)!=null&&v.value&&!u.has("data-table-expand")&&c.push({key:"data-table-expand"});const d=yk(c);Ate(d);const f=Math.max(...d.map(b=>Aw(b)))+1,h=Pte(d,f);n.value=h.headers,i.value=h.columns;const m=h.headers.flat(1);for(const b of m)b.key&&(b.sortable&&(b.sort&&(s.value[b.key]=b.sort),b.sortRaw&&(r.value[b.key]=b.sortRaw)),b.filter&&(a.value[b.key]=b.filter))});const o={headers:n,columns:i,sortFunctions:s,sortRawFunctions:r,filterFunctions:a};return Qt(pk,o),o}function rg(){const t=St(pk);if(!t)throw new Error("Missing headers!");return t}const bk=oe({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:Ze,default:"$sortAsc"},sortDescIcon:{type:Ze,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Pl(),...Uv()},"VDataTableHeaders"),_l=be()({name:"VDataTableHeaders",props:bk(),setup(t,e){let{slots:n}=e;const{t:i}=Mn(),{toggleSort:s,sortBy:r,isSorted:a}=mk(),{someSelected:o,allSelected:l,selectAll:c,showSelectAll:u}=ng(),{columns:d,headers:f}=rg(),{loaderClasses:h}=Pf(t);function m(S,x){if(!(!(t.sticky||t.fixedHeader)&&!S.fixed))return{position:"sticky",left:S.fixed?Ve(S.fixedOffset):void 0,top:t.sticky||t.fixedHeader?`calc(var(--v-table-header-height) * ${x})`:void 0}}function g(S){const x=r.value.find(y=>y.key===S.key);return x?x.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:p,backgroundColorStyles:v}=Jt(t,"color"),{displayClasses:b,mobile:_}=Ls(t),w=L(()=>({headers:f.value,columns:d.value,toggleSort:s,isSorted:a,sortBy:r.value,someSelected:o.value,allSelected:l.value,selectAll:c,getSortIcon:g})),T=L(()=>["v-data-table__th",{"v-data-table__th--sticky":t.sticky||t.fixedHeader},b.value,h.value]),C=S=>{let{column:x,x:y,y:E}=S;const P=x.key==="data-table-select"||x.key==="data-table-expand",D=Se(t.headerProps??{},x.headerProps??{});return M(Tp,Se({tag:"th",align:x.align,class:[{"v-data-table__th--sortable":x.sortable&&!t.disableSort,"v-data-table__th--sorted":a(x),"v-data-table__th--fixed":x.fixed},...T.value],style:{width:Ve(x.width),minWidth:Ve(x.minWidth),maxWidth:Ve(x.maxWidth),...m(x,E)},colspan:x.colspan,rowspan:x.rowspan,onClick:x.sortable?()=>s(x):void 0,fixed:x.fixed,nowrap:x.nowrap,lastFixed:x.lastFixed,noPadding:P},D),{default:()=>{var B;const N=`header.${x.key}`,W={column:x,selectAll:c,isSorted:a,toggleSort:s,sortBy:r.value,someSelected:o.value,allSelected:l.value,getSortIcon:g};return n[N]?n[N](W):x.key==="data-table-select"?((B=n["header.data-table-select"])==null?void 0:B.call(n,W))??(u.value&&M(ca,{modelValue:l.value,indeterminate:o.value&&!l.value,"onUpdate:modelValue":c},null)):M("div",{class:"v-data-table-header__content"},[M("span",null,[x.title]),x.sortable&&!t.disableSort&&M(Bt,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(x)},null),t.multiSort&&a(x)&&M("div",{key:"badge",class:["v-data-table-header__sort-badge",...p.value],style:v.value},[r.value.findIndex(q=>q.key===x.key)+1])])}})},A=()=>{const S=Se(t.headerProps??{}??{}),x=L(()=>d.value.filter(E=>(E==null?void 0:E.sortable)&&!t.disableSort)),y=L(()=>{if(d.value.find(P=>P.key==="data-table-select")!=null)return l.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return M(Tp,Se({tag:"th",class:[...T.value],colspan:f.value.length+1},S),{default:()=>[M("div",{class:"v-data-table-header__content"},[M(yw,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:x.value,label:i("$vuetify.dataTable.sortBy"),multiple:t.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:y.value,"onClick:append":()=>c(!l.value)},{...n,chip:E=>{var P;return M(hu,{onClick:(P=E.item.raw)!=null&&P.sortable?()=>s(E.item.raw):void 0,onMousedown:D=>{D.preventDefault(),D.stopPropagation()}},{default:()=>[E.item.title,M(Bt,{class:["v-data-table__td-sort-icon",a(E.item.raw)&&"v-data-table__td-sort-icon-active"],icon:g(E.item.raw),size:"small"},null)]})}})])]})};Ce(()=>_.value?M("tr",null,[M(A,null,null)]):M($e,null,[n.headers?n.headers(w.value):f.value.map((S,x)=>M("tr",null,[S.map((y,E)=>M(C,{column:y,x:E,y:x},null))])),t.loading&&M("tr",{class:"v-data-table-progress"},[M("th",{colspan:d.value.length},[M(If,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),Ite=oe({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Rte=be()({name:"VDataTableGroupHeaderRow",props:Ite(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:s,extractRows:r}=ik(),{isSelected:a,isSomeSelected:o,select:l}=ng(),{columns:c}=rg(),u=L(()=>r([t.item]));return()=>M("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[c.value.map(d=>{var f,h;if(d.key==="data-table-group"){const m=i(t.item)?"$expand":"$next",g=()=>s(t.item);return((f=n["data-table-group"])==null?void 0:f.call(n,{item:t.item,count:u.value.length,props:{icon:m,onClick:g}}))??M(Tp,{class:"v-data-table-group-header-row__column"},{default:()=>[M(Ft,{size:"small",variant:"text",icon:m,onClick:g},null),M("span",null,[t.item.value]),M("span",null,[Pn("("),u.value.length,Pn(")")])]})}if(d.key==="data-table-select"){const m=a(u.value),g=o(u.value)&&!m,p=v=>l(u.value,v);return((h=n["data-table-select"])==null?void 0:h.call(n,{props:{modelValue:m,indeterminate:g,"onUpdate:modelValue":p}}))??M("td",null,[M(ca,{modelValue:m,indeterminate:g,"onUpdate:modelValue":p},null)])}return M("td",null,null)})])}}),Lte=oe({index:Number,item:Object,cellProps:[Object,Function],onClick:ii(),onContextmenu:ii(),onDblclick:ii(),...Pl()},"VDataTableRow"),Iw=be()({name:"VDataTableRow",props:Lte(),setup(t,e){let{slots:n}=e;const{displayClasses:i,mobile:s}=Ls(t,"v-data-table__tr"),{isSelected:r,toggleSelect:a,someSelected:o,allSelected:l,selectAll:c}=ng(),{isExpanded:u,toggleExpand:d}=tk(),{toggleSort:f,sortBy:h,isSorted:m}=mk(),{columns:g}=rg();Ce(()=>M("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)},i.value],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&g.value.map((p,v)=>{const b=t.item,_=`item.${p.key}`,w=`header.${p.key}`,T={index:t.index,item:b.raw,internalItem:b,value:pl(b.columns,p.key),column:p,isSelected:r,toggleSelect:a,isExpanded:u,toggleExpand:d},C={column:p,selectAll:c,isSorted:m,toggleSort:f,sortBy:h.value,someSelected:o.value,allSelected:l.value,getSortIcon:()=>""},A=typeof t.cellProps=="function"?t.cellProps({index:T.index,item:T.item,internalItem:T.internalItem,value:T.value,column:p}):t.cellProps,S=typeof p.cellProps=="function"?p.cellProps({index:T.index,item:T.item,internalItem:T.internalItem,value:T.value}):p.cellProps;return M(Tp,Se({align:p.align,class:{"v-data-table__td--expanded-row":p.key==="data-table-expand","v-data-table__td--select-row":p.key==="data-table-select"},fixed:p.fixed,fixedOffset:p.fixedOffset,lastFixed:p.lastFixed,maxWidth:s.value?void 0:p.maxWidth,noPadding:p.key==="data-table-select"||p.key==="data-table-expand",nowrap:p.nowrap,width:s.value?void 0:p.width},A,S),{default:()=>{var y,E,P,D,N;if(n[_]&&!s.value)return(y=n[_])==null?void 0:y.call(n,T);if(p.key==="data-table-select")return((E=n["item.data-table-select"])==null?void 0:E.call(n,T))??M(ca,{disabled:!b.selectable,modelValue:r([b]),onClick:ES(()=>a(b),["stop"])},null);if(p.key==="data-table-expand")return((P=n["item.data-table-expand"])==null?void 0:P.call(n,T))??M(Ft,{icon:u(b)?"$collapse":"$expand",size:"small",variant:"text",onClick:ES(()=>d(b),["stop"])},null);const x=Db(T.value);return s.value?M($e,null,[M("div",{class:"v-data-table__td-title"},[((D=n[w])==null?void 0:D.call(n,C))??p.title]),M("div",{class:"v-data-table__td-value"},[((N=n[_])==null?void 0:N.call(n,T))??x])]):x}})})]))}}),_k=oe({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Pl()},"VDataTableRows"),xl=be()({name:"VDataTableRows",inheritAttrs:!1,props:_k(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:s}=rg(),{expandOnClick:r,toggleExpand:a,isExpanded:o}=tk(),{isSelected:l,toggleSelect:c}=ng(),{toggleGroup:u,isGroupOpen:d}=ik(),{t:f}=Mn(),{mobile:h}=Ls(t);return Ce(()=>{var m,g;return t.loading&&(!t.items.length||i.loading)?M("tr",{class:"v-data-table-rows-loading",key:"loading"},[M("td",{colspan:s.value.length},[((m=i.loading)==null?void 0:m.call(i))??f(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?M("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[M("td",{colspan:s.value.length},[((g=i["no-data"])==null?void 0:g.call(i))??f(t.noDataText)])]):M($e,null,[t.items.map((p,v)=>{var w;if(p.type==="group"){const T={index:v,item:p,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:c,toggleGroup:u,isGroupOpen:d};return i["group-header"]?i["group-header"](T):M(Rte,Se({key:`group-header_${p.id}`,item:p},RC(n,":group-header",()=>T)),i)}const b={index:v,item:p.raw,internalItem:p,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:c},_={...b,props:Se({key:`item_${p.key??p.index}`,onClick:r.value?()=>{a(p)}:void 0,index:v,item:p,cellProps:t.cellProps,mobile:h.value},RC(n,":row",()=>b),typeof t.rowProps=="function"?t.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):t.rowProps)};return M($e,{key:_.props.key},[i.item?i.item(_):M(Iw,_.props,i),o(p)&&((w=i["expanded-row"])==null?void 0:w.call(i,b))])})])}),{}}}),xk=oe({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ue(),...Kn(),...ht(),...It()},"VTable"),wl=be()({name:"VTable",props:xk(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:s}=Ut(t),{densityClasses:r}=Mi(t);return Ce(()=>M(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},s.value,r.value,t.class],style:t.style},{default:()=>{var a,o,l;return[(a=n.top)==null?void 0:a.call(n),n.default?M("div",{class:"v-table__wrapper",style:{height:Ve(t.height)}},[M("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),kte=oe({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Dte(t,e,n,i){const s=t.returnObject?e:Un(e,t.itemValue),r=Un(e,t.itemSelectable,!0),a=i.reduce((o,l)=>(l.key!=null&&(o[l.key]=Un(e,l.value)),o),{});return{type:"item",key:t.returnObject?Un(e,t.itemValue):s,index:n,value:s,selectable:r,columns:a,raw:e}}function Ote(t,e,n){return e.map((i,s)=>Dte(t,i,s,n))}function Rw(t,e){return{items:L(()=>Ote(t,t.items,e.value))}}const Lw=oe({..._k(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...QL(),...xw(),...Mte(),...kte(),...uk(),...fk(),...bk(),...xk()},"DataTable"),Nte=oe({...Sw(),...Lw(),...Vf(),...Ew()},"VDataTable"),Vte=be()({name:"VDataTable",props:Nte(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=ww(t),{sortBy:r,multiSort:a,mustSort:o}=ig(t),{page:l,itemsPerPage:c}=Mw(t),{disableSort:u}=Ys(t),{columns:d,headers:f,sortFunctions:h,sortRawFunctions:m,filterFunctions:g}=Pw(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:p}=Rw(t,d),v=ge(t,"search"),{filteredItems:b}=Ff(t,p,v,{transform:de=>de.columns,customKeyFilter:g}),{toggleSort:_}=sg({sortBy:r,multiSort:a,mustSort:o,page:l}),{sortByWithGroups:w,opened:T,extractRows:C,isGroupOpen:A,toggleGroup:S}=Jv({groupBy:s,sortBy:r,disableSort:u}),{sortedItems:x}=Tw(t,b,w,{transform:de=>({...de.raw,...de.columns}),sortFunctions:h,sortRawFunctions:m}),{flatItems:y}=Qv(x,s,T),E=L(()=>y.value.length),{startIndex:P,stopIndex:D,pageCount:N,setItemsPerPage:W}=Cw({page:l,itemsPerPage:c,itemsLength:E}),{paginatedItems:B}=ok({items:y,startIndex:P,stopIndex:D,itemsPerPage:c}),q=L(()=>C(B.value)),{isSelected:j,select:Q,selectAll:Z,toggleSelect:X,someSelected:ce,allSelected:Me}=tg(t,{allItems:p,currentPage:q}),{isExpanded:ee,toggleExpand:pe}=Zv(t);eg({page:l,itemsPerPage:c,sortBy:r,groupBy:s,search:v}),gn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const ne=L(()=>({page:l.value,itemsPerPage:c.value,sortBy:r.value,pageCount:N.value,toggleSort:_,setItemsPerPage:W,someSelected:ce.value,allSelected:Me.value,isSelected:j,select:Q,selectAll:Z,toggleSelect:X,isExpanded:ee,toggleExpand:pe,isGroupOpen:A,toggleGroup:S,items:q.value.map(de=>de.raw),internalItems:q.value,groupedItems:B.value,columns:d.value,headers:f.value}));return Ce(()=>{const de=Xd.filterProps(t),ae=_l.filterProps(t),F=xl.filterProps(t),U=wl.filterProps(t);return M(wl,Se({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},U,{fixedHeader:t.fixedHeader||t.sticky}),{top:()=>{var z;return(z=i.top)==null?void 0:z.call(i,ne.value)},default:()=>{var z,k,R,I,Y,$;return i.default?i.default(ne.value):M($e,null,[(z=i.colgroup)==null?void 0:z.call(i,ne.value),!t.hideDefaultHeader&&M("thead",{key:"thead"},[M(_l,ae,i)]),(k=i.thead)==null?void 0:k.call(i,ne.value),!t.hideDefaultBody&&M("tbody",null,[(R=i["body.prepend"])==null?void 0:R.call(i,ne.value),i.body?i.body(ne.value):M(xl,Se(n,F,{items:B.value}),i),(I=i["body.append"])==null?void 0:I.call(i,ne.value)]),(Y=i.tbody)==null?void 0:Y.call(i,ne.value),($=i.tfoot)==null?void 0:$.call(i,ne.value)])},bottom:()=>i.bottom?i.bottom(ne.value):!t.hideDefaultFooter&&M($e,null,[M(Df,null,null),M(Xd,de,{prepend:i["footer.prepend"]})])})}),{}}}),Fte=oe({...Lw(),...xw(),...DL(),...Vf()},"VDataTableVirtual"),Bte=be()({name:"VDataTableVirtual",props:Fte(),emits:{"update:modelValue":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=ww(t),{sortBy:r,multiSort:a,mustSort:o}=ig(t),{disableSort:l}=Ys(t),{columns:c,headers:u,filterFunctions:d,sortFunctions:f,sortRawFunctions:h}=Pw(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:m}=Rw(t,c),g=ge(t,"search"),{filteredItems:p}=Ff(t,m,g,{transform:ae=>ae.columns,customKeyFilter:d}),{toggleSort:v}=sg({sortBy:r,multiSort:a,mustSort:o}),{sortByWithGroups:b,opened:_,extractRows:w,isGroupOpen:T,toggleGroup:C}=Jv({groupBy:s,sortBy:r,disableSort:l}),{sortedItems:A}=Tw(t,p,b,{transform:ae=>({...ae.raw,...ae.columns}),sortFunctions:f,sortRawFunctions:h}),{flatItems:S}=Qv(A,s,_),x=L(()=>w(S.value)),{isSelected:y,select:E,selectAll:P,toggleSelect:D,someSelected:N,allSelected:W}=tg(t,{allItems:x,currentPage:x}),{isExpanded:B,toggleExpand:q}=Zv(t),{containerRef:j,markerRef:Q,paddingTop:Z,paddingBottom:X,computedItems:ce,handleItemResize:Me,handleScroll:ee,handleScrollend:pe}=OL(t,S),ne=L(()=>ce.value.map(ae=>ae.raw));eg({sortBy:r,page:ke(1),itemsPerPage:ke(-1),groupBy:s,search:g}),gn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const de=L(()=>({sortBy:r.value,toggleSort:v,someSelected:N.value,allSelected:W.value,isSelected:y,select:E,selectAll:P,toggleSelect:D,isExpanded:B,toggleExpand:q,isGroupOpen:T,toggleGroup:C,items:x.value.map(ae=>ae.raw),internalItems:x.value,groupedItems:S.value,columns:c.value,headers:u.value}));Ce(()=>{const ae=_l.filterProps(t),F=xl.filterProps(t),U=wl.filterProps(t);return M(wl,Se({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},U,{fixedHeader:t.fixedHeader||t.sticky}),{top:()=>{var z;return(z=i.top)==null?void 0:z.call(i,de.value)},wrapper:()=>{var z,k,R;return M("div",{ref:j,onScrollPassive:ee,onScrollend:pe,class:"v-table__wrapper",style:{height:Ve(t.height)}},[M("table",null,[(z=i.colgroup)==null?void 0:z.call(i,de.value),!t.hideDefaultHeader&&M("thead",{key:"thead"},[M(_l,ae,i)]),!t.hideDefaultBody&&M("tbody",null,[M("tr",{ref:Q,style:{height:Ve(Z.value),border:0}},[M("td",{colspan:c.value.length,style:{height:0,border:0}},null)]),(k=i["body.prepend"])==null?void 0:k.call(i,de.value),M(xl,Se(n,F,{items:ne.value}),{...i,item:I=>M(kL,{key:I.internalItem.index,renderless:!0,"onUpdate:height":Y=>Me(I.internalItem.index,Y)},{default:Y=>{var J;let{itemRef:$}=Y;return((J=i.item)==null?void 0:J.call(i,{...I,itemRef:$}))??M(Iw,Se(I.props,{ref:$,key:I.internalItem.index,index:I.internalItem.index}),i)}})}),(R=i["body.append"])==null?void 0:R.call(i,de.value),M("tr",{style:{height:Ve(X.value),border:0}},[M("td",{colspan:c.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var z;return(z=i.bottom)==null?void 0:z.call(i,de.value)}})})}}),Ute=oe({itemsLength:{type:[Number,String],required:!0},...Sw(),...Lw(),...Ew()},"VDataTableServer"),zte=be()({name:"VDataTableServer",props:Ute(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=ww(t),{sortBy:r,multiSort:a,mustSort:o}=ig(t),{page:l,itemsPerPage:c}=Mw(t),{disableSort:u}=Ys(t),d=L(()=>parseInt(t.itemsLength,10)),{columns:f,headers:h}=Pw(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:m}=Rw(t,f),{toggleSort:g}=sg({sortBy:r,multiSort:a,mustSort:o,page:l}),{opened:p,isGroupOpen:v,toggleGroup:b,extractRows:_}=Jv({groupBy:s,sortBy:r,disableSort:u}),{pageCount:w,setItemsPerPage:T}=Cw({page:l,itemsPerPage:c,itemsLength:d}),{flatItems:C}=Qv(m,s,p),{isSelected:A,select:S,selectAll:x,toggleSelect:y,someSelected:E,allSelected:P}=tg(t,{allItems:m,currentPage:m}),{isExpanded:D,toggleExpand:N}=Zv(t),W=L(()=>_(m.value));eg({page:l,itemsPerPage:c,sortBy:r,groupBy:s,search:ge(t,"search")}),Qt("v-data-table",{toggleSort:g,sortBy:r}),gn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const B=L(()=>({page:l.value,itemsPerPage:c.value,sortBy:r.value,pageCount:w.value,toggleSort:g,setItemsPerPage:T,someSelected:E.value,allSelected:P.value,isSelected:A,select:S,selectAll:x,toggleSelect:y,isExpanded:D,toggleExpand:N,isGroupOpen:v,toggleGroup:b,items:W.value.map(q=>q.raw),internalItems:W.value,groupedItems:C.value,columns:f.value,headers:h.value}));Ce(()=>{const q=Xd.filterProps(t),j=_l.filterProps(t),Q=xl.filterProps(t),Z=wl.filterProps(t);return M(wl,Se({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},Z,{fixedHeader:t.fixedHeader||t.sticky}),{top:()=>{var X;return(X=i.top)==null?void 0:X.call(i,B.value)},default:()=>{var X,ce,Me,ee,pe,ne;return i.default?i.default(B.value):M($e,null,[(X=i.colgroup)==null?void 0:X.call(i,B.value),!t.hideDefaultHeader&&M("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[M(_l,j,i)]),(ce=i.thead)==null?void 0:ce.call(i,B.value),!t.hideDefaultBody&&M("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(Me=i["body.prepend"])==null?void 0:Me.call(i,B.value),i.body?i.body(B.value):M(xl,Se(n,Q,{items:C.value}),i),(ee=i["body.append"])==null?void 0:ee.call(i,B.value)]),(pe=i.tbody)==null?void 0:pe.call(i,B.value),(ne=i.tfoot)==null?void 0:ne.call(i,B.value)])},bottom:()=>i.bottom?i.bottom(B.value):!t.hideDefaultFooter&&M($e,null,[M(Df,null,null),M(Xd,q,{prepend:i["footer.prepend"]})])})})}}),Hte=oe({fluid:{type:Boolean,default:!1},...Ue(),...Nn(),...ht()},"VContainer"),Gte=be()({name:"VContainer",props:Hte(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=zn(),{dimensionStyles:s}=Vn(t);return Ce(()=>M(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:[s.value,t.style]},n)),{}}}),wk=Dv.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),Sk=Dv.reduce((t,e)=>{const n="offset"+wr(e);return t[n]={type:[String,Number],default:null},t},{}),Mk=Dv.reduce((t,e)=>{const n="order"+wr(e);return t[n]={type:[String,Number],default:null},t},{}),nT={col:Object.keys(wk),offset:Object.keys(Sk),order:Object.keys(Mk)};function Wte(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const $te=["auto","start","end","center","baseline","stretch"],jte=oe({cols:{type:[Boolean,String,Number],default:!1},...wk,offset:{type:[String,Number],default:null},...Sk,order:{type:[String,Number],default:null},...Mk,alignSelf:{type:String,default:null,validator:t=>$te.includes(t)},...Ue(),...ht()},"VCol"),Xte=be()({name:"VCol",props:jte(),setup(t,e){let{slots:n}=e;const i=L(()=>{const s=[];let r;for(r in nT)nT[r].forEach(o=>{const l=t[o],c=Wte(r,o,l);c&&s.push(c)});const a=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return hs(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),kw=["start","end","center"],Ck=["space-between","space-around","space-evenly"];function Dw(t,e){return Dv.reduce((n,i)=>{const s=t+wr(i);return n[s]=e(),n},{})}const Yte=[...kw,"baseline","stretch"],Tk=t=>Yte.includes(t),Ek=Dw("align",()=>({type:String,default:null,validator:Tk})),qte=[...kw,...Ck],Ak=t=>qte.includes(t),Pk=Dw("justify",()=>({type:String,default:null,validator:Ak})),Kte=[...kw,...Ck,"stretch"],Ik=t=>Kte.includes(t),Rk=Dw("alignContent",()=>({type:String,default:null,validator:Ik})),iT={align:Object.keys(Ek),justify:Object.keys(Pk),alignContent:Object.keys(Rk)},Zte={align:"align",justify:"justify",alignContent:"align-content"};function Jte(t,e,n){let i=Zte[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const Qte=oe({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Tk},...Ek,justify:{type:String,default:null,validator:Ak},...Pk,alignContent:{type:String,default:null,validator:Ik},...Rk,...Ue(),...ht()},"VRow"),ene=be()({name:"VRow",props:Qte(),setup(t,e){let{slots:n}=e;const i=L(()=>{const s=[];let r;for(r in iT)iT[r].forEach(a=>{const o=t[a],l=Jte(r,a,o);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return hs(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),Lk=Pr("v-spacer","div","VSpacer"),kk=oe({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Ze,default:"$next"},prevIcon:{type:Ze,default:"$prev"},modeIcon:{type:Ze,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),wb=be()({name:"VDatePickerControls",props:kk(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=L(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),s=L(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),r=L(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=L(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function o(){n("click:prev")}function l(){n("click:next")}function c(){n("click:year")}function u(){n("click:month")}return Ce(()=>M("div",{class:["v-date-picker-controls"]},[M(Ft,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:u},null),M(Ft,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:c},null),M(Lk,{key:"mode-spacer"},null),M("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[M(Ft,{disabled:r.value,icon:t.prevIcon,variant:"text",onClick:o},null),M(Ft,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:l},null)])])),{}}}),tne=oe({appendIcon:Ze,color:String,header:String,transition:String,onClick:ii()},"VDatePickerHeader"),Sb=be()({name:"VDatePickerHeader",props:tne(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=Jt(t,"color");function a(){n("click")}function o(){n("click:append")}return Ce(()=>{const l=!!(i.default||t.header),c=!!(i.append||t.appendIcon);return M("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},s.value],style:r.value,onClick:a},[i.prepend&&M("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&M(bi,{key:"content",name:t.transition},{default:()=>{var u;return[M("div",{key:t.header,class:"v-date-picker-header__content"},[((u=i.default)==null?void 0:u.call(i))??t.header])]}}),c&&M("div",{class:"v-date-picker-header__append"},[i.append?M(_t,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var u;return[(u=i.append)==null?void 0:u.call(i)]}}):M(Ft,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),nne=oe({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function ine(t){const e=Ef(),n=Ke(t,"modelValue",[],m=>mn(m)),i=L(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),s=Ke(t,"year",void 0,m=>{const g=m!=null?Number(m):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),g))},m=>e.getYear(m)),r=Ke(t,"month",void 0,m=>{const g=m!=null?Number(m):e.getMonth(i.value),p=e.setYear(e.startOfMonth(e.date()),e.getYear(s.value));return e.setMonth(p,g)},m=>e.getMonth(m)),a=L(()=>t.firstDayOfWeek??t.weekdays[0]),o=L(()=>{const m=Number(t.firstDayOfWeek??0);return t.weekdays.map(g=>(g+m)%7)}),l=L(()=>{const m=e.getWeekArray(r.value,a.value),g=m.flat(),p=6*7;if(t.weeksInMonth==="static"&&g.length<p){const v=g[g.length-1];let b=[];for(let _=1;_<=p-g.length;_++)b.push(e.addDays(v,_)),_%7===0&&(m.push(b),b=[])}return m});function c(m,g){return m.filter(p=>o.value.includes(e.toJsDate(p).getDay())).map((p,v)=>{const b=e.toISO(p),_=!e.isSameMonth(p,r.value),w=e.isSameDay(p,e.startOfMonth(r.value)),T=e.isSameDay(p,e.endOfMonth(r.value)),C=e.isSameDay(p,r.value);return{date:p,isoDate:b,formatted:e.format(p,"keyboardDate"),year:e.getYear(p),month:e.getMonth(p),isDisabled:h(p),isWeekStart:v%7===0,isWeekEnd:v%7===6,isToday:e.isSameDay(p,g),isAdjacent:_,isHidden:_&&!t.showAdjacentMonths,isStart:w,isSelected:n.value.some(A=>e.isSameDay(p,A)),isEnd:T,isSame:C,localized:e.format(p,"dayOfMonth")}})}const u=L(()=>{const m=e.startOfWeek(i.value,t.firstDayOfWeek),g=[];for(let v=0;v<=6;v++)g.push(e.addDays(m,v));const p=e.date();return c(g,p)}),d=L(()=>{const m=l.value.flat(),g=e.date();return c(m,g)}),f=L(()=>l.value.map(m=>m.length?dZ(e,m[0]):null));function h(m){if(t.disabled)return!0;const g=e.date(m);return t.min&&e.isAfter(e.date(t.min),g)||t.max&&e.isAfter(g,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(p=>e.isSameDay(e.date(p),g)):typeof t.allowedDates=="function"?!t.allowedDates(g):!1}return{displayValue:i,daysInMonth:d,daysInWeek:u,genDays:c,model:n,weeksInMonth:l,weekDays:o,weekNumbers:f}}const Dk=oe({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...nne()},"VDatePickerMonth"),Mb=be()({name:"VDatePickerMonth",props:Dk(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=he(),{daysInMonth:r,model:a,weekNumbers:o}=ine(t),l=Ef(),c=ke(),u=ke(),d=ke(!1),f=L(()=>d.value?t.reverseTransition:t.transition);t.multiple==="range"&&a.value.length>0&&(c.value=a.value[0],a.value.length>1&&(u.value=a.value[a.value.length-1]));const h=L(()=>{const v=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return a.value.length>=v});Ie(r,(v,b)=>{b&&(d.value=l.isBefore(v[0].date,b[0].date))});function m(v){const b=l.startOfDay(v);if(a.value.length===0?c.value=void 0:a.value.length===1&&(c.value=a.value[0],u.value=void 0),!c.value)c.value=b,a.value=[c.value];else if(u.value)c.value=v,u.value=void 0,a.value=[c.value];else{if(l.isSameDay(b,c.value)){c.value=void 0,a.value=[];return}else l.isBefore(b,c.value)?(u.value=l.endOfDay(c.value),c.value=b):u.value=l.endOfDay(b);const _=l.getDiff(u.value,c.value,"days"),w=[c.value];for(let T=1;T<_;T++){const C=l.addDays(c.value,T);w.push(C)}w.push(u.value),a.value=w}}function g(v){const b=a.value.findIndex(_=>l.isSameDay(_,v));if(b===-1)a.value=[...a.value,v];else{const _=[...a.value];_.splice(b,1),a.value=_}}function p(v){t.multiple==="range"?m(v):t.multiple?g(v):a.value=[v]}return()=>M("div",{class:"v-date-picker-month"},[t.showWeek&&M("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&M("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Pn("")]),o.value.map(v=>M("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[v]))]),M(bi,{name:f.value},{default:()=>{var v;return[M("div",{ref:s,key:(v=r.value[0].date)==null?void 0:v.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&l.getWeekdays(t.firstDayOfWeek).map(b=>M("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[b])),r.value.map((b,_)=>{const w={props:{onClick:()=>p(b.date)},item:b,i:_};return h.value&&!b.isSelected&&(b.isDisabled=!0),M("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":b.isAdjacent,"v-date-picker-month__day--hide-adjacent":b.isHidden,"v-date-picker-month__day--selected":b.isSelected,"v-date-picker-month__day--week-end":b.isWeekEnd,"v-date-picker-month__day--week-start":b.isWeekStart}],"data-v-date":b.isDisabled?void 0:b.isoDate},[(t.showAdjacentMonths||!b.isAdjacent)&&M(_t,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(b.isSelected||b.isToday)&&!b.isDisabled?t.color:void 0,disabled:b.isDisabled,icon:!0,ripple:!1,text:b.localized,variant:b.isDisabled?b.isToday?"outlined":"text":b.isToday&&!b.isSelected?"outlined":"flat",onClick:()=>p(b.date)}}},{default:()=>{var T;return[((T=i.day)==null?void 0:T.call(i,w))??M(Ft,w.props,null)]}})])})])]}})])}}),Ok=oe({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Cb=be()({name:"VDatePickerMonths",props:Ok(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ef(),r=Ke(t,"modelValue"),a=L(()=>{let o=s.startOfYear(s.date());return t.year&&(o=s.setYear(o,t.year)),dr(12).map(l=>{const c=s.format(o,"monthShort"),u=!!(t.min&&s.isAfter(s.startOfMonth(s.date(t.min)),o)||t.max&&s.isAfter(o,s.startOfMonth(s.date(t.max))));return o=s.getNextMonth(o),{isDisabled:u,text:c,value:l}})});return Zt(()=>{r.value=r.value??s.getMonth(s.date())}),Ce(()=>M("div",{class:"v-date-picker-months",style:{height:Ve(t.height)}},[M("div",{class:"v-date-picker-months__content"},[a.value.map((o,l)=>{var d;const c={active:r.value===l,color:r.value===l?t.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:r.value===o.value?"flat":"text",onClick:()=>u(l)};function u(f){if(r.value===f){n("update:modelValue",r.value);return}r.value=f}return((d=i.month)==null?void 0:d.call(i,{month:o,i:l,props:c}))??M(Ft,Se({key:"month"},c),null)})])])),{}}}),Nk=oe({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Tb=be()({name:"VDatePickerYears",props:Nk(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ef(),r=Ke(t,"modelValue"),a=L(()=>{const l=s.getYear(s.date());let c=l-100,u=l+52;t.min&&(c=s.getYear(s.date(t.min))),t.max&&(u=s.getYear(s.date(t.max)));let d=s.startOfYear(s.date());return d=s.setYear(d,c),dr(u-c+1,c).map(f=>{const h=s.format(d,"year");return d=s.setYear(d,s.getYear(d)+1),{text:h,value:f}})});Zt(()=>{r.value=r.value??s.getYear(s.date())});const o=_p();return On(async()=>{var l;await Rt(),(l=o.el)==null||l.scrollIntoView({block:"center"})}),Ce(()=>M("div",{class:"v-date-picker-years",style:{height:Ve(t.height)}},[M("div",{class:"v-date-picker-years__content"},[a.value.map((l,c)=>{var d;const u={ref:r.value===l.value?o:void 0,active:r.value===l.value,color:r.value===l.value?t.color:void 0,rounded:!0,text:l.text,variant:r.value===l.value?"flat":"text",onClick:()=>{if(r.value===l.value){n("update:modelValue",r.value);return}r.value=l.value}};return((d=i.year)==null?void 0:d.call(i,{year:l,i:c,props:u}))??M(Ft,Se({key:"month"},u),null)})])])),{}}}),sne=Pr("v-picker-title"),Vk=oe({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...Kv()},"VPicker"),sT=be()({name:"VPicker",props:Vk(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Jt(ge(t,"color"));return Ce(()=>{const r=bl.filterProps(t),a=!!(t.title||n.title);return M(bl,Se(r,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var o;return[!t.hideHeader&&M("div",{key:"header",class:[i.value],style:[s.value]},[a&&M(sne,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??t.title]}}),n.header&&M("div",{class:"v-picker__header"},[n.header()])]),M("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&M(_t,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[M("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),rne=oe({header:{type:String,default:"$vuetify.datePicker.header"},...kk(),...Dk({weeksInMonth:"static"}),...Dn(Ok(),["modelValue"]),...Dn(Nk(),["modelValue"]),...Vk({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),ane=be()({name:"VDatePicker",props:rne(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ef(),{t:r}=Mn(),a=Ke(t,"modelValue",void 0,x=>mn(x),x=>t.multiple?x:x[0]),o=Ke(t,"viewMode"),l=L(()=>{var y;const x=s.date((y=a.value)==null?void 0:y[0]);return x&&s.isValid(x)?x:s.date()}),c=he(Number(t.month??s.getMonth(s.startOfMonth(l.value)))),u=he(Number(t.year??s.getYear(s.startOfYear(s.setMonth(l.value,c.value))))),d=ke(!1),f=L(()=>t.multiple&&a.value.length>1?r("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&s.isValid(a.value[0])?s.format(s.date(a.value[0]),"normalDateWithWeekday"):r(t.header)),h=L(()=>{let x=s.date();return x=s.setDate(x,1),x=s.setMonth(x,c.value),x=s.setYear(x,u.value),s.format(x,"monthAndYear")}),m=L(()=>`date-picker-header${d.value?"-reverse":""}-transition`),g=L(()=>{const x=s.date(t.min);return t.min&&s.isValid(x)?x:null}),p=L(()=>{const x=s.date(t.max);return t.max&&s.isValid(x)?x:null}),v=L(()=>{if(t.disabled)return!0;const x=[];if(o.value!=="month")x.push("prev","next");else{let y=s.date();if(y=s.startOfMonth(y),y=s.setMonth(y,c.value),y=s.setYear(y,u.value),g.value){const E=s.addDays(s.startOfMonth(y),-1);s.isAfter(g.value,E)&&x.push("prev")}if(p.value){const E=s.addDays(s.endOfMonth(y),1);s.isAfter(E,p.value)&&x.push("next")}}return x});function b(){c.value<11?c.value++:(u.value++,c.value=0,S(u.value)),A(c.value)}function _(){c.value>0?c.value--:(u.value--,c.value=11,S(u.value)),A(c.value)}function w(){o.value="month"}function T(){o.value=o.value==="months"?"month":"months"}function C(){o.value=o.value==="year"?"month":"year"}function A(x){o.value==="months"&&T(),n("update:month",x)}function S(x){o.value==="year"&&C(),n("update:year",x)}return Ie(a,(x,y)=>{const E=mn(y),P=mn(x);if(!P.length)return;const D=s.date(E[E.length-1]),N=s.date(P[P.length-1]),W=s.getMonth(N),B=s.getYear(N);W!==c.value&&(c.value=W,A(c.value)),B!==u.value&&(u.value=B,S(u.value)),d.value=s.isBefore(D,N)}),Ce(()=>{const x=sT.filterProps(t),y=wb.filterProps(t),E=Sb.filterProps(t),P=Mb.filterProps(t),D=Dn(Cb.filterProps(t),["modelValue"]),N=Dn(Tb.filterProps(t),["modelValue"]),W={header:f.value,transition:m.value};return M(sT,Se(x,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var B;return((B=i.title)==null?void 0:B.call(i))??M("div",{class:"v-date-picker__title"},[r(t.title)])},header:()=>i.header?M(_t,{defaults:{VDatePickerHeader:{...W}}},{default:()=>{var B;return[(B=i.header)==null?void 0:B.call(i,W)]}}):M(Sb,Se({key:"header"},E,W,{onClick:o.value!=="month"?w:void 0}),{...i,default:void 0}),default:()=>M($e,null,[M(wb,Se(y,{disabled:v.value,text:h.value,"onClick:next":b,"onClick:prev":_,"onClick:month":T,"onClick:year":C}),null),M(zd,{hideOnLeave:!0},{default:()=>[o.value==="months"?M(Cb,Se({key:"date-picker-months"},D,{modelValue:c.value,"onUpdate:modelValue":[B=>c.value=B,A],min:g.value,max:p.value,year:u.value}),null):o.value==="year"?M(Tb,Se({key:"date-picker-years"},N,{modelValue:u.value,"onUpdate:modelValue":[B=>u.value=B,S],min:g.value,max:p.value}),null):M(Mb,Se({key:"date-picker-month"},P,{modelValue:a.value,"onUpdate:modelValue":B=>a.value=B,month:c.value,"onUpdate:month":[B=>c.value=B,A],year:u.value,"onUpdate:year":[B=>u.value=B,S],min:g.value,max:p.value}),null)]})]),actions:i.actions})}),{}}}),one=oe({actionText:String,bgColor:String,color:String,icon:Ze,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Ue(),...Nn(),...Ir({size:void 0}),...It()},"VEmptyState"),lne=be()({name:"VEmptyState",props:one(),emits:{"click:action":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{themeClasses:s}=Ut(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Jt(ge(t,"bgColor")),{dimensionStyles:o}=Vn(t),{displayClasses:l}=Ls();function c(u){n("click:action",u)}return Ce(()=>{var p,v,b;const u=!!(i.actions||t.actionText),d=!!(i.headline||t.headline),f=!!(i.title||t.title),h=!!(i.text||t.text),m=!!(i.media||t.image||t.icon),g=t.size||(t.image?200:96);return M("div",{class:["v-empty-state",{[`v-empty-state--${t.justify}`]:!0},s.value,r.value,l.value,t.class],style:[a.value,o.value,t.style]},[m&&M("div",{key:"media",class:"v-empty-state__media"},[i.media?M(_t,{key:"media-defaults",defaults:{VImg:{src:t.image,height:g},VIcon:{size:g,icon:t.icon}}},{default:()=>[i.media()]}):M($e,null,[t.image?M(la,{key:"image",src:t.image,height:g},null):t.icon?M(Bt,{key:"icon",color:t.color,size:g,icon:t.icon},null):void 0])]),d&&M("div",{key:"headline",class:"v-empty-state__headline"},[((p=i.headline)==null?void 0:p.call(i))??t.headline]),f&&M("div",{key:"title",class:"v-empty-state__title"},[((v=i.title)==null?void 0:v.call(i))??t.title]),h&&M("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Ve(t.textWidth)}},[((b=i.text)==null?void 0:b.call(i))??t.text]),i.default&&M("div",{key:"content",class:"v-empty-state__content"},[i.default()]),u&&M("div",{key:"actions",class:"v-empty-state__actions"},[M(_t,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:t.color??"surface-variant",text:t.actionText}}},{default:()=>{var _;return[((_=i.actions)==null?void 0:_.call(i,{props:{onClick:c}}))??M(Ft,{onClick:c},null)]}})])])}),{}}}),Yd=Symbol.for("vuetify:v-expansion-panel"),Fk=oe({...Ue(),...hw()},"VExpansionPanelText"),Eb=be()({name:"VExpansionPanelText",props:Fk(),setup(t,e){let{slots:n}=e;const i=St(Yd);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:r}=mw(t,i.isSelected);return Ce(()=>M(Vv,{onAfterLeave:r},{default:()=>{var a;return[tt(M("div",{class:["v-expansion-panel-text",t.class],style:t.style},[n.default&&s.value&&M("div",{class:"v-expansion-panel-text__wrapper"},[(a=n.default)==null?void 0:a.call(n)])]),[[Rs,i.isSelected.value]])]}})),{}}}),Bk=oe({color:String,expandIcon:{type:Ze,default:"$expand"},collapseIcon:{type:Ze,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ue(),...Nn()},"VExpansionPanelTitle"),Ab=be()({name:"VExpansionPanelTitle",directives:{Ripple:ma},props:Bk(),setup(t,e){let{slots:n}=e;const i=St(Yd);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:r}=Jt(t,"color"),{dimensionStyles:a}=Vn(t),o=L(()=>({collapseIcon:t.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly})),l=L(()=>i.isSelected.value?t.collapseIcon:t.expandIcon);return Ce(()=>{var c;return tt(M("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":t.focusable,"v-expansion-panel-title--static":t.static},s.value,t.class],style:[r.value,a.value,t.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:t.readonly?void 0:i.toggle},[M("span",{class:"v-expansion-panel-title__overlay"},null),(c=n.default)==null?void 0:c.call(n,o.value),!t.hideActions&&M(_t,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var u;return[M("span",{class:"v-expansion-panel-title__icon"},[((u=n.actions)==null?void 0:u.call(n,o.value))??M(Bt,null,null)])]}})]),[[Sn("ripple"),t.ripple]])}),{}}}),Uk=oe({title:String,text:String,bgColor:String,...Hn(),...Ol(),...fn(),...ht(),...Bk(),...Fk()},"VExpansionPanel"),cne=be()({name:"VExpansionPanel",props:Uk(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Nl(t,Yd),{backgroundColorClasses:s,backgroundColorStyles:r}=Jt(t,"bgColor"),{elevationClasses:a}=oi(t),{roundedClasses:o}=bn(t),l=L(()=>(i==null?void 0:i.disabled.value)||t.disabled),c=L(()=>i.group.items.value.reduce((f,h,m)=>(i.group.selected.value.includes(h.id)&&f.push(m),f),[])),u=L(()=>{const f=i.group.items.value.findIndex(h=>h.id===i.id);return!i.isSelected.value&&c.value.some(h=>h-f===1)}),d=L(()=>{const f=i.group.items.value.findIndex(h=>h.id===i.id);return!i.isSelected.value&&c.value.some(h=>h-f===-1)});return Qt(Yd,i),Ce(()=>{const f=!!(n.text||t.text),h=!!(n.title||t.title),m=Ab.filterProps(t),g=Eb.filterProps(t);return M(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":u.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},o.value,s.value,t.class],style:[r.value,t.style]},{default:()=>[M("div",{class:["v-expansion-panel__shadow",...a.value]},null),M(_t,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...g}}},{default:()=>{var p;return[h&&M(Ab,{key:"title"},{default:()=>[n.title?n.title():t.title]}),f&&M(Eb,{key:"text"},{default:()=>[n.text?n.text():t.text]}),(p=n.default)==null?void 0:p.call(n)]}})]})}),{groupItem:i}}}),une=["default","accordion","inset","popout"],dne=oe({flat:Boolean,...Dl(),...Gx(Uk(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...It(),...Ue(),...ht(),variant:{type:String,default:"default",validator:t=>une.includes(t)}},"VExpansionPanels"),fne=be()({name:"VExpansionPanels",props:dne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{next:i,prev:s}=io(t,Yd),{themeClasses:r}=Ut(t),a=L(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return gn({VExpansionPanel:{bgColor:ge(t,"bgColor"),collapseIcon:ge(t,"collapseIcon"),color:ge(t,"color"),eager:ge(t,"eager"),elevation:ge(t,"elevation"),expandIcon:ge(t,"expandIcon"),focusable:ge(t,"focusable"),hideActions:ge(t,"hideActions"),readonly:ge(t,"readonly"),ripple:ge(t,"ripple"),rounded:ge(t,"rounded"),static:ge(t,"static")}}),Ce(()=>M(t.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":t.flat,"v-expansion-panels--tile":t.tile},r.value,a.value,t.class],style:t.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:i})]}})),{next:i,prev:s}}}),hne=oe({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...Dn(zv({active:!0}),["location"]),...Il(),...ha(),...er({transition:"fab-transition"})},"VFab"),mne=be()({name:"VFab",props:hne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),s=ke(56),r=he(),{resizeRef:a}=Xs(d=>{d.length&&(s.value=d[0].target.clientHeight)}),o=L(()=>t.app||t.absolute),l=L(()=>{var d;return o.value?((d=t.location)==null?void 0:d.split(" ").shift())??"bottom":!1}),c=L(()=>{var d;return o.value?((d=t.location)==null?void 0:d.split(" ")[1])??"end":!1});zi(()=>t.app,()=>{const d=Rl({id:t.name,order:L(()=>parseInt(t.order,10)),position:l,layoutSize:L(()=>t.layout?s.value+24:0),elementSize:L(()=>s.value+24),active:L(()=>t.app&&i.value),absolute:ge(t,"absolute")});Zt(()=>{r.value=d.layoutItemStyles.value})});const u=he();return Ce(()=>{const d=Ft.filterProps(t);return M("div",{ref:u,class:["v-fab",{"v-fab--absolute":t.absolute,"v-fab--app":!!t.app,"v-fab--extended":t.extended,"v-fab--offset":t.offset,[`v-fab--${l.value}`]:o.value,[`v-fab--${c.value}`]:o.value},t.class],style:[t.app?{...r.value}:{height:t.absolute?"100%":"inherit"},t.style]},[M("div",{class:"v-fab__container"},[M(bi,{appear:t.appear,transition:t.transition},{default:()=>[tt(M(Ft,Se({ref:a},d,{active:void 0,location:void 0}),n),[[Rs,t.active]])]})])])}),{}}}),pne=oe({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...va({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>mn(t).every(e=>e!=null&&typeof e=="object")},...Nf({clearable:!0})},"VFileInput"),vne=be()({name:"VFileInput",inheritAttrs:!1,props:pne(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=Mn(),a=Ke(t,"modelValue",t.modelValue,x=>mn(x),x=>!t.multiple&&Array.isArray(x)?x[0]:x),{isFocused:o,focus:l,blur:c}=pa(t),u=L(()=>typeof t.showSize!="boolean"?t.showSize:void 0),d=L(()=>(a.value??[]).reduce((x,y)=>{let{size:E=0}=y;return x+E},0)),f=L(()=>yC(d.value,u.value)),h=L(()=>(a.value??[]).map(x=>{const{name:y="",size:E=0}=x;return t.showSize?`${y} (${yC(E,u.value)})`:y})),m=L(()=>{var y;const x=((y=a.value)==null?void 0:y.length)??0;return t.showSize?r(t.counterSizeString,x,f.value):r(t.counterString,x)}),g=he(),p=he(),v=he(),b=L(()=>o.value||t.active),_=L(()=>["plain","underlined"].includes(t.variant));function w(){var x;v.value!==document.activeElement&&((x=v.value)==null||x.focus()),o.value||l()}function T(x){var y;(y=v.value)==null||y.click()}function C(x){i("mousedown:control",x)}function A(x){var y;(y=v.value)==null||y.click(),i("click:control",x)}function S(x){x.stopPropagation(),w(),Rt(()=>{a.value=[],Rv(t["onClick:clear"],x)})}return Ie(a,x=>{(!Array.isArray(x)||!x.length)&&v.value&&(v.value.value="")}),Ce(()=>{const x=!!(s.counter||t.counter),y=!!(x||s.details),[E,P]=to(n),{modelValue:D,...N}=di.filterProps(t),W=pw(t);return M(di,Se({ref:g,modelValue:a.value,"onUpdate:modelValue":B=>a.value=B,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":_.value},t.class],style:t.style,"onClick:prepend":T},E,N,{centerAffix:!_.value,focused:o.value}),{...s,default:B=>{let{id:q,isDisabled:j,isDirty:Q,isReadonly:Z,isValid:X}=B;return M(mu,Se({ref:p,"prepend-icon":t.prependIcon,onMousedown:C,onClick:A,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},W,{id:q.value,active:b.value||Q.value,dirty:Q.value||t.dirty,disabled:j.value,focused:o.value,error:X.value===!1}),{...s,default:ce=>{var pe;let{props:{class:Me,...ee}}=ce;return M($e,null,[M("input",Se({ref:v,type:"file",readonly:Z.value,disabled:j.value,multiple:t.multiple,name:t.name,onClick:ne=>{ne.stopPropagation(),Z.value&&ne.preventDefault(),w()},onChange:ne=>{if(!ne.target)return;const de=ne.target;a.value=[...de.files??[]]},onFocus:w,onBlur:c},ee,P),null),M("div",{class:Me},[!!((pe=a.value)!=null&&pe.length)&&!t.hideInput&&(s.selection?s.selection({fileNames:h.value,totalBytes:d.value,totalBytesReadable:f.value}):t.chips?h.value.map(ne=>M(hu,{key:ne,size:"small",text:ne},null)):h.value.join(", "))])])}})},details:y?B=>{var q,j;return M($e,null,[(q=s.details)==null?void 0:q.call(s,B),x&&M($e,null,[M("span",null,null),M($v,{active:!!((j=a.value)!=null&&j.length),value:m.value,disabled:t.disabled},s.counter)])])}:void 0})}),Ds({},g,p,v)}}),gne=oe({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...is(),...Ue(),...Hn(),...Il(),...fn(),...ht({tag:"footer"}),...It()},"VFooter"),yne=be()({name:"VFooter",props:gne(),setup(t,e){let{slots:n}=e;const i=he(),{themeClasses:s}=Ut(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Jt(ge(t,"color")),{borderClasses:o}=ys(t),{elevationClasses:l}=oi(t),{roundedClasses:c}=bn(t),u=ke(32),{resizeRef:d}=Xs(h=>{h.length&&(u.value=h[0].target.clientHeight)}),f=L(()=>t.height==="auto"?u.value:parseInt(t.height,10));return zi(()=>t.app,()=>{const h=Rl({id:t.name,order:L(()=>parseInt(t.order,10)),position:L(()=>"bottom"),layoutSize:f,elementSize:L(()=>t.height==="auto"?void 0:f.value),active:L(()=>t.app),absolute:ge(t,"absolute")});Zt(()=>{i.value=h.layoutItemStyles.value})}),Ce(()=>M(t.tag,{ref:d,class:["v-footer",s.value,r.value,o.value,l.value,c.value,t.class],style:[a.value,t.app?i.value:{height:Ve(t.height)},t.style]},n)),{}}}),bne=oe({...Ue(),...TJ()},"VForm"),_ne=be()({name:"VForm",props:bne(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=EJ(t),r=he();function a(l){l.preventDefault(),s.reset()}function o(l){const c=l,u=s.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),i("submit",c),c.defaultPrevented||u.then(d=>{var h;let{valid:f}=d;f&&((h=r.value)==null||h.submit())}),c.preventDefault()}return Ce(()=>{var l;return M("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,s)])}),Ds(s,r)}}),xne=oe({disabled:Boolean,modelValue:{type:Boolean,default:null},...dw()},"VHover"),wne=be()({name:"VHover",props:xne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{runOpenDelay:s,runCloseDelay:r}=fw(t,a=>!t.disabled&&(i.value=a));return()=>{var a;return(a=n.default)==null?void 0:a.call(n,{isHovering:i.value,props:{onMouseenter:s,onMouseleave:r}})}}}),Sne=oe({color:String,direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},side:{type:String,default:"end",validator:t=>["start","end","both"].includes(t)},mode:{type:String,default:"intersect",validator:t=>["intersect","manual"].includes(t)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Nn(),...ht()},"VInfiniteScroll"),rT=vs({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(t,e)=>!0},setup(t,e){let{emit:n}=e;const{intersectionRef:i,isIntersecting:s}=Fv();return Ie(s,async r=>{n("intersect",t.side,r)}),Ce(()=>M("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":t.rootMargin},ref:i},[Pn("")])),{}}}),Mne=be()({name:"VInfiniteScroll",props:Sne(),emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=he(),r=ke("ok"),a=ke("ok"),o=L(()=>Ve(t.margin)),l=ke(!1);function c(T){if(!s.value)return;const C=t.direction==="vertical"?"scrollTop":"scrollLeft";s.value[C]=T}function u(){if(!s.value)return 0;const T=t.direction==="vertical"?"scrollTop":"scrollLeft";return s.value[T]}function d(){if(!s.value)return 0;const T=t.direction==="vertical"?"scrollHeight":"scrollWidth";return s.value[T]}function f(){if(!s.value)return 0;const T=t.direction==="vertical"?"clientHeight":"clientWidth";return s.value[T]}On(()=>{s.value&&(t.side==="start"?c(d()):t.side==="both"&&c(d()/2-f()/2))});function h(T,C){T==="start"?r.value=C:T==="end"&&(a.value=C)}function m(T){return T==="start"?r.value:a.value}let g=0;function p(T,C){l.value=C,l.value&&v(T)}function v(T){if(t.mode!=="manual"&&!l.value)return;const C=m(T);if(!s.value||["empty","loading"].includes(C))return;g=d(),h(T,"loading");function A(S){h(T,S),Rt(()=>{S==="empty"||S==="error"||(S==="ok"&&T==="start"&&c(d()-g+u()),t.mode!=="manual"&&Rt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{v(T)})})})}))})}i("load",{side:T,done:A})}const{t:b}=Mn();function _(T,C){var x,y,E,P,D;if(t.side!==T&&t.side!=="both")return;const A=()=>v(T),S={side:T,props:{onClick:A,color:t.color}};return C==="error"?(x=n.error)==null?void 0:x.call(n,S):C==="empty"?((y=n.empty)==null?void 0:y.call(n,S))??M("div",null,[b(t.emptyText)]):t.mode==="manual"?C==="loading"?((E=n.loading)==null?void 0:E.call(n,S))??M(Zc,{indeterminate:!0,color:t.color},null):((P=n["load-more"])==null?void 0:P.call(n,S))??M(Ft,{variant:"outlined",color:t.color,onClick:A},{default:()=>[b(t.loadMoreText)]}):((D=n.loading)==null?void 0:D.call(n,S))??M(Zc,{indeterminate:!0,color:t.color},null)}const{dimensionStyles:w}=Vn(t);Ce(()=>{const T=t.tag,C=t.side==="start"||t.side==="both",A=t.side==="end"||t.side==="both",S=t.mode==="intersect";return M(T,{ref:s,class:["v-infinite-scroll",`v-infinite-scroll--${t.direction}`,{"v-infinite-scroll--start":C,"v-infinite-scroll--end":A}],style:w.value},{default:()=>{var x;return[M("div",{class:"v-infinite-scroll__side"},[_("start",r.value)]),C&&S&&M(rT,{key:"start",side:"start",onIntersect:p,rootMargin:o.value},null),(x=n.default)==null?void 0:x.call(n),A&&S&&M(rT,{key:"end",side:"end",onIntersect:p,rootMargin:o.value},null),M("div",{class:"v-infinite-scroll__side"},[_("end",a.value)])]}})})}}),zk=Symbol.for("vuetify:v-item-group"),Cne=oe({...Ue(),...Dl({selectedClass:"v-item--selected"}),...ht(),...It()},"VItemGroup"),Tne=be()({name:"VItemGroup",props:Cne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=io(t,zk);return()=>M(t.tag,{class:["v-item-group",i.value,t.class],style:t.style},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}}),Ene=be()({name:"VItem",props:Ol(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,select:s,toggle:r,selectedClass:a,value:o,disabled:l}=Nl(t,zk);return()=>{var c;return(c=n.default)==null?void 0:c.call(n,{isSelected:i.value,selectedClass:a.value,select:s,toggle:r,value:o.value,disabled:l.value})}}}),Ane=Pr("v-kbd","kbd"),Pne=oe({...Ue(),...Nn(),...I2()},"VLayout"),Ine=be()({name:"VLayout",props:Pne(),setup(t,e){let{slots:n}=e;const{layoutClasses:i,layoutStyles:s,getLayoutItem:r,items:a,layoutRef:o}=L2(t),{dimensionStyles:l}=Vn(t);return Ce(()=>{var c;return M("div",{ref:o,class:[i.value,t.class],style:[l.value,s.value,t.style]},[(c=n.default)==null?void 0:c.call(n)])}),{getLayoutItem:r,items:a}}}),Rne=oe({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Ue(),...Il()},"VLayoutItem"),Lne=be()({name:"VLayoutItem",props:Rne(),setup(t,e){let{slots:n}=e;const{layoutItemStyles:i}=Rl({id:t.name,order:L(()=>parseInt(t.order,10)),position:ge(t,"position"),elementSize:ge(t,"size"),layoutSize:ge(t,"size"),active:ge(t,"modelValue"),absolute:ge(t,"absolute")});return()=>{var s;return M("div",{class:["v-layout-item",t.class],style:[i.value,t.style]},[(s=n.default)==null?void 0:s.call(n)])}}}),kne=oe({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Ue(),...Nn(),...ht(),...er({transition:"fade-transition"})},"VLazy"),Dne=be()({name:"VLazy",directives:{intersect:Af},props:kne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=Vn(t),s=Ke(t,"modelValue");function r(a){s.value||(s.value=a)}return Ce(()=>tt(M(t.tag,{class:["v-lazy",t.class],style:[i.value,t.style]},{default:()=>[s.value&&M(bi,{transition:t.transition,appear:!0},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}})]}),[[Sn("intersect"),{handler:r,options:t.options},null]])),{}}}),One=oe({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Ue()},"VLocaleProvider"),Nne=be()({name:"VLocaleProvider",props:One(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=wK(t);return Ce(()=>{var s;return M("div",{class:["v-locale-provider",i.value,t.class],style:t.style},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),Vne=oe({scrollable:Boolean,...Ue(),...Nn(),...ht({tag:"main"})},"VMain"),Fne=be()({name:"VMain",props:Vne(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=Vn(t),{mainStyles:s}=R2(),{ssrBootStyles:r}=Ll();return Ce(()=>M(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,r.value,i.value,t.style]},{default:()=>{var a,o;return[t.scrollable?M("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function Bne(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=ke(!1),r=ke(0),a=L(()=>{const c=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[c]:Ve(r.value)}:{top:i.value.top}]});On(()=>{Ie(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),qn(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const c=o>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),f=window.scrollY-Math.max(0,r.value-d),h=u.height+Math.max(r.value,d)-window.scrollY-window.innerHeight,m=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-d?(s.value="top",r.value=d):c==="up"&&s.value==="bottom"||c==="down"&&s.value==="top"?(r.value=window.scrollY+u.top-m,s.value=!0):c==="down"&&h<=0?(r.value=0,s.value="bottom"):c==="up"&&f<=0&&(m?s.value!=="top"&&(r.value=-f+m+d,s.value="top"):(r.value=u.top+f,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:a}}const Une=100,zne=20;function aT(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function oT(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=aT(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return aT(e)*1e3}function Hne(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new kq(zne))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var c;const r=(c=t[s])==null?void 0:c.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const a=r[0],o=[],l=[];for(const u of r){if(a[0]-u[0]>Une)break;o.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:oT(o),y:oT(l),get direction(){const{x:u,y:d}=this,[f,h]=[Math.abs(u),Math.abs(d)];return f>h&&u>=0?"right":f>h&&u<=0?"left":h>f&&d>=0?"down":h>f&&d<=0?"up":Gne()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function Gne(){throw new Error}function Wne(t){let{el:e,isActive:n,isTemporary:i,width:s,touchless:r,position:a}=t;On(()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",w,{passive:!0})}),qn(()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",w)});const o=L(()=>["left","right"].includes(a.value)),{addMovement:l,endTouch:c,getVelocity:u}=Hne();let d=!1;const f=ke(!1),h=ke(0),m=ke(0);let g;function p(C,A){return(a.value==="left"?C:a.value==="right"?document.documentElement.clientWidth-C:a.value==="top"?C:a.value==="bottom"?document.documentElement.clientHeight-C:hc())-(A?s.value:0)}function v(C){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=a.value==="left"?(C-m.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-C-m.value)/s.value:a.value==="top"?(C-m.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-C-m.value)/s.value:hc();return A?Math.max(0,Math.min(1,S)):S}function b(C){if(r.value)return;const A=C.changedTouches[0].clientX,S=C.changedTouches[0].clientY,x=25,y=a.value==="left"?A<x:a.value==="right"?A>document.documentElement.clientWidth-x:a.value==="top"?S<x:a.value==="bottom"?S>document.documentElement.clientHeight-x:hc(),E=n.value&&(a.value==="left"?A<s.value:a.value==="right"?A>document.documentElement.clientWidth-s.value:a.value==="top"?S<s.value:a.value==="bottom"?S>document.documentElement.clientHeight-s.value:hc());(y||E||n.value&&i.value)&&(g=[A,S],m.value=p(o.value?A:S,n.value),h.value=v(o.value?A:S),d=m.value>-20&&m.value<80,c(C),l(C))}function _(C){const A=C.changedTouches[0].clientX,S=C.changedTouches[0].clientY;if(d){if(!C.cancelable){d=!1;return}const y=Math.abs(A-g[0]),E=Math.abs(S-g[1]);(o.value?y>E&&y>3:E>y&&E>3)?(f.value=!0,d=!1):(o.value?E:y)>3&&(d=!1)}if(!f.value)return;C.preventDefault(),l(C);const x=v(o.value?A:S,!1);h.value=Math.max(0,Math.min(1,x)),x>1?m.value=p(o.value?A:S,!0):x<0&&(m.value=p(o.value?A:S,!1))}function w(C){if(d=!1,!f.value)return;l(C),f.value=!1;const A=u(C.changedTouches[0].identifier),S=Math.abs(A.x),x=Math.abs(A.y);(o.value?S>x&&S>400:x>S&&x>3)?n.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||hc()):n.value=h.value>.5}const T=L(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${h.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${h.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${h.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${h.value*s.value}px))`:hc(),transition:"none"}:void 0);return zi(f,()=>{var S,x;const C=((S=e.value)==null?void 0:S.style.transform)??null,A=((x=e.value)==null?void 0:x.style.transition)??null;Zt(()=>{var y,E,P,D;(E=e.value)==null||E.style.setProperty("transform",((y=T.value)==null?void 0:y.transform)||"none"),(D=e.value)==null||D.style.setProperty("transition",((P=T.value)==null?void 0:P.transition)||null)}),ri(()=>{var y,E;(y=e.value)==null||y.style.setProperty("transform",C),(E=e.value)==null||E.style.setProperty("transition",A)})}),{isDragging:f,dragProgress:h,dragStyles:T}}function hc(){throw new Error}const $ne=["start","end","left","right","top","bottom"],jne=oe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>$ne.includes(t)},sticky:Boolean,...is(),...Ue(),...dw(),...Pl({mobile:null}),...Hn(),...Il(),...fn(),...ht({tag:"nav"}),...It()},"VNavigationDrawer"),Xne=be()({name:"VNavigationDrawer",props:jne(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=zn(),{themeClasses:a}=Ut(t),{borderClasses:o}=ys(t),{backgroundColorClasses:l,backgroundColorStyles:c}=Jt(ge(t,"color")),{elevationClasses:u}=oi(t),{displayClasses:d,mobile:f}=Ls(t),{roundedClasses:h}=bn(t),m=G2(),g=Ke(t,"modelValue",null,X=>!!X),{ssrBootStyles:p}=Ll(),{scopeId:v}=Fl(),b=he(),_=ke(!1),{runOpenDelay:w,runCloseDelay:T}=fw(t,X=>{_.value=X}),C=L(()=>t.rail&&t.expandOnHover&&_.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),A=L(()=>Z0(t.location,r.value)),S=L(()=>t.persistent),x=L(()=>!t.permanent&&(f.value||t.temporary)),y=L(()=>t.sticky&&!x.value&&A.value!=="bottom");zi(()=>t.expandOnHover&&t.rail!=null,()=>{Ie(_,X=>i("update:rail",!X))}),zi(()=>!t.disableResizeWatcher,()=>{Ie(x,X=>!t.permanent&&Rt(()=>g.value=!X))}),zi(()=>!t.disableRouteWatcher&&!!m,()=>{Ie(m.currentRoute,()=>x.value&&(g.value=!1))}),Ie(()=>t.permanent,X=>{X&&(g.value=!0)}),t.modelValue==null&&!x.value&&(g.value=t.permanent||!f.value);const{isDragging:E,dragProgress:P}=Wne({el:b,isActive:g,isTemporary:x,width:C,touchless:ge(t,"touchless"),position:A}),D=L(()=>{const X=x.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):C.value;return E.value?X*P.value:X}),N=L(()=>["top","bottom"].includes(t.location)?0:C.value),{layoutItemStyles:W,layoutItemScrimStyles:B}=Rl({id:t.name,order:L(()=>parseInt(t.order,10)),position:A,layoutSize:D,elementSize:N,active:L(()=>g.value||E.value),disableTransitions:L(()=>E.value),absolute:L(()=>t.absolute||y.value&&typeof q.value!="string")}),{isStuck:q,stickyStyles:j}=Bne({rootEl:b,isSticky:y,layoutItemStyles:W}),Q=Jt(L(()=>typeof t.scrim=="string"?t.scrim:null)),Z=L(()=>({...E.value?{opacity:P.value*.2,transition:"none"}:void 0,...B.value}));return gn({VList:{bgColor:"transparent"}}),Ce(()=>{const X=s.image||t.image;return M($e,null,[M(t.tag,Se({ref:b,onMouseenter:w,onMouseleave:T,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":_.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":x.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":y.value},a.value,l.value,o.value,d.value,u.value,h.value,t.class],style:[c.value,W.value,p.value,j.value,t.style,["top","bottom"].includes(A.value)?{height:"auto"}:{}]},v,n),{default:()=>{var ce,Me,ee;return[X&&M("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?M(_t,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):M(la,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&M("div",{class:"v-navigation-drawer__prepend"},[(ce=s.prepend)==null?void 0:ce.call(s)]),M("div",{class:"v-navigation-drawer__content"},[(Me=s.default)==null?void 0:Me.call(s)]),s.append&&M("div",{class:"v-navigation-drawer__append"},[(ee=s.append)==null?void 0:ee.call(s)])]}}),M(Ga,{name:"fade-transition"},{default:()=>[x.value&&(E.value||g.value)&&!!t.scrim&&M("div",Se({class:["v-navigation-drawer__scrim",Q.backgroundColorClasses.value],style:[Z.value,Q.backgroundColorStyles.value],onClick:()=>{S.value||(g.value=!1)}},v),null)]})])}),{isStuck:q}}}),Yne=vs({name:"VNoSsr",setup(t,e){let{slots:n}=e;const i=AL();return()=>{var s;return i.value&&((s=n.default)==null?void 0:s.call(n))}}}),qne=oe({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Nn(),...kf(),...Pv(Nf({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Kne=be()({name:"VOtpInput",props:qne(),emits:{finish:t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{dimensionStyles:r}=Vn(t),{isFocused:a,focus:o,blur:l}=pa(t),c=Ke(t,"modelValue","",S=>S==null?[]:String(S).split(""),S=>S.join("")),{t:u}=Mn(),d=L(()=>Number(t.length)),f=L(()=>Array(d.value).fill(0)),h=he(-1),m=he(),g=he([]),p=L(()=>g.value[h.value]);function v(){if(A(p.value.value)){p.value.value="";return}const S=c.value.slice(),x=p.value.value;S[h.value]=x;let y=null;h.value>c.value.length?y=c.value.length+1:h.value+1!==d.value&&(y="next"),c.value=S,y&&Zo(m.value,y)}function b(S){const x=c.value.slice(),y=h.value;let E=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(S.key)&&(S.preventDefault(),S.key==="ArrowLeft"?E="prev":S.key==="ArrowRight"?E="next":["Backspace","Delete"].includes(S.key)&&(x[h.value]="",c.value=x,h.value>0&&S.key==="Backspace"?E="prev":requestAnimationFrame(()=>{var P;(P=g.value[y])==null||P.select()})),requestAnimationFrame(()=>{E!=null&&Zo(m.value,E)}))}function _(S,x){var E,P;x.preventDefault(),x.stopPropagation();const y=((E=x==null?void 0:x.clipboardData)==null?void 0:E.getData("Text").slice(0,d.value))??"";A(y)||(c.value=y.split(""),(P=g.value)==null||P[S].blur())}function w(){c.value=[]}function T(S,x){o(),h.value=x}function C(){l(),h.value=-1}function A(S){return t.type==="number"&&/[^0-9]/g.test(S)}return gn({VField:{color:L(()=>t.color),bgColor:L(()=>t.color),baseColor:L(()=>t.baseColor),disabled:L(()=>t.disabled),error:L(()=>t.error),variant:L(()=>t.variant)}},{scoped:!0}),Ie(c,S=>{S.length===d.value&&i("finish",S.join(""))},{deep:!0}),Ie(h,S=>{S<0||Rt(()=>{var x;(x=g.value[S])==null||x.select()})}),Ce(()=>{var y;const[S,x]=to(n);return M("div",Se({class:["v-otp-input",{"v-otp-input--divided":!!t.divider},t.class],style:[t.style]},S),[M("div",{ref:m,class:"v-otp-input__content",style:[r.value]},[f.value.map((E,P)=>M($e,null,[t.divider&&P!==0&&M("span",{class:"v-otp-input__divider"},[t.divider]),M(mu,{focused:a.value&&t.focusAll||h.value===P,key:P},{...s,loader:void 0,default:()=>M("input",{ref:D=>g.value[P]=D,"aria-label":u(t.label,P+1),autofocus:P===0&&t.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:t.disabled,inputmode:t.type==="number"?"numeric":"text",min:t.type==="number"?0:void 0,maxlength:"1",placeholder:t.placeholder,type:t.type==="number"?"text":t.type,value:c.value[P],onInput:v,onFocus:D=>T(D,P),onBlur:C,onKeydown:b,onPaste:D=>_(P,D)},null)})])),M("input",Se({class:"v-otp-input-input",type:"hidden"},x,{value:c.value.join("")}),null),M(xr,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!t.loading,persistent:!0},{default:()=>{var E;return[((E=s.loader)==null?void 0:E.call(s))??M(Zc,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(y=s.default)==null?void 0:y.call(s)])])}),{blur:()=>{var S;(S=g.value)==null||S.some(x=>x.blur())},focus:()=>{var S;(S=g.value)==null||S[0].focus()},reset:w,isFocused:a}}});function Zne(t){return Math.floor(Math.abs(t))*Math.sign(t)}const Jne=oe({scale:{type:[Number,String],default:.5},...Ue()},"VParallax"),Qne=be()({name:"VParallax",props:Jne(),setup(t,e){let{slots:n}=e;const{intersectionRef:i,isIntersecting:s}=Fv(),{resizeRef:r,contentRect:a}=Xs(),{height:o}=Ls(),l=he();Zt(()=>{var h;i.value=r.value=(h=l.value)==null?void 0:h.$el});let c;Ie(s,h=>{h?(c=qx(i.value),c=c===document.scrollingElement?document:c,c.addEventListener("scroll",f,{passive:!0}),f()):c.removeEventListener("scroll",f)}),qn(()=>{c==null||c.removeEventListener("scroll",f)}),Ie(o,f),Ie(()=>{var h;return(h=a.value)==null?void 0:h.height},f);const u=L(()=>1-Rn(+t.scale));let d=-1;function f(){s.value&&(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var T;const h=((T=l.value)==null?void 0:T.$el).querySelector(".v-img__img");if(!h)return;const m=c instanceof Document?document.documentElement.clientHeight:c.clientHeight,g=c instanceof Document?window.scrollY:c.scrollTop,p=i.value.getBoundingClientRect().top+g,v=a.value.height,b=p+(v-m)/2,_=Zne((g-b)*u.value),w=Math.max(1,(u.value*(m-v)+v)/v);h.style.setProperty("transform",`translateY(${_}px) scale(${w})`)}))}return Ce(()=>M(la,{class:["v-parallax",{"v-parallax--active":s.value},t.class],style:t.style,ref:l,cover:!0,onLoadstart:f,onLoad:f},n)),{}}}),eie=oe({...Hv({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),tie=be()({name:"VRadio",props:eie(),setup(t,e){let{slots:n}=e;return Ce(()=>{const i=Xa.filterProps(t);return M(Xa,Se(i,{class:["v-radio",t.class],style:t.style,type:"radio"}),n)}),{}}}),nie=oe({height:{type:[Number,String],default:"auto"},...va(),...Dn(aw(),["multiple"]),trueIcon:{type:Ze,default:"$radioOn"},falseIcon:{type:Ze,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),iie=be()({name:"VRadioGroup",inheritAttrs:!1,props:nie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=ai(),r=L(()=>t.id||`radio-group-${s}`),a=Ke(t,"modelValue");return Ce(()=>{const[o,l]=to(n),c=di.filterProps(t),u=Xa.filterProps(t),d=i.label?i.label({label:t.label,props:{for:r.value}}):t.label;return M(di,Se({class:["v-radio-group",t.class],style:t.style},o,c,{modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,id:r.value}),{...i,default:f=>{let{id:h,messagesId:m,isDisabled:g,isReadonly:p}=f;return M($e,null,[d&&M(fu,{id:h.value},{default:()=>[d]}),M(eL,Se(u,{id:h.value,"aria-describedby":m.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:g.value,readonly:p.value,"aria-labelledby":d?h.value:void 0,multiple:!1},l,{modelValue:a.value,"onUpdate:modelValue":v=>a.value=v}),i)])}})}),{}}}),sie=oe({...kf(),...va(),...qL(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),rie=be()({name:"VRangeSlider",props:sie(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=he(),r=he(),a=he(),{rtlClasses:o}=zn();function l(y){if(!s.value||!r.value)return;const E=gb(y,s.value.$el,t.direction),P=gb(y,r.value.$el,t.direction),D=Math.abs(E),N=Math.abs(P);return D<N||D===N&&E<0?s.value.$el:r.value.$el}const c=KL(t),u=Ke(t,"modelValue",void 0,y=>y!=null&&y.length?y.map(E=>c.roundValue(E)):[0,0]),{activeThumbRef:d,hasLabels:f,max:h,min:m,mousePressed:g,onSliderMousedown:p,onSliderTouchstart:v,position:b,trackContainerRef:_,readonly:w}=ZL({props:t,steps:c,onSliderStart:()=>{i("start",u.value)},onSliderEnd:y=>{var D;let{value:E}=y;const P=d.value===((D=s.value)==null?void 0:D.$el)?[E,u.value[1]]:[u.value[0],E];!t.strict&&P[0]<P[1]&&(u.value=P),i("end",u.value)},onSliderMove:y=>{var N,W,B,q;let{value:E}=y;const[P,D]=u.value;!t.strict&&P===D&&P!==m.value&&(d.value=E>P?(N=r.value)==null?void 0:N.$el:(W=s.value)==null?void 0:W.$el,(B=d.value)==null||B.focus()),d.value===((q=s.value)==null?void 0:q.$el)?u.value=[Math.min(E,D),D]:u.value=[P,Math.max(P,E)]},getActiveThumb:l}),{isFocused:T,focus:C,blur:A}=pa(t),S=L(()=>b(u.value[0])),x=L(()=>b(u.value[1]));return Ce(()=>{const y=di.filterProps(t),E=!!(t.label||n.label||n.prepend);return M(di,Se({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||f.value,"v-slider--focused":T.value,"v-slider--pressed":g.value,"v-slider--disabled":t.disabled},o.value,t.class],style:t.style,ref:a},y,{focused:T.value}),{...n,prepend:E?P=>{var D,N;return M($e,null,[((D=n.label)==null?void 0:D.call(n,P))??(t.label?M(fu,{class:"v-slider__label",text:t.label},null):void 0),(N=n.prepend)==null?void 0:N.call(n,P)])}:void 0,default:P=>{var W,B;let{id:D,messagesId:N}=P;return M("div",{class:"v-slider__container",onMousedown:w.value?void 0:p,onTouchstartPassive:w.value?void 0:v},[M("input",{id:`${D.value}_start`,name:t.name||D.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:u.value[0]},null),M("input",{id:`${D.value}_stop`,name:t.name||D.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:u.value[1]},null),M(JL,{ref:_,start:S.value,stop:x.value},{"tick-label":n["tick-label"]}),M(yb,{ref:s,"aria-describedby":N.value,focused:T&&d.value===((W=s.value)==null?void 0:W.$el),modelValue:u.value[0],"onUpdate:modelValue":q=>u.value=[q,u.value[1]],onFocus:q=>{var j,Q,Z,X;C(),d.value=(j=s.value)==null?void 0:j.$el,h.value!==m.value&&u.value[0]===u.value[1]&&u.value[1]===m.value&&q.relatedTarget!==((Q=r.value)==null?void 0:Q.$el)&&((Z=s.value)==null||Z.$el.blur(),(X=r.value)==null||X.$el.focus())},onBlur:()=>{A(),d.value=void 0},min:m.value,max:u.value[1],position:S.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]}),M(yb,{ref:r,"aria-describedby":N.value,focused:T&&d.value===((B=r.value)==null?void 0:B.$el),modelValue:u.value[1],"onUpdate:modelValue":q=>u.value=[u.value[0],q],onFocus:q=>{var j,Q,Z,X;C(),d.value=(j=r.value)==null?void 0:j.$el,h.value!==m.value&&u.value[0]===u.value[1]&&u.value[0]===h.value&&q.relatedTarget!==((Q=s.value)==null?void 0:Q.$el)&&((Z=r.value)==null||Z.$el.blur(),(X=s.value)==null||X.$el.focus())},onBlur:()=>{A(),d.value=void 0},min:u.value[0],max:h.value,position:x.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),aie=oe({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ze,default:"$ratingEmpty"},fullIcon:{type:Ze,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...Ue(),...Kn(),...Ir(),...ht(),...It()},"VRating"),oie=be()({name:"VRating",props:aie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Mn(),{themeClasses:s}=Ut(t),r=Ke(t,"modelValue"),a=L(()=>Rn(parseFloat(r.value),0,+t.length)),o=L(()=>dr(Number(t.length),1)),l=L(()=>o.value.flatMap(g=>t.halfIncrements?[g-.5,g]:[g])),c=ke(-1),u=L(()=>l.value.map(g=>{const p=t.hover&&c.value>-1,v=a.value>=g,b=c.value>=g,w=(p?b:v)?t.fullIcon:t.emptyIcon,T=t.activeColor??t.color,C=v||b?T:t.color;return{isFilled:v,isHovered:b,icon:w,color:C}})),d=L(()=>[0,...l.value].map(g=>{function p(){c.value=g}function v(){c.value=-1}function b(){t.disabled||t.readonly||(r.value=a.value===g&&t.clearable?0:g)}return{onMouseenter:t.hover?p:void 0,onMouseleave:t.hover?v:void 0,onClick:b}})),f=L(()=>t.name??`v-rating-${ai()}`);function h(g){var S,x;let{value:p,index:v,showStar:b=!0}=g;const{onMouseenter:_,onMouseleave:w,onClick:T}=d.value[v+1],C=`${f.value}-${String(p).replace(".","-")}`,A={color:(S=u.value[v])==null?void 0:S.color,density:t.density,disabled:t.disabled,icon:(x=u.value[v])==null?void 0:x.icon,ripple:t.ripple,size:t.size,variant:"plain"};return M($e,null,[M("label",{for:C,class:{"v-rating__item--half":t.halfIncrements&&p%1>0,"v-rating__item--full":t.halfIncrements&&p%1===0},onMouseenter:_,onMouseleave:w,onClick:T},[M("span",{class:"v-rating__hidden"},[i(t.itemAriaLabel,p,t.length)]),b?n.item?n.item({...u.value[v],props:A,value:p,index:v,rating:a.value}):M(Ft,Se({"aria-label":i(t.itemAriaLabel,p,t.length)},A),null):void 0]),M("input",{class:"v-rating__hidden",name:f.value,id:C,type:"radio",value:p,checked:a.value===p,tabindex:-1,readonly:t.readonly,disabled:t.disabled},null)])}function m(g){return n["item-label"]?n["item-label"](g):g.label?M("span",null,[g.label]):M("span",null,[Pn("")])}return Ce(()=>{var p;const g=!!((p=t.itemLabels)!=null&&p.length)||n["item-label"];return M(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},s.value,t.class],style:t.style},{default:()=>[M(h,{value:0,index:-1,showStar:!1},null),o.value.map((v,b)=>{var _,w;return M("div",{class:"v-rating__wrapper"},[g&&t.itemLabelPosition==="top"?m({value:v,index:b,label:(_=t.itemLabels)==null?void 0:_[b]}):void 0,M("div",{class:"v-rating__item"},[t.halfIncrements?M($e,null,[M(h,{value:v-.5,index:b*2},null),M(h,{value:v,index:b*2+1},null)]):M(h,{value:v,index:b},null)]),g&&t.itemLabelPosition==="bottom"?m({value:v,index:b,label:(w=t.itemLabels)==null?void 0:w[b]}):void 0])})]})}),{}}}),lie={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function cie(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return M("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function lT(t){const[e,n]=t.split("@");return Array.from({length:n}).map(()=>ag(e))}function ag(t){let e=[];if(!t)return e;const n=lie[t];if(t!==n){if(t.includes(","))return cT(t);if(t.includes("@"))return lT(t);n.includes(",")?e=cT(n):n.includes("@")?e=lT(n):n&&e.push(ag(n))}return[cie(t,e)]}function cT(t){return t.replace(/\s/g,"").split(",").map(ag)}const uie=oe({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Nn(),...Hn(),...It()},"VSkeletonLoader"),die=be()({name:"VSkeletonLoader",props:uie(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Jt(ge(t,"color")),{dimensionStyles:r}=Vn(t),{elevationClasses:a}=oi(t),{themeClasses:o}=Ut(t),{t:l}=Mn(),c=L(()=>ag(mn(t.type).join(",")));return Ce(()=>{var f;const u=!n.default||t.loading,d=t.boilerplate||!u?{}:{ariaLive:"polite",ariaLabel:l(t.loadingText),role:"alert"};return M("div",Se({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},o.value,i.value,a.value],style:[s.value,u?r.value:{}]},d),[u?c.value:(f=n.default)==null?void 0:f.call(n)])}),{}}}),fie=be()({name:"VSlideGroupItem",props:Ol(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Nl(t,cL);return()=>{var s;return(s=n.default)==null?void 0:s.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function hie(t){const e=ke(t());let n=-1;function i(){clearInterval(n)}function s(){i(),Rt(()=>e.value=t())}function r(a){const o=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(o.transitionDuration)*1e3||200;if(i(),e.value<=0)return;const c=performance.now();n=window.setInterval(()=>{const u=performance.now()-c+l;e.value=Math.max(t()-u,0),e.value<=0&&i()},l)}return ri(i),{clear:i,time:e,start:r,reset:s}}const mie=oe({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ha({location:"bottom"}),...uu(),...fn(),...ks(),...It(),...Dn(Of({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),pie=be()({name:"VSnackbar",props:mie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{positionClasses:s}=du(t),{scopeId:r}=Fl(),{themeClasses:a}=Ut(t),{colorClasses:o,colorStyles:l,variantClasses:c}=kl(t),{roundedClasses:u}=bn(t),d=hie(()=>Number(t.timeout)),f=he(),h=he(),m=ke(!1),g=ke(0),p=he(),v=St(Ud,void 0);zi(()=>!!v,()=>{const E=R2();Zt(()=>{p.value=E.mainStyles.value})}),Ie(i,_),Ie(()=>t.timeout,_),On(()=>{i.value&&_()});let b=-1;function _(){d.reset(),window.clearTimeout(b);const E=Number(t.timeout);if(!i.value||E===-1)return;const P=Hx(h.value);d.start(P),b=window.setTimeout(()=>{i.value=!1},E)}function w(){d.reset(),window.clearTimeout(b)}function T(){m.value=!0,w()}function C(){m.value=!1,_()}function A(E){g.value=E.touches[0].clientY}function S(E){Math.abs(g.value-E.changedTouches[0].clientY)>50&&(i.value=!1)}function x(){m.value&&C()}const y=L(()=>t.location.split(" ").reduce((E,P)=>(E[`v-snackbar--${P}`]=!0,E),{}));return Ce(()=>{const E=xr.filterProps(t),P=!!(n.default||n.text||t.text);return M(xr,Se({ref:f,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},y.value,s.value,t.class],style:[p.value,t.style]},E,{modelValue:i.value,"onUpdate:modelValue":D=>i.value=D,contentProps:Se({class:["v-snackbar__wrapper",a.value,o.value,u.value,c.value],style:[l.value],onPointerenter:T,onPointerleave:C},E.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:A,onTouchend:S,onAfterLeave:x},r),{default:()=>{var D,N;return[no(!1,"v-snackbar"),t.timer&&!m.value&&M("div",{key:"timer",class:"v-snackbar__timer"},[M(Bv,{ref:h,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":d.time.value},null)]),P&&M("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((D=n.text)==null?void 0:D.call(n))??t.text,(N=n.default)==null?void 0:N.call(n)]),n.actions&&M(_t,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[M("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Ds({},f)}}),Hk=oe({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:t=>["top","bottom","left","right"].includes(t),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),Gk=oe({autoLineWidth:Boolean,...Hk()},"VBarline"),uT=be()({name:"VBarline",props:Gk(),setup(t,e){let{slots:n}=e;const i=ai(),s=L(()=>t.id||`barline-${i}`),r=L(()=>Number(t.autoDrawDuration)||500),a=L(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),o=L(()=>parseFloat(t.lineWidth)||4),l=L(()=>Math.max(t.modelValue.length*o.value,Number(t.width))),c=L(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(t.height,10)})),u=L(()=>t.modelValue.map(p=>Un(p,t.itemValue,p)));function d(p,v){const{minX:b,maxX:_,minY:w,maxY:T}=v,C=p.length;let A=t.max!=null?Number(t.max):Math.max(...p),S=t.min!=null?Number(t.min):Math.min(...p);S>0&&t.min==null&&(S=0),A<0&&t.max==null&&(A=0);const x=_/C,y=(T-w)/(A-S||1),E=T-Math.abs(S*y);return p.map((P,D)=>{const N=Math.abs(y*P);return{x:b+D*x,y:E-N+ +(P<0)*N,height:N,value:P}})}const f=L(()=>{const p=[],v=d(u.value,c.value),b=v.length;for(let _=0;p.length<b;_++){const w=v[_];let T=t.labels[_];T||(T=typeof w=="object"?w.value:w),p.push({x:w.x,value:String(T)})}return p}),h=L(()=>d(u.value,c.value)),m=L(()=>(Math.abs(h.value[0].x-h.value[1].x)-o.value)/2),g=L(()=>typeof t.smooth=="boolean"?t.smooth?2:0:Number(t.smooth));Ce(()=>{const p=t.gradient.slice().length?t.gradient.slice().reverse():[""];return M("svg",{display:"block"},[M("defs",null,[M("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[p.map((v,b)=>M("stop",{offset:b/Math.max(p.length-1,1),"stop-color":v||"currentColor"},null))])]),M("clipPath",{id:`${s.value}-clip`},[h.value.map(v=>M("rect",{x:v.x+m.value,y:v.y,width:o.value,height:v.height,rx:g.value,ry:g.value},[t.autoDraw&&M($e,null,[M("animate",{attributeName:"y",from:v.y+v.height,to:v.y,dur:`${r.value}ms`,fill:"freeze"},null),M("animate",{attributeName:"height",from:"0",to:v.height,dur:`${r.value}ms`,fill:"freeze"},null)])]))]),a.value&&M("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[f.value.map((v,b)=>{var _;return M("text",{x:v.x+m.value+o.value/2,y:parseInt(t.height,10)-2+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((_=n.label)==null?void 0:_.call(n,{index:b,value:v.value}))??v.value])})]),M("g",{"clip-path":`url(#${s.value}-clip)`,fill:`url(#${s.value})`},[M("rect",{x:0,y:0,width:Math.max(t.modelValue.length*o.value,Number(t.width)),height:t.height},null)])])})}});function vie(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(t.length===0)return"";const s=t.shift(),r=t[t.length-1];return(n?`M${s.x} ${i-s.x+2} L${s.x} ${s.y}`:`M${s.x} ${s.y}`)+t.map((a,o)=>{const l=t[o+1],c=t[o-1]||s,u=l&&gie(l,a,c);if(!l||u)return`L${a.x} ${a.y}`;const d=Math.min(dT(c,a),dT(l,a)),h=d/2<e?d/2:e,m=fT(c,a,h),g=fT(l,a,h);return`L${m.x} ${m.y}S${a.x} ${a.y} ${g.x} ${g.y}`}).join("")+(n?`L${r.x} ${i-s.x+2} Z`:"")}function Jh(t){return parseInt(t,10)}function gie(t,e,n){return Jh(t.x+n.x)===Jh(2*e.x)&&Jh(t.y+n.y)===Jh(2*e.y)}function dT(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fT(t,e,n){const i={x:t.x-e.x,y:t.y-e.y},s=Math.sqrt(i.x*i.x+i.y*i.y),r={x:i.x/s,y:i.y/s};return{x:e.x+r.x*n,y:e.y+r.y*n}}const Wk=oe({fill:Boolean,...Hk()},"VTrendline"),hT=be()({name:"VTrendline",props:Wk(),setup(t,e){let{slots:n}=e;const i=ai(),s=L(()=>t.id||`trendline-${i}`),r=L(()=>Number(t.autoDrawDuration)||(t.fill?500:2e3)),a=he(0),o=he(null);function l(p,v){const{minX:b,maxX:_,minY:w,maxY:T}=v,C=p.length,A=t.max!=null?Number(t.max):Math.max(...p),S=t.min!=null?Number(t.min):Math.min(...p),x=(_-b)/(C-1),y=(T-w)/(A-S||1);return p.map((E,P)=>({x:b+P*x,y:T-(E-S)*y,value:E}))}const c=L(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),u=L(()=>parseFloat(t.lineWidth)||4),d=L(()=>Number(t.width)),f=L(()=>{const p=Number(t.padding);return{minX:p,maxX:d.value-p,minY:p,maxY:parseInt(t.height,10)-p}}),h=L(()=>t.modelValue.map(p=>Un(p,t.itemValue,p))),m=L(()=>{const p=[],v=l(h.value,f.value),b=v.length;for(let _=0;p.length<b;_++){const w=v[_];let T=t.labels[_];T||(T=typeof w=="object"?w.value:w),p.push({x:w.x,value:String(T)})}return p});Ie(()=>t.modelValue,async()=>{if(await Rt(),!t.autoDraw||!o.value)return;const p=o.value,v=p.getTotalLength();t.fill?(p.style.transformOrigin="bottom center",p.style.transition="none",p.style.transform="scaleY(0)",p.getBoundingClientRect(),p.style.transition=`transform ${r.value}ms ${t.autoDrawEasing}`,p.style.transform="scaleY(1)"):(p.style.strokeDasharray=`${v}`,p.style.strokeDashoffset=`${v}`,p.getBoundingClientRect(),p.style.transition=`stroke-dashoffset ${r.value}ms ${t.autoDrawEasing}`,p.style.strokeDashoffset="0"),a.value=v},{immediate:!0});function g(p){const v=typeof t.smooth=="boolean"?t.smooth?8:0:Number(t.smooth);return vie(l(h.value,f.value),v,p,parseInt(t.height,10))}Ce(()=>{var v;const p=t.gradient.slice().length?t.gradient.slice().reverse():[""];return M("svg",{display:"block","stroke-width":parseFloat(t.lineWidth)??4},[M("defs",null,[M("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[p.map((b,_)=>M("stop",{offset:_/Math.max(p.length-1,1),"stop-color":b||"currentColor"},null))])]),c.value&&M("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[m.value.map((b,_)=>{var w;return M("text",{x:b.x+u.value/2+u.value/2,y:parseInt(t.height,10)-4+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((w=n.label)==null?void 0:w.call(n,{index:_,value:b.value}))??b.value])})]),M("path",{ref:o,d:g(t.fill),fill:t.fill?`url(#${s.value})`:"none",stroke:t.fill?"none":`url(#${s.value})`},null),t.fill&&M("path",{d:g(!1),fill:"none",stroke:t.color??((v=t.gradient)==null?void 0:v[0])},null)])})}}),yie=oe({type:{type:String,default:"trend"},...Gk(),...Wk()},"VSparkline"),bie=be()({name:"VSparkline",props:yie(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=ui(ge(t,"color")),r=L(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),a=L(()=>{let o=parseInt(t.height,10);return r.value&&(o+=parseInt(t.labelSize,10)*1.5),o});Ce(()=>{const o=t.type==="trend"?hT:uT,l=t.type==="trend"?hT.filterProps(t):uT.filterProps(t);return M(o,Se({key:t.type,class:i.value,style:s.value,viewBox:`0 0 ${t.width} ${parseInt(a.value,10)}`},l),n)})}}),_ie=oe({...Ue(),...LL({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),xie=be()({name:"VSpeedDial",props:_ie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),s=he(),r=L(()=>{var c;const[o,l="center"]=((c=t.location)==null?void 0:c.split(" "))??[];return`${o} ${l}`}),a=L(()=>({[`v-speed-dial__content--${r.value.replace(" ","-")}`]:!0}));return Ce(()=>{const o=Jc.filterProps(t);return M(Jc,Se(o,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:t.class,style:t.style,contentClass:["v-speed-dial__content",a.value,t.contentClass],location:r.value,ref:s,transition:"fade-transition"}),{...n,default:l=>M(_t,{defaults:{VBtn:{size:"small"}}},{default:()=>[M(bi,{appear:!0,group:!0,transition:t.transition},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,l)]}})]})})}),{}}}),Ow=Symbol.for("vuetify:v-stepper"),$k=oe({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),jk=be()({name:"VStepperActions",props:$k(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=Mn();function r(){n("click:prev")}function a(){n("click:next")}return Ce(()=>{const o={onClick:r},l={onClick:a};return M("div",{class:"v-stepper-actions"},[M(_t,{defaults:{VBtn:{disabled:["prev",!0].includes(t.disabled),text:s(t.prevText),variant:"text"}}},{default:()=>{var c;return[((c=i.prev)==null?void 0:c.call(i,{props:o}))??M(Ft,o,null)]}}),M(_t,{defaults:{VBtn:{color:t.color,disabled:["next",!0].includes(t.disabled),text:s(t.nextText),variant:"tonal"}}},{default:()=>{var c;return[((c=i.next)==null?void 0:c.call(i,{props:l}))??M(Ft,l,null)]}})])}),{}}}),Xk=Pr("v-stepper-header"),wie=oe({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Ze,default:"$complete"},editable:Boolean,editIcon:{type:Ze,default:"$edit"},error:Boolean,errorIcon:{type:Ze,default:"$error"},icon:Ze,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),Sie=oe({...wie(),...Ol()},"VStepperItem"),Yk=be()({name:"VStepperItem",directives:{Ripple:ma},props:Sie(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Nl(t,Ow,!0),s=L(()=>(i==null?void 0:i.value.value)??t.value),r=L(()=>t.rules.every(f=>f()===!0)),a=L(()=>!t.disabled&&t.editable),o=L(()=>!t.disabled&&t.editable),l=L(()=>t.error||!r.value),c=L(()=>t.complete||t.rules.length>0&&r.value),u=L(()=>l.value?t.errorIcon:c.value?t.completeIcon:i.isSelected.value&&t.editable?t.editIcon:t.icon),d=L(()=>({canEdit:o.value,hasError:l.value,hasCompleted:c.value,title:t.title,subtitle:t.subtitle,step:s.value,value:t.value}));return Ce(()=>{var p,v,b;const f=(!i||i.isSelected.value||c.value||o.value)&&!l.value&&!t.disabled,h=!!(t.title!=null||n.title),m=!!(t.subtitle!=null||n.subtitle);function g(){i==null||i.toggle()}return tt(M("button",{class:["v-stepper-item",{"v-stepper-item--complete":c.value,"v-stepper-item--disabled":t.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!t.editable,type:"button",onClick:g},[a.value&&no(!0,"v-stepper-item"),M(Is,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?t.color:void 0,size:24},{default:()=>{var _;return[((_=n.icon)==null?void 0:_.call(n,d.value))??(u.value?M(Bt,{icon:u.value},null):s.value)]}}),M("div",{class:"v-stepper-item__content"},[h&&M("div",{key:"title",class:"v-stepper-item__title"},[((p=n.title)==null?void 0:p.call(n,d.value))??t.title]),m&&M("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((v=n.subtitle)==null?void 0:v.call(n,d.value))??t.subtitle]),(b=n.default)==null?void 0:b.call(n,d.value)])]),[[Sn("ripple"),t.ripple&&t.editable,null]])}),{}}}),Mie=oe({...Dn(Yv(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),qk=be()({name:"VStepperWindow",props:Mie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=St(Ow,null),s=Ke(t,"modelValue"),r=L({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return Ce(()=>{const a=gl.filterProps(t);return M(gl,Se({_as:"VStepperWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-stepper-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),Cie=oe({...qv()},"VStepperWindowItem"),Kk=be()({name:"VStepperWindowItem",props:Cie(),setup(t,e){let{slots:n}=e;return Ce(()=>{const i=yl.filterProps(t);return M(yl,Se({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",t.class],style:t.style}),n)}),{}}}),Tie=oe({altLabels:Boolean,bgColor:String,completeIcon:Ze,editIcon:Ze,editable:Boolean,errorIcon:Ze,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Pl()},"Stepper"),Eie=oe({...Tie(),...Dl({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Kv(),...Pv($k(),["prevText","nextText"])},"VStepper"),Aie=be()({name:"VStepper",props:Eie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{items:i,next:s,prev:r,selected:a}=io(t,Ow),{displayClasses:o,mobile:l}=Ls(t),{completeIcon:c,editIcon:u,errorIcon:d,color:f,editable:h,prevText:m,nextText:g}=Ys(t),p=L(()=>t.items.map((_,w)=>{const T=Un(_,t.itemTitle,_),C=Un(_,t.itemValue,w+1);return{title:T,value:C,raw:_}})),v=L(()=>i.value.findIndex(_=>a.value.includes(_.id))),b=L(()=>t.disabled?t.disabled:v.value===0?"prev":v.value===i.value.length-1?"next":!1);return gn({VStepperItem:{editable:h,errorIcon:d,completeIcon:c,editIcon:u,prevText:m,nextText:g},VStepperActions:{color:f,disabled:b,prevText:m,nextText:g}}),Ce(()=>{const _=bl.filterProps(t),w=!!(n.header||t.items.length),T=t.items.length>0,C=!t.hideActions&&!!(T||n.actions);return M(bl,Se(_,{color:t.bgColor,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":l.value},o.value,t.class],style:t.style}),{default:()=>{var A,S;return[w&&M(Xk,{key:"stepper-header"},{default:()=>[p.value.map((x,y)=>{let{raw:E,...P}=x;return M($e,null,[!!y&&M(Df,null,null),M(Yk,P,{default:n[`header-item.${P.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),T&&M(qk,{key:"stepper-window"},{default:()=>[p.value.map(x=>M(Kk,{value:x.value},{default:()=>{var y,E;return((y=n[`item.${x.value}`])==null?void 0:y.call(n,x))??((E=n.item)==null?void 0:E.call(n,x))}}))]}),(A=n.default)==null?void 0:A.call(n,{prev:r,next:s}),C&&(((S=n.actions)==null?void 0:S.call(n,{next:s,prev:r}))??M(jk,{key:"stepper-actions","onClick:prev":r,"onClick:next":s},n))]}})}),{prev:r,next:s}}}),Pie=oe({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...va(),...Hv()},"VSwitch"),Iie=be()({name:"VSwitch",inheritAttrs:!1,props:Pie(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ke(t,"indeterminate"),r=Ke(t,"modelValue"),{loaderClasses:a}=Pf(t),{isFocused:o,focus:l,blur:c}=pa(t),u=he(),d=Ot&&window.matchMedia("(forced-colors: active)").matches,f=L(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),h=ai(),m=L(()=>t.id||`switch-${h}`);function g(){s.value&&(s.value=!1)}function p(v){var b,_;v.stopPropagation(),v.preventDefault(),(_=(b=u.value)==null?void 0:b.input)==null||_.click()}return Ce(()=>{const[v,b]=to(n),_=di.filterProps(t),w=Xa.filterProps(t);return M(di,Se({class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":s.value},a.value,t.class]},v,_,{modelValue:r.value,"onUpdate:modelValue":T=>r.value=T,id:m.value,focused:o.value,style:t.style}),{...i,default:T=>{let{id:C,messagesId:A,isDisabled:S,isReadonly:x,isValid:y}=T;const E={model:r,isValid:y};return M(Xa,Se({ref:u},w,{modelValue:r.value,"onUpdate:modelValue":[P=>r.value=P,g],id:C.value,"aria-describedby":A.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:S.value,readonly:x.value,onFocus:l,onBlur:c},b),{...i,default:P=>{let{backgroundColorClasses:D,backgroundColorStyles:N}=P;return M("div",{class:["v-switch__track",d?void 0:D.value],style:N.value,onClick:p},[i["track-true"]&&M("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](E)]),i["track-false"]&&M("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](E)])])},input:P=>{let{inputNode:D,icon:N,backgroundColorClasses:W,backgroundColorStyles:B}=P;return M($e,null,[D,M("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":N||t.loading},t.inset||d?void 0:W.value],style:t.inset?void 0:B.value},[i.thumb?M(_t,{defaults:{VIcon:{icon:N,size:"x-small"}}},{default:()=>[i.thumb({...E,icon:N})]}):M(tw,null,{default:()=>[t.loading?M(If,{name:"v-switch",active:!0,color:y.value===!1?void 0:f.value},{default:q=>i.loader?i.loader(q):M(Zc,{active:q.isActive,color:q.color,indeterminate:!0,size:"16",width:"2"},null)}):N&&M(Bt,{key:String(N),icon:N,size:"x-small"},null)]})])])}})}})}),{}}}),Rie=oe({color:String,height:[Number,String],window:Boolean,...Ue(),...Hn(),...Il(),...fn(),...ht(),...It()},"VSystemBar"),Lie=be()({name:"VSystemBar",props:Rie(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t),{backgroundColorClasses:s,backgroundColorStyles:r}=Jt(ge(t,"color")),{elevationClasses:a}=oi(t),{roundedClasses:o}=bn(t),{ssrBootStyles:l}=Ll(),c=L(()=>t.height??(t.window?32:24)),{layoutItemStyles:u}=Rl({id:t.name,order:L(()=>parseInt(t.order,10)),position:ke("top"),layoutSize:c,elementSize:c,active:L(()=>!0),absolute:ge(t,"absolute")});return Ce(()=>M(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},i.value,s.value,a.value,o.value,t.class],style:[r.value,u.value,l.value,t.style]},n)),{}}}),Nw=Symbol.for("vuetify:v-tabs"),kie=oe({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Dn(zv({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Zk=be()({name:"VTab",props:kie(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:s,textColorStyles:r}=ui(t,"sliderColor"),a=he(),o=he(),l=L(()=>t.direction==="horizontal"),c=L(()=>{var d,f;return((f=(d=a.value)==null?void 0:d.group)==null?void 0:f.isSelected.value)??!1});function u(d){var h,m;let{value:f}=d;if(f){const g=(m=(h=a.value)==null?void 0:h.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),p=o.value;if(!g||!p)return;const v=getComputedStyle(g).color,b=g.getBoundingClientRect(),_=p.getBoundingClientRect(),w=l.value?"x":"y",T=l.value?"X":"Y",C=l.value?"right":"bottom",A=l.value?"width":"height",S=b[w],x=_[w],y=S>x?b[C]-_[C]:b[w]-_[w],E=Math.sign(y)>0?l.value?"right":"bottom":Math.sign(y)<0?l.value?"left":"top":"center",D=(Math.abs(y)+(Math.sign(y)<0?b[A]:_[A]))/Math.max(b[A],_[A])||0,N=b[A]/_[A]||0,W=1.5;Ho(p,{backgroundColor:[v,"currentcolor"],transform:[`translate${T}(${y}px) scale${T}(${N})`,`translate${T}(${y/W}px) scale${T}(${(D-1)/W+1})`,"none"],transformOrigin:Array(3).fill(E)},{duration:225,easing:Fd})}}return Ce(()=>{const d=Ft.filterProps(t);return M(Ft,Se({symbol:Nw,ref:a,class:["v-tab",t.class],style:t.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},d,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":u}),{...n,default:()=>{var f;return M($e,null,[((f=n.default)==null?void 0:f.call(n))??t.text,!t.hideSlider&&M("div",{ref:o,class:["v-tab__slider",s.value],style:r.value},null)])}})}),Ds({},a)}}),Die=oe({...Dn(Yv(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Jk=be()({name:"VTabsWindow",props:Die(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=St(Nw,null),s=Ke(t,"modelValue"),r=L({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return Ce(()=>{const a=gl.filterProps(t);return M(gl,Se({_as:"VTabsWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),Oie=oe({...qv()},"VTabsWindowItem"),Qk=be()({name:"VTabsWindowItem",props:Oie(),setup(t,e){let{slots:n}=e;return Ce(()=>{const i=yl.filterProps(t);return M(yl,Se({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function Nie(t){return t?t.map(e=>Av(e)?e:{text:e,value:e}):[]}const Vie=oe({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...ow({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Kn(),...ht()},"VTabs"),Fie=be()({name:"VTabs",props:Vie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ke(t,"modelValue"),r=L(()=>Nie(t.items)),{densityClasses:a}=Mi(t),{backgroundColorClasses:o,backgroundColorStyles:l}=Jt(ge(t,"bgColor")),{scopeId:c}=Fl();return gn({VTab:{color:ge(t,"color"),direction:ge(t,"direction"),stacked:ge(t,"stacked"),fixed:ge(t,"fixedTabs"),sliderColor:ge(t,"sliderColor"),hideSlider:ge(t,"hideSlider")}}),Ce(()=>{const u=$d.filterProps(t),d=!!(i.window||t.items.length>0);return M($e,null,[M($d,Se(u,{modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},a.value,o.value,t.class],style:[{"--v-tabs-height":Ve(t.height)},l.value,t.style],role:"tablist",symbol:Nw},c,n),{default:()=>{var f;return[((f=i.default)==null?void 0:f.call(i))??r.value.map(h=>{var m;return((m=i.tab)==null?void 0:m.call(i,{item:h}))??M(Zk,Se(h,{key:h.text,value:h.value}),{default:i[`tab.${h.value}`]?()=>{var g;return(g=i[`tab.${h.value}`])==null?void 0:g.call(i,{item:h})}:void 0})})]}}),d&&M(Jk,Se({modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,key:"tabs-window"},c),{default:()=>{var f;return[r.value.map(h=>{var m;return((m=i.item)==null?void 0:m.call(i,{item:h}))??M(Qk,{value:h.value},{default:()=>{var g;return(g=i[`item.${h.value}`])==null?void 0:g.call(i,{item:h})}})}),(f=i.window)==null?void 0:f.call(i)]}})])}),{}}}),Bie=oe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...va(),...Nf()},"VTextarea"),Uie=be()({name:"VTextarea",directives:{Intersect:Af},inheritAttrs:!1,props:Bie(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ke(t,"modelValue"),{isFocused:a,focus:o,blur:l}=pa(t),c=L(()=>typeof t.counterValue=="function"?t.counterValue(r.value):(r.value||"").toString().length),u=L(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function d(E,P){var D,N;!t.autofocus||!E||(N=(D=P[0].target)==null?void 0:D.focus)==null||N.call(D)}const f=he(),h=he(),m=ke(""),g=he(),p=L(()=>t.persistentPlaceholder||a.value||t.active);function v(){var E;g.value!==document.activeElement&&((E=g.value)==null||E.focus()),a.value||o()}function b(E){v(),i("click:control",E)}function _(E){i("mousedown:control",E)}function w(E){E.stopPropagation(),v(),Rt(()=>{r.value="",Rv(t["onClick:clear"],E)})}function T(E){var D;const P=E.target;if(r.value=P.value,(D=t.modelModifiers)!=null&&D.trim){const N=[P.selectionStart,P.selectionEnd];Rt(()=>{P.selectionStart=N[0],P.selectionEnd=N[1]})}}const C=he(),A=he(+t.rows),S=L(()=>["plain","underlined"].includes(t.variant));Zt(()=>{t.autoGrow||(A.value=+t.rows)});function x(){t.autoGrow&&Rt(()=>{if(!C.value||!h.value)return;const E=getComputedStyle(C.value),P=getComputedStyle(h.value.$el),D=parseFloat(E.getPropertyValue("--v-field-padding-top"))+parseFloat(E.getPropertyValue("--v-input-padding-top"))+parseFloat(E.getPropertyValue("--v-field-padding-bottom")),N=C.value.scrollHeight,W=parseFloat(E.lineHeight),B=Math.max(parseFloat(t.rows)*W+D,parseFloat(P.getPropertyValue("--v-input-control-height"))),q=parseFloat(t.maxRows)*W+D||1/0,j=Rn(N??0,B,q);A.value=Math.floor((j-D)/W),m.value=Ve(j)})}On(x),Ie(r,x),Ie(()=>t.rows,x),Ie(()=>t.maxRows,x),Ie(()=>t.density,x);let y;return Ie(C,E=>{E?(y=new ResizeObserver(x),y.observe(C.value)):y==null||y.disconnect()}),qn(()=>{y==null||y.disconnect()}),Ce(()=>{const E=!!(s.counter||t.counter||t.counterValue),P=!!(E||s.details),[D,N]=to(n),{modelValue:W,...B}=di.filterProps(t),q=pw(t);return M(di,Se({ref:f,modelValue:r.value,"onUpdate:modelValue":j=>r.value=j,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":S.value},t.class],style:t.style},D,B,{centerAffix:A.value===1&&!S.value,focused:a.value}),{...s,default:j=>{let{id:Q,isDisabled:Z,isDirty:X,isReadonly:ce,isValid:Me}=j;return M(mu,Se({ref:h,style:{"--v-textarea-control-height":m.value},onClick:b,onMousedown:_,"onClick:clear":w,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},q,{id:Q.value,active:p.value||X.value,centerAffix:A.value===1&&!S.value,dirty:X.value||t.dirty,disabled:Z.value,focused:a.value,error:Me.value===!1}),{...s,default:ee=>{let{props:{class:pe,...ne}}=ee;return M($e,null,[t.prefix&&M("span",{class:"v-text-field__prefix"},[t.prefix]),tt(M("textarea",Se({ref:g,class:pe,value:r.value,onInput:T,autofocus:t.autofocus,readonly:ce.value,disabled:Z.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:v,onBlur:l},ne,N),null),[[Sn("intersect"),{handler:d},null,{once:!0}]]),t.autoGrow&&tt(M("textarea",{class:[pe,"v-textarea__sizer"],id:`${ne.id}-sizer`,"onUpdate:modelValue":de=>r.value=de,ref:C,readonly:!0,"aria-hidden":"true"},null),[[RO,r.value]]),t.suffix&&M("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:P?j=>{var Q;return M($e,null,[(Q=s.details)==null?void 0:Q.call(s,j),E&&M($e,null,[M("span",null,null),M($v,{active:t.persistentCounter||a.value,value:c.value,max:u.value,disabled:t.disabled},s.counter)])])}:void 0})}),Ds({},f,h,g)}}),zie=oe({withBackground:Boolean,...Ue(),...It(),...ht()},"VThemeProvider"),Hie=be()({name:"VThemeProvider",props:zie(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t);return()=>{var s;return t.withBackground?M(t.tag,{class:["v-theme-provider",i.value,t.class],style:t.style},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}}):(s=n.default)==null?void 0:s.call(n)}}}),Gie=oe({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ze,iconColor:String,lineColor:String,...Ue(),...fn(),...Ir(),...Hn()},"VTimelineDivider"),Wie=be()({name:"VTimelineDivider",props:Gie(),setup(t,e){let{slots:n}=e;const{sizeClasses:i,sizeStyles:s}=cu(t,"v-timeline-divider__dot"),{backgroundColorStyles:r,backgroundColorClasses:a}=Jt(ge(t,"dotColor")),{roundedClasses:o}=bn(t,"v-timeline-divider__dot"),{elevationClasses:l}=oi(t),{backgroundColorClasses:c,backgroundColorStyles:u}=Jt(ge(t,"lineColor"));return Ce(()=>M("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[M("div",{class:["v-timeline-divider__before",c.value],style:u.value},null),!t.hideDot&&M("div",{key:"dot",class:["v-timeline-divider__dot",l.value,o.value,i.value],style:s.value},[M("div",{class:["v-timeline-divider__inner-dot",a.value,o.value],style:r.value},[n.default?M(_t,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},n.default):M(Bt,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),M("div",{class:["v-timeline-divider__after",c.value],style:u.value},null)])),{}}}),eD=oe({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ze,iconColor:String,lineInset:[Number,String],...Ue(),...Nn(),...Hn(),...fn(),...Ir(),...ht()},"VTimelineItem"),$ie=be()({name:"VTimelineItem",props:eD(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=Vn(t),s=ke(0),r=he();return Ie(r,a=>{var o;a&&(s.value=((o=a.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:o.getBoundingClientRect().width)??0)},{flush:"post"}),Ce(()=>{var a,o;return M("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot},t.class],style:[{"--v-timeline-dot-size":Ve(s.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Ve(t.lineInset)})`:Ve(0)},t.style]},[M("div",{class:"v-timeline-item__body",style:i.value},[(a=n.default)==null?void 0:a.call(n)]),M(Wie,{ref:r,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:n.icon}),t.density!=="compact"&&M("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((o=n.opposite)==null?void 0:o.call(n))])])}),{}}}),jie=oe({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Pv(eD({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Ue(),...Kn(),...ht(),...It()},"VTimeline"),Xie=be()({name:"VTimeline",props:jie(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ut(t),{densityClasses:s}=Mi(t),{rtlClasses:r}=zn();gn({VTimelineDivider:{lineColor:ge(t,"lineColor")},VTimelineItem:{density:ge(t,"density"),dotColor:ge(t,"dotColor"),fillDot:ge(t,"fillDot"),hideOpposite:ge(t,"hideOpposite"),iconColor:ge(t,"iconColor"),lineColor:ge(t,"lineColor"),lineInset:ge(t,"lineInset"),size:ge(t,"size")}});const a=L(()=>{const l=t.side?t.side:t.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),o=L(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return Ce(()=>M(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},i.value,s.value,a.value,r.value,t.class],style:[{"--v-timeline-line-thickness":Ve(t.lineThickness)},t.style]},n)),{}}}),Yie=oe({...Ue(),...ks({variant:"text"})},"VToolbarItems"),qie=be()({name:"VToolbarItems",props:Yie(),setup(t,e){let{slots:n}=e;return gn({VBtn:{color:ge(t,"color"),height:"inherit",variant:ge(t,"variant")}}),Ce(()=>{var i;return M("div",{class:["v-toolbar-items",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Kie=oe({id:String,text:String,...Dn(Of({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),tD=be()({name:"VTooltip",props:Kie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{scopeId:s}=Fl(),r=ai(),a=L(()=>t.id||`v-tooltip-${r}`),o=he(),l=L(()=>t.location.split(" ").length>1?t.location:t.location+" center"),c=L(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),u=L(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),d=L(()=>Se({"aria-describedby":a.value},t.activatorProps));return Ce(()=>{const f=xr.filterProps(t);return M(xr,Se({ref:o,class:["v-tooltip",t.class],style:t.style,id:a.value},f,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,transition:u.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},s),{activator:n.activator,default:function(){var p;for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return((p=n.default)==null?void 0:p.call(n,...m))??t.text}})}),Ds({},o)}}),Zie=be()({name:"VValidation",props:rL(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=aL(t,"validation");return()=>{var s;return(s=n.default)==null?void 0:s.call(n,i)}}}),Jie=Object.freeze(Object.defineProperty({__proto__:null,VAlert:_J,VAlertTitle:J2,VApp:PZ,VAppBar:qZ,VAppBarNavIcon:vJ,VAppBarTitle:gJ,VAutocomplete:HQ,VAvatar:Is,VBadge:WQ,VBanner:XQ,VBannerActions:NL,VBannerText:VL,VBottomNavigation:qQ,VBottomSheet:ZQ,VBreadcrumbs:tee,VBreadcrumbsDivider:BL,VBreadcrumbsItem:UL,VBtn:Ft,VBtnGroup:ab,VBtnToggle:tJ,VCard:aee,VCardActions:zL,VCardItem:WL,VCardSubtitle:HL,VCardText:$L,VCardTitle:GL,VCarousel:pee,VCarouselItem:gee,VCheckbox:PJ,VCheckboxBtn:ca,VChip:hu,VChipGroup:DJ,VClassIcon:Qx,VCode:yee,VCol:Xte,VColorPicker:ate,VCombobox:cte,VComponentIcon:ib,VConfirmEdit:dte,VContainer:Gte,VCounter:$v,VDataIterator:xte,VDataTable:Vte,VDataTableFooter:Xd,VDataTableHeaders:_l,VDataTableRow:Iw,VDataTableRows:xl,VDataTableServer:zte,VDataTableVirtual:Bte,VDatePicker:ane,VDatePickerControls:wb,VDatePickerHeader:Sb,VDatePickerMonth:Mb,VDatePickerMonths:Cb,VDatePickerYears:Tb,VDefaultsProvider:_t,VDialog:mb,VDialogBottomTransition:kZ,VDialogTopTransition:DZ,VDialogTransition:Nv,VDivider:Df,VEmptyState:lne,VExpandTransition:Vv,VExpandXTransition:iw,VExpansionPanel:cne,VExpansionPanelText:Eb,VExpansionPanelTitle:Ab,VExpansionPanels:fne,VFab:mne,VFabTransition:LZ,VFadeTransition:zd,VField:mu,VFieldLabel:Gu,VFileInput:vne,VFooter:yne,VForm:_ne,VHover:wne,VIcon:Bt,VImg:la,VInfiniteScroll:Mne,VInput:di,VItem:Ene,VItemGroup:Tne,VKbd:Ane,VLabel:fu,VLayout:Ine,VLayoutItem:Lne,VLazy:Dne,VLigatureIcon:_Z,VList:Wv,VListGroup:ub,VListImg:iQ,VListItem:ua,VListItemAction:rQ,VListItemMedia:oQ,VListItemSubtitle:yL,VListItemTitle:bL,VListSubheader:_L,VLocaleProvider:Nne,VMain:Fne,VMenu:Jc,VMessages:iL,VNavigationDrawer:Xne,VNoSsr:Yne,VOtpInput:Kne,VOverlay:xr,VPagination:_b,VParallax:Qne,VProgressCircular:Zc,VProgressLinear:Bv,VRadio:tie,VRadioGroup:iie,VRangeSlider:rie,VRating:oie,VResponsive:sb,VRow:ene,VScaleTransition:tw,VScrollXReverseTransition:NZ,VScrollXTransition:OZ,VScrollYReverseTransition:FZ,VScrollYTransition:VZ,VSelect:yw,VSelectionControl:Xa,VSelectionControlGroup:eL,VSheet:bl,VSkeletonLoader:die,VSlideGroup:$d,VSlideGroupItem:fie,VSlideXReverseTransition:UZ,VSlideXTransition:BZ,VSlideYReverseTransition:zZ,VSlideYTransition:nw,VSlider:bb,VSnackbar:pie,VSpacer:Lk,VSparkline:bie,VSpeedDial:xie,VStepper:Aie,VStepperActions:jk,VStepperHeader:Xk,VStepperItem:Yk,VStepperWindow:qk,VStepperWindowItem:Kk,VSvgIcon:Jx,VSwitch:Iie,VSystemBar:Lie,VTab:Zk,VTable:wl,VTabs:Fie,VTabsWindow:Jk,VTabsWindowItem:Qk,VTextField:vl,VTextarea:Uie,VThemeProvider:Hie,VTimeline:Xie,VTimelineItem:$ie,VToolbar:rb,VToolbarItems:qie,VToolbarTitle:ew,VTooltip:tD,VValidation:Zie,VVirtualScroll:Xv,VWindow:gl,VWindowItem:yl},Symbol.toStringTag,{value:"Module"}));function Qie(t,e){const n=e.modifiers||{},i=e.value,{once:s,immediate:r,...a}=n,o=!Object.keys(a).length,{handler:l,options:c}=typeof i=="object"?i:{handler:i,options:{attributes:(a==null?void 0:a.attr)??o,characterData:(a==null?void 0:a.char)??o,childList:(a==null?void 0:a.child)??o,subtree:(a==null?void 0:a.sub)??o}},u=new MutationObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;l==null||l(d,f),s&&nD(t,e)});r&&(l==null||l([],u)),t._mutate=Object(t._mutate),t._mutate[e.instance.$.uid]={observer:u},u.observe(t,c)}function nD(t,e){var n;(n=t._mutate)!=null&&n[e.instance.$.uid]&&(t._mutate[e.instance.$.uid].observer.disconnect(),delete t._mutate[e.instance.$.uid])}const ese={mounted:Qie,unmounted:nD};function tse(t,e){var s,r;const n=e.value,i={passive:!((s=e.modifiers)!=null&&s.active)};window.addEventListener("resize",n,i),t._onResize=Object(t._onResize),t._onResize[e.instance.$.uid]={handler:n,options:i},(r=e.modifiers)!=null&&r.quiet||n()}function nse(t,e){var s;if(!((s=t._onResize)!=null&&s[e.instance.$.uid]))return;const{handler:n,options:i}=t._onResize[e.instance.$.uid];window.removeEventListener("resize",n,i),delete t._onResize[e.instance.$.uid]}const ise={mounted:tse,unmounted:nse};function iD(t,e){const{self:n=!1}=e.modifiers??{},i=e.value,s=typeof i=="object"&&i.options||{passive:!0},r=typeof i=="function"||"handleEvent"in i?i:i.handler,a=n?t:e.arg?document.querySelector(e.arg):window;a&&(a.addEventListener("scroll",r,s),t._onScroll=Object(t._onScroll),t._onScroll[e.instance.$.uid]={handler:r,options:s,target:n?void 0:a})}function sD(t,e){var r;if(!((r=t._onScroll)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:i,target:s=t}=t._onScroll[e.instance.$.uid];s.removeEventListener("scroll",n,i),delete t._onScroll[e.instance.$.uid]}function sse(t,e){e.value!==e.oldValue&&(sD(t,e),iD(t,e))}const rse={mounted:iD,unmounted:sD,updated:sse};function ase(t,e){const n=typeof t=="string"?Ia(t):t,i=ose(n,e);return{mounted:i,updated:i,unmounted(s){n_(null,s)}}}function ose(t,e){return function(n,i,s){var d,f,h;const r=typeof e=="function"?e(i):e,a=((d=i.value)==null?void 0:d.text)??i.value??(r==null?void 0:r.text),o=Av(i.value)?i.value:{},l=()=>a??n.textContent,c=(s.ctx===i.instance.$?(f=lse(s,i.instance.$))==null?void 0:f.provides:(h=s.ctx)==null?void 0:h.provides)??i.instance.$.provides,u=hs(t,Se(r,o),l);u.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:c}),n_(u,n)}}function lse(t,e){const n=new Set,i=r=>{var a,o;for(const l of r){if(!l)continue;if(l===t||l.el&&t.el&&l.el===t.el)return!0;n.add(l);let c;if(l.suspense?c=i([l.ssContent]):Array.isArray(l.children)?c=i(l.children):(a=l.component)!=null&&a.vnode&&(c=i([(o=l.component)==null?void 0:o.subTree])),c)return c;n.delete(l)}return!1};if(!i([e.subTree]))return e;const s=Array.from(n).reverse();for(const r of s)if(r.component)return r.component;return e}const cse=ase(tD,t=>{var e;return{activator:"parent",location:(e=t.arg)==null?void 0:e.replace("-"," "),text:typeof t.value=="boolean"?void 0:t.value}}),use=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:RL,Intersect:Af,Mutate:ese,Resize:ise,Ripple:ma,Scroll:rse,Tooltip:cse,Touch:bw},Symbol.toStringTag,{value:"Module"})),dse=k2({components:Jie,directives:use});OO(V7).use(dse).use(Mq).mount("#app");
