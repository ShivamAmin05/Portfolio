(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tb(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const rn={},_c=[],cr=()=>{},fD=()=>!1,Sp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Eb=t=>t.startsWith("onUpdate:"),Dn=Object.assign,Ab=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},mD=Object.prototype.hasOwnProperty,Xt=(t,e)=>mD.call(t,e),ht=Array.isArray,xc=t=>Mp(t)==="[object Map]",_T=t=>Mp(t)==="[object Set]",pt=t=>typeof t=="function",Ln=t=>typeof t=="string",ca=t=>typeof t=="symbol",vn=t=>t!==null&&typeof t=="object",Pb=t=>(vn(t)||pt(t))&&pt(t.then)&&pt(t.catch),xT=Object.prototype.toString,Mp=t=>xT.call(t),pD=t=>Mp(t).slice(8,-1),wT=t=>Mp(t)==="[object Object]",Ib=t=>Ln(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zu=Tb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},vD=/-(\w)/g,Ji=Cp(t=>t.replace(vD,(e,n)=>n?n.toUpperCase():"")),gD=/\B([A-Z])/g,xl=Cp(t=>t.replace(gD,"-$1").toLowerCase()),br=Cp(t=>t.charAt(0).toUpperCase()+t.slice(1)),ig=Cp(t=>t?`on${br(t)}`:""),za=(t,e)=>!Object.is(t,e),qf=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ST=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Hy=t=>{const e=parseFloat(t);return isNaN(e)?t:e},MT=t=>{const e=Ln(t)?Number(t):NaN;return isNaN(e)?t:e};let $w;const Tp=()=>$w||($w=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $d(t){if(ht(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Ln(i)?xD(i):$d(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Ln(t)||vn(t))return t}const yD=/;(?![^(]*\))/g,bD=/:([^]+)/,_D=/\/\*[^]*?\*\//g;function xD(t){const e={};return t.replace(_D,"").split(yD).forEach(n=>{if(n){const i=n.split(bD);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function jd(t){let e="";if(Ln(t))e=t;else if(ht(t))for(let n=0;n<t.length;n++){const i=jd(t[n]);i&&(e+=i+" ")}else if(vn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const wD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SD=Tb(wD);function CT(t){return!!t||t===""}const TT=t=>!!(t&&t.__v_isRef===!0),ET=t=>Ln(t)?t:t==null?"":ht(t)||vn(t)&&(t.toString===xT||!pt(t.toString))?TT(t)?ET(t.value):JSON.stringify(t,AT,2):String(t),AT=(t,e)=>TT(e)?AT(t,e.value):xc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[sg(i,r)+" =>"]=s,n),{})}:_T(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>sg(n))}:ca(e)?sg(e):vn(e)&&!ht(e)&&!wT(e)?String(e):e,sg=(t,e="")=>{var n;return ca(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ai;class PT{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ai,!e&&Ai&&(this.index=(Ai.scopes||(Ai.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ai;try{return Ai=this,e()}finally{Ai=n}}}on(){Ai=this}off(){Ai=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Rb(t){return new PT(t)}function Lb(){return Ai}function si(t,e=!1){Ai&&Ai.cleanups.push(t)}let ln;const rg=new WeakSet;class IT{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ai&&Ai.active&&Ai.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rg.has(this)&&(rg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||LT(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jw(this),kT(this);const e=ln,n=Vs;ln=this,Vs=!0;try{return this.fn()}finally{DT(this),ln=e,Vs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ob(e);this.deps=this.depsTail=void 0,jw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gy(this)&&this.run()}get dirty(){return Gy(this)}}let RT=0,Hu,Gu;function LT(t,e=!1){if(t.flags|=8,e){t.next=Gu,Gu=t;return}t.next=Hu,Hu=t}function kb(){RT++}function Db(){if(--RT>0)return;if(Gu){let e=Gu;for(Gu=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Hu;){let e=Hu;for(Hu=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function kT(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function DT(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Ob(i),MD(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Gy(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(OT(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function OT(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ld))return;t.globalVersion=ld;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Gy(t)){t.flags&=-3;return}const n=ln,i=Vs;ln=t,Vs=!0;try{kT(t);const s=t.fn(t._value);(e.version===0||za(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{ln=n,Vs=i,DT(t),t.flags&=-3}}function Ob(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Ob(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function MD(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Vs=!0;const NT=[];function Ya(){NT.push(Vs),Vs=!1}function qa(){const t=NT.pop();Vs=t===void 0?!0:t}function jw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ln;ln=void 0;try{e()}finally{ln=n}}}let ld=0;class CD{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ep{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ln||!Vs||ln===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ln)n=this.activeLink=new CD(ln,this),ln.deps?(n.prevDep=ln.depsTail,ln.depsTail.nextDep=n,ln.depsTail=n):ln.deps=ln.depsTail=n,VT(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=ln.depsTail,n.nextDep=void 0,ln.depsTail.nextDep=n,ln.depsTail=n,ln.deps===n&&(ln.deps=i)}return n}trigger(e){this.version++,ld++,this.notify(e)}notify(e){kb();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Db()}}}function VT(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)VT(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const dm=new WeakMap,Ho=Symbol(""),Wy=Symbol(""),cd=Symbol("");function mi(t,e,n){if(Vs&&ln){let i=dm.get(t);i||dm.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Ep),s.map=i,s.key=n),s.track()}}function Ur(t,e,n,i,s,r){const a=dm.get(t);if(!a){ld++;return}const o=l=>{l&&l.trigger()};if(kb(),e==="clear")a.forEach(o);else{const l=ht(t),c=l&&Ib(n);if(l&&n==="length"){const u=Number(i);a.forEach((d,h)=>{(h==="length"||h===cd||!ca(h)&&h>=u)&&o(d)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),c&&o(a.get(cd)),e){case"add":l?c&&o(a.get("length")):(o(a.get(Ho)),xc(t)&&o(a.get(Wy)));break;case"delete":l||(o(a.get(Ho)),xc(t)&&o(a.get(Wy)));break;case"set":xc(t)&&o(a.get(Ho));break}}Db()}function TD(t,e){const n=dm.get(t);return n&&n.get(e)}function Bl(t){const e=at(t);return e===t?e:(mi(e,"iterate",cd),Fs(t)?e:e.map(Ii))}function Nb(t){return mi(t=at(t),"iterate",cd),t}const ED={__proto__:null,[Symbol.iterator](){return ag(this,Symbol.iterator,Ii)},concat(...t){return Bl(this).concat(...t.map(e=>ht(e)?Bl(e):e))},entries(){return ag(this,"entries",t=>(t[1]=Ii(t[1]),t))},every(t,e){return Ir(this,"every",t,e,void 0,arguments)},filter(t,e){return Ir(this,"filter",t,e,n=>n.map(Ii),arguments)},find(t,e){return Ir(this,"find",t,e,Ii,arguments)},findIndex(t,e){return Ir(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ir(this,"findLast",t,e,Ii,arguments)},findLastIndex(t,e){return Ir(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ir(this,"forEach",t,e,void 0,arguments)},includes(...t){return og(this,"includes",t)},indexOf(...t){return og(this,"indexOf",t)},join(t){return Bl(this).join(t)},lastIndexOf(...t){return og(this,"lastIndexOf",t)},map(t,e){return Ir(this,"map",t,e,void 0,arguments)},pop(){return hu(this,"pop")},push(...t){return hu(this,"push",t)},reduce(t,...e){return Xw(this,"reduce",t,e)},reduceRight(t,...e){return Xw(this,"reduceRight",t,e)},shift(){return hu(this,"shift")},some(t,e){return Ir(this,"some",t,e,void 0,arguments)},splice(...t){return hu(this,"splice",t)},toReversed(){return Bl(this).toReversed()},toSorted(t){return Bl(this).toSorted(t)},toSpliced(...t){return Bl(this).toSpliced(...t)},unshift(...t){return hu(this,"unshift",t)},values(){return ag(this,"values",Ii)}};function ag(t,e,n){const i=Nb(t),s=i[e]();return i!==t&&!Fs(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const AD=Array.prototype;function Ir(t,e,n,i,s,r){const a=Nb(t),o=a!==t&&!Fs(t),l=a[e];if(l!==AD[e]){const d=l.apply(t,r);return o?Ii(d):d}let c=n;a!==t&&(o?c=function(d,h){return n.call(this,Ii(d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(a,c,i);return o&&s?s(u):u}function Xw(t,e,n,i){const s=Nb(t);let r=n;return s!==t&&(Fs(t)?n.length>3&&(r=function(a,o,l){return n.call(this,a,o,l,t)}):r=function(a,o,l){return n.call(this,a,Ii(o),l,t)}),s[e](r,...i)}function og(t,e,n){const i=at(t);mi(i,"iterate",cd);const s=i[e](...n);return(s===-1||s===!1)&&Bb(n[0])?(n[0]=at(n[0]),i[e](...n)):s}function hu(t,e,n=[]){Ya(),kb();const i=at(t)[e].apply(t,n);return Db(),qa(),i}const PD=Tb("__proto__,__v_isRef,__isVue"),FT=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ca));function ID(t){ca(t)||(t=String(t));const e=at(this);return mi(e,"has",t),e.hasOwnProperty(t)}class BT{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?UD:GT:r?HT:zT).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=ht(e);if(!s){let l;if(a&&(l=ED[n]))return l;if(n==="hasOwnProperty")return ID}const o=Reflect.get(e,n,an(e)?e:i);return(ca(n)?FT.has(n):PD(n))||(s||mi(e,"get",n),r)?o:an(o)?a&&Ib(n)?o:o.value:vn(o)?s?Zr(o):wn(o):o}}class UT extends BT{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=Qo(r);if(!Fs(i)&&!Qo(i)&&(r=at(r),i=at(i)),!ht(e)&&an(r)&&!an(i))return l?!1:(r.value=i,!0)}const a=ht(e)&&Ib(n)?Number(n)<e.length:Xt(e,n),o=Reflect.set(e,n,i,an(e)?e:s);return e===at(s)&&(a?za(i,r)&&Ur(e,"set",n,i):Ur(e,"add",n,i)),o}deleteProperty(e,n){const i=Xt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Ur(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!ca(n)||!FT.has(n))&&mi(e,"has",n),i}ownKeys(e){return mi(e,"iterate",ht(e)?"length":Ho),Reflect.ownKeys(e)}}class RD extends BT{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const LD=new UT,kD=new RD,DD=new UT(!0);const $y=t=>t,Nh=t=>Reflect.getPrototypeOf(t);function OD(t,e,n){return function(...i){const s=this.__v_raw,r=at(s),a=xc(r),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=s[t](...i),u=n?$y:e?jy:Ii;return!e&&mi(r,"iterate",l?Wy:Ho),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:o?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Vh(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ND(t,e){const n={get(s){const r=this.__v_raw,a=at(r),o=at(s);t||(za(s,o)&&mi(a,"get",s),mi(a,"get",o));const{has:l}=Nh(a),c=e?$y:t?jy:Ii;if(l.call(a,s))return c(r.get(s));if(l.call(a,o))return c(r.get(o));r!==a&&r.get(s)},get size(){const s=this.__v_raw;return!t&&mi(at(s),"iterate",Ho),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,a=at(r),o=at(s);return t||(za(s,o)&&mi(a,"has",s),mi(a,"has",o)),s===o?r.has(s):r.has(s)||r.has(o)},forEach(s,r){const a=this,o=a.__v_raw,l=at(o),c=e?$y:t?jy:Ii;return!t&&mi(l,"iterate",Ho),o.forEach((u,d)=>s.call(r,c(u),c(d),a))}};return Dn(n,t?{add:Vh("add"),set:Vh("set"),delete:Vh("delete"),clear:Vh("clear")}:{add(s){!e&&!Fs(s)&&!Qo(s)&&(s=at(s));const r=at(this);return Nh(r).has.call(r,s)||(r.add(s),Ur(r,"add",s,s)),this},set(s,r){!e&&!Fs(r)&&!Qo(r)&&(r=at(r));const a=at(this),{has:o,get:l}=Nh(a);let c=o.call(a,s);c||(s=at(s),c=o.call(a,s));const u=l.call(a,s);return a.set(s,r),c?za(r,u)&&Ur(a,"set",s,r):Ur(a,"add",s,r),this},delete(s){const r=at(this),{has:a,get:o}=Nh(r);let l=a.call(r,s);l||(s=at(s),l=a.call(r,s)),o&&o.call(r,s);const c=r.delete(s);return l&&Ur(r,"delete",s,void 0),c},clear(){const s=at(this),r=s.size!==0,a=s.clear();return r&&Ur(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=OD(s,t,e)}),n}function Vb(t,e){const n=ND(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Xt(n,s)&&s in i?n:i,s,r)}const VD={get:Vb(!1,!1)},FD={get:Vb(!1,!0)},BD={get:Vb(!0,!1)};const zT=new WeakMap,HT=new WeakMap,GT=new WeakMap,UD=new WeakMap;function zD(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HD(t){return t.__v_skip||!Object.isExtensible(t)?0:zD(pD(t))}function wn(t){return Qo(t)?t:Fb(t,!1,LD,VD,zT)}function GD(t){return Fb(t,!1,DD,FD,HT)}function Zr(t){return Fb(t,!0,kD,BD,GT)}function Fb(t,e,n,i,s){if(!vn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=HD(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return s.set(t,o),o}function Wu(t){return Qo(t)?Wu(t.__v_raw):!!(t&&t.__v_isReactive)}function Qo(t){return!!(t&&t.__v_isReadonly)}function Fs(t){return!!(t&&t.__v_isShallow)}function Bb(t){return t?!!t.__v_raw:!1}function at(t){const e=t&&t.__v_raw;return e?at(e):t}function WT(t){return!Xt(t,"__v_skip")&&Object.isExtensible(t)&&ST(t,"__v_skip",!0),t}const Ii=t=>vn(t)?wn(t):t,jy=t=>vn(t)?Zr(t):t;function an(t){return t?t.__v_isRef===!0:!1}function he(t){return $T(t,!1)}function De(t){return $T(t,!0)}function $T(t,e){return an(t)?t:new WD(t,e)}class WD{constructor(e,n){this.dep=new Ep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:at(e),this._value=n?e:Ii(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Fs(e)||Qo(e);e=i?e:at(e),za(e,n)&&(this._rawValue=e,this._value=i?e:Ii(e),this.dep.trigger())}}function Ae(t){return an(t)?t.value:t}const $D={get:(t,e,n)=>e==="__v_raw"?t:Ae(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return an(s)&&!an(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function jT(t){return Wu(t)?t:new Proxy(t,$D)}class jD{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ep,{get:i,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function XD(t){return new jD(t)}function Hs(t){const e=ht(t)?new Array(t.length):{};for(const n in t)e[n]=XT(t,n);return e}class YD{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return TD(at(this._object),this._key)}}class qD{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ge(t,e,n){return an(t)?t:pt(t)?new qD(t):vn(t)&&arguments.length>1?XT(t,e,n):he(t)}function XT(t,e,n){const i=t[e];return an(i)?i:new YD(t,e,n)}class KD{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ld-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ln!==this)return LT(this,!0),!0}get value(){const e=this.dep.track();return OT(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ZD(t,e,n=!1){let i,s;return pt(t)?i=t:(i=t.get,s=t.set),new KD(i,s,n)}const Fh={},hm=new WeakMap;let Ao;function JD(t,e=!1,n=Ao){if(n){let i=hm.get(n);i||hm.set(n,i=[]),i.push(t)}}function QD(t,e,n=rn){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:o,call:l}=n,c=w=>s?w:Fs(w)||s===!1||s===0?zr(w,1):zr(w);let u,d,h,f,m=!1,v=!1;if(an(t)?(d=()=>t.value,m=Fs(t)):Wu(t)?(d=()=>c(t),m=!0):ht(t)?(v=!0,m=t.some(w=>Wu(w)||Fs(w)),d=()=>t.map(w=>{if(an(w))return w.value;if(Wu(w))return c(w);if(pt(w))return l?l(w,2):w()})):pt(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Ya();try{h()}finally{qa()}}const w=Ao;Ao=u;try{return l?l(t,3,[f]):t(f)}finally{Ao=w}}:d=cr,e&&s){const w=d,E=s===!0?1/0:s;d=()=>zr(w(),E)}const p=Lb(),g=()=>{u.stop(),p&&p.active&&Ab(p.effects,u)};if(r&&e){const w=e;e=(...E)=>{w(...E),g()}}let y=v?new Array(t.length).fill(Fh):Fh;const x=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const E=u.run();if(s||m||(v?E.some((C,A)=>za(C,y[A])):za(E,y))){h&&h();const C=Ao;Ao=u;try{const A=[E,y===Fh?void 0:v&&y[0]===Fh?[]:y,f];l?l(e,3,A):e(...A),y=E}finally{Ao=C}}}else u.run()};return o&&o(x),u=new IT(d),u.scheduler=a?()=>a(x,!1):x,f=w=>JD(w,!1,u),h=u.onStop=()=>{const w=hm.get(u);if(w){if(l)l(w,4);else for(const E of w)E();hm.delete(u)}},e?i?x(!0):y=u.run():a?a(x.bind(null,!0),!0):u.run(),g.pause=u.pause.bind(u),g.resume=u.resume.bind(u),g.stop=g,g}function zr(t,e=1/0,n){if(e<=0||!vn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,an(t))zr(t.value,e,n);else if(ht(t))for(let i=0;i<t.length;i++)zr(t[i],e,n);else if(_T(t)||xc(t))t.forEach(i=>{zr(i,e,n)});else if(wT(t)){for(const i in t)zr(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&zr(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xd(t,e,n,i){try{return i?t(...i):t()}catch(s){Yd(s,e,n)}}function Bs(t,e,n,i){if(pt(t)){const s=Xd(t,e,n,i);return s&&Pb(s)&&s.catch(r=>{Yd(r,e,n)}),s}if(ht(t)){const s=[];for(let r=0;r<t.length;r++)s.push(Bs(t[r],e,n,i));return s}}function Yd(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||rn;if(e){let o=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}o=o.parent}if(r){Ya(),Xd(r,null,10,[t,l,c]),qa();return}}e3(t,n,s,i,a)}function e3(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const Ri=[];let tr=-1;const wc=[];let La=null,fc=0;const YT=Promise.resolve();let fm=null;function Rt(t){const e=fm||YT;return t?e.then(this?t.bind(this):t):e}function t3(t){let e=tr+1,n=Ri.length;for(;e<n;){const i=e+n>>>1,s=Ri[i],r=ud(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function Ub(t){if(!(t.flags&1)){const e=ud(t),n=Ri[Ri.length-1];!n||!(t.flags&2)&&e>=ud(n)?Ri.push(t):Ri.splice(t3(e),0,t),t.flags|=1,qT()}}function qT(){fm||(fm=YT.then(ZT))}function Xy(t){ht(t)?wc.push(...t):La&&t.id===-1?La.splice(fc+1,0,t):t.flags&1||(wc.push(t),t.flags|=1),qT()}function Yw(t,e,n=tr+1){for(;n<Ri.length;n++){const i=Ri[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Ri.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function KT(t){if(wc.length){const e=[...new Set(wc)].sort((n,i)=>ud(n)-ud(i));if(wc.length=0,La){La.push(...e);return}for(La=e,fc=0;fc<La.length;fc++){const n=La[fc];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}La=null,fc=0}}const ud=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ZT(t){try{for(tr=0;tr<Ri.length;tr++){const e=Ri[tr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Xd(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;tr<Ri.length;tr++){const e=Ri[tr];e&&(e.flags&=-2)}tr=-1,Ri.length=0,KT(),fm=null,(Ri.length||wc.length)&&ZT()}}let Jn=null,JT=null;function mm(t){const e=Jn;return Jn=t,JT=t&&t.type.__scopeId||null,e}function Je(t,e=Jn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&lS(-1);const r=mm(e);let a;try{a=t(...s)}finally{mm(r),i._d&&lS(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Qe(t,e){if(Jn===null)return t;const n=Dp(Jn),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,o,l=rn]=e[s];r&&(pt(r)&&(r={mounted:r,updated:r}),r.deep&&zr(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function ro(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[i];l&&(Ya(),Bs(l,n,8,[t.el,o,t,e]),qa())}}const QT=Symbol("_vte"),eE=t=>t.__isTeleport,$u=t=>t&&(t.disabled||t.disabled===""),qw=t=>t&&(t.defer||t.defer===""),Kw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Zw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Yy=(t,e)=>{const n=t&&t.to;return Ln(n)?e?e(n):null:n},tE={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,o,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:m,createText:v,createComment:p}}=c,g=$u(e.props);let{shapeFlag:y,children:x,dynamicChildren:w}=e;if(t==null){const E=e.el=v(""),C=e.anchor=v("");f(E,n,i),f(C,n,i);const A=(_,b)=>{y&16&&(s&&s.isCE&&(s.ce._teleportTarget=_),u(x,_,b,s,r,a,o,l))},S=()=>{const _=e.target=Yy(e.props,m),b=nE(_,e,v,f);_&&(a!=="svg"&&Kw(_)?a="svg":a!=="mathml"&&Zw(_)&&(a="mathml"),g||(A(_,b),Kf(e,!1)))};g&&(A(n,C),Kf(e,!0)),qw(e.props)?Ti(()=>{S(),e.el.__isMounted=!0},r):S()}else{if(qw(e.props)&&!t.el.__isMounted){Ti(()=>{tE.process(t,e,n,i,s,r,a,o,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const E=e.anchor=t.anchor,C=e.target=t.target,A=e.targetAnchor=t.targetAnchor,S=$u(t.props),_=S?n:C,b=S?E:A;if(a==="svg"||Kw(C)?a="svg":(a==="mathml"||Zw(C))&&(a="mathml"),w?(h(t.dynamicChildren,w,_,s,r,a,o),Yb(t,e,!0)):l||d(t,e,_,b,s,r,a,o,!1),g)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Bh(e,n,E,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const T=e.target=Yy(e.props,m);T&&Bh(e,T,null,c,0)}else S&&Bh(e,C,A,c,1);Kf(e,g)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:o,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(s(c),s(u)),r&&s(l),a&16){const f=r||!$u(h);for(let m=0;m<o.length;m++){const v=o[m];i(v,e,n,f,!!v.dynamicChildren)}}},move:Bh,hydrate:n3};function Bh(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&i(a,e,n),(!d||$u(u))&&l&16)for(let h=0;h<c.length;h++)s(c[h],e,n,2);d&&i(o,e,n)}function n3(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:c,createText:u}},d){const h=e.target=Yy(e.props,l);if(h){const f=$u(e.props),m=h._lpa||h.firstChild;if(e.shapeFlag&16)if(f)e.anchor=d(a(t),e,o(t),n,i,s,r),e.targetStart=m,e.targetAnchor=m&&a(m);else{e.anchor=a(t);let v=m;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}v=a(v)}e.targetAnchor||nE(h,e,u,c),d(m&&a(m),e,h,n,i,s,r)}Kf(e,f)}return e.anchor&&a(e.anchor)}const i3=tE;function Kf(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function nE(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[QT]=r,t&&(i(s,t),i(r,t)),r}const ka=Symbol("_leaveCb"),Uh=Symbol("_enterCb");function iE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nn(()=>{t.isMounted=!0}),Yn(()=>{t.isUnmounting=!0}),t}const vs=[Function,Array],sE={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vs,onEnter:vs,onAfterEnter:vs,onEnterCancelled:vs,onBeforeLeave:vs,onLeave:vs,onAfterLeave:vs,onLeaveCancelled:vs,onBeforeAppear:vs,onAppear:vs,onAfterAppear:vs,onAppearCancelled:vs},rE=t=>{const e=t.subTree;return e.component?rE(e.component):e},s3={name:"BaseTransition",props:sE,setup(t,{slots:e}){const n=Qr(),i=iE();return()=>{const s=e.default&&zb(e.default(),!0);if(!s||!s.length)return;const r=aE(s),a=at(t),{mode:o}=a;if(i.isLeaving)return lg(r);const l=Jw(r);if(!l)return lg(r);let c=dd(l,a,i,n,d=>c=d);l.type!==Zn&&el(l,c);let u=n.subTree&&Jw(n.subTree);if(u&&u.type!==Zn&&!rr(l,u)&&rE(n).type!==Zn){let d=dd(u,a,i,n);if(el(u,d),o==="out-in"&&l.type!==Zn)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},lg(r);o==="in-out"&&l.type!==Zn?d.delayLeave=(h,f,m)=>{const v=oE(i,u);v[String(u.key)]=u,h[ka]=()=>{f(),h[ka]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function aE(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Zn){e=n;break}}return e}const r3=s3;function oE(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function dd(t,e,n,i,s){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:p,onAppear:g,onAfterAppear:y,onAppearCancelled:x}=e,w=String(t.key),E=oE(n,t),C=(_,b)=>{_&&Bs(_,i,9,b)},A=(_,b)=>{const T=b[1];C(_,b),ht(_)?_.every(P=>P.length<=1)&&T():_.length<=1&&T()},S={mode:a,persisted:o,beforeEnter(_){let b=l;if(!n.isMounted)if(r)b=p||l;else return;_[ka]&&_[ka](!0);const T=E[w];T&&rr(t,T)&&T.el[ka]&&T.el[ka](),C(b,[_])},enter(_){let b=c,T=u,P=d;if(!n.isMounted)if(r)b=g||c,T=y||u,P=x||d;else return;let D=!1;const O=_[Uh]=H=>{D||(D=!0,H?C(P,[_]):C(T,[_]),S.delayedLeave&&S.delayedLeave(),_[Uh]=void 0)};b?A(b,[_,O]):O()},leave(_,b){const T=String(t.key);if(_[Uh]&&_[Uh](!0),n.isUnmounting)return b();C(h,[_]);let P=!1;const D=_[ka]=O=>{P||(P=!0,b(),O?C(v,[_]):C(m,[_]),_[ka]=void 0,E[T]===t&&delete E[T])};E[T]=t,f?A(f,[_,D]):D()},clone(_){const b=dd(_,e,n,i,s);return s&&s(b),b}};return S}function lg(t){if(Ap(t))return t=Jr(t),t.children=null,t}function Jw(t){if(!Ap(t))return eE(t.type)&&t.children?aE(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&pt(n.default))return n.default()}}function el(t,e){t.shapeFlag&6&&t.component?(t.transition=e,el(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function zb(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===We?(a.patchFlag&128&&s++,i=i.concat(zb(a.children,e,o))):(e||a.type!==Zn)&&i.push(o!=null?Jr(a,{key:o}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Us(t,e){return pt(t)?Dn({name:t.name},e,{setup:t}):t}function lE(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function pm(t,e,n,i,s=!1){if(ht(t)){t.forEach((m,v)=>pm(m,e&&(ht(e)?e[v]:e),n,i,s));return}if(Sc(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&pm(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?Dp(i.component):i.el,a=s?null:r,{i:o,r:l}=t,c=e&&e.r,u=o.refs===rn?o.refs={}:o.refs,d=o.setupState,h=at(d),f=d===rn?()=>!1:m=>Xt(h,m);if(c!=null&&c!==l&&(Ln(c)?(u[c]=null,f(c)&&(d[c]=null)):an(c)&&(c.value=null)),pt(l))Xd(l,o,12,[a,u]);else{const m=Ln(l),v=an(l);if(m||v){const p=()=>{if(t.f){const g=m?f(l)?d[l]:u[l]:l.value;s?ht(g)&&Ab(g,r):ht(g)?g.includes(r)||g.push(r):m?(u[l]=[r],f(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else m?(u[l]=a,f(l)&&(d[l]=a)):v&&(l.value=a,t.k&&(u[t.k]=a))};a?(p.id=-1,Ti(p,n)):p()}}}Tp().requestIdleCallback;Tp().cancelIdleCallback;const Sc=t=>!!t.type.__asyncLoader,Ap=t=>t.type.__isKeepAlive;function cE(t,e){uE(t,"a",e)}function Hb(t,e){uE(t,"da",e)}function uE(t,e,n=oi){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Pp(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Ap(s.parent.vnode)&&a3(i,e,n,s),s=s.parent}}function a3(t,e,n,i){const s=Pp(e,t,i,!0);Gs(()=>{Ab(i[e],s)},n)}function Pp(t,e,n=oi,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{Ya();const o=nl(n),l=Bs(e,n,t,a);return o(),qa(),l});return i?s.unshift(r):s.push(r),r}}const ua=t=>(e,n=oi)=>{(!fd||t==="sp")&&Pp(t,(...i)=>e(...i),n)},Ip=ua("bm"),Nn=ua("m"),dE=ua("bu"),Rp=ua("u"),Yn=ua("bum"),Gs=ua("um"),o3=ua("sp"),l3=ua("rtg"),c3=ua("rtc");function u3(t,e=oi){Pp("ec",t,e)}const Gb="components",d3="directives";function Ia(t,e){return Wb(Gb,t,!0,e)||t}const h3=Symbol.for("v-ndc");function f3(t){return Ln(t)&&Wb(Gb,t,!1)||t}function yn(t){return Wb(d3,t)}function Wb(t,e,n=!0,i=!1){const s=Jn||oi;if(s){const r=s.type;if(t===Gb){const o=iO(r,!1);if(o&&(o===e||o===Ji(e)||o===br(Ji(e))))return r}const a=Qw(s[t]||r[t],e)||Qw(s.appContext[t],e);return!a&&i?r:a}}function Qw(t,e){return t&&(t[e]||t[Ji(e)]||t[br(Ji(e))])}function $b(t,e,n={},i,s){if(Jn.ce||Jn.parent&&Sc(Jn.parent)&&Jn.parent.ce)return tt(),sn(We,null,[M("slot",n,i&&i())],64);let r=t[e];r&&r._c&&(r._d=!1),tt();const a=r&&hE(r(n)),o=n.key||a&&a.key,l=sn(We,{key:(o&&!ca(o)?o:`_${e}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function hE(t){return t.some(e=>tl(e)?!(e.type===Zn||e.type===We&&!hE(e.children)):!0)?t:null}const qy=t=>t?OE(t)?Dp(t):qy(t.parent):null,ju=Dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qy(t.parent),$root:t=>qy(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>jb(t),$forceUpdate:t=>t.f||(t.f=()=>{Ub(t.update)}),$nextTick:t=>t.n||(t.n=Rt.bind(t.proxy)),$watch:t=>O3.bind(t)}),cg=(t,e)=>t!==rn&&!t.__isScriptSetup&&Xt(t,e),m3={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(cg(i,e))return a[e]=1,i[e];if(s!==rn&&Xt(s,e))return a[e]=2,s[e];if((c=t.propsOptions[0])&&Xt(c,e))return a[e]=3,r[e];if(n!==rn&&Xt(n,e))return a[e]=4,n[e];Ky&&(a[e]=0)}}const u=ju[e];let d,h;if(u)return e==="$attrs"&&mi(t.attrs,"get",""),u(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==rn&&Xt(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,Xt(h,e))return h[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return cg(s,e)?(s[e]=n,!0):i!==rn&&Xt(i,e)?(i[e]=n,!0):Xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let o;return!!n[a]||t!==rn&&Xt(t,a)||cg(e,a)||(o=r[0])&&Xt(o,a)||Xt(i,a)||Xt(ju,a)||Xt(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Lp(){return fE().slots}function p3(){return fE().attrs}function fE(){const t=Qr();return t.setupContext||(t.setupContext=VE(t))}function eS(t){return ht(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function v3(t){const e=Qr();let n=t();return t0(),Pb(n)&&(n=n.catch(i=>{throw nl(e),i})),[n,()=>nl(e)]}let Ky=!0;function g3(t){const e=jb(t),n=t.proxy,i=t.ctx;Ky=!1,e.beforeCreate&&tS(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:m,activated:v,deactivated:p,beforeDestroy:g,beforeUnmount:y,destroyed:x,unmounted:w,render:E,renderTracked:C,renderTriggered:A,errorCaptured:S,serverPrefetch:_,expose:b,inheritAttrs:T,components:P,directives:D,filters:O}=e;if(c&&y3(c,i,null),a)for(const K in a){const j=a[K];pt(j)&&(i[K]=j.bind(n))}if(s){const K=s.call(n,n);vn(K)&&(t.data=wn(K))}if(Ky=!0,r)for(const K in r){const j=r[K],X=pt(j)?j.bind(n,n):pt(j.get)?j.get.bind(n,n):cr,Y=!pt(j)&&pt(j.set)?j.set.bind(n):cr,J=L({get:X,set:Y});Object.defineProperty(i,K,{enumerable:!0,configurable:!0,get:()=>J.value,set:de=>J.value=de})}if(o)for(const K in o)mE(o[K],i,n,K);if(l){const K=pt(l)?l.call(n):l;Reflect.ownKeys(K).forEach(j=>{Zt(j,K[j])})}u&&tS(u,t,"c");function F(K,j){ht(j)?j.forEach(X=>K(X.bind(n))):j&&K(j.bind(n))}if(F(Ip,d),F(Nn,h),F(dE,f),F(Rp,m),F(cE,v),F(Hb,p),F(u3,S),F(c3,C),F(l3,A),F(Yn,y),F(Gs,w),F(o3,_),ht(b))if(b.length){const K=t.exposed||(t.exposed={});b.forEach(j=>{Object.defineProperty(K,j,{get:()=>n[j],set:X=>n[j]=X})})}else t.exposed||(t.exposed={});E&&t.render===cr&&(t.render=E),T!=null&&(t.inheritAttrs=T),P&&(t.components=P),D&&(t.directives=D),_&&lE(t)}function y3(t,e,n=cr){ht(t)&&(t=Zy(t));for(const i in t){const s=t[i];let r;vn(s)?"default"in s?r=xt(s.from||i,s.default,!0):r=xt(s.from||i):r=xt(s),an(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function tS(t,e,n){Bs(ht(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function mE(t,e,n,i){let s=i.includes(".")?EE(n,i):()=>n[i];if(Ln(t)){const r=e[t];pt(r)&&Pe(s,r)}else if(pt(t))Pe(s,t.bind(n));else if(vn(t))if(ht(t))t.forEach(r=>mE(r,e,n,i));else{const r=pt(t.handler)?t.handler.bind(n):e[t.handler];pt(r)&&Pe(s,r,t)}}function jb(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,o=r.get(e);let l;return o?l=o:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>vm(l,c,a,!0)),vm(l,e,a)),vn(e)&&r.set(e,l),l}function vm(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&vm(t,r,n,!0),s&&s.forEach(a=>vm(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=b3[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const b3={data:nS,props:iS,emits:iS,methods:Ou,computed:Ou,beforeCreate:Mi,created:Mi,beforeMount:Mi,mounted:Mi,beforeUpdate:Mi,updated:Mi,beforeDestroy:Mi,beforeUnmount:Mi,destroyed:Mi,unmounted:Mi,activated:Mi,deactivated:Mi,errorCaptured:Mi,serverPrefetch:Mi,components:Ou,directives:Ou,watch:x3,provide:nS,inject:_3};function nS(t,e){return e?t?function(){return Dn(pt(t)?t.call(this,this):t,pt(e)?e.call(this,this):e)}:e:t}function _3(t,e){return Ou(Zy(t),Zy(e))}function Zy(t){if(ht(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mi(t,e){return t?[...new Set([].concat(t,e))]:e}function Ou(t,e){return t?Dn(Object.create(null),t,e):e}function iS(t,e){return t?ht(t)&&ht(e)?[...new Set([...t,...e])]:Dn(Object.create(null),eS(t),eS(e??{})):e}function x3(t,e){if(!t)return e;if(!e)return t;const n=Dn(Object.create(null),t);for(const i in e)n[i]=Mi(t[i],e[i]);return n}function pE(){return{app:null,config:{isNativeTag:fD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let w3=0;function S3(t,e){return function(i,s=null){pt(i)||(i=Dn({},i)),s!=null&&!vn(s)&&(s=null);const r=pE(),a=new WeakSet,o=[];let l=!1;const c=r.app={_uid:w3++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:rO,get config(){return r.config},set config(u){},use(u,...d){return a.has(u)||(u&&pt(u.install)?(a.add(u),u.install(c,...d)):pt(u)&&(a.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||M(i,s);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(f,u):t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Dp(f.component)}},onUnmount(u){o.push(u)},unmount(){l&&(Bs(o,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Mc;Mc=c;try{return u()}finally{Mc=d}}};return c}}let Mc=null;function Zt(t,e){if(oi){let n=oi.provides;const i=oi.parent&&oi.parent.provides;i===n&&(n=oi.provides=Object.create(i)),n[t]=e}}function xt(t,e,n=!1){const i=oi||Jn;if(i||Mc){const s=Mc?Mc._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&pt(e)?e.call(i&&i.proxy):e}}const vE={},gE=()=>Object.create(vE),yE=t=>Object.getPrototypeOf(t)===vE;function M3(t,e,n,i=!1){const s={},r=gE();t.propsDefaults=Object.create(null),bE(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:GD(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function C3(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,o=at(s),[l]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(kp(t.emitsOptions,h))continue;const f=e[h];if(l)if(Xt(r,h))f!==r[h]&&(r[h]=f,c=!0);else{const m=Ji(h);s[m]=Jy(l,o,m,f,t,!1)}else f!==r[h]&&(r[h]=f,c=!0)}}}else{bE(t,e,s,r)&&(c=!0);let u;for(const d in o)(!e||!Xt(e,d)&&((u=xl(d))===d||!Xt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=Jy(l,o,d,void 0,t,!0)):delete s[d]);if(r!==o)for(const d in r)(!e||!Xt(e,d))&&(delete r[d],c=!0)}c&&Ur(t.attrs,"set","")}function bE(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(zu(l))continue;const c=e[l];let u;s&&Xt(s,u=Ji(l))?!r||!r.includes(u)?n[u]=c:(o||(o={}))[u]=c:kp(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,a=!0)}if(r){const l=at(n),c=o||rn;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Jy(s,l,d,c[d],t,!Xt(c,d))}}return a}function Jy(t,e,n,i,s,r){const a=t[n];if(a!=null){const o=Xt(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&pt(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=nl(s);i=c[n]=l.call(null,e),u()}}else i=l;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===xl(n))&&(i=!0))}return i}const T3=new WeakMap;function _E(t,e,n=!1){const i=n?T3:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},o=[];let l=!1;if(!pt(t)){const u=d=>{l=!0;const[h,f]=_E(d,e,!0);Dn(a,h),f&&o.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return vn(t)&&i.set(t,_c),_c;if(ht(r))for(let u=0;u<r.length;u++){const d=Ji(r[u]);sS(d)&&(a[d]=rn)}else if(r)for(const u in r){const d=Ji(u);if(sS(d)){const h=r[u],f=a[d]=ht(h)||pt(h)?{type:h}:Dn({},h),m=f.type;let v=!1,p=!0;if(ht(m))for(let g=0;g<m.length;++g){const y=m[g],x=pt(y)&&y.name;if(x==="Boolean"){v=!0;break}else x==="String"&&(p=!1)}else v=pt(m)&&m.name==="Boolean";f[0]=v,f[1]=p,(v||Xt(f,"default"))&&o.push(d)}}const c=[a,o];return vn(t)&&i.set(t,c),c}function sS(t){return t[0]!=="$"&&!zu(t)}const xE=t=>t[0]==="_"||t==="$stable",Xb=t=>ht(t)?t.map(Ns):[Ns(t)],E3=(t,e,n)=>{if(e._n)return e;const i=Je((...s)=>Xb(e(...s)),n);return i._c=!1,i},wE=(t,e,n)=>{const i=t._ctx;for(const s in t){if(xE(s))continue;const r=t[s];if(pt(r))e[s]=E3(s,r,i);else if(r!=null){const a=Xb(r);e[s]=()=>a}}},SE=(t,e)=>{const n=Xb(e);t.slots.default=()=>n},ME=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},A3=(t,e,n)=>{const i=t.slots=gE();if(t.vnode.shapeFlag&32){const s=e._;s?(ME(i,e,n),n&&ST(i,"_",s,!0)):wE(e,i)}else e&&SE(t,e)},P3=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=rn;if(i.shapeFlag&32){const o=e._;o?n&&o===1?r=!1:ME(s,e,n):(r=!e.$stable,wE(e,s)),a=e}else e&&(SE(t,e),a={default:1});if(r)for(const o in s)!xE(o)&&a[o]==null&&delete s[o]},Ti=X3;function CE(t){return I3(t)}function I3(t,e){const n=Tp();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=cr,insertStaticContent:m}=t,v=(R,I,W,$=null,Z=null,ee=null,ve=void 0,le=null,V=!!I.dynamicChildren)=>{if(R===I)return;R&&!rr(R,I)&&($=me(R),de(R,Z,ee,!0),R=null),I.patchFlag===-2&&(V=!1,I.dynamicChildren=null);const{type:k,ref:Q,shapeFlag:re}=I;switch(k){case qd:p(R,I,W,$);break;case Zn:g(R,I,W,$);break;case hg:R==null&&y(I,W,$,ve);break;case We:P(R,I,W,$,Z,ee,ve,le,V);break;default:re&1?E(R,I,W,$,Z,ee,ve,le,V):re&6?D(R,I,W,$,Z,ee,ve,le,V):(re&64||re&128)&&k.process(R,I,W,$,Z,ee,ve,le,V,B)}Q!=null&&Z&&pm(Q,R&&R.ref,ee,I||R,!I)},p=(R,I,W,$)=>{if(R==null)i(I.el=o(I.children),W,$);else{const Z=I.el=R.el;I.children!==R.children&&c(Z,I.children)}},g=(R,I,W,$)=>{R==null?i(I.el=l(I.children||""),W,$):I.el=R.el},y=(R,I,W,$)=>{[R.el,R.anchor]=m(R.children,I,W,$,R.el,R.anchor)},x=({el:R,anchor:I},W,$)=>{let Z;for(;R&&R!==I;)Z=h(R),i(R,W,$),R=Z;i(I,W,$)},w=({el:R,anchor:I})=>{let W;for(;R&&R!==I;)W=h(R),s(R),R=W;s(I)},E=(R,I,W,$,Z,ee,ve,le,V)=>{I.type==="svg"?ve="svg":I.type==="math"&&(ve="mathml"),R==null?C(I,W,$,Z,ee,ve,le,V):_(R,I,Z,ee,ve,le,V)},C=(R,I,W,$,Z,ee,ve,le)=>{let V,k;const{props:Q,shapeFlag:re,transition:pe,dirs:fe}=R;if(V=R.el=a(R.type,ee,Q&&Q.is,Q),re&8?u(V,R.children):re&16&&S(R.children,V,null,$,Z,ug(R,ee),ve,le),fe&&ro(R,null,$,"created"),A(V,R,R.scopeId,ve,$),Q){for(const Oe in Q)Oe!=="value"&&!zu(Oe)&&r(V,Oe,null,Q[Oe],ee,$);"value"in Q&&r(V,"value",null,Q.value,ee),(k=Q.onVnodeBeforeMount)&&Zs(k,$,R)}fe&&ro(R,null,$,"beforeMount");const ke=R3(Z,pe);ke&&pe.beforeEnter(V),i(V,I,W),((k=Q&&Q.onVnodeMounted)||ke||fe)&&Ti(()=>{k&&Zs(k,$,R),ke&&pe.enter(V),fe&&ro(R,null,$,"mounted")},Z)},A=(R,I,W,$,Z)=>{if(W&&f(R,W),$)for(let ee=0;ee<$.length;ee++)f(R,$[ee]);if(Z){let ee=Z.subTree;if(I===ee||PE(ee.type)&&(ee.ssContent===I||ee.ssFallback===I)){const ve=Z.vnode;A(R,ve,ve.scopeId,ve.slotScopeIds,Z.parent)}}},S=(R,I,W,$,Z,ee,ve,le,V=0)=>{for(let k=V;k<R.length;k++){const Q=R[k]=le?Da(R[k]):Ns(R[k]);v(null,Q,I,W,$,Z,ee,ve,le)}},_=(R,I,W,$,Z,ee,ve)=>{const le=I.el=R.el;let{patchFlag:V,dynamicChildren:k,dirs:Q}=I;V|=R.patchFlag&16;const re=R.props||rn,pe=I.props||rn;let fe;if(W&&ao(W,!1),(fe=pe.onVnodeBeforeUpdate)&&Zs(fe,W,I,R),Q&&ro(I,R,W,"beforeUpdate"),W&&ao(W,!0),(re.innerHTML&&pe.innerHTML==null||re.textContent&&pe.textContent==null)&&u(le,""),k?b(R.dynamicChildren,k,le,W,$,ug(I,Z),ee):ve||j(R,I,le,null,W,$,ug(I,Z),ee,!1),V>0){if(V&16)T(le,re,pe,W,Z);else if(V&2&&re.class!==pe.class&&r(le,"class",null,pe.class,Z),V&4&&r(le,"style",re.style,pe.style,Z),V&8){const ke=I.dynamicProps;for(let Oe=0;Oe<ke.length;Oe++){const Ne=ke[Oe],ut=re[Ne],Re=pe[Ne];(Re!==ut||Ne==="value")&&r(le,Ne,ut,Re,Z,W)}}V&1&&R.children!==I.children&&u(le,I.children)}else!ve&&k==null&&T(le,re,pe,W,Z);((fe=pe.onVnodeUpdated)||Q)&&Ti(()=>{fe&&Zs(fe,W,I,R),Q&&ro(I,R,W,"updated")},$)},b=(R,I,W,$,Z,ee,ve)=>{for(let le=0;le<I.length;le++){const V=R[le],k=I[le],Q=V.el&&(V.type===We||!rr(V,k)||V.shapeFlag&70)?d(V.el):W;v(V,k,Q,null,$,Z,ee,ve,!0)}},T=(R,I,W,$,Z)=>{if(I!==W){if(I!==rn)for(const ee in I)!zu(ee)&&!(ee in W)&&r(R,ee,I[ee],null,Z,$);for(const ee in W){if(zu(ee))continue;const ve=W[ee],le=I[ee];ve!==le&&ee!=="value"&&r(R,ee,le,ve,Z,$)}"value"in W&&r(R,"value",I.value,W.value,Z)}},P=(R,I,W,$,Z,ee,ve,le,V)=>{const k=I.el=R?R.el:o(""),Q=I.anchor=R?R.anchor:o("");let{patchFlag:re,dynamicChildren:pe,slotScopeIds:fe}=I;fe&&(le=le?le.concat(fe):fe),R==null?(i(k,W,$),i(Q,W,$),S(I.children||[],W,Q,Z,ee,ve,le,V)):re>0&&re&64&&pe&&R.dynamicChildren?(b(R.dynamicChildren,pe,W,Z,ee,ve,le),(I.key!=null||Z&&I===Z.subTree)&&Yb(R,I,!0)):j(R,I,W,Q,Z,ee,ve,le,V)},D=(R,I,W,$,Z,ee,ve,le,V)=>{I.slotScopeIds=le,R==null?I.shapeFlag&512?Z.ctx.activate(I,W,$,ve,V):O(I,W,$,Z,ee,ve,V):H(R,I,V)},O=(R,I,W,$,Z,ee,ve)=>{const le=R.component=Q3(R,$,Z);if(Ap(R)&&(le.ctx.renderer=B),eO(le,!1,ve),le.asyncDep){if(Z&&Z.registerDep(le,F,ve),!R.el){const V=le.subTree=M(Zn);g(null,V,I,W)}}else F(le,R,I,W,Z,ee,ve)},H=(R,I,W)=>{const $=I.component=R.component;if(z3(R,I,W))if($.asyncDep&&!$.asyncResolved){K($,I,W);return}else $.next=I,$.update();else I.el=R.el,$.vnode=I},F=(R,I,W,$,Z,ee,ve)=>{const le=()=>{if(R.isMounted){let{next:re,bu:pe,u:fe,parent:ke,vnode:Oe}=R;{const Ze=TE(R);if(Ze){re&&(re.el=Oe.el,K(R,re,ve)),Ze.asyncDep.then(()=>{R.isUnmounted||le()});return}}let Ne=re,ut;ao(R,!1),re?(re.el=Oe.el,K(R,re,ve)):re=Oe,pe&&qf(pe),(ut=re.props&&re.props.onVnodeBeforeUpdate)&&Zs(ut,ke,re,Oe),ao(R,!0);const Re=dg(R),$e=R.subTree;R.subTree=Re,v($e,Re,d($e.el),me($e),R,Z,ee),re.el=Re.el,Ne===null&&Kb(R,Re.el),fe&&Ti(fe,Z),(ut=re.props&&re.props.onVnodeUpdated)&&Ti(()=>Zs(ut,ke,re,Oe),Z)}else{let re;const{el:pe,props:fe}=I,{bm:ke,m:Oe,parent:Ne,root:ut,type:Re}=R,$e=Sc(I);if(ao(R,!1),ke&&qf(ke),!$e&&(re=fe&&fe.onVnodeBeforeMount)&&Zs(re,Ne,I),ao(R,!0),pe&&q){const Ze=()=>{R.subTree=dg(R),q(pe,R.subTree,R,Z,null)};$e&&Re.__asyncHydrate?Re.__asyncHydrate(pe,R,Ze):Ze()}else{ut.ce&&ut.ce._injectChildStyle(Re);const Ze=R.subTree=dg(R);v(null,Ze,W,$,R,Z,ee),I.el=Ze.el}if(Oe&&Ti(Oe,Z),!$e&&(re=fe&&fe.onVnodeMounted)){const Ze=I;Ti(()=>Zs(re,Ne,Ze),Z)}(I.shapeFlag&256||Ne&&Sc(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&R.a&&Ti(R.a,Z),R.isMounted=!0,I=W=$=null}};R.scope.on();const V=R.effect=new IT(le);R.scope.off();const k=R.update=V.run.bind(V),Q=R.job=V.runIfDirty.bind(V);Q.i=R,Q.id=R.uid,V.scheduler=()=>Ub(Q),ao(R,!0),k()},K=(R,I,W)=>{I.component=R;const $=R.vnode.props;R.vnode=I,R.next=null,C3(R,I.props,$,W),P3(R,I.children,W),Ya(),Yw(R),qa()},j=(R,I,W,$,Z,ee,ve,le,V=!1)=>{const k=R&&R.children,Q=R?R.shapeFlag:0,re=I.children,{patchFlag:pe,shapeFlag:fe}=I;if(pe>0){if(pe&128){Y(k,re,W,$,Z,ee,ve,le,V);return}else if(pe&256){X(k,re,W,$,Z,ee,ve,le,V);return}}fe&8?(Q&16&&se(k,Z,ee),re!==k&&u(W,re)):Q&16?fe&16?Y(k,re,W,$,Z,ee,ve,le,V):se(k,Z,ee,!0):(Q&8&&u(W,""),fe&16&&S(re,W,$,Z,ee,ve,le,V))},X=(R,I,W,$,Z,ee,ve,le,V)=>{R=R||_c,I=I||_c;const k=R.length,Q=I.length,re=Math.min(k,Q);let pe;for(pe=0;pe<re;pe++){const fe=I[pe]=V?Da(I[pe]):Ns(I[pe]);v(R[pe],fe,W,null,Z,ee,ve,le,V)}k>Q?se(R,Z,ee,!0,!1,re):S(I,W,$,Z,ee,ve,le,V,re)},Y=(R,I,W,$,Z,ee,ve,le,V)=>{let k=0;const Q=I.length;let re=R.length-1,pe=Q-1;for(;k<=re&&k<=pe;){const fe=R[k],ke=I[k]=V?Da(I[k]):Ns(I[k]);if(rr(fe,ke))v(fe,ke,W,null,Z,ee,ve,le,V);else break;k++}for(;k<=re&&k<=pe;){const fe=R[re],ke=I[pe]=V?Da(I[pe]):Ns(I[pe]);if(rr(fe,ke))v(fe,ke,W,null,Z,ee,ve,le,V);else break;re--,pe--}if(k>re){if(k<=pe){const fe=pe+1,ke=fe<Q?I[fe].el:$;for(;k<=pe;)v(null,I[k]=V?Da(I[k]):Ns(I[k]),W,ke,Z,ee,ve,le,V),k++}}else if(k>pe)for(;k<=re;)de(R[k],Z,ee,!0),k++;else{const fe=k,ke=k,Oe=new Map;for(k=ke;k<=pe;k++){const ne=I[k]=V?Da(I[k]):Ns(I[k]);ne.key!=null&&Oe.set(ne.key,k)}let Ne,ut=0;const Re=pe-ke+1;let $e=!1,Ze=0;const ct=new Array(Re);for(k=0;k<Re;k++)ct[k]=0;for(k=fe;k<=re;k++){const ne=R[k];if(ut>=Re){de(ne,Z,ee,!0);continue}let Me;if(ne.key!=null)Me=Oe.get(ne.key);else for(Ne=ke;Ne<=pe;Ne++)if(ct[Ne-ke]===0&&rr(ne,I[Ne])){Me=Ne;break}Me===void 0?de(ne,Z,ee,!0):(ct[Me-ke]=k+1,Me>=Ze?Ze=Me:$e=!0,v(ne,I[Me],W,null,Z,ee,ve,le,V),ut++)}const Ye=$e?L3(ct):_c;for(Ne=Ye.length-1,k=Re-1;k>=0;k--){const ne=ke+k,Me=I[ne],je=ne+1<Q?I[ne+1].el:$;ct[k]===0?v(null,Me,W,je,Z,ee,ve,le,V):$e&&(Ne<0||k!==Ye[Ne]?J(Me,W,je,2):Ne--)}}},J=(R,I,W,$,Z=null)=>{const{el:ee,type:ve,transition:le,children:V,shapeFlag:k}=R;if(k&6){J(R.component.subTree,I,W,$);return}if(k&128){R.suspense.move(I,W,$);return}if(k&64){ve.move(R,I,W,B);return}if(ve===We){i(ee,I,W);for(let re=0;re<V.length;re++)J(V[re],I,W,$);i(R.anchor,I,W);return}if(ve===hg){x(R,I,W);return}if($!==2&&k&1&&le)if($===0)le.beforeEnter(ee),i(ee,I,W),Ti(()=>le.enter(ee),Z);else{const{leave:re,delayLeave:pe,afterLeave:fe}=le,ke=()=>i(ee,I,W),Oe=()=>{re(ee,()=>{ke(),fe&&fe()})};pe?pe(ee,ke,Oe):Oe()}else i(ee,I,W)},de=(R,I,W,$=!1,Z=!1)=>{const{type:ee,props:ve,ref:le,children:V,dynamicChildren:k,shapeFlag:Q,patchFlag:re,dirs:pe,cacheIndex:fe}=R;if(re===-2&&(Z=!1),le!=null&&pm(le,null,W,R,!0),fe!=null&&(I.renderCache[fe]=void 0),Q&256){I.ctx.deactivate(R);return}const ke=Q&1&&pe,Oe=!Sc(R);let Ne;if(Oe&&(Ne=ve&&ve.onVnodeBeforeUnmount)&&Zs(Ne,I,R),Q&6)ye(R.component,W,$);else{if(Q&128){R.suspense.unmount(W,$);return}ke&&ro(R,null,I,"beforeUnmount"),Q&64?R.type.remove(R,I,W,B,$):k&&!k.hasOnce&&(ee!==We||re>0&&re&64)?se(k,I,W,!1,!0):(ee===We&&re&384||!Z&&Q&16)&&se(V,I,W),$&&Le(R)}(Oe&&(Ne=ve&&ve.onVnodeUnmounted)||ke)&&Ti(()=>{Ne&&Zs(Ne,I,R),ke&&ro(R,null,I,"unmounted")},W)},Le=R=>{const{type:I,el:W,anchor:$,transition:Z}=R;if(I===We){ie(W,$);return}if(I===hg){w(R);return}const ee=()=>{s(W),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(R.shapeFlag&1&&Z&&!Z.persisted){const{leave:ve,delayLeave:le}=Z,V=()=>ve(W,ee);le?le(R.el,ee,V):V()}else ee()},ie=(R,I)=>{let W;for(;R!==I;)W=h(R),s(R),R=W;s(I)},ye=(R,I,W)=>{const{bum:$,scope:Z,job:ee,subTree:ve,um:le,m:V,a:k}=R;rS(V),rS(k),$&&qf($),Z.stop(),ee&&(ee.flags|=8,de(ve,R,I,W)),le&&Ti(le,I),Ti(()=>{R.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},se=(R,I,W,$=!1,Z=!1,ee=0)=>{for(let ve=ee;ve<R.length;ve++)de(R[ve],I,W,$,Z)},me=R=>{if(R.shapeFlag&6)return me(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const I=h(R.anchor||R.el),W=I&&I[QT];return W?h(W):I};let ae=!1;const N=(R,I,W)=>{R==null?I._vnode&&de(I._vnode,null,null,!0):v(I._vnode||null,R,I,null,null,null,W),I._vnode=R,ae||(ae=!0,Yw(),KT(),ae=!1)},B={p:v,um:de,m:J,r:Le,mt:O,mc:S,pc:j,pbc:b,n:me,o:t};let U,q;return{render:N,hydrate:U,createApp:S3(N,U)}}function ug({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ao({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function R3(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yb(t,e,n=!1){const i=t.children,s=e.children;if(ht(i)&&ht(s))for(let r=0;r<i.length;r++){const a=i[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=Da(s[r]),o.el=a.el),!n&&o.patchFlag!==-2&&Yb(a,o)),o.type===qd&&(o.el=a.el)}}function L3(t){const e=t.slice(),n=[0];let i,s,r,a,o;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)o=r+a>>1,t[n[o]]<c?r=o+1:a=o;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function TE(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:TE(e)}function rS(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const k3=Symbol.for("v-scx"),D3=()=>xt(k3);function qt(t,e){return qb(t,null,e)}function Pe(t,e,n){return qb(t,e,n)}function qb(t,e,n=rn){const{immediate:i,deep:s,flush:r,once:a}=n,o=Dn({},n),l=e&&i||!e&&r!=="post";let c;if(fd){if(r==="sync"){const f=D3();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=cr,f.resume=cr,f.pause=cr,f}}const u=oi;o.call=(f,m,v)=>Bs(f,u,m,v);let d=!1;r==="post"?o.scheduler=f=>{Ti(f,u&&u.suspense)}:r!=="sync"&&(d=!0,o.scheduler=(f,m)=>{m?f():Ub(f)}),o.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=QD(t,e,o);return fd&&(c?c.push(h):l&&h()),h}function O3(t,e,n){const i=this.proxy,s=Ln(t)?t.includes(".")?EE(i,t):()=>i[t]:t.bind(i,i);let r;pt(e)?r=e:(r=e.handler,n=e);const a=nl(this),o=qb(s,r.bind(i),n);return a(),o}function EE(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const N3=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ji(e)}Modifiers`]||t[`${xl(e)}Modifiers`];function V3(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||rn;let s=n;const r=e.startsWith("update:"),a=r&&N3(i,e.slice(7));a&&(a.trim&&(s=n.map(u=>Ln(u)?u.trim():u)),a.number&&(s=n.map(Hy)));let o,l=i[o=ig(e)]||i[o=ig(Ji(e))];!l&&r&&(l=i[o=ig(xl(e))]),l&&Bs(l,t,6,s);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Bs(c,t,6,s)}}function AE(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},o=!1;if(!pt(t)){const l=c=>{const u=AE(c,e,!0);u&&(o=!0,Dn(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!o?(vn(t)&&i.set(t,null),null):(ht(r)?r.forEach(l=>a[l]=null):Dn(a,r),vn(t)&&i.set(t,a),a)}function kp(t,e){return!t||!Sp(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xt(t,e[0].toLowerCase()+e.slice(1))||Xt(t,xl(e))||Xt(t,e))}function dg(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:o,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:m,inheritAttrs:v}=t,p=mm(t);let g,y;try{if(n.shapeFlag&4){const w=s||i,E=w;g=Ns(c.call(E,w,u,d,f,h,m)),y=o}else{const w=e;g=Ns(w.length>1?w(d,{attrs:o,slots:a,emit:l}):w(d,null)),y=e.props?o:B3(o)}}catch(w){Xu.length=0,Yd(w,t,1),g=M(Zn)}let x=g;if(y&&v!==!1){const w=Object.keys(y),{shapeFlag:E}=x;w.length&&E&7&&(r&&w.some(Eb)&&(y=U3(y,r)),x=Jr(x,y,!1,!0))}return n.dirs&&(x=Jr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&el(x,n.transition),g=x,mm(p),g}function F3(t,e=!0){let n;for(let i=0;i<t.length;i++){const s=t[i];if(tl(s)){if(s.type!==Zn||s.children==="v-if"){if(n)return;n=s}}else return}return n}const B3=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sp(n))&&((e||(e={}))[n]=t[n]);return e},U3=(t,e)=>{const n={};for(const i in t)(!Eb(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function z3(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:o,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?aS(i,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(a[h]!==i[h]&&!kp(c,h))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?aS(i,a,c):!0:!!a;return!1}function aS(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!kp(n,r))return!0}return!1}function Kb({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const PE=t=>t.__isSuspense;let Qy=0;const H3={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,a,o,l,c){if(t==null)G3(e,n,i,s,r,a,o,l,c);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}W3(t,e,n,i,s,a,o,l,c)}},hydrate:$3,normalize:j3},bs=H3;function hd(t,e){const n=t.props&&t.props[e];pt(n)&&n()}function G3(t,e,n,i,s,r,a,o,l){const{p:c,o:{createElement:u}}=l,d=u("div"),h=t.suspense=IE(t,s,i,e,d,n,r,a,o,l);c(null,h.pendingBranch=t.ssContent,d,null,i,h,r,a),h.deps>0?(hd(t,"onPending"),hd(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,r,a),Cc(h,t.ssFallback)):h.resolve(!1,!0)}function W3(t,e,n,i,s,r,a,o,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:m,pendingBranch:v,isInFallback:p,isHydrating:g}=d;if(v)d.pendingBranch=h,rr(h,v)?(l(v,h,d.hiddenContainer,null,s,d,r,a,o),d.deps<=0?d.resolve():p&&(g||(l(m,f,n,i,s,null,r,a,o),Cc(d,f)))):(d.pendingId=Qy++,g?(d.isHydrating=!1,d.activeBranch=v):c(v,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),p?(l(null,h,d.hiddenContainer,null,s,d,r,a,o),d.deps<=0?d.resolve():(l(m,f,n,i,s,null,r,a,o),Cc(d,f))):m&&rr(h,m)?(l(m,h,n,i,s,d,r,a,o),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,s,d,r,a,o),d.deps<=0&&d.resolve()));else if(m&&rr(h,m))l(m,h,n,i,s,d,r,a,o),Cc(d,h);else if(hd(e,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=Qy++,l(null,h,d.hiddenContainer,null,s,d,r,a,o),d.deps<=0)d.resolve();else{const{timeout:y,pendingId:x}=d;y>0?setTimeout(()=>{d.pendingId===x&&d.fallback(f)},y):y===0&&d.fallback(f)}}function IE(t,e,n,i,s,r,a,o,l,c,u=!1){const{p:d,m:h,um:f,n:m,o:{parentNode:v,remove:p}}=c;let g;const y=Y3(t);y&&e&&e.pendingBranch&&(g=e.pendingId,e.deps++);const x=t.props?MT(t.props.timeout):void 0,w=r,E={vnode:t,parent:e,parentComponent:n,namespace:a,container:i,hiddenContainer:s,deps:0,pendingId:Qy++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(C=!1,A=!1){const{vnode:S,activeBranch:_,pendingBranch:b,pendingId:T,effects:P,parentComponent:D,container:O}=E;let H=!1;E.isHydrating?E.isHydrating=!1:C||(H=_&&b.transition&&b.transition.mode==="out-in",H&&(_.transition.afterLeave=()=>{T===E.pendingId&&(h(b,O,r===w?m(_):r,0),Xy(P))}),_&&(v(_.el)===O&&(r=m(_)),f(_,D,E,!0)),H||h(b,O,r,0)),Cc(E,b),E.pendingBranch=null,E.isInFallback=!1;let F=E.parent,K=!1;for(;F;){if(F.pendingBranch){F.effects.push(...P),K=!0;break}F=F.parent}!K&&!H&&Xy(P),E.effects=[],y&&e&&e.pendingBranch&&g===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),hd(S,"onResolve")},fallback(C){if(!E.pendingBranch)return;const{vnode:A,activeBranch:S,parentComponent:_,container:b,namespace:T}=E;hd(A,"onFallback");const P=m(S),D=()=>{E.isInFallback&&(d(null,C,b,P,_,null,T,o,l),Cc(E,C))},O=C.transition&&C.transition.mode==="out-in";O&&(S.transition.afterLeave=D),E.isInFallback=!0,f(S,_,null,!0),O||D()},move(C,A,S){E.activeBranch&&h(E.activeBranch,C,A,S),E.container=C},next(){return E.activeBranch&&m(E.activeBranch)},registerDep(C,A,S){const _=!!E.pendingBranch;_&&E.deps++;const b=C.vnode.el;C.asyncDep.catch(T=>{Yd(T,C,0)}).then(T=>{if(C.isUnmounted||E.isUnmounted||E.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:P}=C;n0(C,T,!1),b&&(P.el=b);const D=!b&&C.subTree.el;A(C,P,v(b||C.subTree.el),b?null:m(C.subTree),E,a,S),D&&p(D),Kb(C,P.el),_&&--E.deps===0&&E.resolve()})},unmount(C,A){E.isUnmounted=!0,E.activeBranch&&f(E.activeBranch,n,C,A),E.pendingBranch&&f(E.pendingBranch,n,C,A)}};return E}function $3(t,e,n,i,s,r,a,o,l){const c=e.suspense=IE(e,i,n,t.parentNode,document.createElement("div"),null,s,r,a,o,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,r,a);return c.deps===0&&c.resolve(!1,!0),u}function j3(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=oS(i?n.default:n),t.ssFallback=i?oS(n.fallback):M(Zn)}function oS(t){let e;if(pt(t)){const n=Lc&&t._c;n&&(t._d=!1,tt()),t=t(),n&&(t._d=!0,e=Yi,RE())}return ht(t)&&(t=F3(t)),t=Ns(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function X3(t,e){e&&e.pendingBranch?ht(t)?e.effects.push(...t):e.effects.push(t):Xy(t)}function Cc(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,i&&i.subTree===n&&(i.vnode.el=s,Kb(i,s))}function Y3(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const We=Symbol.for("v-fgt"),qd=Symbol.for("v-txt"),Zn=Symbol.for("v-cmt"),hg=Symbol.for("v-stc"),Xu=[];let Yi=null;function tt(t=!1){Xu.push(Yi=t?null:[])}function RE(){Xu.pop(),Yi=Xu[Xu.length-1]||null}let Lc=1;function lS(t,e=!1){Lc+=t,t<0&&Yi&&e&&(Yi.hasOnce=!0)}function LE(t){return t.dynamicChildren=Lc>0?Yi||_c:null,RE(),Lc>0&&Yi&&Yi.push(t),t}function zt(t,e,n,i,s,r){return LE(Ee(t,e,n,i,s,r,!0))}function sn(t,e,n,i,s){return LE(M(t,e,n,i,s,!0))}function tl(t){return t?t.__v_isVNode===!0:!1}function rr(t,e){return t.type===e.type&&t.key===e.key}const kE=({key:t})=>t??null,Zf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ln(t)||an(t)||pt(t)?{i:Jn,r:t,k:e,f:!!n}:t:null);function Ee(t,e=null,n=null,i=0,s=null,r=t===We?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kE(e),ref:e&&Zf(e),scopeId:JT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jn};return o?(Zb(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ln(n)?8:16),Lc>0&&!a&&Yi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Yi.push(l),l}const M=q3;function q3(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===h3)&&(t=Zn),tl(t)){const o=Jr(t,e,!0);return n&&Zb(o,n),Lc>0&&!r&&Yi&&(o.shapeFlag&6?Yi[Yi.indexOf(t)]=o:Yi.push(o)),o.patchFlag=-2,o}if(sO(t)&&(t=t.__vccOpts),e){e=K3(e);let{class:o,style:l}=e;o&&!Ln(o)&&(e.class=jd(o)),vn(l)&&(Bb(l)&&!ht(l)&&(l=Dn({},l)),e.style=$d(l))}const a=Ln(t)?1:PE(t)?128:eE(t)?64:vn(t)?4:pt(t)?2:0;return Ee(t,e,n,i,s,a,r,!0)}function K3(t){return t?Bb(t)||yE(t)?Dn({},t):t:null}function Jr(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:o,transition:l}=t,c=e?Se(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&kE(c),ref:e&&e.ref?n&&r?ht(r)?r.concat(Zf(e)):[r,Zf(e)]:Zf(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Jr(t.ssContent),ssFallback:t.ssFallback&&Jr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&el(u,l.clone(u)),u}function gn(t=" ",e=0){return M(qd,null,t,e)}function DE(t="",e=!1){return e?(tt(),sn(Zn,null,t)):M(Zn,null,t)}function Ns(t){return t==null||typeof t=="boolean"?M(Zn):ht(t)?M(We,null,t.slice()):tl(t)?Da(t):M(qd,null,String(t))}function Da(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Jr(t)}function Zb(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ht(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Zb(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!yE(e)?e._ctx=Jn:s===3&&Jn&&(Jn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pt(e)?(e={default:e,_ctx:Jn},n=32):(e=String(e),i&64?(n=16,e=[gn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Se(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=jd([e.class,i.class]));else if(s==="style")e.style=$d([e.style,i.style]);else if(Sp(s)){const r=e[s],a=i[s];a&&r!==a&&!(ht(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function Zs(t,e,n,i=null){Bs(t,e,7,[n,i])}const Z3=pE();let J3=0;function Q3(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Z3,r={uid:J3++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new PT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_E(i,s),emitsOptions:AE(i,s),emit:null,emitted:null,propsDefaults:rn,inheritAttrs:i.inheritAttrs,ctx:rn,data:rn,props:rn,attrs:rn,slots:rn,refs:rn,setupState:rn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=V3.bind(null,r),t.ce&&t.ce(r),r}let oi=null;const Qr=()=>oi||Jn;let gm,e0;{const t=Tp(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};gm=e("__VUE_INSTANCE_SETTERS__",n=>oi=n),e0=e("__VUE_SSR_SETTERS__",n=>fd=n)}const nl=t=>{const e=oi;return gm(t),t.scope.on(),()=>{t.scope.off(),gm(e)}},t0=()=>{oi&&oi.scope.off(),gm(null)};function OE(t){return t.vnode.shapeFlag&4}let fd=!1;function eO(t,e=!1,n=!1){e&&e0(e);const{props:i,children:s}=t.vnode,r=OE(t);M3(t,i,r,e),A3(t,s,n);const a=r?tO(t,e):void 0;return e&&e0(!1),a}function tO(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,m3);const{setup:i}=n;if(i){Ya();const s=t.setupContext=i.length>1?VE(t):null,r=nl(t),a=Xd(i,t,0,[t.props,s]),o=Pb(a);if(qa(),r(),(o||t.sp)&&!Sc(t)&&lE(t),o){if(a.then(t0,t0),e)return a.then(l=>{n0(t,l,e)}).catch(l=>{Yd(l,t,0)});t.asyncDep=a}else n0(t,a,e)}else NE(t,e)}function n0(t,e,n){pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:vn(e)&&(t.setupState=jT(e)),NE(t,n)}let cS;function NE(t,e,n){const i=t.type;if(!t.render){if(!e&&cS&&!i.render){const s=i.template||jb(t).template;if(s){const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,c=Dn(Dn({isCustomElement:r,delimiters:o},a),l);i.render=cS(s,c)}}t.render=i.render||cr}{const s=nl(t);Ya();try{g3(t)}finally{qa(),s()}}}const nO={get(t,e){return mi(t,"get",""),t[e]}};function VE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,nO),slots:t.slots,emit:t.emit,expose:e}}function Dp(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(jT(WT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ju)return ju[n](t)},has(e,n){return n in e||n in ju}})):t.proxy}function iO(t,e=!0){return pt(t)?t.displayName||t.name:t.name||e&&t.__name}function sO(t){return pt(t)&&"__vccOpts"in t}const L=(t,e)=>ZD(t,e,fd);function cs(t,e,n){const i=arguments.length;return i===2?vn(e)&&!ht(e)?tl(e)?M(t,null,[e]):M(t,e):M(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&tl(n)&&(n=[n]),M(t,e,n))}const rO="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let i0;const uS=typeof window<"u"&&window.trustedTypes;if(uS)try{i0=uS.createPolicy("vue",{createHTML:t=>t})}catch{}const FE=i0?t=>i0.createHTML(t):t=>t,aO="http://www.w3.org/2000/svg",oO="http://www.w3.org/1998/Math/MathML",Fr=typeof document<"u"?document:null,dS=Fr&&Fr.createElement("template"),lO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?Fr.createElementNS(aO,t):e==="mathml"?Fr.createElementNS(oO,t):n?Fr.createElement(t,{is:n}):Fr.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Fr.createTextNode(t),createComment:t=>Fr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{dS.innerHTML=FE(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=dS.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ga="transition",fu="animation",kc=Symbol("_vtc"),BE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},UE=Dn({},sE,BE),cO=t=>(t.displayName="Transition",t.props=UE,t),Ga=cO((t,{slots:e})=>cs(r3,zE(t),e)),oo=(t,e=[])=>{ht(t)?t.forEach(n=>n(...e)):t&&t(...e)},hS=t=>t?ht(t)?t.some(e=>e.length>1):t.length>1:!1;function zE(t){const e={};for(const P in t)P in BE||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=a,appearToClass:u=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,m=uO(s),v=m&&m[0],p=m&&m[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:x,onLeave:w,onLeaveCancelled:E,onBeforeAppear:C=g,onAppear:A=y,onAppearCancelled:S=x}=e,_=(P,D,O,H)=>{P._enterCancelled=H,Ra(P,D?u:o),Ra(P,D?c:a),O&&O()},b=(P,D)=>{P._isLeaving=!1,Ra(P,d),Ra(P,f),Ra(P,h),D&&D()},T=P=>(D,O)=>{const H=P?A:y,F=()=>_(D,P,O);oo(H,[D,F]),fS(()=>{Ra(D,P?l:r),er(D,P?u:o),hS(H)||mS(D,i,v,F)})};return Dn(e,{onBeforeEnter(P){oo(g,[P]),er(P,r),er(P,a)},onBeforeAppear(P){oo(C,[P]),er(P,l),er(P,c)},onEnter:T(!1),onAppear:T(!0),onLeave(P,D){P._isLeaving=!0;const O=()=>b(P,D);er(P,d),P._enterCancelled?(er(P,h),s0()):(s0(),er(P,h)),fS(()=>{P._isLeaving&&(Ra(P,d),er(P,f),hS(w)||mS(P,i,p,O))}),oo(w,[P,O])},onEnterCancelled(P){_(P,!1,void 0,!0),oo(x,[P])},onAppearCancelled(P){_(P,!0,void 0,!0),oo(S,[P])},onLeaveCancelled(P){b(P),oo(E,[P])}})}function uO(t){if(t==null)return null;if(vn(t))return[fg(t.enter),fg(t.leave)];{const e=fg(t);return[e,e]}}function fg(t){return MT(t)}function er(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[kc]||(t[kc]=new Set)).add(e)}function Ra(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[kc];n&&(n.delete(e),n.size||(t[kc]=void 0))}function fS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let dO=0;function mS(t,e,n,i){const s=t._endId=++dO,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:o,propCount:l}=HE(t,e);if(!a)return i();const c=a+"end";let u=0;const d=()=>{t.removeEventListener(c,h),r()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),t.addEventListener(c,h)}function HE(t,e){const n=window.getComputedStyle(t),i=m=>(n[m]||"").split(", "),s=i(`${ga}Delay`),r=i(`${ga}Duration`),a=pS(s,r),o=i(`${fu}Delay`),l=i(`${fu}Duration`),c=pS(o,l);let u=null,d=0,h=0;e===ga?a>0&&(u=ga,d=a,h=r.length):e===fu?c>0&&(u=fu,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?ga:fu:null,h=u?u===ga?r.length:l.length:0);const f=u===ga&&/\b(transform|all)(,|$)/.test(i(`${ga}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function pS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>vS(n)+vS(t[i])))}function vS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function s0(){return document.body.offsetHeight}function hO(t,e,n){const i=t[kc];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ym=Symbol("_vod"),GE=Symbol("_vsh"),Ws={beforeMount(t,{value:e},{transition:n}){t[ym]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):mu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),mu(t,!0),i.enter(t)):i.leave(t,()=>{mu(t,!1)}):mu(t,e))},beforeUnmount(t,{value:e}){mu(t,e)}};function mu(t,e){t.style.display=e?t[ym]:"none",t[GE]=!e}const fO=Symbol(""),mO=/(^|;)\s*display\s*:/;function pO(t,e,n){const i=t.style,s=Ln(n);let r=!1;if(n&&!s){if(e)if(Ln(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&Jf(i,o,"")}else for(const a in e)n[a]==null&&Jf(i,a,"");for(const a in n)a==="display"&&(r=!0),Jf(i,a,n[a])}else if(s){if(e!==n){const a=i[fO];a&&(n+=";"+a),i.cssText=n,r=mO.test(n)}}else e&&t.removeAttribute("style");ym in t&&(t[ym]=r?i.display:"",t[GE]&&(i.display="none"))}const gS=/\s*!important$/;function Jf(t,e,n){if(ht(n))n.forEach(i=>Jf(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=vO(t,e);gS.test(n)?t.setProperty(xl(i),n.replace(gS,""),"important"):t[i]=n}}const yS=["Webkit","Moz","ms"],mg={};function vO(t,e){const n=mg[e];if(n)return n;let i=Ji(e);if(i!=="filter"&&i in t)return mg[e]=i;i=br(i);for(let s=0;s<yS.length;s++){const r=yS[s]+i;if(r in t)return mg[e]=r}return e}const bS="http://www.w3.org/1999/xlink";function _S(t,e,n,i,s,r=SD(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(bS,e.slice(6,e.length)):t.setAttributeNS(bS,e,n):n==null||r&&!CT(n)?t.removeAttribute(e):t.setAttribute(e,r?"":ca(n)?String(n):n)}function xS(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?FE(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=CT(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function mc(t,e,n,i){t.addEventListener(e,n,i)}function gO(t,e,n,i){t.removeEventListener(e,n,i)}const wS=Symbol("_vei");function yO(t,e,n,i,s=null){const r=t[wS]||(t[wS]={}),a=r[e];if(i&&a)a.value=i;else{const[o,l]=bO(e);if(i){const c=r[e]=wO(i,s);mc(t,o,c,l)}else a&&(gO(t,o,a,l),r[e]=void 0)}}const SS=/(?:Once|Passive|Capture)$/;function bO(t){let e;if(SS.test(t)){e={};let i;for(;i=t.match(SS);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xl(t.slice(2)),e]}let pg=0;const _O=Promise.resolve(),xO=()=>pg||(_O.then(()=>pg=0),pg=Date.now());function wO(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Bs(SO(i,n.value),e,5,[i])};return n.value=t,n.attached=xO(),n}function SO(t,e){if(ht(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const MS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,MO=(t,e,n,i,s,r)=>{const a=s==="svg";e==="class"?hO(t,i,a):e==="style"?pO(t,n,i):Sp(e)?Eb(e)||yO(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):CO(t,e,i,a))?(xS(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&_S(t,e,i,a,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ln(i))?xS(t,Ji(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),_S(t,e,i,a))};function CO(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&MS(e)&&pt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return MS(e)&&Ln(n)?!1:e in t}const WE=new WeakMap,$E=new WeakMap,bm=Symbol("_moveCb"),CS=Symbol("_enterCb"),TO=t=>(delete t.props.mode,t),EO=TO({name:"TransitionGroup",props:Dn({},UE,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Qr(),i=iE();let s,r;return Rp(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!RO(s[0].el,n.vnode.el,a))return;s.forEach(AO),s.forEach(PO);const o=s.filter(IO);s0(),o.forEach(l=>{const c=l.el,u=c.style;er(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[bm]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c[bm]=null,Ra(c,a))};c.addEventListener("transitionend",d)})}),()=>{const a=at(t),o=zE(a);let l=a.tag||We;if(s=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(s.push(u),el(u,dd(u,o,i,n)),WE.set(u,u.el.getBoundingClientRect()))}r=e.default?zb(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&el(u,dd(u,o,i,n))}return M(l,null,r)}}}),Jb=EO;function AO(t){const e=t.el;e[bm]&&e[bm](),e[CS]&&e[CS]()}function PO(t){$E.set(t,t.el.getBoundingClientRect())}function IO(t){const e=WE.get(t),n=$E.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function RO(t,e,n){const i=t.cloneNode(),s=t[kc];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=HE(i);return r.removeChild(i),a}const TS=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ht(e)?n=>qf(e,n):e};function LO(t){t.target.composing=!0}function ES(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vg=Symbol("_assign"),kO={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[vg]=TS(s);const r=i||s.props&&s.props.type==="number";mc(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),r&&(o=Hy(o)),t[vg](o)}),n&&mc(t,"change",()=>{t.value=t.value.trim()}),e||(mc(t,"compositionstart",LO),mc(t,"compositionend",ES),mc(t,"change",ES))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(t[vg]=TS(a),t.composing)return;const o=(r||t.type==="number")&&!/^0\d/.test(t.value)?Hy(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},DO=["ctrl","shift","alt","meta"],OO={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>DO.some(n=>t[`${n}Key`]&&!e.includes(n))},AS=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const o=OO[e[a]];if(o&&o(s,e))return}return t(s,...r)})},NO=Dn({patchProp:MO},lO);let PS;function jE(){return PS||(PS=CE(NO))}const Qb=(...t)=>{jE().render(...t)},VO=(...t)=>{const e=jE().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=BO(i);if(!s)return;const r=e._component;!pt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,FO(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function FO(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function BO(t){return Ln(t)?document.querySelector(t):t}const UO="/Portfolio/BlueHills.jpg";/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const qc="170",Po={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Br={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},XE=0,r0=1,YE=2,zO=3,HO=0,e_=1,t_=2,nr=3,fr=0,yi=1,Li=2,Xr=0,Go=1,_m=2,a0=3,o0=4,qE=5,Na=100,KE=101,ZE=102,JE=103,QE=104,eA=200,tA=201,nA=202,iA=203,xm=204,wm=205,sA=206,rA=207,aA=208,oA=209,lA=210,cA=211,uA=212,dA=213,hA=214,Sm=0,Mm=1,Cm=2,il=3,Tm=4,Em=5,Am=6,Pm=7,Kd=0,fA=1,mA=2,Yr=0,pA=1,vA=2,gA=3,n_=4,yA=5,bA=6,_A=7,l0="attached",xA="detached",Op=300,ea=301,Wa=302,md=303,pd=304,Kc=306,ta=1e3,qi=1001,sl=1002,Wn=1003,Zd=1004,GO=1004,Fa=1005,WO=1005,In=1006,Wo=1007,$O=1007,as=1008,jO=1008,Cs=1009,i_=1010,s_=1011,Dc=1012,Np=1013,na=1014,Ki=1015,wl=1016,Vp=1017,Fp=1018,rl=1020,r_=35902,a_=1021,o_=1022,pi=1023,l_=1024,c_=1025,$o=1026,al=1027,Bp=1028,Jd=1029,u_=1030,Up=1031,XO=1032,zp=1033,Yu=33776,qu=33777,Ku=33778,Zu=33779,Im=35840,Rm=35841,Lm=35842,km=35843,Dm=36196,Om=37492,Nm=37496,Vm=37808,Fm=37809,Bm=37810,Um=37811,zm=37812,Hm=37813,Gm=37814,Wm=37815,$m=37816,jm=37817,Xm=37818,Ym=37819,qm=37820,Km=37821,Ju=36492,Zm=36494,Jm=36495,d_=36283,Qm=36284,ep=36285,tp=36286,wA=2200,SA=2201,MA=2202,ol=2300,ll=2301,Qf=2302,Do=2400,Oo=2401,vd=2402,Hp=2500,h_=2501,CA=0,f_=1,np=2,TA=3200,EA=3201,YO=3202,qO=3203,Ka=0,AA=1,Hr="",Pi="srgb",Sl="srgb-linear",Qd="linear",Jt="srgb",KO=0,Io=7680,ZO=7681,JO=7682,QO=7683,eN=34055,tN=34056,nN=5386,iN=512,sN=513,rN=514,aN=515,oN=516,lN=517,cN=518,c0=519,PA=512,IA=513,RA=514,m_=515,LA=516,kA=517,DA=518,OA=519,gd=35044,uN=35048,dN=35040,hN=35045,fN=35049,mN=35041,pN=35046,vN=35050,gN=35042,yN="100",u0="300 es",ar=2e3,yd=2001;class $s{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,e);e.target=null}}}const di=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let IS=1234567;const jo=Math.PI/180,Oc=180/Math.PI;function ls(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(di[t&255]+di[t>>8&255]+di[t>>16&255]+di[t>>24&255]+"-"+di[e&255]+di[e>>8&255]+"-"+di[e>>16&15|64]+di[e>>24&255]+"-"+di[n&63|128]+di[n>>8&255]+"-"+di[n>>16&255]+di[n>>24&255]+di[i&255]+di[i>>8&255]+di[i>>16&255]+di[i>>24&255]).toLowerCase()}function Pn(t,e,n){return Math.max(e,Math.min(n,t))}function p_(t,e){return(t%e+e)%e}function bN(t,e,n,i,s){return i+(t-e)*(s-i)/(n-e)}function _N(t,e,n){return t!==e?(n-t)/(e-t):0}function Qu(t,e,n){return(1-n)*t+n*e}function xN(t,e,n,i){return Qu(t,e,1-Math.exp(-n*i))}function wN(t,e=1){return e-Math.abs(p_(t,e*2)-e)}function SN(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function MN(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function CN(t,e){return t+Math.floor(Math.random()*(e-t+1))}function TN(t,e){return t+Math.random()*(e-t)}function EN(t){return t*(.5-Math.random())}function AN(t){t!==void 0&&(IS=t);let e=IS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function PN(t){return t*jo}function IN(t){return t*Oc}function RN(t){return(t&t-1)===0&&t!==0}function LN(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function kN(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function DN(t,e,n,i,s){const r=Math.cos,a=Math.sin,o=r(n/2),l=a(n/2),c=r((e+i)/2),u=a((e+i)/2),d=r((e-i)/2),h=a((e-i)/2),f=r((i-e)/2),m=a((i-e)/2);switch(s){case"XYX":t.set(o*u,l*d,l*h,o*c);break;case"YZY":t.set(l*h,o*u,l*d,o*c);break;case"ZXZ":t.set(l*d,l*h,o*u,o*c);break;case"XZX":t.set(o*u,l*m,l*f,o*c);break;case"YXY":t.set(l*f,o*u,l*m,o*c);break;case"ZYZ":t.set(l*m,l*f,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function ki(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function wt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const $a={DEG2RAD:jo,RAD2DEG:Oc,generateUUID:ls,clamp:Pn,euclideanModulo:p_,mapLinear:bN,inverseLerp:_N,lerp:Qu,damp:xN,pingpong:wN,smoothstep:SN,smootherstep:MN,randInt:CN,randFloat:TN,randFloatSpread:EN,seededRandom:AN,degToRad:PN,radToDeg:IN,isPowerOfTwo:RN,ceilPowerOfTwo:LN,floorPowerOfTwo:kN,setQuaternionFromProperEuler:DN,normalize:wt,denormalize:ki};class Te{constructor(e=0,n=0){Te.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6],this.y=s[1]*n+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Pn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),s=Math.sin(n),r=this.x-e.x,a=this.y-e.y;return this.x=r*i-a*s+e.x,this.y=r*s+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _t{constructor(e,n,i,s,r,a,o,l,c){_t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,a,o,l,c)}set(e,n,i,s,r,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=s,u[2]=o,u[3]=n,u[4]=r,u[5]=l,u[6]=i,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],f=i[5],m=i[8],v=s[0],p=s[3],g=s[6],y=s[1],x=s[4],w=s[7],E=s[2],C=s[5],A=s[8];return r[0]=a*v+o*y+l*E,r[3]=a*p+o*x+l*C,r[6]=a*g+o*w+l*A,r[1]=c*v+u*y+d*E,r[4]=c*p+u*x+d*C,r[7]=c*g+u*w+d*A,r[2]=h*v+f*y+m*E,r[5]=h*p+f*x+m*C,r[8]=h*g+f*w+m*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*o*c-i*r*u+i*o*l+s*r*c-s*a*l}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*a-o*c,h=o*l-u*r,f=c*r-a*l,m=n*d+i*h+s*f;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return e[0]=d*v,e[1]=(s*c-u*i)*v,e[2]=(o*i-s*a)*v,e[3]=h*v,e[4]=(u*n-s*l)*v,e[5]=(s*r-o*n)*v,e[6]=f*v,e[7]=(i*l-c*n)*v,e[8]=(a*n-i*r)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,s,r,a,o){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-s*c,s*l,-s*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(gg.makeScale(e,n)),this}rotate(e){return this.premultiply(gg.makeRotation(-e)),this}translate(e,n){return this.premultiply(gg.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<9;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const gg=new _t;function NA(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const ON={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function pc(t,e){return new ON[t](e)}function bd(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function VA(){const t=bd("canvas");return t.style.display="block",t}const RS={};function Nu(t){t in RS||(RS[t]=!0,console.warn(t))}function NN(t,e,n){return new Promise(function(i,s){function r(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:s();break;case t.TIMEOUT_EXPIRED:setTimeout(r,n);break;default:i()}}setTimeout(r,n)})}function VN(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function FN(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const kt={enabled:!0,workingColorSpace:Sl,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===Jt&&(t.r=qr(t.r),t.g=qr(t.g),t.b=qr(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===Jt&&(t.r=Tc(t.r),t.g=Tc(t.g),t.b=Tc(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===Hr?Qd:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function qr(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Tc(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const LS=[.64,.33,.3,.6,.15,.06],kS=[.2126,.7152,.0722],DS=[.3127,.329],OS=new _t().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),NS=new _t().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);kt.define({[Sl]:{primaries:LS,whitePoint:DS,transfer:Qd,toXYZ:OS,fromXYZ:NS,luminanceCoefficients:kS,workingColorSpaceConfig:{unpackColorSpace:Pi},outputColorSpaceConfig:{drawingBufferColorSpace:Pi}},[Pi]:{primaries:LS,whitePoint:DS,transfer:Jt,toXYZ:OS,fromXYZ:NS,luminanceCoefficients:kS,outputColorSpaceConfig:{drawingBufferColorSpace:Pi}}});let Ul;class FA{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ul===void 0&&(Ul=bd("canvas")),Ul.width=e.width,Ul.height=e.height;const i=Ul.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Ul}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=bd("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let a=0;a<r.length;a++)r[a]=qr(r[a]/255)*255;return i.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(qr(n[i]/255)*255):n[i]=qr(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let BN=0;class No{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:BN++}),this.uuid=ls(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let a=0,o=s.length;a<o;a++)s[a].isDataTexture?r.push(yg(s[a].image)):r.push(yg(s[a]))}else r=yg(s);i.url=r}return n||(e.images[this.uuid]=i),i}}function yg(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?FA.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UN=0;class un extends $s{constructor(e=un.DEFAULT_IMAGE,n=un.DEFAULT_MAPPING,i=qi,s=qi,r=In,a=as,o=pi,l=Cs,c=un.DEFAULT_ANISOTROPY,u=Hr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UN++}),this.uuid=ls(),this.name="",this.source=new No(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Te(0,0),this.repeat=new Te(1,1),this.center=new Te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _t,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Op)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ta:e.x=e.x-Math.floor(e.x);break;case qi:e.x=e.x<0?0:1;break;case sl:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ta:e.y=e.y-Math.floor(e.y);break;case qi:e.y=e.y<0?0:1;break;case sl:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}un.DEFAULT_IMAGE=null;un.DEFAULT_MAPPING=Op;un.DEFAULT_ANISOTROPY=1;class Tt{constructor(e=0,n=0,i=0,s=1){Tt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,s){return this.x=e,this.y=n,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*s+a[12]*r,this.y=a[1]*n+a[5]*i+a[9]*s+a[13]*r,this.z=a[2]*n+a[6]*i+a[10]*s+a[14]*r,this.w=a[3]*n+a[7]*i+a[11]*s+a[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,s,r;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],m=l[9],v=l[2],p=l[6],g=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-v)<.01&&Math.abs(m-p)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+v)<.1&&Math.abs(m+p)<.1&&Math.abs(c+f+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(c+1)/2,w=(f+1)/2,E=(g+1)/2,C=(u+h)/4,A=(d+v)/4,S=(m+p)/4;return x>w&&x>E?x<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(x),s=C/i,r=A/i):w>E?w<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(w),i=C/s,r=S/s):E<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(E),i=A/r,s=S/r),this.set(i,s,r,n),this}let y=Math.sqrt((p-m)*(p-m)+(d-v)*(d-v)+(h-u)*(h-u));return Math.abs(y)<.001&&(y=1),this.x=(p-m)/y,this.y=(d-v)/y,this.z=(h-u)/y,this.w=Math.acos((c+f+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class BA extends $s{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Tt(0,0,e,n),this.scissorTest=!1,this.viewport=new Tt(0,0,e,n);const s={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:In,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new un(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=r.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,s=e.textures.length;i<s;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new No(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ts extends BA{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class Gp extends un{constructor(e=null,n=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=Wn,this.minFilter=Wn,this.wrapR=qi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zN extends Ts{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Gp(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class v_ extends un{constructor(e=null,n=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=Wn,this.minFilter=Wn,this.wrapR=qi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class HN extends Ts{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new v_(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Qn{constructor(e=0,n=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=s}static slerpFlat(e,n,i,s,r,a,o){let l=i[s+0],c=i[s+1],u=i[s+2],d=i[s+3];const h=r[a+0],f=r[a+1],m=r[a+2],v=r[a+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(o===1){e[n+0]=h,e[n+1]=f,e[n+2]=m,e[n+3]=v;return}if(d!==v||l!==h||c!==f||u!==m){let p=1-o;const g=l*h+c*f+u*m+d*v,y=g>=0?1:-1,x=1-g*g;if(x>Number.EPSILON){const E=Math.sqrt(x),C=Math.atan2(E,g*y);p=Math.sin(p*C)/E,o=Math.sin(o*C)/E}const w=o*y;if(l=l*p+h*w,c=c*p+f*w,u=u*p+m*w,d=d*p+v*w,p===1-o){const E=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=E,c*=E,u*=E,d*=E}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,s,r,a){const o=i[s],l=i[s+1],c=i[s+2],u=i[s+3],d=r[a],h=r[a+1],f=r[a+2],m=r[a+3];return e[n]=o*m+u*d+l*f-c*h,e[n+1]=l*m+u*h+c*d-o*f,e[n+2]=c*m+u*f+o*h-l*d,e[n+3]=u*m-o*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,s=e._y,r=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),u=o(s/2),d=o(r/2),h=l(i/2),f=l(s/2),m=l(r/2);switch(a){case"XYZ":this._x=h*u*d+c*f*m,this._y=c*f*d-h*u*m,this._z=c*u*m+h*f*d,this._w=c*u*d-h*f*m;break;case"YXZ":this._x=h*u*d+c*f*m,this._y=c*f*d-h*u*m,this._z=c*u*m-h*f*d,this._w=c*u*d+h*f*m;break;case"ZXY":this._x=h*u*d-c*f*m,this._y=c*f*d+h*u*m,this._z=c*u*m+h*f*d,this._w=c*u*d-h*f*m;break;case"ZYX":this._x=h*u*d-c*f*m,this._y=c*f*d+h*u*m,this._z=c*u*m-h*f*d,this._w=c*u*d+h*f*m;break;case"YZX":this._x=h*u*d+c*f*m,this._y=c*f*d+h*u*m,this._z=c*u*m-h*f*d,this._w=c*u*d-h*f*m;break;case"XZY":this._x=h*u*d-c*f*m,this._y=c*f*d-h*u*m,this._z=c*u*m+h*f*d,this._w=c*u*d+h*f*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],s=n[4],r=n[8],a=n[1],o=n[5],l=n[9],c=n[2],u=n[6],d=n[10],h=i+o+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(r-c)*f,this._z=(a-s)*f}else if(i>o&&i>d){const f=2*Math.sqrt(1+i-o-d);this._w=(u-l)/f,this._x=.25*f,this._y=(s+a)/f,this._z=(r+c)/f}else if(o>d){const f=2*Math.sqrt(1+o-i-d);this._w=(r-c)/f,this._x=(s+a)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-i-o);this._w=(a-s)/f,this._x=(r+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,n/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,s=e._y,r=e._z,a=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+a*o+s*c-r*l,this._y=s*u+a*l+r*o-i*c,this._z=r*u+a*c+i*l-s*o,this._w=a*u-i*o-s*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,s=this._y,r=this._z,a=this._w;let o=a*e._w+i*e._x+s*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=s,this._z=r,this;const l=1-o*o;if(l<=Number.EPSILON){const f=1-n;return this._w=f*a+n*this._w,this._x=f*i+n*this._x,this._y=f*s+n*this._y,this._z=f*r+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=a*d+this._w*h,this._x=i*d+this._x*h,this._y=s*d+this._y*h,this._z=r*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(n),r*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,i=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(VS.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(VS.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6]*s,this.y=r[1]*n+r[4]*i+r[7]*s,this.z=r[2]*n+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=e.elements,a=1/(r[3]*n+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*n+r[4]*i+r[8]*s+r[12])*a,this.y=(r[1]*n+r[5]*i+r[9]*s+r[13])*a,this.z=(r[2]*n+r[6]*i+r[10]*s+r[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,s=this.z,r=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*s-o*i),u=2*(o*n-r*s),d=2*(r*i-a*n);return this.x=n+l*c+a*d-o*u,this.y=i+l*u+o*c-r*d,this.z=s+l*d+r*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[4]*i+r[8]*s,this.y=r[1]*n+r[5]*i+r[9]*s,this.z=r[2]*n+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,s=e.y,r=e.z,a=n.x,o=n.y,l=n.z;return this.x=s*l-r*o,this.y=r*a-i*l,this.z=i*o-s*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return bg.copy(this).projectOnVector(e),this.sub(bg)}reflect(e){return this.sub(bg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Pn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return n*n+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const s=Math.sin(n)*e;return this.x=s*Math.sin(i),this.y=Math.cos(n)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bg=new G,VS=new Qn;class ei{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Ls.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Ls.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Ls.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(n===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=r.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Ls):Ls.fromBufferAttribute(r,a),Ls.applyMatrix4(e.matrixWorld),this.expandByPoint(Ls);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),zh.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),zh.copy(i.boundingBox)),zh.applyMatrix4(e.matrixWorld),this.union(zh)}const s=e.children;for(let r=0,a=s.length;r<a;r++)this.expandByObject(s[r],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ls),Ls.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(pu),Hh.subVectors(this.max,pu),zl.subVectors(e.a,pu),Hl.subVectors(e.b,pu),Gl.subVectors(e.c,pu),ya.subVectors(Hl,zl),ba.subVectors(Gl,Hl),lo.subVectors(zl,Gl);let n=[0,-ya.z,ya.y,0,-ba.z,ba.y,0,-lo.z,lo.y,ya.z,0,-ya.x,ba.z,0,-ba.x,lo.z,0,-lo.x,-ya.y,ya.x,0,-ba.y,ba.x,0,-lo.y,lo.x,0];return!_g(n,zl,Hl,Gl,Hh)||(n=[1,0,0,0,1,0,0,0,1],!_g(n,zl,Hl,Gl,Hh))?!1:(Gh.crossVectors(ya,ba),n=[Gh.x,Gh.y,Gh.z],_g(n,zl,Hl,Gl,Hh))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ls).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ls).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Rr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Rr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Rr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Rr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Rr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Rr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Rr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Rr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Rr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Rr=[new G,new G,new G,new G,new G,new G,new G,new G],Ls=new G,zh=new ei,zl=new G,Hl=new G,Gl=new G,ya=new G,ba=new G,lo=new G,pu=new G,Hh=new G,Gh=new G,co=new G;function _g(t,e,n,i,s){for(let r=0,a=t.length-3;r<=a;r+=3){co.fromArray(t,r);const o=s.x*Math.abs(co.x)+s.y*Math.abs(co.y)+s.z*Math.abs(co.z),l=e.dot(co),c=n.dot(co),u=i.dot(co);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const GN=new ei,vu=new G,xg=new G;class ti{constructor(e=new G,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):GN.setFromPoints(e).getCenter(i);let s=0;for(let r=0,a=e.length;r<a;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;vu.subVectors(e,this.center);const n=vu.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),s=(i-this.radius)*.5;this.center.addScaledVector(vu,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(xg.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(vu.copy(e.center).add(xg)),this.expandByPoint(vu.copy(e.center).sub(xg))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Lr=new G,wg=new G,Wh=new G,_a=new G,Sg=new G,$h=new G,Mg=new G;class Ml{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Lr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Lr.copy(this.origin).addScaledVector(this.direction,n),Lr.distanceToSquared(e))}distanceSqToSegment(e,n,i,s){wg.copy(e).add(n).multiplyScalar(.5),Wh.copy(n).sub(e).normalize(),_a.copy(this.origin).sub(wg);const r=e.distanceTo(n)*.5,a=-this.direction.dot(Wh),o=_a.dot(this.direction),l=-_a.dot(Wh),c=_a.lengthSq(),u=Math.abs(1-a*a);let d,h,f,m;if(u>0)if(d=a*l-o,h=a*o-l,m=r*u,d>=0)if(h>=-m)if(h<=m){const v=1/u;d*=v,h*=v,f=d*(d+a*h+2*o)+h*(a*d+h+2*l)+c}else h=r,d=Math.max(0,-(a*h+o)),f=-d*d+h*(h+2*l)+c;else h=-r,d=Math.max(0,-(a*h+o)),f=-d*d+h*(h+2*l)+c;else h<=-m?(d=Math.max(0,-(-a*r+o)),h=d>0?-r:Math.min(Math.max(-r,-l),r),f=-d*d+h*(h+2*l)+c):h<=m?(d=0,h=Math.min(Math.max(-r,-l),r),f=h*(h+2*l)+c):(d=Math.max(0,-(a*r+o)),h=d>0?r:Math.min(Math.max(-r,-l),r),f=-d*d+h*(h+2*l)+c);else h=a>0?-r:r,d=Math.max(0,-(a*h+o)),f=-d*d+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),s&&s.copy(wg).addScaledVector(Wh,h),f}intersectSphere(e,n){Lr.subVectors(e.center,this.origin);const i=Lr.dot(this.direction),s=Lr.dot(Lr)-i*i,r=e.radius*e.radius;if(s>r)return null;const a=Math.sqrt(r-s),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,s,r,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,s=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,s=(e.min.x-h.x)*c),u>=0?(r=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),i>a||r>s||((r>i||isNaN(i))&&(i=r),(a<s||isNaN(s))&&(s=a),d>=0?(o=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(o=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||o>s)||((o>i||i!==i)&&(i=o),(l<s||s!==s)&&(s=l),s<0)?null:this.at(i>=0?i:s,n)}intersectsBox(e){return this.intersectBox(e,Lr)!==null}intersectTriangle(e,n,i,s,r){Sg.subVectors(n,e),$h.subVectors(i,e),Mg.crossVectors(Sg,$h);let a=this.direction.dot(Mg),o;if(a>0){if(s)return null;o=1}else if(a<0)o=-1,a=-a;else return null;_a.subVectors(this.origin,e);const l=o*this.direction.dot($h.crossVectors(_a,$h));if(l<0)return null;const c=o*this.direction.dot(Sg.cross(_a));if(c<0||l+c>a)return null;const u=-o*_a.dot(Mg);return u<0?null:this.at(u/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class lt{constructor(e,n,i,s,r,a,o,l,c,u,d,h,f,m,v,p){lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,a,o,l,c,u,d,h,f,m,v,p)}set(e,n,i,s,r,a,o,l,c,u,d,h,f,m,v,p){const g=this.elements;return g[0]=e,g[4]=n,g[8]=i,g[12]=s,g[1]=r,g[5]=a,g[9]=o,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=h,g[3]=f,g[7]=m,g[11]=v,g[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,s=1/Wl.setFromMatrixColumn(e,0).length(),r=1/Wl.setFromMatrixColumn(e,1).length(),a=1/Wl.setFromMatrixColumn(e,2).length();return n[0]=i[0]*s,n[1]=i[1]*s,n[2]=i[2]*s,n[3]=0,n[4]=i[4]*r,n[5]=i[5]*r,n[6]=i[6]*r,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,s=e.y,r=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(s),c=Math.sin(s),u=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const h=a*u,f=a*d,m=o*u,v=o*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=f+m*c,n[5]=h-v*c,n[9]=-o*l,n[2]=v-h*c,n[6]=m+f*c,n[10]=a*l}else if(e.order==="YXZ"){const h=l*u,f=l*d,m=c*u,v=c*d;n[0]=h+v*o,n[4]=m*o-f,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-o,n[2]=f*o-m,n[6]=v+h*o,n[10]=a*l}else if(e.order==="ZXY"){const h=l*u,f=l*d,m=c*u,v=c*d;n[0]=h-v*o,n[4]=-a*d,n[8]=m+f*o,n[1]=f+m*o,n[5]=a*u,n[9]=v-h*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const h=a*u,f=a*d,m=o*u,v=o*d;n[0]=l*u,n[4]=m*c-f,n[8]=h*c+v,n[1]=l*d,n[5]=v*c+h,n[9]=f*c-m,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const h=a*l,f=a*c,m=o*l,v=o*c;n[0]=l*u,n[4]=v-h*d,n[8]=m*d+f,n[1]=d,n[5]=a*u,n[9]=-o*u,n[2]=-c*u,n[6]=f*d+m,n[10]=h-v*d}else if(e.order==="XZY"){const h=a*l,f=a*c,m=o*l,v=o*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=h*d+v,n[5]=a*u,n[9]=f*d-m,n[2]=m*d-f,n[6]=o*u,n[10]=v*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(WN,e,$N)}lookAt(e,n,i){const s=this.elements;return ns.subVectors(e,n),ns.lengthSq()===0&&(ns.z=1),ns.normalize(),xa.crossVectors(i,ns),xa.lengthSq()===0&&(Math.abs(i.z)===1?ns.x+=1e-4:ns.z+=1e-4,ns.normalize(),xa.crossVectors(i,ns)),xa.normalize(),jh.crossVectors(ns,xa),s[0]=xa.x,s[4]=jh.x,s[8]=ns.x,s[1]=xa.y,s[5]=jh.y,s[9]=ns.y,s[2]=xa.z,s[6]=jh.z,s[10]=ns.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],m=i[2],v=i[6],p=i[10],g=i[14],y=i[3],x=i[7],w=i[11],E=i[15],C=s[0],A=s[4],S=s[8],_=s[12],b=s[1],T=s[5],P=s[9],D=s[13],O=s[2],H=s[6],F=s[10],K=s[14],j=s[3],X=s[7],Y=s[11],J=s[15];return r[0]=a*C+o*b+l*O+c*j,r[4]=a*A+o*T+l*H+c*X,r[8]=a*S+o*P+l*F+c*Y,r[12]=a*_+o*D+l*K+c*J,r[1]=u*C+d*b+h*O+f*j,r[5]=u*A+d*T+h*H+f*X,r[9]=u*S+d*P+h*F+f*Y,r[13]=u*_+d*D+h*K+f*J,r[2]=m*C+v*b+p*O+g*j,r[6]=m*A+v*T+p*H+g*X,r[10]=m*S+v*P+p*F+g*Y,r[14]=m*_+v*D+p*K+g*J,r[3]=y*C+x*b+w*O+E*j,r[7]=y*A+x*T+w*H+E*X,r[11]=y*S+x*P+w*F+E*Y,r[15]=y*_+x*D+w*K+E*J,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],s=e[8],r=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14],m=e[3],v=e[7],p=e[11],g=e[15];return m*(+r*l*d-s*c*d-r*o*h+i*c*h+s*o*f-i*l*f)+v*(+n*l*f-n*c*h+r*a*h-s*a*f+s*c*u-r*l*u)+p*(+n*c*d-n*o*f-r*a*d+i*a*f+r*o*u-i*c*u)+g*(-s*o*u-n*l*d+n*o*h+s*a*d-i*a*h+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],m=e[12],v=e[13],p=e[14],g=e[15],y=d*p*c-v*h*c+v*l*f-o*p*f-d*l*g+o*h*g,x=m*h*c-u*p*c-m*l*f+a*p*f+u*l*g-a*h*g,w=u*v*c-m*d*c+m*o*f-a*v*f-u*o*g+a*d*g,E=m*d*l-u*v*l-m*o*h+a*v*h+u*o*p-a*d*p,C=n*y+i*x+s*w+r*E;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/C;return e[0]=y*A,e[1]=(v*h*r-d*p*r-v*s*f+i*p*f+d*s*g-i*h*g)*A,e[2]=(o*p*r-v*l*r+v*s*c-i*p*c-o*s*g+i*l*g)*A,e[3]=(d*l*r-o*h*r-d*s*c+i*h*c+o*s*f-i*l*f)*A,e[4]=x*A,e[5]=(u*p*r-m*h*r+m*s*f-n*p*f-u*s*g+n*h*g)*A,e[6]=(m*l*r-a*p*r-m*s*c+n*p*c+a*s*g-n*l*g)*A,e[7]=(a*h*r-u*l*r+u*s*c-n*h*c-a*s*f+n*l*f)*A,e[8]=w*A,e[9]=(m*d*r-u*v*r-m*i*f+n*v*f+u*i*g-n*d*g)*A,e[10]=(a*v*r-m*o*r+m*i*c-n*v*c-a*i*g+n*o*g)*A,e[11]=(u*o*r-a*d*r-u*i*c+n*d*c+a*i*f-n*o*f)*A,e[12]=E*A,e[13]=(u*v*s-m*d*s+m*i*h-n*v*h-u*i*p+n*d*p)*A,e[14]=(m*o*s-a*v*s-m*i*l+n*v*l+a*i*p-n*o*p)*A,e[15]=(a*d*s-u*o*s+u*i*l-n*d*l-a*i*h+n*o*h)*A,this}scale(e){const n=this.elements,i=e.x,s=e.y,r=e.z;return n[0]*=i,n[4]*=s,n[8]*=r,n[1]*=i,n[5]*=s,n[9]*=r,n[2]*=i,n[6]*=s,n[10]*=r,n[3]*=i,n[7]*=s,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,s))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),s=Math.sin(n),r=1-i,a=e.x,o=e.y,l=e.z,c=r*a,u=r*o;return this.set(c*a+i,c*o-s*l,c*l+s*o,0,c*o+s*l,u*o+i,u*l-s*a,0,c*l-s*o,u*l+s*a,r*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,s,r,a){return this.set(1,i,r,0,e,1,a,0,n,s,1,0,0,0,0,1),this}compose(e,n,i){const s=this.elements,r=n._x,a=n._y,o=n._z,l=n._w,c=r+r,u=a+a,d=o+o,h=r*c,f=r*u,m=r*d,v=a*u,p=a*d,g=o*d,y=l*c,x=l*u,w=l*d,E=i.x,C=i.y,A=i.z;return s[0]=(1-(v+g))*E,s[1]=(f+w)*E,s[2]=(m-x)*E,s[3]=0,s[4]=(f-w)*C,s[5]=(1-(h+g))*C,s[6]=(p+y)*C,s[7]=0,s[8]=(m+x)*A,s[9]=(p-y)*A,s[10]=(1-(h+v))*A,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,i){const s=this.elements;let r=Wl.set(s[0],s[1],s[2]).length();const a=Wl.set(s[4],s[5],s[6]).length(),o=Wl.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],ks.copy(this);const c=1/r,u=1/a,d=1/o;return ks.elements[0]*=c,ks.elements[1]*=c,ks.elements[2]*=c,ks.elements[4]*=u,ks.elements[5]*=u,ks.elements[6]*=u,ks.elements[8]*=d,ks.elements[9]*=d,ks.elements[10]*=d,n.setFromRotationMatrix(ks),i.x=r,i.y=a,i.z=o,this}makePerspective(e,n,i,s,r,a,o=ar){const l=this.elements,c=2*r/(n-e),u=2*r/(i-s),d=(n+e)/(n-e),h=(i+s)/(i-s);let f,m;if(o===ar)f=-(a+r)/(a-r),m=-2*a*r/(a-r);else if(o===yd)f=-a/(a-r),m=-a*r/(a-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,s,r,a,o=ar){const l=this.elements,c=1/(n-e),u=1/(i-s),d=1/(a-r),h=(n+e)*c,f=(i+s)*u;let m,v;if(o===ar)m=(a+r)*d,v=-2*d;else if(o===yd)m=r*d,v=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=v,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<16;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Wl=new G,ks=new lt,WN=new G(0,0,0),$N=new G(1,1,1),xa=new G,jh=new G,ns=new G,FS=new lt,BS=new Qn;class Bi{constructor(e=0,n=0,i=0,s=Bi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,s=this._order){return this._x=e,this._y=n,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const s=e.elements,r=s[0],a=s[4],o=s[8],l=s[1],c=s[5],u=s[9],d=s[2],h=s[6],f=s[10];switch(n){case"XYZ":this._y=Math.asin(Pn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(Pn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-Pn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Pn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Pn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return FS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(FS,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return BS.setFromEuler(this),this.setFromQuaternion(BS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Bi.DEFAULT_ORDER="XYZ";class Wp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let jN=0;const US=new G,$l=new Qn,kr=new lt,Xh=new G,gu=new G,XN=new G,YN=new Qn,zS=new G(1,0,0),HS=new G(0,1,0),GS=new G(0,0,1),WS={type:"added"},qN={type:"removed"},jl={type:"childadded",child:null},Cg={type:"childremoved",child:null};class Nt extends $s{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jN++}),this.uuid=ls(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Nt.DEFAULT_UP.clone();const e=new G,n=new Bi,i=new Qn,s=new G(1,1,1);function r(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new lt},normalMatrix:{value:new _t}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=Nt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Nt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Wp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return $l.setFromAxisAngle(e,n),this.quaternion.multiply($l),this}rotateOnWorldAxis(e,n){return $l.setFromAxisAngle(e,n),this.quaternion.premultiply($l),this}rotateX(e){return this.rotateOnAxis(zS,e)}rotateY(e){return this.rotateOnAxis(HS,e)}rotateZ(e){return this.rotateOnAxis(GS,e)}translateOnAxis(e,n){return US.copy(e).applyQuaternion(this.quaternion),this.position.add(US.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(zS,e)}translateY(e){return this.translateOnAxis(HS,e)}translateZ(e){return this.translateOnAxis(GS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(kr.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Xh.copy(e):Xh.set(e,n,i);const s=this.parent;this.updateWorldMatrix(!0,!1),gu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?kr.lookAt(gu,Xh,this.up):kr.lookAt(Xh,gu,this.up),this.quaternion.setFromRotationMatrix(kr),s&&(kr.extractRotation(s.matrixWorld),$l.setFromRotationMatrix(kr),this.quaternion.premultiply($l.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(WS),jl.child=e,this.dispatchEvent(jl),jl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qN),Cg.child=e,this.dispatchEvent(Cg),Cg.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),kr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),kr.multiply(e.parent.matrixWorld)),e.applyMatrix4(kr),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(WS),jl.child=e,this.dispatchEvent(jl),jl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gu,e,XN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gu,YN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function r(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];r(e.shapes,d)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(r(e.materials,this.material[l]));s.material=o}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let o=0;o<this.children.length;o++)s.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];s.animations.push(r(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),h=a(e.skeletons),f=a(e.animations),m=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),h.length>0&&(i.skeletons=h),f.length>0&&(i.animations=f),m.length>0&&(i.nodes=m)}return i.object=s,i;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}Nt.DEFAULT_UP=new G(0,1,0);Nt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Nt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ds=new G,Dr=new G,Tg=new G,Or=new G,Xl=new G,Yl=new G,$S=new G,Eg=new G,Ag=new G,Pg=new G,Ig=new Tt,Rg=new Tt,Lg=new Tt;class Di{constructor(e=new G,n=new G,i=new G){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,s){s.subVectors(i,n),Ds.subVectors(e,n),s.cross(Ds);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,n,i,s,r){Ds.subVectors(s,n),Dr.subVectors(i,n),Tg.subVectors(e,n);const a=Ds.dot(Ds),o=Ds.dot(Dr),l=Ds.dot(Tg),c=Dr.dot(Dr),u=Dr.dot(Tg),d=a*c-o*o;if(d===0)return r.set(0,0,0),null;const h=1/d,f=(c*l-o*u)*h,m=(a*u-o*l)*h;return r.set(1-f-m,m,f)}static containsPoint(e,n,i,s){return this.getBarycoord(e,n,i,s,Or)===null?!1:Or.x>=0&&Or.y>=0&&Or.x+Or.y<=1}static getInterpolation(e,n,i,s,r,a,o,l){return this.getBarycoord(e,n,i,s,Or)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,Or.x),l.addScaledVector(a,Or.y),l.addScaledVector(o,Or.z),l)}static getInterpolatedAttribute(e,n,i,s,r,a){return Ig.setScalar(0),Rg.setScalar(0),Lg.setScalar(0),Ig.fromBufferAttribute(e,n),Rg.fromBufferAttribute(e,i),Lg.fromBufferAttribute(e,s),a.setScalar(0),a.addScaledVector(Ig,r.x),a.addScaledVector(Rg,r.y),a.addScaledVector(Lg,r.z),a}static isFrontFacing(e,n,i,s){return Ds.subVectors(i,n),Dr.subVectors(e,n),Ds.cross(Dr).dot(s)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,s){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,i,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ds.subVectors(this.c,this.b),Dr.subVectors(this.a,this.b),Ds.cross(Dr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Di.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Di.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,s,r){return Di.getInterpolation(e,this.a,this.b,this.c,n,i,s,r)}containsPoint(e){return Di.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Di.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,s=this.b,r=this.c;let a,o;Xl.subVectors(s,i),Yl.subVectors(r,i),Eg.subVectors(e,i);const l=Xl.dot(Eg),c=Yl.dot(Eg);if(l<=0&&c<=0)return n.copy(i);Ag.subVectors(e,s);const u=Xl.dot(Ag),d=Yl.dot(Ag);if(u>=0&&d<=u)return n.copy(s);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(i).addScaledVector(Xl,a);Pg.subVectors(e,r);const f=Xl.dot(Pg),m=Yl.dot(Pg);if(m>=0&&f<=m)return n.copy(r);const v=f*c-l*m;if(v<=0&&c>=0&&m<=0)return o=c/(c-m),n.copy(i).addScaledVector(Yl,o);const p=u*m-f*d;if(p<=0&&d-u>=0&&f-m>=0)return $S.subVectors(r,s),o=(d-u)/(d-u+(f-m)),n.copy(s).addScaledVector($S,o);const g=1/(p+v+h);return a=v*g,o=h*g,n.copy(i).addScaledVector(Xl,a).addScaledVector(Yl,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const UA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wa={h:0,s:0,l:0},Yh={h:0,s:0,l:0};function kg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Be{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Pi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,kt.toWorkingColorSpace(this,n),this}setRGB(e,n,i,s=kt.workingColorSpace){return this.r=e,this.g=n,this.b=i,kt.toWorkingColorSpace(this,s),this}setHSL(e,n,i,s=kt.workingColorSpace){if(e=p_(e,1),n=Pn(n,0,1),i=Pn(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,a=2*i-r;this.r=kg(a,r,e+1/3),this.g=kg(a,r,e),this.b=kg(a,r,e-1/3)}return kt.toWorkingColorSpace(this,s),this}setStyle(e,n=Pi){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=s[1],o=s[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],a=r.length;if(a===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Pi){const i=UA[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=qr(e.r),this.g=qr(e.g),this.b=qr(e.b),this}copyLinearToSRGB(e){return this.r=Tc(e.r),this.g=Tc(e.g),this.b=Tc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Pi){return kt.fromWorkingColorSpace(hi.copy(this),e),Math.round(Pn(hi.r*255,0,255))*65536+Math.round(Pn(hi.g*255,0,255))*256+Math.round(Pn(hi.b*255,0,255))}getHexString(e=Pi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=kt.workingColorSpace){kt.fromWorkingColorSpace(hi.copy(this),n);const i=hi.r,s=hi.g,r=hi.b,a=Math.max(i,s,r),o=Math.min(i,s,r);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const d=a-o;switch(c=u<=.5?d/(a+o):d/(2-a-o),a){case i:l=(s-r)/d+(s<r?6:0);break;case s:l=(r-i)/d+2;break;case r:l=(i-s)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=kt.workingColorSpace){return kt.fromWorkingColorSpace(hi.copy(this),n),e.r=hi.r,e.g=hi.g,e.b=hi.b,e}getStyle(e=Pi){kt.fromWorkingColorSpace(hi.copy(this),e);const n=hi.r,i=hi.g,s=hi.b;return e!==Pi?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,n,i){return this.getHSL(wa),this.setHSL(wa.h+e,wa.s+n,wa.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(wa),e.getHSL(Yh);const i=Qu(wa.h,Yh.h,n),s=Qu(wa.s,Yh.s,n),r=Qu(wa.l,Yh.l,n);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*n+r[3]*i+r[6]*s,this.g=r[1]*n+r[4]*i+r[7]*s,this.b=r[2]*n+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const hi=new Be;Be.NAMES=UA;let KN=0;class $n extends $s{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:KN++}),this.uuid=ls(),this.name="",this.blending=Go,this.side=fr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=xm,this.blendDst=wm,this.blendEquation=Na,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Be(0,0,0),this.blendAlpha=0,this.depthFunc=il,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=c0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Io,this.stencilZFail=Io,this.stencilZPass=Io,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Go&&(i.blending=this.blending),this.side!==fr&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==xm&&(i.blendSrc=this.blendSrc),this.blendDst!==wm&&(i.blendDst=this.blendDst),this.blendEquation!==Na&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==il&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==c0&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Io&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Io&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Io&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const a=[];for(const o in r){const l=r[o];delete l.metadata,a.push(l)}return a}if(n){const r=s(e.textures),a=s(e.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const s=n.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=n[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Oi extends $n{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bi,this.combine=Kd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Gr=ZN();function ZN(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),s=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,s[l]=24,s[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,s[l]=-c-1,s[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,s[l]=13,s[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,s[l]=24,s[l|256]=24):(i[l]=31744,i[l|256]=64512,s[l]=13,s[l|256]=13)}const r=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,r[l]=c|u}for(let l=1024;l<2048;++l)r[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:a,offsetTable:o}}function ji(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Pn(t,-65504,65504),Gr.floatView[0]=t;const e=Gr.uint32View[0],n=e>>23&511;return Gr.baseTable[n]+((e&8388607)>>Gr.shiftTable[n])}function Vu(t){const e=t>>10;return Gr.uint32View[0]=Gr.mantissaTable[Gr.offsetTable[e]+(t&1023)]+Gr.exponentTable[e],Gr.floatView[0]}const JN={toHalfFloat:ji,fromHalfFloat:Vu},Bn=new G,qh=new Te;class At{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=gd,this.updateRanges=[],this.gpuType=Ki,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=n.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)qh.fromBufferAttribute(this,n),qh.applyMatrix3(e),this.setXY(n,qh.x,qh.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Bn.fromBufferAttribute(this,n),Bn.applyMatrix3(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Bn.fromBufferAttribute(this,n),Bn.applyMatrix4(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Bn.fromBufferAttribute(this,n),Bn.applyNormalMatrix(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Bn.fromBufferAttribute(this,n),Bn.transformDirection(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=ki(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=wt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ki(n,this.array)),n}setX(e,n){return this.normalized&&(n=wt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ki(n,this.array)),n}setY(e,n){return this.normalized&&(n=wt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ki(n,this.array)),n}setZ(e,n){return this.normalized&&(n=wt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ki(n,this.array)),n}setW(e,n){return this.normalized&&(n=wt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array),s=wt(s,this.array),r=wt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==gd&&(e.usage=this.usage),e}}class QN extends At{constructor(e,n,i){super(new Int8Array(e),n,i)}}class eV extends At{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class tV extends At{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class nV extends At{constructor(e,n,i){super(new Int16Array(e),n,i)}}class g_ extends At{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class iV extends At{constructor(e,n,i){super(new Int32Array(e),n,i)}}class y_ extends At{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class sV extends At{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Vu(this.array[e*this.itemSize]);return this.normalized&&(n=ki(n,this.array)),n}setX(e,n){return this.normalized&&(n=wt(n,this.array)),this.array[e*this.itemSize]=ji(n),this}getY(e){let n=Vu(this.array[e*this.itemSize+1]);return this.normalized&&(n=ki(n,this.array)),n}setY(e,n){return this.normalized&&(n=wt(n,this.array)),this.array[e*this.itemSize+1]=ji(n),this}getZ(e){let n=Vu(this.array[e*this.itemSize+2]);return this.normalized&&(n=ki(n,this.array)),n}setZ(e,n){return this.normalized&&(n=wt(n,this.array)),this.array[e*this.itemSize+2]=ji(n),this}getW(e){let n=Vu(this.array[e*this.itemSize+3]);return this.normalized&&(n=ki(n,this.array)),n}setW(e,n){return this.normalized&&(n=wt(n,this.array)),this.array[e*this.itemSize+3]=ji(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array)),this.array[e+0]=ji(n),this.array[e+1]=ji(i),this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.array[e+0]=ji(n),this.array[e+1]=ji(i),this.array[e+2]=ji(s),this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array),s=wt(s,this.array),r=wt(r,this.array)),this.array[e+0]=ji(n),this.array[e+1]=ji(i),this.array[e+2]=ji(s),this.array[e+3]=ji(r),this}}class et extends At{constructor(e,n,i){super(new Float32Array(e),n,i)}}let rV=0;const gs=new lt,Dg=new Nt,ql=new G,is=new ei,yu=new ei,Kn=new G;class bt extends $s{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:rV++}),this.uuid=ls(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(NA(e)?y_:g_)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new _t().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gs.makeRotationFromQuaternion(e),this.applyMatrix4(gs),this}rotateX(e){return gs.makeRotationX(e),this.applyMatrix4(gs),this}rotateY(e){return gs.makeRotationY(e),this.applyMatrix4(gs),this}rotateZ(e){return gs.makeRotationZ(e),this.applyMatrix4(gs),this}translate(e,n,i){return gs.makeTranslation(e,n,i),this.applyMatrix4(gs),this}scale(e,n,i){return gs.makeScale(e,n,i),this.applyMatrix4(gs),this}lookAt(e){return Dg.lookAt(e),Dg.updateMatrix(),this.applyMatrix4(Dg.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ql).negate(),this.translate(ql.x,ql.y,ql.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let s=0,r=e.length;s<r;s++){const a=e[s];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new et(i,3))}else{for(let i=0,s=n.count;i<s;i++){const r=e[i];n.setXYZ(i,r.x,r.y,r.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ei);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,s=n.length;i<s;i++){const r=n[i];is.setFromBufferAttribute(r),this.morphTargetsRelative?(Kn.addVectors(this.boundingBox.min,is.min),this.boundingBox.expandByPoint(Kn),Kn.addVectors(this.boundingBox.max,is.max),this.boundingBox.expandByPoint(Kn)):(this.boundingBox.expandByPoint(is.min),this.boundingBox.expandByPoint(is.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ti);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new G,1/0);return}if(e){const i=this.boundingSphere.center;if(is.setFromBufferAttribute(e),n)for(let r=0,a=n.length;r<a;r++){const o=n[r];yu.setFromBufferAttribute(o),this.morphTargetsRelative?(Kn.addVectors(is.min,yu.min),is.expandByPoint(Kn),Kn.addVectors(is.max,yu.max),is.expandByPoint(Kn)):(is.expandByPoint(yu.min),is.expandByPoint(yu.max))}is.getCenter(i);let s=0;for(let r=0,a=e.count;r<a;r++)Kn.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(Kn));if(n)for(let r=0,a=n.length;r<a;r++){const o=n[r],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Kn.fromBufferAttribute(o,c),l&&(ql.fromBufferAttribute(e,c),Kn.add(ql)),s=Math.max(s,i.distanceToSquared(Kn))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,s=n.normal,r=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new At(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let S=0;S<i.count;S++)o[S]=new G,l[S]=new G;const c=new G,u=new G,d=new G,h=new Te,f=new Te,m=new Te,v=new G,p=new G;function g(S,_,b){c.fromBufferAttribute(i,S),u.fromBufferAttribute(i,_),d.fromBufferAttribute(i,b),h.fromBufferAttribute(r,S),f.fromBufferAttribute(r,_),m.fromBufferAttribute(r,b),u.sub(c),d.sub(c),f.sub(h),m.sub(h);const T=1/(f.x*m.y-m.x*f.y);isFinite(T)&&(v.copy(u).multiplyScalar(m.y).addScaledVector(d,-f.y).multiplyScalar(T),p.copy(d).multiplyScalar(f.x).addScaledVector(u,-m.x).multiplyScalar(T),o[S].add(v),o[_].add(v),o[b].add(v),l[S].add(p),l[_].add(p),l[b].add(p))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let S=0,_=y.length;S<_;++S){const b=y[S],T=b.start,P=b.count;for(let D=T,O=T+P;D<O;D+=3)g(e.getX(D+0),e.getX(D+1),e.getX(D+2))}const x=new G,w=new G,E=new G,C=new G;function A(S){E.fromBufferAttribute(s,S),C.copy(E);const _=o[S];x.copy(_),x.sub(E.multiplyScalar(E.dot(_))).normalize(),w.crossVectors(C,_);const T=w.dot(l[S])<0?-1:1;a.setXYZW(S,x.x,x.y,x.z,T)}for(let S=0,_=y.length;S<_;++S){const b=y[S],T=b.start,P=b.count;for(let D=T,O=T+P;D<O;D+=3)A(e.getX(D+0)),A(e.getX(D+1)),A(e.getX(D+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new At(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const s=new G,r=new G,a=new G,o=new G,l=new G,c=new G,u=new G,d=new G;if(e)for(let h=0,f=e.count;h<f;h+=3){const m=e.getX(h+0),v=e.getX(h+1),p=e.getX(h+2);s.fromBufferAttribute(n,m),r.fromBufferAttribute(n,v),a.fromBufferAttribute(n,p),u.subVectors(a,r),d.subVectors(s,r),u.cross(d),o.fromBufferAttribute(i,m),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,p),o.add(u),l.add(u),c.add(u),i.setXYZ(m,o.x,o.y,o.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(p,c.x,c.y,c.z)}else for(let h=0,f=n.count;h<f;h+=3)s.fromBufferAttribute(n,h+0),r.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),u.subVectors(a,r),d.subVectors(s,r),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Kn.fromBufferAttribute(e,n),Kn.normalize(),e.setXYZ(n,Kn.x,Kn.y,Kn.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,h=new c.constructor(l.length*u);let f=0,m=0;for(let v=0,p=l.length;v<p;v++){o.isInterleavedBufferAttribute?f=l[v]*o.data.stride+o.offset:f=l[v]*u;for(let g=0;g<u;g++)h[m++]=c[f++]}return new At(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new bt,i=this.index.array,s=this.attributes;for(const o in s){const l=s[o],c=e(l,i);n.setAttribute(o,c)}const r=this.morphAttributes;for(const o in r){const l=[],c=r[o];for(let u=0,d=c.length;u<d;u++){const h=c[u],f=e(h,i);l.push(f)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const f=c[d];u.push(f.toJSON(e.data))}u.length>0&&(s[l]=u,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const s=e.attributes;for(const c in s){const u=s[c];this.setAttribute(c,u.clone(n))}const r=e.morphAttributes;for(const c in r){const u=[],d=r[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jS=new lt,uo=new Ml,Kh=new ti,XS=new G,Zh=new G,Jh=new G,Qh=new G,Og=new G,ef=new G,YS=new G,tf=new G;class nn extends Nt{constructor(e=new bt,n=new Oi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}getVertexPosition(e,n){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,a=i.morphTargetsRelative;n.fromBufferAttribute(s,e);const o=this.morphTargetInfluences;if(r&&o){ef.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const u=o[l],d=r[l];u!==0&&(Og.fromBufferAttribute(d,e),a?ef.addScaledVector(Og,u):ef.addScaledVector(Og.sub(n),u))}n.add(ef)}return n}raycast(e,n){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Kh.copy(i.boundingSphere),Kh.applyMatrix4(r),uo.copy(e.ray).recast(e.near),!(Kh.containsPoint(uo.origin)===!1&&(uo.intersectSphere(Kh,XS)===null||uo.origin.distanceToSquared(XS)>(e.far-e.near)**2))&&(jS.copy(r).invert(),uo.copy(e.ray).applyMatrix4(jS),!(i.boundingBox!==null&&uo.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,uo)))}_computeIntersections(e,n,i){let s;const r=this.geometry,a=this.material,o=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv1,d=r.attributes.normal,h=r.groups,f=r.drawRange;if(o!==null)if(Array.isArray(a))for(let m=0,v=h.length;m<v;m++){const p=h[m],g=a[p.materialIndex],y=Math.max(p.start,f.start),x=Math.min(o.count,Math.min(p.start+p.count,f.start+f.count));for(let w=y,E=x;w<E;w+=3){const C=o.getX(w),A=o.getX(w+1),S=o.getX(w+2);s=nf(this,g,e,i,c,u,d,C,A,S),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=p.materialIndex,n.push(s))}}else{const m=Math.max(0,f.start),v=Math.min(o.count,f.start+f.count);for(let p=m,g=v;p<g;p+=3){const y=o.getX(p),x=o.getX(p+1),w=o.getX(p+2);s=nf(this,a,e,i,c,u,d,y,x,w),s&&(s.faceIndex=Math.floor(p/3),n.push(s))}}else if(l!==void 0)if(Array.isArray(a))for(let m=0,v=h.length;m<v;m++){const p=h[m],g=a[p.materialIndex],y=Math.max(p.start,f.start),x=Math.min(l.count,Math.min(p.start+p.count,f.start+f.count));for(let w=y,E=x;w<E;w+=3){const C=w,A=w+1,S=w+2;s=nf(this,g,e,i,c,u,d,C,A,S),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=p.materialIndex,n.push(s))}}else{const m=Math.max(0,f.start),v=Math.min(l.count,f.start+f.count);for(let p=m,g=v;p<g;p+=3){const y=p,x=p+1,w=p+2;s=nf(this,a,e,i,c,u,d,y,x,w),s&&(s.faceIndex=Math.floor(p/3),n.push(s))}}}}function aV(t,e,n,i,s,r,a,o){let l;if(e.side===yi?l=i.intersectTriangle(a,r,s,!0,o):l=i.intersectTriangle(s,r,a,e.side===fr,o),l===null)return null;tf.copy(o),tf.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(tf);return c<n.near||c>n.far?null:{distance:c,point:tf.clone(),object:t}}function nf(t,e,n,i,s,r,a,o,l,c){t.getVertexPosition(o,Zh),t.getVertexPosition(l,Jh),t.getVertexPosition(c,Qh);const u=aV(t,e,n,i,Zh,Jh,Qh,YS);if(u){const d=new G;Di.getBarycoord(YS,Zh,Jh,Qh,d),s&&(u.uv=Di.getInterpolatedAttribute(s,o,l,c,d,new Te)),r&&(u.uv1=Di.getInterpolatedAttribute(r,o,l,c,d,new Te)),a&&(u.normal=Di.getInterpolatedAttribute(a,o,l,c,d,new G),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const h={a:o,b:l,c,normal:new G,materialIndex:0};Di.getNormal(Zh,Jh,Qh,h.normal),u.face=h,u.barycoord=d}return u}class Za extends bt{constructor(e=1,n=1,i=1,s=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:r,depthSegments:a};const o=this;s=Math.floor(s),r=Math.floor(r),a=Math.floor(a);const l=[],c=[],u=[],d=[];let h=0,f=0;m("z","y","x",-1,-1,i,n,e,a,r,0),m("z","y","x",1,-1,i,n,-e,a,r,1),m("x","z","y",1,1,e,i,n,s,a,2),m("x","z","y",1,-1,e,i,-n,s,a,3),m("x","y","z",1,-1,e,n,i,s,r,4),m("x","y","z",-1,-1,e,n,-i,s,r,5),this.setIndex(l),this.setAttribute("position",new et(c,3)),this.setAttribute("normal",new et(u,3)),this.setAttribute("uv",new et(d,2));function m(v,p,g,y,x,w,E,C,A,S,_){const b=w/A,T=E/S,P=w/2,D=E/2,O=C/2,H=A+1,F=S+1;let K=0,j=0;const X=new G;for(let Y=0;Y<F;Y++){const J=Y*T-D;for(let de=0;de<H;de++){const Le=de*b-P;X[v]=Le*y,X[p]=J*x,X[g]=O,c.push(X.x,X.y,X.z),X[v]=0,X[p]=0,X[g]=C>0?1:-1,u.push(X.x,X.y,X.z),d.push(de/A),d.push(1-Y/S),K+=1}}for(let Y=0;Y<S;Y++)for(let J=0;J<A;J++){const de=h+J+H*Y,Le=h+J+H*(Y+1),ie=h+(J+1)+H*(Y+1),ye=h+(J+1)+H*Y;l.push(de,Le,ye),l.push(Le,ie,ye),j+=6}o.addGroup(f,j,_),f+=j,h+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Za(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nc(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const s=t[n][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=s.clone():Array.isArray(s)?e[n][i]=s.slice():e[n][i]=s}}return e}function Ci(t){const e={};for(let n=0;n<t.length;n++){const i=Nc(t[n]);for(const s in i)e[s]=i[s]}return e}function oV(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function zA(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:kt.workingColorSpace}const eh={clone:Nc,merge:Ci};var lV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,cV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ui extends $n{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=lV,this.fragmentShader=cV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nc(e.uniforms),this.uniformsGroups=oV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;a&&a.isTexture?n.uniforms[s]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[s]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[s]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[s]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[s]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[s]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[s]={type:"m4",value:a.toArray()}:n.uniforms[s]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class th extends Nt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt,this.coordinateSystem=ar}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Sa=new G,qS=new Te,KS=new Te;class Qt extends th{constructor(e=50,n=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Oc*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(jo*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Oc*2*Math.atan(Math.tan(jo*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Sa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Sa.x,Sa.y).multiplyScalar(-e/Sa.z),Sa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Sa.x,Sa.y).multiplyScalar(-e/Sa.z)}getViewSize(e,n){return this.getViewBounds(e,qS,KS),n.subVectors(KS,qS)}setViewOffset(e,n,i,s,r,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(jo*.5*this.fov)/this.zoom,i=2*n,s=this.aspect*i,r=-.5*s;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;r+=a.offsetX*s/l,n-=a.offsetY*i/c,s*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(r+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Kl=-90,Zl=1;class HA extends Nt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Qt(Kl,Zl,e,n);s.layers=this.layers,this.add(s);const r=new Qt(Kl,Zl,e,n);r.layers=this.layers,this.add(r);const a=new Qt(Kl,Zl,e,n);a.layers=this.layers,this.add(a);const o=new Qt(Kl,Zl,e,n);o.layers=this.layers,this.add(o);const l=new Qt(Kl,Zl,e,n);l.layers=this.layers,this.add(l);const c=new Qt(Kl,Zl,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,s,r,a,o,l]=n;for(const c of n)this.remove(c);if(e===ar)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===yd)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,a,o,l,c,u]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const v=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(n,r),e.setRenderTarget(i,1,s),e.render(n,a),e.setRenderTarget(i,2,s),e.render(n,o),e.setRenderTarget(i,3,s),e.render(n,l),e.setRenderTarget(i,4,s),e.render(n,c),i.texture.generateMipmaps=v,e.setRenderTarget(i,5,s),e.render(n,u),e.setRenderTarget(d,h,f),e.xr.enabled=m,i.texture.needsPMREMUpdate=!0}}class nh extends un{constructor(e,n,i,s,r,a,o,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:ea,super(e,n,i,s,r,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class GA extends Ts{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new nh(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:In}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Za(5,5,5),r=new Ui({name:"CubemapFromEquirect",uniforms:Nc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:yi,blending:Xr});r.uniforms.tEquirect.value=n;const a=new nn(s,r),o=n.minFilter;return n.minFilter===as&&(n.minFilter=In),new HA(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,i,s){const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,s);e.setRenderTarget(r)}}const Ng=new G,uV=new G,dV=new _t;class ir{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,s){return this.normal.set(e,n,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const s=Ng.subVectors(i,n).cross(uV.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Ng),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:n.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||dV.getNormalMatrix(e),s=this.coplanarPoint(Ng).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ho=new ti,sf=new G;class ih{constructor(e=new ir,n=new ir,i=new ir,s=new ir,r=new ir,a=new ir){this.planes=[e,n,i,s,r,a]}set(e,n,i,s,r,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(s),o[4].copy(r),o[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=ar){const i=this.planes,s=e.elements,r=s[0],a=s[1],o=s[2],l=s[3],c=s[4],u=s[5],d=s[6],h=s[7],f=s[8],m=s[9],v=s[10],p=s[11],g=s[12],y=s[13],x=s[14],w=s[15];if(i[0].setComponents(l-r,h-c,p-f,w-g).normalize(),i[1].setComponents(l+r,h+c,p+f,w+g).normalize(),i[2].setComponents(l+a,h+u,p+m,w+y).normalize(),i[3].setComponents(l-a,h-u,p-m,w-y).normalize(),i[4].setComponents(l-o,h-d,p-v,w-x).normalize(),n===ar)i[5].setComponents(l+o,h+d,p+v,w+x).normalize();else if(n===yd)i[5].setComponents(o,d,v,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ho.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ho.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ho)}intersectsSprite(e){return ho.center.set(0,0,0),ho.radius=.7071067811865476,ho.applyMatrix4(e.matrixWorld),this.intersectsSphere(ho)}intersectsSphere(e){const n=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const s=n[i];if(sf.x=s.normal.x>0?e.max.x:e.min.x,sf.y=s.normal.y>0?e.max.y:e.min.y,sf.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(sf)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WA(){let t=null,e=!1,n=null,i=null;function s(r,a){n(r,a),i=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function hV(t){const e=new WeakMap;function n(o,l){const c=o.array,u=o.usage,d=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),o.onUploadCallback();let f;if(c instanceof Float32Array)f=t.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?f=t.HALF_FLOAT:f=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=t.SHORT;else if(c instanceof Uint32Array)f=t.UNSIGNED_INT;else if(c instanceof Int32Array)f=t.INT;else if(c instanceof Int8Array)f=t.BYTE;else if(c instanceof Uint8Array)f=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)f=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function i(o,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,o),d.length===0)t.bufferSubData(c,0,u);else{d.sort((f,m)=>f.start-m.start);let h=0;for(let f=1;f<d.length;f++){const m=d[h],v=d[f];v.start<=m.start+m.count+1?m.count=Math.max(m.count,v.start+v.count-m.start):(++h,d[h]=v)}d.length=h+1;for(let f=0,m=d.length;f<m;f++){const v=d[f];t.bufferSubData(c,v.start*u.BYTES_PER_ELEMENT,u,v.start,v.count)}l.clearUpdateRanges()}l.onUploadCallback()}function s(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function r(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:s,remove:r,update:a}}class Ja extends bt{constructor(e=1,n=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s};const r=e/2,a=n/2,o=Math.floor(i),l=Math.floor(s),c=o+1,u=l+1,d=e/o,h=n/l,f=[],m=[],v=[],p=[];for(let g=0;g<u;g++){const y=g*h-a;for(let x=0;x<c;x++){const w=x*d-r;m.push(w,-y,0),v.push(0,0,1),p.push(x/o),p.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<o;y++){const x=y+c*g,w=y+c*(g+1),E=y+1+c*(g+1),C=y+1+c*g;f.push(x,w,C),f.push(w,E,C)}this.setIndex(f),this.setAttribute("position",new et(m,3)),this.setAttribute("normal",new et(v,3)),this.setAttribute("uv",new et(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ja(e.width,e.height,e.widthSegments,e.heightSegments)}}var fV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,mV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,pV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,vV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gV=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,yV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,bV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,_V=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,xV=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,wV=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,SV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,MV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,CV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,TV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,EV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,AV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,PV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,IV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,RV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,LV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,kV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,DV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,OV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,NV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,VV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,FV=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,BV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,UV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,zV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,HV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,GV="gl_FragColor = linearToOutputTexel( gl_FragColor );",WV=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,$V=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,XV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,YV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,qV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,KV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ZV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,JV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,QV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,eF=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,tF=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,nF=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,iF=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,sF=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,rF=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,aF=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,oF=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lF=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cF=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,uF=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,dF=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,hF=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,fF=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mF=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,pF=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vF=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gF=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yF=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,bF=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,_F=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,xF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,wF=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,SF=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,MF=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,CF=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,TF=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,EF=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,AF=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,PF=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,IF=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,RF=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,LF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,DF=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,OF=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,NF=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,VF=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,FF=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,BF=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,UF=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,zF=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,HF=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,GF=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,WF=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,$F=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,jF=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,XF=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,YF=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,qF=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,KF=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ZF=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,JF=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,QF=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,eB=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,tB=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,nB=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,iB=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,sB=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,rB=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,aB=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,oB=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,lB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,dB=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const hB=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fB=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,pB=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gB=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yB=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,bB=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,_B=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,xB=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,wB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,SB=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,MB=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CB=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TB=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,EB=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AB=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PB=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IB=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,RB=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LB=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kB=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,DB=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OB=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NB=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,VB=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FB=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BB=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UB=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,zB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HB=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GB=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,WB=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$B=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ct={alphahash_fragment:fV,alphahash_pars_fragment:mV,alphamap_fragment:pV,alphamap_pars_fragment:vV,alphatest_fragment:gV,alphatest_pars_fragment:yV,aomap_fragment:bV,aomap_pars_fragment:_V,batching_pars_vertex:xV,batching_vertex:wV,begin_vertex:SV,beginnormal_vertex:MV,bsdfs:CV,iridescence_fragment:TV,bumpmap_pars_fragment:EV,clipping_planes_fragment:AV,clipping_planes_pars_fragment:PV,clipping_planes_pars_vertex:IV,clipping_planes_vertex:RV,color_fragment:LV,color_pars_fragment:kV,color_pars_vertex:DV,color_vertex:OV,common:NV,cube_uv_reflection_fragment:VV,defaultnormal_vertex:FV,displacementmap_pars_vertex:BV,displacementmap_vertex:UV,emissivemap_fragment:zV,emissivemap_pars_fragment:HV,colorspace_fragment:GV,colorspace_pars_fragment:WV,envmap_fragment:$V,envmap_common_pars_fragment:jV,envmap_pars_fragment:XV,envmap_pars_vertex:YV,envmap_physical_pars_fragment:rF,envmap_vertex:qV,fog_vertex:KV,fog_pars_vertex:ZV,fog_fragment:JV,fog_pars_fragment:QV,gradientmap_pars_fragment:eF,lightmap_pars_fragment:tF,lights_lambert_fragment:nF,lights_lambert_pars_fragment:iF,lights_pars_begin:sF,lights_toon_fragment:aF,lights_toon_pars_fragment:oF,lights_phong_fragment:lF,lights_phong_pars_fragment:cF,lights_physical_fragment:uF,lights_physical_pars_fragment:dF,lights_fragment_begin:hF,lights_fragment_maps:fF,lights_fragment_end:mF,logdepthbuf_fragment:pF,logdepthbuf_pars_fragment:vF,logdepthbuf_pars_vertex:gF,logdepthbuf_vertex:yF,map_fragment:bF,map_pars_fragment:_F,map_particle_fragment:xF,map_particle_pars_fragment:wF,metalnessmap_fragment:SF,metalnessmap_pars_fragment:MF,morphinstance_vertex:CF,morphcolor_vertex:TF,morphnormal_vertex:EF,morphtarget_pars_vertex:AF,morphtarget_vertex:PF,normal_fragment_begin:IF,normal_fragment_maps:RF,normal_pars_fragment:LF,normal_pars_vertex:kF,normal_vertex:DF,normalmap_pars_fragment:OF,clearcoat_normal_fragment_begin:NF,clearcoat_normal_fragment_maps:VF,clearcoat_pars_fragment:FF,iridescence_pars_fragment:BF,opaque_fragment:UF,packing:zF,premultiplied_alpha_fragment:HF,project_vertex:GF,dithering_fragment:WF,dithering_pars_fragment:$F,roughnessmap_fragment:jF,roughnessmap_pars_fragment:XF,shadowmap_pars_fragment:YF,shadowmap_pars_vertex:qF,shadowmap_vertex:KF,shadowmask_pars_fragment:ZF,skinbase_vertex:JF,skinning_pars_vertex:QF,skinning_vertex:eB,skinnormal_vertex:tB,specularmap_fragment:nB,specularmap_pars_fragment:iB,tonemapping_fragment:sB,tonemapping_pars_fragment:rB,transmission_fragment:aB,transmission_pars_fragment:oB,uv_pars_fragment:lB,uv_pars_vertex:cB,uv_vertex:uB,worldpos_vertex:dB,background_vert:hB,background_frag:fB,backgroundCube_vert:mB,backgroundCube_frag:pB,cube_vert:vB,cube_frag:gB,depth_vert:yB,depth_frag:bB,distanceRGBA_vert:_B,distanceRGBA_frag:xB,equirect_vert:wB,equirect_frag:SB,linedashed_vert:MB,linedashed_frag:CB,meshbasic_vert:TB,meshbasic_frag:EB,meshlambert_vert:AB,meshlambert_frag:PB,meshmatcap_vert:IB,meshmatcap_frag:RB,meshnormal_vert:LB,meshnormal_frag:kB,meshphong_vert:DB,meshphong_frag:OB,meshphysical_vert:NB,meshphysical_frag:VB,meshtoon_vert:FB,meshtoon_frag:BB,points_vert:UB,points_frag:zB,shadow_vert:HB,shadow_frag:GB,sprite_vert:WB,sprite_frag:$B},Ge={common:{diffuse:{value:new Be(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _t},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _t}},envmap:{envMap:{value:null},envMapRotation:{value:new _t},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _t}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _t}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _t},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _t},normalScale:{value:new Te(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _t},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _t}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _t}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _t}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0},uvTransform:{value:new _t}},sprite:{diffuse:{value:new Be(16777215)},opacity:{value:1},center:{value:new Te(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _t},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0}}},xs={basic:{uniforms:Ci([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:Ct.meshbasic_vert,fragmentShader:Ct.meshbasic_frag},lambert:{uniforms:Ci([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new Be(0)}}]),vertexShader:Ct.meshlambert_vert,fragmentShader:Ct.meshlambert_frag},phong:{uniforms:Ci([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new Be(0)},specular:{value:new Be(1118481)},shininess:{value:30}}]),vertexShader:Ct.meshphong_vert,fragmentShader:Ct.meshphong_frag},standard:{uniforms:Ci([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new Be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ct.meshphysical_vert,fragmentShader:Ct.meshphysical_frag},toon:{uniforms:Ci([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new Be(0)}}]),vertexShader:Ct.meshtoon_vert,fragmentShader:Ct.meshtoon_frag},matcap:{uniforms:Ci([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:Ct.meshmatcap_vert,fragmentShader:Ct.meshmatcap_frag},points:{uniforms:Ci([Ge.points,Ge.fog]),vertexShader:Ct.points_vert,fragmentShader:Ct.points_frag},dashed:{uniforms:Ci([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ct.linedashed_vert,fragmentShader:Ct.linedashed_frag},depth:{uniforms:Ci([Ge.common,Ge.displacementmap]),vertexShader:Ct.depth_vert,fragmentShader:Ct.depth_frag},normal:{uniforms:Ci([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:Ct.meshnormal_vert,fragmentShader:Ct.meshnormal_frag},sprite:{uniforms:Ci([Ge.sprite,Ge.fog]),vertexShader:Ct.sprite_vert,fragmentShader:Ct.sprite_frag},background:{uniforms:{uvTransform:{value:new _t},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ct.background_vert,fragmentShader:Ct.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _t}},vertexShader:Ct.backgroundCube_vert,fragmentShader:Ct.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ct.cube_vert,fragmentShader:Ct.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ct.equirect_vert,fragmentShader:Ct.equirect_frag},distanceRGBA:{uniforms:Ci([Ge.common,Ge.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ct.distanceRGBA_vert,fragmentShader:Ct.distanceRGBA_frag},shadow:{uniforms:Ci([Ge.lights,Ge.fog,{color:{value:new Be(0)},opacity:{value:1}}]),vertexShader:Ct.shadow_vert,fragmentShader:Ct.shadow_frag}};xs.physical={uniforms:Ci([xs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _t},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _t},clearcoatNormalScale:{value:new Te(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _t},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _t},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _t},sheen:{value:0},sheenColor:{value:new Be(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _t},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _t},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _t},transmissionSamplerSize:{value:new Te},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _t},attenuationDistance:{value:0},attenuationColor:{value:new Be(0)},specularColor:{value:new Be(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _t},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _t},anisotropyVector:{value:new Te},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _t}}]),vertexShader:Ct.meshphysical_vert,fragmentShader:Ct.meshphysical_frag};const rf={r:0,b:0,g:0},fo=new Bi,jB=new lt;function XB(t,e,n,i,s,r,a){const o=new Be(0);let l=r===!0?0:1,c,u,d=null,h=0,f=null;function m(y){let x=y.isScene===!0?y.background:null;return x&&x.isTexture&&(x=(y.backgroundBlurriness>0?n:e).get(x)),x}function v(y){let x=!1;const w=m(y);w===null?g(o,l):w&&w.isColor&&(g(w,1),x=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?i.buffers.color.setClear(0,0,0,1,a):E==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(t.autoClear||x)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function p(y,x){const w=m(x);w&&(w.isCubeTexture||w.mapping===Kc)?(u===void 0&&(u=new nn(new Za(1,1,1),new Ui({name:"BackgroundCubeMaterial",uniforms:Nc(xs.backgroundCube.uniforms),vertexShader:xs.backgroundCube.vertexShader,fragmentShader:xs.backgroundCube.fragmentShader,side:yi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,C,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(u)),fo.copy(x.backgroundRotation),fo.x*=-1,fo.y*=-1,fo.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(fo.y*=-1,fo.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(jB.makeRotationFromEuler(fo)),u.material.toneMapped=kt.getTransfer(w.colorSpace)!==Jt,(d!==w||h!==w.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,d=w,h=w.version,f=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new nn(new Ja(2,2),new Ui({name:"BackgroundMaterial",uniforms:Nc(xs.background.uniforms),vertexShader:xs.background.vertexShader,fragmentShader:xs.background.fragmentShader,side:fr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=kt.getTransfer(w.colorSpace)!==Jt,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||h!==w.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,d=w,h=w.version,f=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function g(y,x){y.getRGB(rf,zA(t)),i.buffers.color.setClear(rf.r,rf.g,rf.b,x,a)}return{getClearColor:function(){return o},setClearColor:function(y,x=1){o.set(y),l=x,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(o,l)},render:v,addToRenderList:p}}function YB(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},s=h(null);let r=s,a=!1;function o(b,T,P,D,O){let H=!1;const F=d(D,P,T);r!==F&&(r=F,c(r.object)),H=f(b,D,P,O),H&&m(b,D,P,O),O!==null&&e.update(O,t.ELEMENT_ARRAY_BUFFER),(H||a)&&(a=!1,w(b,T,P,D),O!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(O).buffer))}function l(){return t.createVertexArray()}function c(b){return t.bindVertexArray(b)}function u(b){return t.deleteVertexArray(b)}function d(b,T,P){const D=P.wireframe===!0;let O=i[b.id];O===void 0&&(O={},i[b.id]=O);let H=O[T.id];H===void 0&&(H={},O[T.id]=H);let F=H[D];return F===void 0&&(F=h(l()),H[D]=F),F}function h(b){const T=[],P=[],D=[];for(let O=0;O<n;O++)T[O]=0,P[O]=0,D[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:T,enabledAttributes:P,attributeDivisors:D,object:b,attributes:{},index:null}}function f(b,T,P,D){const O=r.attributes,H=T.attributes;let F=0;const K=P.getAttributes();for(const j in K)if(K[j].location>=0){const Y=O[j];let J=H[j];if(J===void 0&&(j==="instanceMatrix"&&b.instanceMatrix&&(J=b.instanceMatrix),j==="instanceColor"&&b.instanceColor&&(J=b.instanceColor)),Y===void 0||Y.attribute!==J||J&&Y.data!==J.data)return!0;F++}return r.attributesNum!==F||r.index!==D}function m(b,T,P,D){const O={},H=T.attributes;let F=0;const K=P.getAttributes();for(const j in K)if(K[j].location>=0){let Y=H[j];Y===void 0&&(j==="instanceMatrix"&&b.instanceMatrix&&(Y=b.instanceMatrix),j==="instanceColor"&&b.instanceColor&&(Y=b.instanceColor));const J={};J.attribute=Y,Y&&Y.data&&(J.data=Y.data),O[j]=J,F++}r.attributes=O,r.attributesNum=F,r.index=D}function v(){const b=r.newAttributes;for(let T=0,P=b.length;T<P;T++)b[T]=0}function p(b){g(b,0)}function g(b,T){const P=r.newAttributes,D=r.enabledAttributes,O=r.attributeDivisors;P[b]=1,D[b]===0&&(t.enableVertexAttribArray(b),D[b]=1),O[b]!==T&&(t.vertexAttribDivisor(b,T),O[b]=T)}function y(){const b=r.newAttributes,T=r.enabledAttributes;for(let P=0,D=T.length;P<D;P++)T[P]!==b[P]&&(t.disableVertexAttribArray(P),T[P]=0)}function x(b,T,P,D,O,H,F){F===!0?t.vertexAttribIPointer(b,T,P,O,H):t.vertexAttribPointer(b,T,P,D,O,H)}function w(b,T,P,D){v();const O=D.attributes,H=P.getAttributes(),F=T.defaultAttributeValues;for(const K in H){const j=H[K];if(j.location>=0){let X=O[K];if(X===void 0&&(K==="instanceMatrix"&&b.instanceMatrix&&(X=b.instanceMatrix),K==="instanceColor"&&b.instanceColor&&(X=b.instanceColor)),X!==void 0){const Y=X.normalized,J=X.itemSize,de=e.get(X);if(de===void 0)continue;const Le=de.buffer,ie=de.type,ye=de.bytesPerElement,se=ie===t.INT||ie===t.UNSIGNED_INT||X.gpuType===Np;if(X.isInterleavedBufferAttribute){const me=X.data,ae=me.stride,N=X.offset;if(me.isInstancedInterleavedBuffer){for(let B=0;B<j.locationSize;B++)g(j.location+B,me.meshPerAttribute);b.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let B=0;B<j.locationSize;B++)p(j.location+B);t.bindBuffer(t.ARRAY_BUFFER,Le);for(let B=0;B<j.locationSize;B++)x(j.location+B,J/j.locationSize,ie,Y,ae*ye,(N+J/j.locationSize*B)*ye,se)}else{if(X.isInstancedBufferAttribute){for(let me=0;me<j.locationSize;me++)g(j.location+me,X.meshPerAttribute);b.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let me=0;me<j.locationSize;me++)p(j.location+me);t.bindBuffer(t.ARRAY_BUFFER,Le);for(let me=0;me<j.locationSize;me++)x(j.location+me,J/j.locationSize,ie,Y,J*ye,J/j.locationSize*me*ye,se)}}else if(F!==void 0){const Y=F[K];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(j.location,Y);break;case 3:t.vertexAttrib3fv(j.location,Y);break;case 4:t.vertexAttrib4fv(j.location,Y);break;default:t.vertexAttrib1fv(j.location,Y)}}}}y()}function E(){S();for(const b in i){const T=i[b];for(const P in T){const D=T[P];for(const O in D)u(D[O].object),delete D[O];delete T[P]}delete i[b]}}function C(b){if(i[b.id]===void 0)return;const T=i[b.id];for(const P in T){const D=T[P];for(const O in D)u(D[O].object),delete D[O];delete T[P]}delete i[b.id]}function A(b){for(const T in i){const P=i[T];if(P[b.id]===void 0)continue;const D=P[b.id];for(const O in D)u(D[O].object),delete D[O];delete P[b.id]}}function S(){_(),a=!0,r!==s&&(r=s,c(r.object))}function _(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:o,reset:S,resetDefaultState:_,dispose:E,releaseStatesOfGeometry:C,releaseStatesOfProgram:A,initAttributes:v,enableAttribute:p,disableUnusedAttributes:y}}function qB(t,e,n){let i;function s(c){i=c}function r(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function a(c,u,d){d!==0&&(t.drawArraysInstanced(i,c,u,d),n.update(u,i,d))}function o(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,d);let f=0;for(let m=0;m<d;m++)f+=u[m];n.update(f,i,1)}function l(c,u,d,h){if(d===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let m=0;m<c.length;m++)a(c[m],u[m],h[m]);else{f.multiDrawArraysInstancedWEBGL(i,c,0,u,0,h,0,d);let m=0;for(let v=0;v<d;v++)m+=u[v]*h[v];n.update(m,i,1)}}this.setMode=s,this.render=r,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function KB(t,e,n,i){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function a(A){return!(A!==pi&&i.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(A){const S=A===wl&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==Cs&&i.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==Ki&&!S)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,h=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),x=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),E=m>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:h,maxTextures:f,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:E,maxSamples:C}}function ZB(t){const e=this;let n=null,i=0,s=!1,r=!1;const a=new ir,o=new _t,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const f=d.length!==0||h||i!==0||s;return s=h,i=d.length,f},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(d,h){n=u(d,h,0)},this.setState=function(d,h,f){const m=d.clippingPlanes,v=d.clipIntersection,p=d.clipShadows,g=t.get(d);if(!s||m===null||m.length===0||r&&!p)r?u(null):c();else{const y=r?0:i,x=y*4;let w=g.clippingState||null;l.value=w,w=u(m,h,x,f);for(let E=0;E!==x;++E)w[E]=n[E];g.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,h,f,m){const v=d!==null?d.length:0;let p=null;if(v!==0){if(p=l.value,m!==!0||p===null){const g=f+v*4,y=h.matrixWorldInverse;o.getNormalMatrix(y),(p===null||p.length<g)&&(p=new Float32Array(g));for(let x=0,w=f;x!==v;++x,w+=4)a.copy(d[x]).applyMatrix4(y,o),a.normal.toArray(p,w),p[w+3]=a.constant}l.value=p,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,p}}function JB(t){let e=new WeakMap;function n(a,o){return o===md?a.mapping=ea:o===pd&&(a.mapping=Wa),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===md||o===pd)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new GA(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",s),n(c.texture,a.mapping)}else return null}}return a}function s(a){const o=a.target;o.removeEventListener("dispose",s);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}class ws extends th{constructor(e=-1,n=1,i=1,s=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=s,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,s,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,a=i+e,o=s+n,l=s-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,a=r+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const vc=4,ZS=[.125,.215,.35,.446,.526,.582],Lo=20,Vg=new ws,JS=new Be;let Fg=null,Bg=0,Ug=0,zg=!1;const Ro=(1+Math.sqrt(5))/2,Jl=1/Ro,QS=[new G(-Ro,Jl,0),new G(Ro,Jl,0),new G(-Jl,0,Ro),new G(Jl,0,Ro),new G(0,Ro,-Jl),new G(0,Ro,Jl),new G(-1,1,-1),new G(1,1,-1),new G(-1,1,1),new G(1,1,1)];class d0{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,s=100){Fg=this._renderer.getRenderTarget(),Bg=this._renderer.getActiveCubeFace(),Ug=this._renderer.getActiveMipmapLevel(),zg=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,i,s,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=n1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=t1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Fg,Bg,Ug),this._renderer.xr.enabled=zg,e.scissorTest=!1,af(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ea||e.mapping===Wa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Fg=this._renderer.getRenderTarget(),Bg=this._renderer.getActiveCubeFace(),Ug=this._renderer.getActiveMipmapLevel(),zg=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:In,minFilter:In,generateMipmaps:!1,type:wl,format:pi,colorSpace:Sl,depthBuffer:!1},s=e1(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=e1(e,n,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=QB(r)),this._blurMaterial=eU(r,e,n)}return s}_compileMaterial(e){const n=new nn(this._lodPlanes[0],e);this._renderer.compile(n,Vg)}_sceneToCubeUV(e,n,i,s){const o=new Qt(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(JS),u.toneMapping=Yr,u.autoClear=!1;const f=new Oi({name:"PMREM.Background",side:yi,depthWrite:!1,depthTest:!1}),m=new nn(new Za,f);let v=!1;const p=e.background;p?p.isColor&&(f.color.copy(p),e.background=null,v=!0):(f.color.copy(JS),v=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(o.up.set(0,l[g],0),o.lookAt(c[g],0,0)):y===1?(o.up.set(0,0,l[g]),o.lookAt(0,c[g],0)):(o.up.set(0,l[g],0),o.lookAt(0,0,c[g]));const x=this._cubeSize;af(s,y*x,g>2?x:0,x,x),u.setRenderTarget(s),v&&u.render(m,o),u.render(e,o)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=p}_textureToCubeUV(e,n){const i=this._renderer,s=e.mapping===ea||e.mapping===Wa;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=n1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=t1());const r=s?this._cubemapMaterial:this._equirectMaterial,a=new nn(this._lodPlanes[0],r),o=r.uniforms;o.envMap.value=e;const l=this._cubeSize;af(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(a,Vg)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=QS[(s-r-1)%QS.length];this._blur(e,r-1,r,a,o)}n.autoClear=i}_blur(e,n,i,s,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,s,"latitudinal",r),this._halfBlur(a,e,i,i,s,"longitudinal",r)}_halfBlur(e,n,i,s,r,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new nn(this._lodPlanes[s],c),h=c.uniforms,f=this._sizeLods[i]-1,m=isFinite(r)?Math.PI/(2*f):2*Math.PI/(2*Lo-1),v=r/m,p=isFinite(r)?1+Math.floor(u*v):Lo;p>Lo&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${Lo}`);const g=[];let y=0;for(let A=0;A<Lo;++A){const S=A/v,_=Math.exp(-S*S/2);g.push(_),A===0?y+=_:A<p&&(y+=2*_)}for(let A=0;A<g.length;A++)g[A]=g[A]/y;h.envMap.value=e.texture,h.samples.value=p,h.weights.value=g,h.latitudinal.value=a==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:x}=this;h.dTheta.value=m,h.mipInt.value=x-i;const w=this._sizeLods[s],E=3*w*(s>x-vc?s-x+vc:0),C=4*(this._cubeSize-w);af(n,E,C,3*w,2*w),l.setRenderTarget(n),l.render(d,Vg)}}function QB(t){const e=[],n=[],i=[];let s=t;const r=t-vc+1+ZS.length;for(let a=0;a<r;a++){const o=Math.pow(2,s);n.push(o);let l=1/o;a>t-vc?l=ZS[a-t+vc-1]:a===0&&(l=0),i.push(l);const c=1/(o-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,m=6,v=3,p=2,g=1,y=new Float32Array(v*m*f),x=new Float32Array(p*m*f),w=new Float32Array(g*m*f);for(let C=0;C<f;C++){const A=C%3*2/3-1,S=C>2?0:-1,_=[A,S,0,A+2/3,S,0,A+2/3,S+1,0,A,S,0,A+2/3,S+1,0,A,S+1,0];y.set(_,v*m*C),x.set(h,p*m*C);const b=[C,C,C,C,C,C];w.set(b,g*m*C)}const E=new bt;E.setAttribute("position",new At(y,v)),E.setAttribute("uv",new At(x,p)),E.setAttribute("faceIndex",new At(w,g)),e.push(E),s>vc&&s--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function e1(t,e,n){const i=new Ts(t,e,n);return i.texture.mapping=Kc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function af(t,e,n,i,s){t.viewport.set(e,n,i,s),t.scissor.set(e,n,i,s)}function eU(t,e,n){const i=new Float32Array(Lo),s=new G(0,1,0);return new Ui({name:"SphericalGaussianBlur",defines:{n:Lo,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:b_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xr,depthTest:!1,depthWrite:!1})}function t1(){return new Ui({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:b_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xr,depthTest:!1,depthWrite:!1})}function n1(){return new Ui({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:b_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xr,depthTest:!1,depthWrite:!1})}function b_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function tU(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===md||l===pd,u=l===ea||l===Wa;if(c||u){let d=e.get(o);const h=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return n===null&&(n=new d0(t)),d=c?n.fromEquirectangular(o,d):n.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const f=o.image;return c&&f&&f.height>0||u&&f&&s(f)?(n===null&&(n=new d0(t)),d=c?n.fromEquirectangular(o):n.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",r),d.texture):null}}}return o}function s(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function r(o){const l=o.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function nU(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(i)}return e[i]=s,s}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const s=n(i);return s===null&&Nu("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function iU(t,e,n,i){const s={},r=new WeakMap;function a(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);for(const m in h.morphAttributes){const v=h.morphAttributes[m];for(let p=0,g=v.length;p<g;p++)e.remove(v[p])}h.removeEventListener("dispose",a),delete s[h.id];const f=r.get(h);f&&(e.remove(f),r.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function o(d,h){return s[h.id]===!0||(h.addEventListener("dispose",a),s[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const m in h)e.update(h[m],t.ARRAY_BUFFER);const f=d.morphAttributes;for(const m in f){const v=f[m];for(let p=0,g=v.length;p<g;p++)e.update(v[p],t.ARRAY_BUFFER)}}function c(d){const h=[],f=d.index,m=d.attributes.position;let v=0;if(f!==null){const y=f.array;v=f.version;for(let x=0,w=y.length;x<w;x+=3){const E=y[x+0],C=y[x+1],A=y[x+2];h.push(E,C,C,A,A,E)}}else if(m!==void 0){const y=m.array;v=m.version;for(let x=0,w=y.length/3-1;x<w;x+=3){const E=x+0,C=x+1,A=x+2;h.push(E,C,C,A,A,E)}}else return;const p=new(NA(h)?y_:g_)(h,1);p.version=v;const g=r.get(d);g&&e.remove(g),r.set(d,p)}function u(d){const h=r.get(d);if(h){const f=d.index;f!==null&&h.version<f.version&&c(d)}else c(d);return r.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function sU(t,e,n){let i;function s(h){i=h}let r,a;function o(h){r=h.type,a=h.bytesPerElement}function l(h,f){t.drawElements(i,f,r,h*a),n.update(f,i,1)}function c(h,f,m){m!==0&&(t.drawElementsInstanced(i,f,r,h*a,m),n.update(f,i,m))}function u(h,f,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,f,0,r,h,0,m);let p=0;for(let g=0;g<m;g++)p+=f[g];n.update(p,i,1)}function d(h,f,m,v){if(m===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<h.length;g++)c(h[g]/a,f[g],v[g]);else{p.multiDrawElementsInstancedWEBGL(i,f,0,r,h,0,v,0,m);let g=0;for(let y=0;y<m;y++)g+=f[y]*v[y];n.update(g,i,1)}}this.setMode=s,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function rU(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(r/3);break;case t.LINES:n.lines+=o*(r/2);break;case t.LINE_STRIP:n.lines+=o*(r-1);break;case t.LINE_LOOP:n.lines+=o*r;break;case t.POINTS:n.points+=o*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:i}}function aU(t,e,n){const i=new WeakMap,s=new Tt;function r(a,o,l){const c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=u!==void 0?u.length:0;let h=i.get(o);if(h===void 0||h.count!==d){let _=function(){A.dispose(),i.delete(o),o.removeEventListener("dispose",_)};h!==void 0&&h.texture.dispose();const f=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,v=o.morphAttributes.color!==void 0,p=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],y=o.morphAttributes.color||[];let x=0;f===!0&&(x=1),m===!0&&(x=2),v===!0&&(x=3);let w=o.attributes.position.count*x,E=1;w>e.maxTextureSize&&(E=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const C=new Float32Array(w*E*4*d),A=new Gp(C,w,E,d);A.type=Ki,A.needsUpdate=!0;const S=x*4;for(let b=0;b<d;b++){const T=p[b],P=g[b],D=y[b],O=w*E*4*b;for(let H=0;H<T.count;H++){const F=H*S;f===!0&&(s.fromBufferAttribute(T,H),C[O+F+0]=s.x,C[O+F+1]=s.y,C[O+F+2]=s.z,C[O+F+3]=0),m===!0&&(s.fromBufferAttribute(P,H),C[O+F+4]=s.x,C[O+F+5]=s.y,C[O+F+6]=s.z,C[O+F+7]=0),v===!0&&(s.fromBufferAttribute(D,H),C[O+F+8]=s.x,C[O+F+9]=s.y,C[O+F+10]=s.z,C[O+F+11]=D.itemSize===4?s.w:1)}}h={count:d,texture:A,size:new Te(w,E)},i.set(o,h),o.addEventListener("dispose",_)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let f=0;for(let v=0;v<c.length;v++)f+=c[v];const m=o.morphTargetsRelative?1:1-f;l.getUniforms().setValue(t,"morphTargetBaseInfluence",m),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:r}}function oU(t,e,n,i){let s=new WeakMap;function r(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(s.get(d)!==c&&(e.update(d),s.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),s.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),s.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;s.get(h)!==c&&(h.update(),s.set(h,c))}return d}function a(){s=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:a}}class __ extends un{constructor(e,n,i,s,r,a,o,l,c,u=$o){if(u!==$o&&u!==al)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===$o&&(i=na),i===void 0&&u===al&&(i=rl),super(null,s,r,a,o,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:Wn,this.minFilter=l!==void 0?l:Wn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const $A=new un,i1=new __(1,1),jA=new Gp,XA=new v_,YA=new nh,s1=[],r1=[],a1=new Float32Array(16),o1=new Float32Array(9),l1=new Float32Array(4);function Zc(t,e,n){const i=t[0];if(i<=0||i>0)return t;const s=e*n;let r=s1[s];if(r===void 0&&(r=new Float32Array(s),s1[s]=r),e!==0){i.toArray(r,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(r,o)}return r}function jn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Xn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function $p(t,e){let n=r1[e];n===void 0&&(n=new Int32Array(e),r1[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function lU(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function cU(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(jn(n,e))return;t.uniform2fv(this.addr,e),Xn(n,e)}}function uU(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(jn(n,e))return;t.uniform3fv(this.addr,e),Xn(n,e)}}function dU(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(jn(n,e))return;t.uniform4fv(this.addr,e),Xn(n,e)}}function hU(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(jn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Xn(n,e)}else{if(jn(n,i))return;l1.set(i),t.uniformMatrix2fv(this.addr,!1,l1),Xn(n,i)}}function fU(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(jn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Xn(n,e)}else{if(jn(n,i))return;o1.set(i),t.uniformMatrix3fv(this.addr,!1,o1),Xn(n,i)}}function mU(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(jn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Xn(n,e)}else{if(jn(n,i))return;a1.set(i),t.uniformMatrix4fv(this.addr,!1,a1),Xn(n,i)}}function pU(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function vU(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(jn(n,e))return;t.uniform2iv(this.addr,e),Xn(n,e)}}function gU(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(jn(n,e))return;t.uniform3iv(this.addr,e),Xn(n,e)}}function yU(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(jn(n,e))return;t.uniform4iv(this.addr,e),Xn(n,e)}}function bU(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function _U(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(jn(n,e))return;t.uniform2uiv(this.addr,e),Xn(n,e)}}function xU(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(jn(n,e))return;t.uniform3uiv(this.addr,e),Xn(n,e)}}function wU(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(jn(n,e))return;t.uniform4uiv(this.addr,e),Xn(n,e)}}function SU(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s);let r;this.type===t.SAMPLER_2D_SHADOW?(i1.compareFunction=m_,r=i1):r=$A,n.setTexture2D(e||r,s)}function MU(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture3D(e||XA,s)}function CU(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTextureCube(e||YA,s)}function TU(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture2DArray(e||jA,s)}function EU(t){switch(t){case 5126:return lU;case 35664:return cU;case 35665:return uU;case 35666:return dU;case 35674:return hU;case 35675:return fU;case 35676:return mU;case 5124:case 35670:return pU;case 35667:case 35671:return vU;case 35668:case 35672:return gU;case 35669:case 35673:return yU;case 5125:return bU;case 36294:return _U;case 36295:return xU;case 36296:return wU;case 35678:case 36198:case 36298:case 36306:case 35682:return SU;case 35679:case 36299:case 36307:return MU;case 35680:case 36300:case 36308:case 36293:return CU;case 36289:case 36303:case 36311:case 36292:return TU}}function AU(t,e){t.uniform1fv(this.addr,e)}function PU(t,e){const n=Zc(e,this.size,2);t.uniform2fv(this.addr,n)}function IU(t,e){const n=Zc(e,this.size,3);t.uniform3fv(this.addr,n)}function RU(t,e){const n=Zc(e,this.size,4);t.uniform4fv(this.addr,n)}function LU(t,e){const n=Zc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function kU(t,e){const n=Zc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function DU(t,e){const n=Zc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function OU(t,e){t.uniform1iv(this.addr,e)}function NU(t,e){t.uniform2iv(this.addr,e)}function VU(t,e){t.uniform3iv(this.addr,e)}function FU(t,e){t.uniform4iv(this.addr,e)}function BU(t,e){t.uniform1uiv(this.addr,e)}function UU(t,e){t.uniform2uiv(this.addr,e)}function zU(t,e){t.uniform3uiv(this.addr,e)}function HU(t,e){t.uniform4uiv(this.addr,e)}function GU(t,e,n){const i=this.cache,s=e.length,r=$p(n,s);jn(i,r)||(t.uniform1iv(this.addr,r),Xn(i,r));for(let a=0;a!==s;++a)n.setTexture2D(e[a]||$A,r[a])}function WU(t,e,n){const i=this.cache,s=e.length,r=$p(n,s);jn(i,r)||(t.uniform1iv(this.addr,r),Xn(i,r));for(let a=0;a!==s;++a)n.setTexture3D(e[a]||XA,r[a])}function $U(t,e,n){const i=this.cache,s=e.length,r=$p(n,s);jn(i,r)||(t.uniform1iv(this.addr,r),Xn(i,r));for(let a=0;a!==s;++a)n.setTextureCube(e[a]||YA,r[a])}function jU(t,e,n){const i=this.cache,s=e.length,r=$p(n,s);jn(i,r)||(t.uniform1iv(this.addr,r),Xn(i,r));for(let a=0;a!==s;++a)n.setTexture2DArray(e[a]||jA,r[a])}function XU(t){switch(t){case 5126:return AU;case 35664:return PU;case 35665:return IU;case 35666:return RU;case 35674:return LU;case 35675:return kU;case 35676:return DU;case 5124:case 35670:return OU;case 35667:case 35671:return NU;case 35668:case 35672:return VU;case 35669:case 35673:return FU;case 5125:return BU;case 36294:return UU;case 36295:return zU;case 36296:return HU;case 35678:case 36198:case 36298:case 36306:case 35682:return GU;case 35679:case 36299:case 36307:return WU;case 35680:case 36300:case 36308:case 36293:return $U;case 36289:case 36303:case 36311:case 36292:return jU}}class YU{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=EU(n.type)}}class qU{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=XU(n.type)}}class KU{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const s=this.seq;for(let r=0,a=s.length;r!==a;++r){const o=s[r];o.setValue(e,n[o.id],i)}}}const Hg=/(\w+)(\])?(\[|\.)?/g;function c1(t,e){t.seq.push(e),t.map[e.id]=e}function ZU(t,e,n){const i=t.name,s=i.length;for(Hg.lastIndex=0;;){const r=Hg.exec(i),a=Hg.lastIndex;let o=r[1];const l=r[2]==="]",c=r[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===s){c1(n,c===void 0?new YU(o,t,e):new qU(o,t,e));break}else{let d=n.map[o];d===void 0&&(d=new KU(o),c1(n,d)),n=d}}}class em{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(n,s),a=e.getUniformLocation(n,r.name);ZU(r,a,this)}}setValue(e,n,i,s){const r=this.map[n];r!==void 0&&r.setValue(e,i,s)}setOptional(e,n,i){const s=n[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,n,i,s){for(let r=0,a=n.length;r!==a;++r){const o=n[r],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,s)}}static seqWithValue(e,n){const i=[];for(let s=0,r=e.length;s!==r;++s){const a=e[s];a.id in n&&i.push(a)}return i}}function u1(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const JU=37297;let QU=0;function ez(t,e){const n=t.split(`
`),i=[],s=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let a=s;a<r;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return i.join(`
`)}const d1=new _t;function tz(t){kt._getMatrix(d1,kt.workingColorSpace,t);const e=`mat3( ${d1.elements.map(n=>n.toFixed(4))} )`;switch(kt.getTransfer(t)){case Qd:return[e,"LinearTransferOETF"];case Jt:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function h1(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),s=t.getShaderInfoLog(e).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const a=parseInt(r[1]);return n.toUpperCase()+`

`+s+`

`+ez(t.getShaderSource(e),a)}else return s}function nz(t,e){const n=tz(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function iz(t,e){let n;switch(e){case pA:n="Linear";break;case vA:n="Reinhard";break;case gA:n="Cineon";break;case n_:n="ACESFilmic";break;case bA:n="AgX";break;case _A:n="Neutral";break;case yA:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const of=new G;function sz(){kt.getLuminanceCoefficients(of);const t=of.x.toFixed(4),e=of.y.toFixed(4),n=of.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function rz(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Fu).join(`
`)}function az(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function oz(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=t.getActiveAttrib(e,s),a=r.name;let o=1;r.type===t.FLOAT_MAT2&&(o=2),r.type===t.FLOAT_MAT3&&(o=3),r.type===t.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function Fu(t){return t!==""}function f1(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function m1(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const lz=/^[ \t]*#include +<([\w\d./]+)>/gm;function h0(t){return t.replace(lz,uz)}const cz=new Map;function uz(t,e){let n=Ct[e];if(n===void 0){const i=cz.get(e);if(i!==void 0)n=Ct[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return h0(n)}const dz=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function p1(t){return t.replace(dz,hz)}function hz(t,e,n,i){let s="";for(let r=parseInt(e);r<parseInt(n);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function v1(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fz(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===e_?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===t_?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===nr&&(e="SHADOWMAP_TYPE_VSM"),e}function mz(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ea:case Wa:e="ENVMAP_TYPE_CUBE";break;case Kc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function pz(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Wa:e="ENVMAP_MODE_REFRACTION";break}return e}function vz(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Kd:e="ENVMAP_BLENDING_MULTIPLY";break;case fA:e="ENVMAP_BLENDING_MIX";break;case mA:e="ENVMAP_BLENDING_ADD";break}return e}function gz(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function yz(t,e,n,i){const s=t.getContext(),r=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=fz(n),c=mz(n),u=pz(n),d=vz(n),h=gz(n),f=rz(n),m=az(r),v=s.createProgram();let p,g,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Fu).join(`
`),p.length>0&&(p+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Fu).join(`
`),g.length>0&&(g+=`
`)):(p=[v1(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fu).join(`
`),g=[v1(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Yr?"#define TONE_MAPPING":"",n.toneMapping!==Yr?Ct.tonemapping_pars_fragment:"",n.toneMapping!==Yr?iz("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ct.colorspace_pars_fragment,nz("linearToOutputTexel",n.outputColorSpace),sz(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Fu).join(`
`)),a=h0(a),a=f1(a,n),a=m1(a,n),o=h0(o),o=f1(o,n),o=m1(o,n),a=p1(a),o=p1(o),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,p=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,g=["#define varying in",n.glslVersion===u0?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===u0?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const x=y+p+a,w=y+g+o,E=u1(s,s.VERTEX_SHADER,x),C=u1(s,s.FRAGMENT_SHADER,w);s.attachShader(v,E),s.attachShader(v,C),n.index0AttributeName!==void 0?s.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(v,0,"position"),s.linkProgram(v);function A(T){if(t.debug.checkShaderErrors){const P=s.getProgramInfoLog(v).trim(),D=s.getShaderInfoLog(E).trim(),O=s.getShaderInfoLog(C).trim();let H=!0,F=!0;if(s.getProgramParameter(v,s.LINK_STATUS)===!1)if(H=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,v,E,C);else{const K=h1(s,E,"vertex"),j=h1(s,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(v,s.VALIDATE_STATUS)+`

Material Name: `+T.name+`
Material Type: `+T.type+`

Program Info Log: `+P+`
`+K+`
`+j)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(D===""||O==="")&&(F=!1);F&&(T.diagnostics={runnable:H,programLog:P,vertexShader:{log:D,prefix:p},fragmentShader:{log:O,prefix:g}})}s.deleteShader(E),s.deleteShader(C),S=new em(s,v),_=oz(s,v)}let S;this.getUniforms=function(){return S===void 0&&A(this),S};let _;this.getAttributes=function(){return _===void 0&&A(this),_};let b=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return b===!1&&(b=s.getProgramParameter(v,JU)),b},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=QU++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=C,this}let bz=0;class _z{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(n),r=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(s)===!1&&(a.add(s),s.usedTimes++),a.has(r)===!1&&(a.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new xz(e),n.set(e,i)),i}}class xz{constructor(e){this.id=bz++,this.code=e,this.usedTimes=0}}function wz(t,e,n,i,s,r,a){const o=new Wp,l=new _z,c=new Set,u=[],d=s.logarithmicDepthBuffer,h=s.vertexTextures;let f=s.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(_){return c.add(_),_===0?"uv":`uv${_}`}function p(_,b,T,P,D){const O=P.fog,H=D.geometry,F=_.isMeshStandardMaterial?P.environment:null,K=(_.isMeshStandardMaterial?n:e).get(_.envMap||F),j=K&&K.mapping===Kc?K.image.height:null,X=m[_.type];_.precision!==null&&(f=s.getMaxPrecision(_.precision),f!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",f,"instead."));const Y=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,J=Y!==void 0?Y.length:0;let de=0;H.morphAttributes.position!==void 0&&(de=1),H.morphAttributes.normal!==void 0&&(de=2),H.morphAttributes.color!==void 0&&(de=3);let Le,ie,ye,se;if(X){const Lt=xs[X];Le=Lt.vertexShader,ie=Lt.fragmentShader}else Le=_.vertexShader,ie=_.fragmentShader,l.update(_),ye=l.getVertexShaderID(_),se=l.getFragmentShaderID(_);const me=t.getRenderTarget(),ae=t.state.buffers.depth.getReversed(),N=D.isInstancedMesh===!0,B=D.isBatchedMesh===!0,U=!!_.map,q=!!_.matcap,R=!!K,I=!!_.aoMap,W=!!_.lightMap,$=!!_.bumpMap,Z=!!_.normalMap,ee=!!_.displacementMap,ve=!!_.emissiveMap,le=!!_.metalnessMap,V=!!_.roughnessMap,k=_.anisotropy>0,Q=_.clearcoat>0,re=_.dispersion>0,pe=_.iridescence>0,fe=_.sheen>0,ke=_.transmission>0,Oe=k&&!!_.anisotropyMap,Ne=Q&&!!_.clearcoatMap,ut=Q&&!!_.clearcoatNormalMap,Re=Q&&!!_.clearcoatRoughnessMap,$e=pe&&!!_.iridescenceMap,Ze=pe&&!!_.iridescenceThicknessMap,ct=fe&&!!_.sheenColorMap,Ye=fe&&!!_.sheenRoughnessMap,ne=!!_.specularMap,Me=!!_.specularColorMap,je=!!_.specularIntensityMap,te=ke&&!!_.transmissionMap,Fe=ke&&!!_.thicknessMap,we=!!_.gradientMap,Ie=!!_.alphaMap,Xe=_.alphaTest>0,He=!!_.alphaHash,dt=!!_.extensions;let en=Yr;_.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(en=t.toneMapping);const Tn={shaderID:X,shaderType:_.type,shaderName:_.name,vertexShader:Le,fragmentShader:ie,defines:_.defines,customVertexShaderID:ye,customFragmentShaderID:se,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:f,batching:B,batchingColor:B&&D._colorsTexture!==null,instancing:N,instancingColor:N&&D.instanceColor!==null,instancingMorph:N&&D.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:me===null?t.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:Sl,alphaToCoverage:!!_.alphaToCoverage,map:U,matcap:q,envMap:R,envMapMode:R&&K.mapping,envMapCubeUVHeight:j,aoMap:I,lightMap:W,bumpMap:$,normalMap:Z,displacementMap:h&&ee,emissiveMap:ve,normalMapObjectSpace:Z&&_.normalMapType===AA,normalMapTangentSpace:Z&&_.normalMapType===Ka,metalnessMap:le,roughnessMap:V,anisotropy:k,anisotropyMap:Oe,clearcoat:Q,clearcoatMap:Ne,clearcoatNormalMap:ut,clearcoatRoughnessMap:Re,dispersion:re,iridescence:pe,iridescenceMap:$e,iridescenceThicknessMap:Ze,sheen:fe,sheenColorMap:ct,sheenRoughnessMap:Ye,specularMap:ne,specularColorMap:Me,specularIntensityMap:je,transmission:ke,transmissionMap:te,thicknessMap:Fe,gradientMap:we,opaque:_.transparent===!1&&_.blending===Go&&_.alphaToCoverage===!1,alphaMap:Ie,alphaTest:Xe,alphaHash:He,combine:_.combine,mapUv:U&&v(_.map.channel),aoMapUv:I&&v(_.aoMap.channel),lightMapUv:W&&v(_.lightMap.channel),bumpMapUv:$&&v(_.bumpMap.channel),normalMapUv:Z&&v(_.normalMap.channel),displacementMapUv:ee&&v(_.displacementMap.channel),emissiveMapUv:ve&&v(_.emissiveMap.channel),metalnessMapUv:le&&v(_.metalnessMap.channel),roughnessMapUv:V&&v(_.roughnessMap.channel),anisotropyMapUv:Oe&&v(_.anisotropyMap.channel),clearcoatMapUv:Ne&&v(_.clearcoatMap.channel),clearcoatNormalMapUv:ut&&v(_.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&v(_.clearcoatRoughnessMap.channel),iridescenceMapUv:$e&&v(_.iridescenceMap.channel),iridescenceThicknessMapUv:Ze&&v(_.iridescenceThicknessMap.channel),sheenColorMapUv:ct&&v(_.sheenColorMap.channel),sheenRoughnessMapUv:Ye&&v(_.sheenRoughnessMap.channel),specularMapUv:ne&&v(_.specularMap.channel),specularColorMapUv:Me&&v(_.specularColorMap.channel),specularIntensityMapUv:je&&v(_.specularIntensityMap.channel),transmissionMapUv:te&&v(_.transmissionMap.channel),thicknessMapUv:Fe&&v(_.thicknessMap.channel),alphaMapUv:Ie&&v(_.alphaMap.channel),vertexTangents:!!H.attributes.tangent&&(Z||k),vertexColors:_.vertexColors,vertexAlphas:_.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,pointsUvs:D.isPoints===!0&&!!H.attributes.uv&&(U||Ie),fog:!!O,useFog:_.fog===!0,fogExp2:!!O&&O.isFogExp2,flatShading:_.flatShading===!0,sizeAttenuation:_.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:ae,skinning:D.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:de,numDirLights:b.directional.length,numPointLights:b.point.length,numSpotLights:b.spot.length,numSpotLightMaps:b.spotLightMap.length,numRectAreaLights:b.rectArea.length,numHemiLights:b.hemi.length,numDirLightShadows:b.directionalShadowMap.length,numPointLightShadows:b.pointShadowMap.length,numSpotLightShadows:b.spotShadowMap.length,numSpotLightShadowsWithMaps:b.numSpotLightShadowsWithMaps,numLightProbes:b.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:_.dithering,shadowMapEnabled:t.shadowMap.enabled&&T.length>0,shadowMapType:t.shadowMap.type,toneMapping:en,decodeVideoTexture:U&&_.map.isVideoTexture===!0&&kt.getTransfer(_.map.colorSpace)===Jt,decodeVideoTextureEmissive:ve&&_.emissiveMap.isVideoTexture===!0&&kt.getTransfer(_.emissiveMap.colorSpace)===Jt,premultipliedAlpha:_.premultipliedAlpha,doubleSided:_.side===Li,flipSided:_.side===yi,useDepthPacking:_.depthPacking>=0,depthPacking:_.depthPacking||0,index0AttributeName:_.index0AttributeName,extensionClipCullDistance:dt&&_.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(dt&&_.extensions.multiDraw===!0||B)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:_.customProgramCacheKey()};return Tn.vertexUv1s=c.has(1),Tn.vertexUv2s=c.has(2),Tn.vertexUv3s=c.has(3),c.clear(),Tn}function g(_){const b=[];if(_.shaderID?b.push(_.shaderID):(b.push(_.customVertexShaderID),b.push(_.customFragmentShaderID)),_.defines!==void 0)for(const T in _.defines)b.push(T),b.push(_.defines[T]);return _.isRawShaderMaterial===!1&&(y(b,_),x(b,_),b.push(t.outputColorSpace)),b.push(_.customProgramCacheKey),b.join()}function y(_,b){_.push(b.precision),_.push(b.outputColorSpace),_.push(b.envMapMode),_.push(b.envMapCubeUVHeight),_.push(b.mapUv),_.push(b.alphaMapUv),_.push(b.lightMapUv),_.push(b.aoMapUv),_.push(b.bumpMapUv),_.push(b.normalMapUv),_.push(b.displacementMapUv),_.push(b.emissiveMapUv),_.push(b.metalnessMapUv),_.push(b.roughnessMapUv),_.push(b.anisotropyMapUv),_.push(b.clearcoatMapUv),_.push(b.clearcoatNormalMapUv),_.push(b.clearcoatRoughnessMapUv),_.push(b.iridescenceMapUv),_.push(b.iridescenceThicknessMapUv),_.push(b.sheenColorMapUv),_.push(b.sheenRoughnessMapUv),_.push(b.specularMapUv),_.push(b.specularColorMapUv),_.push(b.specularIntensityMapUv),_.push(b.transmissionMapUv),_.push(b.thicknessMapUv),_.push(b.combine),_.push(b.fogExp2),_.push(b.sizeAttenuation),_.push(b.morphTargetsCount),_.push(b.morphAttributeCount),_.push(b.numDirLights),_.push(b.numPointLights),_.push(b.numSpotLights),_.push(b.numSpotLightMaps),_.push(b.numHemiLights),_.push(b.numRectAreaLights),_.push(b.numDirLightShadows),_.push(b.numPointLightShadows),_.push(b.numSpotLightShadows),_.push(b.numSpotLightShadowsWithMaps),_.push(b.numLightProbes),_.push(b.shadowMapType),_.push(b.toneMapping),_.push(b.numClippingPlanes),_.push(b.numClipIntersection),_.push(b.depthPacking)}function x(_,b){o.disableAll(),b.supportsVertexTextures&&o.enable(0),b.instancing&&o.enable(1),b.instancingColor&&o.enable(2),b.instancingMorph&&o.enable(3),b.matcap&&o.enable(4),b.envMap&&o.enable(5),b.normalMapObjectSpace&&o.enable(6),b.normalMapTangentSpace&&o.enable(7),b.clearcoat&&o.enable(8),b.iridescence&&o.enable(9),b.alphaTest&&o.enable(10),b.vertexColors&&o.enable(11),b.vertexAlphas&&o.enable(12),b.vertexUv1s&&o.enable(13),b.vertexUv2s&&o.enable(14),b.vertexUv3s&&o.enable(15),b.vertexTangents&&o.enable(16),b.anisotropy&&o.enable(17),b.alphaHash&&o.enable(18),b.batching&&o.enable(19),b.dispersion&&o.enable(20),b.batchingColor&&o.enable(21),_.push(o.mask),o.disableAll(),b.fog&&o.enable(0),b.useFog&&o.enable(1),b.flatShading&&o.enable(2),b.logarithmicDepthBuffer&&o.enable(3),b.reverseDepthBuffer&&o.enable(4),b.skinning&&o.enable(5),b.morphTargets&&o.enable(6),b.morphNormals&&o.enable(7),b.morphColors&&o.enable(8),b.premultipliedAlpha&&o.enable(9),b.shadowMapEnabled&&o.enable(10),b.doubleSided&&o.enable(11),b.flipSided&&o.enable(12),b.useDepthPacking&&o.enable(13),b.dithering&&o.enable(14),b.transmission&&o.enable(15),b.sheen&&o.enable(16),b.opaque&&o.enable(17),b.pointsUvs&&o.enable(18),b.decodeVideoTexture&&o.enable(19),b.decodeVideoTextureEmissive&&o.enable(20),b.alphaToCoverage&&o.enable(21),_.push(o.mask)}function w(_){const b=m[_.type];let T;if(b){const P=xs[b];T=eh.clone(P.uniforms)}else T=_.uniforms;return T}function E(_,b){let T;for(let P=0,D=u.length;P<D;P++){const O=u[P];if(O.cacheKey===b){T=O,++T.usedTimes;break}}return T===void 0&&(T=new yz(t,b,_,r),u.push(T)),T}function C(_){if(--_.usedTimes===0){const b=u.indexOf(_);u[b]=u[u.length-1],u.pop(),_.destroy()}}function A(_){l.remove(_)}function S(){l.dispose()}return{getParameters:p,getProgramCacheKey:g,getUniforms:w,acquireProgram:E,releaseProgram:C,releaseShaderCache:A,programs:u,dispose:S}}function Sz(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function i(a){t.delete(a)}function s(a,o,l){t.get(a)[o]=l}function r(){t=new WeakMap}return{has:e,get:n,remove:i,update:s,dispose:r}}function Mz(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function g1(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function y1(){const t=[];let e=0;const n=[],i=[],s=[];function r(){e=0,n.length=0,i.length=0,s.length=0}function a(d,h,f,m,v,p){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:h,material:f,groupOrder:m,renderOrder:d.renderOrder,z:v,group:p},t[e]=g):(g.id=d.id,g.object=d,g.geometry=h,g.material=f,g.groupOrder=m,g.renderOrder=d.renderOrder,g.z=v,g.group=p),e++,g}function o(d,h,f,m,v,p){const g=a(d,h,f,m,v,p);f.transmission>0?i.push(g):f.transparent===!0?s.push(g):n.push(g)}function l(d,h,f,m,v,p){const g=a(d,h,f,m,v,p);f.transmission>0?i.unshift(g):f.transparent===!0?s.unshift(g):n.unshift(g)}function c(d,h){n.length>1&&n.sort(d||Mz),i.length>1&&i.sort(h||g1),s.length>1&&s.sort(h||g1)}function u(){for(let d=e,h=t.length;d<h;d++){const f=t[d];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:n,transmissive:i,transparent:s,init:r,push:o,unshift:l,finish:u,sort:c}}function Cz(){let t=new WeakMap;function e(i,s){const r=t.get(i);let a;return r===void 0?(a=new y1,t.set(i,[a])):s>=r.length?(a=new y1,r.push(a)):a=r[s],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function Tz(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new Be};break;case"SpotLight":n={position:new G,direction:new G,color:new Be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new Be,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new Be,groundColor:new Be};break;case"RectAreaLight":n={color:new Be,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function Ez(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Az=0;function Pz(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Iz(t){const e=new Tz,n=Ez(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new G);const s=new G,r=new lt,a=new lt;function o(c){let u=0,d=0,h=0;for(let _=0;_<9;_++)i.probe[_].set(0,0,0);let f=0,m=0,v=0,p=0,g=0,y=0,x=0,w=0,E=0,C=0,A=0;c.sort(Pz);for(let _=0,b=c.length;_<b;_++){const T=c[_],P=T.color,D=T.intensity,O=T.distance,H=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)u+=P.r*D,d+=P.g*D,h+=P.b*D;else if(T.isLightProbe){for(let F=0;F<9;F++)i.probe[F].addScaledVector(T.sh.coefficients[F],D);A++}else if(T.isDirectionalLight){const F=e.get(T);if(F.color.copy(T.color).multiplyScalar(T.intensity),T.castShadow){const K=T.shadow,j=n.get(T);j.shadowIntensity=K.intensity,j.shadowBias=K.bias,j.shadowNormalBias=K.normalBias,j.shadowRadius=K.radius,j.shadowMapSize=K.mapSize,i.directionalShadow[f]=j,i.directionalShadowMap[f]=H,i.directionalShadowMatrix[f]=T.shadow.matrix,y++}i.directional[f]=F,f++}else if(T.isSpotLight){const F=e.get(T);F.position.setFromMatrixPosition(T.matrixWorld),F.color.copy(P).multiplyScalar(D),F.distance=O,F.coneCos=Math.cos(T.angle),F.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),F.decay=T.decay,i.spot[v]=F;const K=T.shadow;if(T.map&&(i.spotLightMap[E]=T.map,E++,K.updateMatrices(T),T.castShadow&&C++),i.spotLightMatrix[v]=K.matrix,T.castShadow){const j=n.get(T);j.shadowIntensity=K.intensity,j.shadowBias=K.bias,j.shadowNormalBias=K.normalBias,j.shadowRadius=K.radius,j.shadowMapSize=K.mapSize,i.spotShadow[v]=j,i.spotShadowMap[v]=H,w++}v++}else if(T.isRectAreaLight){const F=e.get(T);F.color.copy(P).multiplyScalar(D),F.halfWidth.set(T.width*.5,0,0),F.halfHeight.set(0,T.height*.5,0),i.rectArea[p]=F,p++}else if(T.isPointLight){const F=e.get(T);if(F.color.copy(T.color).multiplyScalar(T.intensity),F.distance=T.distance,F.decay=T.decay,T.castShadow){const K=T.shadow,j=n.get(T);j.shadowIntensity=K.intensity,j.shadowBias=K.bias,j.shadowNormalBias=K.normalBias,j.shadowRadius=K.radius,j.shadowMapSize=K.mapSize,j.shadowCameraNear=K.camera.near,j.shadowCameraFar=K.camera.far,i.pointShadow[m]=j,i.pointShadowMap[m]=H,i.pointShadowMatrix[m]=T.shadow.matrix,x++}i.point[m]=F,m++}else if(T.isHemisphereLight){const F=e.get(T);F.skyColor.copy(T.color).multiplyScalar(D),F.groundColor.copy(T.groundColor).multiplyScalar(D),i.hemi[g]=F,g++}}p>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_FLOAT_1,i.rectAreaLTC2=Ge.LTC_FLOAT_2):(i.rectAreaLTC1=Ge.LTC_HALF_1,i.rectAreaLTC2=Ge.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=h;const S=i.hash;(S.directionalLength!==f||S.pointLength!==m||S.spotLength!==v||S.rectAreaLength!==p||S.hemiLength!==g||S.numDirectionalShadows!==y||S.numPointShadows!==x||S.numSpotShadows!==w||S.numSpotMaps!==E||S.numLightProbes!==A)&&(i.directional.length=f,i.spot.length=v,i.rectArea.length=p,i.point.length=m,i.hemi.length=g,i.directionalShadow.length=y,i.directionalShadowMap.length=y,i.pointShadow.length=x,i.pointShadowMap.length=x,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=y,i.pointShadowMatrix.length=x,i.spotLightMatrix.length=w+E-C,i.spotLightMap.length=E,i.numSpotLightShadowsWithMaps=C,i.numLightProbes=A,S.directionalLength=f,S.pointLength=m,S.spotLength=v,S.rectAreaLength=p,S.hemiLength=g,S.numDirectionalShadows=y,S.numPointShadows=x,S.numSpotShadows=w,S.numSpotMaps=E,S.numLightProbes=A,i.version=Az++)}function l(c,u){let d=0,h=0,f=0,m=0,v=0;const p=u.matrixWorldInverse;for(let g=0,y=c.length;g<y;g++){const x=c[g];if(x.isDirectionalLight){const w=i.directional[d];w.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(p),d++}else if(x.isSpotLight){const w=i.spot[f];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(p),w.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(p),f++}else if(x.isRectAreaLight){const w=i.rectArea[m];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(p),a.identity(),r.copy(x.matrixWorld),r.premultiply(p),a.extractRotation(r),w.halfWidth.set(x.width*.5,0,0),w.halfHeight.set(0,x.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),m++}else if(x.isPointLight){const w=i.point[h];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(p),h++}else if(x.isHemisphereLight){const w=i.hemi[v];w.direction.setFromMatrixPosition(x.matrixWorld),w.direction.transformDirection(p),v++}}}return{setup:o,setupView:l,state:i}}function b1(t){const e=new Iz(t),n=[],i=[];function s(u){c.camera=u,n.length=0,i.length=0}function r(u){n.push(u)}function a(u){i.push(u)}function o(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:c,setupLights:o,setupLightsView:l,pushLight:r,pushShadow:a}}function Rz(t){let e=new WeakMap;function n(s,r=0){const a=e.get(s);let o;return a===void 0?(o=new b1(t),e.set(s,[o])):r>=a.length?(o=new b1(t),a.push(o)):o=a[r],o}function i(){e=new WeakMap}return{get:n,dispose:i}}class x_ extends $n{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=TA,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class w_ extends $n{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Lz=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,kz=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Dz(t,e,n){let i=new ih;const s=new Te,r=new Te,a=new Tt,o=new x_({depthPacking:EA}),l=new w_,c={},u=n.maxTextureSize,d={[fr]:yi,[yi]:fr,[Li]:Li},h=new Ui({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Te},radius:{value:4}},vertexShader:Lz,fragmentShader:kz}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const m=new bt;m.setAttribute("position",new At(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new nn(m,h),p=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=e_;let g=this.type;this.render=function(C,A,S){if(p.enabled===!1||p.autoUpdate===!1&&p.needsUpdate===!1||C.length===0)return;const _=t.getRenderTarget(),b=t.getActiveCubeFace(),T=t.getActiveMipmapLevel(),P=t.state;P.setBlending(Xr),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);const D=g!==nr&&this.type===nr,O=g===nr&&this.type!==nr;for(let H=0,F=C.length;H<F;H++){const K=C[H],j=K.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;s.copy(j.mapSize);const X=j.getFrameExtents();if(s.multiply(X),r.copy(j.mapSize),(s.x>u||s.y>u)&&(s.x>u&&(r.x=Math.floor(u/X.x),s.x=r.x*X.x,j.mapSize.x=r.x),s.y>u&&(r.y=Math.floor(u/X.y),s.y=r.y*X.y,j.mapSize.y=r.y)),j.map===null||D===!0||O===!0){const J=this.type!==nr?{minFilter:Wn,magFilter:Wn}:{};j.map!==null&&j.map.dispose(),j.map=new Ts(s.x,s.y,J),j.map.texture.name=K.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const Y=j.getViewportCount();for(let J=0;J<Y;J++){const de=j.getViewport(J);a.set(r.x*de.x,r.y*de.y,r.x*de.z,r.y*de.w),P.viewport(a),j.updateMatrices(K,J),i=j.getFrustum(),w(A,S,j.camera,K,this.type)}j.isPointLightShadow!==!0&&this.type===nr&&y(j,S),j.needsUpdate=!1}g=this.type,p.needsUpdate=!1,t.setRenderTarget(_,b,T)};function y(C,A){const S=e.update(v);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,f.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Ts(s.x,s.y)),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(A,null,S,h,v,null),f.uniforms.shadow_pass.value=C.mapPass.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(A,null,S,f,v,null)}function x(C,A,S,_){let b=null;const T=S.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(T!==void 0)b=T;else if(b=S.isPointLight===!0?l:o,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const P=b.uuid,D=A.uuid;let O=c[P];O===void 0&&(O={},c[P]=O);let H=O[D];H===void 0&&(H=b.clone(),O[D]=H,A.addEventListener("dispose",E)),b=H}if(b.visible=A.visible,b.wireframe=A.wireframe,_===nr?b.side=A.shadowSide!==null?A.shadowSide:A.side:b.side=A.shadowSide!==null?A.shadowSide:d[A.side],b.alphaMap=A.alphaMap,b.alphaTest=A.alphaTest,b.map=A.map,b.clipShadows=A.clipShadows,b.clippingPlanes=A.clippingPlanes,b.clipIntersection=A.clipIntersection,b.displacementMap=A.displacementMap,b.displacementScale=A.displacementScale,b.displacementBias=A.displacementBias,b.wireframeLinewidth=A.wireframeLinewidth,b.linewidth=A.linewidth,S.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const P=t.properties.get(b);P.light=S}return b}function w(C,A,S,_,b){if(C.visible===!1)return;if(C.layers.test(A.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&b===nr)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,C.matrixWorld);const D=e.update(C),O=C.material;if(Array.isArray(O)){const H=D.groups;for(let F=0,K=H.length;F<K;F++){const j=H[F],X=O[j.materialIndex];if(X&&X.visible){const Y=x(C,X,_,b);C.onBeforeShadow(t,C,A,S,D,Y,j),t.renderBufferDirect(S,null,D,Y,C,j),C.onAfterShadow(t,C,A,S,D,Y,j)}}}else if(O.visible){const H=x(C,O,_,b);C.onBeforeShadow(t,C,A,S,D,H,null),t.renderBufferDirect(S,null,D,H,C,null),C.onAfterShadow(t,C,A,S,D,H,null)}}const P=C.children;for(let D=0,O=P.length;D<O;D++)w(P[D],A,S,_,b)}function E(C){C.target.removeEventListener("dispose",E);for(const S in c){const _=c[S],b=C.target.uuid;b in _&&(_[b].dispose(),delete _[b])}}}const Oz={[Sm]:Mm,[Cm]:Am,[Tm]:Pm,[il]:Em,[Mm]:Sm,[Am]:Cm,[Pm]:Tm,[Em]:il};function Nz(t,e){function n(){let te=!1;const Fe=new Tt;let we=null;const Ie=new Tt(0,0,0,0);return{setMask:function(Xe){we!==Xe&&!te&&(t.colorMask(Xe,Xe,Xe,Xe),we=Xe)},setLocked:function(Xe){te=Xe},setClear:function(Xe,He,dt,en,Tn){Tn===!0&&(Xe*=en,He*=en,dt*=en),Fe.set(Xe,He,dt,en),Ie.equals(Fe)===!1&&(t.clearColor(Xe,He,dt,en),Ie.copy(Fe))},reset:function(){te=!1,we=null,Ie.set(-1,0,0,0)}}}function i(){let te=!1,Fe=!1,we=null,Ie=null,Xe=null;return{setReversed:function(He){if(Fe!==He){const dt=e.get("EXT_clip_control");Fe?dt.clipControlEXT(dt.LOWER_LEFT_EXT,dt.ZERO_TO_ONE_EXT):dt.clipControlEXT(dt.LOWER_LEFT_EXT,dt.NEGATIVE_ONE_TO_ONE_EXT);const en=Xe;Xe=null,this.setClear(en)}Fe=He},getReversed:function(){return Fe},setTest:function(He){He?me(t.DEPTH_TEST):ae(t.DEPTH_TEST)},setMask:function(He){we!==He&&!te&&(t.depthMask(He),we=He)},setFunc:function(He){if(Fe&&(He=Oz[He]),Ie!==He){switch(He){case Sm:t.depthFunc(t.NEVER);break;case Mm:t.depthFunc(t.ALWAYS);break;case Cm:t.depthFunc(t.LESS);break;case il:t.depthFunc(t.LEQUAL);break;case Tm:t.depthFunc(t.EQUAL);break;case Em:t.depthFunc(t.GEQUAL);break;case Am:t.depthFunc(t.GREATER);break;case Pm:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ie=He}},setLocked:function(He){te=He},setClear:function(He){Xe!==He&&(Fe&&(He=1-He),t.clearDepth(He),Xe=He)},reset:function(){te=!1,we=null,Ie=null,Xe=null,Fe=!1}}}function s(){let te=!1,Fe=null,we=null,Ie=null,Xe=null,He=null,dt=null,en=null,Tn=null;return{setTest:function(Lt){te||(Lt?me(t.STENCIL_TEST):ae(t.STENCIL_TEST))},setMask:function(Lt){Fe!==Lt&&!te&&(t.stencilMask(Lt),Fe=Lt)},setFunc:function(Lt,ui,Ar){(we!==Lt||Ie!==ui||Xe!==Ar)&&(t.stencilFunc(Lt,ui,Ar),we=Lt,Ie=ui,Xe=Ar)},setOp:function(Lt,ui,Ar){(He!==Lt||dt!==ui||en!==Ar)&&(t.stencilOp(Lt,ui,Ar),He=Lt,dt=ui,en=Ar)},setLocked:function(Lt){te=Lt},setClear:function(Lt){Tn!==Lt&&(t.clearStencil(Lt),Tn=Lt)},reset:function(){te=!1,Fe=null,we=null,Ie=null,Xe=null,He=null,dt=null,en=null,Tn=null}}}const r=new n,a=new i,o=new s,l=new WeakMap,c=new WeakMap;let u={},d={},h=new WeakMap,f=[],m=null,v=!1,p=null,g=null,y=null,x=null,w=null,E=null,C=null,A=new Be(0,0,0),S=0,_=!1,b=null,T=null,P=null,D=null,O=null;const H=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,K=0;const j=t.getParameter(t.VERSION);j.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(j)[1]),F=K>=1):j.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),F=K>=2);let X=null,Y={};const J=t.getParameter(t.SCISSOR_BOX),de=t.getParameter(t.VIEWPORT),Le=new Tt().fromArray(J),ie=new Tt().fromArray(de);function ye(te,Fe,we,Ie){const Xe=new Uint8Array(4),He=t.createTexture();t.bindTexture(te,He),t.texParameteri(te,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(te,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let dt=0;dt<we;dt++)te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY?t.texImage3D(Fe,0,t.RGBA,1,1,Ie,0,t.RGBA,t.UNSIGNED_BYTE,Xe):t.texImage2D(Fe+dt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Xe);return He}const se={};se[t.TEXTURE_2D]=ye(t.TEXTURE_2D,t.TEXTURE_2D,1),se[t.TEXTURE_CUBE_MAP]=ye(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[t.TEXTURE_2D_ARRAY]=ye(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),se[t.TEXTURE_3D]=ye(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),a.setClear(1),o.setClear(0),me(t.DEPTH_TEST),a.setFunc(il),$(!1),Z(r0),me(t.CULL_FACE),I(Xr);function me(te){u[te]!==!0&&(t.enable(te),u[te]=!0)}function ae(te){u[te]!==!1&&(t.disable(te),u[te]=!1)}function N(te,Fe){return d[te]!==Fe?(t.bindFramebuffer(te,Fe),d[te]=Fe,te===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Fe),te===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Fe),!0):!1}function B(te,Fe){let we=f,Ie=!1;if(te){we=h.get(Fe),we===void 0&&(we=[],h.set(Fe,we));const Xe=te.textures;if(we.length!==Xe.length||we[0]!==t.COLOR_ATTACHMENT0){for(let He=0,dt=Xe.length;He<dt;He++)we[He]=t.COLOR_ATTACHMENT0+He;we.length=Xe.length,Ie=!0}}else we[0]!==t.BACK&&(we[0]=t.BACK,Ie=!0);Ie&&t.drawBuffers(we)}function U(te){return m!==te?(t.useProgram(te),m=te,!0):!1}const q={[Na]:t.FUNC_ADD,[KE]:t.FUNC_SUBTRACT,[ZE]:t.FUNC_REVERSE_SUBTRACT};q[JE]=t.MIN,q[QE]=t.MAX;const R={[eA]:t.ZERO,[tA]:t.ONE,[nA]:t.SRC_COLOR,[xm]:t.SRC_ALPHA,[lA]:t.SRC_ALPHA_SATURATE,[aA]:t.DST_COLOR,[sA]:t.DST_ALPHA,[iA]:t.ONE_MINUS_SRC_COLOR,[wm]:t.ONE_MINUS_SRC_ALPHA,[oA]:t.ONE_MINUS_DST_COLOR,[rA]:t.ONE_MINUS_DST_ALPHA,[cA]:t.CONSTANT_COLOR,[uA]:t.ONE_MINUS_CONSTANT_COLOR,[dA]:t.CONSTANT_ALPHA,[hA]:t.ONE_MINUS_CONSTANT_ALPHA};function I(te,Fe,we,Ie,Xe,He,dt,en,Tn,Lt){if(te===Xr){v===!0&&(ae(t.BLEND),v=!1);return}if(v===!1&&(me(t.BLEND),v=!0),te!==qE){if(te!==p||Lt!==_){if((g!==Na||w!==Na)&&(t.blendEquation(t.FUNC_ADD),g=Na,w=Na),Lt)switch(te){case Go:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case _m:t.blendFunc(t.ONE,t.ONE);break;case a0:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case o0:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case Go:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case _m:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case a0:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case o0:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}y=null,x=null,E=null,C=null,A.set(0,0,0),S=0,p=te,_=Lt}return}Xe=Xe||Fe,He=He||we,dt=dt||Ie,(Fe!==g||Xe!==w)&&(t.blendEquationSeparate(q[Fe],q[Xe]),g=Fe,w=Xe),(we!==y||Ie!==x||He!==E||dt!==C)&&(t.blendFuncSeparate(R[we],R[Ie],R[He],R[dt]),y=we,x=Ie,E=He,C=dt),(en.equals(A)===!1||Tn!==S)&&(t.blendColor(en.r,en.g,en.b,Tn),A.copy(en),S=Tn),p=te,_=!1}function W(te,Fe){te.side===Li?ae(t.CULL_FACE):me(t.CULL_FACE);let we=te.side===yi;Fe&&(we=!we),$(we),te.blending===Go&&te.transparent===!1?I(Xr):I(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),a.setFunc(te.depthFunc),a.setTest(te.depthTest),a.setMask(te.depthWrite),r.setMask(te.colorWrite);const Ie=te.stencilWrite;o.setTest(Ie),Ie&&(o.setMask(te.stencilWriteMask),o.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),o.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),ve(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?me(t.SAMPLE_ALPHA_TO_COVERAGE):ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function $(te){b!==te&&(te?t.frontFace(t.CW):t.frontFace(t.CCW),b=te)}function Z(te){te!==XE?(me(t.CULL_FACE),te!==T&&(te===r0?t.cullFace(t.BACK):te===YE?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ae(t.CULL_FACE),T=te}function ee(te){te!==P&&(F&&t.lineWidth(te),P=te)}function ve(te,Fe,we){te?(me(t.POLYGON_OFFSET_FILL),(D!==Fe||O!==we)&&(t.polygonOffset(Fe,we),D=Fe,O=we)):ae(t.POLYGON_OFFSET_FILL)}function le(te){te?me(t.SCISSOR_TEST):ae(t.SCISSOR_TEST)}function V(te){te===void 0&&(te=t.TEXTURE0+H-1),X!==te&&(t.activeTexture(te),X=te)}function k(te,Fe,we){we===void 0&&(X===null?we=t.TEXTURE0+H-1:we=X);let Ie=Y[we];Ie===void 0&&(Ie={type:void 0,texture:void 0},Y[we]=Ie),(Ie.type!==te||Ie.texture!==Fe)&&(X!==we&&(t.activeTexture(we),X=we),t.bindTexture(te,Fe||se[te]),Ie.type=te,Ie.texture=Fe)}function Q(){const te=Y[X];te!==void 0&&te.type!==void 0&&(t.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function re(){try{t.compressedTexImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function pe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function fe(){try{t.texSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ke(){try{t.texSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Oe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ne(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ut(){try{t.texStorage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Re(){try{t.texStorage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function $e(){try{t.texImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ze(){try{t.texImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ct(te){Le.equals(te)===!1&&(t.scissor(te.x,te.y,te.z,te.w),Le.copy(te))}function Ye(te){ie.equals(te)===!1&&(t.viewport(te.x,te.y,te.z,te.w),ie.copy(te))}function ne(te,Fe){let we=c.get(Fe);we===void 0&&(we=new WeakMap,c.set(Fe,we));let Ie=we.get(te);Ie===void 0&&(Ie=t.getUniformBlockIndex(Fe,te.name),we.set(te,Ie))}function Me(te,Fe){const Ie=c.get(Fe).get(te);l.get(Fe)!==Ie&&(t.uniformBlockBinding(Fe,Ie,te.__bindingPointIndex),l.set(Fe,Ie))}function je(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},X=null,Y={},d={},h=new WeakMap,f=[],m=null,v=!1,p=null,g=null,y=null,x=null,w=null,E=null,C=null,A=new Be(0,0,0),S=0,_=!1,b=null,T=null,P=null,D=null,O=null,Le.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),r.reset(),a.reset(),o.reset()}return{buffers:{color:r,depth:a,stencil:o},enable:me,disable:ae,bindFramebuffer:N,drawBuffers:B,useProgram:U,setBlending:I,setMaterial:W,setFlipSided:$,setCullFace:Z,setLineWidth:ee,setPolygonOffset:ve,setScissorTest:le,activeTexture:V,bindTexture:k,unbindTexture:Q,compressedTexImage2D:re,compressedTexImage3D:pe,texImage2D:$e,texImage3D:Ze,updateUBOMapping:ne,uniformBlockBinding:Me,texStorage2D:ut,texStorage3D:Re,texSubImage2D:fe,texSubImage3D:ke,compressedTexSubImage2D:Oe,compressedTexSubImage3D:Ne,scissor:ct,viewport:Ye,reset:je}}function Vz(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Fz(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Bz(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function f0(t,e,n,i){const s=Uz(i);switch(n){case a_:return t*e;case l_:return t*e;case c_:return t*e*2;case Bp:return t*e/s.components*s.byteLength;case Jd:return t*e/s.components*s.byteLength;case u_:return t*e*2/s.components*s.byteLength;case Up:return t*e*2/s.components*s.byteLength;case o_:return t*e*3/s.components*s.byteLength;case pi:return t*e*4/s.components*s.byteLength;case zp:return t*e*4/s.components*s.byteLength;case Yu:case qu:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Ku:case Zu:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Rm:case km:return Math.max(t,16)*Math.max(e,8)/4;case Im:case Lm:return Math.max(t,8)*Math.max(e,8)/2;case Dm:case Om:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Nm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Vm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Fm:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Bm:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Um:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case zm:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Hm:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Gm:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Wm:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case $m:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case jm:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Xm:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Ym:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case qm:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Km:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Ju:case Zm:case Jm:return Math.ceil(t/4)*Math.ceil(e/4)*16;case d_:case Qm:return Math.ceil(t/4)*Math.ceil(e/4)*8;case ep:case tp:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Uz(t){switch(t){case Cs:case i_:return{byteLength:1,components:1};case Dc:case s_:case wl:return{byteLength:2,components:1};case Vp:case Fp:return{byteLength:2,components:4};case na:case Np:case Ki:return{byteLength:4,components:1};case r_:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const zz={contain:Vz,cover:Fz,fill:Bz,getByteLength:f0};function Hz(t,e,n,i,s,r,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Te,u=new WeakMap;let d;const h=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(V,k){return f?new OffscreenCanvas(V,k):bd("canvas")}function v(V,k,Q){let re=1;const pe=le(V);if((pe.width>Q||pe.height>Q)&&(re=Q/Math.max(pe.width,pe.height)),re<1)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap||typeof VideoFrame<"u"&&V instanceof VideoFrame){const fe=Math.floor(re*pe.width),ke=Math.floor(re*pe.height);d===void 0&&(d=m(fe,ke));const Oe=k?m(fe,ke):d;return Oe.width=fe,Oe.height=ke,Oe.getContext("2d").drawImage(V,0,0,fe,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+pe.width+"x"+pe.height+") to ("+fe+"x"+ke+")."),Oe}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+pe.width+"x"+pe.height+")."),V;return V}function p(V){return V.generateMipmaps}function g(V){t.generateMipmap(V)}function y(V){return V.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:V.isWebGL3DRenderTarget?t.TEXTURE_3D:V.isWebGLArrayRenderTarget||V.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function x(V,k,Q,re,pe=!1){if(V!==null){if(t[V]!==void 0)return t[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let fe=k;if(k===t.RED&&(Q===t.FLOAT&&(fe=t.R32F),Q===t.HALF_FLOAT&&(fe=t.R16F),Q===t.UNSIGNED_BYTE&&(fe=t.R8)),k===t.RED_INTEGER&&(Q===t.UNSIGNED_BYTE&&(fe=t.R8UI),Q===t.UNSIGNED_SHORT&&(fe=t.R16UI),Q===t.UNSIGNED_INT&&(fe=t.R32UI),Q===t.BYTE&&(fe=t.R8I),Q===t.SHORT&&(fe=t.R16I),Q===t.INT&&(fe=t.R32I)),k===t.RG&&(Q===t.FLOAT&&(fe=t.RG32F),Q===t.HALF_FLOAT&&(fe=t.RG16F),Q===t.UNSIGNED_BYTE&&(fe=t.RG8)),k===t.RG_INTEGER&&(Q===t.UNSIGNED_BYTE&&(fe=t.RG8UI),Q===t.UNSIGNED_SHORT&&(fe=t.RG16UI),Q===t.UNSIGNED_INT&&(fe=t.RG32UI),Q===t.BYTE&&(fe=t.RG8I),Q===t.SHORT&&(fe=t.RG16I),Q===t.INT&&(fe=t.RG32I)),k===t.RGB_INTEGER&&(Q===t.UNSIGNED_BYTE&&(fe=t.RGB8UI),Q===t.UNSIGNED_SHORT&&(fe=t.RGB16UI),Q===t.UNSIGNED_INT&&(fe=t.RGB32UI),Q===t.BYTE&&(fe=t.RGB8I),Q===t.SHORT&&(fe=t.RGB16I),Q===t.INT&&(fe=t.RGB32I)),k===t.RGBA_INTEGER&&(Q===t.UNSIGNED_BYTE&&(fe=t.RGBA8UI),Q===t.UNSIGNED_SHORT&&(fe=t.RGBA16UI),Q===t.UNSIGNED_INT&&(fe=t.RGBA32UI),Q===t.BYTE&&(fe=t.RGBA8I),Q===t.SHORT&&(fe=t.RGBA16I),Q===t.INT&&(fe=t.RGBA32I)),k===t.RGB&&Q===t.UNSIGNED_INT_5_9_9_9_REV&&(fe=t.RGB9_E5),k===t.RGBA){const ke=pe?Qd:kt.getTransfer(re);Q===t.FLOAT&&(fe=t.RGBA32F),Q===t.HALF_FLOAT&&(fe=t.RGBA16F),Q===t.UNSIGNED_BYTE&&(fe=ke===Jt?t.SRGB8_ALPHA8:t.RGBA8),Q===t.UNSIGNED_SHORT_4_4_4_4&&(fe=t.RGBA4),Q===t.UNSIGNED_SHORT_5_5_5_1&&(fe=t.RGB5_A1)}return(fe===t.R16F||fe===t.R32F||fe===t.RG16F||fe===t.RG32F||fe===t.RGBA16F||fe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),fe}function w(V,k){let Q;return V?k===null||k===na||k===rl?Q=t.DEPTH24_STENCIL8:k===Ki?Q=t.DEPTH32F_STENCIL8:k===Dc&&(Q=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):k===null||k===na||k===rl?Q=t.DEPTH_COMPONENT24:k===Ki?Q=t.DEPTH_COMPONENT32F:k===Dc&&(Q=t.DEPTH_COMPONENT16),Q}function E(V,k){return p(V)===!0||V.isFramebufferTexture&&V.minFilter!==Wn&&V.minFilter!==In?Math.log2(Math.max(k.width,k.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?k.mipmaps.length:1}function C(V){const k=V.target;k.removeEventListener("dispose",C),S(k),k.isVideoTexture&&u.delete(k)}function A(V){const k=V.target;k.removeEventListener("dispose",A),b(k)}function S(V){const k=i.get(V);if(k.__webglInit===void 0)return;const Q=V.source,re=h.get(Q);if(re){const pe=re[k.__cacheKey];pe.usedTimes--,pe.usedTimes===0&&_(V),Object.keys(re).length===0&&h.delete(Q)}i.remove(V)}function _(V){const k=i.get(V);t.deleteTexture(k.__webglTexture);const Q=V.source,re=h.get(Q);delete re[k.__cacheKey],a.memory.textures--}function b(V){const k=i.get(V);if(V.depthTexture&&(V.depthTexture.dispose(),i.remove(V.depthTexture)),V.isWebGLCubeRenderTarget)for(let re=0;re<6;re++){if(Array.isArray(k.__webglFramebuffer[re]))for(let pe=0;pe<k.__webglFramebuffer[re].length;pe++)t.deleteFramebuffer(k.__webglFramebuffer[re][pe]);else t.deleteFramebuffer(k.__webglFramebuffer[re]);k.__webglDepthbuffer&&t.deleteRenderbuffer(k.__webglDepthbuffer[re])}else{if(Array.isArray(k.__webglFramebuffer))for(let re=0;re<k.__webglFramebuffer.length;re++)t.deleteFramebuffer(k.__webglFramebuffer[re]);else t.deleteFramebuffer(k.__webglFramebuffer);if(k.__webglDepthbuffer&&t.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&t.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer)for(let re=0;re<k.__webglColorRenderbuffer.length;re++)k.__webglColorRenderbuffer[re]&&t.deleteRenderbuffer(k.__webglColorRenderbuffer[re]);k.__webglDepthRenderbuffer&&t.deleteRenderbuffer(k.__webglDepthRenderbuffer)}const Q=V.textures;for(let re=0,pe=Q.length;re<pe;re++){const fe=i.get(Q[re]);fe.__webglTexture&&(t.deleteTexture(fe.__webglTexture),a.memory.textures--),i.remove(Q[re])}i.remove(V)}let T=0;function P(){T=0}function D(){const V=T;return V>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+s.maxTextures),T+=1,V}function O(V){const k=[];return k.push(V.wrapS),k.push(V.wrapT),k.push(V.wrapR||0),k.push(V.magFilter),k.push(V.minFilter),k.push(V.anisotropy),k.push(V.internalFormat),k.push(V.format),k.push(V.type),k.push(V.generateMipmaps),k.push(V.premultiplyAlpha),k.push(V.flipY),k.push(V.unpackAlignment),k.push(V.colorSpace),k.join()}function H(V,k){const Q=i.get(V);if(V.isVideoTexture&&ee(V),V.isRenderTargetTexture===!1&&V.version>0&&Q.__version!==V.version){const re=V.image;if(re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ie(Q,V,k);return}}n.bindTexture(t.TEXTURE_2D,Q.__webglTexture,t.TEXTURE0+k)}function F(V,k){const Q=i.get(V);if(V.version>0&&Q.__version!==V.version){ie(Q,V,k);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Q.__webglTexture,t.TEXTURE0+k)}function K(V,k){const Q=i.get(V);if(V.version>0&&Q.__version!==V.version){ie(Q,V,k);return}n.bindTexture(t.TEXTURE_3D,Q.__webglTexture,t.TEXTURE0+k)}function j(V,k){const Q=i.get(V);if(V.version>0&&Q.__version!==V.version){ye(Q,V,k);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+k)}const X={[ta]:t.REPEAT,[qi]:t.CLAMP_TO_EDGE,[sl]:t.MIRRORED_REPEAT},Y={[Wn]:t.NEAREST,[Zd]:t.NEAREST_MIPMAP_NEAREST,[Fa]:t.NEAREST_MIPMAP_LINEAR,[In]:t.LINEAR,[Wo]:t.LINEAR_MIPMAP_NEAREST,[as]:t.LINEAR_MIPMAP_LINEAR},J={[PA]:t.NEVER,[OA]:t.ALWAYS,[IA]:t.LESS,[m_]:t.LEQUAL,[RA]:t.EQUAL,[DA]:t.GEQUAL,[LA]:t.GREATER,[kA]:t.NOTEQUAL};function de(V,k){if(k.type===Ki&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===In||k.magFilter===Wo||k.magFilter===Fa||k.magFilter===as||k.minFilter===In||k.minFilter===Wo||k.minFilter===Fa||k.minFilter===as)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(V,t.TEXTURE_WRAP_S,X[k.wrapS]),t.texParameteri(V,t.TEXTURE_WRAP_T,X[k.wrapT]),(V===t.TEXTURE_3D||V===t.TEXTURE_2D_ARRAY)&&t.texParameteri(V,t.TEXTURE_WRAP_R,X[k.wrapR]),t.texParameteri(V,t.TEXTURE_MAG_FILTER,Y[k.magFilter]),t.texParameteri(V,t.TEXTURE_MIN_FILTER,Y[k.minFilter]),k.compareFunction&&(t.texParameteri(V,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(V,t.TEXTURE_COMPARE_FUNC,J[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(k.magFilter===Wn||k.minFilter!==Fa&&k.minFilter!==as||k.type===Ki&&e.has("OES_texture_float_linear")===!1)return;if(k.anisotropy>1||i.get(k).__currentAnisotropy){const Q=e.get("EXT_texture_filter_anisotropic");t.texParameterf(V,Q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,s.getMaxAnisotropy())),i.get(k).__currentAnisotropy=k.anisotropy}}}function Le(V,k){let Q=!1;V.__webglInit===void 0&&(V.__webglInit=!0,k.addEventListener("dispose",C));const re=k.source;let pe=h.get(re);pe===void 0&&(pe={},h.set(re,pe));const fe=O(k);if(fe!==V.__cacheKey){pe[fe]===void 0&&(pe[fe]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,Q=!0),pe[fe].usedTimes++;const ke=pe[V.__cacheKey];ke!==void 0&&(pe[V.__cacheKey].usedTimes--,ke.usedTimes===0&&_(k)),V.__cacheKey=fe,V.__webglTexture=pe[fe].texture}return Q}function ie(V,k,Q){let re=t.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(re=t.TEXTURE_2D_ARRAY),k.isData3DTexture&&(re=t.TEXTURE_3D);const pe=Le(V,k),fe=k.source;n.bindTexture(re,V.__webglTexture,t.TEXTURE0+Q);const ke=i.get(fe);if(fe.version!==ke.__version||pe===!0){n.activeTexture(t.TEXTURE0+Q);const Oe=kt.getPrimaries(kt.workingColorSpace),Ne=k.colorSpace===Hr?null:kt.getPrimaries(k.colorSpace),ut=k.colorSpace===Hr||Oe===Ne?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ut);let Re=v(k.image,!1,s.maxTextureSize);Re=ve(k,Re);const $e=r.convert(k.format,k.colorSpace),Ze=r.convert(k.type);let ct=x(k.internalFormat,$e,Ze,k.colorSpace,k.isVideoTexture);de(re,k);let Ye;const ne=k.mipmaps,Me=k.isVideoTexture!==!0,je=ke.__version===void 0||pe===!0,te=fe.dataReady,Fe=E(k,Re);if(k.isDepthTexture)ct=w(k.format===al,k.type),je&&(Me?n.texStorage2D(t.TEXTURE_2D,1,ct,Re.width,Re.height):n.texImage2D(t.TEXTURE_2D,0,ct,Re.width,Re.height,0,$e,Ze,null));else if(k.isDataTexture)if(ne.length>0){Me&&je&&n.texStorage2D(t.TEXTURE_2D,Fe,ct,ne[0].width,ne[0].height);for(let we=0,Ie=ne.length;we<Ie;we++)Ye=ne[we],Me?te&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,Ye.width,Ye.height,$e,Ze,Ye.data):n.texImage2D(t.TEXTURE_2D,we,ct,Ye.width,Ye.height,0,$e,Ze,Ye.data);k.generateMipmaps=!1}else Me?(je&&n.texStorage2D(t.TEXTURE_2D,Fe,ct,Re.width,Re.height),te&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Re.width,Re.height,$e,Ze,Re.data)):n.texImage2D(t.TEXTURE_2D,0,ct,Re.width,Re.height,0,$e,Ze,Re.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){Me&&je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Fe,ct,ne[0].width,ne[0].height,Re.depth);for(let we=0,Ie=ne.length;we<Ie;we++)if(Ye=ne[we],k.format!==pi)if($e!==null)if(Me){if(te)if(k.layerUpdates.size>0){const Xe=f0(Ye.width,Ye.height,k.format,k.type);for(const He of k.layerUpdates){const dt=Ye.data.subarray(He*Xe/Ye.data.BYTES_PER_ELEMENT,(He+1)*Xe/Ye.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,He,Ye.width,Ye.height,1,$e,dt)}k.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,0,Ye.width,Ye.height,Re.depth,$e,Ye.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,we,ct,Ye.width,Ye.height,Re.depth,0,Ye.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?te&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,0,Ye.width,Ye.height,Re.depth,$e,Ze,Ye.data):n.texImage3D(t.TEXTURE_2D_ARRAY,we,ct,Ye.width,Ye.height,Re.depth,0,$e,Ze,Ye.data)}else{Me&&je&&n.texStorage2D(t.TEXTURE_2D,Fe,ct,ne[0].width,ne[0].height);for(let we=0,Ie=ne.length;we<Ie;we++)Ye=ne[we],k.format!==pi?$e!==null?Me?te&&n.compressedTexSubImage2D(t.TEXTURE_2D,we,0,0,Ye.width,Ye.height,$e,Ye.data):n.compressedTexImage2D(t.TEXTURE_2D,we,ct,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?te&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,Ye.width,Ye.height,$e,Ze,Ye.data):n.texImage2D(t.TEXTURE_2D,we,ct,Ye.width,Ye.height,0,$e,Ze,Ye.data)}else if(k.isDataArrayTexture)if(Me){if(je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Fe,ct,Re.width,Re.height,Re.depth),te)if(k.layerUpdates.size>0){const we=f0(Re.width,Re.height,k.format,k.type);for(const Ie of k.layerUpdates){const Xe=Re.data.subarray(Ie*we/Re.data.BYTES_PER_ELEMENT,(Ie+1)*we/Re.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ie,Re.width,Re.height,1,$e,Ze,Xe)}k.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,$e,Ze,Re.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ct,Re.width,Re.height,Re.depth,0,$e,Ze,Re.data);else if(k.isData3DTexture)Me?(je&&n.texStorage3D(t.TEXTURE_3D,Fe,ct,Re.width,Re.height,Re.depth),te&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,$e,Ze,Re.data)):n.texImage3D(t.TEXTURE_3D,0,ct,Re.width,Re.height,Re.depth,0,$e,Ze,Re.data);else if(k.isFramebufferTexture){if(je)if(Me)n.texStorage2D(t.TEXTURE_2D,Fe,ct,Re.width,Re.height);else{let we=Re.width,Ie=Re.height;for(let Xe=0;Xe<Fe;Xe++)n.texImage2D(t.TEXTURE_2D,Xe,ct,we,Ie,0,$e,Ze,null),we>>=1,Ie>>=1}}else if(ne.length>0){if(Me&&je){const we=le(ne[0]);n.texStorage2D(t.TEXTURE_2D,Fe,ct,we.width,we.height)}for(let we=0,Ie=ne.length;we<Ie;we++)Ye=ne[we],Me?te&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,$e,Ze,Ye):n.texImage2D(t.TEXTURE_2D,we,ct,$e,Ze,Ye);k.generateMipmaps=!1}else if(Me){if(je){const we=le(Re);n.texStorage2D(t.TEXTURE_2D,Fe,ct,we.width,we.height)}te&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,$e,Ze,Re)}else n.texImage2D(t.TEXTURE_2D,0,ct,$e,Ze,Re);p(k)&&g(re),ke.__version=fe.version,k.onUpdate&&k.onUpdate(k)}V.__version=k.version}function ye(V,k,Q){if(k.image.length!==6)return;const re=Le(V,k),pe=k.source;n.bindTexture(t.TEXTURE_CUBE_MAP,V.__webglTexture,t.TEXTURE0+Q);const fe=i.get(pe);if(pe.version!==fe.__version||re===!0){n.activeTexture(t.TEXTURE0+Q);const ke=kt.getPrimaries(kt.workingColorSpace),Oe=k.colorSpace===Hr?null:kt.getPrimaries(k.colorSpace),Ne=k.colorSpace===Hr||ke===Oe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ne);const ut=k.isCompressedTexture||k.image[0].isCompressedTexture,Re=k.image[0]&&k.image[0].isDataTexture,$e=[];for(let Ie=0;Ie<6;Ie++)!ut&&!Re?$e[Ie]=v(k.image[Ie],!0,s.maxCubemapSize):$e[Ie]=Re?k.image[Ie].image:k.image[Ie],$e[Ie]=ve(k,$e[Ie]);const Ze=$e[0],ct=r.convert(k.format,k.colorSpace),Ye=r.convert(k.type),ne=x(k.internalFormat,ct,Ye,k.colorSpace),Me=k.isVideoTexture!==!0,je=fe.__version===void 0||re===!0,te=pe.dataReady;let Fe=E(k,Ze);de(t.TEXTURE_CUBE_MAP,k);let we;if(ut){Me&&je&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Fe,ne,Ze.width,Ze.height);for(let Ie=0;Ie<6;Ie++){we=$e[Ie].mipmaps;for(let Xe=0;Xe<we.length;Xe++){const He=we[Xe];k.format!==pi?ct!==null?Me?te&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe,0,0,He.width,He.height,ct,He.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe,ne,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe,0,0,He.width,He.height,ct,Ye,He.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe,ne,He.width,He.height,0,ct,Ye,He.data)}}}else{if(we=k.mipmaps,Me&&je){we.length>0&&Fe++;const Ie=le($e[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Fe,ne,Ie.width,Ie.height)}for(let Ie=0;Ie<6;Ie++)if(Re){Me?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,$e[Ie].width,$e[Ie].height,ct,Ye,$e[Ie].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,ne,$e[Ie].width,$e[Ie].height,0,ct,Ye,$e[Ie].data);for(let Xe=0;Xe<we.length;Xe++){const dt=we[Xe].image[Ie].image;Me?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe+1,0,0,dt.width,dt.height,ct,Ye,dt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe+1,ne,dt.width,dt.height,0,ct,Ye,dt.data)}}else{Me?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,ct,Ye,$e[Ie]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,ne,ct,Ye,$e[Ie]);for(let Xe=0;Xe<we.length;Xe++){const He=we[Xe];Me?te&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe+1,0,0,ct,Ye,He.image[Ie]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe+1,ne,ct,Ye,He.image[Ie])}}}p(k)&&g(t.TEXTURE_CUBE_MAP),fe.__version=pe.version,k.onUpdate&&k.onUpdate(k)}V.__version=k.version}function se(V,k,Q,re,pe,fe){const ke=r.convert(Q.format,Q.colorSpace),Oe=r.convert(Q.type),Ne=x(Q.internalFormat,ke,Oe,Q.colorSpace),ut=i.get(k),Re=i.get(Q);if(Re.__renderTarget=k,!ut.__hasExternalTextures){const $e=Math.max(1,k.width>>fe),Ze=Math.max(1,k.height>>fe);pe===t.TEXTURE_3D||pe===t.TEXTURE_2D_ARRAY?n.texImage3D(pe,fe,Ne,$e,Ze,k.depth,0,ke,Oe,null):n.texImage2D(pe,fe,Ne,$e,Ze,0,ke,Oe,null)}n.bindFramebuffer(t.FRAMEBUFFER,V),Z(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,re,pe,Re.__webglTexture,0,$(k)):(pe===t.TEXTURE_2D||pe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&pe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,re,pe,Re.__webglTexture,fe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function me(V,k,Q){if(t.bindRenderbuffer(t.RENDERBUFFER,V),k.depthBuffer){const re=k.depthTexture,pe=re&&re.isDepthTexture?re.type:null,fe=w(k.stencilBuffer,pe),ke=k.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=$(k);Z(k)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Oe,fe,k.width,k.height):Q?t.renderbufferStorageMultisample(t.RENDERBUFFER,Oe,fe,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,fe,k.width,k.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ke,t.RENDERBUFFER,V)}else{const re=k.textures;for(let pe=0;pe<re.length;pe++){const fe=re[pe],ke=r.convert(fe.format,fe.colorSpace),Oe=r.convert(fe.type),Ne=x(fe.internalFormat,ke,Oe,fe.colorSpace),ut=$(k);Q&&Z(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ut,Ne,k.width,k.height):Z(k)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ut,Ne,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,Ne,k.width,k.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ae(V,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,V),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const re=i.get(k.depthTexture);re.__renderTarget=k,(!re.__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),H(k.depthTexture,0);const pe=re.__webglTexture,fe=$(k);if(k.depthTexture.format===$o)Z(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,pe,0,fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,pe,0);else if(k.depthTexture.format===al)Z(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,pe,0,fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,pe,0);else throw new Error("Unknown depthTexture format")}function N(V){const k=i.get(V),Q=V.isWebGLCubeRenderTarget===!0;if(k.__boundDepthTexture!==V.depthTexture){const re=V.depthTexture;if(k.__depthDisposeCallback&&k.__depthDisposeCallback(),re){const pe=()=>{delete k.__boundDepthTexture,delete k.__depthDisposeCallback,re.removeEventListener("dispose",pe)};re.addEventListener("dispose",pe),k.__depthDisposeCallback=pe}k.__boundDepthTexture=re}if(V.depthTexture&&!k.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");ae(k.__webglFramebuffer,V)}else if(Q){k.__webglDepthbuffer=[];for(let re=0;re<6;re++)if(n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer[re]),k.__webglDepthbuffer[re]===void 0)k.__webglDepthbuffer[re]=t.createRenderbuffer(),me(k.__webglDepthbuffer[re],V,!1);else{const pe=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,fe=k.__webglDepthbuffer[re];t.bindRenderbuffer(t.RENDERBUFFER,fe),t.framebufferRenderbuffer(t.FRAMEBUFFER,pe,t.RENDERBUFFER,fe)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer===void 0)k.__webglDepthbuffer=t.createRenderbuffer(),me(k.__webglDepthbuffer,V,!1);else{const re=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,pe=k.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,pe),t.framebufferRenderbuffer(t.FRAMEBUFFER,re,t.RENDERBUFFER,pe)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function B(V,k,Q){const re=i.get(V);k!==void 0&&se(re.__webglFramebuffer,V,V.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Q!==void 0&&N(V)}function U(V){const k=V.texture,Q=i.get(V),re=i.get(k);V.addEventListener("dispose",A);const pe=V.textures,fe=V.isWebGLCubeRenderTarget===!0,ke=pe.length>1;if(ke||(re.__webglTexture===void 0&&(re.__webglTexture=t.createTexture()),re.__version=k.version,a.memory.textures++),fe){Q.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)if(k.mipmaps&&k.mipmaps.length>0){Q.__webglFramebuffer[Oe]=[];for(let Ne=0;Ne<k.mipmaps.length;Ne++)Q.__webglFramebuffer[Oe][Ne]=t.createFramebuffer()}else Q.__webglFramebuffer[Oe]=t.createFramebuffer()}else{if(k.mipmaps&&k.mipmaps.length>0){Q.__webglFramebuffer=[];for(let Oe=0;Oe<k.mipmaps.length;Oe++)Q.__webglFramebuffer[Oe]=t.createFramebuffer()}else Q.__webglFramebuffer=t.createFramebuffer();if(ke)for(let Oe=0,Ne=pe.length;Oe<Ne;Oe++){const ut=i.get(pe[Oe]);ut.__webglTexture===void 0&&(ut.__webglTexture=t.createTexture(),a.memory.textures++)}if(V.samples>0&&Z(V)===!1){Q.__webglMultisampledFramebuffer=t.createFramebuffer(),Q.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglMultisampledFramebuffer);for(let Oe=0;Oe<pe.length;Oe++){const Ne=pe[Oe];Q.__webglColorRenderbuffer[Oe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Q.__webglColorRenderbuffer[Oe]);const ut=r.convert(Ne.format,Ne.colorSpace),Re=r.convert(Ne.type),$e=x(Ne.internalFormat,ut,Re,Ne.colorSpace,V.isXRRenderTarget===!0),Ze=$(V);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ze,$e,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.RENDERBUFFER,Q.__webglColorRenderbuffer[Oe])}t.bindRenderbuffer(t.RENDERBUFFER,null),V.depthBuffer&&(Q.__webglDepthRenderbuffer=t.createRenderbuffer(),me(Q.__webglDepthRenderbuffer,V,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(fe){n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture),de(t.TEXTURE_CUBE_MAP,k);for(let Oe=0;Oe<6;Oe++)if(k.mipmaps&&k.mipmaps.length>0)for(let Ne=0;Ne<k.mipmaps.length;Ne++)se(Q.__webglFramebuffer[Oe][Ne],V,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,Ne);else se(Q.__webglFramebuffer[Oe],V,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,0);p(k)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ke){for(let Oe=0,Ne=pe.length;Oe<Ne;Oe++){const ut=pe[Oe],Re=i.get(ut);n.bindTexture(t.TEXTURE_2D,Re.__webglTexture),de(t.TEXTURE_2D,ut),se(Q.__webglFramebuffer,V,ut,t.COLOR_ATTACHMENT0+Oe,t.TEXTURE_2D,0),p(ut)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let Oe=t.TEXTURE_2D;if((V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(Oe=V.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Oe,re.__webglTexture),de(Oe,k),k.mipmaps&&k.mipmaps.length>0)for(let Ne=0;Ne<k.mipmaps.length;Ne++)se(Q.__webglFramebuffer[Ne],V,k,t.COLOR_ATTACHMENT0,Oe,Ne);else se(Q.__webglFramebuffer,V,k,t.COLOR_ATTACHMENT0,Oe,0);p(k)&&g(Oe),n.unbindTexture()}V.depthBuffer&&N(V)}function q(V){const k=V.textures;for(let Q=0,re=k.length;Q<re;Q++){const pe=k[Q];if(p(pe)){const fe=y(V),ke=i.get(pe).__webglTexture;n.bindTexture(fe,ke),g(fe),n.unbindTexture()}}}const R=[],I=[];function W(V){if(V.samples>0){if(Z(V)===!1){const k=V.textures,Q=V.width,re=V.height;let pe=t.COLOR_BUFFER_BIT;const fe=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ke=i.get(V),Oe=k.length>1;if(Oe)for(let Ne=0;Ne<k.length;Ne++)n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ke.__webglFramebuffer);for(let Ne=0;Ne<k.length;Ne++){if(V.resolveDepthBuffer&&(V.depthBuffer&&(pe|=t.DEPTH_BUFFER_BIT),V.stencilBuffer&&V.resolveStencilBuffer&&(pe|=t.STENCIL_BUFFER_BIT)),Oe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ke.__webglColorRenderbuffer[Ne]);const ut=i.get(k[Ne]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ut,0)}t.blitFramebuffer(0,0,Q,re,0,0,Q,re,pe,t.NEAREST),l===!0&&(R.length=0,I.length=0,R.push(t.COLOR_ATTACHMENT0+Ne),V.depthBuffer&&V.resolveDepthBuffer===!1&&(R.push(fe),I.push(fe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,I)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,R))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Oe)for(let Ne=0;Ne<k.length;Ne++){n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.RENDERBUFFER,ke.__webglColorRenderbuffer[Ne]);const ut=i.get(k[Ne]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.TEXTURE_2D,ut,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ke.__webglMultisampledFramebuffer)}else if(V.depthBuffer&&V.resolveDepthBuffer===!1&&l){const k=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[k])}}}function $(V){return Math.min(s.maxSamples,V.samples)}function Z(V){const k=i.get(V);return V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function ee(V){const k=a.render.frame;u.get(V)!==k&&(u.set(V,k),V.update())}function ve(V,k){const Q=V.colorSpace,re=V.format,pe=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||Q!==Sl&&Q!==Hr&&(kt.getTransfer(Q)===Jt?(re!==pi||pe!==Cs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Q)),k}function le(V){return typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement?(c.width=V.naturalWidth||V.width,c.height=V.naturalHeight||V.height):typeof VideoFrame<"u"&&V instanceof VideoFrame?(c.width=V.displayWidth,c.height=V.displayHeight):(c.width=V.width,c.height=V.height),c}this.allocateTextureUnit=D,this.resetTextureUnits=P,this.setTexture2D=H,this.setTexture2DArray=F,this.setTexture3D=K,this.setTextureCube=j,this.rebindTextures=B,this.setupRenderTarget=U,this.updateRenderTargetMipmap=q,this.updateMultisampleRenderTarget=W,this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=se,this.useMultisampledRTT=Z}function qA(t,e){function n(i,s=Hr){let r;const a=kt.getTransfer(s);if(i===Cs)return t.UNSIGNED_BYTE;if(i===Vp)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Fp)return t.UNSIGNED_SHORT_5_5_5_1;if(i===r_)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===i_)return t.BYTE;if(i===s_)return t.SHORT;if(i===Dc)return t.UNSIGNED_SHORT;if(i===Np)return t.INT;if(i===na)return t.UNSIGNED_INT;if(i===Ki)return t.FLOAT;if(i===wl)return t.HALF_FLOAT;if(i===a_)return t.ALPHA;if(i===o_)return t.RGB;if(i===pi)return t.RGBA;if(i===l_)return t.LUMINANCE;if(i===c_)return t.LUMINANCE_ALPHA;if(i===$o)return t.DEPTH_COMPONENT;if(i===al)return t.DEPTH_STENCIL;if(i===Bp)return t.RED;if(i===Jd)return t.RED_INTEGER;if(i===u_)return t.RG;if(i===Up)return t.RG_INTEGER;if(i===zp)return t.RGBA_INTEGER;if(i===Yu||i===qu||i===Ku||i===Zu)if(a===Jt)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===Yu)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===qu)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Ku)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Zu)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===Yu)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===qu)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ku)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Zu)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Im||i===Rm||i===Lm||i===km)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===Im)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Rm)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Lm)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===km)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Dm||i===Om||i===Nm)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===Dm||i===Om)return a===Jt?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===Nm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Vm||i===Fm||i===Bm||i===Um||i===zm||i===Hm||i===Gm||i===Wm||i===$m||i===jm||i===Xm||i===Ym||i===qm||i===Km)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Vm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Fm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Bm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Um)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===zm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Hm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Gm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Wm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===$m)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===jm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Xm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Ym)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===qm)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Km)return a===Jt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ju||i===Zm||i===Jm)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===Ju)return a===Jt?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Zm)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Jm)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===d_||i===Qm||i===ep||i===tp)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===Ju)return r.COMPRESSED_RED_RGTC1_EXT;if(i===Qm)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===ep)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===tp)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===rl?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class KA extends Qt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Wr extends Nt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gz={type:"move"};class Gg{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Wr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Wr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Wr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let s=null,r=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const v of e.hand.values()){const p=n.getJointPose(v,i),g=this._getHandJoint(c,v);p!==null&&(g.matrix.fromArray(p.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=p.radius),g.visible=p!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),f=.02,m=.005;c.inputState.pinching&&h>f+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,i),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(s=n.getPose(e.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(o.matrix.fromArray(s.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,s.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(s.linearVelocity)):o.hasLinearVelocity=!1,s.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(s.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Gz)))}return o!==null&&(o.visible=s!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Wr;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const Wz=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,$z=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class jz{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const s=new un,r=e.properties.get(s);r.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Ui({vertexShader:Wz,fragmentShader:$z,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new nn(new Ja(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Xz extends $s{constructor(e,n){super();const i=this;let s=null,r=1,a=null,o="local-floor",l=1,c=null,u=null,d=null,h=null,f=null,m=null;const v=new jz,p=n.getContextAttributes();let g=null,y=null;const x=[],w=[],E=new Te;let C=null;const A=new Qt;A.viewport=new Tt;const S=new Qt;S.viewport=new Tt;const _=[A,S],b=new KA;let T=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let ye=x[ie];return ye===void 0&&(ye=new Gg,x[ie]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(ie){let ye=x[ie];return ye===void 0&&(ye=new Gg,x[ie]=ye),ye.getGripSpace()},this.getHand=function(ie){let ye=x[ie];return ye===void 0&&(ye=new Gg,x[ie]=ye),ye.getHandSpace()};function D(ie){const ye=w.indexOf(ie.inputSource);if(ye===-1)return;const se=x[ye];se!==void 0&&(se.update(ie.inputSource,ie.frame,c||a),se.dispatchEvent({type:ie.type,data:ie.inputSource}))}function O(){s.removeEventListener("select",D),s.removeEventListener("selectstart",D),s.removeEventListener("selectend",D),s.removeEventListener("squeeze",D),s.removeEventListener("squeezestart",D),s.removeEventListener("squeezeend",D),s.removeEventListener("end",O),s.removeEventListener("inputsourceschange",H);for(let ie=0;ie<x.length;ie++){const ye=w[ie];ye!==null&&(w[ie]=null,x[ie].disconnect(ye))}T=null,P=null,v.reset(),e.setRenderTarget(g),f=null,h=null,d=null,s=null,y=null,Le.stop(),i.isPresenting=!1,e.setPixelRatio(C),e.setSize(E.width,E.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){r=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){o=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ie){c=ie},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return s},this.setSession=async function(ie){if(s=ie,s!==null){if(g=e.getRenderTarget(),s.addEventListener("select",D),s.addEventListener("selectstart",D),s.addEventListener("selectend",D),s.addEventListener("squeeze",D),s.addEventListener("squeezestart",D),s.addEventListener("squeezeend",D),s.addEventListener("end",O),s.addEventListener("inputsourceschange",H),p.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(E),s.renderState.layers===void 0){const ye={antialias:p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r};f=new XRWebGLLayer(s,n,ye),s.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),y=new Ts(f.framebufferWidth,f.framebufferHeight,{format:pi,type:Cs,colorSpace:e.outputColorSpace,stencilBuffer:p.stencil})}else{let ye=null,se=null,me=null;p.depth&&(me=p.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ye=p.stencil?al:$o,se=p.stencil?rl:na);const ae={colorFormat:n.RGBA8,depthFormat:me,scaleFactor:r};d=new XRWebGLBinding(s,n),h=d.createProjectionLayer(ae),s.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),y=new Ts(h.textureWidth,h.textureHeight,{format:pi,type:Cs,depthTexture:new __(h.textureWidth,h.textureHeight,se,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:p.stencil,colorSpace:e.outputColorSpace,samples:p.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await s.requestReferenceSpace(o),Le.setContext(s),Le.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function H(ie){for(let ye=0;ye<ie.removed.length;ye++){const se=ie.removed[ye],me=w.indexOf(se);me>=0&&(w[me]=null,x[me].disconnect(se))}for(let ye=0;ye<ie.added.length;ye++){const se=ie.added[ye];let me=w.indexOf(se);if(me===-1){for(let N=0;N<x.length;N++)if(N>=w.length){w.push(se),me=N;break}else if(w[N]===null){w[N]=se,me=N;break}if(me===-1)break}const ae=x[me];ae&&ae.connect(se)}}const F=new G,K=new G;function j(ie,ye,se){F.setFromMatrixPosition(ye.matrixWorld),K.setFromMatrixPosition(se.matrixWorld);const me=F.distanceTo(K),ae=ye.projectionMatrix.elements,N=se.projectionMatrix.elements,B=ae[14]/(ae[10]-1),U=ae[14]/(ae[10]+1),q=(ae[9]+1)/ae[5],R=(ae[9]-1)/ae[5],I=(ae[8]-1)/ae[0],W=(N[8]+1)/N[0],$=B*I,Z=B*W,ee=me/(-I+W),ve=ee*-I;if(ye.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(ve),ie.translateZ(ee),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert(),ae[10]===-1)ie.projectionMatrix.copy(ye.projectionMatrix),ie.projectionMatrixInverse.copy(ye.projectionMatrixInverse);else{const le=B+ee,V=U+ee,k=$-ve,Q=Z+(me-ve),re=q*U/V*le,pe=R*U/V*le;ie.projectionMatrix.makePerspective(k,Q,re,pe,le,V),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}}function X(ie,ye){ye===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(ye.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(s===null)return;let ye=ie.near,se=ie.far;v.texture!==null&&(v.depthNear>0&&(ye=v.depthNear),v.depthFar>0&&(se=v.depthFar)),b.near=S.near=A.near=ye,b.far=S.far=A.far=se,(T!==b.near||P!==b.far)&&(s.updateRenderState({depthNear:b.near,depthFar:b.far}),T=b.near,P=b.far),A.layers.mask=ie.layers.mask|2,S.layers.mask=ie.layers.mask|4,b.layers.mask=A.layers.mask|S.layers.mask;const me=ie.parent,ae=b.cameras;X(b,me);for(let N=0;N<ae.length;N++)X(ae[N],me);ae.length===2?j(b,A,S):b.projectionMatrix.copy(A.projectionMatrix),Y(ie,b,me)};function Y(ie,ye,se){se===null?ie.matrix.copy(ye.matrixWorld):(ie.matrix.copy(se.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(ye.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0),ie.projectionMatrix.copy(ye.projectionMatrix),ie.projectionMatrixInverse.copy(ye.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=Oc*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}this.getCamera=function(){return b},this.getFoveation=function(){if(!(h===null&&f===null))return l},this.setFoveation=function(ie){l=ie,h!==null&&(h.fixedFoveation=ie),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=ie)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(b)};let J=null;function de(ie,ye){if(u=ye.getViewerPose(c||a),m=ye,u!==null){const se=u.views;f!==null&&(e.setRenderTargetFramebuffer(y,f.framebuffer),e.setRenderTarget(y));let me=!1;se.length!==b.cameras.length&&(b.cameras.length=0,me=!0);for(let N=0;N<se.length;N++){const B=se[N];let U=null;if(f!==null)U=f.getViewport(B);else{const R=d.getViewSubImage(h,B);U=R.viewport,N===0&&(e.setRenderTargetTextures(y,R.colorTexture,h.ignoreDepthValues?void 0:R.depthStencilTexture),e.setRenderTarget(y))}let q=_[N];q===void 0&&(q=new Qt,q.layers.enable(N),q.viewport=new Tt,_[N]=q),q.matrix.fromArray(B.transform.matrix),q.matrix.decompose(q.position,q.quaternion,q.scale),q.projectionMatrix.fromArray(B.projectionMatrix),q.projectionMatrixInverse.copy(q.projectionMatrix).invert(),q.viewport.set(U.x,U.y,U.width,U.height),N===0&&(b.matrix.copy(q.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),me===!0&&b.cameras.push(q)}const ae=s.enabledFeatures;if(ae&&ae.includes("depth-sensing")){const N=d.getDepthInformation(se[0]);N&&N.isValid&&N.texture&&v.init(e,N,s.renderState)}}for(let se=0;se<x.length;se++){const me=w[se],ae=x[se];me!==null&&ae!==void 0&&ae.update(me,ye,c||a)}J&&J(ie,ye),ye.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ye}),m=null}const Le=new WA;Le.setAnimationLoop(de),this.setAnimationLoop=function(ie){J=ie},this.dispose=function(){}}}const mo=new Bi,Yz=new lt;function qz(t,e){function n(p,g){p.matrixAutoUpdate===!0&&p.updateMatrix(),g.value.copy(p.matrix)}function i(p,g){g.color.getRGB(p.fogColor.value,zA(t)),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function s(p,g,y,x,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(p,g):g.isMeshToonMaterial?(r(p,g),d(p,g)):g.isMeshPhongMaterial?(r(p,g),u(p,g)):g.isMeshStandardMaterial?(r(p,g),h(p,g),g.isMeshPhysicalMaterial&&f(p,g,w)):g.isMeshMatcapMaterial?(r(p,g),m(p,g)):g.isMeshDepthMaterial?r(p,g):g.isMeshDistanceMaterial?(r(p,g),v(p,g)):g.isMeshNormalMaterial?r(p,g):g.isLineBasicMaterial?(a(p,g),g.isLineDashedMaterial&&o(p,g)):g.isPointsMaterial?l(p,g,y,x):g.isSpriteMaterial?c(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function r(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map,n(g.map,p.mapTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.bumpMap&&(p.bumpMap.value=g.bumpMap,n(g.bumpMap,p.bumpMapTransform),p.bumpScale.value=g.bumpScale,g.side===yi&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,n(g.normalMap,p.normalMapTransform),p.normalScale.value.copy(g.normalScale),g.side===yi&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,n(g.displacementMap,p.displacementMapTransform),p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,p.emissiveMapTransform)),g.specularMap&&(p.specularMap.value=g.specularMap,n(g.specularMap,p.specularMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);const y=e.get(g),x=y.envMap,w=y.envMapRotation;x&&(p.envMap.value=x,mo.copy(w),mo.x*=-1,mo.y*=-1,mo.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(mo.y*=-1,mo.z*=-1),p.envMapRotation.value.setFromMatrix4(Yz.makeRotationFromEuler(mo)),p.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap&&(p.lightMap.value=g.lightMap,p.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,p.lightMapTransform)),g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,p.aoMapTransform))}function a(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,g.map&&(p.map.value=g.map,n(g.map,p.mapTransform))}function o(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function l(p,g,y,x){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*y,p.scale.value=x*.5,g.map&&(p.map.value=g.map,n(g.map,p.uvTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest)}function c(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map,n(g.map,p.mapTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest)}function u(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4)}function d(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap)}function h(p,g){p.metalness.value=g.metalness,g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,p.metalnessMapTransform)),p.roughness.value=g.roughness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,p.roughnessMapTransform)),g.envMap&&(p.envMapIntensity.value=g.envMapIntensity)}function f(p,g,y){p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,p.sheenColorMapTransform)),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,p.sheenRoughnessMapTransform))),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,p.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,p.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(p.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,p.clearcoatNormalMapTransform),p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===yi&&p.clearcoatNormalScale.value.negate())),g.dispersion>0&&(p.dispersion.value=g.dispersion),g.iridescence>0&&(p.iridescence.value=g.iridescence,p.iridescenceIOR.value=g.iridescenceIOR,p.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(p.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,p.iridescenceMapTransform)),g.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,p.iridescenceThicknessMapTransform))),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=y.texture,p.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,p.transmissionMapTransform)),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,p.thicknessMapTransform)),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(p.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(p.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,p.anisotropyMapTransform))),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,p.specularColorMapTransform)),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,p.specularIntensityMapTransform))}function m(p,g){g.matcap&&(p.matcap.value=g.matcap)}function v(p,g){const y=e.get(g).light;p.referencePosition.value.setFromMatrixPosition(y.matrixWorld),p.nearDistance.value=y.shadow.camera.near,p.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function Kz(t,e,n,i){let s={},r={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,x){const w=x.program;i.uniformBlockBinding(y,w)}function c(y,x){let w=s[y.id];w===void 0&&(m(y),w=u(y),s[y.id]=w,y.addEventListener("dispose",p));const E=x.program;i.updateUBOMapping(y,E);const C=e.render.frame;r[y.id]!==C&&(h(y),r[y.id]=C)}function u(y){const x=d();y.__bindingPointIndex=x;const w=t.createBuffer(),E=y.__size,C=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,E,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,x,w),w}function d(){for(let y=0;y<o;y++)if(a.indexOf(y)===-1)return a.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(y){const x=s[y.id],w=y.uniforms,E=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,x);for(let C=0,A=w.length;C<A;C++){const S=Array.isArray(w[C])?w[C]:[w[C]];for(let _=0,b=S.length;_<b;_++){const T=S[_];if(f(T,C,_,E)===!0){const P=T.__offset,D=Array.isArray(T.value)?T.value:[T.value];let O=0;for(let H=0;H<D.length;H++){const F=D[H],K=v(F);typeof F=="number"||typeof F=="boolean"?(T.__data[0]=F,t.bufferSubData(t.UNIFORM_BUFFER,P+O,T.__data)):F.isMatrix3?(T.__data[0]=F.elements[0],T.__data[1]=F.elements[1],T.__data[2]=F.elements[2],T.__data[3]=0,T.__data[4]=F.elements[3],T.__data[5]=F.elements[4],T.__data[6]=F.elements[5],T.__data[7]=0,T.__data[8]=F.elements[6],T.__data[9]=F.elements[7],T.__data[10]=F.elements[8],T.__data[11]=0):(F.toArray(T.__data,O),O+=K.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,P,T.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(y,x,w,E){const C=y.value,A=x+"_"+w;if(E[A]===void 0)return typeof C=="number"||typeof C=="boolean"?E[A]=C:E[A]=C.clone(),!0;{const S=E[A];if(typeof C=="number"||typeof C=="boolean"){if(S!==C)return E[A]=C,!0}else if(S.equals(C)===!1)return S.copy(C),!0}return!1}function m(y){const x=y.uniforms;let w=0;const E=16;for(let A=0,S=x.length;A<S;A++){const _=Array.isArray(x[A])?x[A]:[x[A]];for(let b=0,T=_.length;b<T;b++){const P=_[b],D=Array.isArray(P.value)?P.value:[P.value];for(let O=0,H=D.length;O<H;O++){const F=D[O],K=v(F),j=w%E,X=j%K.boundary,Y=j+X;w+=X,Y!==0&&E-Y<K.storage&&(w+=E-Y),P.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=w,w+=K.storage}}}const C=w%E;return C>0&&(w+=E-C),y.__size=w,y.__cache={},this}function v(y){const x={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(x.boundary=4,x.storage=4):y.isVector2?(x.boundary=8,x.storage=8):y.isVector3||y.isColor?(x.boundary=16,x.storage=12):y.isVector4?(x.boundary=16,x.storage=16):y.isMatrix3?(x.boundary=48,x.storage=48):y.isMatrix4?(x.boundary=64,x.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),x}function p(y){const x=y.target;x.removeEventListener("dispose",p);const w=a.indexOf(x.__bindingPointIndex);a.splice(w,1),t.deleteBuffer(s[x.id]),delete s[x.id],delete r[x.id]}function g(){for(const y in s)t.deleteBuffer(s[y]);a=[],s={},r={}}return{bind:l,update:c,dispose:g}}class ed{constructor(e={}){const{canvas:n=VA(),context:i=null,depth:s=!0,stencil:r=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let f;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=i.getContextAttributes().alpha}else f=a;const m=new Uint32Array(4),v=new Int32Array(4);let p=null,g=null;const y=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Pi,this.toneMapping=Yr,this.toneMappingExposure=1;const w=this;let E=!1,C=0,A=0,S=null,_=-1,b=null;const T=new Tt,P=new Tt;let D=null;const O=new Be(0);let H=0,F=n.width,K=n.height,j=1,X=null,Y=null;const J=new Tt(0,0,F,K),de=new Tt(0,0,F,K);let Le=!1;const ie=new ih;let ye=!1,se=!1;const me=new lt,ae=new lt,N=new G,B=new Tt,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let q=!1;function R(){return S===null?j:1}let I=i;function W(z,ce){return n.getContext(z,ce)}try{const z={alpha:!0,depth:s,stencil:r,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${qc}`),n.addEventListener("webglcontextlost",Ie,!1),n.addEventListener("webglcontextrestored",Xe,!1),n.addEventListener("webglcontextcreationerror",He,!1),I===null){const ce="webgl2";if(I=W(ce,z),I===null)throw W(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let $,Z,ee,ve,le,V,k,Q,re,pe,fe,ke,Oe,Ne,ut,Re,$e,Ze,ct,Ye,ne,Me,je,te;function Fe(){$=new nU(I),$.init(),Me=new qA(I,$),Z=new KB(I,$,e,Me),ee=new Nz(I,$),Z.reverseDepthBuffer&&h&&ee.buffers.depth.setReversed(!0),ve=new rU(I),le=new Sz,V=new Hz(I,$,ee,le,Z,Me,ve),k=new JB(w),Q=new tU(w),re=new hV(I),je=new YB(I,re),pe=new iU(I,re,ve,je),fe=new oU(I,pe,re,ve),ct=new aU(I,Z,V),Re=new ZB(le),ke=new wz(w,k,Q,$,Z,je,Re),Oe=new qz(w,le),Ne=new Cz,ut=new Rz($),Ze=new XB(w,k,Q,ee,fe,f,l),$e=new Dz(w,fe,Z),te=new Kz(I,ve,Z,ee),Ye=new qB(I,$,ve),ne=new sU(I,$,ve),ve.programs=ke.programs,w.capabilities=Z,w.extensions=$,w.properties=le,w.renderLists=Ne,w.shadowMap=$e,w.state=ee,w.info=ve}Fe();const we=new Xz(w,I);this.xr=we,this.getContext=function(){return I},this.getContextAttributes=function(){return I.getContextAttributes()},this.forceContextLoss=function(){const z=$.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=$.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(z){z!==void 0&&(j=z,this.setSize(F,K,!1))},this.getSize=function(z){return z.set(F,K)},this.setSize=function(z,ce,_e=!0){if(we.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=z,K=ce,n.width=Math.floor(z*j),n.height=Math.floor(ce*j),_e===!0&&(n.style.width=z+"px",n.style.height=ce+"px"),this.setViewport(0,0,z,ce)},this.getDrawingBufferSize=function(z){return z.set(F*j,K*j).floor()},this.setDrawingBufferSize=function(z,ce,_e){F=z,K=ce,j=_e,n.width=Math.floor(z*_e),n.height=Math.floor(ce*_e),this.setViewport(0,0,z,ce)},this.getCurrentViewport=function(z){return z.copy(T)},this.getViewport=function(z){return z.copy(J)},this.setViewport=function(z,ce,_e,xe){z.isVector4?J.set(z.x,z.y,z.z,z.w):J.set(z,ce,_e,xe),ee.viewport(T.copy(J).multiplyScalar(j).round())},this.getScissor=function(z){return z.copy(de)},this.setScissor=function(z,ce,_e,xe){z.isVector4?de.set(z.x,z.y,z.z,z.w):de.set(z,ce,_e,xe),ee.scissor(P.copy(de).multiplyScalar(j).round())},this.getScissorTest=function(){return Le},this.setScissorTest=function(z){ee.setScissorTest(Le=z)},this.setOpaqueSort=function(z){X=z},this.setTransparentSort=function(z){Y=z},this.getClearColor=function(z){return z.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor.apply(Ze,arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha.apply(Ze,arguments)},this.clear=function(z=!0,ce=!0,_e=!0){let xe=0;if(z){let ue=!1;if(S!==null){const Ue=S.texture.format;ue=Ue===zp||Ue===Up||Ue===Jd}if(ue){const Ue=S.texture.type,qe=Ue===Cs||Ue===na||Ue===Dc||Ue===rl||Ue===Vp||Ue===Fp,nt=Ze.getClearColor(),it=Ze.getClearAlpha(),gt=nt.r,St=nt.g,st=nt.b;qe?(m[0]=gt,m[1]=St,m[2]=st,m[3]=it,I.clearBufferuiv(I.COLOR,0,m)):(v[0]=gt,v[1]=St,v[2]=st,v[3]=it,I.clearBufferiv(I.COLOR,0,v))}else xe|=I.COLOR_BUFFER_BIT}ce&&(xe|=I.DEPTH_BUFFER_BIT),_e&&(xe|=I.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),I.clear(xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ie,!1),n.removeEventListener("webglcontextrestored",Xe,!1),n.removeEventListener("webglcontextcreationerror",He,!1),Ne.dispose(),ut.dispose(),le.dispose(),k.dispose(),Q.dispose(),fe.dispose(),je.dispose(),te.dispose(),ke.dispose(),we.dispose(),we.removeEventListener("sessionstart",Vw),we.removeEventListener("sessionend",Fw),so.stop()};function Ie(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const z=ve.autoReset,ce=$e.enabled,_e=$e.autoUpdate,xe=$e.needsUpdate,ue=$e.type;Fe(),ve.autoReset=z,$e.enabled=ce,$e.autoUpdate=_e,$e.needsUpdate=xe,$e.type=ue}function He(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function dt(z){const ce=z.target;ce.removeEventListener("dispose",dt),en(ce)}function en(z){Tn(z),le.remove(z)}function Tn(z){const ce=le.get(z).programs;ce!==void 0&&(ce.forEach(function(_e){ke.releaseProgram(_e)}),z.isShaderMaterial&&ke.releaseShaderCache(z))}this.renderBufferDirect=function(z,ce,_e,xe,ue,Ue){ce===null&&(ce=U);const qe=ue.isMesh&&ue.matrixWorld.determinant()<0,nt=uD(z,ce,_e,xe,ue);ee.setMaterial(xe,qe);let it=_e.index,gt=1;if(xe.wireframe===!0){if(it=pe.getWireframeAttribute(_e),it===void 0)return;gt=2}const St=_e.drawRange,st=_e.attributes.position;let Ut=St.start*gt,on=(St.start+St.count)*gt;Ue!==null&&(Ut=Math.max(Ut,Ue.start*gt),on=Math.min(on,(Ue.start+Ue.count)*gt)),it!==null?(Ut=Math.max(Ut,0),on=Math.min(on,it.count)):st!=null&&(Ut=Math.max(Ut,0),on=Math.min(on,st.count));const hn=on-Ut;if(hn<0||hn===1/0)return;je.setup(ue,xe,nt,_e,it);let Hi,$t=Ye;if(it!==null&&(Hi=re.get(it),$t=ne,$t.setIndex(Hi)),ue.isMesh)xe.wireframe===!0?(ee.setLineWidth(xe.wireframeLinewidth*R()),$t.setMode(I.LINES)):$t.setMode(I.TRIANGLES);else if(ue.isLine){let rt=xe.linewidth;rt===void 0&&(rt=1),ee.setLineWidth(rt*R()),ue.isLineSegments?$t.setMode(I.LINES):ue.isLineLoop?$t.setMode(I.LINE_LOOP):$t.setMode(I.LINE_STRIP)}else ue.isPoints?$t.setMode(I.POINTS):ue.isSprite&&$t.setMode(I.TRIANGLES);if(ue.isBatchedMesh)if(ue._multiDrawInstances!==null)$t.renderMultiDrawInstances(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount,ue._multiDrawInstances);else if($.get("WEBGL_multi_draw"))$t.renderMultiDraw(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount);else{const rt=ue._multiDrawStarts,Pr=ue._multiDrawCounts,jt=ue._multiDrawCount,Rs=it?re.get(it).bytesPerElement:1,Fl=le.get(xe).currentProgram.getUniforms();for(let ts=0;ts<jt;ts++)Fl.setValue(I,"_gl_DrawID",ts),$t.render(rt[ts]/Rs,Pr[ts])}else if(ue.isInstancedMesh)$t.renderInstances(Ut,hn,ue.count);else if(_e.isInstancedBufferGeometry){const rt=_e._maxInstanceCount!==void 0?_e._maxInstanceCount:1/0,Pr=Math.min(_e.instanceCount,rt);$t.renderInstances(Ut,hn,Pr)}else $t.render(Ut,hn)};function Lt(z,ce,_e){z.transparent===!0&&z.side===Li&&z.forceSinglePass===!1?(z.side=yi,z.needsUpdate=!0,Oh(z,ce,_e),z.side=fr,z.needsUpdate=!0,Oh(z,ce,_e),z.side=Li):Oh(z,ce,_e)}this.compile=function(z,ce,_e=null){_e===null&&(_e=z),g=ut.get(_e),g.init(ce),x.push(g),_e.traverseVisible(function(ue){ue.isLight&&ue.layers.test(ce.layers)&&(g.pushLight(ue),ue.castShadow&&g.pushShadow(ue))}),z!==_e&&z.traverseVisible(function(ue){ue.isLight&&ue.layers.test(ce.layers)&&(g.pushLight(ue),ue.castShadow&&g.pushShadow(ue))}),g.setupLights();const xe=new Set;return z.traverse(function(ue){if(!(ue.isMesh||ue.isPoints||ue.isLine||ue.isSprite))return;const Ue=ue.material;if(Ue)if(Array.isArray(Ue))for(let qe=0;qe<Ue.length;qe++){const nt=Ue[qe];Lt(nt,_e,ue),xe.add(nt)}else Lt(Ue,_e,ue),xe.add(Ue)}),x.pop(),g=null,xe},this.compileAsync=function(z,ce,_e=null){const xe=this.compile(z,ce,_e);return new Promise(ue=>{function Ue(){if(xe.forEach(function(qe){le.get(qe).currentProgram.isReady()&&xe.delete(qe)}),xe.size===0){ue(z);return}setTimeout(Ue,10)}$.get("KHR_parallel_shader_compile")!==null?Ue():setTimeout(Ue,10)})};let ui=null;function Ar(z){ui&&ui(z)}function Vw(){so.stop()}function Fw(){so.start()}const so=new WA;so.setAnimationLoop(Ar),typeof self<"u"&&so.setContext(self),this.setAnimationLoop=function(z){ui=z,we.setAnimationLoop(z),z===null?so.stop():so.start()},we.addEventListener("sessionstart",Vw),we.addEventListener("sessionend",Fw),this.render=function(z,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),we.enabled===!0&&we.isPresenting===!0&&(we.cameraAutoUpdate===!0&&we.updateCamera(ce),ce=we.getCamera()),z.isScene===!0&&z.onBeforeRender(w,z,ce,S),g=ut.get(z,x.length),g.init(ce),x.push(g),ae.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),ie.setFromProjectionMatrix(ae),se=this.localClippingEnabled,ye=Re.init(this.clippingPlanes,se),p=Ne.get(z,y.length),p.init(),y.push(p),we.enabled===!0&&we.isPresenting===!0){const Ue=w.xr.getDepthSensingMesh();Ue!==null&&ng(Ue,ce,-1/0,w.sortObjects)}ng(z,ce,0,w.sortObjects),p.finish(),w.sortObjects===!0&&p.sort(X,Y),q=we.enabled===!1||we.isPresenting===!1||we.hasDepthSensing()===!1,q&&Ze.addToRenderList(p,z),this.info.render.frame++,ye===!0&&Re.beginShadows();const _e=g.state.shadowsArray;$e.render(_e,z,ce),ye===!0&&Re.endShadows(),this.info.autoReset===!0&&this.info.reset();const xe=p.opaque,ue=p.transmissive;if(g.setupLights(),ce.isArrayCamera){const Ue=ce.cameras;if(ue.length>0)for(let qe=0,nt=Ue.length;qe<nt;qe++){const it=Ue[qe];Uw(xe,ue,z,it)}q&&Ze.render(z);for(let qe=0,nt=Ue.length;qe<nt;qe++){const it=Ue[qe];Bw(p,z,it,it.viewport)}}else ue.length>0&&Uw(xe,ue,z,ce),q&&Ze.render(z),Bw(p,z,ce);S!==null&&(V.updateMultisampleRenderTarget(S),V.updateRenderTargetMipmap(S)),z.isScene===!0&&z.onAfterRender(w,z,ce),je.resetDefaultState(),_=-1,b=null,x.pop(),x.length>0?(g=x[x.length-1],ye===!0&&Re.setGlobalState(w.clippingPlanes,g.state.camera)):g=null,y.pop(),y.length>0?p=y[y.length-1]:p=null};function ng(z,ce,_e,xe){if(z.visible===!1)return;if(z.layers.test(ce.layers)){if(z.isGroup)_e=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(ce);else if(z.isLight)g.pushLight(z),z.castShadow&&g.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||ie.intersectsSprite(z)){xe&&B.setFromMatrixPosition(z.matrixWorld).applyMatrix4(ae);const qe=fe.update(z),nt=z.material;nt.visible&&p.push(z,qe,nt,_e,B.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||ie.intersectsObject(z))){const qe=fe.update(z),nt=z.material;if(xe&&(z.boundingSphere!==void 0?(z.boundingSphere===null&&z.computeBoundingSphere(),B.copy(z.boundingSphere.center)):(qe.boundingSphere===null&&qe.computeBoundingSphere(),B.copy(qe.boundingSphere.center)),B.applyMatrix4(z.matrixWorld).applyMatrix4(ae)),Array.isArray(nt)){const it=qe.groups;for(let gt=0,St=it.length;gt<St;gt++){const st=it[gt],Ut=nt[st.materialIndex];Ut&&Ut.visible&&p.push(z,qe,Ut,_e,B.z,st)}}else nt.visible&&p.push(z,qe,nt,_e,B.z,null)}}const Ue=z.children;for(let qe=0,nt=Ue.length;qe<nt;qe++)ng(Ue[qe],ce,_e,xe)}function Bw(z,ce,_e,xe){const ue=z.opaque,Ue=z.transmissive,qe=z.transparent;g.setupLightsView(_e),ye===!0&&Re.setGlobalState(w.clippingPlanes,_e),xe&&ee.viewport(T.copy(xe)),ue.length>0&&Dh(ue,ce,_e),Ue.length>0&&Dh(Ue,ce,_e),qe.length>0&&Dh(qe,ce,_e),ee.buffers.depth.setTest(!0),ee.buffers.depth.setMask(!0),ee.buffers.color.setMask(!0),ee.setPolygonOffset(!1)}function Uw(z,ce,_e,xe){if((_e.isScene===!0?_e.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[xe.id]===void 0&&(g.state.transmissionRenderTarget[xe.id]=new Ts(1,1,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")||$.has("EXT_color_buffer_float")?wl:Cs,minFilter:as,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:kt.workingColorSpace}));const Ue=g.state.transmissionRenderTarget[xe.id],qe=xe.viewport||T;Ue.setSize(qe.z,qe.w);const nt=w.getRenderTarget();w.setRenderTarget(Ue),w.getClearColor(O),H=w.getClearAlpha(),H<1&&w.setClearColor(16777215,.5),w.clear(),q&&Ze.render(_e);const it=w.toneMapping;w.toneMapping=Yr;const gt=xe.viewport;if(xe.viewport!==void 0&&(xe.viewport=void 0),g.setupLightsView(xe),ye===!0&&Re.setGlobalState(w.clippingPlanes,xe),Dh(z,_e,xe),V.updateMultisampleRenderTarget(Ue),V.updateRenderTargetMipmap(Ue),$.has("WEBGL_multisampled_render_to_texture")===!1){let St=!1;for(let st=0,Ut=ce.length;st<Ut;st++){const on=ce[st],hn=on.object,Hi=on.geometry,$t=on.material,rt=on.group;if($t.side===Li&&hn.layers.test(xe.layers)){const Pr=$t.side;$t.side=yi,$t.needsUpdate=!0,zw(hn,_e,xe,Hi,$t,rt),$t.side=Pr,$t.needsUpdate=!0,St=!0}}St===!0&&(V.updateMultisampleRenderTarget(Ue),V.updateRenderTargetMipmap(Ue))}w.setRenderTarget(nt),w.setClearColor(O,H),gt!==void 0&&(xe.viewport=gt),w.toneMapping=it}function Dh(z,ce,_e){const xe=ce.isScene===!0?ce.overrideMaterial:null;for(let ue=0,Ue=z.length;ue<Ue;ue++){const qe=z[ue],nt=qe.object,it=qe.geometry,gt=xe===null?qe.material:xe,St=qe.group;nt.layers.test(_e.layers)&&zw(nt,ce,_e,it,gt,St)}}function zw(z,ce,_e,xe,ue,Ue){z.onBeforeRender(w,ce,_e,xe,ue,Ue),z.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),ue.onBeforeRender(w,ce,_e,xe,z,Ue),ue.transparent===!0&&ue.side===Li&&ue.forceSinglePass===!1?(ue.side=yi,ue.needsUpdate=!0,w.renderBufferDirect(_e,ce,xe,ue,z,Ue),ue.side=fr,ue.needsUpdate=!0,w.renderBufferDirect(_e,ce,xe,ue,z,Ue),ue.side=Li):w.renderBufferDirect(_e,ce,xe,ue,z,Ue),z.onAfterRender(w,ce,_e,xe,ue,Ue)}function Oh(z,ce,_e){ce.isScene!==!0&&(ce=U);const xe=le.get(z),ue=g.state.lights,Ue=g.state.shadowsArray,qe=ue.state.version,nt=ke.getParameters(z,ue.state,Ue,ce,_e),it=ke.getProgramCacheKey(nt);let gt=xe.programs;xe.environment=z.isMeshStandardMaterial?ce.environment:null,xe.fog=ce.fog,xe.envMap=(z.isMeshStandardMaterial?Q:k).get(z.envMap||xe.environment),xe.envMapRotation=xe.environment!==null&&z.envMap===null?ce.environmentRotation:z.envMapRotation,gt===void 0&&(z.addEventListener("dispose",dt),gt=new Map,xe.programs=gt);let St=gt.get(it);if(St!==void 0){if(xe.currentProgram===St&&xe.lightsStateVersion===qe)return Gw(z,nt),St}else nt.uniforms=ke.getUniforms(z),z.onBeforeCompile(nt,w),St=ke.acquireProgram(nt,it),gt.set(it,St),xe.uniforms=nt.uniforms;const st=xe.uniforms;return(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(st.clippingPlanes=Re.uniform),Gw(z,nt),xe.needsLights=hD(z),xe.lightsStateVersion=qe,xe.needsLights&&(st.ambientLightColor.value=ue.state.ambient,st.lightProbe.value=ue.state.probe,st.directionalLights.value=ue.state.directional,st.directionalLightShadows.value=ue.state.directionalShadow,st.spotLights.value=ue.state.spot,st.spotLightShadows.value=ue.state.spotShadow,st.rectAreaLights.value=ue.state.rectArea,st.ltc_1.value=ue.state.rectAreaLTC1,st.ltc_2.value=ue.state.rectAreaLTC2,st.pointLights.value=ue.state.point,st.pointLightShadows.value=ue.state.pointShadow,st.hemisphereLights.value=ue.state.hemi,st.directionalShadowMap.value=ue.state.directionalShadowMap,st.directionalShadowMatrix.value=ue.state.directionalShadowMatrix,st.spotShadowMap.value=ue.state.spotShadowMap,st.spotLightMatrix.value=ue.state.spotLightMatrix,st.spotLightMap.value=ue.state.spotLightMap,st.pointShadowMap.value=ue.state.pointShadowMap,st.pointShadowMatrix.value=ue.state.pointShadowMatrix),xe.currentProgram=St,xe.uniformsList=null,St}function Hw(z){if(z.uniformsList===null){const ce=z.currentProgram.getUniforms();z.uniformsList=em.seqWithValue(ce.seq,z.uniforms)}return z.uniformsList}function Gw(z,ce){const _e=le.get(z);_e.outputColorSpace=ce.outputColorSpace,_e.batching=ce.batching,_e.batchingColor=ce.batchingColor,_e.instancing=ce.instancing,_e.instancingColor=ce.instancingColor,_e.instancingMorph=ce.instancingMorph,_e.skinning=ce.skinning,_e.morphTargets=ce.morphTargets,_e.morphNormals=ce.morphNormals,_e.morphColors=ce.morphColors,_e.morphTargetsCount=ce.morphTargetsCount,_e.numClippingPlanes=ce.numClippingPlanes,_e.numIntersection=ce.numClipIntersection,_e.vertexAlphas=ce.vertexAlphas,_e.vertexTangents=ce.vertexTangents,_e.toneMapping=ce.toneMapping}function uD(z,ce,_e,xe,ue){ce.isScene!==!0&&(ce=U),V.resetTextureUnits();const Ue=ce.fog,qe=xe.isMeshStandardMaterial?ce.environment:null,nt=S===null?w.outputColorSpace:S.isXRRenderTarget===!0?S.texture.colorSpace:Sl,it=(xe.isMeshStandardMaterial?Q:k).get(xe.envMap||qe),gt=xe.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,St=!!_e.attributes.tangent&&(!!xe.normalMap||xe.anisotropy>0),st=!!_e.morphAttributes.position,Ut=!!_e.morphAttributes.normal,on=!!_e.morphAttributes.color;let hn=Yr;xe.toneMapped&&(S===null||S.isXRRenderTarget===!0)&&(hn=w.toneMapping);const Hi=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,$t=Hi!==void 0?Hi.length:0,rt=le.get(xe),Pr=g.state.lights;if(ye===!0&&(se===!0||z!==b)){const ps=z===b&&xe.id===_;Re.setState(xe,z,ps)}let jt=!1;xe.version===rt.__version?(rt.needsLights&&rt.lightsStateVersion!==Pr.state.version||rt.outputColorSpace!==nt||ue.isBatchedMesh&&rt.batching===!1||!ue.isBatchedMesh&&rt.batching===!0||ue.isBatchedMesh&&rt.batchingColor===!0&&ue.colorTexture===null||ue.isBatchedMesh&&rt.batchingColor===!1&&ue.colorTexture!==null||ue.isInstancedMesh&&rt.instancing===!1||!ue.isInstancedMesh&&rt.instancing===!0||ue.isSkinnedMesh&&rt.skinning===!1||!ue.isSkinnedMesh&&rt.skinning===!0||ue.isInstancedMesh&&rt.instancingColor===!0&&ue.instanceColor===null||ue.isInstancedMesh&&rt.instancingColor===!1&&ue.instanceColor!==null||ue.isInstancedMesh&&rt.instancingMorph===!0&&ue.morphTexture===null||ue.isInstancedMesh&&rt.instancingMorph===!1&&ue.morphTexture!==null||rt.envMap!==it||xe.fog===!0&&rt.fog!==Ue||rt.numClippingPlanes!==void 0&&(rt.numClippingPlanes!==Re.numPlanes||rt.numIntersection!==Re.numIntersection)||rt.vertexAlphas!==gt||rt.vertexTangents!==St||rt.morphTargets!==st||rt.morphNormals!==Ut||rt.morphColors!==on||rt.toneMapping!==hn||rt.morphTargetsCount!==$t)&&(jt=!0):(jt=!0,rt.__version=xe.version);let Rs=rt.currentProgram;jt===!0&&(Rs=Oh(xe,ce,ue));let Fl=!1,ts=!1,uu=!1;const fn=Rs.getUniforms(),Ks=rt.uniforms;if(ee.useProgram(Rs.program)&&(Fl=!0,ts=!0,uu=!0),xe.id!==_&&(_=xe.id,ts=!0),Fl||b!==z){ee.buffers.depth.getReversed()?(me.copy(z.projectionMatrix),VN(me),FN(me),fn.setValue(I,"projectionMatrix",me)):fn.setValue(I,"projectionMatrix",z.projectionMatrix),fn.setValue(I,"viewMatrix",z.matrixWorldInverse);const pa=fn.map.cameraPosition;pa!==void 0&&pa.setValue(I,N.setFromMatrixPosition(z.matrixWorld)),Z.logarithmicDepthBuffer&&fn.setValue(I,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial)&&fn.setValue(I,"isOrthographic",z.isOrthographicCamera===!0),b!==z&&(b=z,ts=!0,uu=!0)}if(ue.isSkinnedMesh){fn.setOptional(I,ue,"bindMatrix"),fn.setOptional(I,ue,"bindMatrixInverse");const ps=ue.skeleton;ps&&(ps.boneTexture===null&&ps.computeBoneTexture(),fn.setValue(I,"boneTexture",ps.boneTexture,V))}ue.isBatchedMesh&&(fn.setOptional(I,ue,"batchingTexture"),fn.setValue(I,"batchingTexture",ue._matricesTexture,V),fn.setOptional(I,ue,"batchingIdTexture"),fn.setValue(I,"batchingIdTexture",ue._indirectTexture,V),fn.setOptional(I,ue,"batchingColorTexture"),ue._colorsTexture!==null&&fn.setValue(I,"batchingColorTexture",ue._colorsTexture,V));const du=_e.morphAttributes;if((du.position!==void 0||du.normal!==void 0||du.color!==void 0)&&ct.update(ue,_e,Rs),(ts||rt.receiveShadow!==ue.receiveShadow)&&(rt.receiveShadow=ue.receiveShadow,fn.setValue(I,"receiveShadow",ue.receiveShadow)),xe.isMeshGouraudMaterial&&xe.envMap!==null&&(Ks.envMap.value=it,Ks.flipEnvMap.value=it.isCubeTexture&&it.isRenderTargetTexture===!1?-1:1),xe.isMeshStandardMaterial&&xe.envMap===null&&ce.environment!==null&&(Ks.envMapIntensity.value=ce.environmentIntensity),ts&&(fn.setValue(I,"toneMappingExposure",w.toneMappingExposure),rt.needsLights&&dD(Ks,uu),Ue&&xe.fog===!0&&Oe.refreshFogUniforms(Ks,Ue),Oe.refreshMaterialUniforms(Ks,xe,j,K,g.state.transmissionRenderTarget[z.id]),em.upload(I,Hw(rt),Ks,V)),xe.isShaderMaterial&&xe.uniformsNeedUpdate===!0&&(em.upload(I,Hw(rt),Ks,V),xe.uniformsNeedUpdate=!1),xe.isSpriteMaterial&&fn.setValue(I,"center",ue.center),fn.setValue(I,"modelViewMatrix",ue.modelViewMatrix),fn.setValue(I,"normalMatrix",ue.normalMatrix),fn.setValue(I,"modelMatrix",ue.matrixWorld),xe.isShaderMaterial||xe.isRawShaderMaterial){const ps=xe.uniformsGroups;for(let pa=0,va=ps.length;pa<va;pa++){const Ww=ps[pa];te.update(Ww,Rs),te.bind(Ww,Rs)}}return Rs}function dD(z,ce){z.ambientLightColor.needsUpdate=ce,z.lightProbe.needsUpdate=ce,z.directionalLights.needsUpdate=ce,z.directionalLightShadows.needsUpdate=ce,z.pointLights.needsUpdate=ce,z.pointLightShadows.needsUpdate=ce,z.spotLights.needsUpdate=ce,z.spotLightShadows.needsUpdate=ce,z.rectAreaLights.needsUpdate=ce,z.hemisphereLights.needsUpdate=ce}function hD(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(z,ce,_e){le.get(z.texture).__webglTexture=ce,le.get(z.depthTexture).__webglTexture=_e;const xe=le.get(z);xe.__hasExternalTextures=!0,xe.__autoAllocateDepthBuffer=_e===void 0,xe.__autoAllocateDepthBuffer||$.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(z,ce){const _e=le.get(z);_e.__webglFramebuffer=ce,_e.__useDefaultFramebuffer=ce===void 0},this.setRenderTarget=function(z,ce=0,_e=0){S=z,C=ce,A=_e;let xe=!0,ue=null,Ue=!1,qe=!1;if(z){const it=le.get(z);if(it.__useDefaultFramebuffer!==void 0)ee.bindFramebuffer(I.FRAMEBUFFER,null),xe=!1;else if(it.__webglFramebuffer===void 0)V.setupRenderTarget(z);else if(it.__hasExternalTextures)V.rebindTextures(z,le.get(z.texture).__webglTexture,le.get(z.depthTexture).__webglTexture);else if(z.depthBuffer){const st=z.depthTexture;if(it.__boundDepthTexture!==st){if(st!==null&&le.has(st)&&(z.width!==st.image.width||z.height!==st.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");V.setupDepthRenderbuffer(z)}}const gt=z.texture;(gt.isData3DTexture||gt.isDataArrayTexture||gt.isCompressedArrayTexture)&&(qe=!0);const St=le.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Array.isArray(St[ce])?ue=St[ce][_e]:ue=St[ce],Ue=!0):z.samples>0&&V.useMultisampledRTT(z)===!1?ue=le.get(z).__webglMultisampledFramebuffer:Array.isArray(St)?ue=St[_e]:ue=St,T.copy(z.viewport),P.copy(z.scissor),D=z.scissorTest}else T.copy(J).multiplyScalar(j).floor(),P.copy(de).multiplyScalar(j).floor(),D=Le;if(ee.bindFramebuffer(I.FRAMEBUFFER,ue)&&xe&&ee.drawBuffers(z,ue),ee.viewport(T),ee.scissor(P),ee.setScissorTest(D),Ue){const it=le.get(z.texture);I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_CUBE_MAP_POSITIVE_X+ce,it.__webglTexture,_e)}else if(qe){const it=le.get(z.texture),gt=ce||0;I.framebufferTextureLayer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,it.__webglTexture,_e||0,gt)}_=-1},this.readRenderTargetPixels=function(z,ce,_e,xe,ue,Ue,qe){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let nt=le.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&qe!==void 0&&(nt=nt[qe]),nt){ee.bindFramebuffer(I.FRAMEBUFFER,nt);try{const it=z.texture,gt=it.format,St=it.type;if(!Z.textureFormatReadable(gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Z.textureTypeReadable(St)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=z.width-xe&&_e>=0&&_e<=z.height-ue&&I.readPixels(ce,_e,xe,ue,Me.convert(gt),Me.convert(St),Ue)}finally{const it=S!==null?le.get(S).__webglFramebuffer:null;ee.bindFramebuffer(I.FRAMEBUFFER,it)}}},this.readRenderTargetPixelsAsync=async function(z,ce,_e,xe,ue,Ue,qe){if(!(z&&z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let nt=le.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&qe!==void 0&&(nt=nt[qe]),nt){const it=z.texture,gt=it.format,St=it.type;if(!Z.textureFormatReadable(gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Z.textureTypeReadable(St))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ce>=0&&ce<=z.width-xe&&_e>=0&&_e<=z.height-ue){ee.bindFramebuffer(I.FRAMEBUFFER,nt);const st=I.createBuffer();I.bindBuffer(I.PIXEL_PACK_BUFFER,st),I.bufferData(I.PIXEL_PACK_BUFFER,Ue.byteLength,I.STREAM_READ),I.readPixels(ce,_e,xe,ue,Me.convert(gt),Me.convert(St),0);const Ut=S!==null?le.get(S).__webglFramebuffer:null;ee.bindFramebuffer(I.FRAMEBUFFER,Ut);const on=I.fenceSync(I.SYNC_GPU_COMMANDS_COMPLETE,0);return I.flush(),await NN(I,on,4),I.bindBuffer(I.PIXEL_PACK_BUFFER,st),I.getBufferSubData(I.PIXEL_PACK_BUFFER,0,Ue),I.deleteBuffer(st),I.deleteSync(on),Ue}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(z,ce=null,_e=0){z.isTexture!==!0&&(Nu("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ce=arguments[0]||null,z=arguments[1]);const xe=Math.pow(2,-_e),ue=Math.floor(z.image.width*xe),Ue=Math.floor(z.image.height*xe),qe=ce!==null?ce.x:0,nt=ce!==null?ce.y:0;V.setTexture2D(z,0),I.copyTexSubImage2D(I.TEXTURE_2D,_e,0,0,qe,nt,ue,Ue),ee.unbindTexture()},this.copyTextureToTexture=function(z,ce,_e=null,xe=null,ue=0){z.isTexture!==!0&&(Nu("WebGLRenderer: copyTextureToTexture function signature has changed."),xe=arguments[0]||null,z=arguments[1],ce=arguments[2],ue=arguments[3]||0,_e=null);let Ue,qe,nt,it,gt,St,st,Ut,on;const hn=z.isCompressedTexture?z.mipmaps[ue]:z.image;_e!==null?(Ue=_e.max.x-_e.min.x,qe=_e.max.y-_e.min.y,nt=_e.isBox3?_e.max.z-_e.min.z:1,it=_e.min.x,gt=_e.min.y,St=_e.isBox3?_e.min.z:0):(Ue=hn.width,qe=hn.height,nt=hn.depth||1,it=0,gt=0,St=0),xe!==null?(st=xe.x,Ut=xe.y,on=xe.z):(st=0,Ut=0,on=0);const Hi=Me.convert(ce.format),$t=Me.convert(ce.type);let rt;ce.isData3DTexture?(V.setTexture3D(ce,0),rt=I.TEXTURE_3D):ce.isDataArrayTexture||ce.isCompressedArrayTexture?(V.setTexture2DArray(ce,0),rt=I.TEXTURE_2D_ARRAY):(V.setTexture2D(ce,0),rt=I.TEXTURE_2D),I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,ce.flipY),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),I.pixelStorei(I.UNPACK_ALIGNMENT,ce.unpackAlignment);const Pr=I.getParameter(I.UNPACK_ROW_LENGTH),jt=I.getParameter(I.UNPACK_IMAGE_HEIGHT),Rs=I.getParameter(I.UNPACK_SKIP_PIXELS),Fl=I.getParameter(I.UNPACK_SKIP_ROWS),ts=I.getParameter(I.UNPACK_SKIP_IMAGES);I.pixelStorei(I.UNPACK_ROW_LENGTH,hn.width),I.pixelStorei(I.UNPACK_IMAGE_HEIGHT,hn.height),I.pixelStorei(I.UNPACK_SKIP_PIXELS,it),I.pixelStorei(I.UNPACK_SKIP_ROWS,gt),I.pixelStorei(I.UNPACK_SKIP_IMAGES,St);const uu=z.isDataArrayTexture||z.isData3DTexture,fn=ce.isDataArrayTexture||ce.isData3DTexture;if(z.isRenderTargetTexture||z.isDepthTexture){const Ks=le.get(z),du=le.get(ce),ps=le.get(Ks.__renderTarget),pa=le.get(du.__renderTarget);ee.bindFramebuffer(I.READ_FRAMEBUFFER,ps.__webglFramebuffer),ee.bindFramebuffer(I.DRAW_FRAMEBUFFER,pa.__webglFramebuffer);for(let va=0;va<nt;va++)uu&&I.framebufferTextureLayer(I.READ_FRAMEBUFFER,I.COLOR_ATTACHMENT0,le.get(z).__webglTexture,ue,St+va),z.isDepthTexture?(fn&&I.framebufferTextureLayer(I.DRAW_FRAMEBUFFER,I.COLOR_ATTACHMENT0,le.get(ce).__webglTexture,ue,on+va),I.blitFramebuffer(it,gt,Ue,qe,st,Ut,Ue,qe,I.DEPTH_BUFFER_BIT,I.NEAREST)):fn?I.copyTexSubImage3D(rt,ue,st,Ut,on+va,it,gt,Ue,qe):I.copyTexSubImage2D(rt,ue,st,Ut,on+va,it,gt,Ue,qe);ee.bindFramebuffer(I.READ_FRAMEBUFFER,null),ee.bindFramebuffer(I.DRAW_FRAMEBUFFER,null)}else fn?z.isDataTexture||z.isData3DTexture?I.texSubImage3D(rt,ue,st,Ut,on,Ue,qe,nt,Hi,$t,hn.data):ce.isCompressedArrayTexture?I.compressedTexSubImage3D(rt,ue,st,Ut,on,Ue,qe,nt,Hi,hn.data):I.texSubImage3D(rt,ue,st,Ut,on,Ue,qe,nt,Hi,$t,hn):z.isDataTexture?I.texSubImage2D(I.TEXTURE_2D,ue,st,Ut,Ue,qe,Hi,$t,hn.data):z.isCompressedTexture?I.compressedTexSubImage2D(I.TEXTURE_2D,ue,st,Ut,hn.width,hn.height,Hi,hn.data):I.texSubImage2D(I.TEXTURE_2D,ue,st,Ut,Ue,qe,Hi,$t,hn);I.pixelStorei(I.UNPACK_ROW_LENGTH,Pr),I.pixelStorei(I.UNPACK_IMAGE_HEIGHT,jt),I.pixelStorei(I.UNPACK_SKIP_PIXELS,Rs),I.pixelStorei(I.UNPACK_SKIP_ROWS,Fl),I.pixelStorei(I.UNPACK_SKIP_IMAGES,ts),ue===0&&ce.generateMipmaps&&I.generateMipmap(rt),ee.unbindTexture()},this.copyTextureToTexture3D=function(z,ce,_e=null,xe=null,ue=0){return z.isTexture!==!0&&(Nu("WebGLRenderer: copyTextureToTexture3D function signature has changed."),_e=arguments[0]||null,xe=arguments[1]||null,z=arguments[2],ce=arguments[3],ue=arguments[4]||0),Nu('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(z,ce,_e,xe,ue)},this.initRenderTarget=function(z){le.get(z).__webglFramebuffer===void 0&&V.setupRenderTarget(z)},this.initTexture=function(z){z.isCubeTexture?V.setTextureCube(z,0):z.isData3DTexture?V.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?V.setTexture2DArray(z,0):V.setTexture2D(z,0),ee.unbindTexture()},this.resetState=function(){C=0,A=0,S=null,ee.reset(),je.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ar}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=kt._getDrawingBufferColorSpace(e),n.unpackColorSpace=kt._getUnpackColorSpace()}}class jp{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Be(e),this.density=n}clone(){return new jp(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Xp{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Be(e),this.near=n,this.far=i}clone(){return new Xp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Vc extends Nt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Bi,this.environmentIntensity=1,this.environmentRotation=new Bi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Jc{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=gd,this.updateRanges=[],this.version=0,this.uuid=ls()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=n.array[i+s];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ls()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ls()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Si=new G;class mr{constructor(e,n,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Si.fromBufferAttribute(this,n),Si.applyMatrix4(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Si.fromBufferAttribute(this,n),Si.applyNormalMatrix(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Si.fromBufferAttribute(this,n),Si.transformDirection(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=ki(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=wt(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=wt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=wt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=wt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=wt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ki(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ki(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ki(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ki(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=wt(n,this.array),i=wt(i,this.array),s=wt(s,this.array),r=wt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return new At(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new mr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class S_ extends $n{static get type(){return"SpriteMaterial"}constructor(e){super(),this.isSpriteMaterial=!0,this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ql;const bu=new G,ec=new G,tc=new G,nc=new Te,_u=new Te,ZA=new lt,lf=new G,xu=new G,cf=new G,_1=new Te,Wg=new Te,x1=new Te;class JA extends Nt{constructor(e=new S_){if(super(),this.isSprite=!0,this.type="Sprite",Ql===void 0){Ql=new bt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Jc(n,5);Ql.setIndex([0,1,2,0,2,3]),Ql.setAttribute("position",new mr(i,3,0,!1)),Ql.setAttribute("uv",new mr(i,2,3,!1))}this.geometry=Ql,this.material=e,this.center=new Te(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ec.setFromMatrixScale(this.matrixWorld),ZA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),tc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ec.multiplyScalar(-tc.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const a=this.center;uf(lf.set(-.5,-.5,0),tc,a,ec,s,r),uf(xu.set(.5,-.5,0),tc,a,ec,s,r),uf(cf.set(.5,.5,0),tc,a,ec,s,r),_1.set(0,0),Wg.set(1,0),x1.set(1,1);let o=e.ray.intersectTriangle(lf,xu,cf,!1,bu);if(o===null&&(uf(xu.set(-.5,.5,0),tc,a,ec,s,r),Wg.set(0,1),o=e.ray.intersectTriangle(lf,cf,xu,!1,bu),o===null))return;const l=e.ray.origin.distanceTo(bu);l<e.near||l>e.far||n.push({distance:l,point:bu.clone(),uv:Di.getInterpolation(bu,lf,xu,cf,_1,Wg,x1,new Te),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function uf(t,e,n,i,s,r){nc.subVectors(t,n).addScalar(.5).multiply(i),s!==void 0?(_u.x=r*nc.x-s*nc.y,_u.y=s*nc.x+r*nc.y):_u.copy(nc),t.copy(e),t.x+=_u.x,t.y+=_u.y,t.applyMatrix4(ZA)}const df=new G,w1=new G;class QA extends Nt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,s=n.length;i<s;i++){const r=n[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const s=this.levels;let r;for(r=0;r<s.length&&!(n<s[r].distance);r++);return s.splice(r,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const s=n.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,s;for(i=1,s=n.length;i<s;i++){let r=n[i].distance;if(n[i].object.visible&&(r-=r*n[i].hysteresis),e<r)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){df.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(df);this.getObjectForDistance(s).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){df.setFromMatrixPosition(e.matrixWorld),w1.setFromMatrixPosition(this.matrixWorld);const i=df.distanceTo(w1)/e.zoom;n[0].object.visible=!0;let s,r;for(s=1,r=n.length;s<r;s++){let a=n[s].distance;if(n[s].object.visible&&(a-=a*n[s].hysteresis),i>=a)n[s-1].object.visible=!1,n[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)n[s].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const a=i[s];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const S1=new G,M1=new Tt,C1=new Tt,Zz=new G,T1=new lt,hf=new G,$g=new ti,E1=new lt,jg=new Ml;class M_ extends nn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=l0,this.bindMatrix=new lt,this.bindMatrixInverse=new lt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ei),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,hf),this.boundingBox.expandByPoint(hf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ti),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,hf),this.boundingSphere.expandByPoint(hf)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$g.copy(this.boundingSphere),$g.applyMatrix4(s),e.ray.intersectsSphere($g)!==!1&&(E1.copy(s).invert(),jg.copy(e.ray).applyMatrix4(E1),!(this.boundingBox!==null&&jg.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,jg)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Tt,n=this.geometry.attributes.skinWeight;for(let i=0,s=n.count;i<s;i++){e.fromBufferAttribute(n,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===l0?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===xA?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,s=this.geometry;M1.fromBufferAttribute(s.attributes.skinIndex,e),C1.fromBufferAttribute(s.attributes.skinWeight,e),S1.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let r=0;r<4;r++){const a=C1.getComponent(r);if(a!==0){const o=M1.getComponent(r);T1.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),n.addScaledVector(Zz.copy(S1).applyMatrix4(T1),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class Yp extends Nt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ur extends un{constructor(e=null,n=1,i=1,s,r,a,o,l,c=Wn,u=Wn,d,h){super(null,a,o,l,c,u,s,r,d,h),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const A1=new lt,Jz=new lt;class sh{constructor(e=[],n=[]){this.uuid=ls(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new lt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,a=e.length;r<a;r++){const o=e[r]?e[r].matrixWorld:Jz;A1.multiplyMatrices(o,n[r]),A1.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new sh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new ur(n,e,e,pi,Ki);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let a=n[r];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new Yp),this.bones.push(a),this.boneInverses.push(new lt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let s=0,r=n.length;s<r;s++){const a=n[s];e.bones.push(a.uuid);const o=i[s];e.boneInverses.push(o.toArray())}return e}}class Fc extends At{constructor(e,n,i,s=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ic=new lt,P1=new lt,ff=[],I1=new ei,Qz=new lt,wu=new nn,Su=new ti;class C_ extends nn{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Fc(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,Qz)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ei),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ic),I1.copy(e.boundingBox).applyMatrix4(ic),this.boundingBox.union(I1)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ti),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ic),Su.copy(e.boundingSphere).applyMatrix4(ic),this.boundingSphere.union(Su)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,a=e*r+1;for(let o=0;o<i.length;o++)i[o]=s[a+o]}raycast(e,n){const i=this.matrixWorld,s=this.count;if(wu.geometry=this.geometry,wu.material=this.material,wu.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Su.copy(this.boundingSphere),Su.applyMatrix4(i),e.ray.intersectsSphere(Su)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,ic),P1.multiplyMatrices(i,ic),wu.matrixWorld=P1,wu.raycast(e,ff);for(let a=0,o=ff.length;a<o;a++){const l=ff[a];l.instanceId=r,l.object=this,n.push(l)}ff.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Fc(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new ur(new Float32Array(s*this.count),s,this.count,Bp,Ki));const r=this.morphTexture.source.data.data;let a=0;for(let c=0;c<i.length;c++)a+=i[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=s*e;r[l]=o,r.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Xg(t,e){return t-e}function e4(t,e){return t.z-e.z}function t4(t,e){return e.z-t.z}class n4{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,s){const r=this.pool,a=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];a.push(o),this.index++,o.start=e,o.count=n,o.z=i,o.index=s}reset(){this.list.length=0,this.index=0}}const Gi=new lt,i4=new Be(1,1,1),Yg=new ih,mf=new ei,po=new ti,Mu=new G,R1=new G,s4=new G,qg=new n4,fi=new nn,pf=[];function r4(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const s=t.count;for(let r=0;r<s;r++)for(let a=0;a<i;a++)e.setComponent(r+n,a,t.getComponent(r,a))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function vo(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class eP extends nn{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,n,i=n*2,s){super(new bt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new ur(n,e,e,pi,Ki);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new ur(n,e,e,Jd,na);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new ur(n,e,e,pi,Ki);i.colorSpace=kt.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const a=e.getAttribute(r),{array:o,itemSize:l,normalized:c}=a,u=new o.constructor(i*l),d=new At(u,l,c);n.setAttribute(r,d)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);n.setIndex(new At(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),r=n.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ei);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,s=n.length;i<s;i++){if(n[i].active===!1)continue;const r=n[i].geometryIndex;this.getMatrixAt(i,Gi),this.getBoundingBoxAt(r,mf).applyMatrix4(Gi),e.union(mf)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ti);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,s=n.length;i<s;i++){if(n[i].active===!1)continue;const r=n[i].geometryIndex;this.getMatrixAt(i,Gi),this.getBoundingSphereAt(r,po).applyMatrix4(Gi),e.union(po)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Xg),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;Gi.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const a=this._colorsTexture;return a&&(i4.toArray(a.image.data,s*4),a.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?a.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Xg),l=this._availableGeometryIds.shift(),r[l]=s):(l=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(l,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),a=n.getIndex(),o=this._geometryInfo[e];if(s&&a.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const u in i.attributes){const d=n.getAttribute(u),h=i.getAttribute(u);r4(d,h,l);const f=d.itemSize;for(let m=d.count,v=c;m<v;m++){const p=l+m;for(let g=0;g<f;g++)h.setComponent(p,g,0)}h.needsUpdate=!0,h.addUpdateRange(l*f,c*f)}if(s){const u=o.indexStart,d=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let h=0;h<a.count;h++)r.setX(u+h,l+a.getX(h));for(let h=a.count,f=d;h<f;h++)r.setX(u+h,l);r.needsUpdate=!0,r.addUpdateRange(u,o.reservedIndexCount)}return o.start=s?o.indexStart:o.vertexStart,o.count=s?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].geometryIndex===e&&this.deleteInstance(s);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}optimize(){let e=0,n=0;const i=this._geometryInfo,s=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),r=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=s[a],c=i[l];if(c.active!==!1){if(r.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:d,reservedIndexCount:h}=c,f=r.index,m=f.array,v=e-d;for(let p=u;p<u+h;p++)m[p]=m[p]+v;f.array.copyWithin(n,u,u+h),f.addUpdateRange(n,h),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:d}=c,h=r.attributes;for(const f in h){const m=h[f],{array:v,itemSize:p}=m;v.copyWithin(e*p,u*p,(u+d)*p),m.addUpdateRange(e*p,d*p)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=r.index?c.indexStart:c.vertexStart,this._nextIndexStart=r.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const r=new ei,a=i.index,o=i.attributes.position;for(let l=s.start,c=s.start+s.count;l<c;l++){let u=l;a&&(u=a.getX(u)),r.expandByPoint(Mu.fromBufferAttribute(o,u))}s.boundingBox=r}return n.copy(s.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const r=new ti;this.getBoundingBoxAt(e,mf),mf.getCenter(r.center);const a=i.index,o=i.attributes.position;let l=0;for(let c=s.start,u=s.start+s.count;c<u;c++){let d=c;a&&(d=a.getX(d)),Mu.fromBufferAttribute(o,d),l=Math.max(l,r.center.distanceToSquared(Mu))}r.radius=Math.sqrt(l),s.boundingSphere=r}return n.copy(s.boundingSphere),n}setMatrixAt(e,n){const i=this._instanceInfo,s=this._matricesTexture,r=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?this:(n.toArray(r,e*16),s.needsUpdate=!0,this)}getMatrixAt(e,n){const i=this._instanceInfo,s=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?null:n.fromArray(s,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const i=this._colorsTexture,s=this._colorsTexture.image.data,r=this._instanceInfo;return e>=r.length||r[e].active===!1?this:(n.toArray(s,e*4),i.needsUpdate=!0,this)}getColorAt(e,n){const i=this._colorsTexture.image.data,s=this._instanceInfo;return e>=s.length||s[e].active===!1?null:n.fromArray(i,e*4)}setVisibleAt(e,n){const i=this._instanceInfo;return e>=i.length||i[e].active===!1||i[e].visible===n?this:(i[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}setGeometryIdAt(e,n){const i=this._instanceInfo,s=this._geometryInfo;return e>=i.length||i[e].active===!1||n>=s.length||s[n].active===!1?null:(i[e].geometryIndex=n,this)}getGeometryIdAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?-1:n[e].geometryIndex}getGeometryRangeAt(e,n={}){if(e<0||e>=this._geometryCount)return null;const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(Xg);n[n.length-1]===i.length;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),r=new Int32Array(e);vo(this._multiDrawCounts,s),vo(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),vo(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),vo(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),vo(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new bt,this._initializeGeometry(r));const a=this.geometry;r.index&&vo(r.index.array,a.index.array);for(const o in r.attributes)vo(r.attributes[o].array,a.attributes[o].array)}raycast(e,n){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,a=this.geometry;fi.material=this.material,fi.geometry.index=a.index,fi.geometry.attributes=a.attributes,fi.geometry.boundingBox===null&&(fi.geometry.boundingBox=new ei),fi.geometry.boundingSphere===null&&(fi.geometry.boundingSphere=new ti);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,u=s[c];fi.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,fi.matrixWorld).premultiply(r),this.getBoundingBoxAt(c,fi.geometry.boundingBox),this.getBoundingSphereAt(c,fi.geometry.boundingSphere),fi.raycast(e,pf);for(let d=0,h=pf.length;d<h;d++){const f=pf[d];f.object=this,f.batchId=o,n.push(f)}pf.length=0}fi.material=null,fi.geometry.index=null,fi.geometry.attributes={},fi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=s.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._geometryInfo,h=this.perObjectFrustumCulled,f=this._indirectTexture,m=f.image.data;h&&(Gi.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Yg.setFromProjectionMatrix(Gi,e.coordinateSystem));let v=0;if(this.sortObjects){Gi.copy(this.matrixWorld).invert(),Mu.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Gi),R1.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Gi);for(let y=0,x=l.length;y<x;y++)if(l[y].visible&&l[y].active){const w=l[y].geometryIndex;this.getMatrixAt(y,Gi),this.getBoundingSphereAt(w,po).applyMatrix4(Gi);let E=!1;if(h&&(E=!Yg.intersectsSphere(po)),!E){const C=d[w],A=s4.subVectors(po.center,Mu).dot(R1);qg.push(C.start,C.count,A,y)}}const p=qg.list,g=this.customSort;g===null?p.sort(r.transparent?t4:e4):g.call(this,p,i);for(let y=0,x=p.length;y<x;y++){const w=p[y];c[v]=w.start*o,u[v]=w.count,m[v]=w.index,v++}qg.reset()}else for(let p=0,g=l.length;p<g;p++)if(l[p].visible&&l[p].active){const y=l[p].geometryIndex;let x=!1;if(h&&(this.getMatrixAt(p,Gi),this.getBoundingSphereAt(y,po).applyMatrix4(Gi),x=!Yg.intersectsSphere(po)),!x){const w=d[y];c[v]=w.start*o,u[v]=w.count,m[v]=p,v++}}f.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,i,s,r,a){this.onBeforeRender(e,null,s,r,a)}}class bi extends $n{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new Be(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ip=new G,sp=new G,L1=new lt,Cu=new Ml,vf=new ti,Kg=new G,k1=new G;class ia extends Nt{constructor(e=new bt,n=new bi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let s=1,r=n.count;s<r;s++)ip.fromBufferAttribute(n,s-1),sp.fromBufferAttribute(n,s),i[s]=i[s-1],i[s]+=ip.distanceTo(sp);e.setAttribute("lineDistance",new et(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),vf.copy(i.boundingSphere),vf.applyMatrix4(s),vf.radius+=r,e.ray.intersectsSphere(vf)===!1)return;L1.copy(s).invert(),Cu.copy(e.ray).applyMatrix4(L1);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=i.index,h=i.attributes.position;if(u!==null){const f=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let v=f,p=m-1;v<p;v+=c){const g=u.getX(v),y=u.getX(v+1),x=gf(this,e,Cu,l,g,y);x&&n.push(x)}if(this.isLineLoop){const v=u.getX(m-1),p=u.getX(f),g=gf(this,e,Cu,l,v,p);g&&n.push(g)}}else{const f=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count);for(let v=f,p=m-1;v<p;v+=c){const g=gf(this,e,Cu,l,v,v+1);g&&n.push(g)}if(this.isLineLoop){const v=gf(this,e,Cu,l,m-1,f);v&&n.push(v)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}function gf(t,e,n,i,s,r){const a=t.geometry.attributes.position;if(ip.fromBufferAttribute(a,s),sp.fromBufferAttribute(a,r),n.distanceSqToSegment(ip,sp,Kg,k1)>i)return;Kg.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(Kg);if(!(l<e.near||l>e.far))return{distance:l,point:k1.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const D1=new G,O1=new G;class js extends ia{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let s=0,r=n.count;s<r;s+=2)D1.fromBufferAttribute(n,s),O1.fromBufferAttribute(n,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+D1.distanceTo(O1);e.setAttribute("lineDistance",new et(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class T_ extends ia{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class qp extends $n{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const N1=new lt,m0=new Ml,yf=new ti,bf=new G;class E_ extends Nt{constructor(e=new bt,n=new qp){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),yf.copy(i.boundingSphere),yf.applyMatrix4(s),yf.radius+=r,e.ray.intersectsSphere(yf)===!1)return;N1.copy(s).invert(),m0.copy(e.ray).applyMatrix4(N1);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,d=i.attributes.position;if(c!==null){const h=Math.max(0,a.start),f=Math.min(c.count,a.start+a.count);for(let m=h,v=f;m<v;m++){const p=c.getX(m);bf.fromBufferAttribute(d,p),V1(bf,p,l,s,e,n,this)}}else{const h=Math.max(0,a.start),f=Math.min(d.count,a.start+a.count);for(let m=h,v=f;m<v;m++)bf.fromBufferAttribute(d,m),V1(bf,m,l,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}function V1(t,e,n,i,s,r,a){const o=m0.distanceSqToPoint(t);if(o<n){const l=new G;m0.closestPointToPoint(t,l),l.applyMatrix4(i);const c=s.ray.origin.distanceTo(l);if(c<s.near||c>s.far)return;r.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class a4 extends un{constructor(e,n,i,s,r,a,o,l,c){super(e,n,i,s,r,a,o,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:In,this.magFilter=r!==void 0?r:In,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class p0 extends un{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Wn,this.minFilter=Wn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Xo extends un{constructor(e,n,i,s,r,a,o,l,c,u,d,h){super(null,a,o,l,c,u,s,r,d,h),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class o4 extends Xo{constructor(e,n,i,s,r,a){super(e,n,i,r,a),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=qi,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class l4 extends Xo{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,ea),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class c4 extends un{constructor(e,n,i,s,r,a,o,l,c){super(e,n,i,s,r,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Xs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,s=this.getPoint(0),r=0;n.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),r+=i.distanceTo(s),n.push(r),s=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let s=0;const r=i.length;let a;n?a=n:a=e*i[r-1];let o=0,l=r-1,c;for(;o<=l;)if(s=Math.floor(o+(l-o)/2),c=i[s]-a,c<0)o=s+1;else if(c>0)l=s-1;else{l=s;break}if(s=l,i[s]===a)return s/(r-1);const u=i[s],h=i[s+1]-u,f=(a-u)/h;return(s+f)/(r-1)}getTangent(e,n){let s=e-1e-4,r=e+1e-4;s<0&&(s=0),r>1&&(r=1);const a=this.getPoint(s),o=this.getPoint(r),l=n||(a.isVector2?new Te:new G);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new G,s=[],r=[],a=[],o=new G,l=new lt;for(let f=0;f<=e;f++){const m=f/e;s[f]=this.getTangentAt(m,new G)}r[0]=new G,a[0]=new G;let c=Number.MAX_VALUE;const u=Math.abs(s[0].x),d=Math.abs(s[0].y),h=Math.abs(s[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),h<=c&&i.set(0,0,1),o.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],o),a[0].crossVectors(s[0],r[0]);for(let f=1;f<=e;f++){if(r[f]=r[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(s[f-1],s[f]),o.length()>Number.EPSILON){o.normalize();const m=Math.acos(Pn(s[f-1].dot(s[f]),-1,1));r[f].applyMatrix4(l.makeRotationAxis(o,m))}a[f].crossVectors(s[f],r[f])}if(n===!0){let f=Math.acos(Pn(r[0].dot(r[e]),-1,1));f/=e,s[0].dot(o.crossVectors(r[0],r[e]))>0&&(f=-f);for(let m=1;m<=e;m++)r[m].applyMatrix4(l.makeRotationAxis(s[m],f*m)),a[m].crossVectors(s[m],r[m])}return{tangents:s,normals:r,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Kp extends Xs{constructor(e=0,n=0,i=1,s=1,r=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new Te){const i=n,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(a?r=0:r=s),this.aClockwise===!0&&!a&&(r===s?r=-s:r=r-s);const o=this.aStartAngle+e*r;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,f=c-this.aY;l=h*u-f*d+this.aX,c=h*d+f*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class tP extends Kp{constructor(e,n,i,s,r,a){super(e,n,i,i,s,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function A_(){let t=0,e=0,n=0,i=0;function s(r,a,o,l){t=r,e=o,n=-3*r+3*a-2*o-l,i=2*r-2*a+o+l}return{initCatmullRom:function(r,a,o,l,c){s(a,o,c*(o-r),c*(l-a))},initNonuniformCatmullRom:function(r,a,o,l,c,u,d){let h=(a-r)/c-(o-r)/(c+u)+(o-a)/u,f=(o-a)/u-(l-a)/(u+d)+(l-o)/d;h*=u,f*=u,s(a,o,h,f)},calc:function(r){const a=r*r,o=a*r;return t+e*r+n*a+i*o}}}const _f=new G,Zg=new A_,Jg=new A_,Qg=new A_;class nP extends Xs{constructor(e=[],n=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=s}getPoint(e,n=new G){const i=n,s=this.points,r=s.length,a=(r-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:l===0&&o===r-1&&(o=r-2,l=1);let c,u;this.closed||o>0?c=s[(o-1)%r]:(_f.subVectors(s[0],s[1]).add(s[0]),c=_f);const d=s[o%r],h=s[(o+1)%r];if(this.closed||o+2<r?u=s[(o+2)%r]:(_f.subVectors(s[r-1],s[r-2]).add(s[r-1]),u=_f),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(d),f),v=Math.pow(d.distanceToSquared(h),f),p=Math.pow(h.distanceToSquared(u),f);v<1e-4&&(v=1),m<1e-4&&(m=v),p<1e-4&&(p=v),Zg.initNonuniformCatmullRom(c.x,d.x,h.x,u.x,m,v,p),Jg.initNonuniformCatmullRom(c.y,d.y,h.y,u.y,m,v,p),Qg.initNonuniformCatmullRom(c.z,d.z,h.z,u.z,m,v,p)}else this.curveType==="catmullrom"&&(Zg.initCatmullRom(c.x,d.x,h.x,u.x,this.tension),Jg.initCatmullRom(c.y,d.y,h.y,u.y,this.tension),Qg.initCatmullRom(c.z,d.z,h.z,u.z,this.tension));return i.set(Zg.calc(l),Jg.calc(l),Qg.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const s=this.points[n];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(new G().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function F1(t,e,n,i,s){const r=(i-e)*.5,a=(s-n)*.5,o=t*t,l=t*o;return(2*n-2*i+r+a)*l+(-3*n+3*i-2*r-a)*o+r*t+n}function u4(t,e){const n=1-t;return n*n*e}function d4(t,e){return 2*(1-t)*t*e}function h4(t,e){return t*t*e}function td(t,e,n,i){return u4(t,e)+d4(t,n)+h4(t,i)}function f4(t,e){const n=1-t;return n*n*n*e}function m4(t,e){const n=1-t;return 3*n*n*t*e}function p4(t,e){return 3*(1-t)*t*t*e}function v4(t,e){return t*t*t*e}function nd(t,e,n,i,s){return f4(t,e)+m4(t,n)+p4(t,i)+v4(t,s)}class P_ extends Xs{constructor(e=new Te,n=new Te,i=new Te,s=new Te){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=s}getPoint(e,n=new Te){const i=n,s=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(nd(e,s.x,r.x,a.x,o.x),nd(e,s.y,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class iP extends Xs{constructor(e=new G,n=new G,i=new G,s=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=s}getPoint(e,n=new G){const i=n,s=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(nd(e,s.x,r.x,a.x,o.x),nd(e,s.y,r.y,a.y,o.y),nd(e,s.z,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class I_ extends Xs{constructor(e=new Te,n=new Te){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Te){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sP extends Xs{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class R_ extends Xs{constructor(e=new Te,n=new Te,i=new Te){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Te){const i=n,s=this.v0,r=this.v1,a=this.v2;return i.set(td(e,s.x,r.x,a.x),td(e,s.y,r.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class L_ extends Xs{constructor(e=new G,n=new G,i=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new G){const i=n,s=this.v0,r=this.v1,a=this.v2;return i.set(td(e,s.x,r.x,a.x),td(e,s.y,r.y,a.y),td(e,s.z,r.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class k_ extends Xs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Te){const i=n,s=this.points,r=(s.length-1)*e,a=Math.floor(r),o=r-a,l=s[a===0?a:a-1],c=s[a],u=s[a>s.length-2?s.length-1:a+1],d=s[a>s.length-3?s.length-1:a+2];return i.set(F1(o,l.x,c.x,u.x,d.x),F1(o,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const s=this.points[n];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(new Te().fromArray(s))}return this}}var rp=Object.freeze({__proto__:null,ArcCurve:tP,CatmullRomCurve3:nP,CubicBezierCurve:P_,CubicBezierCurve3:iP,EllipseCurve:Kp,LineCurve:I_,LineCurve3:sP,QuadraticBezierCurve:R_,QuadraticBezierCurve3:L_,SplineCurve:k_});class rP extends Xs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new rp[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const a=s[r]-i,o=this.curves[r],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,n)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,s=this.curves.length;i<s;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const a=r[s],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const s=e.curves[n];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const s=this.curves[n];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const s=e.curves[n];this.curves.push(new rp[s.type]().fromJSON(s))}return this}}class _d extends rP{constructor(e){super(),this.type="Path",this.currentPoint=new Te,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new I_(this.currentPoint.clone(),new Te(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,s){const r=new R_(this.currentPoint.clone(),new Te(e,n),new Te(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(e,n,i,s,r,a){const o=new P_(this.currentPoint.clone(),new Te(e,n),new Te(i,s),new Te(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new k_(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,s,r,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,i,s,r,a),this}absarc(e,n,i,s,r,a){return this.absellipse(e,n,i,i,s,r,a),this}ellipse(e,n,i,s,r,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,s,r,a,o,l),this}absellipse(e,n,i,s,r,a,o,l){const c=new Kp(e,n,i,s,r,a,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class rh extends bt{constructor(e=[new Te(0,-.5),new Te(.5,0),new Te(0,.5)],n=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:s},n=Math.floor(n),s=Pn(s,0,Math.PI*2);const r=[],a=[],o=[],l=[],c=[],u=1/n,d=new G,h=new Te,f=new G,m=new G,v=new G;let p=0,g=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:p=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,f.x=g*1,f.y=-p,f.z=g*0,v.copy(f),f.normalize(),l.push(f.x,f.y,f.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:p=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,f.x=g*1,f.y=-p,f.z=g*0,m.copy(f),f.x+=v.x,f.y+=v.y,f.z+=v.z,f.normalize(),l.push(f.x,f.y,f.z),v.copy(m)}for(let y=0;y<=n;y++){const x=i+y*u*s,w=Math.sin(x),E=Math.cos(x);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*w,d.y=e[C].y,d.z=e[C].x*E,a.push(d.x,d.y,d.z),h.x=y/n,h.y=C/(e.length-1),o.push(h.x,h.y);const A=l[3*C+0]*w,S=l[3*C+1],_=l[3*C+0]*E;c.push(A,S,_)}}for(let y=0;y<n;y++)for(let x=0;x<e.length-1;x++){const w=x+y*e.length,E=w,C=w+e.length,A=w+e.length+1,S=w+1;r.push(E,C,S),r.push(A,S,C)}this.setIndex(r),this.setAttribute("position",new et(a,3)),this.setAttribute("uv",new et(o,2)),this.setAttribute("normal",new et(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rh(e.points,e.segments,e.phiStart,e.phiLength)}}class Zp extends rh{constructor(e=1,n=1,i=4,s=8){const r=new _d;r.absarc(0,-n/2,e,Math.PI*1.5,0),r.absarc(0,n/2,e,0,Math.PI*.5),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:s}}static fromJSON(e){return new Zp(e.radius,e.length,e.capSegments,e.radialSegments)}}class Jp extends bt{constructor(e=1,n=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:s},n=Math.max(3,n);const r=[],a=[],o=[],l=[],c=new G,u=new Te;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=n;d++,h+=3){const f=i+d/n*s;c.x=e*Math.cos(f),c.y=e*Math.sin(f),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[h]/e+1)/2,u.y=(a[h+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)r.push(d,d+1,0);this.setIndex(r),this.setAttribute("position",new et(a,3)),this.setAttribute("normal",new et(o,3)),this.setAttribute("uv",new et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Qc extends bt{constructor(e=1,n=1,i=1,s=32,r=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:s,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:l};const c=this;s=Math.floor(s),r=Math.floor(r);const u=[],d=[],h=[],f=[];let m=0;const v=[],p=i/2;let g=0;y(),a===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new et(d,3)),this.setAttribute("normal",new et(h,3)),this.setAttribute("uv",new et(f,2));function y(){const w=new G,E=new G;let C=0;const A=(n-e)/i;for(let S=0;S<=r;S++){const _=[],b=S/r,T=b*(n-e)+e;for(let P=0;P<=s;P++){const D=P/s,O=D*l+o,H=Math.sin(O),F=Math.cos(O);E.x=T*H,E.y=-b*i+p,E.z=T*F,d.push(E.x,E.y,E.z),w.set(H,A,F).normalize(),h.push(w.x,w.y,w.z),f.push(D,1-b),_.push(m++)}v.push(_)}for(let S=0;S<s;S++)for(let _=0;_<r;_++){const b=v[_][S],T=v[_+1][S],P=v[_+1][S+1],D=v[_][S+1];(e>0||_!==0)&&(u.push(b,T,D),C+=3),(n>0||_!==r-1)&&(u.push(T,P,D),C+=3)}c.addGroup(g,C,0),g+=C}function x(w){const E=m,C=new Te,A=new G;let S=0;const _=w===!0?e:n,b=w===!0?1:-1;for(let P=1;P<=s;P++)d.push(0,p*b,0),h.push(0,b,0),f.push(.5,.5),m++;const T=m;for(let P=0;P<=s;P++){const O=P/s*l+o,H=Math.cos(O),F=Math.sin(O);A.x=_*F,A.y=p*b,A.z=_*H,d.push(A.x,A.y,A.z),h.push(0,b,0),C.x=H*.5+.5,C.y=F*.5*b+.5,f.push(C.x,C.y),m++}for(let P=0;P<s;P++){const D=E+P,O=T+P;w===!0?u.push(O,O+1,D):u.push(O+1,O,D),S+=3}c.addGroup(g,S,w===!0?1:2),g+=S}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qp extends Qc{constructor(e=1,n=1,i=32,s=1,r=!1,a=0,o=Math.PI*2){super(0,e,n,i,s,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:a,thetaLength:o}}static fromJSON(e){return new Qp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qa extends bt{constructor(e=[],n=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:s};const r=[],a=[];o(s),c(i),u(),this.setAttribute("position",new et(r,3)),this.setAttribute("normal",new et(r.slice(),3)),this.setAttribute("uv",new et(a,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function o(y){const x=new G,w=new G,E=new G;for(let C=0;C<n.length;C+=3)f(n[C+0],x),f(n[C+1],w),f(n[C+2],E),l(x,w,E,y)}function l(y,x,w,E){const C=E+1,A=[];for(let S=0;S<=C;S++){A[S]=[];const _=y.clone().lerp(w,S/C),b=x.clone().lerp(w,S/C),T=C-S;for(let P=0;P<=T;P++)P===0&&S===C?A[S][P]=_:A[S][P]=_.clone().lerp(b,P/T)}for(let S=0;S<C;S++)for(let _=0;_<2*(C-S)-1;_++){const b=Math.floor(_/2);_%2===0?(h(A[S][b+1]),h(A[S+1][b]),h(A[S][b])):(h(A[S][b+1]),h(A[S+1][b+1]),h(A[S+1][b]))}}function c(y){const x=new G;for(let w=0;w<r.length;w+=3)x.x=r[w+0],x.y=r[w+1],x.z=r[w+2],x.normalize().multiplyScalar(y),r[w+0]=x.x,r[w+1]=x.y,r[w+2]=x.z}function u(){const y=new G;for(let x=0;x<r.length;x+=3){y.x=r[x+0],y.y=r[x+1],y.z=r[x+2];const w=p(y)/2/Math.PI+.5,E=g(y)/Math.PI+.5;a.push(w,1-E)}m(),d()}function d(){for(let y=0;y<a.length;y+=6){const x=a[y+0],w=a[y+2],E=a[y+4],C=Math.max(x,w,E),A=Math.min(x,w,E);C>.9&&A<.1&&(x<.2&&(a[y+0]+=1),w<.2&&(a[y+2]+=1),E<.2&&(a[y+4]+=1))}}function h(y){r.push(y.x,y.y,y.z)}function f(y,x){const w=y*3;x.x=e[w+0],x.y=e[w+1],x.z=e[w+2]}function m(){const y=new G,x=new G,w=new G,E=new G,C=new Te,A=new Te,S=new Te;for(let _=0,b=0;_<r.length;_+=9,b+=6){y.set(r[_+0],r[_+1],r[_+2]),x.set(r[_+3],r[_+4],r[_+5]),w.set(r[_+6],r[_+7],r[_+8]),C.set(a[b+0],a[b+1]),A.set(a[b+2],a[b+3]),S.set(a[b+4],a[b+5]),E.copy(y).add(x).add(w).divideScalar(3);const T=p(E);v(C,b+0,y,T),v(A,b+2,x,T),v(S,b+4,w,T)}}function v(y,x,w,E){E<0&&y.x===1&&(a[x]=y.x-1),w.x===0&&w.z===0&&(a[x]=E/2/Math.PI+.5)}function p(y){return Math.atan2(y.z,-y.x)}function g(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qa(e.vertices,e.indices,e.radius,e.details)}}class ev extends Qa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ev(e.radius,e.detail)}}const xf=new G,wf=new G,ey=new G,Sf=new Di;class aP extends bt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const s=Math.pow(10,4),r=Math.cos(jo*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),h={},f=[];for(let m=0;m<l;m+=3){a?(c[0]=a.getX(m),c[1]=a.getX(m+1),c[2]=a.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:v,b:p,c:g}=Sf;if(v.fromBufferAttribute(o,c[0]),p.fromBufferAttribute(o,c[1]),g.fromBufferAttribute(o,c[2]),Sf.getNormal(ey),d[0]=`${Math.round(v.x*s)},${Math.round(v.y*s)},${Math.round(v.z*s)}`,d[1]=`${Math.round(p.x*s)},${Math.round(p.y*s)},${Math.round(p.z*s)}`,d[2]=`${Math.round(g.x*s)},${Math.round(g.y*s)},${Math.round(g.z*s)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const x=(y+1)%3,w=d[y],E=d[x],C=Sf[u[y]],A=Sf[u[x]],S=`${w}_${E}`,_=`${E}_${w}`;_ in h&&h[_]?(ey.dot(h[_].normal)<=r&&(f.push(C.x,C.y,C.z),f.push(A.x,A.y,A.z)),h[_]=null):S in h||(h[S]={index0:c[y],index1:c[x],normal:ey.clone()})}}for(const m in h)if(h[m]){const{index0:v,index1:p}=h[m];xf.fromBufferAttribute(o,v),wf.fromBufferAttribute(o,p),f.push(xf.x,xf.y,xf.z),f.push(wf.x,wf.y,wf.z)}this.setAttribute("position",new et(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Yo extends _d{constructor(e){super(e),this.uuid=ls(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,s=this.holes.length;i<s;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const s=e.holes[n];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const s=this.holes[n];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const s=e.holes[n];this.holes.push(new _d().fromJSON(s))}return this}}const g4={triangulate:function(t,e,n=2){const i=e&&e.length,s=i?e[0]*n:t.length;let r=oP(t,0,s,n,!0);const a=[];if(!r||r.next===r.prev)return a;let o,l,c,u,d,h,f;if(i&&(r=w4(t,e,r,n)),t.length>80*n){o=c=t[0],l=u=t[1];for(let m=n;m<s;m+=n)d=t[m],h=t[m+1],d<o&&(o=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-o,u-l),f=f!==0?32767/f:0}return xd(r,a,n,o,l,f,0),a}};function oP(t,e,n,i,s){let r,a;if(s===k4(t,e,n,i)>0)for(r=e;r<n;r+=i)a=B1(r,t[r],t[r+1],a);else for(r=n-i;r>=e;r-=i)a=B1(r,t[r],t[r+1],a);return a&&tv(a,a.next)&&(Sd(a),a=a.next),a}function cl(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(tv(n,n.next)||Sn(n.prev,n,n.next)===0)){if(Sd(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function xd(t,e,n,i,s,r,a){if(!t)return;!a&&r&&E4(t,i,s,r);let o=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,r?b4(t,i,s,r):y4(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Sd(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=_4(cl(t),e,n),xd(t,e,n,i,s,r,2)):a===2&&x4(t,e,n,i,s,r):xd(cl(t),e,n,i,s,r,1);break}}}function y4(t){const e=t.prev,n=t,i=t.next;if(Sn(e,n,i)>=0)return!1;const s=e.x,r=n.x,a=i.x,o=e.y,l=n.y,c=i.y,u=s<r?s<a?s:a:r<a?r:a,d=o<l?o<c?o:c:l<c?l:c,h=s>r?s>a?s:a:r>a?r:a,f=o>l?o>c?o:c:l>c?l:c;let m=i.next;for(;m!==e;){if(m.x>=u&&m.x<=h&&m.y>=d&&m.y<=f&&gc(s,o,r,l,a,c,m.x,m.y)&&Sn(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function b4(t,e,n,i){const s=t.prev,r=t,a=t.next;if(Sn(s,r,a)>=0)return!1;const o=s.x,l=r.x,c=a.x,u=s.y,d=r.y,h=a.y,f=o<l?o<c?o:c:l<c?l:c,m=u<d?u<h?u:h:d<h?d:h,v=o>l?o>c?o:c:l>c?l:c,p=u>d?u>h?u:h:d>h?d:h,g=v0(f,m,e,n,i),y=v0(v,p,e,n,i);let x=t.prevZ,w=t.nextZ;for(;x&&x.z>=g&&w&&w.z<=y;){if(x.x>=f&&x.x<=v&&x.y>=m&&x.y<=p&&x!==s&&x!==a&&gc(o,u,l,d,c,h,x.x,x.y)&&Sn(x.prev,x,x.next)>=0||(x=x.prevZ,w.x>=f&&w.x<=v&&w.y>=m&&w.y<=p&&w!==s&&w!==a&&gc(o,u,l,d,c,h,w.x,w.y)&&Sn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;x&&x.z>=g;){if(x.x>=f&&x.x<=v&&x.y>=m&&x.y<=p&&x!==s&&x!==a&&gc(o,u,l,d,c,h,x.x,x.y)&&Sn(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;w&&w.z<=y;){if(w.x>=f&&w.x<=v&&w.y>=m&&w.y<=p&&w!==s&&w!==a&&gc(o,u,l,d,c,h,w.x,w.y)&&Sn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function _4(t,e,n){let i=t;do{const s=i.prev,r=i.next.next;!tv(s,r)&&lP(s,i,i.next,r)&&wd(s,r)&&wd(r,s)&&(e.push(s.i/n|0),e.push(i.i/n|0),e.push(r.i/n|0),Sd(i),Sd(i.next),i=t=r),i=i.next}while(i!==t);return cl(i)}function x4(t,e,n,i,s,r){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&I4(a,o)){let l=cP(a,o);a=cl(a,a.next),l=cl(l,l.next),xd(a,e,n,i,s,r,0),xd(l,e,n,i,s,r,0);return}o=o.next}a=a.next}while(a!==t)}function w4(t,e,n,i){const s=[];let r,a,o,l,c;for(r=0,a=e.length;r<a;r++)o=e[r]*i,l=r<a-1?e[r+1]*i:t.length,c=oP(t,o,l,i,!1),c===c.next&&(c.steiner=!0),s.push(P4(c));for(s.sort(S4),r=0;r<s.length;r++)n=M4(s[r],n);return n}function S4(t,e){return t.x-e.x}function M4(t,e){const n=C4(t,e);if(!n)return e;const i=cP(n,t);return cl(i,i.next),cl(n,n.next)}function C4(t,e){let n=e,i=-1/0,s;const r=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const h=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=r&&h>i&&(i=h,s=n.x<n.next.x?n:n.next,h===r))return s}n=n.next}while(n!==e);if(!s)return null;const o=s,l=s.x,c=s.y;let u=1/0,d;n=s;do r>=n.x&&n.x>=l&&r!==n.x&&gc(a<c?r:i,a,l,c,a<c?i:r,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(r-n.x),wd(n,t)&&(d<u||d===u&&(n.x>s.x||n.x===s.x&&T4(s,n)))&&(s=n,u=d)),n=n.next;while(n!==o);return s}function T4(t,e){return Sn(t.prev,t,e.prev)<0&&Sn(e.next,t,t.next)<0}function E4(t,e,n,i){let s=t;do s.z===0&&(s.z=v0(s.x,s.y,e,n,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,A4(s)}function A4(t){let e,n,i,s,r,a,o,l,c=1;do{for(n=t,t=null,r=null,a=0;n;){for(a++,i=n,o=0,e=0;e<c&&(o++,i=i.nextZ,!!i);e++);for(l=c;o>0||l>0&&i;)o!==0&&(l===0||!i||n.z<=i.z)?(s=n,n=n.nextZ,o--):(s=i,i=i.nextZ,l--),r?r.nextZ=s:t=s,s.prevZ=r,r=s;n=i}r.nextZ=null,c*=2}while(a>1);return t}function v0(t,e,n,i,s){return t=(t-n)*s|0,e=(e-i)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function P4(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function gc(t,e,n,i,s,r,a,o){return(s-a)*(e-o)>=(t-a)*(r-o)&&(t-a)*(i-o)>=(n-a)*(e-o)&&(n-a)*(r-o)>=(s-a)*(i-o)}function I4(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!R4(t,e)&&(wd(t,e)&&wd(e,t)&&L4(t,e)&&(Sn(t.prev,t,e.prev)||Sn(t,e.prev,e))||tv(t,e)&&Sn(t.prev,t,t.next)>0&&Sn(e.prev,e,e.next)>0)}function Sn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function tv(t,e){return t.x===e.x&&t.y===e.y}function lP(t,e,n,i){const s=Cf(Sn(t,e,n)),r=Cf(Sn(t,e,i)),a=Cf(Sn(n,i,t)),o=Cf(Sn(n,i,e));return!!(s!==r&&a!==o||s===0&&Mf(t,n,e)||r===0&&Mf(t,i,e)||a===0&&Mf(n,t,i)||o===0&&Mf(n,e,i))}function Mf(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Cf(t){return t>0?1:t<0?-1:0}function R4(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&lP(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function wd(t,e){return Sn(t.prev,t,t.next)<0?Sn(t,e,t.next)>=0&&Sn(t,t.prev,e)>=0:Sn(t,e,t.prev)<0||Sn(t,t.next,e)<0}function L4(t,e){let n=t,i=!1;const s=(t.x+e.x)/2,r=(t.y+e.y)/2;do n.y>r!=n.next.y>r&&n.next.y!==n.y&&s<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function cP(t,e){const n=new g0(t.i,t.x,t.y),i=new g0(e.i,e.x,e.y),s=t.next,r=e.prev;return t.next=e,e.prev=t,n.next=s,s.prev=n,i.next=n,n.prev=i,r.next=i,i.prev=r,i}function B1(t,e,n,i){const s=new g0(t,e,n);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Sd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function g0(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k4(t,e,n,i){let s=0;for(let r=e,a=n-i;r<n;r+=i)s+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;return s}class dr{static area(e){const n=e.length;let i=0;for(let s=n-1,r=0;r<n;s=r++)i+=e[s].x*e[r].y-e[r].x*e[s].y;return i*.5}static isClockWise(e){return dr.area(e)<0}static triangulateShape(e,n){const i=[],s=[],r=[];U1(e),z1(i,e);let a=e.length;n.forEach(U1);for(let l=0;l<n.length;l++)s.push(a),a+=n[l].length,z1(i,n[l]);const o=g4.triangulate(i,s);for(let l=0;l<o.length;l+=3)r.push(o.slice(l,l+3));return r}}function U1(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function z1(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class nv extends bt{constructor(e=new Yo([new Te(.5,.5),new Te(-.5,.5),new Te(-.5,-.5),new Te(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,s=[],r=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new et(s,3)),this.setAttribute("uv",new et(r,2)),this.computeVertexNormals();function a(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,f=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:f-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,p=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:D4;let x,w=!1,E,C,A,S;g&&(x=g.getSpacedPoints(u),w=!0,h=!1,E=g.computeFrenetFrames(u,!1),C=new G,A=new G,S=new G),h||(p=0,f=0,m=0,v=0);const _=o.extractPoints(c);let b=_.shape;const T=_.holes;if(!dr.isClockWise(b)){b=b.reverse();for(let q=0,R=T.length;q<R;q++){const I=T[q];dr.isClockWise(I)&&(T[q]=I.reverse())}}const D=dr.triangulateShape(b,T),O=b;for(let q=0,R=T.length;q<R;q++){const I=T[q];b=b.concat(I)}function H(q,R,I){return R||console.error("THREE.ExtrudeGeometry: vec does not exist"),q.clone().addScaledVector(R,I)}const F=b.length,K=D.length;function j(q,R,I){let W,$,Z;const ee=q.x-R.x,ve=q.y-R.y,le=I.x-q.x,V=I.y-q.y,k=ee*ee+ve*ve,Q=ee*V-ve*le;if(Math.abs(Q)>Number.EPSILON){const re=Math.sqrt(k),pe=Math.sqrt(le*le+V*V),fe=R.x-ve/re,ke=R.y+ee/re,Oe=I.x-V/pe,Ne=I.y+le/pe,ut=((Oe-fe)*V-(Ne-ke)*le)/(ee*V-ve*le);W=fe+ee*ut-q.x,$=ke+ve*ut-q.y;const Re=W*W+$*$;if(Re<=2)return new Te(W,$);Z=Math.sqrt(Re/2)}else{let re=!1;ee>Number.EPSILON?le>Number.EPSILON&&(re=!0):ee<-Number.EPSILON?le<-Number.EPSILON&&(re=!0):Math.sign(ve)===Math.sign(V)&&(re=!0),re?(W=-ve,$=ee,Z=Math.sqrt(k)):(W=ee,$=ve,Z=Math.sqrt(k/2))}return new Te(W/Z,$/Z)}const X=[];for(let q=0,R=O.length,I=R-1,W=q+1;q<R;q++,I++,W++)I===R&&(I=0),W===R&&(W=0),X[q]=j(O[q],O[I],O[W]);const Y=[];let J,de=X.concat();for(let q=0,R=T.length;q<R;q++){const I=T[q];J=[];for(let W=0,$=I.length,Z=$-1,ee=W+1;W<$;W++,Z++,ee++)Z===$&&(Z=0),ee===$&&(ee=0),J[W]=j(I[W],I[Z],I[ee]);Y.push(J),de=de.concat(J)}for(let q=0;q<p;q++){const R=q/p,I=f*Math.cos(R*Math.PI/2),W=m*Math.sin(R*Math.PI/2)+v;for(let $=0,Z=O.length;$<Z;$++){const ee=H(O[$],X[$],W);me(ee.x,ee.y,-I)}for(let $=0,Z=T.length;$<Z;$++){const ee=T[$];J=Y[$];for(let ve=0,le=ee.length;ve<le;ve++){const V=H(ee[ve],J[ve],W);me(V.x,V.y,-I)}}}const Le=m+v;for(let q=0;q<F;q++){const R=h?H(b[q],de[q],Le):b[q];w?(A.copy(E.normals[0]).multiplyScalar(R.x),C.copy(E.binormals[0]).multiplyScalar(R.y),S.copy(x[0]).add(A).add(C),me(S.x,S.y,S.z)):me(R.x,R.y,0)}for(let q=1;q<=u;q++)for(let R=0;R<F;R++){const I=h?H(b[R],de[R],Le):b[R];w?(A.copy(E.normals[q]).multiplyScalar(I.x),C.copy(E.binormals[q]).multiplyScalar(I.y),S.copy(x[q]).add(A).add(C),me(S.x,S.y,S.z)):me(I.x,I.y,d/u*q)}for(let q=p-1;q>=0;q--){const R=q/p,I=f*Math.cos(R*Math.PI/2),W=m*Math.sin(R*Math.PI/2)+v;for(let $=0,Z=O.length;$<Z;$++){const ee=H(O[$],X[$],W);me(ee.x,ee.y,d+I)}for(let $=0,Z=T.length;$<Z;$++){const ee=T[$];J=Y[$];for(let ve=0,le=ee.length;ve<le;ve++){const V=H(ee[ve],J[ve],W);w?me(V.x,V.y+x[u-1].y,x[u-1].x+I):me(V.x,V.y,d+I)}}}ie(),ye();function ie(){const q=s.length/3;if(h){let R=0,I=F*R;for(let W=0;W<K;W++){const $=D[W];ae($[2]+I,$[1]+I,$[0]+I)}R=u+p*2,I=F*R;for(let W=0;W<K;W++){const $=D[W];ae($[0]+I,$[1]+I,$[2]+I)}}else{for(let R=0;R<K;R++){const I=D[R];ae(I[2],I[1],I[0])}for(let R=0;R<K;R++){const I=D[R];ae(I[0]+F*u,I[1]+F*u,I[2]+F*u)}}i.addGroup(q,s.length/3-q,0)}function ye(){const q=s.length/3;let R=0;se(O,R),R+=O.length;for(let I=0,W=T.length;I<W;I++){const $=T[I];se($,R),R+=$.length}i.addGroup(q,s.length/3-q,1)}function se(q,R){let I=q.length;for(;--I>=0;){const W=I;let $=I-1;$<0&&($=q.length-1);for(let Z=0,ee=u+p*2;Z<ee;Z++){const ve=F*Z,le=F*(Z+1),V=R+W+ve,k=R+$+ve,Q=R+$+le,re=R+W+le;N(V,k,Q,re)}}}function me(q,R,I){l.push(q),l.push(R),l.push(I)}function ae(q,R,I){B(q),B(R),B(I);const W=s.length/3,$=y.generateTopUV(i,s,W-3,W-2,W-1);U($[0]),U($[1]),U($[2])}function N(q,R,I,W){B(q),B(R),B(W),B(R),B(I),B(W);const $=s.length/3,Z=y.generateSideWallUV(i,s,$-6,$-3,$-2,$-1);U(Z[0]),U(Z[1]),U(Z[3]),U(Z[1]),U(Z[2]),U(Z[3])}function B(q){s.push(l[q*3+0]),s.push(l[q*3+1]),s.push(l[q*3+2])}function U(q){r.push(q.x),r.push(q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return O4(n,i,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=n[e.shapes[r]];i.push(o)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new rp[s.type]().fromJSON(s)),new nv(i,e.options)}}const D4={generateTopUV:function(t,e,n,i,s){const r=e[n*3],a=e[n*3+1],o=e[i*3],l=e[i*3+1],c=e[s*3],u=e[s*3+1];return[new Te(r,a),new Te(o,l),new Te(c,u)]},generateSideWallUV:function(t,e,n,i,s,r){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],h=e[s*3],f=e[s*3+1],m=e[s*3+2],v=e[r*3],p=e[r*3+1],g=e[r*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new Te(a,1-l),new Te(c,1-d),new Te(h,1-m),new Te(v,1-g)]:[new Te(o,1-l),new Te(u,1-d),new Te(f,1-m),new Te(p,1-g)]}};function O4(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const r=t[i];n.shapes.push(r.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class iv extends Qa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new iv(e.radius,e.detail)}}class ah extends Qa{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ah(e.radius,e.detail)}}class sv extends bt{constructor(e=.5,n=1,i=32,s=1,r=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:a},i=Math.max(3,i),s=Math.max(1,s);const o=[],l=[],c=[],u=[];let d=e;const h=(n-e)/s,f=new G,m=new Te;for(let v=0;v<=s;v++){for(let p=0;p<=i;p++){const g=r+p/i*a;f.x=d*Math.cos(g),f.y=d*Math.sin(g),l.push(f.x,f.y,f.z),c.push(0,0,1),m.x=(f.x/n+1)/2,m.y=(f.y/n+1)/2,u.push(m.x,m.y)}d+=h}for(let v=0;v<s;v++){const p=v*(i+1);for(let g=0;g<i;g++){const y=g+p,x=y,w=y+i+1,E=y+i+2,C=y+1;o.push(x,w,C),o.push(w,E,C)}}this.setIndex(o),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(c,3)),this.setAttribute("uv",new et(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class rv extends bt{constructor(e=new Yo([new Te(0,.5),new Te(-.5,-.5),new Te(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],s=[],r=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new et(s,3)),this.setAttribute("normal",new et(r,3)),this.setAttribute("uv",new et(a,2));function c(u){const d=s.length/3,h=u.extractPoints(n);let f=h.shape;const m=h.holes;dr.isClockWise(f)===!1&&(f=f.reverse());for(let p=0,g=m.length;p<g;p++){const y=m[p];dr.isClockWise(y)===!0&&(m[p]=y.reverse())}const v=dr.triangulateShape(f,m);for(let p=0,g=m.length;p<g;p++){const y=m[p];f=f.concat(y)}for(let p=0,g=f.length;p<g;p++){const y=f[p];s.push(y.x,y.y,0),r.push(0,0,1),a.push(y.x,y.y)}for(let p=0,g=v.length;p<g;p++){const y=v[p],x=y[0]+d,w=y[1]+d,E=y[2]+d;i.push(x,w,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return N4(n,e)}static fromJSON(e,n){const i=[];for(let s=0,r=e.shapes.length;s<r;s++){const a=n[e.shapes[s]];i.push(a)}return new rv(i,e.curveSegments)}}function N4(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const s=t[n];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class oh extends bt{constructor(e=1,n=32,i=16,s=0,r=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:s,phiLength:r,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const u=[],d=new G,h=new G,f=[],m=[],v=[],p=[];for(let g=0;g<=i;g++){const y=[],x=g/i;let w=0;g===0&&a===0?w=.5/n:g===i&&l===Math.PI&&(w=-.5/n);for(let E=0;E<=n;E++){const C=E/n;d.x=-e*Math.cos(s+C*r)*Math.sin(a+x*o),d.y=e*Math.cos(a+x*o),d.z=e*Math.sin(s+C*r)*Math.sin(a+x*o),m.push(d.x,d.y,d.z),h.copy(d).normalize(),v.push(h.x,h.y,h.z),p.push(C+w,1-x),y.push(c++)}u.push(y)}for(let g=0;g<i;g++)for(let y=0;y<n;y++){const x=u[g][y+1],w=u[g][y],E=u[g+1][y],C=u[g+1][y+1];(g!==0||a>0)&&f.push(x,w,C),(g!==i-1||l<Math.PI)&&f.push(w,E,C)}this.setIndex(f),this.setAttribute("position",new et(m,3)),this.setAttribute("normal",new et(v,3)),this.setAttribute("uv",new et(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class av extends Qa{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new av(e.radius,e.detail)}}class ov extends bt{constructor(e=1,n=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const a=[],o=[],l=[],c=[],u=new G,d=new G,h=new G;for(let f=0;f<=i;f++)for(let m=0;m<=s;m++){const v=m/s*r,p=f/i*Math.PI*2;d.x=(e+n*Math.cos(p))*Math.cos(v),d.y=(e+n*Math.cos(p))*Math.sin(v),d.z=n*Math.sin(p),o.push(d.x,d.y,d.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),h.subVectors(d,u).normalize(),l.push(h.x,h.y,h.z),c.push(m/s),c.push(f/i)}for(let f=1;f<=i;f++)for(let m=1;m<=s;m++){const v=(s+1)*f+m-1,p=(s+1)*(f-1)+m-1,g=(s+1)*(f-1)+m,y=(s+1)*f+m;a.push(v,p,y),a.push(p,g,y)}this.setIndex(a),this.setAttribute("position",new et(o,3)),this.setAttribute("normal",new et(l,3)),this.setAttribute("uv",new et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ov(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class lv extends bt{constructor(e=1,n=.4,i=64,s=8,r=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:s,p:r,q:a},i=Math.floor(i),s=Math.floor(s);const o=[],l=[],c=[],u=[],d=new G,h=new G,f=new G,m=new G,v=new G,p=new G,g=new G;for(let x=0;x<=i;++x){const w=x/i*r*Math.PI*2;y(w,r,a,e,f),y(w+.01,r,a,e,m),p.subVectors(m,f),g.addVectors(m,f),v.crossVectors(p,g),g.crossVectors(v,p),v.normalize(),g.normalize();for(let E=0;E<=s;++E){const C=E/s*Math.PI*2,A=-n*Math.cos(C),S=n*Math.sin(C);d.x=f.x+(A*g.x+S*v.x),d.y=f.y+(A*g.y+S*v.y),d.z=f.z+(A*g.z+S*v.z),l.push(d.x,d.y,d.z),h.subVectors(d,f).normalize(),c.push(h.x,h.y,h.z),u.push(x/i),u.push(E/s)}}for(let x=1;x<=i;x++)for(let w=1;w<=s;w++){const E=(s+1)*(x-1)+(w-1),C=(s+1)*x+(w-1),A=(s+1)*x+w,S=(s+1)*(x-1)+w;o.push(E,C,S),o.push(C,A,S)}this.setIndex(o),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(c,3)),this.setAttribute("uv",new et(u,2));function y(x,w,E,C,A){const S=Math.cos(x),_=Math.sin(x),b=E/w*x,T=Math.cos(b);A.x=C*(2+T)*.5*S,A.y=C*(2+T)*_*.5,A.z=C*Math.sin(b)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class cv extends bt{constructor(e=new L_(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:s,closed:r};const a=e.computeFrenetFrames(n,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new G,l=new G,c=new Te;let u=new G;const d=[],h=[],f=[],m=[];v(),this.setIndex(m),this.setAttribute("position",new et(d,3)),this.setAttribute("normal",new et(h,3)),this.setAttribute("uv",new et(f,2));function v(){for(let x=0;x<n;x++)p(x);p(r===!1?n:0),y(),g()}function p(x){u=e.getPointAt(x/n,u);const w=a.normals[x],E=a.binormals[x];for(let C=0;C<=s;C++){const A=C/s*Math.PI*2,S=Math.sin(A),_=-Math.cos(A);l.x=_*w.x+S*E.x,l.y=_*w.y+S*E.y,l.z=_*w.z+S*E.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=u.x+i*l.x,o.y=u.y+i*l.y,o.z=u.z+i*l.z,d.push(o.x,o.y,o.z)}}function g(){for(let x=1;x<=n;x++)for(let w=1;w<=s;w++){const E=(s+1)*(x-1)+(w-1),C=(s+1)*x+(w-1),A=(s+1)*x+w,S=(s+1)*(x-1)+w;m.push(E,C,S),m.push(C,A,S)}}function y(){for(let x=0;x<=n;x++)for(let w=0;w<=s;w++)c.x=x/n,c.y=w/s,f.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new cv(new rp[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class uP extends bt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,s=new G,r=new G;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],h=d.start,f=d.count;for(let m=h,v=h+f;m<v;m+=3)for(let p=0;p<3;p++){const g=o.getX(m+p),y=o.getX(m+(p+1)%3);s.fromBufferAttribute(a,g),r.fromBufferAttribute(a,y),H1(s,r,i)===!0&&(n.push(s.x,s.y,s.z),n.push(r.x,r.y,r.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;s.fromBufferAttribute(a,u),r.fromBufferAttribute(a,d),H1(s,r,i)===!0&&(n.push(s.x,s.y,s.z),n.push(r.x,r.y,r.z))}}this.setAttribute("position",new et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function H1(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(s)===!0?!1:(n.add(i),n.add(s),!0)}var G1=Object.freeze({__proto__:null,BoxGeometry:Za,CapsuleGeometry:Zp,CircleGeometry:Jp,ConeGeometry:Qp,CylinderGeometry:Qc,DodecahedronGeometry:ev,EdgesGeometry:aP,ExtrudeGeometry:nv,IcosahedronGeometry:iv,LatheGeometry:rh,OctahedronGeometry:ah,PlaneGeometry:Ja,PolyhedronGeometry:Qa,RingGeometry:sv,ShapeGeometry:rv,SphereGeometry:oh,TetrahedronGeometry:av,TorusGeometry:ov,TorusKnotGeometry:lv,TubeGeometry:cv,WireframeGeometry:uP});class dP extends $n{static get type(){return"ShadowMaterial"}constructor(e){super(),this.isShadowMaterial=!0,this.color=new Be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class id extends Ui{static get type(){return"RawShaderMaterial"}constructor(e){super(e),this.isRawShaderMaterial=!0}}class lh extends $n{static get type(){return"MeshStandardMaterial"}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new Be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _r extends lh{static get type(){return"MeshPhysicalMaterial"}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Te(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Be(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class hP extends $n{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new Be(16777215),this.specular=new Be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bi,this.combine=Kd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fP extends $n{static get type(){return"MeshToonMaterial"}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new Be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class mP extends $n{static get type(){return"MeshNormalMaterial"}constructor(e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class pP extends $n{static get type(){return"MeshLambertMaterial"}constructor(e){super(),this.isMeshLambertMaterial=!0,this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bi,this.combine=Kd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vP extends $n{static get type(){return"MeshMatcapMaterial"}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new Be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gP extends bi{static get type(){return"LineDashedMaterial"}constructor(e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Vo(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function yP(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bP(t){function e(s,r){return t[s]-t[r]}const n=t.length,i=new Array(n);for(let s=0;s!==n;++s)i[s]=s;return i.sort(e),i}function y0(t,e,n){const i=t.length,s=new t.constructor(i);for(let r=0,a=0;a!==i;++r){const o=n[r]*e;for(let l=0;l!==e;++l)s[a++]=t[o+l]}return s}function D_(t,e,n,i){let s=1,r=t[0];for(;r!==void 0&&r[i]===void 0;)r=t[s++];if(r===void 0)return;let a=r[i];if(a!==void 0)if(Array.isArray(a))do a=r[i],a!==void 0&&(e.push(r.time),n.push.apply(n,a)),r=t[s++];while(r!==void 0);else if(a.toArray!==void 0)do a=r[i],a!==void 0&&(e.push(r.time),a.toArray(n,n.length)),r=t[s++];while(r!==void 0);else do a=r[i],a!==void 0&&(e.push(r.time),n.push(a)),r=t[s++];while(r!==void 0)}function V4(t,e,n,i,s=30){const r=t.clone();r.name=e;const a=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],u=c.getValueSize(),d=[],h=[];for(let f=0;f<c.times.length;++f){const m=c.times[f]*s;if(!(m<n||m>=i)){d.push(c.times[f]);for(let v=0;v<u;++v)h.push(c.values[f*u+v])}}d.length!==0&&(c.times=Vo(d,c.times.constructor),c.values=Vo(h,c.values.constructor),a.push(c))}r.tracks=a;let o=1/0;for(let l=0;l<r.tracks.length;++l)o>r.tracks[l].times[0]&&(o=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*o);return r.resetDuration(),r}function F4(t,e=0,n=t,i=30){i<=0&&(i=30);const s=n.tracks.length,r=e/i;for(let a=0;a<s;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===o.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);const m=o.times.length-1;let v;if(r<=o.times[0]){const g=u,y=d-u;v=o.values.slice(g,y)}else if(r>=o.times[m]){const g=m*d+u,y=g+d-u;v=o.values.slice(g,y)}else{const g=o.createInterpolant(),y=u,x=d-u;g.evaluate(r),v=g.resultBuffer.slice(y,x)}l==="quaternion"&&new Qn().fromArray(v).normalize().conjugate().toArray(v);const p=c.times.length;for(let g=0;g<p;++g){const y=g*f+h;if(l==="quaternion")Qn.multiplyQuaternionsFlat(c.values,y,v,0,c.values,y);else{const x=f-h*2;for(let w=0;w<x;++w)c.values[y+w]-=v[w]}}}return t.blendMode=h_,t}const B4={convertArray:Vo,isTypedArray:yP,getKeyframeOrder:bP,sortedArray:y0,flattenJSON:D_,subclip:V4,makeClipAdditive:F4};class eu{constructor(e,n,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,s=n[i],r=n[i-1];e:{t:{let a;n:{i:if(!(e<s)){for(let o=i+2;;){if(s===void 0){if(e<r)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(r=s,s=n[++i],e<s)break t}a=n.length;break n}if(!(e>=r)){const o=n[1];e<o&&(i=2,r=o);for(let l=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(s=r,r=n[--i-1],e>=r)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<n[o]?a=o:i=o+1}if(s=n[i],r=n[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let a=0;a!==s;++a)n[a]=i[r+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _P extends eu{constructor(e,n,i,s){super(e,n,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Do,endingEnd:Do}}intervalChanged_(e,n,i){const s=this.parameterPositions;let r=e-2,a=e+1,o=s[r],l=s[a];if(o===void 0)switch(this.getSettings_().endingStart){case Oo:r=e,o=2*n-i;break;case vd:r=s.length-2,o=n+s[r]-s[r+1];break;default:r=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Oo:a=e,l=2*i-n;break;case vd:a=1,l=i+s[1]-s[0];break;default:a=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-i),this._offsetPrev=r*u,this._offsetNext=a*u}interpolate_(e,n,i,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,m=(i-n)/(s-n),v=m*m,p=v*m,g=-h*p+2*h*v-h*m,y=(1+h)*p+(-1.5-2*h)*v+(-.5+h)*m+1,x=(-1-f)*p+(1.5+f)*v+.5*m,w=f*p-f*v;for(let E=0;E!==o;++E)r[E]=g*a[u+E]+y*a[c+E]+x*a[l+E]+w*a[d+E];return r}}class O_ extends eu{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(i-n)/(s-n),d=1-u;for(let h=0;h!==o;++h)r[h]=a[c+h]*d+a[l+h]*u;return r}}class xP extends eu{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ys{constructor(e,n,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Vo(n,this.TimeBufferType),this.values=Vo(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Vo(e.times,Array),values:Vo(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new xP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new O_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _P(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ol:n=this.InterpolantFactoryMethodDiscrete;break;case ll:n=this.InterpolantFactoryMethodLinear;break;case Qf:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ol;case this.InterpolantFactoryMethodLinear:return ll;case this.InterpolantFactoryMethodSmooth:return Qf}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]*=e}return this}trim(e,n){const i=this.times,s=i.length;let r=0,a=s-1;for(;r!==s&&i[r]<e;)++r;for(;a!==-1&&i[a]>n;)--a;if(++a,r!==0||a!==s){r>=a&&(a=Math.max(a,1),r=a-1);const o=this.getValueSize();this.times=i.slice(r,a),this.values=this.values.slice(r*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==r;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(s!==void 0&&yP(s))for(let o=0,l=s.length;o!==l;++o){const c=s[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Qf,r=e.length-1;let a=1;for(let o=1;o<r;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(s)l=!0;else{const d=o*i,h=d-i,f=d+i;for(let m=0;m!==i;++m){const v=n[d+m];if(v!==n[h+m]||v!==n[f+m]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const d=o*i,h=a*i;for(let f=0;f!==i;++f)n[h+f]=n[d+f]}++a}}if(r>0){e[a]=e[r];for(let o=r*i,l=a*i,c=0;c!==i;++c)n[l+c]=n[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,s=new i(this.name,e,n);return s.createInterpolant=this.createInterpolant,s}}Ys.prototype.TimeBufferType=Float32Array;Ys.prototype.ValueBufferType=Float32Array;Ys.prototype.DefaultInterpolation=ll;class Cl extends Ys{constructor(e,n,i){super(e,n,i)}}Cl.prototype.ValueTypeName="bool";Cl.prototype.ValueBufferType=Array;Cl.prototype.DefaultInterpolation=ol;Cl.prototype.InterpolantFactoryMethodLinear=void 0;Cl.prototype.InterpolantFactoryMethodSmooth=void 0;class N_ extends Ys{}N_.prototype.ValueTypeName="color";class Bc extends Ys{}Bc.prototype.ValueTypeName="number";class wP extends eu{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-n)/(s-n);let c=e*o;for(let u=c+o;c!==u;c+=4)Qn.slerpFlat(r,0,a,c-o,a,c,l);return r}}class ul extends Ys{InterpolantFactoryMethodLinear(e){return new wP(this.times,this.values,this.getValueSize(),e)}}ul.prototype.ValueTypeName="quaternion";ul.prototype.InterpolantFactoryMethodSmooth=void 0;class Tl extends Ys{constructor(e,n,i){super(e,n,i)}}Tl.prototype.ValueTypeName="string";Tl.prototype.ValueBufferType=Array;Tl.prototype.DefaultInterpolation=ol;Tl.prototype.InterpolantFactoryMethodLinear=void 0;Tl.prototype.InterpolantFactoryMethodSmooth=void 0;class Uc extends Ys{}Uc.prototype.ValueTypeName="vector";class zc{constructor(e="",n=-1,i=[],s=Hp){this.name=e,this.tracks=i,this.duration=n,this.blendMode=s,this.uuid=ls(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,s=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)n.push(z4(i[a]).scale(s));const r=new this(e.name,e.duration,n,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const n=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=i.length;r!==a;++r)n.push(Ys.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,n,i,s){const r=n.length,a=[];for(let o=0;o<r;o++){let l=[],c=[];l.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);const u=bP(l);l=y0(l,1,u),c=y0(c,1,u),!s&&l[0]===0&&(l.push(r),c.push(c[0])),a.push(new Bc(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===n)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(r);if(u&&u.length>1){const d=u[1];let h=s[d];h||(s[d]=h=[]),h.push(c)}}const a=[];for(const o in s)a.push(this.CreateFromMorphTargetSequence(o,s[o],n,i));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,h,f,m,v){if(f.length!==0){const p=[],g=[];D_(f,p,g,m),p.length!==0&&v.push(new d(h,p,g))}},s=[],r=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const f={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let v=0;v<h[m].morphTargets.length;v++)f[h[m].morphTargets[v]]=-1;for(const v in f){const p=[],g=[];for(let y=0;y!==h[m].morphTargets.length;++y){const x=h[m];p.push(x.time),g.push(x.morphTarget===v?1:0)}s.push(new Bc(".morphTargetInfluence["+v+"]",p,g))}l=f.length*a}else{const f=".bones["+n[d].name+"]";i(Uc,f+".position",h,"pos",s),i(ul,f+".quaternion",h,"rot",s),i(Uc,f+".scale",h,"scl",s)}}return s.length===0?null:new this(r,l,s,o)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,s=e.length;i!==s;++i){const r=this.tracks[i];n=Math.max(n,r.times[r.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function U4(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bc;case"vector":case"vector2":case"vector3":case"vector4":return Uc;case"color":return N_;case"quaternion":return ul;case"bool":case"boolean":return Cl;case"string":return Tl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function z4(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=U4(t.type);if(t.times===void 0){const n=[],i=[];D_(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const $r={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class V_{constructor(e,n,i){const s=this;let r=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){o++,r===!1&&s.onStart!==void 0&&s.onStart(u,a,o),r=!0},this.itemEnd=function(u){a++,s.onProgress!==void 0&&s.onProgress(u,a,o),a===o&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(u){s.onError!==void 0&&s.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],m=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return m}return null}}}const SP=new V_;class _i{constructor(e){this.manager=e!==void 0?e:SP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(s,r){i.load(e,s,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}_i.DEFAULT_MATERIAL_NAME="__DEFAULT";const Nr={};class H4 extends Error{constructor(e,n){super(e),this.response=n}}class us extends _i{constructor(e){super(e)}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=$r.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(r),this.manager.itemEnd(e)},0),r;if(Nr[e]!==void 0){Nr[e].push({onLoad:n,onProgress:i,onError:s});return}Nr[e]=[],Nr[e].push({onLoad:n,onProgress:i,onError:s});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Nr[e],d=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),f=h?parseInt(h):0,m=f!==0;let v=0;const p=new ReadableStream({start(g){y();function y(){d.read().then(({done:x,value:w})=>{if(x)g.close();else{v+=w.byteLength;const E=new ProgressEvent("progress",{lengthComputable:m,loaded:v,total:f});for(let C=0,A=u.length;C<A;C++){const S=u[C];S.onProgress&&S.onProgress(E)}g.enqueue(w),y()}},x=>{g.error(x)})}}});return new Response(p)}else throw new H4(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),h=d&&d[1]?d[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(m=>f.decode(m))}}}).then(c=>{$r.add(e,c);const u=Nr[e];delete Nr[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onLoad&&f.onLoad(c)}}).catch(c=>{const u=Nr[e];if(u===void 0)throw this.manager.itemError(e),c;delete Nr[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class G4 extends _i{constructor(e){super(e)}load(e,n,i,s){const r=this,a=new us(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(r.parse(JSON.parse(o)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n=[];for(let i=0;i<e.length;i++){const s=zc.parse(e[i]);n.push(s)}return n}}class W4 extends _i{constructor(e){super(e)}load(e,n,i,s){const r=this,a=[],o=new Xo,l=new us(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(r.withCredentials);let c=0;function u(d){l.load(e[d],function(h){const f=r.parse(h,!0);a[d]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},c+=1,c===6&&(f.mipmapCount===1&&(o.minFilter=In),o.image=a,o.format=f.format,o.needsUpdate=!0,n&&n(o))},i,s)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)u(d);else l.load(e,function(d){const h=r.parse(d,!0);if(h.isCubemap){const f=h.mipmaps.length/h.mipmapCount;for(let m=0;m<f;m++){a[m]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)a[m].mipmaps.push(h.mipmaps[m*h.mipmapCount+v]),a[m].format=h.format,a[m].width=h.width,a[m].height=h.height}o.image=a}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=In),o.format=h.format,o.needsUpdate=!0,n&&n(o)},i,s);return o}}class Md extends _i{constructor(e){super(e)}load(e,n,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=$r.get(e);if(a!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(a),r.manager.itemEnd(e)},0),a;const o=bd("img");function l(){u(),$r.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(d){u(),s&&s(d),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}}class $4 extends _i{constructor(e){super(e)}load(e,n,i,s){const r=new nh;r.colorSpace=Pi;const a=new Md(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){r.images[c]=u,o++,o===6&&(r.needsUpdate=!0,n&&n(r))},void 0,s)}for(let c=0;c<e.length;++c)l(c);return r}}class j4 extends _i{constructor(e){super(e)}load(e,n,i,s){const r=this,a=new ur,o=new us(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(e,function(l){let c;try{c=r.parse(l)}catch(u){if(s!==void 0)s(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:qi,a.wrapT=c.wrapT!==void 0?c.wrapT:qi,a.magFilter=c.magFilter!==void 0?c.magFilter:In,a.minFilter=c.minFilter!==void 0?c.minFilter:In,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=as),c.mipmapCount===1&&(a.minFilter=In),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},i,s),a}}class MP extends _i{constructor(e){super(e)}load(e,n,i,s){const r=new un,a=new Md(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){r.image=o,r.needsUpdate=!0,n!==void 0&&n(r)},i,s),r}}class eo extends Nt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Be(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class CP extends eo{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Be(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const ty=new lt,W1=new G,$1=new G;class F_{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Te(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ih,this._frameExtents=new Te(1,1),this._viewportCount=1,this._viewports=[new Tt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;W1.setFromMatrixPosition(e.matrixWorld),n.position.copy(W1),$1.setFromMatrixPosition(e.target.matrixWorld),n.lookAt($1),n.updateMatrixWorld(),ty.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ty),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(ty)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class X4 extends F_{constructor(){super(new Qt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=Oc*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=e.distance||n.far;(i!==n.fov||s!==n.aspect||r!==n.far)&&(n.fov=i,n.aspect=s,n.far=r,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class B_ extends eo{constructor(e,n,i=0,s=Math.PI/3,r=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.target=new Nt,this.distance=i,this.angle=s,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new X4}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const j1=new lt,Tu=new G,ny=new G;class Y4 extends F_{constructor(){super(new Qt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Te(4,2),this._viewportCount=6,this._viewports=[new Tt(2,1,1,1),new Tt(0,1,1,1),new Tt(3,1,1,1),new Tt(1,1,1,1),new Tt(3,0,1,1),new Tt(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Tu.setFromMatrixPosition(e.matrixWorld),i.position.copy(Tu),ny.copy(i.position),ny.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(ny),i.updateMatrixWorld(),s.makeTranslation(-Tu.x,-Tu.y,-Tu.z),j1.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(j1)}}class U_ extends eo{constructor(e,n,i=0,s=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new Y4}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class q4 extends F_{constructor(){super(new ws(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class z_ extends eo{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.target=new Nt,this.shadow=new q4}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class TP extends eo{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class EP extends eo{constructor(e,n,i=10,s=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class AP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,s=e.y,r=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*s),n.addScaledVector(a[2],.488603*r),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*s)),n.addScaledVector(a[5],1.092548*(s*r)),n.addScaledVector(a[6],.315392*(3*r*r-1)),n.addScaledVector(a[7],1.092548*(i*r)),n.addScaledVector(a[8],.546274*(i*i-s*s)),n}getIrradianceAt(e,n){const i=e.x,s=e.y,r=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*s),n.addScaledVector(a[2],2*.511664*r),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*s),n.addScaledVector(a[5],2*.429043*s*r),n.addScaledVector(a[6],.743125*r*r-.247708),n.addScaledVector(a[7],2*.429043*i*r),n.addScaledVector(a[8],.429043*(i*i-s*s)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,n+s*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,n+s*3);return e}static getBasisAt(e,n){const i=e.x,s=e.y,r=e.z;n[0]=.282095,n[1]=.488603*s,n[2]=.488603*r,n[3]=.488603*i,n[4]=1.092548*i*s,n[5]=1.092548*s*r,n[6]=.315392*(3*r*r-1),n[7]=1.092548*i*r,n[8]=.546274*(i*i-s*s)}}class PP extends eo{constructor(e=new AP,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class uv extends _i{constructor(e){super(e),this.textures={}}load(e,n,i,s){const r=this,a=new us(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(o){try{n(r.parse(JSON.parse(o)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n=this.textures;function i(r){return n[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),n[r]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new Be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const a=e.uniforms[r];switch(s.uniforms[r]={},a.type){case"t":s.uniforms[r].value=i(a.value);break;case"c":s.uniforms[r].value=new Be().setHex(a.value);break;case"v2":s.uniforms[r].value=new Te().fromArray(a.value);break;case"v3":s.uniforms[r].value=new G().fromArray(a.value);break;case"v4":s.uniforms[r].value=new Tt().fromArray(a.value);break;case"m3":s.uniforms[r].value=new _t().fromArray(a.value);break;case"m4":s.uniforms[r].value=new lt().fromArray(a.value);break;default:s.uniforms[r].value=a.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)s.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new Te().fromArray(r)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Te().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return uv.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:dP,SpriteMaterial:S_,RawShaderMaterial:id,ShaderMaterial:Ui,PointsMaterial:qp,MeshPhysicalMaterial:_r,MeshStandardMaterial:lh,MeshPhongMaterial:hP,MeshToonMaterial:fP,MeshNormalMaterial:mP,MeshLambertMaterial:pP,MeshDepthMaterial:x_,MeshDistanceMaterial:w_,MeshBasicMaterial:Oi,MeshMatcapMaterial:vP,LineDashedMaterial:gP,LineBasicMaterial:bi,Material:$n};return new n[e]}}class hr{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,s=e.length;i<s;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class IP extends bt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class RP extends _i{constructor(e){super(e)}load(e,n,i,s){const r=this,a=new us(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(o){try{n(r.parse(JSON.parse(o)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n={},i={};function s(f,m){if(n[m]!==void 0)return n[m];const p=f.interleavedBuffers[m],g=r(f,p.buffer),y=pc(p.type,g),x=new Jc(y,p.stride);return x.uuid=p.uuid,n[m]=x,x}function r(f,m){if(i[m]!==void 0)return i[m];const p=f.arrayBuffers[m],g=new Uint32Array(p).buffer;return i[m]=g,g}const a=e.isInstancedBufferGeometry?new IP:new bt,o=e.data.index;if(o!==void 0){const f=pc(o.type,o.array);a.setIndex(new At(f,1))}const l=e.data.attributes;for(const f in l){const m=l[f];let v;if(m.isInterleavedBufferAttribute){const p=s(e.data,m.data);v=new mr(p,m.itemSize,m.offset,m.normalized)}else{const p=pc(m.type,m.array),g=m.isInstancedBufferAttribute?Fc:At;v=new g(p,m.itemSize,m.normalized)}m.name!==void 0&&(v.name=m.name),m.usage!==void 0&&v.setUsage(m.usage),a.setAttribute(f,v)}const c=e.data.morphAttributes;if(c)for(const f in c){const m=c[f],v=[];for(let p=0,g=m.length;p<g;p++){const y=m[p];let x;if(y.isInterleavedBufferAttribute){const w=s(e.data,y.data);x=new mr(w,y.itemSize,y.offset,y.normalized)}else{const w=pc(y.type,y.array);x=new At(w,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),v.push(x)}a.morphAttributes[f]=v}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let f=0,m=d.length;f!==m;++f){const v=d[f];a.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const f=new G;h.center!==void 0&&f.fromArray(h.center),a.boundingSphere=new ti(f,h.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class K4 extends _i{constructor(e){super(e)}load(e,n,i,s){const r=this,a=this.path===""?hr.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new us(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){s!==void 0&&s(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(c,n)},i,s)}async loadAsync(e,n){const i=this,s=this.path===""?hr.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const r=new us(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const a=await r.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,n){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,s),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,r,l,o,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let d=!1;for(const h in a)if(a[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,s,o,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const r=new Yo().fromJSON(e[i]);n[r.uuid]=r}return n}parseSkeletons(e,n){const i={},s={};if(n.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),e!==void 0)for(let r=0,a=e.length;r<a;r++){const o=new sh().fromJSON(e[r],s);i[o.uuid]=o}return i}parseGeometries(e,n){const i={};if(e!==void 0){const s=new RP;for(let r=0,a=e.length;r<a;r++){let o;const l=e[r];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=s.parse(l);break;default:l.type in G1?o=G1[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,n){const i={},s={};if(e!==void 0){const r=new uv;r.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=r.parse(l)),s[l.uuid]=i[l.uuid]}}return s}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],r=zc.parse(s);n[r.uuid]=r}return n}parseImages(e,n){const i=this,s={};let r;function a(l){return i.manager.itemStart(l),r.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(u)}else return l.data?{data:pc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new V_(n);r=new Md(l),r.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],h=d.url;if(Array.isArray(h)){const f=[];for(let m=0,v=h.length;m<v;m++){const p=h[m],g=o(p);g!==null&&(g instanceof HTMLImageElement?f.push(g):f.push(new ur(g.data,g.width,g.height)))}s[d.uuid]=new No(f)}else{const f=o(d.url);s[d.uuid]=new No(f)}}}return s}async parseImagesAsync(e){const n=this,i={};let s;async function r(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await s.loadAsync(l)}else return a.data?{data:pc(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){s=new Md(this.manager),s.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,h=c.length;d<h;d++){const f=c[d],m=await r(f);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new ur(m.data,m.width,m.height)))}i[l.uuid]=new No(u)}else{const u=await r(l.url);i[l.uuid]=new No(u)}}}return i}parseTextures(e,n){function i(r,a){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),a[r])}const s={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const o=e[r];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new nh,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new ur:u=new un,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=i(o.mapping,Z4)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=i(o.wrap[0],X1),u.wrapT=i(o.wrap[1],X1)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=i(o.minFilter,Y1)),o.magFilter!==void 0&&(u.magFilter=i(o.magFilter,Y1)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),s[o.uuid]=u}return s}parseObject(e,n,i,s,r){let a;function o(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const f=[];for(let m=0,v=h.length;m<v;m++){const p=h[m];i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),f.push(i[p])}return f}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function c(h){return s[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),s[h]}let u,d;switch(e.type){case"Scene":a=new Vc,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Be(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Xp(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new jp(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Qt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new ws(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new TP(e.color,e.intensity);break;case"DirectionalLight":a=new z_(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new U_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new EP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new B_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new CP(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new PP().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),a=new M_(u,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),a=new nn(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const h=e.count,f=e.instanceMatrix,m=e.instanceColor;a=new C_(u,d,h),a.instanceMatrix=new Fc(new Float32Array(f.array),16),m!==void 0&&(a.instanceColor=new Fc(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":u=o(e.geometry),d=l(e.material),a=new eP(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(v=>{const p=new ei;p.min.fromArray(v.boxMin),p.max.fromArray(v.boxMax);const g=new ti;return g.radius=v.sphereRadius,g.center.fromArray(v.sphereCenter),{boxInitialized:v.boxInitialized,box:p,sphereInitialized:v.sphereInitialized,sphere:g}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new QA;break;case"Line":a=new ia(o(e.geometry),l(e.material));break;case"LineLoop":a=new T_(o(e.geometry),l(e.material));break;case"LineSegments":a=new js(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new E_(o(e.geometry),l(e.material));break;case"Sprite":a=new JA(l(e.material));break;case"Group":a=new Wr;break;case"Bone":a=new Yp;break;default:a=new Nt}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let f=0;f<h.length;f++)a.add(this.parseObject(h[f],n,i,s,r))}if(e.animations!==void 0){const h=e.animations;for(let f=0;f<h.length;f++){const m=h[f];a.animations.push(r[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let f=0;f<h.length;f++){const m=h[f],v=a.getObjectByProperty("uuid",m.object);v!==void 0&&a.addLevel(v,m.distance,m.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=n[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,s=e.getObjectByProperty("uuid",i);s!==void 0?n.target=s:n.target=new Nt}})}}const Z4={UVMapping:Op,CubeReflectionMapping:ea,CubeRefractionMapping:Wa,EquirectangularReflectionMapping:md,EquirectangularRefractionMapping:pd,CubeUVReflectionMapping:Kc},X1={RepeatWrapping:ta,ClampToEdgeWrapping:qi,MirroredRepeatWrapping:sl},Y1={NearestFilter:Wn,NearestMipmapNearestFilter:Zd,NearestMipmapLinearFilter:Fa,LinearFilter:In,LinearMipmapNearestFilter:Wo,LinearMipmapLinearFilter:as};class LP extends _i{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=$r.get(e);if(a!==void 0){if(r.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),r.manager.itemEnd(e)}).catch(c=>{s&&s(c)});return}return setTimeout(function(){n&&n(a),r.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(c){return $r.add(e,c),n&&n(c),r.manager.itemEnd(e),c}).catch(function(c){s&&s(c),$r.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});$r.add(e,l),r.manager.itemStart(e)}}let Tf;class H_{static getContext(){return Tf===void 0&&(Tf=new(window.AudioContext||window.webkitAudioContext)),Tf}static setContext(e){Tf=e}}class J4 extends _i{constructor(e){super(e)}load(e,n,i,s){const r=this,a=new us(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);H_.getContext().decodeAudioData(c,function(d){n(d)}).catch(o)}catch(c){o(c)}},i,s);function o(l){s?s(l):console.error(l),r.manager.itemError(e)}}}const q1=new lt,K1=new lt,go=new lt;class Q4{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,go.copy(e.projectionMatrix);const s=n.eyeSep/2,r=s*n.near/n.focus,a=n.near*Math.tan(jo*n.fov*.5)/n.zoom;let o,l;K1.elements[12]=-s,q1.elements[12]=s,o=-a*n.aspect+r,l=a*n.aspect+r,go.elements[0]=2*n.near/(l-o),go.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(go),o=-a*n.aspect-r,l=a*n.aspect-r,go.elements[0]=2*n.near/(l-o),go.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(go)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(K1),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(q1)}}class G_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Z1(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=Z1();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function Z1(){return performance.now()}const yo=new G,J1=new Qn,e5=new G,bo=new G;class t5 extends Nt{constructor(){super(),this.type="AudioListener",this.context=H_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new G_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yo,J1,e5),bo.set(0,0,-1).applyQuaternion(J1),n.positionX){const s=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(yo.x,s),n.positionY.linearRampToValueAtTime(yo.y,s),n.positionZ.linearRampToValueAtTime(yo.z,s),n.forwardX.linearRampToValueAtTime(bo.x,s),n.forwardY.linearRampToValueAtTime(bo.y,s),n.forwardZ.linearRampToValueAtTime(bo.z,s),n.upX.linearRampToValueAtTime(i.x,s),n.upY.linearRampToValueAtTime(i.y,s),n.upZ.linearRampToValueAtTime(i.z,s)}else n.setPosition(yo.x,yo.y,yo.z),n.setOrientation(bo.x,bo.y,bo.z,i.x,i.y,i.z)}}class kP extends Nt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const _o=new G,Q1=new Qn,n5=new G,xo=new G;class i5 extends kP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_o,Q1,n5),xo.set(0,0,1).applyQuaternion(Q1);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(_o.x,i),n.positionY.linearRampToValueAtTime(_o.y,i),n.positionZ.linearRampToValueAtTime(_o.z,i),n.orientationX.linearRampToValueAtTime(xo.x,i),n.orientationY.linearRampToValueAtTime(xo.y,i),n.orientationZ.linearRampToValueAtTime(xo.z,i)}else n.setPosition(_o.x,_o.y,_o.z),n.setOrientation(xo.x,xo.y,xo.z)}}class s5{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class DP{constructor(e,n,i){this.binding=e,this.valueSize=i;let s,r,a;switch(n){case"quaternion":s=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,s=this.valueSize,r=e*s+s;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==s;++o)i[r+o]=i[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(i,r,0,o,s)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,s=e*n+n,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const l=n*this._origIndex;this._mixBufferRegion(i,s,l,1-r,n)}a>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){o.setValue(i,s);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(n,s);for(let r=i,a=s;r!==a;++r)n[r]=n[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,s,r){if(s>=.5)for(let a=0;a!==r;++a)e[n+a]=e[i+a]}_slerp(e,n,i,s){Qn.slerpFlat(e,n,e,n,e,i,s)}_slerpAdditive(e,n,i,s,r){const a=this._workIndex*r;Qn.multiplyQuaternionsFlat(e,a,e,n,e,i),Qn.slerpFlat(e,n,e,n,e,a,s)}_lerp(e,n,i,s,r){const a=1-s;for(let o=0;o!==r;++o){const l=n+o;e[l]=e[l]*a+e[i+o]*s}}_lerpAdditive(e,n,i,s,r){for(let a=0;a!==r;++a){const o=n+a;e[o]=e[o]+e[i+a]*s}}}const W_="\\[\\]\\.:\\/",r5=new RegExp("["+W_+"]","g"),$_="[^"+W_+"]",a5="[^"+W_.replace("\\.","")+"]",o5=/((?:WC+[\/:])*)/.source.replace("WC",$_),l5=/(WCOD+)?/.source.replace("WCOD",a5),c5=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$_),u5=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$_),d5=new RegExp("^"+o5+l5+c5+u5+"$"),h5=["material","materials","bones","map"];class f5{constructor(e,n,i){const s=i||Et.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,s)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Et{constructor(e,n,i){this.path=n,this.parsedPath=i||Et.parseTrackName(n),this.node=Et.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Et.Composite(e,n,i):new Et(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(r5,"")}static parseTrackName(e){const n=d5.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);h5.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(r){for(let a=0;a<r.length;a++){const o=r[a];if(o.name===n||o.uuid===n)return o;const l=i(o.children);if(l)return l}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)e[n++]=i[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,s=n.propertyName;let r=n.propertyIndex;if(e||(e=Et.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[s];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+s+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Et.Composite=f5;Et.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Et.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Et.prototype.GetterByBindingType=[Et.prototype._getValue_direct,Et.prototype._getValue_array,Et.prototype._getValue_arrayElement,Et.prototype._getValue_toArray];Et.prototype.SetterByBindingTypeAndVersioning=[[Et.prototype._setValue_direct,Et.prototype._setValue_direct_setNeedsUpdate,Et.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_array,Et.prototype._setValue_array_setNeedsUpdate,Et.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_arrayElement,Et.prototype._setValue_arrayElement_setNeedsUpdate,Et.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_fromArray,Et.prototype._setValue_fromArray_setNeedsUpdate,Et.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class m5{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ls(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,a=r.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const h=arguments[u],f=h.uuid;let m=n[f];if(m===void 0){m=l++,n[f]=m,e.push(h);for(let v=0,p=a;v!==p;++v)r[v].push(new Et(h,i[v],s[v]))}else if(m<c){o=e[m];const v=--c,p=e[v];n[p.uuid]=m,e[m]=p,n[f]=v,e[v]=h;for(let g=0,y=a;g!==y;++g){const x=r[g],w=x[v];let E=x[m];x[m]=w,E===void 0&&(E=new Et(h,i[g],s[g])),x[v]=E}}else e[m]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=r){const d=r++,h=e[d];n[h.uuid]=u,e[u]=h,n[c]=d,e[d]=l;for(let f=0,m=s;f!==m;++f){const v=i[f],p=v[d],g=v[u];v[u]=p,v[d]=g}}}this.nCachedObjects_=r}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<r){const h=--r,f=e[h],m=--a,v=e[m];n[f.uuid]=d,e[d]=f,n[v.uuid]=h,e[h]=v,e.pop();for(let p=0,g=s;p!==g;++p){const y=i[p],x=y[h],w=y[m];y[d]=x,y[h]=w,y.pop()}}else{const h=--a,f=e[h];h>0&&(n[f.uuid]=d),e[d]=f,e.pop();for(let m=0,v=s;m!==v;++m){const p=i[m];p[d]=p[h],p.pop()}}}this.nCachedObjects_=r}subscribe_(e,n){const i=this._bindingsIndicesByPath;let s=i[e];const r=this._bindings;if(s!==void 0)return r[s];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);s=r.length,i[e]=s,a.push(e),o.push(n),r.push(d);for(let h=u,f=l.length;h!==f;++h){const m=l[h];d[h]=new Et(m,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const s=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];n[c]=i,a[i]=l,a.pop(),r[i]=r[o],r.pop(),s[i]=s[o],s.pop()}}}class OP{constructor(e,n,i=null,s=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=s;const r=n.tracks,a=r.length,o=new Array(a),l={endingStart:Do,endingEnd:Do};for(let c=0;c!==a;++c){const u=r[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=SA,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const s=this._clip.duration,r=e._clip.duration,a=r/s,o=s/r;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const s=this._mixer,r=s.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=s._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=r,l[1]=r+i,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const l=(e-r)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case h_:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case Hp:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(s,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let s=this.time+e,r=this._loopCount;const a=i===MA;if(e===0)return r===-1?s:a&&(r&1)===1?n-s:s;if(i===wA){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),s>=n||s<0){const o=Math.floor(s/n);s-=n*o,r+=Math.abs(o);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=s;if(a&&(r&1)===1)return n-s}return s}_setEndings(e,n,i){const s=this._interpolantSettings;i?(s.endingStart=Oo,s.endingEnd=Oo):(e?s.endingStart=this.zeroSlopeAtStart?Oo:Do:s.endingStart=vd,n?s.endingEnd=this.zeroSlopeAtEnd?Oo:Do:s.endingEnd=vd)}_scheduleFading(e,n,i){const s=this._mixer,r=s.time;let a=this._weightInterpolant;a===null&&(a=s._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=r,l[0]=n,o[1]=r+e,l[1]=i,this}}const p5=new Float32Array(1);class v5 extends $s{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,s=e._clip.tracks,r=s.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==r;++d){const h=s[d],f=h.name;let m=u[f];if(m!==void 0)++m.referenceCount,a[d]=m;else{if(m=a[d],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,f));continue}const v=n&&n._propertyBindings[d].binding.parsedPath;m=new DP(Et.create(i,f,v),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,f),a[d]=m}o[d].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,i)}const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const s=this._actions,r=this._actionsByClip;let a=r[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=s.length,s.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],s=e._cacheIndex;i._cacheIndex=s,n[s]=i,n.pop(),e._cacheIndex=null;const r=e._clip.uuid,a=this._actionsByClip,o=a[r],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,s=this._nActiveActions++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,s=--this._nActiveActions,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_addInactiveBinding(e,n,i){const s=this._bindingsByRootAndName,r=this._bindings;let a=s[n];a===void 0&&(a={},s[n]=a),a[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,s=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[s],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[r],Object.keys(o).length===0&&delete a[s]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new O_(new Float32Array(2),new Float32Array(2),1,p5),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=n[s];e.__cacheIndex=s,n[s]=e,r.__cacheIndex=i,n[i]=r}clipAction(e,n,i){const s=n||this._root,r=s.uuid;let a=typeof e=="string"?zc.findByName(s,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=Hp),l!==void 0){const d=l.actionByRoot[r];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new OP(this,a,n,i);return this._bindAction(u,c),this._addInactiveAction(u,o,r),u}existingAction(e,n){const i=n||this._root,s=i.uuid,r=typeof e=="string"?zc.findByName(i,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[s]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,s=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(s,e,r,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const a=r.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete s[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const s=this._bindingsByRootAndName,r=s[n];if(r!==void 0)for(const a in r){const o=r[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class dv{constructor(e){this.value=e}clone(){return new dv(this.value.clone===void 0?this.value:this.value.clone())}}let g5=0;class y5 extends $s{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:g5++}),this.name="",this.usage=gd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,s=n.length;i<s;i++){const r=Array.isArray(n[i])?n[i]:[n[i]];for(let a=0;a<r.length;a++)this.uniforms.push(r[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class b5 extends Jc{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class _5{constructor(e,n,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const eM=new lt;class NP{constructor(e,n,i=0,s=1/0){this.ray=new Ml(e,n),this.near=i,this.far=s,this.camera=null,this.layers=new Wp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return eM.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(eM),this}intersectObject(e,n=!0,i=[]){return b0(e,this,i,n),i.sort(tM),i}intersectObjects(e,n=!0,i=[]){for(let s=0,r=e.length;s<r;s++)b0(e[s],this,i,n);return i.sort(tM),i}}function tM(t,e){return t.distance-e.distance}function b0(t,e,n,i){let s=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(s=!1),s===!0&&i===!0){const r=t.children;for(let a=0,o=r.length;a<o;a++)b0(r[a],e,n,!0)}}class _0{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Pn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class x5{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class j_{constructor(e,n,i,s){j_.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,s){const r=this.elements;return r[0]=e,r[2]=n,r[1]=i,r[3]=s,this}}const nM=new Te;class VP{constructor(e=new Te(1/0,1/0),n=new Te(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=nM.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,nM).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const iM=new G,Ef=new G;class FP{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){iM.subVectors(e,this.start),Ef.subVectors(this.end,this.start);const i=Ef.dot(Ef);let r=Ef.dot(iM)/i;return n&&(r=Pn(r,0,1)),r}closestPointToPoint(e,n,i){const s=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const sM=new G;class w5 extends Nt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new bt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;s.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new et(s,3));const r=new bi({fog:!1,toneMapped:!1});this.cone=new js(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),sM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ma=new G,Af=new lt,iy=new lt;class S5 extends js{constructor(e){const n=BP(e),i=new bt,s=[],r=[],a=new Be(0,0,1),o=new Be(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}i.setAttribute("position",new et(s,3)),i.setAttribute("color",new et(r,3));const l=new bi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,s=i.getAttribute("position");iy.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<n.length;r++){const o=n[r];o.parent&&o.parent.isBone&&(Af.multiplyMatrices(iy,o.matrixWorld),Ma.setFromMatrixPosition(Af),s.setXYZ(a,Ma.x,Ma.y,Ma.z),Af.multiplyMatrices(iy,o.parent.matrixWorld),Ma.setFromMatrixPosition(Af),s.setXYZ(a+1,Ma.x,Ma.y,Ma.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function BP(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,BP(t.children[n]));return e}class M5 extends nn{constructor(e,n,i){const s=new oh(n,4,2),r=new Oi({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const C5=new G,rM=new Be,aM=new Be;class T5 extends Nt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new ah(n);s.rotateY(Math.PI*.5),this.material=new Oi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),a=new Float32Array(r.count*3);s.setAttribute("color",new At(a,3)),this.add(new nn(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");rM.copy(this.light.color),aM.copy(this.light.groundColor);for(let i=0,s=n.count;i<s;i++){const r=i<s/2?rM:aM;n.setXYZ(i,r.r,r.g,r.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(C5.setFromMatrixPosition(this.light.matrixWorld).negate())}}class E5 extends js{constructor(e=10,n=10,i=4473924,s=8947848){i=new Be(i),s=new Be(s);const r=n/2,a=e/n,o=e/2,l=[],c=[];for(let h=0,f=0,m=-o;h<=n;h++,m+=a){l.push(-o,0,m,o,0,m),l.push(m,0,-o,m,0,o);const v=h===r?i:s;v.toArray(c,f),f+=3,v.toArray(c,f),f+=3,v.toArray(c,f),f+=3,v.toArray(c,f),f+=3}const u=new bt;u.setAttribute("position",new et(l,3)),u.setAttribute("color",new et(c,3));const d=new bi({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class A5 extends js{constructor(e=10,n=16,i=8,s=64,r=4473924,a=8947848){r=new Be(r),a=new Be(a);const o=[],l=[];if(n>1)for(let d=0;d<n;d++){const h=d/n*(Math.PI*2),f=Math.sin(h)*e,m=Math.cos(h)*e;o.push(0,0,0),o.push(f,0,m);const v=d&1?r:a;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<i;d++){const h=d&1?r:a,f=e-e/i*d;for(let m=0;m<s;m++){let v=m/s*(Math.PI*2),p=Math.sin(v)*f,g=Math.cos(v)*f;o.push(p,0,g),l.push(h.r,h.g,h.b),v=(m+1)/s*(Math.PI*2),p=Math.sin(v)*f,g=Math.cos(v)*f,o.push(p,0,g),l.push(h.r,h.g,h.b)}}const c=new bt;c.setAttribute("position",new et(o,3)),c.setAttribute("color",new et(l,3));const u=new bi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const oM=new G,Pf=new G,lM=new G;class P5 extends Nt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let s=new bt;s.setAttribute("position",new et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const r=new bi({fog:!1,toneMapped:!1});this.lightPlane=new ia(s,r),this.add(this.lightPlane),s=new bt,s.setAttribute("position",new et([0,0,0,0,0,1],3)),this.targetLine=new ia(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oM.setFromMatrixPosition(this.light.matrixWorld),Pf.setFromMatrixPosition(this.light.target.matrixWorld),lM.subVectors(Pf,oM),this.lightPlane.lookAt(Pf),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Pf),this.targetLine.scale.z=lM.length()}}const If=new G,En=new th;class I5 extends js{constructor(e){const n=new bt,i=new bi({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(m,v){l(m),l(v)}function l(m){s.push(0,0,0),r.push(0,0,0),a[m]===void 0&&(a[m]=[]),a[m].push(s.length/3-1)}n.setAttribute("position",new et(s,3)),n.setAttribute("color",new et(r,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Be(16755200),u=new Be(16711680),d=new Be(43775),h=new Be(16777215),f=new Be(3355443);this.setColors(c,u,d,h,f)}setColors(e,n,i,s,r){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,s.r,s.g,s.b),o.setXYZ(39,s.r,s.g,s.b),o.setXYZ(40,r.r,r.g,r.b),o.setXYZ(41,r.r,r.g,r.b),o.setXYZ(42,r.r,r.g,r.b),o.setXYZ(43,r.r,r.g,r.b),o.setXYZ(44,r.r,r.g,r.b),o.setXYZ(45,r.r,r.g,r.b),o.setXYZ(46,r.r,r.g,r.b),o.setXYZ(47,r.r,r.g,r.b),o.setXYZ(48,r.r,r.g,r.b),o.setXYZ(49,r.r,r.g,r.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,s=1;En.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),kn("c",n,e,En,0,0,-1),kn("t",n,e,En,0,0,1),kn("n1",n,e,En,-i,-s,-1),kn("n2",n,e,En,i,-s,-1),kn("n3",n,e,En,-i,s,-1),kn("n4",n,e,En,i,s,-1),kn("f1",n,e,En,-i,-s,1),kn("f2",n,e,En,i,-s,1),kn("f3",n,e,En,-i,s,1),kn("f4",n,e,En,i,s,1),kn("u1",n,e,En,i*.7,s*1.1,-1),kn("u2",n,e,En,-i*.7,s*1.1,-1),kn("u3",n,e,En,0,s*2,-1),kn("cf1",n,e,En,-i,0,1),kn("cf2",n,e,En,i,0,1),kn("cf3",n,e,En,0,-s,1),kn("cf4",n,e,En,0,s,1),kn("cn1",n,e,En,-i,0,-1),kn("cn2",n,e,En,i,0,-1),kn("cn3",n,e,En,0,-s,-1),kn("cn4",n,e,En,0,s,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kn(t,e,n,i,s,r,a){If.set(s,r,a).unproject(i);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],If.x,If.y,If.z)}}const Rf=new ei;class R5 extends js{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new bt;r.setIndex(new At(i,1)),r.setAttribute("position",new At(s,3)),super(r,new bi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Rf.setFromObject(this.object),Rf.isEmpty())return;const n=Rf.min,i=Rf.max,s=this.geometry.attributes.position,r=s.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=n.x,r[4]=i.y,r[5]=i.z,r[6]=n.x,r[7]=n.y,r[8]=i.z,r[9]=i.x,r[10]=n.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=n.z,r[15]=n.x,r[16]=i.y,r[17]=n.z,r[18]=n.x,r[19]=n.y,r[20]=n.z,r[21]=i.x,r[22]=n.y,r[23]=n.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class L5 extends js{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new bt;r.setIndex(new At(i,1)),r.setAttribute("position",new et(s,3)),super(r,new bi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class k5 extends ia{constructor(e,n=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new bt;a.setAttribute("position",new et(r,3)),a.computeBoundingSphere(),super(a,new bi({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new bt;l.setAttribute("position",new et(o,3)),l.computeBoundingSphere(),this.add(new nn(l,new Oi({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const cM=new G;let Lf,sy;class D5 extends Nt{constructor(e=new G(0,0,1),n=new G(0,0,0),i=1,s=16776960,r=i*.2,a=r*.2){super(),this.type="ArrowHelper",Lf===void 0&&(Lf=new bt,Lf.setAttribute("position",new et([0,0,0,0,1,0],3)),sy=new Qc(0,.5,1,5,1),sy.translate(0,-.5,0)),this.position.copy(n),this.line=new ia(Lf,new bi({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new nn(sy,new Oi({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{cM.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(cM,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class O5 extends js{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new bt;s.setAttribute("position",new et(n,3)),s.setAttribute("color",new et(i,3));const r=new bi({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(e,n,i){const s=new Be,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(n),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UP{constructor(){this.type="ShapePath",this.color=new Be,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new _d,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,s){return this.currentPath.quadraticCurveTo(e,n,i,s),this}bezierCurveTo(e,n,i,s,r,a){return this.currentPath.bezierCurveTo(e,n,i,s,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const y=[];for(let x=0,w=g.length;x<w;x++){const E=g[x],C=new Yo;C.curves=E.curves,y.push(C)}return y}function i(g,y){const x=y.length;let w=!1;for(let E=x-1,C=0;C<x;E=C++){let A=y[E],S=y[C],_=S.x-A.x,b=S.y-A.y;if(Math.abs(b)>Number.EPSILON){if(b<0&&(A=y[C],_=-_,S=y[E],b=-b),g.y<A.y||g.y>S.y)continue;if(g.y===A.y){if(g.x===A.x)return!0}else{const T=b*(g.x-A.x)-_*(g.y-A.y);if(T===0)return!0;if(T<0)continue;w=!w}}else{if(g.y!==A.y)continue;if(S.x<=g.x&&g.x<=A.x||A.x<=g.x&&g.x<=S.x)return!0}}return w}const s=dr.isClockWise,r=this.subPaths;if(r.length===0)return[];let a,o,l;const c=[];if(r.length===1)return o=r[0],l=new Yo,l.curves=o.curves,c.push(l),c;let u=!s(r[0].getPoints());u=e?!u:u;const d=[],h=[];let f=[],m=0,v;h[m]=void 0,f[m]=[];for(let g=0,y=r.length;g<y;g++)o=r[g],v=o.getPoints(),a=s(v),a=e?!a:a,a?(!u&&h[m]&&m++,h[m]={s:new Yo,p:v},h[m].s.curves=o.curves,u&&m++,f[m]=[]):f[m].push({h:o,p:v[0]});if(!h[0])return n(r);if(h.length>1){let g=!1,y=0;for(let x=0,w=h.length;x<w;x++)d[x]=[];for(let x=0,w=h.length;x<w;x++){const E=f[x];for(let C=0;C<E.length;C++){const A=E[C];let S=!0;for(let _=0;_<h.length;_++)i(A.p,h[_].p)&&(x!==_&&y++,S?(S=!1,d[_].push(A)):g=!0);S&&d[x].push(A)}}y>0&&g===!1&&(f=d)}let p;for(let g=0,y=h.length;g<y;g++){l=h[g].s,c.push(l),p=f[g];for(let x=0,w=p.length;x<w;x++)l.holes.push(p[x].h)}return c}}class N5 extends $s{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class V5 extends Ts{constructor(e=1,n=1,i=1,s={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...s,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qc);const F5=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:n_,AddEquation:Na,AddOperation:mA,AdditiveAnimationBlendMode:h_,AdditiveBlending:_m,AgXToneMapping:bA,AlphaFormat:a_,AlwaysCompare:OA,AlwaysDepth:Mm,AlwaysStencilFunc:c0,AmbientLight:TP,AnimationAction:OP,AnimationClip:zc,AnimationLoader:G4,AnimationMixer:v5,AnimationObjectGroup:m5,AnimationUtils:B4,ArcCurve:tP,ArrayCamera:KA,ArrowHelper:D5,AttachedBindMode:l0,Audio:kP,AudioAnalyser:s5,AudioContext:H_,AudioListener:t5,AudioLoader:J4,AxesHelper:O5,BackSide:yi,BasicDepthPacking:TA,BasicShadowMap:HO,BatchedMesh:eP,Bone:Yp,BooleanKeyframeTrack:Cl,Box2:VP,Box3:ei,Box3Helper:L5,BoxGeometry:Za,BoxHelper:R5,BufferAttribute:At,BufferGeometry:bt,BufferGeometryLoader:RP,ByteType:i_,Cache:$r,Camera:th,CameraHelper:I5,CanvasTexture:c4,CapsuleGeometry:Zp,CatmullRomCurve3:nP,CineonToneMapping:gA,CircleGeometry:Jp,ClampToEdgeWrapping:qi,Clock:G_,Color:Be,ColorKeyframeTrack:N_,ColorManagement:kt,CompressedArrayTexture:o4,CompressedCubeTexture:l4,CompressedTexture:Xo,CompressedTextureLoader:W4,ConeGeometry:Qp,ConstantAlphaFactor:dA,ConstantColorFactor:cA,Controls:N5,CubeCamera:HA,CubeReflectionMapping:ea,CubeRefractionMapping:Wa,CubeTexture:nh,CubeTextureLoader:$4,CubeUVReflectionMapping:Kc,CubicBezierCurve:P_,CubicBezierCurve3:iP,CubicInterpolant:_P,CullFaceBack:r0,CullFaceFront:YE,CullFaceFrontBack:zO,CullFaceNone:XE,Curve:Xs,CurvePath:rP,CustomBlending:qE,CustomToneMapping:yA,CylinderGeometry:Qc,Cylindrical:x5,Data3DTexture:v_,DataArrayTexture:Gp,DataTexture:ur,DataTextureLoader:j4,DataUtils:JN,DecrementStencilOp:QO,DecrementWrapStencilOp:tN,DefaultLoadingManager:SP,DepthFormat:$o,DepthStencilFormat:al,DepthTexture:__,DetachedBindMode:xA,DirectionalLight:z_,DirectionalLightHelper:P5,DiscreteInterpolant:xP,DodecahedronGeometry:ev,DoubleSide:Li,DstAlphaFactor:sA,DstColorFactor:aA,DynamicCopyUsage:vN,DynamicDrawUsage:uN,DynamicReadUsage:fN,EdgesGeometry:aP,EllipseCurve:Kp,EqualCompare:RA,EqualDepth:Tm,EqualStencilFunc:rN,EquirectangularReflectionMapping:md,EquirectangularRefractionMapping:pd,Euler:Bi,EventDispatcher:$s,ExtrudeGeometry:nv,FileLoader:us,Float16BufferAttribute:sV,Float32BufferAttribute:et,FloatType:Ki,Fog:Xp,FogExp2:jp,FramebufferTexture:p0,FrontSide:fr,Frustum:ih,GLBufferAttribute:_5,GLSL1:yN,GLSL3:u0,GreaterCompare:LA,GreaterDepth:Am,GreaterEqualCompare:DA,GreaterEqualDepth:Em,GreaterEqualStencilFunc:cN,GreaterStencilFunc:oN,GridHelper:E5,Group:Wr,HalfFloatType:wl,HemisphereLight:CP,HemisphereLightHelper:T5,IcosahedronGeometry:iv,ImageBitmapLoader:LP,ImageLoader:Md,ImageUtils:FA,IncrementStencilOp:JO,IncrementWrapStencilOp:eN,InstancedBufferAttribute:Fc,InstancedBufferGeometry:IP,InstancedInterleavedBuffer:b5,InstancedMesh:C_,Int16BufferAttribute:nV,Int32BufferAttribute:iV,Int8BufferAttribute:QN,IntType:Np,InterleavedBuffer:Jc,InterleavedBufferAttribute:mr,Interpolant:eu,InterpolateDiscrete:ol,InterpolateLinear:ll,InterpolateSmooth:Qf,InvertStencilOp:nN,KeepStencilOp:Io,KeyframeTrack:Ys,LOD:QA,LatheGeometry:rh,Layers:Wp,LessCompare:IA,LessDepth:Cm,LessEqualCompare:m_,LessEqualDepth:il,LessEqualStencilFunc:aN,LessStencilFunc:sN,Light:eo,LightProbe:PP,Line:ia,Line3:FP,LineBasicMaterial:bi,LineCurve:I_,LineCurve3:sP,LineDashedMaterial:gP,LineLoop:T_,LineSegments:js,LinearFilter:In,LinearInterpolant:O_,LinearMipMapLinearFilter:jO,LinearMipMapNearestFilter:$O,LinearMipmapLinearFilter:as,LinearMipmapNearestFilter:Wo,LinearSRGBColorSpace:Sl,LinearToneMapping:pA,LinearTransfer:Qd,Loader:_i,LoaderUtils:hr,LoadingManager:V_,LoopOnce:wA,LoopPingPong:MA,LoopRepeat:SA,LuminanceAlphaFormat:c_,LuminanceFormat:l_,MOUSE:Po,Material:$n,MaterialLoader:uv,MathUtils:$a,Matrix2:j_,Matrix3:_t,Matrix4:lt,MaxEquation:QE,Mesh:nn,MeshBasicMaterial:Oi,MeshDepthMaterial:x_,MeshDistanceMaterial:w_,MeshLambertMaterial:pP,MeshMatcapMaterial:vP,MeshNormalMaterial:mP,MeshPhongMaterial:hP,MeshPhysicalMaterial:_r,MeshStandardMaterial:lh,MeshToonMaterial:fP,MinEquation:JE,MirroredRepeatWrapping:sl,MixOperation:fA,MultiplyBlending:o0,MultiplyOperation:Kd,NearestFilter:Wn,NearestMipMapLinearFilter:WO,NearestMipMapNearestFilter:GO,NearestMipmapLinearFilter:Fa,NearestMipmapNearestFilter:Zd,NeutralToneMapping:_A,NeverCompare:PA,NeverDepth:Sm,NeverStencilFunc:iN,NoBlending:Xr,NoColorSpace:Hr,NoToneMapping:Yr,NormalAnimationBlendMode:Hp,NormalBlending:Go,NotEqualCompare:kA,NotEqualDepth:Pm,NotEqualStencilFunc:lN,NumberKeyframeTrack:Bc,Object3D:Nt,ObjectLoader:K4,ObjectSpaceNormalMap:AA,OctahedronGeometry:ah,OneFactor:tA,OneMinusConstantAlphaFactor:hA,OneMinusConstantColorFactor:uA,OneMinusDstAlphaFactor:rA,OneMinusDstColorFactor:oA,OneMinusSrcAlphaFactor:wm,OneMinusSrcColorFactor:iA,OrthographicCamera:ws,PCFShadowMap:e_,PCFSoftShadowMap:t_,PMREMGenerator:d0,Path:_d,PerspectiveCamera:Qt,Plane:ir,PlaneGeometry:Ja,PlaneHelper:k5,PointLight:U_,PointLightHelper:M5,Points:E_,PointsMaterial:qp,PolarGridHelper:A5,PolyhedronGeometry:Qa,PositionalAudio:i5,PropertyBinding:Et,PropertyMixer:DP,QuadraticBezierCurve:R_,QuadraticBezierCurve3:L_,Quaternion:Qn,QuaternionKeyframeTrack:ul,QuaternionLinearInterpolant:wP,RED_GREEN_RGTC2_Format:ep,RED_RGTC1_Format:d_,REVISION:qc,RGBADepthPacking:EA,RGBAFormat:pi,RGBAIntegerFormat:zp,RGBA_ASTC_10x10_Format:Ym,RGBA_ASTC_10x5_Format:$m,RGBA_ASTC_10x6_Format:jm,RGBA_ASTC_10x8_Format:Xm,RGBA_ASTC_12x10_Format:qm,RGBA_ASTC_12x12_Format:Km,RGBA_ASTC_4x4_Format:Vm,RGBA_ASTC_5x4_Format:Fm,RGBA_ASTC_5x5_Format:Bm,RGBA_ASTC_6x5_Format:Um,RGBA_ASTC_6x6_Format:zm,RGBA_ASTC_8x5_Format:Hm,RGBA_ASTC_8x6_Format:Gm,RGBA_ASTC_8x8_Format:Wm,RGBA_BPTC_Format:Ju,RGBA_ETC2_EAC_Format:Nm,RGBA_PVRTC_2BPPV1_Format:km,RGBA_PVRTC_4BPPV1_Format:Lm,RGBA_S3TC_DXT1_Format:qu,RGBA_S3TC_DXT3_Format:Ku,RGBA_S3TC_DXT5_Format:Zu,RGBDepthPacking:YO,RGBFormat:o_,RGBIntegerFormat:XO,RGB_BPTC_SIGNED_Format:Zm,RGB_BPTC_UNSIGNED_Format:Jm,RGB_ETC1_Format:Dm,RGB_ETC2_Format:Om,RGB_PVRTC_2BPPV1_Format:Rm,RGB_PVRTC_4BPPV1_Format:Im,RGB_S3TC_DXT1_Format:Yu,RGDepthPacking:qO,RGFormat:u_,RGIntegerFormat:Up,RawShaderMaterial:id,Ray:Ml,Raycaster:NP,RectAreaLight:EP,RedFormat:Bp,RedIntegerFormat:Jd,ReinhardToneMapping:vA,RenderTarget:BA,RepeatWrapping:ta,ReplaceStencilOp:ZO,ReverseSubtractEquation:ZE,RingGeometry:sv,SIGNED_RED_GREEN_RGTC2_Format:tp,SIGNED_RED_RGTC1_Format:Qm,SRGBColorSpace:Pi,SRGBTransfer:Jt,Scene:Vc,ShaderChunk:Ct,ShaderLib:xs,ShaderMaterial:Ui,ShadowMaterial:dP,Shape:Yo,ShapeGeometry:rv,ShapePath:UP,ShapeUtils:dr,ShortType:s_,Skeleton:sh,SkeletonHelper:S5,SkinnedMesh:M_,Source:No,Sphere:ti,SphereGeometry:oh,Spherical:_0,SphericalHarmonics3:AP,SplineCurve:k_,SpotLight:B_,SpotLightHelper:w5,Sprite:JA,SpriteMaterial:S_,SrcAlphaFactor:xm,SrcAlphaSaturateFactor:lA,SrcColorFactor:nA,StaticCopyUsage:pN,StaticDrawUsage:gd,StaticReadUsage:hN,StereoCamera:Q4,StreamCopyUsage:gN,StreamDrawUsage:dN,StreamReadUsage:mN,StringKeyframeTrack:Tl,SubtractEquation:KE,SubtractiveBlending:a0,TOUCH:Br,TangentSpaceNormalMap:Ka,TetrahedronGeometry:av,Texture:un,TextureLoader:MP,TextureUtils:zz,TorusGeometry:ov,TorusKnotGeometry:lv,Triangle:Di,TriangleFanDrawMode:np,TriangleStripDrawMode:f_,TrianglesDrawMode:CA,TubeGeometry:cv,UVMapping:Op,Uint16BufferAttribute:g_,Uint32BufferAttribute:y_,Uint8BufferAttribute:eV,Uint8ClampedBufferAttribute:tV,Uniform:dv,UniformsGroup:y5,UniformsLib:Ge,UniformsUtils:eh,UnsignedByteType:Cs,UnsignedInt248Type:rl,UnsignedInt5999Type:r_,UnsignedIntType:na,UnsignedShort4444Type:Vp,UnsignedShort5551Type:Fp,UnsignedShortType:Dc,VSMShadowMap:nr,Vector2:Te,Vector3:G,Vector4:Tt,VectorKeyframeTrack:Uc,VideoTexture:a4,WebGL3DRenderTarget:HN,WebGLArrayRenderTarget:zN,WebGLCoordinateSystem:ar,WebGLCubeRenderTarget:GA,WebGLMultipleRenderTargets:V5,WebGLRenderTarget:Ts,WebGLRenderer:ed,WebGLUtils:qA,WebGPUCoordinateSystem:yd,WireframeGeometry:uP,WrapAroundEnding:vd,ZeroCurvatureEnding:Do,ZeroFactor:eA,ZeroSlopeEnding:Oo,ZeroStencilOp:KO,createCanvasElement:VA},Symbol.toStringTag,{value:"Module"}));function pr(t){return Lb()?(si(t),!0):!1}function Cd(){const t=new Set,e=s=>{t.delete(s)};return{on:s=>{t.add(s);const r=()=>e(s);return pr(r),{off:r}},off:e,trigger:(...s)=>Promise.all(Array.from(t).map(r=>r(...s)))}}function cn(t){return typeof t=="function"?t():Ae(t)}const x0=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const zP=t=>t!=null,B5=Object.prototype.toString,ap=t=>B5.call(t)==="[object Object]",Ec=()=>{};function U5(t,e){function n(...i){return new Promise((s,r)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(s).catch(r)})}return n}function z5(t,e={}){let n,i,s=Ec;const r=o=>{clearTimeout(o),s(),s=Ec};return o=>{const l=cn(t),c=cn(e.maxWait);return n&&r(n),l<=0||c!==void 0&&c<=0?(i&&(r(i),i=null),Promise.resolve(o())):new Promise((u,d)=>{s=e.rejectOnCancel?d:u,c&&!i&&(i=setTimeout(()=>{n&&r(n),i=null,u(o())},c)),n=setTimeout(()=>{i&&r(i),i=null,u(o())},l)})}}function H5(t,e,n=!1){return e.reduce((i,s)=>(s in t&&(!n||t[s]!==void 0)&&(i[s]=t[s]),i),{})}function HP(t){return Qr()}function G5(t,e=200,n={}){return U5(z5(e,n),t)}function uM(t,e=200,n={}){const i=he(t.value),s=G5(()=>{i.value=t.value},e,n);return Pe(t,()=>s()),i}function W5(t,e={}){if(!an(t))return Hs(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const i in t.value)n[i]=XD(()=>({get(){return t.value[i]},set(s){var r;if((r=cn(e.replaceRef))!=null?r:!0)if(Array.isArray(t.value)){const o=[...t.value];o[i]=s,t.value=o}else{const o={...t.value,[i]:s};Object.setPrototypeOf(o,Object.getPrototypeOf(t.value)),t.value=o}else t.value[i]=s}}));return n}function X_(t,e=!0,n){HP()?Nn(t,n):e?t():Rt(t)}function $5(t,e){HP()&&Gs(t,e)}function j5(t,e=1e3,n={}){const{immediate:i=!0,immediateCallback:s=!1}=n;let r=null;const a=he(!1);function o(){r&&(clearInterval(r),r=null)}function l(){a.value=!1,o()}function c(){const u=cn(e);u<=0||(a.value=!0,s&&t(),o(),r=setInterval(t,u))}if(i&&x0&&c(),an(e)||typeof e=="function"){const u=Pe(e,()=>{a.value&&x0&&c()});pr(u)}return pr(l),{isActive:a,pause:l,resume:c}}function Ni(t){var e;const n=cn(t);return(e=n==null?void 0:n.$el)!=null?e:n}const xr=x0?window:void 0;function Ei(...t){let e,n,i,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,s]=t,e=xr):[e,n,i,s]=t,!e)return Ec;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],a=()=>{r.forEach(u=>u()),r.length=0},o=(u,d,h,f)=>(u.addEventListener(d,h,f),()=>u.removeEventListener(d,h,f)),l=Pe(()=>[Ni(e),cn(s)],([u,d])=>{if(a(),!u)return;const h=ap(d)?{...d}:d;r.push(...n.flatMap(f=>i.map(m=>o(u,f,m,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return pr(c),c}function X5(){const t=he(!1),e=Qr();return e&&Nn(()=>{t.value=!0},e),t}function ch(t){const e=X5();return L(()=>(e.value,!!t()))}function Y5(t,e,n={}){const{window:i=xr,...s}=n;let r;const a=ch(()=>i&&"MutationObserver"in i),o=()=>{r&&(r.disconnect(),r=void 0)},l=L(()=>{const h=cn(t),f=(Array.isArray(h)?h:[h]).map(Ni).filter(zP);return new Set(f)}),c=Pe(()=>l.value,h=>{o(),a.value&&h.size&&(r=new MutationObserver(e),h.forEach(f=>r.observe(f,s)))},{immediate:!0,flush:"post"}),u=()=>r==null?void 0:r.takeRecords(),d=()=>{o(),c()};return pr(d),{isSupported:a,stop:d,takeRecords:u}}function Y_(t,e={}){const{immediate:n=!0,fpsLimit:i=void 0,window:s=xr}=e,r=he(!1),a=i?1e3/i:null;let o=0,l=null;function c(h){if(!r.value||!s)return;o||(o=h);const f=h-o;if(a&&f<a){l=s.requestAnimationFrame(c);return}o=h,t({delta:f,timestamp:h}),l=s.requestAnimationFrame(c)}function u(){!r.value&&s&&(r.value=!0,o=0,l=s.requestAnimationFrame(c))}function d(){r.value=!1,l!=null&&s&&(s.cancelAnimationFrame(l),l=null)}return n&&u(),pr(d),{isActive:Zr(r),pause:d,resume:u}}function q5(t,e={}){const{window:n=xr}=e,i=ch(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const r=he(!1),a=c=>{r.value=c.matches},o=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",a):s.removeListener(a))},l=qt(()=>{i.value&&(o(),s=n.matchMedia(cn(t)),"addEventListener"in s?s.addEventListener("change",a):s.addListener(a),r.value=s.matches)});return pr(()=>{l(),o(),s=void 0}),r}function K5(t={}){const{window:e=xr}=t,n=he(1);if(e){let i=function(){n.value=e.devicePixelRatio,s(),r=e.matchMedia(`(resolution: ${n.value}dppx)`),r.addEventListener("change",i,{once:!0})},s=function(){r==null||r.removeEventListener("change",i)},r;i(),pr(s)}return{pixelRatio:n}}function GP(t,e,n={}){const{window:i=xr,...s}=n;let r;const a=ch(()=>i&&"ResizeObserver"in i),o=()=>{r&&(r.disconnect(),r=void 0)},l=L(()=>Array.isArray(t)?t.map(d=>Ni(d)):[Ni(t)]),c=Pe(l,d=>{if(o(),a.value&&i){r=new ResizeObserver(e);for(const h of d)h&&r.observe(h,s)}},{immediate:!0,flush:"post"}),u=()=>{o(),c()};return pr(u),{isSupported:a,stop:u}}function Z5(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:s=!0,immediate:r=!0}=e,a=he(0),o=he(0),l=he(0),c=he(0),u=he(0),d=he(0),h=he(0),f=he(0);function m(){const v=Ni(t);if(!v){n&&(a.value=0,o.value=0,l.value=0,c.value=0,u.value=0,d.value=0,h.value=0,f.value=0);return}const p=v.getBoundingClientRect();a.value=p.height,o.value=p.bottom,l.value=p.left,c.value=p.right,u.value=p.top,d.value=p.width,h.value=p.x,f.value=p.y}return GP(t,m),Pe(()=>Ni(t),v=>!v&&m()),Y5(t,m,{attributeFilter:["style","class"]}),s&&Ei("scroll",m,{capture:!0,passive:!0}),i&&Ei("resize",m,{passive:!0}),X_(()=>{r&&m()}),{height:a,bottom:o,left:l,right:c,top:u,width:d,x:h,y:f,update:m}}function J5(t,e={width:0,height:0},n={}){const{window:i=xr,box:s="content-box"}=n,r=L(()=>{var d,h;return(h=(d=Ni(t))==null?void 0:d.namespaceURI)==null?void 0:h.includes("svg")}),a=he(e.width),o=he(e.height),{stop:l}=GP(t,([d])=>{const h=s==="border-box"?d.borderBoxSize:s==="content-box"?d.contentBoxSize:d.devicePixelContentBoxSize;if(i&&r.value){const f=Ni(t);if(f){const m=f.getBoundingClientRect();a.value=m.width,o.value=m.height}}else if(h){const f=Array.isArray(h)?h:[h];a.value=f.reduce((m,{inlineSize:v})=>m+v,0),o.value=f.reduce((m,{blockSize:v})=>m+v,0)}else a.value=d.contentRect.width,o.value=d.contentRect.height},n);X_(()=>{const d=Ni(t);d&&(a.value="offsetWidth"in d?d.offsetWidth:e.width,o.value="offsetHeight"in d?d.offsetHeight:e.height)});const c=Pe(()=>Ni(t),d=>{a.value=d?e.width:0,o.value=d?e.height:0});function u(){l(),c()}return{width:a,height:o,stop:u}}function Q5(t,e,n={}){const{root:i,rootMargin:s="0px",threshold:r=.1,window:a=xr,immediate:o=!0}=n,l=ch(()=>a&&"IntersectionObserver"in a),c=L(()=>{const m=cn(t);return(Array.isArray(m)?m:[m]).map(Ni).filter(zP)});let u=Ec;const d=he(o),h=l.value?Pe(()=>[c.value,Ni(i),d.value],([m,v])=>{if(u(),!d.value||!m.length)return;const p=new IntersectionObserver(e,{root:Ni(v),rootMargin:s,threshold:r});m.forEach(g=>g&&p.observe(g)),u=()=>{p.disconnect(),u=Ec}},{immediate:o,flush:"post"}):Ec,f=()=>{u(),h(),d.value=!1};return pr(f),{isSupported:l,isActive:d,pause(){u(),d.value=!1},resume(){d.value=!0},stop:f}}function eH(t){var e;const n=he(0);if(typeof performance>"u")return n;const i=(e=t==null?void 0:t.every)!=null?e:10;let s=performance.now(),r=0;return Y_(()=>{if(r+=1,r>=i){const a=performance.now(),o=a-s;n.value=Math.round(1e3/(o/r)),s=a,r=0}}),n}function tH(t={}){const e=he(),n=ch(()=>typeof performance<"u"&&"memory"in performance);if(n.value){const{interval:i=1e3}=t;j5(()=>{e.value=performance.memory},i,{immediate:t.immediate,immediateCallback:t.immediateCallback})}return{isSupported:n,memory:e}}const WP={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},nH=Object.keys(WP);function iH(t={}){const{target:e=xr}=t,n=he(!1),i=he(t.initialValue||{});Object.assign(i.value,WP,i.value);const s=r=>{n.value=!0,!(t.pointerTypes&&!t.pointerTypes.includes(r.pointerType))&&(i.value=H5(r,nH,!1))};if(e){const r={passive:!0};Ei(e,["pointerdown","pointermove","pointerup"],s,r),Ei(e,"pointerleave",()=>n.value=!1,r)}return{...W5(i),isInside:n}}function sH(t={}){const{window:e=xr,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:r=!0}=t,a=he(n),o=he(i),l=()=>{e&&(r?(a.value=e.innerWidth,o.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};if(l(),X_(l),Ei("resize",l,{passive:!0}),s){const c=q5("(orientation: portrait)");Pe(c,()=>l())}return{width:a,height:o}}var rH=Object.defineProperty,aH=(t,e,n)=>e in t?rH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dM=(t,e,n)=>(aH(t,typeof e!="symbol"?e+"":e,n),n);const oH="@tresjs/core",lH="module",cH="3.9.0",uH="pnpm@8.15.6",dH="Declarative ThreeJS using Vue Components",hH="Alvaro Saburido <hola@alvarosaburido.dev> (https://github.com/alvarosabu/)",fH="MIT",mH=["vue","3d","threejs","three","threejs-vue"],pH=!1,vH={".":{types:"./dist/index.d.ts",import:"./dist/tres.js",require:"./dist/tres.umd.cjs"},"./components":{types:"./dist/src/components/index.d.ts"},"./composables":{types:"./dist/src/composables/index.d.ts"},"./types":{types:"./dist/src/types/index.d.ts"},"./utils":{types:"./dist/src/utils/index.d.ts"},"./*":"./*"},gH="./dist/tres.js",yH="./dist/tres.js",bH="./dist/index.d.ts",_H=["*.d.ts","dist"],xH={access:"public"},wH={dev:"cd playground && npm run dev",build:"vite build",playground:"cd playground && npm run dev",test:"vitest","test:ci":"vitest run","test:ui":"vitest --ui",release:"release-it",coverage:"vitest run --coverage",lint:"eslint .","lint:fix":"eslint . --fix","docs:dev":"vitepress dev docs","docs:build":"vitepress build docs","docs:serve":"vitepress serve docs","docs:preview":"vitepress preview docs","docs:contributors":"esno scripts/update-contributors.ts",prepare:"node .husky/install.mjs"},SH={three:">=0.133",vue:">=3.3"},MH={"@alvarosabu/utils":"^3.1.1","@vue/devtools-api":"^6.6.1","@vueuse/core":"^10.7.0"},CH={"@release-it/conventional-changelog":"^8.0.1","@stackblitz/sdk":"^1.9.0","@tresjs/cientos":"3.8.0","@tresjs/eslint-config":"^1.0.0","@tresjs/eslint-config-vue":"^0.2.1","@types/three":"^0.163.0","@typescript-eslint/eslint-plugin":"^7.7.1","@typescript-eslint/parser":"^7.7.1","@vitejs/plugin-vue":"^5.0.4","@vitest/coverage-c8":"^0.33.0","@vitest/ui":"^1.5.0","@vue/test-utils":"^2.4.3",eslint:"^9.1.1","eslint-plugin-vue":"^9.25.0",esno:"^4.0.0",gsap:"^3.12.3",husky:"^9.0.11",jsdom:"^24.0.0",kolorist:"^1.8.0",ohmyfetch:"^0.4.21",pathe:"^1.1.1","release-it":"^17.2.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-copy":"^3.5.0","rollup-plugin-visualizer":"^5.11.0",three:"^0.163.0",unocss:"^0.59.4",unplugin:"^1.10.1","unplugin-vue-components":"^0.26.0",vite:"^5.2.10","vite-plugin-banner":"^0.7.1","vite-plugin-dts":"3.9.0","vite-plugin-inspect":"^0.8.4","vite-plugin-require-transform":"^1.0.21","vite-svg-loader":"^5.1.0",vitepress:"1.1.3",vitest:"^1.5.0",vue:"^3.4.24","vue-demi":"^0.14.6"},TH={name:oH,type:lH,version:cH,packageManager:uH,description:dH,author:hH,license:fH,keywords:mH,sideEffects:pH,exports:vH,main:gH,module:yH,types:bH,files:_H,publishConfig:xH,scripts:wH,peerDependencies:SH,dependencies:MH,devDependencies:CH},EH=({sizes:t,scene:e})=>{const n=he([]),i=L(()=>n.value[0]),s=o=>{const l=o instanceof th?o:n.value.find(u=>u.uuid===o);if(!l)return;const c=n.value.filter(({uuid:u})=>u!==l.uuid);n.value=[l,...c]},r=(o,l=!1)=>{n.value.some(({uuid:c})=>c===o.uuid)||(l?s(o):n.value.push(o))},a=o=>{n.value=n.value.filter(({uuid:l})=>l!==o.uuid)};return qt(()=>{t.aspectRatio.value&&n.value.forEach(o=>{o instanceof Qt&&(o.aspect=t.aspectRatio.value),(o instanceof Qt||o instanceof ws)&&o.updateProjectionMatrix()})}),e.userData.tres__registerCamera=r,e.userData.tres__deregisterCamera=a,Gs(()=>{n.value=[]}),{camera:i,cameras:n,registerCamera:r,deregisterCamera:a,setCameraActive:s}},$P=Cd(),jP=Cd(),q_=Cd(),sd=new G_;let tm=0,nm=0;const{pause:AH,resume:PH,isActive:IH}=Y_(()=>{$P.trigger({delta:tm,elapsed:nm,clock:sd}),jP.trigger({delta:tm,elapsed:nm,clock:sd}),q_.trigger({delta:tm,elapsed:nm,clock:sd})},{immediate:!1});q_.on(()=>{tm=sd.getDelta(),nm=sd.getElapsedTime()});const tu=()=>({onBeforeLoop:$P.on,onLoop:jP.on,onAfterLoop:q_.on,pause:AH,resume:PH,isActive:IH}),kf="[TresJS ▲ ■ ●] ";function hv(){function t(...i){typeof i[0]=="string"?i[0]=kf+i[0]:i.unshift(kf),console.error(...i)}function e(...i){typeof i[0]=="string"?i[0]=kf+i[0]:i.unshift(kf),console.warn(...i)}function n(i,s){}return{logError:t,logWarning:e,logMessage:n}}function RH(t){return t instanceof Be?t:Array.isArray(t)?new Be(...t):new Be(t)}class LH extends nn{constructor(...e){super(...e),dM(this,"type","HightlightMesh"),dM(this,"createTime"),this.createTime=Date.now()}onBeforeRender(){const e=(Date.now()-this.createTime)/1e3,n=1+.07*Math.sin(2.5*e);this.scale.set(n,n,n)}}const XP=(t,e)=>{for(const n of Object.keys(e))e[n]instanceof Object&&Object.assign(e[n],XP(t[n],e[n]));return Object.assign(t||{},e),t},kH="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",DH=OH(kH);function hM(t){return t&&t.nodeType===1}function Df(t){return t.replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function OH(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return s=>!!n[s]}const NH=(t,e)=>{const n=new Set,i=[];for(const s of t){const r=e(s);n.has(r)||(n.add(r),i.push(s))}return i},fM=(t,e)=>{if(!e)return;const n=Array.isArray(e)?e:e.match(/([^[.\]])+/g);return n==null?void 0:n.reduce((i,s)=>i&&i[s],t)},VH=(t,e,n)=>{const i=Array.isArray(e)?e:e.match(/([^[.\]])+/g);i&&i.reduce((s,r,a)=>(s[r]===void 0&&(s[r]={}),a===i.length-1&&(s[r]=n),s[r]),t)};function YP(t,e){if(hM(t)&&hM(e)){const s=t.attributes,r=e.attributes;return s.length!==r.length?!1:Array.from(s).every(({name:a,value:o})=>e.getAttribute(a)===o)}if(t===e)return!0;if(t===null||typeof t!="object"||e===null||typeof e!="object")return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const s of n)if(!i.includes(s)||!YP(t[s],e[s]))return!1;return!0}function FH(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!YP(t[n],e[n]))return!1;return!0}function BH(t,e,n,i){const s=l=>{if(l.uuid===e)return l;for(const c of l.children){const u=s(c);if(u)return u}},r=s(t);if(!r){console.warn("Object with UUID not found in the scene.");return}let a=r;for(let l=0;l<n.length-1;l++)if(a[n[l]]!==void 0)a=a[n[l]];else{console.warn(`Property path is not valid: ${n.join(".")}`);return}const o=n[n.length-1];a[o]!==void 0?a[o]=i:console.warn(`Property path is not valid: ${n.join(".")}`)}function UH(t){const e=new Oi({color:11003607,transparent:!0,opacity:.2,depthTest:!1,side:Li});return new LH(t.geometry.clone(),e)}const zH=Number.parseInt(qc.replace("dev","")),Of={realistic:{shadows:!0,physicallyCorrectLights:!0,outputColorSpace:Pi,toneMapping:n_,toneMappingExposure:3,shadowMap:{enabled:!0,type:t_}}};function HH({scene:t,canvas:e,options:n,disableRender:i,contextParts:{sizes:s,camera:r}}){const a=L(()=>({alpha:cn(n.alpha),depth:cn(n.depth),canvas:Ni(e),context:cn(n.context),stencil:cn(n.stencil),antialias:cn(n.antialias)===void 0?!0:cn(n.antialias),precision:cn(n.precision),powerPreference:cn(n.powerPreference),premultipliedAlpha:cn(n.premultipliedAlpha),preserveDrawingBuffer:cn(n.preserveDrawingBuffer),logarithmicDepthBuffer:cn(n.logarithmicDepthBuffer),failIfMajorPerformanceCaveat:cn(n.failIfMajorPerformanceCaveat)})),o=De(new ed(a.value));Pe(a,()=>{o.value.dispose(),o.value=new ed(a.value)}),qt(()=>{o.value.setSize(s.width.value,s.height.value)});const{pixelRatio:l}=K5();qt(()=>{o.value.setPixelRatio(l.value)});const{logError:c}=hv(),u=(()=>{const m=new ed,v={shadowMap:{enabled:m.shadowMap.enabled,type:m.shadowMap.type},toneMapping:m.toneMapping,toneMappingExposure:m.toneMappingExposure,outputColorSpace:m.outputColorSpace};return m.dispose(),v})();qt(()=>{const m=cn(n.preset);m&&(m in Of||c(`Renderer Preset must be one of these: ${Object.keys(Of).join(", ")}`),XP(o.value,Of[m]));const v=(y,x)=>{const w=cn(y),E=()=>{if(m)return fM(Of[m],x)};if(w!==void 0)return w;const C=E();return C!==void 0?C:fM(u,x)},p=(y,x)=>VH(o.value,x,v(y,x));p(n.shadows,"shadowMap.enabled"),p(n.toneMapping,"toneMapping"),p(n.shadowMapType,"shadowMap.type"),zH<150&&p(!n.useLegacyLights,"physicallyCorrectLights"),p(n.outputColorSpace,"outputColorSpace"),p(n.toneMappingExposure,"toneMappingExposure");const g=v(n.clearColor,"clearColor");g&&o.value.setClearColor(g?RH(g):new Be(0))});const{pause:d,resume:h,onLoop:f}=tu();return f(()=>{r.value&&!cn(i)&&o.value.render(t,r.value)}),h(),Gs(()=>{d(),o.value.dispose(),o.value.forceContextLoss()}),{renderer:o}}const mM=t=>typeof t=="function",GH=t=>!!t&&t.constructor===Array;function WH(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}async function $H(t,e,n,i,s){const{logError:r}=hv(),a=new t;n&&n(a);const o=(Array.isArray(e)?e:[e]).map(l=>new Promise((c,u)=>{a.load(l,d=>{d.scene&&Object.assign(d,WH(d.scene)),c(d)},i,d=>u(r("[useLoader] - Failed to load resource",d)))}));return GH(e)?await Promise.all(o):await o[0]}const jH=(t,{renderer:e,camera:n,raycaster:i})=>{const s=L(()=>e.value.domElement),{x:r,y:a}=iH({target:s}),{width:o,height:l,top:c,left:u}=Z5(s),d=({x:A,y:S})=>{if(s.value)return{x:(A-u.value)/o.value*2-1,y:-((S-c.value)/l.value)*2+1}},h=({x:A,y:S})=>{if(n.value)return i.value.setFromCamera(new Te(A,S),n.value),i.value.intersectObjects(t.value,!1)},f=A=>{const S=d({x:(A==null?void 0:A.clientX)??r.value,y:(A==null?void 0:A.clientY)??a.value});return S?h(S)||[]:[]},m=L(()=>f()),v=Cd(),p=Cd(),g=(A,S)=>{A.trigger({event:S,intersects:f(S)})},y=A=>{g(p,A)};let x;const w=A=>{var S;x=(S=f(A)[0])==null?void 0:S.object},E=A=>{var S;A instanceof PointerEvent&&x===((S=f(A)[0])==null?void 0:S.object)&&g(v,A)},C=A=>p.trigger({event:A,intersects:[]});return s.value.addEventListener("pointerup",E),s.value.addEventListener("pointerdown",w),s.value.addEventListener("pointermove",y),s.value.addEventListener("pointerleave",C),Gs(()=>{s!=null&&s.value&&(s.value.removeEventListener("pointerup",E),s.value.removeEventListener("pointerdown",w),s.value.removeEventListener("pointermove",y),s.value.removeEventListener("pointerleave",C))}),{intersects:m,onClick:A=>v.on(A).off,onPointerMove:A=>p.on(A).off}},XH=({scene:t,contextParts:e})=>{const n=wn({click:new Map,pointerMove:new Map,pointerEnter:new Map,pointerLeave:new Map}),i=he(new Set),s=h=>{i.value.add(h)},r=h=>{i.value.delete(h)},a=h=>{Object.values(n).forEach(f=>f.delete(h)),r(h)},o=h=>{const{onClick:f,onPointerMove:m,onPointerEnter:v,onPointerLeave:p}=h;f&&n.click.set(h,f),m&&n.pointerMove.set(h,m),v&&n.pointerEnter.set(h,v),p&&n.pointerLeave.set(h,p)};t.userData.tres__registerAtPointerEventHandler=o,t.userData.tres__deregisterAtPointerEventHandler=a,t.userData.tres__registerBlockingObjectAtPointerEventHandler=s,t.userData.tres__deregisterBlockingObjectAtPointerEventHandler=r;const l=L(()=>NH([...Array.from(i.value),...Object.values(n).map(h=>Array.from(h.keys())).flat()],({uuid:h})=>h)),{onClick:c,onPointerMove:u}=jH(l,e);c(({intersects:h,event:f})=>{var m;h.length&&((m=n.click.get(h[0].object))==null||m(h[0],f))});let d;return u(({intersects:h,event:f})=>{var m,v,p,g;const y=(m=h==null?void 0:h[0])==null?void 0:m.object,{pointerLeave:x,pointerEnter:w,pointerMove:E}=n;d&&d!==y&&((v=x.get(d))==null||v(d,f)),y&&(d!==y&&((p=w.get(y))==null||p(h[0],f)),(g=E.get(y))==null||g(h[0],f)),d=y||null}),{registerObject:o,deregisterObject:a}};function qP(t){let e=0;return t.traverse(n=>{if(n.isMesh&&n.geometry){const i=n.geometry,s=i.attributes.position.count*3*Float32Array.BYTES_PER_ELEMENT,r=i.index?i.index.count*Uint32Array.BYTES_PER_ELEMENT:0,a=i.attributes.normal?i.attributes.normal.count*3*Float32Array.BYTES_PER_ELEMENT:0,o=i.attributes.uv?i.attributes.uv.count*2*Float32Array.BYTES_PER_ELEMENT:0,l=s+r+a+o;e+=l}}),e}function YH(t){return(t/1024).toFixed(2)}const w0=he({}),K_=t=>Object.assign(w0.value,t);function qH(t,e,n=10){const i=cn(t)?sH():J5(L(()=>cn(e).parentElement)),s=Zr(uM(i.width,n)),r=Zr(uM(i.height,n)),a=L(()=>s.value/r.value);return{height:r,width:s,aspectRatio:a}}function KH({scene:t,canvas:e,windowSize:n,disableRender:i,rendererOptions:s}){const r=qH(n,e),a=De(t),{camera:o,cameras:l,registerCamera:c,deregisterCamera:u,setCameraActive:d}=EH({sizes:r,scene:t}),{renderer:h}=HH({scene:t,canvas:e,options:s,contextParts:{sizes:r,camera:o},disableRender:i}),f={sizes:r,scene:a,camera:o,cameras:Zr(l),renderer:h,raycaster:De(new NP),controls:he(null),perf:{maxFrames:160,fps:{value:0,accumulator:[]},memory:{currentMem:0,allocatedMem:0,accumulator:[]}},extend:K_,registerCamera:c,setCameraActive:d,deregisterCamera:u};Zt("useTres",f);const m=100,v=eH({every:m}),{isSupported:p,memory:g}=tH({interval:m}),y=160;let x=performance.now();const w=({timestamp:S})=>{f.scene.value&&(f.perf.memory.allocatedMem=qP(f.scene.value)),S-x>=m&&(x=S,f.perf.fps.accumulator.push(v.value),f.perf.fps.accumulator.length>y&&f.perf.fps.accumulator.shift(),f.perf.fps.value=v.value,p.value&&g.value&&(f.perf.memory.accumulator.push(g.value.usedJSHeapSize/1024/1024),f.perf.memory.accumulator.length>y&&f.perf.memory.accumulator.shift(),f.perf.memory.currentMem=f.perf.memory.accumulator.reduce((_,b)=>_+b,0)/f.perf.memory.accumulator.length))};let E=0;const C=1,{pause:A}=Y_(({delta:S})=>{window.__TRES__DEVTOOLS__&&(w({timestamp:performance.now()}),E+=S,E>=C&&(window.__TRES__DEVTOOLS__.cb(f),E=0))},{immediate:!0});return Gs(()=>{A()}),f}function Z_(){const t=xt("useTres");if(!t)throw new Error("useTresContext must be used together with useTresContextProvider");return t}let An=null;const{logError:pM}=hv(),ry=["onClick","onPointerMove","onPointerEnter","onPointerLeave"],ZH={createElement(t,e,n,i){var s,r;if(i||(i={}),i.args||(i.args=[]),t==="template"||DH(t))return null;let a=t.replace("Tres",""),o;if(t==="primitive"){(i==null?void 0:i.object)===void 0&&pM("Tres primitives need a prop 'object'");const l=i.object;a=l.type,o=Object.assign(l,{type:a,attach:i.attach,primitive:!0})}else{const l=w0.value[a];l||pM(`${a} is not defined on the THREE namespace. Use extend to add it to the catalog.`),o=new l(...i.args)}return o.isCamera&&(i!=null&&i.position||o.position.set(3,3,3),i!=null&&i.lookAt||o.lookAt(0,0,0)),(i==null?void 0:i.attach)===void 0&&(o.isMaterial?o.attach="material":o.isBufferGeometry&&(o.attach="geometry")),o.isObject3D&&((s=i==null?void 0:i.material)!=null&&s.isMaterial&&(o.userData.tres__materialViaProp=!0),(r=i==null?void 0:i.geometry)!=null&&r.isBufferGeometry&&(o.userData.tres__geometryViaProp=!0)),o.userData={...o.userData,tres__name:a},o},insert(t,e){var n,i,s,r;e&&e.isScene&&(An=e);const a=e||An;if(t!=null&&t.isObject3D){if(t!=null&&t.isCamera){if(!(An!=null&&An.userData.tres__registerCamera))throw new Error("could not find tres__registerCamera on scene's userData");(i=An==null?void 0:(n=An.userData).tres__registerCamera)==null||i.call(n,t)}if(t&&ry.some(o=>t[o])){if(!(An!=null&&An.userData.tres__registerAtPointerEventHandler))throw new Error("could not find tres__registerAtPointerEventHandler on scene's userData");(r=An==null?void 0:(s=An.userData).tres__registerAtPointerEventHandler)==null||r.call(s,t)}}t!=null&&t.isObject3D&&a!=null&&a.isObject3D?(a.add(t),t.dispatchEvent({type:"added"})):t!=null&&t.isFog?a.fog=t:typeof(t==null?void 0:t.attach)=="string"&&(t.__previousAttach=t[a==null?void 0:a.attach],a&&(a[t.attach]=t))},remove(t){var e,n;if(t){if(t.isObject3D){const i=t,s=c=>{var u,d;const h=c;c.userData.tres__materialViaProp||((u=h.material)==null||u.dispose(),h.material=void 0),c.userData.tres__geometryViaProp||((d=h.geometry)==null||d.dispose(),h.geometry=void 0)},r=An==null?void 0:An.userData.tres__deregisterAtPointerEventHandler,a=An==null?void 0:An.userData.tres__deregisterBlockingObjectAtPointerEventHandler,o=c=>{var u,d;if(!a)throw new Error("could not find tres__deregisterBlockingObjectAtPointerEventHandler on scene's userData");if((d=An==null?void 0:(u=An.userData).tres__deregisterBlockingObjectAtPointerEventHandler)==null||d.call(u,c),!r)throw new Error("could not find tres__deregisterAtPointerEventHandler on scene's userData");c&&ry.some(h=>c[h])&&(r==null||r(c))},l=c=>{const u=An==null?void 0:An.userData.tres__deregisterCamera;if(!u)throw new Error("could not find tres__deregisterCamera on scene's userData");c.isCamera&&(u==null||u(c))};(e=t.removeFromParent)==null||e.call(t),i.traverse(c=>{s(c),l(c),o==null||o(c)}),s(i),l(i),o==null||o(i)}(n=t.dispose)==null||n.call(t)}},patchProp(t,e,n,i){var s,r,a,o;if(t){let l=t,c=e;if(t.isObject3D&&c==="blocks-pointer-events"){i||i===""?(r=An==null?void 0:(s=An.userData).tres__registerBlockingObjectAtPointerEventHandler)==null||r.call(s,t):(o=An==null?void 0:(a=An.userData).tres__deregisterBlockingObjectAtPointerEventHandler)==null||o.call(a,t);return}let u=Df(c),d=l==null?void 0:l[u];if(c==="args"){const f=t,m=n??[],v=i??[],p=t.userData.tres__name||t.type;p&&m.length&&!FH(m,v)&&(l=Object.assign(f,new w0.value[p](...i)));return}if(l.type==="BufferGeometry"){if(c==="args")return;l.setAttribute(Df(c),new At(...i));return}if(c.includes("-")&&d===void 0){const f=c.split("-");d=f.reduce((m,v)=>m[Df(v)],l),c=f.pop(),u=c.toLowerCase(),d!=null&&d.set||(l=f.reduce((m,v)=>m[Df(v)],l))}let h=i;if(h===""&&(h=!0),mM(d)){ry.includes(e)||(Array.isArray(h)?t[u](...h):t[u](h));return}!(d!=null&&d.set)&&!mM(d)?l[u]=h:d.constructor===h.constructor&&d!=null&&d.copy?d==null||d.copy(h):Array.isArray(h)?d.set(...h):!d.isColor&&d.setScalar?d.setScalar(h):d.set(h)}},parentNode(t){return(t==null?void 0:t.parent)||null},createText:()=>{},createComment:()=>{},setText:()=>{},setElementText:()=>{},nextSibling:()=>{},querySelector:()=>{},setScopeId:()=>{},cloneNode:()=>{},insertStaticContent:()=>{}},{render:JH}=CE(ZH);K_(F5);function QH(){return KP().__VUE_DEVTOOLS_GLOBAL_HOOK__}function KP(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const eG=typeof Proxy=="function",tG="devtools-plugin:setup",nG="plugin:settings:set";let Eu,S0;function iG(){var t;return Eu!==void 0||(typeof window<"u"&&window.performance?(Eu=!0,S0=window.performance):typeof globalThis<"u"&&!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance?(Eu=!0,S0=globalThis.perf_hooks.performance):Eu=!1),Eu}function sG(){return iG()?S0.now():Date.now()}class rG{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const a in e.settings){const o=e.settings[a];i[a]=o.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},i);try{const a=localStorage.getItem(s),o=JSON.parse(a);Object.assign(r,o)}catch{}this.fallbacks={getSettings(){return r},setSettings(a){try{localStorage.setItem(s,JSON.stringify(a))}catch{}r=a},now(){return sG()}},n&&n.on(nG,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:o,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function aG(t,e){const n=t,i=KP(),s=QH(),r=eG&&n.enableEarlyProxy;if(s&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))s.emit(tG,t,e);else{const a=r?new rG(n,s):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}function oG(t,e){const n=`▲ ■ ●${t}`;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):console.log(n)}const ZP=t=>{const e={id:t.uuid,label:t.type,children:[],tags:[]};t.name!==""&&e.tags.push({label:t.name,textColor:5750629,backgroundColor:15793395});const n=qP(t);return n>0&&e.tags.push({label:`${YH(n)} KB`,textColor:15707189,backgroundColor:16775644,tooltip:"Memory usage"}),t.type.includes("Light")&&(e.tags.push({label:`${t.intensity}`,textColor:9738662,backgroundColor:16316922,tooltip:"Intensity"}),e.tags.push({label:`#${t.color.getHexString()}`,textColor:9738662,backgroundColor:16316922,tooltip:"Color"})),t.type.includes("Camera")&&(e.tags.push({label:`${t.fov}°`,textColor:9738662,backgroundColor:16316922,tooltip:"Field of view"}),e.tags.push({label:`x: ${Math.round(t.position.x)} y: ${Math.round(t.position.y)} z: ${Math.round(t.position.z)}`,textColor:9738662,backgroundColor:16316922,tooltip:"Position"})),e};function JP(t,e){t.children.forEach(n=>{if(n.type==="HightlightMesh")return;const i=ZP(n);e.children.push(i),JP(n,i)})}const lG=[],Au="tres:inspector",cG=wn({sceneGraph:null});function uG(t,e){aG({id:"dev.esm.tres",label:"TresJS 🪐",logo:"https://raw.githubusercontent.com/Tresjs/tres/main/public/favicon.svg",packageName:"tresjs",homepage:"https://tresjs.org",componentStateTypes:lG,app:t},n=>{typeof n.now!="function"&&oG("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addInspector({id:Au,label:"TresJS 🪐",icon:"account_tree",treeFilterPlaceholder:"Search instances"}),setInterval(()=>{n.sendInspectorTree(Au)},1e3),setInterval(()=>{n.notifyComponentUpdate()},5e3),n.on.getInspectorTree(r=>{if(r.inspectorId===Au){const a=ZP(e.scene.value);JP(e.scene.value,a),cG.sceneGraph=a,r.rootNodes=[a]}});let i=null,s=null;n.on.getInspectorState(r=>{if(r.inspectorId===Au){const[a]=e.scene.value.getObjectsByProperty("uuid",r.nodeId);if(!a)return;if(s&&i&&i.parent&&s.remove(i),a.isMesh){const o=UH(a);a.add(o),i=o,s=a}r.state={object:[{key:"uuid",editable:!0,value:a.uuid},{key:"name",editable:!0,value:a.name},{key:"type",editable:!0,value:a.type},{key:"position",editable:!0,value:a.position},{key:"rotation",editable:!0,value:a.rotation},{key:"scale",editable:!0,value:a.scale},{key:"geometry",value:a.geometry},{key:"material",value:a.material},{key:"color",editable:!0,value:a.color},{key:"intensity",editable:!0,value:a.intensity},{key:"castShadow",editable:!0,value:a.castShadow},{key:"receiveShadow",editable:!0,value:a.receiveShadow},{key:"frustumCulled",editable:!0,value:a.frustumCulled},{key:"matrixAutoUpdate",editable:!0,value:a.matrixAutoUpdate},{key:"matrixWorldNeedsUpdate",editable:!0,value:a.matrixWorldNeedsUpdate},{key:"matrixWorld",value:a.matrixWorld},{key:"visible",editable:!0,value:a.visible}]}}}),n.on.editInspectorState(r=>{r.inspectorId===Au&&BH(e.scene.value,r.nodeId,r.path,r.state.value)})})}const dG=["data-scene","data-tres"],QP=Us({__name:"TresCanvas",props:{shadows:{type:Boolean,default:void 0},clearColor:{},toneMapping:{},shadowMapType:{},useLegacyLights:{type:Boolean,default:void 0},outputColorSpace:{},toneMappingExposure:{},camera:{},preset:{},windowSize:{type:Boolean,default:void 0},disableRender:{type:Boolean,default:void 0},context:{},precision:{},alpha:{type:Boolean,default:void 0},premultipliedAlpha:{type:Boolean},antialias:{type:Boolean,default:void 0},stencil:{type:Boolean,default:void 0},preserveDrawingBuffer:{type:Boolean,default:void 0},powerPreference:{},depth:{type:Boolean,default:void 0},logarithmicDepthBuffer:{type:Boolean,default:void 0},failIfMajorPerformanceCaveat:{type:Boolean,default:void 0}},setup(t,{expose:e}){var n;const i=t,s=Lp(),{logWarning:r}=hv(),a=he(),o=De(new Vc),{resume:l}=tu(),c=(n=Qr())==null?void 0:n.appContext.app,u=v=>Us({setup(){var p;const g=(p=Qr())==null?void 0:p.appContext;return g&&(g.app=c),Zt("useTres",v),Zt("extend",K_),typeof window<"u"&&uG(g.app,v),()=>cs(We,null,s!=null&&s.default?s.default():[])}}),d=v=>{const p=u(v);JH(cs(p),o.value)},h=(v,p=!1)=>{o.value.children=[],p&&(v.renderer.value.dispose(),v.renderer.value.renderLists.dispose(),v.renderer.value.forceContextLoss()),d(v),l()},f=L(()=>i.disableRender),m=De(null);return e({context:m,dispose:()=>h(m.value,!0)}),Nn(()=>{const v=a;m.value=KH({scene:o.value,canvas:v,windowSize:i.windowSize,disableRender:f,rendererOptions:i}),XH({scene:o.value,contextParts:m.value});const{registerCamera:p,camera:g,cameras:y,deregisterCamera:x}=m.value;d(m.value);const w=()=>{const E=new Qt(45,window.innerWidth/window.innerHeight,.1,1e3);E.position.set(3,3,3),E.lookAt(0,0,0),p(E);const C=qt(()=>{y.value.length>=2&&(E.removeFromParent(),x(E),C==null||C())})};Pe(()=>i.camera,(E,C)=>{E&&p(E),C&&(C.removeFromParent(),x(C))},{immediate:!0}),g.value||(r("No camera found. Creating a default perspective camera. To have full control over a camera, please add one to the scene."),w())}),(v,p)=>(tt(),zt("canvas",{ref_key:"canvas",ref:a,"data-scene":o.value.uuid,class:jd(v.$attrs.class),"data-tres":`tresjs ${Ae(TH).version}`,style:$d({display:"block",width:"100%",height:"100%",position:v.windowSize?"fixed":"relative",top:0,left:0,pointerEvents:"auto",touchAction:"none",...v.$attrs.style})},null,14,dG))}});/*! Tweakpane 4.0.5 (c) 2016 cocopon, licensed under the MIT license. */function Mn(t){return t==null}function J_(t){return t!==null&&typeof t=="object"}function M0(t){return t!==null&&typeof t=="object"}function hG(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function dl(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((i,s)=>{const r=t[s],a=e[s];return M0(r)&&M0(a)?Object.assign(Object.assign({},i),{[s]:dl(r,a)}):Object.assign(Object.assign({},i),{[s]:s in e?a:r})},{})}function fG(t){return J_(t)?"target"in t:!1}const mG={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class ss{static alreadyDisposed(){return new ss({type:"alreadydisposed"})}static notBindable(){return new ss({type:"notbindable"})}static notCompatible(e,n){return new ss({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new ss({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new ss({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=mG[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class op{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const i=this.read();if(!op.isBindable(i))throw ss.notBindable();if(!(e in i))throw ss.propertyNotFound(e);i[e]=n}}class ds{constructor(){this.observers_={}}on(e,n,i){var s;let r=this.observers_[e];return r||(r=this.observers_[e]=[]),r.push({handler:n,key:(s=i==null?void 0:i.key)!==null&&s!==void 0?s:n}),this}off(e,n){const i=this.observers_[e];return i&&(this.observers_[e]=i.filter(s=>s.key!==n)),this}emit(e,n){const i=this.observers_[e];i&&i.forEach(s=>{s.handler(n)})}}class pG{constructor(e,n){var i;this.constraint_=n==null?void 0:n.constraint,this.equals_=(i=n==null?void 0:n.equals)!==null&&i!==void 0?i:(s,r)=>s===r,this.emitter=new ds,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const i=n??{forceEmit:!1,last:!0},s=this.constraint_?this.constraint_.constrain(e):e,r=this.rawValue_;this.equals_(r,s)&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=s,this.emitter.emit("change",{options:i,previousRawValue:r,rawValue:s,sender:this}))}}class vG{constructor(e){this.emitter=new ds,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const i=n??{forceEmit:!1,last:!0},s=this.value_;s===e&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:i,previousRawValue:s,rawValue:this.value_,sender:this}))}}class gG{constructor(e){this.emitter=new ds,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function ii(t,e){const n=e==null?void 0:e.constraint,i=e==null?void 0:e.equals;return!n&&!i?new vG(t):new pG(t,e)}function yG(t){return[new gG(t),(e,n)=>{t.setRawValue(e,n)}]}class Gt{constructor(e){this.emitter=new ds,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((i,s)=>Object.assign(i,{[s]:ii(e[s])}),{})}static fromObject(e){const n=this.createCore(e);return new Gt(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}}class fv{constructor(e){this.values=Gt.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),i=this.values.get("min");return Math.min(Math.max(e,i),n)}}class bG{constructor(e){this.values=Gt.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),i=this.values.get("min");let s=e;return Mn(i)||(s=Math.max(s,i)),Mn(n)||(s=Math.min(s,n)),s}}class _G{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,i=Math.round((e-n)/this.step);return n+i*this.step}}class xG{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const wG={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};class SG{constructor(e,n,i){this.left=n,this.operator=e,this.right=i}evaluate(){const e=wG[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const MG={"+":t=>t,"-":t=>-t,"~":t=>~t};class CG{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=MG[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Q_(t){return(e,n)=>{for(let i=0;i<t.length;i++){const s=t[i](e,n);if(s!=="")return s}return""}}function Td(t,e){var n;const i=t.substr(e).match(/^\s+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function TG(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function Ed(t,e){var n;const i=t.substr(e).match(/^[0-9]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function EG(t,e){const n=Ed(t,e);if(n!=="")return n;const i=t.substr(e,1);if(e+=1,i!=="-"&&i!=="+")return"";const s=Ed(t,e);return s===""?"":i+s}function ex(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const i=EG(t,e);return i===""?"":n+i}function eI(t,e){const n=t.substr(e,1);if(n==="0")return n;const i=TG(t,e);return e+=i.length,i===""?"":i+Ed(t,e)}function AG(t,e){const n=eI(t,e);if(e+=n.length,n==="")return"";const i=t.substr(e,1);if(e+=i.length,i!==".")return"";const s=Ed(t,e);return e+=s.length,n+i+s+ex(t,e)}function PG(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const i=Ed(t,e);return e+=i.length,i===""?"":n+i+ex(t,e)}function IG(t,e){const n=eI(t,e);return e+=n.length,n===""?"":n+ex(t,e)}const RG=Q_([AG,PG,IG]);function LG(t,e){var n;const i=t.substr(e).match(/^[01]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function kG(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const i=LG(t,e);return i===""?"":n+i}function DG(t,e){var n;const i=t.substr(e).match(/^[0-7]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function OG(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const i=DG(t,e);return i===""?"":n+i}function NG(t,e){var n;const i=t.substr(e).match(/^[0-9a-f]+/i);return(n=i&&i[0])!==null&&n!==void 0?n:""}function VG(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const i=NG(t,e);return i===""?"":n+i}const FG=Q_([kG,OG,VG]),BG=Q_([FG,RG]);function UG(t,e){const n=BG(t,e);return e+=n.length,n===""?null:{evaluable:new xG(n),cursor:e}}function zG(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const i=nI(t,e);if(!i)return null;e=i.cursor,e+=Td(t,e).length;const s=t.substr(e,1);return e+=s.length,s!==")"?null:{evaluable:i.evaluable,cursor:e}}function HG(t,e){var n;return(n=UG(t,e))!==null&&n!==void 0?n:zG(t,e)}function tI(t,e){const n=HG(t,e);if(n)return n;const i=t.substr(e,1);if(e+=i.length,i!=="+"&&i!=="-"&&i!=="~")return null;const s=tI(t,e);return s?(e=s.cursor,{cursor:e,evaluable:new CG(i,s.evaluable)}):null}function GG(t,e,n){n+=Td(e,n).length;const i=t.filter(s=>e.startsWith(s,n))[0];return i?(n+=i.length,n+=Td(e,n).length,{cursor:n,operator:i}):null}function WG(t,e){return(n,i)=>{const s=t(n,i);if(!s)return null;i=s.cursor;let r=s.evaluable;for(;;){const a=GG(e,n,i);if(!a)break;i=a.cursor;const o=t(n,i);if(!o)return null;i=o.cursor,r=new SG(a.operator,r,o.evaluable)}return r?{cursor:i,evaluable:r}:null}}const $G=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>WG(t,e),tI);function nI(t,e){return e+=Td(t,e).length,$G(t,e)}function jG(t){const e=nI(t,0);return!e||e.cursor+Td(t,e.cursor).length!==t.length?null:e.evaluable}function ja(t){var e;const n=jG(t);return(e=n==null?void 0:n.evaluate())!==null&&e!==void 0?e:null}function iI(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=ja(t);if(!Mn(e))return e}return 0}function Qi(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function Yt(t,e,n,i,s){const r=(t-e)/(n-e);return i+r*(s-i)}function vM(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Gn(t,e,n){return Math.min(Math.max(t,e),n)}function sI(t,e){return(t%e+e)%e}function XG(t,e){return Mn(t.step)?Math.max(vM(e),2):vM(t.step)}function rI(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function YG(t,e){var n;const i=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return i===0?.1:Math.pow(10,Math.floor(Math.log10(i))-1)}function aI(t,e){return Mn(t.step)?null:new _G(t.step,e)}function oI(t){return!Mn(t.max)&&!Mn(t.min)?new fv({max:t.max,min:t.min}):!Mn(t.max)||!Mn(t.min)?new bG({max:t.max,min:t.min}):null}function lI(t,e){var n,i,s;return{formatter:(n=t.format)!==null&&n!==void 0?n:Qi(XG(t,e)),keyScale:(i=t.keyScale)!==null&&i!==void 0?i:rI(t),pointerScale:(s=t.pointerScale)!==null&&s!==void 0?s:YG(t,e)}}function cI(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function tx(t){return{constraint:t.constraint,textProps:Gt.fromObject(lI(t.params,t.initialValue))}}class nx{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class mv{constructor(e){this.target=e}}class uI extends mv{constructor(e,n,i){super(e),this.value=n,this.last=i??!0}}class qG extends mv{constructor(e,n){super(e),this.expanded=n}}class KG extends mv{constructor(e,n){super(e),this.index=n}}class ZG extends mv{constructor(e,n){super(e),this.native=n}}class ix extends nx{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new ds,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const i=n.bind(this);return this.emitter_.on(e,s=>{i(s)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new uI(this,n.binding.target.read(),e.options.last))}}function JG(t,e){const i=Object.keys(e).reduce((s,r)=>{if(s===void 0)return;const a=e[r],o=a(t[r]);return o.succeeded?Object.assign(Object.assign({},s),{[r]:o.value}):void 0},{});return i}function QG(t,e){return t.reduce((n,i)=>{if(n===void 0)return;const s=e(i);if(!(!s.succeeded||s.value===void 0))return[...n,s.value]},[])}function e6(t){return t===null?!1:typeof t=="object"}function Vr(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const i=t(n);return i!==void 0?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}function gM(t){return{custom:e=>Vr(e)(t),boolean:Vr(e=>typeof e=="boolean"?e:void 0)(t),number:Vr(e=>typeof e=="number"?e:void 0)(t),string:Vr(e=>typeof e=="string"?e:void 0)(t),function:Vr(e=>typeof e=="function"?e:void 0)(t),constant:e=>Vr(n=>n===e?e:void 0)(t),raw:Vr(e=>e)(t),object:e=>Vr(n=>{if(e6(n))return JG(n,e)})(t),array:e=>Vr(n=>{if(Array.isArray(n))return QG(n,e)})(t)}}const C0={optional:gM(!0),required:gM(!1)};function xi(t,e){const n=e(C0),i=C0.required.object(n)(t);return i.succeeded?i.value:void 0}function wr(t,e,n,i){if(e&&!e(t))return!1;const s=xi(t,n);return s?i(s):!1}function Sr(t,e){var n;return dl((n=t==null?void 0:t())!==null&&n!==void 0?n:{},e)}function im(t){return"value"in t}function t6(t){if(!J_(t)||!("binding"in t))return!1;const e=t.binding;return fG(e)}const or="http://www.w3.org/2000/svg";function lp(t){t.offsetHeight}function n6(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function sx(t){return t.ontouchstart!==void 0}function i6(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const s6={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function pv(t,e){const n=t.createElementNS(or,"svg");return n.innerHTML=s6[e],n}function dI(t,e,n){t.insertBefore(e,t.children[n])}function rx(t){t.parentElement&&t.parentElement.removeChild(t)}function hI(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function r6(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function fI(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function Kr(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function vr(t,e,n){Kr(t.value(e),n)}const a6="tp";function Wt(t){return(n,i)=>[a6,"-",t,"v",n?`_${n}`:"",i?`-${i}`:""].join("")}const Pu=Wt("lbl");function o6(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(s=>t.createTextNode(s)).forEach((s,r)=>{r>0&&n.appendChild(t.createElement("br")),n.appendChild(s)}),n}class l6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Pu()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(Pu("l")),vr(n.props,"label",r=>{Mn(r)?this.element.classList.add(Pu(void 0,"nol")):(this.element.classList.remove(Pu(void 0,"nol")),r6(i),i.appendChild(o6(e,r)))}),this.element.appendChild(i),this.labelElement=i;const s=e.createElement("div");s.classList.add(Pu("v")),this.element.appendChild(s),this.valueElement=s}}class c6{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new l6(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return wr(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return Sr(null,{label:this.props.get("label")})}}function u6(){return["veryfirst","first","last","verylast"]}const yM=Wt(""),bM={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class mI{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{u6().forEach(i=>{n.classList.remove(yM(void 0,bM[i]))}),this.blade.get("positions").forEach(i=>{n.classList.add(yM(void 0,bM[i]))})}),this.viewProps.handleDispose(()=>{rx(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return wr(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return Sr(null,Object.assign({},this.viewProps.exportState()))}}class d6 extends nx{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const i=n.bind(this);return this.controller.buttonController.emitter.on(e,r=>{i(new ZG(this,r.nativeEvent))}),this}off(e,n){return this.controller.buttonController.emitter.off(e,n),this}}function h6(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function nu(t,e){return n=>{h6(t,e,n)}}function ax(t,e){Kr(t,n=>{e.textContent=n??""})}const ay=Wt("btn");class f6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(ay()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("button");i.classList.add(ay("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const s=e.createElement("div");s.classList.add(ay("t")),ax(n.props.value("title"),s),this.buttonElement.appendChild(s)}}class m6{constructor(e,n){this.emitter=new ds,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new f6(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return wr(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return Sr(null,{title:this.props.get("title")})}onClick_(e){this.emitter.emit("click",{nativeEvent:e,sender:this})}}class _M extends mI{constructor(e,n){const i=new m6(e,{props:n.buttonProps,viewProps:n.viewProps}),s=new c6(e,{blade:n.blade,props:n.labelProps,valueController:i});super({blade:n.blade,view:s.view,viewProps:n.viewProps}),this.buttonController=i,this.labelController=s}importState(e){return wr(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return Sr(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class pI{constructor(e){const[n,i]=e.split("-"),s=n.split(".");this.major=parseInt(s[0],10),this.minor=parseInt(s[1],10),this.patch=parseInt(s[2],10),this.prerelease=i??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}const p6=new pI("2.0.5");function zi(t){return Object.assign({core:p6},t)}zi({id:"button",type:"blade",accept(t){const e=xi(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new _M(t.document,{blade:t.blade,buttonProps:Gt.fromObject({title:t.params.title}),labelProps:Gt.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof _M?new d6(t.controller):null}});function v6(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function g6(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function y6(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function b6(t){return J_(t)?"refresh"in t&&typeof t.refresh=="function":!1}function _6(t,e){if(!op.isBindable(t))throw ss.notBindable();return new op(t,e)}class x6{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new ds,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,i){const s=i??{},r=this.controller_.element.ownerDocument,a=this.pool_.createBinding(r,_6(e,n),s),o=this.pool_.createBindingApi(a);return this.add(o,s.index)}addFolder(e){return g6(this,e)}addButton(e){return v6(this,e)}addTab(e){return y6(this,e)}add(e,n){const i=e.controller;return this.controller_.rack.add(i,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,i=this.pool_.createBlade(n,e),s=this.pool_.createApi(i);return this.add(s,e.index)}on(e,n){const i=n.bind(this);return this.emitter_.on(e,s=>{i(s)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.children.forEach(e=>{b6(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,i=this.pool_.createApi(n),s=t6(n.value)?n.value.binding:null;this.emitter_.emit("change",new uI(i,s?s.target.read():n.value.rawValue,e.options.last))}}class ox extends nx{constructor(e,n){super(e),this.rackApi_=new x6(e.rackController,n)}refresh(){this.rackApi_.refresh()}}class lx extends mI{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return wr(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((i,s)=>i.importState(n.children[s])))}exportState(){return Sr(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}}function T0(t){return"rackController"in t}class w6{constructor(e){this.emitter=new ds,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw ss.shouldNeverHappen();const i=n!==void 0?n:this.items_.length;this.items_.splice(i,0,e),this.cache_.add(e);const s=this.extract_(e);s&&(s.emitter.on("add",this.onSubListAdd_),s.emitter.on("remove",this.onSubListRemove_),s.allItems().forEach(r=>{this.cache_.add(r)})),this.emitter.emit("add",{index:i,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const i=this.extract_(e);i&&(i.allItems().forEach(s=>{this.cache_.delete(s)}),i.emitter.off("add",this.onSubListAdd_),i.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function S6(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(im(i)&&i.value===e)return i}return null}function M6(t){return T0(t)?t.rackController.rack.bcSet_:null}class C6{constructor(e){var n,i;this.emitter=new ds,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new w6(M6),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var i;(i=e.parent)===null||i===void 0||i.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const i=e.item;if(i.viewProps.emitter.on("change",this.onChildViewPropsChange_),i.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),i.viewProps.handleDispose(this.onChildDispose_),im(i))i.value.emitter.on("change",this.onChildValueChange_);else if(T0(i)){const s=i.rackController.rack;if(s){const r=s.emitter;r.on("layout",this.onRackLayout_),r.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const i=e.item;if(im(i))i.value.emitter.off("change",this.onChildValueChange_);else if(T0(i)){const s=i.rackController.rack;if(s){const r=s.emitter;r.off("layout",this.onRackLayout_),r.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(s=>!s.viewProps.get("hidden")),n=e[0],i=e[e.length-1];this.bcSet_.items.forEach(s=>{const r=[];s===n&&(r.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&r.push("veryfirst")),s===i&&(r.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&r.push("verylast")),s.blade.set("positions",r)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=S6(this.find(im),e.sender);if(!n)throw ss.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class cx{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new C6({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let i=this.rack.children.length-1;i>=0;i--)this.rack.children[i].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&dI(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&rx(e.bladeController.view.element)}}function vI(){return new Gt({positions:ii([],{equals:hG})})}class uh extends Gt{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},i=Gt.createCore(n);return new uh(i)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!Mn(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const i=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};vr(this,"expanded",i),vr(this,"temporaryExpanded",i)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function T6(t,e){let n=0;return n6(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),lp(e),n=e.clientHeight,t.set("temporaryExpanded",null),lp(e)}),n}function xM(t,e){e.style.height=t.styleHeight}function ux(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),Mn(t.get("expandedHeight"))){const n=T6(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),lp(e)}),t.emitter.on("change",()=>{xM(t,e)}),xM(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}class E6 extends ox{constructor(e,n){super(e,n),this.emitter_=new ds,this.controller.foldable.value("expanded").emitter.on("change",i=>{this.emitter_.emit("fold",new qG(this,i.sender.rawValue))}),this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,i){return this.rackApi_.addBinding(e,n,i)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const i=n.bind(this);return this.emitter_.on(e,s=>{i(s)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}const gI=Wt("cnt");class A6{constructor(e,n){var i;this.className_=Wt((i=n.viewName)!==null&&i!==void 0?i:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),gI()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),vr(this.foldable_,"completed",nu(this.element,this.className_(void 0,"cpl")));const s=e.createElement("button");s.classList.add(this.className_("b")),vr(n.props,"title",c=>{Mn(c)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(s),this.element.appendChild(s),this.buttonElement=s;const r=e.createElement("div");r.classList.add(this.className_("i")),this.element.appendChild(r);const a=e.createElement("div");a.classList.add(this.className_("t")),ax(n.props.value("title"),a),this.buttonElement.appendChild(a),this.titleElement=a;const o=e.createElement("div");o.classList.add(this.className_("m")),this.buttonElement.appendChild(o);const l=e.createElement("div");l.classList.add(this.className_("c")),this.element.appendChild(l),this.containerElement=l}}class wM extends lx{constructor(e,n){var i;const s=uh.create((i=n.expanded)!==null&&i!==void 0?i:!0),r=new A6(e,{foldable:s,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new cx({blade:n.blade,element:r.containerElement,root:n.root,viewProps:n.viewProps}),view:r})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=s,ux(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return wr(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return Sr(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}zi({id:"folder",type:"blade",accept(t){const e=xi(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new wM(t.document,{blade:t.blade,expanded:t.params.expanded,props:Gt.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof wM?new E6(t.controller,t.pool):null}});const P6=Wt("");function SM(t,e){return nu(t,P6(void 0,e))}class dh extends Gt{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=yG(ii(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,i,s;const r=e??{};return new dh(Gt.createCore({disabled:(n=r.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(i=r.hidden)!==null&&i!==void 0?i:!1,parent:(s=r.parent)!==null&&s!==void 0?s:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){Kr(this.globalDisabled_,SM(e,"disabled")),vr(this,"hidden",SM(e,"hidden"))}bindDisabled(e){Kr(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){Kr(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const i=e.previousRawValue;i==null||i.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const MM=Wt("tbp");class I6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(MM()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(MM("c")),this.element.appendChild(i),this.containerElement=i}}const Iu=Wt("tbi");class R6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Iu()),n.viewProps.bindClassModifiers(this.element),vr(n.props,"selected",r=>{r?this.element.classList.add(Iu(void 0,"sel")):this.element.classList.remove(Iu(void 0,"sel"))});const i=e.createElement("button");i.classList.add(Iu("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const s=e.createElement("div");s.classList.add(Iu("t")),ax(n.props.value("title"),s),this.buttonElement.appendChild(s),this.titleElement=s}}class L6{constructor(e,n){this.emitter=new ds,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new R6(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class E0 extends lx{constructor(e,n){const i=new I6(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new cx({blade:n.blade,element:i.containerElement,viewProps:n.viewProps}),view:i})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new L6(e,{props:n.itemProps,viewProps:dh.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,vr(this.props,"selected",s=>{this.itemController.props.set("selected",s),this.viewProps.set("hidden",!s)})}get itemController(){return this.ic_}importState(e){return wr(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return Sr(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class k6 extends ox{constructor(e,n){super(e,n),this.emitter_=new ds,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,i=new E0(n,{blade:vI(),itemProps:Gt.fromObject({selected:!1,title:e.title}),props:Gt.fromObject({selected:!1}),viewProps:dh.create()}),s=this.pool_.createApi(i);return this.rackApi_.add(s,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const i=n.bind(this);return this.emitter_.on(e,s=>{i(s)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}onSelect_(e){this.emitter_.emit("select",new KG(this,e.rawValue))}}class D6 extends ox{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,i){return this.rackApi_.addBinding(e,n,i)}addBlade(e){return this.rackApi_.addBlade(e)}}const CM=-1;class O6{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=ii(!0),this.selectedIndex=ii(CM),this.items_=[]}add(e,n){const i=n??this.items_.length;this.items_.splice(i,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=CM,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,i)=>{n.rawValue=i===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,i)=>{n.rawValue=i===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(i=>i===e.sender);this.items_.forEach((i,s)=>{i.rawValue=s===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}}const Ru=Wt("tab");class N6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Ru(),gI()),n.viewProps.bindClassModifiers(this.element),Kr(n.empty,nu(this.element,Ru(void 0,"nop")));const i=e.createElement("div");i.classList.add(Ru("t")),this.element.appendChild(i),this.itemsElement=i;const s=e.createElement("div");s.classList.add(Ru("i")),this.element.appendChild(s);const r=e.createElement("div");r.classList.add(Ru("c")),this.element.appendChild(r),this.contentsElement=r}}class TM extends lx{constructor(e,n){const i=new O6,s=new N6(e,{empty:i.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new cx({blade:n.blade,element:s.contentsElement,viewProps:n.viewProps}),view:s}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const r=this.rackController.rack;r.emitter.on("add",this.onRackAdd_),r.emitter.on("remove",this.onRackRemove_),this.tab=i}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;dI(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;rx(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}}zi({id:"tab",type:"blade",accept(t){const e=xi(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new TM(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const i=new E0(t.document,{blade:vI(),itemProps:Gt.fromObject({selected:!1,title:n.title}),props:Gt.fromObject({selected:!1}),viewProps:dh.create()});e.add(i)}),e},api(t){return t.controller instanceof TM?new k6(t.controller,t.pool):t.controller instanceof E0?new D6(t.controller,t.pool):null}});class dx extends ix{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class hh{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,i)=>i.constrain(n),e)}}function cp(t,e){if(t instanceof e)return t;if(t instanceof hh){const n=t.constraints.reduce((i,s)=>i||(s instanceof e?s:null),null);if(n)return n}return null}class vv{constructor(e){this.values=Gt.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(s=>s.value===e).length>0?e:n[0].value}}function gv(t){var e;const n=C0;if(Array.isArray(t))return(e=xi({items:t},i=>({items:i.required.array(i.required.object({text:i.required.string,value:i.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function yI(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function hx(t){return Mn(t)?null:new vv(yI(t))}const oy=Wt("lst");class V6{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(oy()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("select");i.classList.add(oy("s")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;const s=e.createElement("div");s.classList.add(oy("m")),s.appendChild(pv(e,"dropdown")),this.element.appendChild(s),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,vr(this.props_,"options",r=>{hI(this.selectElement),r.forEach(a=>{const o=e.createElement("option");o.textContent=a.text,this.selectElement.appendChild(o)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class Hc{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new V6(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return wr(e,null,n=>({options:n.required.custom(gv)}),n=>(this.props.set("options",yI(n.options)),!0))}exportProps(){return Sr(null,{options:this.props.get("options")})}}const EM=Wt("pop");class F6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(EM()),n.viewProps.bindClassModifiers(this.element),Kr(n.shows,nu(this.element,EM(void 0,"v")))}}class bI{constructor(e,n){this.shows=ii(!1),this.viewProps=n.viewProps,this.view=new F6(e,{shows:this.shows,viewProps:this.viewProps})}}const AM=Wt("txt");class B6{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(AM()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const i=e.createElement("input");i.classList.add(AM("i")),i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class fx{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new B6(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const i=e.currentTarget.value,s=this.parser_(i);Mn(s)||(this.value.rawValue=s),this.view.refresh()}}function U6(t){return String(t)}function _I(t){return t==="false"?!1:!!t}function PM(t){return U6(t)}function z6(t){return e=>t.reduce((n,i)=>n!==null?n:i(e),null)}const H6=Qi(0);function up(t){return H6(t)+"%"}function xI(t){return String(t)}function A0(t){return t}function iu({primary:t,secondary:e,forward:n,backward:i}){let s=!1;function r(a){s||(s=!0,a(),s=!1)}t.emitter.on("change",a=>{r(()=>{e.setRawValue(n(t.rawValue,e.rawValue),a.options)})}),e.emitter.on("change",a=>{r(()=>{t.setRawValue(i(t.rawValue,e.rawValue),a.options)}),r(()=>{e.setRawValue(n(t.rawValue,e.rawValue),a.options)})}),r(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function Zi(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function Ad(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function sa(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function G6(t){return t==="ArrowUp"||t==="ArrowDown"}function wI(t){return G6(t)||t==="ArrowLeft"||t==="ArrowRight"}function ly(t,e){var n,i;const s=e.ownerDocument.defaultView,r=e.getBoundingClientRect();return{x:t.pageX-(((n=s&&s.scrollX)!==null&&n!==void 0?n:0)+r.left),y:t.pageY-(((i=s&&s.scrollY)!==null&&i!==void 0?i:0)+r.top)}}class El{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new ds,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const i=this.elem_.ownerDocument;i.addEventListener("mousemove",this.onDocumentMouseMove_),i.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(ly(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(ly(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(ly(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-i.left,y:n.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-i.left,y:n.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const i=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,s=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(i?{x:i.clientX-s.left,y:i.clientY-s.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const ys=Wt("txt");class W6{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(ys(),ys(void 0,"num")),n.arrayPosition&&this.element.classList.add(ys(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("input");i.classList.add(ys("i")),i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ys()),this.inputElement.classList.add(ys("i"));const s=e.createElement("div");s.classList.add(ys("k")),this.element.appendChild(s),this.knobElement=s;const r=e.createElementNS(or,"svg");r.classList.add(ys("g")),this.knobElement.appendChild(r);const a=e.createElementNS(or,"path");a.classList.add(ys("gb")),r.appendChild(a),this.guideBodyElem_=a;const o=e.createElementNS(or,"path");o.classList.add(ys("gh")),r.appendChild(o),this.guideHeadElem_=o;const l=e.createElement("div");l.classList.add(Wt("tt")()),this.knobElement.appendChild(l),this.tooltipElem_=l,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(ys(void 0,"drg"));return}this.element.classList.add(ys(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),i=n+(n>0?-1:n<0?1:0),s=Gn(-i,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${i+s},0 L${i},4 L${i+s},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const r=this.props_.get("formatter");this.tooltipElem_.textContent=r(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class fh{constructor(e,n){var i;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(i=n.sliderProps)!==null&&i!==void 0?i:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=ii(null),this.view=new W6(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const s=new El(this.view.knobElement);s.emitter.on("down",this.onPointerDown_),s.emitter.on("move",this.onPointerMove_),s.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,i;const s=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),r=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("max");let a=e;return s!==void 0&&(a=Math.max(a,s)),r!==void 0&&(a=Math.min(a,r)),a}onInputChange_(e){const i=e.currentTarget.value,s=this.parser_(i);Mn(s)||(this.value.rawValue=this.constrainValue_(s)),this.view.refresh()}onInputKeyDown_(e){const n=Zi(this.props.get("keyScale"),Ad(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){Zi(this.props.get("keyScale"),Ad(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const cy=Wt("sld");class $6{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(cy()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(cy("t")),n.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;const s=e.createElement("div");s.classList.add(cy("k")),this.trackElement.appendChild(s),this.knobElement=s,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=Gn(Yt(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class j6{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new $6(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new El(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(Yt(Gn(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Zi(this.props.get("keyScale"),sa(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){Zi(this.props.get("keyScale"),sa(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const uy=Wt("sldtxt");class X6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(uy());const i=e.createElement("div");i.classList.add(uy("s")),this.sliderView_=n.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(uy("t")),this.textView_=n.textView,s.appendChild(this.textView_.element),this.element.appendChild(s)}}class IM{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new j6(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new fh(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new X6(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return wr(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const i=this.sliderC_.props;return i.set("max",n.max),i.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return Sr(null,{max:e.get("max"),min:e.get("min")})}}function Y6(t){return{sliderProps:new Gt({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new Gt({formatter:ii(t.formatter),keyScale:t.keyScale,pointerScale:ii(t.pointerScale)})}}const q6={containerUnitSize:"cnt-usz"};function SI(t){return`--${q6[t]}`}function Pd(t){return cI(t)}function Ba(t){if(M0(t))return xi(t,Pd)}function jr(t,e){if(!t)return;const n=[],i=aI(t,e);i&&n.push(i);const s=oI(t);return s&&n.push(s),new hh(n)}function MI(t){if(t==="inline"||t==="popup")return t}function mh(t,e){t.write(e)}const Nf=Wt("ckb");class K6{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Nf()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("label");i.classList.add(Nf("l")),this.element.appendChild(i),this.labelElement=i;const s=e.createElement("input");s.classList.add(Nf("i")),s.type="checkbox",this.labelElement.appendChild(s),this.inputElement=s,n.viewProps.bindDisabled(this.inputElement);const r=e.createElement("div");r.classList.add(Nf("w")),this.labelElement.appendChild(r);const a=pv(e,"check");r.appendChild(a),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class Z6{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.onLabelMouseDown_=this.onLabelMouseDown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new K6(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.labelElement.addEventListener("mousedown",this.onLabelMouseDown_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked,e.preventDefault(),e.stopPropagation()}onLabelMouseDown_(e){e.preventDefault()}}function J6(t){const e=[],n=hx(t.options);return n&&e.push(n),new hh(e)}zi({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=xi(e,i=>({options:i.optional.custom(gv),readonly:i.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>_I,constraint:t=>J6(t.params),writer:t=>mh},controller:t=>{const e=t.document,n=t.value,i=t.constraint,s=i&&cp(i,vv);return s?new Hc(e,{props:new Gt({options:s.values.value("options")}),value:n,viewProps:t.viewProps}):new Z6(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof Hc?new dx(t.controller):null}});const wo=Wt("col");class Q6{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(wo()),n.foldable.bindExpandedClass(this.element,wo(void 0,"expanded")),vr(n.foldable,"completed",nu(this.element,wo(void 0,"cpl")));const i=e.createElement("div");i.classList.add(wo("h")),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(wo("s")),i.appendChild(s),this.swatchElement=s;const r=e.createElement("div");if(r.classList.add(wo("t")),i.appendChild(r),this.textElement=r,n.pickerLayout==="inline"){const a=e.createElement("div");a.classList.add(wo("p")),this.element.appendChild(a),this.pickerElement=a}else this.pickerElement=null}}function e8(t,e,n){const i=Gn(t/255,0,1),s=Gn(e/255,0,1),r=Gn(n/255,0,1),a=Math.max(i,s,r),o=Math.min(i,s,r),l=a-o;let c=0,u=0;const d=(o+a)/2;return l!==0&&(u=l/(1-Math.abs(a+o-1)),i===a?c=(s-r)/l:s===a?c=2+(r-i)/l:c=4+(i-s)/l,c=c/6+(c<0?1:0)),[c*360,u*100,d*100]}function t8(t,e,n){const i=(t%360+360)%360,s=Gn(e/100,0,1),r=Gn(n/100,0,1),a=(1-Math.abs(2*r-1))*s,o=a*(1-Math.abs(i/60%2-1)),l=r-a/2;let c,u,d;return i>=0&&i<60?[c,u,d]=[a,o,0]:i>=60&&i<120?[c,u,d]=[o,a,0]:i>=120&&i<180?[c,u,d]=[0,a,o]:i>=180&&i<240?[c,u,d]=[0,o,a]:i>=240&&i<300?[c,u,d]=[o,0,a]:[c,u,d]=[a,0,o],[(c+l)*255,(u+l)*255,(d+l)*255]}function n8(t,e,n){const i=Gn(t/255,0,1),s=Gn(e/255,0,1),r=Gn(n/255,0,1),a=Math.max(i,s,r),o=Math.min(i,s,r),l=a-o;let c;l===0?c=0:a===i?c=60*(((s-r)/l%6+6)%6):a===s?c=60*((r-i)/l+2):c=60*((i-s)/l+4);const u=a===0?0:l/a,d=a;return[c,u*100,d*100]}function CI(t,e,n){const i=sI(t,360),s=Gn(e/100,0,1),r=Gn(n/100,0,1),a=r*s,o=a*(1-Math.abs(i/60%2-1)),l=r-a;let c,u,d;return i>=0&&i<60?[c,u,d]=[a,o,0]:i>=60&&i<120?[c,u,d]=[o,a,0]:i>=120&&i<180?[c,u,d]=[0,a,o]:i>=180&&i<240?[c,u,d]=[0,o,a]:i>=240&&i<300?[c,u,d]=[o,0,a]:[c,u,d]=[a,0,o],[(c+l)*255,(u+l)*255,(d+l)*255]}function i8(t,e,n){const i=n+e*(100-Math.abs(2*n-100))/200;return[t,i!==0?e*(100-Math.abs(2*n-100))/i:0,n+e*(100-Math.abs(2*n-100))/(2*100)]}function s8(t,e,n){const i=100-Math.abs(n*(200-e)/100-100);return[t,i!==0?e*n/i:0,n*(200-e)/(2*100)]}function gr(t){return[t[0],t[1],t[2]]}function yv(t,e){return[t[0],t[1],t[2],e]}const r8={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:i8,rgb:t8},hsv:{hsl:s8,hsv:(t,e,n)=>[t,e,n],rgb:CI},rgb:{hsl:e8,hsv:n8,rgb:(t,e,n)=>[t,e,n]}};function Gc(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function a8(t,e){return t===e?e:sI(t,e)}function TI(t,e,n){var i;const s=Gc(e,n);return[e==="rgb"?Gn(t[0],0,s[0]):a8(t[0],s[0]),Gn(t[1],0,s[1]),Gn(t[2],0,s[2]),Gn((i=t[3])!==null&&i!==void 0?i:1,0,1)]}function RM(t,e,n,i){const s=Gc(e,n),r=Gc(e,i);return t.map((a,o)=>a/s[o]*r[o])}function EI(t,e,n){const i=RM(t,e.mode,e.type,"int"),s=r8[e.mode][n.mode](...i);return RM(s,n.mode,"int",n.type)}class Ht{static black(){return new Ht([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=TI(e,n,this.type)}getComponents(e){return yv(EI(gr(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const Ca=Wt("colp");class o8{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Ca()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(Ca("hsv"));const s=e.createElement("div");s.classList.add(Ca("sv")),this.svPaletteView_=n.svPaletteView,s.appendChild(this.svPaletteView_.element),i.appendChild(s);const r=e.createElement("div");r.classList.add(Ca("h")),this.hPaletteView_=n.hPaletteView,r.appendChild(this.hPaletteView_.element),i.appendChild(r),this.element.appendChild(i);const a=e.createElement("div");if(a.classList.add(Ca("rgb")),this.textsView_=n.textsView,a.appendChild(this.textsView_.element),this.element.appendChild(a),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const o=e.createElement("div");o.classList.add(Ca("a"));const l=e.createElement("div");l.classList.add(Ca("ap")),l.appendChild(this.alphaViews_.palette.element),o.appendChild(l);const c=e.createElement("div");c.classList.add(Ca("at")),c.appendChild(this.alphaViews_.text.element),o.appendChild(c),this.element.appendChild(o)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function l8(t){return t==="int"?"int":t==="float"?"float":void 0}function mx(t){return xi(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(l8)}),expanded:e.optional.boolean,picker:e.optional.custom(MI),readonly:e.optional.constant(!1)}))}function hl(t){return t?.1:1}function AI(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}class px{constructor(e,n){this.type="float",this.mode=n,this.comps_=TI(e,n,this.type)}getComponents(e){return yv(EI(gr(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const c8={int:(t,e)=>new Ht(t,e),float:(t,e)=>new px(t,e)};function vx(t,e,n){return c8[n](t,e)}function u8(t){return t.type==="float"}function d8(t){return t.type==="int"}function h8(t){const e=t.getComponents(),n=Gc(t.mode,"int");return new Ht([Math.round(Yt(e[0],0,1,0,n[0])),Math.round(Yt(e[1],0,1,0,n[1])),Math.round(Yt(e[2],0,1,0,n[2])),e[3]],t.mode)}function f8(t){const e=t.getComponents(),n=Gc(t.mode,"int");return new px([Yt(e[0],0,n[0],0,1),Yt(e[1],0,n[1],0,1),Yt(e[2],0,n[2],0,1),e[3]],t.mode)}function Vi(t,e){if(t.type===e)return t;if(d8(t)&&e==="float")return f8(t);if(u8(t)&&e==="int")return h8(t);throw ss.shouldNeverHappen()}function m8(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function Ss(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const p8={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function PI(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),i=e[2];return p8[i](n)}function II(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Ss(e[1],255),Ss(e[2],255),Ss(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function v8(t){const e=II(t);return e?new Ht(e,"rgb"):null}function RI(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Ss(e[1],255),Ss(e[2],255),Ss(e[3],255),Ss(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function g8(t){const e=RI(t);return e?new Ht(e,"rgb"):null}function LI(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[PI(e[1]),Ss(e[2],100),Ss(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function y8(t){const e=LI(t);return e?new Ht(e,"hsl"):null}function kI(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[PI(e[1]),Ss(e[2],100),Ss(e[3],100),Ss(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function b8(t){const e=kI(t);return e?new Ht(e,"hsl"):null}function DI(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function _8(t){const e=DI(t);return e?new Ht(e,"rgb"):null}function OI(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Yt(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),Yt(parseInt(n[4],16),0,255,0,1)]:null}function x8(t){const e=OI(t);return e?new Ht(e,"rgb"):null}function NI(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function w8(t){return e=>{const n=NI(e);return n?vx(n,"rgb",t):null}}function VI(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function S8(t){return e=>{const n=VI(e);return n?vx(n,"rgb",t):null}}const M8=[{parser:DI,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:OI,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:II,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:RI,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:LI,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:kI,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:NI,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:VI,result:{alpha:!0,mode:"rgb",notation:"object"}}];function C8(t){return M8.reduce((e,{parser:n,result:i})=>e||(n(t)?i:null),null)}function T8(t,e="int"){const n=C8(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function ph(t){const e=[_8,x8,v8,g8,y8,b8];e.push(w8("int"),S8("int"));const n=z6(e);return i=>{const s=n(i);return s?Vi(s,t):null}}function E8(t){const e=ph("int");if(typeof t!="string")return Ht.black();const n=e(t);return n??Ht.black()}function FI(t){const e=Gn(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function gx(t,e="#"){const n=gr(t.getComponents("rgb")).map(FI).join("");return`${e}${n}`}function yx(t,e="#"){const n=t.getComponents("rgb"),i=[n[0],n[1],n[2],n[3]*255].map(FI).join("");return`${e}${i}`}function BI(t){const e=Qi(0),n=Vi(t,"int");return`rgb(${gr(n.getComponents("rgb")).map(s=>e(s)).join(", ")})`}function sm(t){const e=Qi(2),n=Qi(0);return`rgba(${Vi(t,"int").getComponents("rgb").map((r,a)=>(a===3?e:n)(r)).join(", ")})`}function A8(t){const e=[Qi(0),up,up],n=Vi(t,"int");return`hsl(${gr(n.getComponents("hsl")).map((s,r)=>e[r](s)).join(", ")})`}function P8(t){const e=[Qi(0),up,up,Qi(2)];return`hsla(${Vi(t,"int").getComponents("hsl").map((s,r)=>e[r](s)).join(", ")})`}function UI(t,e){const n=Qi(e==="float"?2:0),i=["r","g","b"],s=Vi(t,e);return`{${gr(s.getComponents("rgb")).map((a,o)=>`${i[o]}: ${n(a)}`).join(", ")}}`}function I8(t){return e=>UI(e,t)}function zI(t,e){const n=Qi(2),i=Qi(e==="float"?2:0),s=["r","g","b","a"];return`{${Vi(t,e).getComponents("rgb").map((o,l)=>{const c=l===3?n:i;return`${s[l]}: ${c(o)}`}).join(", ")}}`}function R8(t){return e=>zI(e,t)}const L8=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:gx},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:yx},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:BI},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:sm},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:A8},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:P8},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:I8(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:R8(e)}],[])];function HI(t){return L8.reduce((e,n)=>e||(m8(n.format,t)?n.stringifier:null),null)}const Lu=Wt("apl");class k8{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Lu()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("div");i.classList.add(Lu("b")),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(Lu("c")),i.appendChild(s),this.colorElem_=s;const r=e.createElement("div");r.classList.add(Lu("m")),this.element.appendChild(r),this.markerElem_=r;const a=e.createElement("div");a.classList.add(Lu("p")),this.markerElem_.appendChild(a),this.previewElem_=a,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),i=new Ht([n[0],n[1],n[2],0],"rgb"),s=new Ht([n[0],n[1],n[2],255],"rgb"),r=["to right",sm(i),sm(s)];this.colorElem_.style.background=`linear-gradient(${r.join(",")})`,this.previewElem_.style.backgroundColor=sm(e);const a=Yt(n[3],0,1,0,100);this.markerElem_.style.left=`${a}%`}onValueChange_(){this.update_()}}class D8{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new k8(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new El(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=e.point.x/e.bounds.width,s=this.value.rawValue,[r,a,o]=s.getComponents("hsv");this.value.setRawValue(new Ht([r,a,o,i],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Zi(hl(!0),sa(e));if(n===0)return;const i=this.value.rawValue,[s,r,a,o]=i.getComponents("hsv");this.value.setRawValue(new Ht([s,r,a,o+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Zi(hl(!0),sa(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const sc=Wt("coltxt");function O8(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((i,s)=>{const r=t.createElement("option");return r.textContent=s.text,r.value=s.value,i.appendChild(r),i},t.createDocumentFragment())),e}class N8{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(sc()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(sc("m")),this.modeElem_=O8(e),this.modeElem_.classList.add(sc("ms")),i.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const s=e.createElement("div");s.classList.add(sc("mm")),s.appendChild(pv(e,"dropdown")),i.appendChild(s),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(sc("w")),this.element.appendChild(r),this.inputsElem_=r,this.inputViews_=n.inputViews,this.applyInputViews_(),Kr(n.mode,a=>{this.modeElem_.value=a})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){hI(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const i=e.createElement("div");i.classList.add(sc("c")),i.appendChild(n.element),this.inputsElem_.appendChild(i)})}}function V8(t){return Qi(t==="float"?2:0)}function F8(t,e,n){const i=Gc(t,e)[n];return new fv({min:0,max:i})}function B8(t,e,n){return new fh(t,{arrayPosition:n===0?"fst":n===2?"lst":"mid",parser:e.parser,props:Gt.fromObject({formatter:V8(e.colorType),keyScale:hl(!1),pointerScale:e.colorType==="float"?.01:1}),value:ii(0,{constraint:F8(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function U8(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:ja,viewProps:e.viewProps};return[0,1,2].map(i=>{const s=B8(t,n,i);return iu({primary:e.value,secondary:s.value,forward(r){return Vi(r,e.colorType).getComponents(e.colorMode)[i]},backward(r,a){const o=e.colorMode,c=Vi(r,e.colorType).getComponents(o);c[i]=a;const u=vx(yv(gr(c),c[3]),o,e.colorType);return Vi(u,"int")}}),s})}function z8(t,e){const n=new fx(t,{parser:ph("int"),props:Gt.fromObject({formatter:gx}),value:ii(Ht.black()),viewProps:e.viewProps});return iu({primary:e.value,secondary:n.value,forward:i=>new Ht(gr(i.getComponents()),i.mode),backward:(i,s)=>new Ht(yv(gr(s.getComponents(i.mode)),i.getComponents()[3]),i.mode)}),[n]}function H8(t){return t!=="hex"}class G8{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=ii(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new N8(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return H8(n)?U8(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):z8(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(i=>i.view)}}const dy=Wt("hpl");class W8{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(dy()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("div");i.classList.add(dy("c")),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(dy("m")),this.element.appendChild(s),this.markerElem_=s,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=BI(new Ht([n,100,100],"hsv"));const i=Yt(n,0,360,0,100);this.markerElem_.style.left=`${i}%`}onValueChange_(){this.update_()}}class $8{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new W8(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new El(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=Yt(Gn(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),s=this.value.rawValue,[,r,a,o]=s.getComponents("hsv");this.value.setRawValue(new Ht([i,r,a,o],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Zi(hl(!1),sa(e));if(n===0)return;const i=this.value.rawValue,[s,r,a,o]=i.getComponents("hsv");this.value.setRawValue(new Ht([s+n,r,a,o],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Zi(hl(!1),sa(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const hy=Wt("svp"),LM=64;class j8{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(hy()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("canvas");i.height=LM,i.width=LM,i.classList.add(hy("c")),this.element.appendChild(i),this.canvasElement=i;const s=e.createElement("div");s.classList.add(hy("m")),this.element.appendChild(s),this.markerElem_=s,this.update_()}update_(){const e=i6(this.canvasElement);if(!e)return;const i=this.value.rawValue.getComponents("hsv"),s=this.canvasElement.width,r=this.canvasElement.height,a=e.getImageData(0,0,s,r),o=a.data;for(let u=0;u<r;u++)for(let d=0;d<s;d++){const h=Yt(d,0,s,0,100),f=Yt(u,0,r,100,0),m=CI(i[0],h,f),v=(u*s+d)*4;o[v]=m[0],o[v+1]=m[1],o[v+2]=m[2],o[v+3]=255}e.putImageData(a,0,0);const l=Yt(i[1],0,100,0,100);this.markerElem_.style.left=`${l}%`;const c=Yt(i[2],0,100,100,0);this.markerElem_.style.top=`${c}%`}onValueChange_(){this.update_()}}class X8{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new j8(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new El(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=Yt(e.point.x,0,e.bounds.width,0,100),s=Yt(e.point.y,0,e.bounds.height,100,0),[r,,,a]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Ht([r,i,s,a],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){wI(e.key)&&e.preventDefault();const[n,i,s,r]=this.value.rawValue.getComponents("hsv"),a=hl(!1),o=Zi(a,sa(e)),l=Zi(a,Ad(e));o===0&&l===0||this.value.setRawValue(new Ht([n,i+o,s+l,r],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=hl(!1),i=Zi(n,sa(e)),s=Zi(n,Ad(e));i===0&&s===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Y8{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new $8(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new X8(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new D8(e,{value:this.value,viewProps:this.viewProps}),text:new fh(e,{parser:ja,props:Gt.fromObject({pointerScale:.01,keyScale:.1,formatter:Qi(2)}),value:ii(0,{constraint:new fv({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&iu({primary:this.value,secondary:this.alphaIcs_.text.value,forward:i=>i.getComponents()[3],backward:(i,s)=>{const r=i.getComponents();return r[3]=s,new Ht(r,i.mode)}}),this.textsC_=new G8(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new o8(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const fy=Wt("colsw");class q8{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(fy()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(fy("sw")),this.element.appendChild(i),this.swatchElem_=i;const s=e.createElement("button");s.classList.add(fy("b")),n.viewProps.bindDisabled(s),this.element.appendChild(s),this.buttonElement=s,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=yx(e)}onValueChange_(){this.update_()}}class K8{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new q8(e,{value:this.value,viewProps:this.viewProps})}}class bx{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=uh.create(n.expanded),this.swatchC_=new K8(e,{value:this.value,viewProps:this.viewProps});const i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new fx(e,{parser:n.parser,props:Gt.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new Q6(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new bI(e,{viewProps:this.viewProps}):null;const s=new Y8(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});s.view.allFocusableElements.forEach(r=>{r.addEventListener("blur",this.onPopupChildBlur_),r.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=s,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(s.view.element),iu({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:r=>r,backward:(r,a)=>a})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),ux(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,i=e.relatedTarget;(!i||!n.contains(i))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,i=fI(e);i&&n.contains(i)||i&&i===this.swatchC_.view.buttonElement&&!sx(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Z8(t){return gr(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function J8(t){return t.getComponents("rgb").reduce((e,n,i)=>{const s=Math.floor(i===3?n*255:n)&255;return e<<8|s},0)>>>0}function Q8(t){return new Ht([t>>16&255,t>>8&255,t&255],"rgb")}function eW(t){return new Ht([t>>24&255,t>>16&255,t>>8&255,Yt(t&255,0,255,0,1)],"rgb")}function tW(t){return typeof t!="number"?Ht.black():Q8(t)}function nW(t){return typeof t!="number"?Ht.black():eW(t)}function rm(t,e){return typeof t!="object"||Mn(t)?!1:e in t&&typeof t[e]=="number"}function GI(t){return rm(t,"r")&&rm(t,"g")&&rm(t,"b")}function WI(t){return GI(t)&&rm(t,"a")}function $I(t){return GI(t)}function _x(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),i=e.getComponents();for(let s=0;s<n.length;s++)if(n[s]!==i[s])return!1;return!0}function kM(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function iW(t){const e=HI(t);return e?(n,i)=>{mh(n,e(i))}:null}function sW(t){const e=t?J8:Z8;return(n,i)=>{mh(n,e(i))}}function rW(t,e,n){const s=Vi(e,n).toRgbaObject();t.writeProperty("r",s.r),t.writeProperty("g",s.g),t.writeProperty("b",s.b),t.writeProperty("a",s.a)}function aW(t,e,n){const s=Vi(e,n).toRgbaObject();t.writeProperty("r",s.r),t.writeProperty("g",s.g),t.writeProperty("b",s.b)}function oW(t,e){return(n,i)=>{t?rW(n,i,e):aW(n,i,e)}}function lW(t){var e;return!!(!((e=t==null?void 0:t.color)===null||e===void 0)&&e.alpha)}function cW(t){return t?e=>yx(e,"0x"):e=>gx(e,"0x")}function uW(t){return"color"in t||t.view==="color"}zi({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!uW(e))return null;const n=mx(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:lW(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?nW:tW,equals:_x,writer:t=>sW(t.params.supportsAlpha)},controller:t=>{var e,n;return new bx(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:cW(t.params.supportsAlpha),parser:ph("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function dW(t,e){if(!$I(t))return Vi(Ht.black(),e);if(e==="int"){const n=kM(t);return new Ht(n,"rgb")}if(e==="float"){const n=kM(t);return new px(n,"rgb")}return Vi(Ht.black(),"int")}function hW(t){return WI(t)}function fW(t){return e=>{const n=dW(e,t);return Vi(n,"int")}}function mW(t,e){return n=>t?zI(n,e):UI(n,e)}zi({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!$I(t))return null;const i=mx(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{colorType:(n=AI(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>fW(t.params.colorType),equals:_x,writer:t=>oW(hW(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const i=WI(t.initialValue);return new bx(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:mW(i,t.params.colorType),parser:ph("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:i,value:t.value,viewProps:t.viewProps})}});zi({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=T8(t,AI(e));if(!n)return null;const i=HI(n);if(!i)return null;const s=mx(e);return s?{initialValue:t,params:Object.assign(Object.assign({},s),{format:n,stringifier:i})}:null},binding:{reader:()=>E8,equals:_x,writer:t=>{const e=iW(t.params.format);if(!e)throw ss.notBindable();return e}},controller:t=>{var e,n;return new bx(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:ph("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});class xx{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((i,s)=>{var r,a;return(a=(r=this.components[s])===null||r===void 0?void 0:r.constrain(i))!==null&&a!==void 0?a:i});return this.asm_.fromComponents(n)}}const DM=Wt("pndtxt");class pW{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(DM()),this.textViews.forEach(i=>{const s=e.createElement("div");s.classList.add(DM("a")),s.appendChild(i.element),this.element.appendChild(s)})}}function vW(t,e,n){return new fh(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:ii(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}class wx{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((i,s)=>vW(e,n,s)),this.acs_.forEach((i,s)=>{iu({primary:this.value,secondary:i.value,forward:r=>n.assembly.toComponents(r)[s],backward:(r,a)=>{const o=n.assembly.toComponents(r);return o[s]=a,n.assembly.fromComponents(o)}})}),this.view=new pW(e,{textViews:this.acs_.map(i=>i.view)})}get textControllers(){return this.acs_}}class gW extends ix{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}function yW(t,e){const n=[],i=aI(t,e);i&&n.push(i);const s=oI(t);s&&n.push(s);const r=hx(t.options);return r&&n.push(r),new hh(n)}zi({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=xi(e,i=>Object.assign(Object.assign({},cI(i)),{options:i.optional.custom(gv),readonly:i.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>iI,constraint:t=>yW(t.params,t.initialValue),writer:t=>mh},controller:t=>{const e=t.value,n=t.constraint,i=n&&cp(n,vv);if(i)return new Hc(t.document,{props:new Gt({options:i.values.value("options")}),value:e,viewProps:t.viewProps});const s=lI(t.params,e.rawValue),r=n&&cp(n,fv);return r?new IM(t.document,Object.assign(Object.assign({},Y6(Object.assign(Object.assign({},s),{keyScale:ii(s.keyScale),max:r.values.value("max"),min:r.values.value("min")}))),{parser:ja,value:e,viewProps:t.viewProps})):new fh(t.document,{parser:ja,props:Gt.fromObject(s),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof IM?new gW(t.controller):t.controller.valueController instanceof Hc?new dx(t.controller):null}});class Ha{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(Mn(e))return!1;const n=e.x,i=e.y;return!(typeof n!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}}const jI={toComponents:t=>t.getComponents(),fromComponents:t=>new Ha(...t)},rc=Wt("p2d");class bW{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(rc()),n.viewProps.bindClassModifiers(this.element),Kr(n.expanded,nu(this.element,rc(void 0,"expanded")));const i=e.createElement("div");i.classList.add(rc("h")),this.element.appendChild(i);const s=e.createElement("button");s.classList.add(rc("b")),s.appendChild(pv(e,"p2dpad")),n.viewProps.bindDisabled(s),i.appendChild(s),this.buttonElement=s;const r=e.createElement("div");if(r.classList.add(rc("t")),i.appendChild(r),this.textElement=r,n.pickerLayout==="inline"){const a=e.createElement("div");a.classList.add(rc("p")),this.element.appendChild(a),this.pickerElement=a}else this.pickerElement=null}}const Ta=Wt("p2dp");class _W{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(Ta()),n.layout==="popup"&&this.element.classList.add(Ta(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(Ta("p")),n.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;const s=e.createElementNS(or,"svg");s.classList.add(Ta("g")),this.padElement.appendChild(s),this.svgElem_=s;const r=e.createElementNS(or,"line");r.classList.add(Ta("ax")),r.setAttributeNS(null,"x1","0"),r.setAttributeNS(null,"y1","50%"),r.setAttributeNS(null,"x2","100%"),r.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(r);const a=e.createElementNS(or,"line");a.classList.add(Ta("ax")),a.setAttributeNS(null,"x1","50%"),a.setAttributeNS(null,"y1","0"),a.setAttributeNS(null,"x2","50%"),a.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(a);const o=e.createElementNS(or,"line");o.classList.add(Ta("l")),o.setAttributeNS(null,"x1","50%"),o.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(o),this.lineElem_=o;const l=e.createElement("div");l.classList.add(Ta("m")),this.padElement.appendChild(l),this.markerElem_=l,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),i=this.props_.get("max"),s=Yt(e,-i,+i,0,100),r=Yt(n,-i,+i,0,100),a=this.props_.get("invertsY")?100-r:r;this.lineElem_.setAttributeNS(null,"x2",`${s}%`),this.lineElem_.setAttributeNS(null,"y2",`${a}%`),this.markerElem_.style.left=`${s}%`,this.markerElem_.style.top=`${a}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function OM(t,e,n){return[Zi(e[0],sa(t)),Zi(e[1],Ad(t))*(n?1:-1)]}class xW{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new _W(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new El(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=this.props.get("max"),s=Yt(e.point.x,0,e.bounds.width,-i,+i),r=Yt(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-i,+i);this.value.setRawValue(new Ha(s,r),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){wI(e.key)&&e.preventDefault();const[n,i]=OM(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&i===0||this.value.setRawValue(new Ha(this.value.rawValue.x+n,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,i]=OM(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class wW{constructor(e,n){var i,s;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=uh.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new bI(e,{viewProps:this.viewProps}):null;const r=new xW(e,{layout:n.pickerLayout,props:new Gt({invertsY:ii(n.invertsY),max:ii(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});r.view.allFocusableElements.forEach(a=>{a.addEventListener("blur",this.onPopupChildBlur_),a.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=r,this.textC_=new wx(e,{assembly:jI,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new bW(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("blur",this.onPadButtonBlur_),(s=this.view.buttonElement)===null||s===void 0||s.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),iu({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:a=>a,backward:(a,o)=>o})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),ux(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,i=e.relatedTarget;(!i||!n.contains(i))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,i=fI(e);i&&n.contains(i)||i&&i===this.view.buttonElement&&!sx(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}function SW(t){return Ha.isObject(t)?new Ha(t.x,t.y):new Ha}function MW(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function CW(t,e){return new xx({assembly:jI,components:[jr(Object.assign(Object.assign({},t),t.x),e.x),jr(Object.assign(Object.assign({},t),t.y),e.y)]})}function NM(t,e){var n,i;if(!Mn(t.min)||!Mn(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((i=t.max)!==null&&i!==void 0?i:0));const s=rI(t);return Math.max(Math.abs(s)*10,Math.abs(e)*10)}function TW(t,e){var n,i;const s=NM(dl(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),r=NM(dl(t,(i=t.y)!==null&&i!==void 0?i:{}),e.y);return Math.max(s,r)}function EW(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}zi({id:"input-point2d",type:"input",accept:(t,e)=>{if(!Ha.isObject(t))return null;const n=xi(e,i=>Object.assign(Object.assign({},Pd(i)),{expanded:i.optional.boolean,picker:i.optional.custom(MI),readonly:i.optional.constant(!1),x:i.optional.custom(Ba),y:i.optional.object(Object.assign(Object.assign({},Pd(i)),{inverted:i.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>SW,constraint:t=>CW(t.params,t.initialValue),equals:Ha.equals,writer:()=>MW},controller:t=>{var e,n;const i=t.document,s=t.value,r=t.constraint,a=[t.params.x,t.params.y];return new wW(i,{axes:s.rawValue.getComponents().map((o,l)=>{var c;return tx({constraint:r.components[l],initialValue:o,params:dl(t.params,(c=a[l])!==null&&c!==void 0?c:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:EW(t.params),max:TW(t.params,s.rawValue),parser:ja,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:s,viewProps:t.viewProps})}});class Ac{constructor(e=0,n=0,i=0){this.x=e,this.y=n,this.z=i}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(Mn(e))return!1;const n=e.x,i=e.y,s=e.z;return!(typeof n!="number"||typeof i!="number"||typeof s!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const XI={toComponents:t=>t.getComponents(),fromComponents:t=>new Ac(...t)};function AW(t){return Ac.isObject(t)?new Ac(t.x,t.y,t.z):new Ac}function PW(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function IW(t,e){return new xx({assembly:XI,components:[jr(Object.assign(Object.assign({},t),t.x),e.x),jr(Object.assign(Object.assign({},t),t.y),e.y),jr(Object.assign(Object.assign({},t),t.z),e.z)]})}zi({id:"input-point3d",type:"input",accept:(t,e)=>{if(!Ac.isObject(t))return null;const n=xi(e,i=>Object.assign(Object.assign({},Pd(i)),{readonly:i.optional.constant(!1),x:i.optional.custom(Ba),y:i.optional.custom(Ba),z:i.optional.custom(Ba)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>AW,constraint:t=>IW(t.params,t.initialValue),equals:Ac.equals,writer:t=>PW},controller:t=>{const e=t.value,n=t.constraint,i=[t.params.x,t.params.y,t.params.z];return new wx(t.document,{assembly:XI,axes:e.rawValue.getComponents().map((s,r)=>{var a;return tx({constraint:n.components[r],initialValue:s,params:dl(t.params,(a=i[r])!==null&&a!==void 0?a:{})})}),parser:ja,value:e,viewProps:t.viewProps})}});class Pc{constructor(e=0,n=0,i=0,s=0){this.x=e,this.y=n,this.z=i,this.w=s}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(Mn(e))return!1;const n=e.x,i=e.y,s=e.z,r=e.w;return!(typeof n!="number"||typeof i!="number"||typeof s!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const YI={toComponents:t=>t.getComponents(),fromComponents:t=>new Pc(...t)};function RW(t){return Pc.isObject(t)?new Pc(t.x,t.y,t.z,t.w):new Pc}function LW(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function kW(t,e){return new xx({assembly:YI,components:[jr(Object.assign(Object.assign({},t),t.x),e.x),jr(Object.assign(Object.assign({},t),t.y),e.y),jr(Object.assign(Object.assign({},t),t.z),e.z),jr(Object.assign(Object.assign({},t),t.w),e.w)]})}zi({id:"input-point4d",type:"input",accept:(t,e)=>{if(!Pc.isObject(t))return null;const n=xi(e,i=>Object.assign(Object.assign({},Pd(i)),{readonly:i.optional.constant(!1),w:i.optional.custom(Ba),x:i.optional.custom(Ba),y:i.optional.custom(Ba),z:i.optional.custom(Ba)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>RW,constraint:t=>kW(t.params,t.initialValue),equals:Pc.equals,writer:t=>LW},controller:t=>{const e=t.value,n=t.constraint,i=[t.params.x,t.params.y,t.params.z,t.params.w];return new wx(t.document,{assembly:YI,axes:e.rawValue.getComponents().map((s,r)=>{var a;return tx({constraint:n.components[r],initialValue:s,params:dl(t.params,(a=i[r])!==null&&a!==void 0?a:{})})}),parser:ja,value:e,viewProps:t.viewProps})}});function DW(t){const e=[],n=hx(t.options);return n&&e.push(n),new hh(e)}zi({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=xi(e,i=>({readonly:i.optional.constant(!1),options:i.optional.custom(gv)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>xI,constraint:t=>DW(t.params),writer:t=>mh},controller:t=>{const e=t.document,n=t.value,i=t.constraint,s=i&&cp(i,vv);return s?new Hc(e,{props:new Gt({options:s.values.value("options")}),value:n,viewProps:t.viewProps}):new fx(e,{parser:r=>r,props:Gt.fromObject({formatter:A0}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof Hc?new dx(t.controller):null}});const bv={monitor:{defaultInterval:200,defaultRows:3}},VM=Wt("mll");class OW{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(VM()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("textarea");i.classList.add(VM("i")),i.style.height=`calc(var(${SI("containerUnitSize")}) * ${n.rows})`,i.readOnly=!0,n.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,i=[];this.value.rawValue.forEach(s=>{s!==void 0&&i.push(this.formatter_(s))}),e.textContent=i.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class Sx{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new OW(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}}const FM=Wt("sgl");class NW{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(FM()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("input");i.classList.add(FM("i")),i.readOnly=!0,i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}}class Mx{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new NW(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}}zi({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=xi(e,i=>({readonly:i.required.constant(!0),rows:i.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>_I},controller:t=>{var e;return t.value.rawValue.length===1?new Mx(t.document,{formatter:PM,value:t.value,viewProps:t.viewProps}):new Sx(t.document,{formatter:PM,rows:(e=t.params.rows)!==null&&e!==void 0?e:bv.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});class VW extends ix{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const Ea=Wt("grl");class FW{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ea()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const i=e.createElementNS(or,"svg");i.classList.add(Ea("g")),i.style.height=`calc(var(${SI("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(i),this.svgElem_=i;const s=e.createElementNS(or,"polyline");this.svgElem_.appendChild(s),this.lineElem_=s;const r=e.createElement("div");r.classList.add(Ea("t"),Wt("tt")()),this.element.appendChild(r),this.tooltipElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const{clientWidth:e,clientHeight:n}=this.element,i=this.value.rawValue.length-1,s=this.props_.get("min"),r=this.props_.get("max"),a=[];this.value.rawValue.forEach((d,h)=>{if(d===void 0)return;const f=Yt(h,0,i,0,e),m=Yt(d,s,r,n,0);a.push([f,m].join(","))}),this.lineElem_.setAttributeNS(null,"points",a.join(" "));const o=this.tooltipElem_,l=this.value.rawValue[this.cursor_.rawValue];if(l===void 0){o.classList.remove(Ea("t","a"));return}const c=Yt(this.cursor_.rawValue,0,i,0,e),u=Yt(l,s,r,n,0);o.style.left=`${c}px`,o.style.top=`${u}px`,o.textContent=`${this.formatter_(l)}`,o.classList.contains(Ea("t","a"))||(o.classList.add(Ea("t","a"),Ea("t","in")),lp(o),o.classList.remove(Ea("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class qI{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=ii(-1),this.view=new FW(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!sx(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const i=new El(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return wr(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return Sr(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const{clientWidth:n}=this.view.element;this.cursor_.rawValue=Math.floor(Yt(e.offsetX,0,n,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Yt(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function P0(t){return Mn(t.format)?Qi(2):t.format}function BW(t){var e;return t.value.rawValue.length===1?new Mx(t.document,{formatter:P0(t.params),value:t.value,viewProps:t.viewProps}):new Sx(t.document,{formatter:P0(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:bv.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function UW(t){var e,n,i;return new qI(t.document,{formatter:P0(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:bv.monitor.defaultRows,props:Gt.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(i=t.params.min)!==null&&i!==void 0?i:0}),value:t.value,viewProps:t.viewProps})}function BM(t){return t.view==="graph"}zi({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=xi(e,i=>({format:i.optional.function,max:i.optional.number,min:i.optional.number,readonly:i.required.constant(!0),rows:i.optional.number,view:i.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>BM(t)?64:1,reader:t=>iI},controller:t=>BM(t.params)?UW(t):BW(t),api:t=>t.controller.valueController instanceof qI?new VW(t.controller):null});zi({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=xi(e,i=>({multiline:i.optional.boolean,readonly:i.required.constant(!0),rows:i.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>xI},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new Sx(t.document,{formatter:A0,rows:(e=t.params.rows)!==null&&e!==void 0?e:bv.monitor.defaultRows,value:n,viewProps:t.viewProps}):new Mx(t.document,{formatter:A0,value:n,viewProps:t.viewProps})}});new pI("4.0.5");function UM(t,e){if(e===CA)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===np||e===f_){let n=t.getIndex();if(n===null){const a=[],o=t.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,s=[];if(n)if(e===np)for(let a=1;a<=i;a++)s.push(n.getX(0)),s.push(n.getX(a)),s.push(n.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(s.push(n.getX(a)),s.push(n.getX(a+1)),s.push(n.getX(a+2))):(s.push(n.getX(a+2)),s.push(n.getX(a+1)),s.push(n.getX(a)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=t.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const KI=parseInt(qc.replace(/\D+/g,""));var zW=Object.defineProperty,HW=(t,e,n)=>e in t?zW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GW=(t,e,n)=>(HW(t,e+"",n),n);async function zM(t){const e=await t.arrayBuffer(),n=btoa(String.fromCharCode(...new Uint8Array(e)));return`data:${t.type||""};base64,${n}`}let Vf,my,ac,Ff;function py(t,e=1/0,n=null){my||(my=new Ja(2,2,1,1)),ac||(ac=new Ui({uniforms:{blitTexture:new dv(t)},vertexShader:`
        varying vec2 vUv;
        void main(){
            vUv = uv;
            gl_Position = vec4(position.xy * 1.0,0.,.999999);
        }
      `,fragmentShader:`
          uniform sampler2D blitTexture; 
          varying vec2 vUv;

          void main(){ 
              gl_FragColor = vec4(vUv.xy, 0, 1);
              
              #ifdef IS_SRGB
              gl_FragColor = LinearTosRGB( texture2D( blitTexture, vUv) );
              #else
              gl_FragColor = texture2D( blitTexture, vUv);
              #endif
          }
      `})),ac.uniforms.blitTexture.value=t,ac.defines.IS_SRGB="colorSpace"in t?t.colorSpace==="srgb":t.encoding===3001,ac.needsUpdate=!0,Ff||(Ff=new nn(my,ac),Ff.frustrumCulled=!1);const i=new Qt,s=new Vc;s.add(Ff),n||(n=Vf=new ed({antialias:!1})),n.setSize(Math.min(t.image.width,e),Math.min(t.image.height,e)),n.clear(),n.render(s,i);const r=new un(n.domElement);return r.minFilter=t.minFilter,r.magFilter=t.magFilter,r.wrapS=t.wrapS,r.wrapT=t.wrapT,r.name=t.name,Vf&&(Vf.dispose(),Vf=null),r}const HM={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class ZI{constructor(){this.pluginCallbacks=[],this.register(function(e){return new QW(e)}),this.register(function(e){return new e$(e)}),this.register(function(e){return new i$(e)}),this.register(function(e){return new s$(e)}),this.register(function(e){return new r$(e)}),this.register(function(e){return new a$(e)}),this.register(function(e){return new t$(e)}),this.register(function(e){return new n$(e)}),this.register(function(e){return new o$(e)}),this.register(function(e){return new l$(e)}),this.register(function(e){return new c$(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,s){const r=new JW,a=[];for(let o=0,l=this.pluginCallbacks.length;o<l;o++)a.push(this.pluginCallbacks[o](r));r.setPlugins(a),r.write(e,n,s).catch(i)}parseAsync(e,n){const i=this;return new Promise(function(s,r){i.parse(e,s,r,n)})}}GW(ZI,"Utils",{insertKeyframe:function(t,e){const n=t.getValueSize(),i=new t.TimeBufferType(t.times.length+1),s=new t.ValueBufferType(t.values.length+n),r=t.createInterpolant(new t.ValueBufferType(n));let a;if(t.times.length===0){i[0]=e;for(let o=0;o<n;o++)s[o]=0;a=0}else if(e<t.times[0]){if(Math.abs(t.times[0]-e)<.001)return 0;i[0]=e,i.set(t.times,1),s.set(r.evaluate(e),0),s.set(t.values,n),a=0}else if(e>t.times[t.times.length-1]){if(Math.abs(t.times[t.times.length-1]-e)<.001)return t.times.length-1;i[i.length-1]=e,i.set(t.times,0),s.set(t.values,0),s.set(r.evaluate(e),t.values.length),a=i.length-1}else for(let o=0;o<t.times.length;o++){if(Math.abs(t.times[o]-e)<.001)return o;if(t.times[o]<e&&t.times[o+1]>e){i.set(t.times.slice(0,o+1),0),i[o+1]=e,i.set(t.times.slice(o+1),o+2),s.set(t.values.slice(0,(o+1)*n),0),s.set(r.evaluate(e),(o+1)*n),s.set(t.values.slice((o+1)*n),(o+2)*n),a=o+1;break}}return t.times=i,t.values=s,a},mergeMorphTargetTracks:function(t,e){const n=[],i={},s=t.tracks;for(let r=0;r<s.length;++r){let a=s[r];const o=Et.parseTrackName(a.name),l=Et.findNode(e,o.nodeName);if(o.propertyName!=="morphTargetInfluences"||o.propertyIndex===void 0){n.push(a);continue}if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),a=a.clone(),a.setInterpolation(ll)}const c=l.morphTargetInfluences.length,u=l.morphTargetDictionary[o.propertyIndex];if(u===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+o.propertyIndex);let d;if(i[l.uuid]===void 0){d=a.clone();const f=new d.ValueBufferType(c*d.times.length);for(let m=0;m<d.times.length;m++)f[m*c+u]=d.values[m];d.name=(o.nodeName||"")+".morphTargetInfluences",d.values=f,i[l.uuid]=d,n.push(d);continue}const h=a.createInterpolant(new a.ValueBufferType(1));d=i[l.uuid];for(let f=0;f<d.times.length;f++)d.values[f*c+u]=h.evaluate(d.times[f]);for(let f=0;f<a.times.length;f++){const m=this.insertKeyframe(d,a.times[f]);d.values[m*c+u]=a.values[f]}}return t.tracks=n,t}});const It={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},vy="KHR_mesh_quantization",os={};os[Wn]=It.NEAREST;os[Zd]=It.NEAREST_MIPMAP_NEAREST;os[Fa]=It.NEAREST_MIPMAP_LINEAR;os[In]=It.LINEAR;os[Wo]=It.LINEAR_MIPMAP_NEAREST;os[as]=It.LINEAR_MIPMAP_LINEAR;os[qi]=It.CLAMP_TO_EDGE;os[ta]=It.REPEAT;os[sl]=It.MIRRORED_REPEAT;const GM={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},WW=new Be,WM=12,$W=1179937895,jW=2,$M=8,XW=1313821514,YW=5130562;function Bu(t,e){return t.length===e.length&&t.every(function(n,i){return n===e[i]})}function qW(t){return new TextEncoder().encode(t).buffer}function KW(t){return Bu(t.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function ZW(t,e,n){const i={min:new Array(t.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(t.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let s=e;s<e+n;s++)for(let r=0;r<t.itemSize;r++){let a;t.itemSize>4?a=t.array[s*t.itemSize+r]:(r===0?a=t.getX(s):r===1?a=t.getY(s):r===2?a=t.getZ(s):r===3&&(a=t.getW(s)),t.normalized===!0&&(a=$a.normalize(a,t.array))),i.min[r]=Math.min(i.min[r],a),i.max[r]=Math.max(i.max[r],a)}return i}function JI(t){return Math.ceil(t/4)*4}function gy(t,e=0){const n=JI(t.byteLength);if(n!==t.byteLength){const i=new Uint8Array(n);if(i.set(new Uint8Array(t)),e!==0)for(let s=t.byteLength;s<n;s++)i[s]=e;return i.buffer}return t}function jM(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function XM(t,e){if(t.toBlob!==void 0)return new Promise(i=>t.toBlob(i,e));let n;return e==="image/jpeg"?n=.92:e==="image/webp"&&(n=.8),t.convertToBlob({type:e,quality:n})}class JW{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,n,i={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},i),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);const s=this,r=s.buffers,a=s.json;i=s.options;const o=s.extensionsUsed,l=s.extensionsRequired,c=new Blob(r,{type:"application/octet-stream"}),u=Object.keys(o),d=Object.keys(l);u.length>0&&(a.extensionsUsed=u),d.length>0&&(a.extensionsRequired=d),a.buffers&&a.buffers.length>0&&(a.buffers[0].byteLength=c.size),i.binary===!0?c.arrayBuffer().then(h=>{const f=gy(h),m=new DataView(new ArrayBuffer($M));m.setUint32(0,f.byteLength,!0),m.setUint32(4,YW,!0);const v=gy(qW(JSON.stringify(a)),32),p=new DataView(new ArrayBuffer($M));p.setUint32(0,v.byteLength,!0),p.setUint32(4,XW,!0);const g=new ArrayBuffer(WM),y=new DataView(g);y.setUint32(0,$W,!0),y.setUint32(4,jW,!0);const x=WM+p.byteLength+v.byteLength+m.byteLength+f.byteLength;y.setUint32(8,x,!0),new Blob([g,p,v,m,f],{type:"application/octet-stream"}).arrayBuffer().then(n)}):a.buffers&&a.buffers.length>0?zM(c).then(h=>{a.buffers[0].uri=h,n(a)}):n(a)}serializeUserData(e,n){if(Object.keys(e.userData).length===0)return;const i=this.options,s=this.extensionsUsed;try{const r=JSON.parse(JSON.stringify(e.userData));if(i.includeCustomExtensions&&r.gltfExtensions){n.extensions===void 0&&(n.extensions={});for(const a in r.gltfExtensions)n.extensions[a]=r.gltfExtensions[a],s[a]=!0;delete r.gltfExtensions}Object.keys(r).length>0&&(n.extras=r)}catch(r){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+r.message)}}getUID(e,n=!1){if(this.uids.has(e)===!1){const i=new Map;i.set(!0,this.uid++),i.set(!1,this.uid++),this.uids.set(e,i)}return this.uids.get(e).get(n)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const n=new G;for(let i=0,s=e.count;i<s;i++)if(Math.abs(n.fromBufferAttribute(e,i).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const n=this.cache;if(n.attributesNormalized.has(e))return n.attributesNormalized.get(e);const i=e.clone(),s=new G;for(let r=0,a=i.count;r<a;r++)s.fromBufferAttribute(i,r),s.x===0&&s.y===0&&s.z===0?s.setX(1):s.normalize(),i.setXYZ(r,s.x,s.y,s.z);return n.attributesNormalized.set(e,i),i}applyTextureTransform(e,n){let i=!1;const s={};(n.offset.x!==0||n.offset.y!==0)&&(s.offset=n.offset.toArray(),i=!0),n.rotation!==0&&(s.rotation=n.rotation,i=!0),(n.repeat.x!==1||n.repeat.y!==1)&&(s.scale=n.repeat.toArray(),i=!0),i&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=s,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(e,n){if(e===n)return e;function i(h){return("colorSpace"in h?h.colorSpace==="srgb":h.encoding===3001)?function(f){return f<.04045?f*.0773993808:Math.pow(f*.9478672986+.0521327014,2.4)}:function(f){return f}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),e instanceof Xo&&(e=py(e)),n instanceof Xo&&(n=py(n));const s=e?e.image:null,r=n?n.image:null,a=Math.max(s?s.width:0,r?r.width:0),o=Math.max(s?s.height:0,r?r.height:0),l=jM();l.width=a,l.height=o;const c=l.getContext("2d");c.fillStyle="#00ffff",c.fillRect(0,0,a,o);const u=c.getImageData(0,0,a,o);if(s){c.drawImage(s,0,0,a,o);const h=i(e),f=c.getImageData(0,0,a,o).data;for(let m=2;m<f.length;m+=4)u.data[m]=h(f[m]/256)*256}if(r){c.drawImage(r,0,0,a,o);const h=i(n),f=c.getImageData(0,0,a,o).data;for(let m=1;m<f.length;m+=4)u.data[m]=h(f[m]/256)*256}c.putImageData(u,0,0);const d=(e||n).clone();return d.source=new un(l).source,"colorSpace"in d?d.colorSpace="":d.encoding=3e3,d.channel=(e||n).channel,e&&n&&e.channel!==n.channel&&console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match."),d}processBuffer(e){const n=this.json,i=this.buffers;return n.buffers||(n.buffers=[{byteLength:0}]),i.push(e),0}processBufferView(e,n,i,s,r){const a=this.json;a.bufferViews||(a.bufferViews=[]);let o;switch(n){case It.BYTE:case It.UNSIGNED_BYTE:o=1;break;case It.SHORT:case It.UNSIGNED_SHORT:o=2;break;default:o=4}const l=JI(s*e.itemSize*o),c=new DataView(new ArrayBuffer(l));let u=0;for(let h=i;h<i+s;h++)for(let f=0;f<e.itemSize;f++){let m;e.itemSize>4?m=e.array[h*e.itemSize+f]:(f===0?m=e.getX(h):f===1?m=e.getY(h):f===2?m=e.getZ(h):f===3&&(m=e.getW(h)),e.normalized===!0&&(m=$a.normalize(m,e.array))),n===It.FLOAT?c.setFloat32(u,m,!0):n===It.INT?c.setInt32(u,m,!0):n===It.UNSIGNED_INT?c.setUint32(u,m,!0):n===It.SHORT?c.setInt16(u,m,!0):n===It.UNSIGNED_SHORT?c.setUint16(u,m,!0):n===It.BYTE?c.setInt8(u,m):n===It.UNSIGNED_BYTE&&c.setUint8(u,m),u+=o}const d={buffer:this.processBuffer(c.buffer),byteOffset:this.byteOffset,byteLength:l};return r!==void 0&&(d.target=r),r===It.ARRAY_BUFFER&&(d.byteStride=e.itemSize*o),this.byteOffset+=l,a.bufferViews.push(d),{id:a.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const n=this,i=n.json;return i.bufferViews||(i.bufferViews=[]),e.arrayBuffer().then(s=>{const r=gy(s),a={buffer:n.processBuffer(r),byteOffset:n.byteOffset,byteLength:r.byteLength};return n.byteOffset+=r.byteLength,i.bufferViews.push(a)-1})}processAccessor(e,n,i,s){const r=this.json,a={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"};let o;if(e.array.constructor===Float32Array)o=It.FLOAT;else if(e.array.constructor===Int32Array)o=It.INT;else if(e.array.constructor===Uint32Array)o=It.UNSIGNED_INT;else if(e.array.constructor===Int16Array)o=It.SHORT;else if(e.array.constructor===Uint16Array)o=It.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)o=It.BYTE;else if(e.array.constructor===Uint8Array)o=It.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+e.array.constructor.name);if(i===void 0&&(i=0),s===void 0&&(s=e.count),s===0)return null;const l=ZW(e,i,s);let c;n!==void 0&&(c=e===n.index?It.ELEMENT_ARRAY_BUFFER:It.ARRAY_BUFFER);const u=this.processBufferView(e,o,i,s,c),d={bufferView:u.id,byteOffset:u.byteOffset,componentType:o,count:s,max:l.max,min:l.min,type:a[e.itemSize]};return e.normalized===!0&&(d.normalized=!0),r.accessors||(r.accessors=[]),r.accessors.push(d)-1}processImage(e,n,i,s="image/png"){if(e!==null){const r=this,a=r.cache,o=r.json,l=r.options,c=r.pending;a.images.has(e)||a.images.set(e,{});const u=a.images.get(e),d=s+":flipY/"+i.toString();if(u[d]!==void 0)return u[d];o.images||(o.images=[]);const h={mimeType:s},f=jM();f.width=Math.min(e.width,l.maxTextureSize),f.height=Math.min(e.height,l.maxTextureSize);const m=f.getContext("2d");if(i===!0&&(m.translate(0,f.height),m.scale(1,-1)),e.data!==void 0){n!==pi&&console.error("GLTFExporter: Only RGBAFormat is supported.",n),(e.width>l.maxTextureSize||e.height>l.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const p=new Uint8ClampedArray(e.height*e.width*4);for(let g=0;g<p.length;g+=4)p[g+0]=e.data[g+0],p[g+1]=e.data[g+1],p[g+2]=e.data[g+2],p[g+3]=e.data[g+3];m.putImageData(new ImageData(p,e.width,e.height),0,0)}else m.drawImage(e,0,0,f.width,f.height);l.binary===!0?c.push(XM(f,s).then(p=>r.processBufferViewImage(p)).then(p=>{h.bufferView=p})):f.toDataURL!==void 0?h.uri=f.toDataURL(s):c.push(XM(f,s).then(zM).then(p=>{h.uri=p}));const v=o.images.push(h)-1;return u[d]=v,v}else throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(e){const n=this.json;n.samplers||(n.samplers=[]);const i={magFilter:os[e.magFilter],minFilter:os[e.minFilter],wrapS:os[e.wrapS],wrapT:os[e.wrapT]};return n.samplers.push(i)-1}processTexture(e){const n=this.options,i=this.cache,s=this.json;if(i.textures.has(e))return i.textures.get(e);s.textures||(s.textures=[]),e instanceof Xo&&(e=py(e,n.maxTextureSize));let r=e.userData.mimeType;r==="image/webp"&&(r="image/png");const a={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(a.name=e.name),this._invokeAll(function(l){l.writeTexture&&l.writeTexture(e,a)});const o=s.textures.push(a)-1;return i.textures.set(e,o),o}processMaterial(e){const n=this.cache,i=this.json;if(n.materials.has(e))return n.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;i.materials||(i.materials=[]);const s={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const r=e.color.toArray().concat([e.opacity]);if(Bu(r,[1,1,1,1])||(s.pbrMetallicRoughness.baseColorFactor=r),e.isMeshStandardMaterial?(s.pbrMetallicRoughness.metallicFactor=e.metalness,s.pbrMetallicRoughness.roughnessFactor=e.roughness):(s.pbrMetallicRoughness.metallicFactor=.5,s.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){const o=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),l={index:this.processTexture(o),channel:o.channel};this.applyTextureTransform(l,o),s.pbrMetallicRoughness.metallicRoughnessTexture=l}if(e.map){const o={index:this.processTexture(e.map),texCoord:e.map.channel};this.applyTextureTransform(o,e.map),s.pbrMetallicRoughness.baseColorTexture=o}if(e.emissive){const o=e.emissive;if(Math.max(o.r,o.g,o.b)>0&&(s.emissiveFactor=e.emissive.toArray()),e.emissiveMap){const l={index:this.processTexture(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(l,e.emissiveMap),s.emissiveTexture=l}}if(e.normalMap){const o={index:this.processTexture(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(o.scale=e.normalScale.x),this.applyTextureTransform(o,e.normalMap),s.normalTexture=o}if(e.aoMap){const o={index:this.processTexture(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(o.strength=e.aoMapIntensity),this.applyTextureTransform(o,e.aoMap),s.occlusionTexture=o}e.transparent?s.alphaMode="BLEND":e.alphaTest>0&&(s.alphaMode="MASK",s.alphaCutoff=e.alphaTest),e.side===Li&&(s.doubleSided=!0),e.name!==""&&(s.name=e.name),this.serializeUserData(e,s),this._invokeAll(function(o){o.writeMaterial&&o.writeMaterial(e,s)});const a=i.materials.push(s)-1;return n.materials.set(e,a),a}processMesh(e){const n=this.cache,i=this.json,s=[e.geometry.uuid];if(Array.isArray(e.material))for(let x=0,w=e.material.length;x<w;x++)s.push(e.material[x].uuid);else s.push(e.material.uuid);const r=s.join(":");if(n.meshes.has(r))return n.meshes.get(r);const a=e.geometry;let o;e.isLineSegments?o=It.LINES:e.isLineLoop?o=It.LINE_LOOP:e.isLine?o=It.LINE_STRIP:e.isPoints?o=It.POINTS:o=e.material.wireframe?It.LINES:It.TRIANGLES;const l={},c={},u=[],d=[],h={...KI>=152?{uv:"TEXCOORD_0",uv1:"TEXCOORD_1",uv2:"TEXCOORD_2",uv3:"TEXCOORD_3"}:{uv:"TEXCOORD_0",uv2:"TEXCOORD_1"},color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},f=a.getAttribute("normal");f!==void 0&&!this.isNormalizedNormalAttribute(f)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),a.setAttribute("normal",this.createNormalizedNormalAttribute(f)));let m=null;for(let x in a.attributes){if(x.slice(0,5)==="morph")continue;const w=a.attributes[x];if(x=h[x]||x.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(x)||(x="_"+x),n.attributes.has(this.getUID(w))){c[x]=n.attributes.get(this.getUID(w));continue}m=null;const E=w.array;x==="JOINTS_0"&&!(E instanceof Uint16Array)&&!(E instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),m=new At(new Uint16Array(E),w.itemSize,w.normalized));const C=this.processAccessor(m||w,a);C!==null&&(x.startsWith("_")||this.detectMeshQuantization(x,w),c[x]=C,n.attributes.set(this.getUID(w),C))}if(f!==void 0&&a.setAttribute("normal",f),Object.keys(c).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const x=[],w=[],E={};if(e.morphTargetDictionary!==void 0)for(const C in e.morphTargetDictionary)E[e.morphTargetDictionary[C]]=C;for(let C=0;C<e.morphTargetInfluences.length;++C){const A={};let S=!1;for(const _ in a.morphAttributes){if(_!=="position"&&_!=="normal"){S||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),S=!0);continue}const b=a.morphAttributes[_][C],T=_.toUpperCase(),P=a.attributes[_];if(n.attributes.has(this.getUID(b,!0))){A[T]=n.attributes.get(this.getUID(b,!0));continue}const D=b.clone();if(!a.morphTargetsRelative)for(let O=0,H=b.count;O<H;O++)for(let F=0;F<b.itemSize;F++)F===0&&D.setX(O,b.getX(O)-P.getX(O)),F===1&&D.setY(O,b.getY(O)-P.getY(O)),F===2&&D.setZ(O,b.getZ(O)-P.getZ(O)),F===3&&D.setW(O,b.getW(O)-P.getW(O));A[T]=this.processAccessor(D,a),n.attributes.set(this.getUID(P,!0),A[T])}d.push(A),x.push(e.morphTargetInfluences[C]),e.morphTargetDictionary!==void 0&&w.push(E[C])}l.weights=x,w.length>0&&(l.extras={},l.extras.targetNames=w)}const v=Array.isArray(e.material);if(v&&a.groups.length===0)return null;const p=v?e.material:[e.material],g=v?a.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let x=0,w=g.length;x<w;x++){const E={mode:o,attributes:c};if(this.serializeUserData(a,E),d.length>0&&(E.targets=d),a.index!==null){let A=this.getUID(a.index);(g[x].start!==void 0||g[x].count!==void 0)&&(A+=":"+g[x].start+":"+g[x].count),n.attributes.has(A)?E.indices=n.attributes.get(A):(E.indices=this.processAccessor(a.index,a,g[x].start,g[x].count),n.attributes.set(A,E.indices)),E.indices===null&&delete E.indices}const C=this.processMaterial(p[g[x].materialIndex]);C!==null&&(E.material=C),u.push(E)}l.primitives=u,i.meshes||(i.meshes=[]),this._invokeAll(function(x){x.writeMesh&&x.writeMesh(e,l)});const y=i.meshes.push(l)-1;return n.meshes.set(r,y),y}detectMeshQuantization(e,n){if(this.extensionsUsed[vy])return;let i;switch(n.array.constructor){case Int8Array:i="byte";break;case Uint8Array:i="unsigned byte";break;case Int16Array:i="short";break;case Uint16Array:i="unsigned short";break;default:return}n.normalized&&(i+=" normalized");const s=e.split("_",1)[0];HM[s]&&HM[s].includes(i)&&(this.extensionsUsed[vy]=!0,this.extensionsRequired[vy]=!0)}processCamera(e){const n=this.json;n.cameras||(n.cameras=[]);const i=e.isOrthographicCamera,s={type:i?"orthographic":"perspective"};return i?s.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:s.perspective={aspectRatio:e.aspect,yfov:$a.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(s.name=e.type),n.cameras.push(s)-1}processAnimation(e,n){const i=this.json,s=this.nodeMap;i.animations||(i.animations=[]),e=ZI.Utils.mergeMorphTargetTracks(e.clone(),n);const r=e.tracks,a=[],o=[];for(let l=0;l<r.length;++l){const c=r[l],u=Et.parseTrackName(c.name);let d=Et.findNode(n,u.nodeName);const h=GM[u.propertyName];if(u.objectName==="bones"&&(d.isSkinnedMesh===!0?d=d.skeleton.getBoneByName(u.objectIndex):d=void 0),!d||!h)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',c.name),null;const f=1;let m=c.values.length/c.times.length;h===GM.morphTargetInfluences&&(m/=d.morphTargetInfluences.length);let v;c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(v="CUBICSPLINE",m/=3):c.getInterpolation()===ol?v="STEP":v="LINEAR",o.push({input:this.processAccessor(new At(c.times,f)),output:this.processAccessor(new At(c.values,m)),interpolation:v}),a.push({sampler:o.length-1,target:{node:s.get(d),path:h}})}return i.animations.push({name:e.name||"clip_"+i.animations.length,samplers:o,channels:a}),i.animations.length-1}processSkin(e){const n=this.json,i=this.nodeMap,s=n.nodes[i.get(e)],r=e.skeleton;if(r===void 0)return null;const a=e.skeleton.bones[0];if(a===void 0)return null;const o=[],l=new Float32Array(r.bones.length*16),c=new lt;for(let u=0;u<r.bones.length;++u)o.push(i.get(r.bones[u])),c.copy(r.boneInverses[u]),c.multiply(e.bindMatrix).toArray(l,u*16);return n.skins===void 0&&(n.skins=[]),n.skins.push({inverseBindMatrices:this.processAccessor(new At(l,16)),joints:o,skeleton:i.get(a)}),s.skin=n.skins.length-1}processNode(e){const n=this.json,i=this.options,s=this.nodeMap;n.nodes||(n.nodes=[]);const r={};if(i.trs){const o=e.quaternion.toArray(),l=e.position.toArray(),c=e.scale.toArray();Bu(o,[0,0,0,1])||(r.rotation=o),Bu(l,[0,0,0])||(r.translation=l),Bu(c,[1,1,1])||(r.scale=c)}else e.matrixAutoUpdate&&e.updateMatrix(),KW(e.matrix)===!1&&(r.matrix=e.matrix.elements);if(e.name!==""&&(r.name=String(e.name)),this.serializeUserData(e,r),e.isMesh||e.isLine||e.isPoints){const o=this.processMesh(e);o!==null&&(r.mesh=o)}else e.isCamera&&(r.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const o=[];for(let l=0,c=e.children.length;l<c;l++){const u=e.children[l];if(u.visible||i.onlyVisible===!1){const d=this.processNode(u);d!==null&&o.push(d)}}o.length>0&&(r.children=o)}this._invokeAll(function(o){o.writeNode&&o.writeNode(e,r)});const a=n.nodes.push(r)-1;return s.set(e,a),a}processScene(e){const n=this.json,i=this.options;n.scenes||(n.scenes=[],n.scene=0);const s={};e.name!==""&&(s.name=e.name),n.scenes.push(s);const r=[];for(let a=0,o=e.children.length;a<o;a++){const l=e.children[a];if(l.visible||i.onlyVisible===!1){const c=this.processNode(l);c!==null&&r.push(c)}}r.length>0&&(s.nodes=r),this.serializeUserData(e,s)}processObjects(e){const n=new Vc;n.name="AuxScene";for(let i=0;i<e.length;i++)n.children.push(e[i]);this.processScene(n)}processInput(e){const n=this.options;e=e instanceof Array?e:[e],this._invokeAll(function(s){s.beforeParse&&s.beforeParse(e)});const i=[];for(let s=0;s<e.length;s++)e[s]instanceof Vc?this.processScene(e[s]):i.push(e[s]);i.length>0&&this.processObjects(i);for(let s=0;s<this.skins.length;++s)this.processSkin(this.skins[s]);for(let s=0;s<n.animations.length;++s)this.processAnimation(n.animations[s],e[0]);this._invokeAll(function(s){s.afterParse&&s.afterParse(e)})}_invokeAll(e){for(let n=0,i=this.plugins.length;n<i;n++)e(this.plugins[n])}}class QW{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,n){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const i=this.writer,s=i.json,r=i.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),r[this.name]||(s.extensions=s.extensions||{},s.extensions[this.name]={lights:[]},r[this.name]=!0);const o=s.extensions[this.name].lights;o.push(a),n.extensions=n.extensions||{},n.extensions[this.name]={light:o.length-1}}}let e$=class{constructor(t){this.writer=t,this.name="KHR_materials_unlit"}writeMaterial(t,e){if(!t.isMeshBasicMaterial)return;const n=this.writer.extensionsUsed;e.extensions=e.extensions||{},e.extensions[this.name]={},n[this.name]=!0,e.pbrMetallicRoughness.metallicFactor=0,e.pbrMetallicRoughness.roughnessFactor=.9}},t$=class{constructor(t){this.writer=t,this.name="KHR_materials_clearcoat"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.clearcoat===0)return;const n=this.writer,i=n.extensionsUsed,s={};if(s.clearcoatFactor=t.clearcoat,t.clearcoatMap){const r={index:n.processTexture(t.clearcoatMap),texCoord:t.clearcoatMap.channel};n.applyTextureTransform(r,t.clearcoatMap),s.clearcoatTexture=r}if(s.clearcoatRoughnessFactor=t.clearcoatRoughness,t.clearcoatRoughnessMap){const r={index:n.processTexture(t.clearcoatRoughnessMap),texCoord:t.clearcoatRoughnessMap.channel};n.applyTextureTransform(r,t.clearcoatRoughnessMap),s.clearcoatRoughnessTexture=r}if(t.clearcoatNormalMap){const r={index:n.processTexture(t.clearcoatNormalMap),texCoord:t.clearcoatNormalMap.channel};n.applyTextureTransform(r,t.clearcoatNormalMap),s.clearcoatNormalTexture=r}e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},n$=class{constructor(t){this.writer=t,this.name="KHR_materials_iridescence"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.iridescence===0)return;const n=this.writer,i=n.extensionsUsed,s={};if(s.iridescenceFactor=t.iridescence,t.iridescenceMap){const r={index:n.processTexture(t.iridescenceMap),texCoord:t.iridescenceMap.channel};n.applyTextureTransform(r,t.iridescenceMap),s.iridescenceTexture=r}if(s.iridescenceIor=t.iridescenceIOR,s.iridescenceThicknessMinimum=t.iridescenceThicknessRange[0],s.iridescenceThicknessMaximum=t.iridescenceThicknessRange[1],t.iridescenceThicknessMap){const r={index:n.processTexture(t.iridescenceThicknessMap),texCoord:t.iridescenceThicknessMap.channel};n.applyTextureTransform(r,t.iridescenceThicknessMap),s.iridescenceThicknessTexture=r}e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},i$=class{constructor(t){this.writer=t,this.name="KHR_materials_transmission"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const n=this.writer,i=n.extensionsUsed,s={};if(s.transmissionFactor=t.transmission,t.transmissionMap){const r={index:n.processTexture(t.transmissionMap),texCoord:t.transmissionMap.channel};n.applyTextureTransform(r,t.transmissionMap),s.transmissionTexture=r}e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},s$=class{constructor(t){this.writer=t,this.name="KHR_materials_volume"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const n=this.writer,i=n.extensionsUsed,s={};if(s.thicknessFactor=t.thickness,t.thicknessMap){const r={index:n.processTexture(t.thicknessMap),texCoord:t.thicknessMap.channel};n.applyTextureTransform(r,t.thicknessMap),s.thicknessTexture=r}s.attenuationDistance=t.attenuationDistance,s.attenuationColor=t.attenuationColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},r$=class{constructor(t){this.writer=t,this.name="KHR_materials_ior"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.ior===1.5)return;const n=this.writer.extensionsUsed,i={};i.ior=t.ior,e.extensions=e.extensions||{},e.extensions[this.name]=i,n[this.name]=!0}},a$=class{constructor(t){this.writer=t,this.name="KHR_materials_specular"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.specularIntensity===1&&t.specularColor.equals(WW)&&!t.specularIntensityMap&&!t.specularColorTexture)return;const n=this.writer,i=n.extensionsUsed,s={};if(t.specularIntensityMap){const r={index:n.processTexture(t.specularIntensityMap),texCoord:t.specularIntensityMap.channel};n.applyTextureTransform(r,t.specularIntensityMap),s.specularTexture=r}if(t.specularColorMap){const r={index:n.processTexture(t.specularColorMap),texCoord:t.specularColorMap.channel};n.applyTextureTransform(r,t.specularColorMap),s.specularColorTexture=r}s.specularFactor=t.specularIntensity,s.specularColorFactor=t.specularColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},o$=class{constructor(t){this.writer=t,this.name="KHR_materials_sheen"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.sheen==0)return;const n=this.writer,i=n.extensionsUsed,s={};if(t.sheenRoughnessMap){const r={index:n.processTexture(t.sheenRoughnessMap),texCoord:t.sheenRoughnessMap.channel};n.applyTextureTransform(r,t.sheenRoughnessMap),s.sheenRoughnessTexture=r}if(t.sheenColorMap){const r={index:n.processTexture(t.sheenColorMap),texCoord:t.sheenColorMap.channel};n.applyTextureTransform(r,t.sheenColorMap),s.sheenColorTexture=r}s.sheenRoughnessFactor=t.sheenRoughness,s.sheenColorFactor=t.sheenColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},l$=class{constructor(t){this.writer=t,this.name="KHR_materials_anisotropy"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.anisotropy==0)return;const n=this.writer,i=n.extensionsUsed,s={};if(t.anisotropyMap){const r={index:n.processTexture(t.anisotropyMap)};n.applyTextureTransform(r,t.anisotropyMap),s.anisotropyTexture=r}s.anisotropyStrength=t.anisotropy,s.anisotropyRotation=t.anisotropyRotation,e.extensions=e.extensions||{},e.extensions[this.name]=s,i[this.name]=!0}},c$=class{constructor(t){this.writer=t,this.name="KHR_materials_emissive_strength"}writeMaterial(t,e){if(!t.isMeshStandardMaterial||t.emissiveIntensity===1)return;const n=this.writer.extensionsUsed,i={};i.emissiveStrength=t.emissiveIntensity,e.extensions=e.extensions||{},e.extensions[this.name]=i,n[this.name]=!0}};var vh=Uint8Array,QI=Uint16Array,u$=Uint32Array,d$=new vh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h$=new vh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eR=function(t,e){for(var n=new QI(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var s=new u$(n[30]),i=1;i<30;++i)for(var r=n[i];r<n[i+1];++r)s[r]=r-n[i]<<5|i;return[n,s]},tR=eR(d$,2),f$=tR[0],m$=tR[1];f$[28]=258,m$[258]=28;eR(h$,0);var p$=new QI(32768);for(var mn=0;mn<32768;++mn){var Aa=(mn&43690)>>>1|(mn&21845)<<1;Aa=(Aa&52428)>>>2|(Aa&13107)<<2,Aa=(Aa&61680)>>>4|(Aa&3855)<<4,p$[mn]=((Aa&65280)>>>8|(Aa&255)<<8)>>>1}var _v=new vh(288);for(var mn=0;mn<144;++mn)_v[mn]=8;for(var mn=144;mn<256;++mn)_v[mn]=9;for(var mn=256;mn<280;++mn)_v[mn]=7;for(var mn=280;mn<288;++mn)_v[mn]=8;var v$=new vh(32);for(var mn=0;mn<32;++mn)v$[mn]=5;var g$=new vh(0),y$=typeof TextDecoder<"u"&&new TextDecoder,b$=0;try{y$.decode(g$,{stream:!0}),b$=1}catch{}new Di;new G;new Bi(0,0,0,"YXZ");new G;var _$=Object.defineProperty,x$=(t,e,n)=>e in t?_$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mt=(t,e,n)=>(x$(t,typeof e!="symbol"?e+"":e,n),n);const Bf=new Ml,YM=new ir,w$=Math.cos(70*(Math.PI/180)),qM=(t,e)=>(t%e+e)%e;class S$ extends $s{constructor(e,n){super(),mt(this,"object"),mt(this,"domElement"),mt(this,"enabled",!0),mt(this,"target",new G),mt(this,"minDistance",0),mt(this,"maxDistance",1/0),mt(this,"minZoom",0),mt(this,"maxZoom",1/0),mt(this,"minPolarAngle",0),mt(this,"maxPolarAngle",Math.PI),mt(this,"minAzimuthAngle",-1/0),mt(this,"maxAzimuthAngle",1/0),mt(this,"enableDamping",!1),mt(this,"dampingFactor",.05),mt(this,"enableZoom",!0),mt(this,"zoomSpeed",1),mt(this,"enableRotate",!0),mt(this,"rotateSpeed",1),mt(this,"enablePan",!0),mt(this,"panSpeed",1),mt(this,"screenSpacePanning",!0),mt(this,"keyPanSpeed",7),mt(this,"zoomToCursor",!1),mt(this,"autoRotate",!1),mt(this,"autoRotateSpeed",2),mt(this,"reverseOrbit",!1),mt(this,"reverseHorizontalOrbit",!1),mt(this,"reverseVerticalOrbit",!1),mt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),mt(this,"mouseButtons",{LEFT:Po.ROTATE,MIDDLE:Po.DOLLY,RIGHT:Po.PAN}),mt(this,"touches",{ONE:Br.ROTATE,TWO:Br.DOLLY_PAN}),mt(this,"target0"),mt(this,"position0"),mt(this,"zoom0"),mt(this,"_domElementKeyEvents",null),mt(this,"getPolarAngle"),mt(this,"getAzimuthalAngle"),mt(this,"setPolarAngle"),mt(this,"setAzimuthalAngle"),mt(this,"getDistance"),mt(this,"listenToKeyEvents"),mt(this,"stopListenToKeyEvents"),mt(this,"saveState"),mt(this,"reset"),mt(this,"update"),mt(this,"connect"),mt(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=ne=>{let Me=qM(ne,2*Math.PI),je=u.phi;je<0&&(je+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let te=Math.abs(Me-je);2*Math.PI-te<te&&(Me<je?Me+=2*Math.PI:je+=2*Math.PI),d.phi=Me-je,i.update()},this.setAzimuthalAngle=ne=>{let Me=qM(ne,2*Math.PI),je=u.theta;je<0&&(je+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let te=Math.abs(Me-je);2*Math.PI-te<te&&(Me<je?Me+=2*Math.PI:je+=2*Math.PI),d.theta=Me-je,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ne=>{ne.addEventListener("keydown",Oe),this._domElementKeyEvents=ne},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Oe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(s),i.update(),l=o.NONE},this.update=(()=>{const ne=new G,Me=new G(0,1,0),je=new Qn().setFromUnitVectors(e.up,Me),te=je.clone().invert(),Fe=new G,we=new Qn,Ie=2*Math.PI;return function(){const Xe=i.object.position;je.setFromUnitVectors(e.up,Me),te.copy(je).invert(),ne.copy(Xe).sub(i.target),ne.applyQuaternion(je),u.setFromVector3(ne),i.autoRotate&&l===o.NONE&&O(P()),i.enableDamping?(u.theta+=d.theta*i.dampingFactor,u.phi+=d.phi*i.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let He=i.minAzimuthAngle,dt=i.maxAzimuthAngle;isFinite(He)&&isFinite(dt)&&(He<-Math.PI?He+=Ie:He>Math.PI&&(He-=Ie),dt<-Math.PI?dt+=Ie:dt>Math.PI&&(dt-=Ie),He<=dt?u.theta=Math.max(He,Math.min(dt,u.theta)):u.theta=u.theta>(He+dt)/2?Math.max(He,u.theta):Math.min(dt,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(f,i.dampingFactor):i.target.add(f),i.zoomToCursor&&_||i.object.isOrthographicCamera?u.radius=de(u.radius):u.radius=de(u.radius*h),ne.setFromSpherical(u),ne.applyQuaternion(te),Xe.copy(i.target).add(ne),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,f.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),f.set(0,0,0));let en=!1;if(i.zoomToCursor&&_){let Tn=null;if(i.object instanceof Qt&&i.object.isPerspectiveCamera){const Lt=ne.length();Tn=de(Lt*h);const ui=Lt-Tn;i.object.position.addScaledVector(A,ui),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Lt=new G(S.x,S.y,0);Lt.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/h)),i.object.updateProjectionMatrix(),en=!0;const ui=new G(S.x,S.y,0);ui.unproject(i.object),i.object.position.sub(ui).add(Lt),i.object.updateMatrixWorld(),Tn=ne.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Tn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Tn).add(i.object.position):(Bf.origin.copy(i.object.position),Bf.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Bf.direction))<w$?e.lookAt(i.target):(YM.setFromNormalAndCoplanarPoint(i.object.up,i.target),Bf.intersectPlane(YM,i.target))))}else i.object instanceof ws&&i.object.isOrthographicCamera&&(en=h!==1,en&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/h)),i.object.updateProjectionMatrix()));return h=1,_=!1,en||Fe.distanceToSquared(i.object.position)>c||8*(1-we.dot(i.object.quaternion))>c?(i.dispatchEvent(s),Fe.copy(i.object.position),we.copy(i.object.quaternion),en=!1,!0):!1}})(),this.connect=ne=>{ne===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=ne,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Re),i.domElement.addEventListener("pointerdown",V),i.domElement.addEventListener("pointercancel",re),i.domElement.addEventListener("wheel",ke,{passive:!0})},this.dispose=()=>{var ne,Me,je,te,Fe,we;i.domElement&&(i.domElement.style.touchAction="auto"),(ne=i.domElement)==null||ne.removeEventListener("contextmenu",Re),(Me=i.domElement)==null||Me.removeEventListener("pointerdown",V),(je=i.domElement)==null||je.removeEventListener("pointercancel",re),(te=i.domElement)==null||te.removeEventListener("wheel",ke),(Fe=i.domElement)==null||Fe.ownerDocument.removeEventListener("pointermove",k),(we=i.domElement)==null||we.ownerDocument.removeEventListener("pointerup",Q),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Oe)};const i=this,s={type:"change"},r={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new _0,d=new _0;let h=1;const f=new G,m=new Te,v=new Te,p=new Te,g=new Te,y=new Te,x=new Te,w=new Te,E=new Te,C=new Te,A=new G,S=new Te;let _=!1;const b=[],T={};function P(){return 2*Math.PI/60/60*i.autoRotateSpeed}function D(){return Math.pow(.95,i.zoomSpeed)}function O(ne){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=ne:d.theta-=ne}function H(ne){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=ne:d.phi-=ne}const F=(()=>{const ne=new G;return function(Me,je){ne.setFromMatrixColumn(je,0),ne.multiplyScalar(-Me),f.add(ne)}})(),K=(()=>{const ne=new G;return function(Me,je){i.screenSpacePanning===!0?ne.setFromMatrixColumn(je,1):(ne.setFromMatrixColumn(je,0),ne.crossVectors(i.object.up,ne)),ne.multiplyScalar(Me),f.add(ne)}})(),j=(()=>{const ne=new G;return function(Me,je){const te=i.domElement;if(te&&i.object instanceof Qt&&i.object.isPerspectiveCamera){const Fe=i.object.position;ne.copy(Fe).sub(i.target);let we=ne.length();we*=Math.tan(i.object.fov/2*Math.PI/180),F(2*Me*we/te.clientHeight,i.object.matrix),K(2*je*we/te.clientHeight,i.object.matrix)}else te&&i.object instanceof ws&&i.object.isOrthographicCamera?(F(Me*(i.object.right-i.object.left)/i.object.zoom/te.clientWidth,i.object.matrix),K(je*(i.object.top-i.object.bottom)/i.object.zoom/te.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function X(ne){i.object instanceof Qt&&i.object.isPerspectiveCamera||i.object instanceof ws&&i.object.isOrthographicCamera?h/=ne:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Y(ne){i.object instanceof Qt&&i.object.isPerspectiveCamera||i.object instanceof ws&&i.object.isOrthographicCamera?h*=ne:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function J(ne){if(!i.zoomToCursor||!i.domElement)return;_=!0;const Me=i.domElement.getBoundingClientRect(),je=ne.clientX-Me.left,te=ne.clientY-Me.top,Fe=Me.width,we=Me.height;S.x=je/Fe*2-1,S.y=-(te/we)*2+1,A.set(S.x,S.y,1).unproject(i.object).sub(i.object.position).normalize()}function de(ne){return Math.max(i.minDistance,Math.min(i.maxDistance,ne))}function Le(ne){m.set(ne.clientX,ne.clientY)}function ie(ne){J(ne),w.set(ne.clientX,ne.clientY)}function ye(ne){g.set(ne.clientX,ne.clientY)}function se(ne){v.set(ne.clientX,ne.clientY),p.subVectors(v,m).multiplyScalar(i.rotateSpeed);const Me=i.domElement;Me&&(O(2*Math.PI*p.x/Me.clientHeight),H(2*Math.PI*p.y/Me.clientHeight)),m.copy(v),i.update()}function me(ne){E.set(ne.clientX,ne.clientY),C.subVectors(E,w),C.y>0?X(D()):C.y<0&&Y(D()),w.copy(E),i.update()}function ae(ne){y.set(ne.clientX,ne.clientY),x.subVectors(y,g).multiplyScalar(i.panSpeed),j(x.x,x.y),g.copy(y),i.update()}function N(ne){J(ne),ne.deltaY<0?Y(D()):ne.deltaY>0&&X(D()),i.update()}function B(ne){let Me=!1;switch(ne.code){case i.keys.UP:j(0,i.keyPanSpeed),Me=!0;break;case i.keys.BOTTOM:j(0,-i.keyPanSpeed),Me=!0;break;case i.keys.LEFT:j(i.keyPanSpeed,0),Me=!0;break;case i.keys.RIGHT:j(-i.keyPanSpeed,0),Me=!0;break}Me&&(ne.preventDefault(),i.update())}function U(){if(b.length==1)m.set(b[0].pageX,b[0].pageY);else{const ne=.5*(b[0].pageX+b[1].pageX),Me=.5*(b[0].pageY+b[1].pageY);m.set(ne,Me)}}function q(){if(b.length==1)g.set(b[0].pageX,b[0].pageY);else{const ne=.5*(b[0].pageX+b[1].pageX),Me=.5*(b[0].pageY+b[1].pageY);g.set(ne,Me)}}function R(){const ne=b[0].pageX-b[1].pageX,Me=b[0].pageY-b[1].pageY,je=Math.sqrt(ne*ne+Me*Me);w.set(0,je)}function I(){i.enableZoom&&R(),i.enablePan&&q()}function W(){i.enableZoom&&R(),i.enableRotate&&U()}function $(ne){if(b.length==1)v.set(ne.pageX,ne.pageY);else{const je=Ye(ne),te=.5*(ne.pageX+je.x),Fe=.5*(ne.pageY+je.y);v.set(te,Fe)}p.subVectors(v,m).multiplyScalar(i.rotateSpeed);const Me=i.domElement;Me&&(O(2*Math.PI*p.x/Me.clientHeight),H(2*Math.PI*p.y/Me.clientHeight)),m.copy(v)}function Z(ne){if(b.length==1)y.set(ne.pageX,ne.pageY);else{const Me=Ye(ne),je=.5*(ne.pageX+Me.x),te=.5*(ne.pageY+Me.y);y.set(je,te)}x.subVectors(y,g).multiplyScalar(i.panSpeed),j(x.x,x.y),g.copy(y)}function ee(ne){const Me=Ye(ne),je=ne.pageX-Me.x,te=ne.pageY-Me.y,Fe=Math.sqrt(je*je+te*te);E.set(0,Fe),C.set(0,Math.pow(E.y/w.y,i.zoomSpeed)),X(C.y),w.copy(E)}function ve(ne){i.enableZoom&&ee(ne),i.enablePan&&Z(ne)}function le(ne){i.enableZoom&&ee(ne),i.enableRotate&&$(ne)}function V(ne){var Me,je;i.enabled!==!1&&(b.length===0&&((Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointermove",k),(je=i.domElement)==null||je.ownerDocument.addEventListener("pointerup",Q)),$e(ne),ne.pointerType==="touch"?Ne(ne):pe(ne))}function k(ne){i.enabled!==!1&&(ne.pointerType==="touch"?ut(ne):fe(ne))}function Q(ne){var Me,je,te;Ze(ne),b.length===0&&((Me=i.domElement)==null||Me.releasePointerCapture(ne.pointerId),(je=i.domElement)==null||je.ownerDocument.removeEventListener("pointermove",k),(te=i.domElement)==null||te.ownerDocument.removeEventListener("pointerup",Q)),i.dispatchEvent(a),l=o.NONE}function re(ne){Ze(ne)}function pe(ne){let Me;switch(ne.button){case 0:Me=i.mouseButtons.LEFT;break;case 1:Me=i.mouseButtons.MIDDLE;break;case 2:Me=i.mouseButtons.RIGHT;break;default:Me=-1}switch(Me){case Po.DOLLY:if(i.enableZoom===!1)return;ie(ne),l=o.DOLLY;break;case Po.ROTATE:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(i.enablePan===!1)return;ye(ne),l=o.PAN}else{if(i.enableRotate===!1)return;Le(ne),l=o.ROTATE}break;case Po.PAN:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(i.enableRotate===!1)return;Le(ne),l=o.ROTATE}else{if(i.enablePan===!1)return;ye(ne),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(r)}function fe(ne){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;se(ne);break;case o.DOLLY:if(i.enableZoom===!1)return;me(ne);break;case o.PAN:if(i.enablePan===!1)return;ae(ne);break}}function ke(ne){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(i.dispatchEvent(r),N(ne),i.dispatchEvent(a))}function Oe(ne){i.enabled===!1||i.enablePan===!1||B(ne)}function Ne(ne){switch(ct(ne),b.length){case 1:switch(i.touches.ONE){case Br.ROTATE:if(i.enableRotate===!1)return;U(),l=o.TOUCH_ROTATE;break;case Br.PAN:if(i.enablePan===!1)return;q(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case Br.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;I(),l=o.TOUCH_DOLLY_PAN;break;case Br.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;W(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(r)}function ut(ne){switch(ct(ne),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;$(ne),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;Z(ne),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ve(ne),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;le(ne),i.update();break;default:l=o.NONE}}function Re(ne){i.enabled!==!1&&ne.preventDefault()}function $e(ne){b.push(ne)}function Ze(ne){delete T[ne.pointerId];for(let Me=0;Me<b.length;Me++)if(b[Me].pointerId==ne.pointerId){b.splice(Me,1);return}}function ct(ne){let Me=T[ne.pointerId];Me===void 0&&(Me=new Te,T[ne.pointerId]=Me),Me.set(ne.pageX,ne.pageY)}function Ye(ne){const Me=ne.pointerId===b[0].pointerId?b[1]:b[0];return T[Me.pointerId]}n!==void 0&&this.connect(n),this.update()}}class M$ extends _i{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new P$(n)}),this.register(function(n){return new V$(n)}),this.register(function(n){return new F$(n)}),this.register(function(n){return new B$(n)}),this.register(function(n){return new R$(n)}),this.register(function(n){return new L$(n)}),this.register(function(n){return new k$(n)}),this.register(function(n){return new D$(n)}),this.register(function(n){return new A$(n)}),this.register(function(n){return new O$(n)}),this.register(function(n){return new I$(n)}),this.register(function(n){return new N$(n)}),this.register(function(n){return new T$(n)}),this.register(function(n){return new U$(n)}),this.register(function(n){return new z$(n)})}load(e,n,i,s){const r=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=hr.extractUrlBase(e),this.manager.itemStart(e);const o=function(c){s?s(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},l=new us(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{r.parse(c,a,function(u){n(u),r.manager.itemEnd(e)},o)}catch(u){o(u)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,s){let r;const a={},o={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(hr.decodeText(new Uint8Array(e.slice(0,4)))===nR){try{a[Dt.KHR_BINARY_GLTF]=new H$(e)}catch(c){s&&s(c);return}r=JSON.parse(a[Dt.KHR_BINARY_GLTF].content)}else r=JSON.parse(hr.decodeText(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new t9(r,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);o[u.name]=u,a[u.name]=!0}if(r.extensionsUsed)for(let c=0;c<r.extensionsUsed.length;++c){const u=r.extensionsUsed[c],d=r.extensionsRequired||[];switch(u){case Dt.KHR_MATERIALS_UNLIT:a[u]=new E$;break;case Dt.KHR_DRACO_MESH_COMPRESSION:a[u]=new G$(r,this.dracoLoader);break;case Dt.KHR_TEXTURE_TRANSFORM:a[u]=new W$;break;case Dt.KHR_MESH_QUANTIZATION:a[u]=new $$;break;default:d.indexOf(u)>=0&&o[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(i,s)}parseAsync(e,n){const i=this;return new Promise(function(s,r){i.parse(e,n,s,r)})}}function C$(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Dt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class T${constructor(e){this.parser=e,this.name=Dt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,s=n.length;i<s;i++){const r=n[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let s=n.cache.get(i);if(s)return s;const r=n.json,a=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let o;const l=new Be(16777215);a.color!==void 0&&l.fromArray(a.color);const c=a.range!==void 0?a.range:0;switch(a.type){case"directional":o=new z_(l),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new U_(l),o.distance=c;break;case"spot":o=new B_(l),o.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle!==void 0?a.spot.innerConeAngle:0,a.spot.outerConeAngle=a.spot.outerConeAngle!==void 0?a.spot.outerConeAngle:Math.PI/4,o.angle=a.spot.outerConeAngle,o.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return o.position.set(0,0,0),o.decay=2,Oa(o,a),a.intensity!==void 0&&(o.intensity=a.intensity),o.name=n.createUniqueName(a.name||"light_"+e),s=Promise.resolve(o),n.cache.add(i,s),s}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],r=(s.extensions&&s.extensions[this.name]||{}).light;return r===void 0?null:this._loadLight(r).then(function(a){return i._getNodeRef(n.cache,r,a)})}}class E${constructor(){this.name=Dt.KHR_MATERIALS_UNLIT}getMaterialType(){return Oi}extendParams(e,n,i){const s=[];e.color=new Be(1,1,1),e.opacity=1;const r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",r.baseColorTexture,3001))}return Promise.all(s)}}class A${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class P${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:_r}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&r.push(i.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Te(o,o)}return Promise.all(r)}}class I${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:_r}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&r.push(i.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(r)}}class R${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:_r}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];n.sheenColor=new Be(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=s.extensions[this.name];return a.sheenColorFactor!==void 0&&n.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&r.push(i.assignTexture(n,"sheenColorMap",a.sheenColorTexture,3001)),a.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class L${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:_r}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&r.push(i.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class k${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:_r}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&r.push(i.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return n.attenuationColor=new Be(o[0],o[1],o[2]),Promise.all(r)}}class D${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:_r}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class O${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:_r}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&r.push(i.assignTexture(n,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return n.specularColor=new Be(o[0],o[1],o[2]),a.specularColorTexture!==void 0&&r.push(i.assignTexture(n,"specularColorMap",a.specularColorTexture,3001)),Promise.all(r)}}class N${constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:_r}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&r.push(i.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(r)}}class V${constructor(e){this.parser=e,this.name=Dt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,r.source,a)}}class F${constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[n])return null;const a=r.extensions[n],o=s.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class B${constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[n])return null;const a=r.extensions[n],o=s.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class U${constructor(e){this.name=Dt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(o){const l=s.byteOffset||0,c=s.byteLength||0,u=s.count,d=s.byteStride,h=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,d,h,s.mode,s.filter).then(function(f){return f.buffer}):a.ready.then(function(){const f=new ArrayBuffer(u*d);return a.decodeGltfBuffer(new Uint8Array(f),u,d,h,s.mode,s.filter),f})})}else return null}}class z${constructor(e){this.name=Dt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=n.meshes[i.mesh];for(const l of s.primitives)if(l.mode!==_s.TRIANGLES&&l.mode!==_s.TRIANGLE_STRIP&&l.mode!==_s.TRIANGLE_FAN&&l.mode!==void 0)return null;const r=i.extensions[this.name].attributes,a=[],o={};for(const l in r)a.push(this.parser.getDependency("accessor",r[l]).then(c=>(o[l]=c,o[l])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(l=>{const c=l.pop(),u=c.isGroup?c.children:[c],d=l[0].count,h=[];for(const f of u){const m=new lt,v=new G,p=new Qn,g=new G(1,1,1),y=new C_(f.geometry,f.material,d);for(let x=0;x<d;x++)o.TRANSLATION&&v.fromBufferAttribute(o.TRANSLATION,x),o.ROTATION&&p.fromBufferAttribute(o.ROTATION,x),o.SCALE&&g.fromBufferAttribute(o.SCALE,x),y.setMatrixAt(x,m.compose(v,p,g));for(const x in o)x!=="TRANSLATION"&&x!=="ROTATION"&&x!=="SCALE"&&f.geometry.setAttribute(x,o[x]);Nt.prototype.copy.call(y,f),this.parser.assignFinalMaterial(y),h.push(y)}return c.isGroup?(c.clear(),c.add(...h),c):h[0]}))}}const nR="glTF",ku=12,KM={JSON:1313821514,BIN:5130562};class H${constructor(e){this.name=Dt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,ku);if(this.header={magic:hr.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==nR)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-ku,s=new DataView(e,ku);let r=0;for(;r<i;){const a=s.getUint32(r,!0);r+=4;const o=s.getUint32(r,!0);if(r+=4,o===KM.JSON){const l=new Uint8Array(e,ku+r,a);this.content=hr.decodeText(l)}else if(o===KM.BIN){const l=ku+r;this.body=e.slice(l,l+a)}r+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class G${constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Dt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const u in a){const d=I0[u]||u.toLowerCase();o[d]=a[u]}for(const u in e.attributes){const d=I0[u]||u.toLowerCase();if(a[u]!==void 0){const h=i.accessors[e.attributes[u]],f=Ic[h.componentType];c[d]=f.name,l[d]=h.normalized===!0}}return n.getDependency("bufferView",r).then(function(u){return new Promise(function(d){s.decodeDracoFile(u,function(h){for(const f in h.attributes){const m=h.attributes[f],v=l[f];v!==void 0&&(m.normalized=v)}d(h)},o,c)})})}}class W${constructor(){this.name=Dt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class $${constructor(){this.name=Dt.KHR_MESH_QUANTIZATION}}class iR extends eu{constructor(e,n,i,s){super(e,n,i,s)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let a=0;a!==s;a++)n[a]=i[r+a];return n}interpolate_(e,n,i,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=s-n,d=(i-n)/u,h=d*d,f=h*d,m=e*c,v=m-c,p=-2*f+3*h,g=f-h,y=1-p,x=g-h+d;for(let w=0;w!==o;w++){const E=a[v+w+o],C=a[v+w+l]*u,A=a[m+w+o],S=a[m+w]*u;r[w]=y*E+x*C+p*A+g*S}return r}}const j$=new Qn;class X$ extends iR{interpolate_(e,n,i,s){const r=super.interpolate_(e,n,i,s);return j$.fromArray(r).normalize().toArray(r),r}}const _s={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ic={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ZM={9728:Wn,9729:In,9984:Zd,9985:Wo,9986:Fa,9987:as},JM={33071:qi,33648:sl,10497:ta},yy={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},I0={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...KI>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Pa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Y$={CUBICSPLINE:void 0,LINEAR:ll,STEP:ol},by={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function q$(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new lh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:fr})),t.DefaultMaterial}function So(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function Oa(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function K$(t,e,n){let i=!1,s=!1,r=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(s=!0),d.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(t);const a=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const h=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;a.push(h)}if(s){const h=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;o.push(h)}if(r){const h=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],h=c[2];return i&&(t.morphAttributes.position=u),s&&(t.morphAttributes.normal=d),r&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function Z$(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,s=n.length;i<s;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function J$(t){let e;const n=t.extensions&&t.extensions[Dt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+_y(n.attributes):e=t.indices+":"+_y(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,s=t.targets.length;i<s;i++)e+=":"+_y(t.targets[i]);return e}function _y(t){let e="";const n=Object.keys(t).sort();for(let i=0,s=n.length;i<s;i++)e+=n[i]+":"+t[n[i]]+";";return e}function R0(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Q$(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const e9=new lt;class t9{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new C$,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,r=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&r<98?this.textureLoader=new MP(this.options.manager):this.textureLoader=new LP(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new us(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][s.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:s.asset,parser:i,userData:{}};So(r,o,s),Oa(o,s),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){e(o)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=n.length;s<r;s++){const a=n[s].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const a=e[s];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const s=i.clone(),r=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,u]of a.children.entries())r(u,o.children[c])};return r(i,s),s.name+="_instance_"+e.uses[n]++,s}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const s=e(n[i]);if(s)return s}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let s=0;s<n.length;s++){const r=e(n[s]);r&&i.push(r)}return i}getDependency(e,n){const i=e+":"+n;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(n);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(n)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":s=this.loadAccessor(n);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":s=this.loadBuffer(n);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":s=this.loadSkin(n);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":s=this.loadCamera(n);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,n)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(s.map(function(r,a){return i.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Dt.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,a){i.load(hr.resolveURL(n.uri,s.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const s=n.byteLength||0,r=n.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(e){const n=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const a=yy[s.type],o=Ic[s.componentType],l=s.normalized===!0,c=new o(s.count*a);return Promise.resolve(new At(c,a,l))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(a){const o=a[0],l=yy[s.type],c=Ic[s.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,h=s.byteOffset||0,f=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,m=s.normalized===!0;let v,p;if(f&&f!==d){const g=Math.floor(h/f),y="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+g+":"+s.count;let x=n.cache.get(y);x||(v=new c(o,g*f,s.count*f/u),x=new Jc(v,f/u),n.cache.add(y,x)),p=new mr(x,l,h%f/u,m)}else o===null?v=new c(s.count*l):v=new c(o,h,s.count*l),p=new At(v,l,m);if(s.sparse!==void 0){const g=yy.SCALAR,y=Ic[s.sparse.indices.componentType],x=s.sparse.indices.byteOffset||0,w=s.sparse.values.byteOffset||0,E=new y(a[1],x,s.sparse.count*g),C=new c(a[2],w,s.sparse.count*l);o!==null&&(p=new At(p.array.slice(),p.itemSize,p.normalized));for(let A=0,S=E.length;A<S;A++){const _=E[A];if(p.setX(_,C[A*l]),l>=2&&p.setY(_,C[A*l+1]),l>=3&&p.setZ(_,C[A*l+2]),l>=4&&p.setW(_,C[A*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p})}loadTexture(e){const n=this.json,i=this.options,s=n.textures[e].source,r=n.images[s];let a=this.textureLoader;if(r.uri){const o=i.manager.getHandler(r.uri);o!==null&&(a=o)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,i){const s=this,r=this.json,a=r.textures[e],o=r.images[n],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(u){u.flipY=!1,u.name=a.name||o.name||"",u.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(u.name=o.uri);const d=(r.samplers||{})[a.sampler]||{};return u.magFilter=ZM[d.magFilter]||In,u.minFilter=ZM[d.minFilter]||as,u.wrapS=JM[d.wrapS]||ta,u.wrapT=JM[d.wrapT]||ta,s.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,s=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const a=s.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=i.getDependency("bufferView",a.bufferView).then(function(d){c=!0;const h=new Blob([d],{type:a.mimeType});return l=o.createObjectURL(h),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(h,f){let m=h;n.isImageBitmapLoader===!0&&(m=function(v){const p=new un(v);p.needsUpdate=!0,h(p)}),n.load(hr.resolveURL(d,r.path),m,void 0,f)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),d.userData.mimeType=a.mimeType||Q$(a.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,i,s){const r=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),r.extensions[Dt.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[Dt.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=r.associations.get(a);a=r.extensions[Dt.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),r.associations.set(a,l)}}return s!==void 0&&("colorSpace"in a?a.colorSpace=s===3001?"srgb":"srgb-linear":a.encoding=s),e[n]=a,a})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const s=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new qp,$n.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new bi,$n.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(s||r||a){let o="ClonedMaterial:"+i.uuid+":";s&&(o+="derivative-tangents:"),r&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),r&&(l.vertexColors=!0),a&&(l.flatShading=!0),s&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return lh}loadMaterial(e){const n=this,i=this.json,s=this.extensions,r=i.materials[e];let a;const o={},l=r.extensions||{},c=[];if(l[Dt.KHR_MATERIALS_UNLIT]){const d=s[Dt.KHR_MATERIALS_UNLIT];a=d.getMaterialType(),c.push(d.extendParams(o,r,n))}else{const d=r.pbrMetallicRoughness||{};if(o.color=new Be(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(o,"map",d.baseColorTexture,3001)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,o)})))}r.doubleSided===!0&&(o.side=Li);const u=r.alphaMode||by.OPAQUE;if(u===by.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===by.MASK&&(o.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&a!==Oi&&(c.push(n.assignTexture(o,"normalMap",r.normalTexture)),o.normalScale=new Te(1,1),r.normalTexture.scale!==void 0)){const d=r.normalTexture.scale;o.normalScale.set(d,d)}return r.occlusionTexture!==void 0&&a!==Oi&&(c.push(n.assignTexture(o,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&a!==Oi&&(o.emissive=new Be().fromArray(r.emissiveFactor)),r.emissiveTexture!==void 0&&a!==Oi&&c.push(n.assignTexture(o,"emissiveMap",r.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new a(o);return r.name&&(d.name=r.name),Oa(d,r),n.associations.set(d,{materials:e}),r.extensions&&So(s,d,r),d})}createUniqueName(e){const n=Et.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,s=this.primitiveCache;function r(o){return i[Dt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(l){return QM(l,o,n)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=J$(c),d=s[u];if(d)a.push(d.promise);else{let h;c.extensions&&c.extensions[Dt.KHR_DRACO_MESH_COMPRESSION]?h=r(c):h=QM(new bt,c,n),s[u]={primitive:c,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(e){const n=this,i=this.json,s=this.extensions,r=i.meshes[e],a=r.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].material===void 0?q$(this.cache):this.getDependency("material",a[l].material);o.push(u)}return o.push(n.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let f=0,m=u.length;f<m;f++){const v=u[f],p=a[f];let g;const y=c[f];if(p.mode===_s.TRIANGLES||p.mode===_s.TRIANGLE_STRIP||p.mode===_s.TRIANGLE_FAN||p.mode===void 0)g=r.isSkinnedMesh===!0?new M_(v,y):new nn(v,y),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),p.mode===_s.TRIANGLE_STRIP?g.geometry=UM(g.geometry,f_):p.mode===_s.TRIANGLE_FAN&&(g.geometry=UM(g.geometry,np));else if(p.mode===_s.LINES)g=new js(v,y);else if(p.mode===_s.LINE_STRIP)g=new ia(v,y);else if(p.mode===_s.LINE_LOOP)g=new T_(v,y);else if(p.mode===_s.POINTS)g=new E_(v,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);Object.keys(g.geometry.morphAttributes).length>0&&Z$(g,r),g.name=n.createUniqueName(r.name||"mesh_"+e),Oa(g,r),p.extensions&&So(s,g,p),n.assignFinalMaterial(g),d.push(g)}for(let f=0,m=d.length;f<m;f++)n.associations.set(d[f],{meshes:e,primitives:f});if(d.length===1)return r.extensions&&So(s,d[0],r),d[0];const h=new Wr;r.extensions&&So(s,h,r),n.associations.set(h,{meshes:e});for(let f=0,m=d.length;f<m;f++)h.add(d[f]);return h})}loadCamera(e){let n;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new Qt($a.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(n=new ws(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),Oa(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let s=0,r=n.joints.length;s<r;s++)i.push(this._loadNodeShallow(n.joints[s]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),a=s,o=[],l=[];for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d){o.push(d);const h=new lt;r!==null&&h.fromArray(r.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new sh(o,l)})}loadAnimation(e){const n=this.json.animations[e],i=n.name?n.name:"animation_"+e,s=[],r=[],a=[],o=[],l=[];for(let c=0,u=n.channels.length;c<u;c++){const d=n.channels[c],h=n.samplers[d.sampler],f=d.target,m=f.node,v=n.parameters!==void 0?n.parameters[h.input]:h.input,p=n.parameters!==void 0?n.parameters[h.output]:h.output;f.node!==void 0&&(s.push(this.getDependency("node",m)),r.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",p)),o.push(h),l.push(f))}return Promise.all([Promise.all(s),Promise.all(r),Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],h=c[2],f=c[3],m=c[4],v=[];for(let p=0,g=u.length;p<g;p++){const y=u[p],x=d[p],w=h[p],E=f[p],C=m[p];if(y===void 0)continue;y.updateMatrix();let A;switch(Pa[C.path]){case Pa.weights:A=Bc;break;case Pa.rotation:A=ul;break;case Pa.position:case Pa.scale:default:A=Uc;break}const S=y.name?y.name:y.uuid,_=E.interpolation!==void 0?Y$[E.interpolation]:ll,b=[];Pa[C.path]===Pa.weights?y.traverse(function(P){P.morphTargetInfluences&&b.push(P.name?P.name:P.uuid)}):b.push(S);let T=w.array;if(w.normalized){const P=R0(T.constructor),D=new Float32Array(T.length);for(let O=0,H=T.length;O<H;O++)D[O]=T[O]*P;T=D}for(let P=0,D=b.length;P<D;P++){const O=new A(b[P]+"."+Pa[C.path],x.array,T,_);E.interpolation==="CUBICSPLINE"&&(O.createInterpolant=function(H){const F=this instanceof ul?X$:iR;return new F(this.times,this.values,this.getValueSize()/3,H)},O.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(O)}}return new zc(i,void 0,v)})}createNodeMesh(e){const n=this.json,i=this,s=n.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const a=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=s.weights.length;l<c;l++)o.morphTargetInfluences[l]=s.weights[l]}),a})}loadNode(e){const n=this.json,i=this,s=n.nodes[e],r=i._loadNodeShallow(e),a=[],o=s.children||[];for(let c=0,u=o.length;c<u;c++)a.push(i.getDependency("node",o[c]));const l=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(a),l]).then(function(c){const u=c[0],d=c[1],h=c[2];h!==null&&u.traverse(function(f){f.isSkinnedMesh&&f.bind(h,e9)});for(let f=0,m=d.length;f<m;f++)u.add(d[f]);return u})}_loadNodeShallow(e){const n=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=n.nodes[e],a=r.name?s.createUniqueName(r.name):"",o=[],l=s._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),r.camera!==void 0&&o.push(s.getDependency("camera",r.camera).then(function(c){return s._getNodeRef(s.cameraCache,r.camera,c)})),s._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let u;if(r.isBone===!0?u=new Yp:c.length>1?u=new Wr:c.length===1?u=c[0]:u=new Nt,u!==c[0])for(let d=0,h=c.length;d<h;d++)u.add(c[d]);if(r.name&&(u.userData.name=r.name,u.name=a),Oa(u,r),r.extensions&&So(i,u,r),r.matrix!==void 0){const d=new lt;d.fromArray(r.matrix),u.applyMatrix4(d)}else r.translation!==void 0&&u.position.fromArray(r.translation),r.rotation!==void 0&&u.quaternion.fromArray(r.rotation),r.scale!==void 0&&u.scale.fromArray(r.scale);return s.associations.has(u)||s.associations.set(u,{}),s.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],s=this,r=new Wr;i.name&&(r.name=s.createUniqueName(i.name)),Oa(r,i),i.extensions&&So(n,r,i);const a=i.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(s.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let u=0,d=l.length;u<d;u++)r.add(l[u]);const c=u=>{const d=new Map;for(const[h,f]of s.associations)(h instanceof $n||h instanceof un)&&d.set(h,f);return u.traverse(h=>{const f=s.associations.get(h);f!=null&&d.set(h,f)}),d};return s.associations=c(r),r})}}function n9(t,e,n){const i=e.attributes,s=new ei;if(i.POSITION!==void 0){const o=n.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(s.set(new G(l[0],l[1],l[2]),new G(c[0],c[1],c[2])),o.normalized){const u=R0(Ic[o.componentType]);s.min.multiplyScalar(u),s.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const o=new G,l=new G;for(let c=0,u=r.length;c<u;c++){const d=r[c];if(d.POSITION!==void 0){const h=n.json.accessors[d.POSITION],f=h.min,m=h.max;if(f!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(m[2]))),h.normalized){const v=R0(Ic[h.componentType]);l.multiplyScalar(v)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(o)}t.boundingBox=s;const a=new ti;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,t.boundingSphere=a}function QM(t,e,n){const i=e.attributes,s=[];function r(a,o){return n.getDependency("accessor",a).then(function(l){t.setAttribute(o,l)})}for(const a in i){const o=I0[a]||a.toLowerCase();o in t.attributes||s.push(r(i[a],o))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(o){t.setIndex(o)});s.push(a)}return Oa(t,e),n9(t,e,n),Promise.all(s).then(function(){return e.targets!==void 0?K$(t,e.targets,n):t})}new G;new Bi;new G;var i9=Object.defineProperty,s9=(t,e,n)=>e in t?i9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cx=(t,e,n)=>(s9(t,typeof e!="symbol"?e+"":e,n),n);class sR{constructor(e){Cx(this,"data"),this.data=e}generateShapes(e,n=100,i){const s=[],r={letterSpacing:0,lineHeight:1,...i},a=r9(e,n,this.data,r);for(let o=0,l=a.length;o<l;o++)Array.prototype.push.apply(s,a[o].toShapes(!1));return s}}Cx(sR,"isFont");Cx(sR,"type");function r9(t,e,n,i){const s=Array.from(t),r=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[];let l=0,c=0;for(let u=0;u<s.length;u++){const d=s[u];if(d===`
`)l=0,c-=a*i.lineHeight;else{const h=a9(d,r,l,c,n);h&&(l+=h.offsetX+i.letterSpacing,o.push(h.path))}}return o}function a9(t,e,n,i,s){const r=s.glyphs[t]||s.glyphs["?"];if(!r){console.error('THREE.Font: character "'+t+'" does not exists in font family '+s.familyName+".");return}const a=new UP;let o,l,c,u,d,h,f,m;if(r.o){const v=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let p=0,g=v.length;p<g;)switch(v[p++]){case"m":o=parseInt(v[p++])*e+n,l=parseInt(v[p++])*e+i,a.moveTo(o,l);break;case"l":o=parseInt(v[p++])*e+n,l=parseInt(v[p++])*e+i,a.lineTo(o,l);break;case"q":c=parseInt(v[p++])*e+n,u=parseInt(v[p++])*e+i,d=parseInt(v[p++])*e+n,h=parseInt(v[p++])*e+i,a.quadraticCurveTo(d,h,c,u);break;case"b":c=parseInt(v[p++])*e+n,u=parseInt(v[p++])*e+i,d=parseInt(v[p++])*e+n,h=parseInt(v[p++])*e+i,f=parseInt(v[p++])*e+n,m=parseInt(v[p++])*e+i,a.bezierCurveTo(d,h,f,m,c,u);break}}return{offsetX:r.ha*e,path:a}}const xy=new WeakMap;class o9 extends _i{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,s){const r=new us(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,a=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,o).then(n).catch(s)},i,s)}decodeDracoFile(e,n,i,s){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,r).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const i=JSON.stringify(n);if(xy.has(e)){const l=xy.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const r=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(r,a).then(l=>(s=l,new Promise((c,u)=>{s._callbacks[r]={resolve:c,reject:u},s.postMessage({type:"decode",id:r,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{s&&r&&this._releaseTask(s,r)}),xy.set(e,{key:i,promise:o}),o}_createGeometry(e){const n=new bt;e.index&&n.setIndex(new At(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],r=s.name,a=s.array,o=s.itemSize;n.setAttribute(r,new At(a,o))}return n}_loadLibrary(e,n){const i=new us(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((s,r)=>{i.load(e,s,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const s=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=l9.toString(),a=["/* draco decoder */",s,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(r){const a=r.data;switch(a.type){case"decode":s._callbacks[a.id].resolve(a);break;case"error":s._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,r){return s._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function l9(){let t,e;onmessage=function(a){const o=a.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(u=>{const d=u.draco,h=new d.Decoder,f=new d.DecoderBuffer;f.Init(new Int8Array(l),l.byteLength);try{const m=n(d,h,f,c),v=m.attributes.map(p=>p.array.buffer);m.index&&v.push(m.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:m},v)}catch(m){console.error(m),self.postMessage({type:"error",id:o.id,error:m.message})}finally{d.destroy(f),d.destroy(h)}});break}};function n(a,o,l,c){const u=c.attributeIDs,d=c.attributeTypes;let h,f;const m=o.GetEncodedGeometryType(l);if(m===a.TRIANGULAR_MESH)h=new a.Mesh,f=o.DecodeBufferToMesh(l,h);else if(m===a.POINT_CLOUD)h=new a.PointCloud,f=o.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!f.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());const v={index:null,attributes:[]};for(const p in u){const g=self[d[p]];let y,x;if(c.useUniqueIDs)x=u[p],y=o.GetAttributeByUniqueId(h,x);else{if(x=o.GetAttributeId(h,a[u[p]]),x===-1)continue;y=o.GetAttribute(h,x)}v.attributes.push(s(a,o,h,p,g,y))}return m===a.TRIANGULAR_MESH&&(v.index=i(a,o,h)),a.destroy(h),v}function i(a,o,l){const c=l.num_faces()*3,u=c*4,d=a._malloc(u);o.GetTrianglesUInt32Array(l,u,d);const h=new Uint32Array(a.HEAPF32.buffer,d,c).slice();return a._free(d),{array:h,itemSize:1}}function s(a,o,l,c,u,d){const h=d.num_components(),f=l.num_points()*h,m=f*u.BYTES_PER_ELEMENT,v=r(a,u),p=a._malloc(m);o.GetAttributeDataArrayForAllPoints(l,d,v,m,p);const g=new u(a.HEAPF32.buffer,p,f).slice();return a._free(p),{name:c,array:g,itemSize:h}}function r(a,o){switch(o){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}const Js=Us({__name:"Levioso",props:{speed:{default:1},rotationFactor:{default:1},floatFactor:{default:1},range:{default:()=>[-.1,.1]}},setup(t,{expose:e}){const n=t,i=De();e({value:i});{const s=Math.random()*1e4,{onLoop:r}=tu();let a=s;r(({delta:o})=>{if(!i.value)return;a+=o*n.speed;const l=a*.25,c=i.value;c.rotation.x=Math.cos(l)*.125*n.rotationFactor,c.rotation.y=Math.sin(l)*.125*n.rotationFactor,c.rotation.z=Math.sin(l)*.05*n.rotationFactor,c.position.y=$a.mapLinear(Math.sin(l),-1,1,n.range[0],n.range[1])*n.floatFactor})}return(s,r)=>(tt(),zt("TresGroup",Se(s.$attrs,{ref_key:"groupRef",ref:i}),[$b(s.$slots,"default")],16))}});class Id extends nn{constructor(e,n={}){super(e),this.isReflector=!0,this.type="Reflector",this.camera=new Qt;const i=this,s=n.color!==void 0?new Be(n.color):new Be(8355711),r=n.textureWidth||512,a=n.textureHeight||512,o=n.clipBias||0,l=n.shader||Id.ReflectorShader,c=n.multisample!==void 0?n.multisample:4,u=new ir,d=new G,h=new G,f=new G,m=new lt,v=new G(0,0,-1),p=new Tt,g=new G,y=new G,x=new Tt,w=new lt,E=this.camera,C=new Ts(r,a,{samples:c,type:wl}),A=new Ui({name:l.name!==void 0?l.name:"unspecified",uniforms:eh.clone(l.uniforms),fragmentShader:l.fragmentShader,vertexShader:l.vertexShader});A.uniforms.tDiffuse.value=C.texture,A.uniforms.color.value=s,A.uniforms.textureMatrix.value=w,this.material=A,this.onBeforeRender=function(S,_,b){if(h.setFromMatrixPosition(i.matrixWorld),f.setFromMatrixPosition(b.matrixWorld),m.extractRotation(i.matrixWorld),d.set(0,0,1),d.applyMatrix4(m),g.subVectors(h,f),g.dot(d)>0)return;g.reflect(d).negate(),g.add(h),m.extractRotation(b.matrixWorld),v.set(0,0,-1),v.applyMatrix4(m),v.add(f),y.subVectors(h,v),y.reflect(d).negate(),y.add(h),E.position.copy(g),E.up.set(0,1,0),E.up.applyMatrix4(m),E.up.reflect(d),E.lookAt(y),E.far=b.far,E.updateMatrixWorld(),E.projectionMatrix.copy(b.projectionMatrix),w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(E.projectionMatrix),w.multiply(E.matrixWorldInverse),w.multiply(i.matrixWorld),u.setFromNormalAndCoplanarPoint(d,h),u.applyMatrix4(E.matrixWorldInverse),p.set(u.normal.x,u.normal.y,u.normal.z,u.constant);const T=E.projectionMatrix;x.x=(Math.sign(p.x)+T.elements[8])/T.elements[0],x.y=(Math.sign(p.y)+T.elements[9])/T.elements[5],x.z=-1,x.w=(1+T.elements[10])/T.elements[14],p.multiplyScalar(2/p.dot(x)),T.elements[2]=p.x,T.elements[6]=p.y,T.elements[10]=p.z+1-o,T.elements[14]=p.w,i.visible=!1;const P=S.getRenderTarget(),D=S.xr.enabled,O=S.shadowMap.autoUpdate;S.xr.enabled=!1,S.shadowMap.autoUpdate=!1,S.setRenderTarget(C),S.state.buffers.depth.setMask(!0),S.autoClear===!1&&S.clear(),S.render(_,E),S.xr.enabled=D,S.shadowMap.autoUpdate=O,S.setRenderTarget(P);const H=b.viewport;H!==void 0&&S.state.viewport(H),i.visible=!0},this.getRenderTarget=function(){return C},this.dispose=function(){C.dispose(),i.material.dispose()}}}Id.ReflectorShader={name:"ReflectorShader",uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};const c9=["args","material-uniforms-color-value"],u9=Ee("TresPlaneGeometry",{args:[5,5]},null,-1);Id.ReflectorShader;function d9(t){return Lb()?(si(t),!0):!1}function rR(t){return typeof t=="function"?t():Ae(t)}const h9=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const f9=Object.prototype.toString,m9=t=>f9.call(t)==="[object Object]",p9=()=>{};function v9(t){var e;const n=rR(t);return(e=n==null?void 0:n.$el)!=null?e:n}const g9=h9?window:void 0;function wy(...t){let e,n,i,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,s]=t,e=g9):[e,n,i,s]=t,!e)return p9;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],a=()=>{r.forEach(u=>u()),r.length=0},o=(u,d,h,f)=>(u.addEventListener(d,h,f),()=>u.removeEventListener(d,h,f)),l=Pe(()=>[v9(e),rR(s)],([u,d])=>{if(a(),!u)return;const h=m9(d)?{...d}:d;r.push(...n.flatMap(f=>i.map(m=>o(u,f,m,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return d9(c),c}class dp extends nn{constructor(){super(dp.Geometry,new Oi({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const e=new G,n=new G,i=new p0(16,16),s=new p0(16,16);let r=Cs;const a=dp.Geometry,o=new id({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),l=new id({uniforms:{map:{value:i},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),c=new nn(a,o),u=[],d=aR.Shader,h=new id({name:d.name,uniforms:{map:{value:null},occlusionMap:{value:s},color:{value:new Be(16777215)},scale:{value:new Te},screenPosition:{value:new G}},vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:_m,transparent:!0,depthWrite:!1}),f=new nn(a,h);this.addElement=function(y){u.push(y)};const m=new Te,v=new Te,p=new VP,g=new Tt;this.onBeforeRender=function(y,x,w){y.getCurrentViewport(g);const E=y.getRenderTarget(),C=E!==null?E.texture.type:Cs;r!==C&&(i.dispose(),s.dispose(),i.type=s.type=C,r=C);const A=g.w/g.z,S=g.z/2,_=g.w/2;let b=16/g.w;if(m.set(b*A,b),p.min.set(g.x,g.y),p.max.set(g.x+(g.z-16),g.y+(g.w-16)),n.setFromMatrixPosition(this.matrixWorld),n.applyMatrix4(w.matrixWorldInverse),!(n.z>0)&&(e.copy(n).applyMatrix4(w.projectionMatrix),v.x=g.x+e.x*S+S-8,v.y=g.y+e.y*_+_-8,p.containsPoint(v))){y.copyFramebufferToTexture(v,i);let T=o.uniforms;T.scale.value=m,T.screenPosition.value=e,y.renderBufferDirect(w,null,a,o,c,null),y.copyFramebufferToTexture(v,s),T=l.uniforms,T.scale.value=m,T.screenPosition.value=e,y.renderBufferDirect(w,null,a,l,c,null);const P=-e.x*2,D=-e.y*2;for(let O=0,H=u.length;O<H;O++){const F=u[O],K=h.uniforms;K.color.value.copy(F.color),K.map.value=F.texture,K.screenPosition.value.x=e.x+P*F.distance,K.screenPosition.value.y=e.y+D*F.distance,b=F.size/g.w;const j=g.w/g.z;K.scale.value.set(b*j,b),h.uniformsNeedUpdate=!0,y.renderBufferDirect(w,null,a,h,f,null)}}},this.dispose=function(){o.dispose(),l.dispose(),h.dispose(),i.dispose(),s.dispose();for(let y=0,x=u.length;y<x;y++)u[y].texture.dispose()}}}class aR{constructor(e,n=1,i=0,s=new Be(16777215)){this.texture=e,this.size=n,this.distance=i,this.color=s}}aR.Shader={name:"LensflareElementShader",uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`};dp.Geometry=function(){const t=new bt,e=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),n=new Jc(e,5);return t.setIndex([0,1,2,0,2,3]),t.setAttribute("position",new mr(n,3,0,!1)),t.setAttribute("uv",new mr(n,2,3,!1)),t}();$a.clamp;$a.lerp;let Fo=null;function y9(t,e){return n=>{t.draco&&(Fo||(Fo=new o9),Fo.setDecoderPath(t.decoderPath||"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),n.setDRACOLoader(Fo))}}async function b9(t,e={draco:!1},n){const i=await $H(M$,t,y9(e));return Fo==null||Fo.dispose(),Fo=null,i}const _9=["object"],Os=Us({__name:"component",props:{path:{},draco:{type:Boolean,default:!1},decoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.4.1/"},castShadow:{type:Boolean,default:!1},receiveShadow:{type:Boolean,default:!1}},async setup(t,{expose:e}){let n,i;const s=t,r=he();e({value:r});const{scene:a}=([n,i]=v3(()=>b9(s.path,{draco:s.draco,decoderPath:s.decoderPath})),n=await n,i(),n);return(s.castShadow||s.receiveShadow)&&a.traverse(o=>{o.isMesh&&(o.castShadow=s.castShadow,o.receiveShadow=s.receiveShadow)}),(o,l)=>(tt(),zt("primitive",Se({ref_key:"modelRef",ref:r,object:Ae(a)},o.$attrs),null,16,_9))}}),x9=["target","auto-rotate","auto-rotate-speed","enable-damping","damping-factor","enable-pan","key-pan-speed","keys","max-azimuth-angle","min-azimuth-angle","max-polar-angle","min-polar-angle","min-distance","max-distance","min-zoom","max-zoom","touches","enable-zoom","zoom-speed","enable-rotate","rotate-speed","args"],oR=Us({__name:"OrbitControls",props:{makeDefault:{type:Boolean,default:!1},camera:{},domElement:{},target:{default:()=>[0,0,0]},enableDamping:{type:Boolean,default:!0},dampingFactor:{default:.05},autoRotate:{type:Boolean,default:!1},autoRotateSpeed:{default:2},enablePan:{type:Boolean,default:!0},keyPanSpeed:{default:7},keys:{},maxAzimuthAngle:{default:Number.POSITIVE_INFINITY},minAzimuthAngle:{default:Number.NEGATIVE_INFINITY},maxPolarAngle:{default:Math.PI},minPolarAngle:{default:0},minDistance:{default:0},maxDistance:{default:Number.POSITIVE_INFINITY},minZoom:{default:0},maxZoom:{default:Number.POSITIVE_INFINITY},touches:{default:()=>({ONE:Br.ROTATE,TWO:Br.DOLLY_PAN})},enableZoom:{type:Boolean,default:!0},zoomSpeed:{default:1},enableRotate:{type:Boolean,default:!0},rotateSpeed:{default:1}},emits:["change","start","end"],setup(t,{expose:e,emit:n}){const i=t,s=n,{makeDefault:r,autoRotate:a,autoRotateSpeed:o,enableDamping:l,dampingFactor:c,enablePan:u,keyPanSpeed:d,maxAzimuthAngle:h,minAzimuthAngle:f,maxPolarAngle:m,minPolarAngle:v,minDistance:p,maxDistance:g,minZoom:y,maxZoom:x,enableZoom:w,zoomSpeed:E,enableRotate:C,touches:A,rotateSpeed:S,target:_}=Hs(i),{camera:b,renderer:T,extend:P,controls:D}=Z_(),O=he(null);P({OrbitControls:S$}),Pe(O,K=>{H(),K&&r.value?D.value=K:D.value=null});function H(){wy(O.value,"change",()=>s("change",O.value)),wy(O.value,"start",()=>s("start",O.value)),wy(O.value,"end",()=>s("end",O.value))}const{onLoop:F}=tu();return F(()=>{O.value&&(l.value||a.value)&&O.value.update()}),Gs(()=>{O.value&&O.value.dispose()}),e({value:O}),(K,j)=>(K.camera||Ae(b))&&(K.domElement||Ae(T))?(tt(),zt("TresOrbitControls",{key:0,ref_key:"controlsRef",ref:O,target:Ae(_),"auto-rotate":Ae(a),"auto-rotate-speed":Ae(o),"enable-damping":Ae(l),"damping-factor":Ae(c),"enable-pan":Ae(u),"key-pan-speed":Ae(d),keys:K.keys,"max-azimuth-angle":Ae(h),"min-azimuth-angle":Ae(f),"max-polar-angle":Ae(m),"min-polar-angle":Ae(v),"min-distance":Ae(p),"max-distance":Ae(g),"min-zoom":Ae(y),"max-zoom":Ae(x),touches:Ae(A),"enable-zoom":Ae(w),"zoom-speed":Ae(E),"enable-rotate":Ae(C),"rotate-speed":Ae(S),args:[K.camera||Ae(b),K.domElement||Ae(T).domElement]},null,8,x9)):DE("",!0)}});var Sy;/Mac/.test((Sy=globalThis==null?void 0:globalThis.navigator)===null||Sy===void 0?void 0:Sy.platform);var w9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uf(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var S9={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,s,r){function a(c,u){if(!s[c]){if(!i[c]){var d=typeof Uf=="function"&&Uf;if(!u&&d)return d(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}u=s[c]={exports:{}},i[c][0].call(u.exports,function(h){var f=i[c][1][h];return a(f||h)},u,u.exports,n,i,s,r)}return s[c].exports}for(var o=typeof Uf=="function"&&Uf,l=0;l<r.length;l++)a(r[l]);return a}({1:[function(n,i,s){(function(r,a,o,l,c,u,d,h,f){var m=n("crypto");function v(C,A){A=y(C,A);var S;return(S=A.algorithm!=="passthrough"?m.createHash(A.algorithm):new E).write===void 0&&(S.write=S.update,S.end=S.update),w(A,S).dispatch(C),S.update||S.end(""),S.digest?S.digest(A.encoding==="buffer"?void 0:A.encoding):(C=S.read(),A.encoding!=="buffer"?C.toString(A.encoding):C)}(s=i.exports=v).sha1=function(C){return v(C)},s.keys=function(C){return v(C,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(C){return v(C,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(C){return v(C,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=m.getHashes?m.getHashes().slice():["sha1","md5"],g=(p.push("passthrough"),["buffer","hex","binary","base64"]);function y(C,A){var S={};if(S.algorithm=(A=A||{}).algorithm||"sha1",S.encoding=A.encoding||"hex",S.excludeValues=!!A.excludeValues,S.algorithm=S.algorithm.toLowerCase(),S.encoding=S.encoding.toLowerCase(),S.ignoreUnknown=A.ignoreUnknown===!0,S.respectType=A.respectType!==!1,S.respectFunctionNames=A.respectFunctionNames!==!1,S.respectFunctionProperties=A.respectFunctionProperties!==!1,S.unorderedArrays=A.unorderedArrays===!0,S.unorderedSets=A.unorderedSets!==!1,S.unorderedObjects=A.unorderedObjects!==!1,S.replacer=A.replacer||void 0,S.excludeKeys=A.excludeKeys||void 0,C===void 0)throw new Error("Object argument required.");for(var _=0;_<p.length;++_)p[_].toLowerCase()===S.algorithm.toLowerCase()&&(S.algorithm=p[_]);if(p.indexOf(S.algorithm)===-1)throw new Error('Algorithm "'+S.algorithm+'"  not supported. supported values: '+p.join(", "));if(g.indexOf(S.encoding)===-1&&S.algorithm!=="passthrough")throw new Error('Encoding "'+S.encoding+'"  not supported. supported values: '+g.join(", "));return S}function x(C){if(typeof C=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(C))!=null}function w(C,A,S){S=S||[];function _(b){return A.update?A.update(b,"utf8"):A.write(b,"utf8")}return{dispatch:function(b){return this["_"+((b=C.replacer?C.replacer(b):b)===null?"null":typeof b)](b)},_object:function(b){var T,P=Object.prototype.toString.call(b),D=/\[object (.*)\]/i.exec(P);if(D=(D=D?D[1]:"unknown:["+P+"]").toLowerCase(),0<=(P=S.indexOf(b)))return this.dispatch("[CIRCULAR:"+P+"]");if(S.push(b),o!==void 0&&o.isBuffer&&o.isBuffer(b))return _("buffer:"),_(b);if(D==="object"||D==="function"||D==="asyncfunction")return P=Object.keys(b),C.unorderedObjects&&(P=P.sort()),C.respectType===!1||x(b)||P.splice(0,0,"prototype","__proto__","constructor"),C.excludeKeys&&(P=P.filter(function(O){return!C.excludeKeys(O)})),_("object:"+P.length+":"),T=this,P.forEach(function(O){T.dispatch(O),_(":"),C.excludeValues||T.dispatch(b[O]),_(",")});if(!this["_"+D]){if(C.ignoreUnknown)return _("["+D+"]");throw new Error('Unknown object type "'+D+'"')}this["_"+D](b)},_array:function(b,O){O=O!==void 0?O:C.unorderedArrays!==!1;var P=this;if(_("array:"+b.length+":"),!O||b.length<=1)return b.forEach(function(H){return P.dispatch(H)});var D=[],O=b.map(function(H){var F=new E,K=S.slice();return w(C,F,K).dispatch(H),D=D.concat(K.slice(S.length)),F.read().toString()});return S=S.concat(D),O.sort(),this._array(O,!1)},_date:function(b){return _("date:"+b.toJSON())},_symbol:function(b){return _("symbol:"+b.toString())},_error:function(b){return _("error:"+b.toString())},_boolean:function(b){return _("bool:"+b.toString())},_string:function(b){_("string:"+b.length+":"),_(b.toString())},_function:function(b){_("fn:"),x(b)?this.dispatch("[native]"):this.dispatch(b.toString()),C.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(b.name)),C.respectFunctionProperties&&this._object(b)},_number:function(b){return _("number:"+b.toString())},_xml:function(b){return _("xml:"+b.toString())},_null:function(){return _("Null")},_undefined:function(){return _("Undefined")},_regexp:function(b){return _("regex:"+b.toString())},_uint8array:function(b){return _("uint8array:"),this.dispatch(Array.prototype.slice.call(b))},_uint8clampedarray:function(b){return _("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(b))},_int8array:function(b){return _("int8array:"),this.dispatch(Array.prototype.slice.call(b))},_uint16array:function(b){return _("uint16array:"),this.dispatch(Array.prototype.slice.call(b))},_int16array:function(b){return _("int16array:"),this.dispatch(Array.prototype.slice.call(b))},_uint32array:function(b){return _("uint32array:"),this.dispatch(Array.prototype.slice.call(b))},_int32array:function(b){return _("int32array:"),this.dispatch(Array.prototype.slice.call(b))},_float32array:function(b){return _("float32array:"),this.dispatch(Array.prototype.slice.call(b))},_float64array:function(b){return _("float64array:"),this.dispatch(Array.prototype.slice.call(b))},_arraybuffer:function(b){return _("arraybuffer:"),this.dispatch(new Uint8Array(b))},_url:function(b){return _("url:"+b.toString())},_map:function(b){return _("map:"),b=Array.from(b),this._array(b,C.unorderedSets!==!1)},_set:function(b){return _("set:"),b=Array.from(b),this._array(b,C.unorderedSets!==!1)},_file:function(b){return _("file:"),this.dispatch([b.name,b.size,b.type,b.lastModfied])},_blob:function(){if(C.ignoreUnknown)return _("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return _("domwindow")},_bigint:function(b){return _("bigint:"+b.toString())},_process:function(){return _("process")},_timer:function(){return _("timer")},_pipe:function(){return _("pipe")},_tcp:function(){return _("tcp")},_udp:function(){return _("udp")},_tty:function(){return _("tty")},_statwatcher:function(){return _("statwatcher")},_securecontext:function(){return _("securecontext")},_connection:function(){return _("connection")},_zlib:function(){return _("zlib")},_context:function(){return _("context")},_nodescript:function(){return _("nodescript")},_httpparser:function(){return _("httpparser")},_dataview:function(){return _("dataview")},_signal:function(){return _("signal")},_fsevent:function(){return _("fsevent")},_tlswrap:function(){return _("tlswrap")}}}function E(){return{buf:"",write:function(C){this.buf+=C},end:function(C){this.buf+=C},read:function(){return this.buf}}}s.writeToStream=function(C,A,S){return S===void 0&&(S=A,A={}),w(A=y(C,A),S).dispatch(C)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,i,s){(function(r,a,o,l,c,u,d,h,f){(function(m){var v=typeof Uint8Array<"u"?Uint8Array:Array,p=43,g=47,y=48,x=97,w=65,E=45,C=95;function A(S){return S=S.charCodeAt(0),S===p||S===E?62:S===g||S===C?63:S<y?-1:S<y+10?S-y+26+26:S<w+26?S-w:S<x+26?S-x+26:void 0}m.toByteArray=function(S){var _,b;if(0<S.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var T=S.length,T=S.charAt(T-2)==="="?2:S.charAt(T-1)==="="?1:0,P=new v(3*S.length/4-T),D=0<T?S.length-4:S.length,O=0;function H(F){P[O++]=F}for(_=0;_<D;_+=4,0)H((16711680&(b=A(S.charAt(_))<<18|A(S.charAt(_+1))<<12|A(S.charAt(_+2))<<6|A(S.charAt(_+3))))>>16),H((65280&b)>>8),H(255&b);return T==2?H(255&(b=A(S.charAt(_))<<2|A(S.charAt(_+1))>>4)):T==1&&(H((b=A(S.charAt(_))<<10|A(S.charAt(_+1))<<4|A(S.charAt(_+2))>>2)>>8&255),H(255&b)),P},m.fromByteArray=function(S){var _,b,T,P,D=S.length%3,O="";function H(F){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(F)}for(_=0,T=S.length-D;_<T;_+=3)b=(S[_]<<16)+(S[_+1]<<8)+S[_+2],O+=H((P=b)>>18&63)+H(P>>12&63)+H(P>>6&63)+H(63&P);switch(D){case 1:O=(O+=H((b=S[S.length-1])>>2))+H(b<<4&63)+"==";break;case 2:O=(O=(O+=H((b=(S[S.length-2]<<8)+S[S.length-1])>>10))+H(b>>4&63))+H(b<<2&63)+"="}return O}})(s===void 0?this.base64js={}:s)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,i,s){(function(r,a,p,l,c,u,d,h,f){var m=n("base64-js"),v=n("ieee754");function p(N,B,U){if(!(this instanceof p))return new p(N,B,U);var q,R,I,W,$=typeof N;if(B==="base64"&&$=="string")for(N=(W=N).trim?W.trim():W.replace(/^\s+|\s+$/g,"");N.length%4!=0;)N+="=";if($=="number")q=j(N);else if($=="string")q=p.byteLength(N,B);else{if($!="object")throw new Error("First argument needs to be a number, array or string.");q=j(N.length)}if(p._useTypedArrays?R=p._augment(new Uint8Array(q)):((R=this).length=q,R._isBuffer=!0),p._useTypedArrays&&typeof N.byteLength=="number")R._set(N);else if(X(W=N)||p.isBuffer(W)||W&&typeof W=="object"&&typeof W.length=="number")for(I=0;I<q;I++)p.isBuffer(N)?R[I]=N.readUInt8(I):R[I]=N[I];else if($=="string")R.write(N,0,B);else if($=="number"&&!p._useTypedArrays&&!U)for(I=0;I<q;I++)R[I]=0;return R}function g(N,B,U,q){return p._charsWritten=Le(function(R){for(var I=[],W=0;W<R.length;W++)I.push(255&R.charCodeAt(W));return I}(B),N,U,q)}function y(N,B,U,q){return p._charsWritten=Le(function(R){for(var I,W,$=[],Z=0;Z<R.length;Z++)W=R.charCodeAt(Z),I=W>>8,W=W%256,$.push(W),$.push(I);return $}(B),N,U,q)}function x(N,B,U){var q="";U=Math.min(N.length,U);for(var R=B;R<U;R++)q+=String.fromCharCode(N[R]);return q}function w(N,B,U,I){I||(ae(typeof U=="boolean","missing or invalid endian"),ae(B!=null,"missing offset"),ae(B+1<N.length,"Trying to read beyond buffer length"));var R,I=N.length;if(!(I<=B))return U?(R=N[B],B+1<I&&(R|=N[B+1]<<8)):(R=N[B]<<8,B+1<I&&(R|=N[B+1])),R}function E(N,B,U,I){I||(ae(typeof U=="boolean","missing or invalid endian"),ae(B!=null,"missing offset"),ae(B+3<N.length,"Trying to read beyond buffer length"));var R,I=N.length;if(!(I<=B))return U?(B+2<I&&(R=N[B+2]<<16),B+1<I&&(R|=N[B+1]<<8),R|=N[B],B+3<I&&(R+=N[B+3]<<24>>>0)):(B+1<I&&(R=N[B+1]<<16),B+2<I&&(R|=N[B+2]<<8),B+3<I&&(R|=N[B+3]),R+=N[B]<<24>>>0),R}function C(N,B,U,q){if(q||(ae(typeof U=="boolean","missing or invalid endian"),ae(B!=null,"missing offset"),ae(B+1<N.length,"Trying to read beyond buffer length")),!(N.length<=B))return q=w(N,B,U,!0),32768&q?-1*(65535-q+1):q}function A(N,B,U,q){if(q||(ae(typeof U=="boolean","missing or invalid endian"),ae(B!=null,"missing offset"),ae(B+3<N.length,"Trying to read beyond buffer length")),!(N.length<=B))return q=E(N,B,U,!0),2147483648&q?-1*(4294967295-q+1):q}function S(N,B,U,q){return q||(ae(typeof U=="boolean","missing or invalid endian"),ae(B+3<N.length,"Trying to read beyond buffer length")),v.read(N,B,U,23,4)}function _(N,B,U,q){return q||(ae(typeof U=="boolean","missing or invalid endian"),ae(B+7<N.length,"Trying to read beyond buffer length")),v.read(N,B,U,52,8)}function b(N,B,U,q,R){if(R||(ae(B!=null,"missing value"),ae(typeof q=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+1<N.length,"trying to write beyond buffer length"),ye(B,65535)),R=N.length,!(R<=U))for(var I=0,W=Math.min(R-U,2);I<W;I++)N[U+I]=(B&255<<8*(q?I:1-I))>>>8*(q?I:1-I)}function T(N,B,U,q,R){if(R||(ae(B!=null,"missing value"),ae(typeof q=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+3<N.length,"trying to write beyond buffer length"),ye(B,4294967295)),R=N.length,!(R<=U))for(var I=0,W=Math.min(R-U,4);I<W;I++)N[U+I]=B>>>8*(q?I:3-I)&255}function P(N,B,U,q,R){R||(ae(B!=null,"missing value"),ae(typeof q=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+1<N.length,"Trying to write beyond buffer length"),se(B,32767,-32768)),N.length<=U||b(N,0<=B?B:65535+B+1,U,q,R)}function D(N,B,U,q,R){R||(ae(B!=null,"missing value"),ae(typeof q=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+3<N.length,"Trying to write beyond buffer length"),se(B,2147483647,-2147483648)),N.length<=U||T(N,0<=B?B:4294967295+B+1,U,q,R)}function O(N,B,U,q,R){R||(ae(B!=null,"missing value"),ae(typeof q=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+3<N.length,"Trying to write beyond buffer length"),me(B,34028234663852886e22,-34028234663852886e22)),N.length<=U||v.write(N,B,U,q,23,4)}function H(N,B,U,q,R){R||(ae(B!=null,"missing value"),ae(typeof q=="boolean","missing or invalid endian"),ae(U!=null,"missing offset"),ae(U+7<N.length,"Trying to write beyond buffer length"),me(B,17976931348623157e292,-17976931348623157e292)),N.length<=U||v.write(N,B,U,q,52,8)}s.Buffer=p,s.SlowBuffer=p,s.INSPECT_MAX_BYTES=50,p.poolSize=8192,p._useTypedArrays=function(){try{var N=new ArrayBuffer(0),B=new Uint8Array(N);return B.foo=function(){return 42},B.foo()===42&&typeof B.subarray=="function"}catch{return!1}}(),p.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.isBuffer=function(N){return!(N==null||!N._isBuffer)},p.byteLength=function(N,B){var U;switch(N+="",B||"utf8"){case"hex":U=N.length/2;break;case"utf8":case"utf-8":U=J(N).length;break;case"ascii":case"binary":case"raw":U=N.length;break;case"base64":U=de(N).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":U=2*N.length;break;default:throw new Error("Unknown encoding")}return U},p.concat=function(N,B){if(ae(X(N),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),N.length===0)return new p(0);if(N.length===1)return N[0];if(typeof B!="number")for(R=B=0;R<N.length;R++)B+=N[R].length;for(var U=new p(B),q=0,R=0;R<N.length;R++){var I=N[R];I.copy(U,q),q+=I.length}return U},p.prototype.write=function(N,B,U,q){isFinite(B)?isFinite(U)||(q=U,U=void 0):(Z=q,q=B,B=U,U=Z),B=Number(B)||0;var R,I,W,$,Z=this.length-B;switch((!U||Z<(U=Number(U)))&&(U=Z),q=String(q||"utf8").toLowerCase()){case"hex":R=function(ee,ve,le,V){le=Number(le)||0;var k=ee.length-le;(!V||k<(V=Number(V)))&&(V=k),ae((k=ve.length)%2==0,"Invalid hex string"),k/2<V&&(V=k/2);for(var Q=0;Q<V;Q++){var re=parseInt(ve.substr(2*Q,2),16);ae(!isNaN(re),"Invalid hex string"),ee[le+Q]=re}return p._charsWritten=2*Q,Q}(this,N,B,U);break;case"utf8":case"utf-8":I=this,W=B,$=U,R=p._charsWritten=Le(J(N),I,W,$);break;case"ascii":case"binary":R=g(this,N,B,U);break;case"base64":I=this,W=B,$=U,R=p._charsWritten=Le(de(N),I,W,$);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":R=y(this,N,B,U);break;default:throw new Error("Unknown encoding")}return R},p.prototype.toString=function(N,B,U){var q,R,I,W,$=this;if(N=String(N||"utf8").toLowerCase(),B=Number(B)||0,(U=U!==void 0?Number(U):$.length)===B)return"";switch(N){case"hex":q=function(Z,ee,ve){var le=Z.length;(!ee||ee<0)&&(ee=0),(!ve||ve<0||le<ve)&&(ve=le);for(var V="",k=ee;k<ve;k++)V+=Y(Z[k]);return V}($,B,U);break;case"utf8":case"utf-8":q=function(Z,ee,ve){var le="",V="";ve=Math.min(Z.length,ve);for(var k=ee;k<ve;k++)Z[k]<=127?(le+=ie(V)+String.fromCharCode(Z[k]),V=""):V+="%"+Z[k].toString(16);return le+ie(V)}($,B,U);break;case"ascii":case"binary":q=x($,B,U);break;case"base64":R=$,W=U,q=(I=B)===0&&W===R.length?m.fromByteArray(R):m.fromByteArray(R.slice(I,W));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":q=function(Z,ee,ve){for(var le=Z.slice(ee,ve),V="",k=0;k<le.length;k+=2)V+=String.fromCharCode(le[k]+256*le[k+1]);return V}($,B,U);break;default:throw new Error("Unknown encoding")}return q},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.copy=function(N,B,U,q){if(B=B||0,(q=q||q===0?q:this.length)!==(U=U||0)&&N.length!==0&&this.length!==0){ae(U<=q,"sourceEnd < sourceStart"),ae(0<=B&&B<N.length,"targetStart out of bounds"),ae(0<=U&&U<this.length,"sourceStart out of bounds"),ae(0<=q&&q<=this.length,"sourceEnd out of bounds"),q>this.length&&(q=this.length);var R=(q=N.length-B<q-U?N.length-B+U:q)-U;if(R<100||!p._useTypedArrays)for(var I=0;I<R;I++)N[I+B]=this[I+U];else N._set(this.subarray(U,U+R),B)}},p.prototype.slice=function(N,B){var U=this.length;if(N=K(N,U,0),B=K(B,U,U),p._useTypedArrays)return p._augment(this.subarray(N,B));for(var q=B-N,R=new p(q,void 0,!0),I=0;I<q;I++)R[I]=this[I+N];return R},p.prototype.get=function(N){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(N)},p.prototype.set=function(N,B){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(N,B)},p.prototype.readUInt8=function(N,B){if(B||(ae(N!=null,"missing offset"),ae(N<this.length,"Trying to read beyond buffer length")),!(N>=this.length))return this[N]},p.prototype.readUInt16LE=function(N,B){return w(this,N,!0,B)},p.prototype.readUInt16BE=function(N,B){return w(this,N,!1,B)},p.prototype.readUInt32LE=function(N,B){return E(this,N,!0,B)},p.prototype.readUInt32BE=function(N,B){return E(this,N,!1,B)},p.prototype.readInt8=function(N,B){if(B||(ae(N!=null,"missing offset"),ae(N<this.length,"Trying to read beyond buffer length")),!(N>=this.length))return 128&this[N]?-1*(255-this[N]+1):this[N]},p.prototype.readInt16LE=function(N,B){return C(this,N,!0,B)},p.prototype.readInt16BE=function(N,B){return C(this,N,!1,B)},p.prototype.readInt32LE=function(N,B){return A(this,N,!0,B)},p.prototype.readInt32BE=function(N,B){return A(this,N,!1,B)},p.prototype.readFloatLE=function(N,B){return S(this,N,!0,B)},p.prototype.readFloatBE=function(N,B){return S(this,N,!1,B)},p.prototype.readDoubleLE=function(N,B){return _(this,N,!0,B)},p.prototype.readDoubleBE=function(N,B){return _(this,N,!1,B)},p.prototype.writeUInt8=function(N,B,U){U||(ae(N!=null,"missing value"),ae(B!=null,"missing offset"),ae(B<this.length,"trying to write beyond buffer length"),ye(N,255)),B>=this.length||(this[B]=N)},p.prototype.writeUInt16LE=function(N,B,U){b(this,N,B,!0,U)},p.prototype.writeUInt16BE=function(N,B,U){b(this,N,B,!1,U)},p.prototype.writeUInt32LE=function(N,B,U){T(this,N,B,!0,U)},p.prototype.writeUInt32BE=function(N,B,U){T(this,N,B,!1,U)},p.prototype.writeInt8=function(N,B,U){U||(ae(N!=null,"missing value"),ae(B!=null,"missing offset"),ae(B<this.length,"Trying to write beyond buffer length"),se(N,127,-128)),B>=this.length||(0<=N?this.writeUInt8(N,B,U):this.writeUInt8(255+N+1,B,U))},p.prototype.writeInt16LE=function(N,B,U){P(this,N,B,!0,U)},p.prototype.writeInt16BE=function(N,B,U){P(this,N,B,!1,U)},p.prototype.writeInt32LE=function(N,B,U){D(this,N,B,!0,U)},p.prototype.writeInt32BE=function(N,B,U){D(this,N,B,!1,U)},p.prototype.writeFloatLE=function(N,B,U){O(this,N,B,!0,U)},p.prototype.writeFloatBE=function(N,B,U){O(this,N,B,!1,U)},p.prototype.writeDoubleLE=function(N,B,U){H(this,N,B,!0,U)},p.prototype.writeDoubleBE=function(N,B,U){H(this,N,B,!1,U)},p.prototype.fill=function(N,B,U){if(B=B||0,U=U||this.length,ae(typeof(N=typeof(N=N||0)=="string"?N.charCodeAt(0):N)=="number"&&!isNaN(N),"value is not a number"),ae(B<=U,"end < start"),U!==B&&this.length!==0){ae(0<=B&&B<this.length,"start out of bounds"),ae(0<=U&&U<=this.length,"end out of bounds");for(var q=B;q<U;q++)this[q]=N}},p.prototype.inspect=function(){for(var N=[],B=this.length,U=0;U<B;U++)if(N[U]=Y(this[U]),U===s.INSPECT_MAX_BYTES){N[U+1]="...";break}return"<Buffer "+N.join(" ")+">"},p.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(p._useTypedArrays)return new p(this).buffer;for(var N=new Uint8Array(this.length),B=0,U=N.length;B<U;B+=1)N[B]=this[B];return N.buffer};var F=p.prototype;function K(N,B,U){return typeof N!="number"?U:B<=(N=~~N)?B:0<=N||0<=(N+=B)?N:0}function j(N){return(N=~~Math.ceil(+N))<0?0:N}function X(N){return(Array.isArray||function(B){return Object.prototype.toString.call(B)==="[object Array]"})(N)}function Y(N){return N<16?"0"+N.toString(16):N.toString(16)}function J(N){for(var B=[],U=0;U<N.length;U++){var q=N.charCodeAt(U);if(q<=127)B.push(N.charCodeAt(U));else for(var R=U,I=(55296<=q&&q<=57343&&U++,encodeURIComponent(N.slice(R,U+1)).substr(1).split("%")),W=0;W<I.length;W++)B.push(parseInt(I[W],16))}return B}function de(N){return m.toByteArray(N)}function Le(N,B,U,q){for(var R=0;R<q&&!(R+U>=B.length||R>=N.length);R++)B[R+U]=N[R];return R}function ie(N){try{return decodeURIComponent(N)}catch{return"�"}}function ye(N,B){ae(typeof N=="number","cannot write a non-number as a number"),ae(0<=N,"specified a negative value for writing an unsigned value"),ae(N<=B,"value is larger than maximum value for type"),ae(Math.floor(N)===N,"value has a fractional component")}function se(N,B,U){ae(typeof N=="number","cannot write a non-number as a number"),ae(N<=B,"value larger than maximum allowed value"),ae(U<=N,"value smaller than minimum allowed value"),ae(Math.floor(N)===N,"value has a fractional component")}function me(N,B,U){ae(typeof N=="number","cannot write a non-number as a number"),ae(N<=B,"value larger than maximum allowed value"),ae(U<=N,"value smaller than minimum allowed value")}function ae(N,B){if(!N)throw new Error(B||"Failed assertion")}p._augment=function(N){return N._isBuffer=!0,N._get=N.get,N._set=N.set,N.get=F.get,N.set=F.set,N.write=F.write,N.toString=F.toString,N.toLocaleString=F.toString,N.toJSON=F.toJSON,N.copy=F.copy,N.slice=F.slice,N.readUInt8=F.readUInt8,N.readUInt16LE=F.readUInt16LE,N.readUInt16BE=F.readUInt16BE,N.readUInt32LE=F.readUInt32LE,N.readUInt32BE=F.readUInt32BE,N.readInt8=F.readInt8,N.readInt16LE=F.readInt16LE,N.readInt16BE=F.readInt16BE,N.readInt32LE=F.readInt32LE,N.readInt32BE=F.readInt32BE,N.readFloatLE=F.readFloatLE,N.readFloatBE=F.readFloatBE,N.readDoubleLE=F.readDoubleLE,N.readDoubleBE=F.readDoubleBE,N.writeUInt8=F.writeUInt8,N.writeUInt16LE=F.writeUInt16LE,N.writeUInt16BE=F.writeUInt16BE,N.writeUInt32LE=F.writeUInt32LE,N.writeUInt32BE=F.writeUInt32BE,N.writeInt8=F.writeInt8,N.writeInt16LE=F.writeInt16LE,N.writeInt16BE=F.writeInt16BE,N.writeInt32LE=F.writeInt32LE,N.writeInt32BE=F.writeInt32BE,N.writeFloatLE=F.writeFloatLE,N.writeFloatBE=F.writeFloatBE,N.writeDoubleLE=F.writeDoubleLE,N.writeDoubleBE=F.writeDoubleBE,N.fill=F.fill,N.inspect=F.inspect,N.toArrayBuffer=F.toArrayBuffer,N}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,i,s){(function(r,a,m,l,c,u,d,h,f){var m=n("buffer").Buffer,v=4,p=new m(v);p.fill(0),i.exports={hash:function(g,y,x,w){for(var E=y(function(b,T){b.length%v!=0&&(P=b.length+(v-b.length%v),b=m.concat([b,p],P));for(var P,D=[],O=T?b.readInt32BE:b.readInt32LE,H=0;H<b.length;H+=v)D.push(O.call(b,H));return D}(g=m.isBuffer(g)?g:new m(g),w),8*g.length),y=w,C=new m(x),A=y?C.writeInt32BE:C.writeInt32LE,S=0;S<E.length;S++)A.call(C,E[S],4*S,!0);return C}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,i,s){(function(r,a,m,l,c,u,d,h,f){var m=n("buffer").Buffer,v=n("./sha"),p=n("./sha256"),g=n("./rng"),y={sha1:v,sha256:p,md5:n("./md5")},x=64,w=new m(x);function E(b,T){var P=y[b=b||"sha1"],D=[];return P||C("algorithm:",b,"is not yet supported"),{update:function(O){return m.isBuffer(O)||(O=new m(O)),D.push(O),O.length,this},digest:function(O){var H=m.concat(D),H=T?function(F,K,j){m.isBuffer(K)||(K=new m(K)),m.isBuffer(j)||(j=new m(j)),K.length>x?K=F(K):K.length<x&&(K=m.concat([K,w],x));for(var X=new m(x),Y=new m(x),J=0;J<x;J++)X[J]=54^K[J],Y[J]=92^K[J];return j=F(m.concat([X,j])),F(m.concat([Y,j]))}(P,T,H):P(H);return D=null,O?H.toString(O):H}}}function C(){var b=[].slice.call(arguments).join(" ");throw new Error([b,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}w.fill(0),s.createHash=function(b){return E(b)},s.createHmac=E,s.randomBytes=function(b,T){if(!T||!T.call)return new m(g(b));try{T.call(this,void 0,new m(g(b)))}catch(P){T(P)}};var A,S=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],_=function(b){s[b]=function(){C("sorry,",b,"is not implemented yet")}};for(A in S)_(S[A])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,i,s){(function(r,a,o,l,c,u,d,h,f){var m=n("./helpers");function v(C,A){C[A>>5]|=128<<A%32,C[14+(A+64>>>9<<4)]=A;for(var S=1732584193,_=-271733879,b=-1732584194,T=271733878,P=0;P<C.length;P+=16){var D=S,O=_,H=b,F=T,S=g(S,_,b,T,C[P+0],7,-680876936),T=g(T,S,_,b,C[P+1],12,-389564586),b=g(b,T,S,_,C[P+2],17,606105819),_=g(_,b,T,S,C[P+3],22,-1044525330);S=g(S,_,b,T,C[P+4],7,-176418897),T=g(T,S,_,b,C[P+5],12,1200080426),b=g(b,T,S,_,C[P+6],17,-1473231341),_=g(_,b,T,S,C[P+7],22,-45705983),S=g(S,_,b,T,C[P+8],7,1770035416),T=g(T,S,_,b,C[P+9],12,-1958414417),b=g(b,T,S,_,C[P+10],17,-42063),_=g(_,b,T,S,C[P+11],22,-1990404162),S=g(S,_,b,T,C[P+12],7,1804603682),T=g(T,S,_,b,C[P+13],12,-40341101),b=g(b,T,S,_,C[P+14],17,-1502002290),S=y(S,_=g(_,b,T,S,C[P+15],22,1236535329),b,T,C[P+1],5,-165796510),T=y(T,S,_,b,C[P+6],9,-1069501632),b=y(b,T,S,_,C[P+11],14,643717713),_=y(_,b,T,S,C[P+0],20,-373897302),S=y(S,_,b,T,C[P+5],5,-701558691),T=y(T,S,_,b,C[P+10],9,38016083),b=y(b,T,S,_,C[P+15],14,-660478335),_=y(_,b,T,S,C[P+4],20,-405537848),S=y(S,_,b,T,C[P+9],5,568446438),T=y(T,S,_,b,C[P+14],9,-1019803690),b=y(b,T,S,_,C[P+3],14,-187363961),_=y(_,b,T,S,C[P+8],20,1163531501),S=y(S,_,b,T,C[P+13],5,-1444681467),T=y(T,S,_,b,C[P+2],9,-51403784),b=y(b,T,S,_,C[P+7],14,1735328473),S=x(S,_=y(_,b,T,S,C[P+12],20,-1926607734),b,T,C[P+5],4,-378558),T=x(T,S,_,b,C[P+8],11,-2022574463),b=x(b,T,S,_,C[P+11],16,1839030562),_=x(_,b,T,S,C[P+14],23,-35309556),S=x(S,_,b,T,C[P+1],4,-1530992060),T=x(T,S,_,b,C[P+4],11,1272893353),b=x(b,T,S,_,C[P+7],16,-155497632),_=x(_,b,T,S,C[P+10],23,-1094730640),S=x(S,_,b,T,C[P+13],4,681279174),T=x(T,S,_,b,C[P+0],11,-358537222),b=x(b,T,S,_,C[P+3],16,-722521979),_=x(_,b,T,S,C[P+6],23,76029189),S=x(S,_,b,T,C[P+9],4,-640364487),T=x(T,S,_,b,C[P+12],11,-421815835),b=x(b,T,S,_,C[P+15],16,530742520),S=w(S,_=x(_,b,T,S,C[P+2],23,-995338651),b,T,C[P+0],6,-198630844),T=w(T,S,_,b,C[P+7],10,1126891415),b=w(b,T,S,_,C[P+14],15,-1416354905),_=w(_,b,T,S,C[P+5],21,-57434055),S=w(S,_,b,T,C[P+12],6,1700485571),T=w(T,S,_,b,C[P+3],10,-1894986606),b=w(b,T,S,_,C[P+10],15,-1051523),_=w(_,b,T,S,C[P+1],21,-2054922799),S=w(S,_,b,T,C[P+8],6,1873313359),T=w(T,S,_,b,C[P+15],10,-30611744),b=w(b,T,S,_,C[P+6],15,-1560198380),_=w(_,b,T,S,C[P+13],21,1309151649),S=w(S,_,b,T,C[P+4],6,-145523070),T=w(T,S,_,b,C[P+11],10,-1120210379),b=w(b,T,S,_,C[P+2],15,718787259),_=w(_,b,T,S,C[P+9],21,-343485551),S=E(S,D),_=E(_,O),b=E(b,H),T=E(T,F)}return Array(S,_,b,T)}function p(C,A,S,_,b,T){return E((A=E(E(A,C),E(_,T)))<<b|A>>>32-b,S)}function g(C,A,S,_,b,T,P){return p(A&S|~A&_,C,A,b,T,P)}function y(C,A,S,_,b,T,P){return p(A&_|S&~_,C,A,b,T,P)}function x(C,A,S,_,b,T,P){return p(A^S^_,C,A,b,T,P)}function w(C,A,S,_,b,T,P){return p(S^(A|~_),C,A,b,T,P)}function E(C,A){var S=(65535&C)+(65535&A);return(C>>16)+(A>>16)+(S>>16)<<16|65535&S}i.exports=function(C){return m.hash(C,v,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,i,s){(function(r,a,o,l,c,u,d,h,f){i.exports=function(m){for(var v,p=new Array(m),g=0;g<m;g++)!(3&g)&&(v=4294967296*Math.random()),p[g]=v>>>((3&g)<<3)&255;return p}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,i,s){(function(r,a,o,l,c,u,d,h,f){var m=n("./helpers");function v(y,x){y[x>>5]|=128<<24-x%32,y[15+(x+64>>9<<4)]=x;for(var w,E,C,A=Array(80),S=1732584193,_=-271733879,b=-1732584194,T=271733878,P=-1009589776,D=0;D<y.length;D+=16){for(var O=S,H=_,F=b,K=T,j=P,X=0;X<80;X++){A[X]=X<16?y[D+X]:g(A[X-3]^A[X-8]^A[X-14]^A[X-16],1);var Y=p(p(g(S,5),(Y=_,E=b,C=T,(w=X)<20?Y&E|~Y&C:!(w<40)&&w<60?Y&E|Y&C|E&C:Y^E^C)),p(p(P,A[X]),(w=X)<20?1518500249:w<40?1859775393:w<60?-1894007588:-899497514)),P=T,T=b,b=g(_,30),_=S,S=Y}S=p(S,O),_=p(_,H),b=p(b,F),T=p(T,K),P=p(P,j)}return Array(S,_,b,T,P)}function p(y,x){var w=(65535&y)+(65535&x);return(y>>16)+(x>>16)+(w>>16)<<16|65535&w}function g(y,x){return y<<x|y>>>32-x}i.exports=function(y){return m.hash(y,v,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,i,s){(function(r,a,o,l,c,u,d,h,f){function m(x,w){var E=(65535&x)+(65535&w);return(x>>16)+(w>>16)+(E>>16)<<16|65535&E}function v(x,w){var E,C=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),A=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),S=new Array(64);x[w>>5]|=128<<24-w%32,x[15+(w+64>>9<<4)]=w;for(var _,b,T=0;T<x.length;T+=16){for(var P=A[0],D=A[1],O=A[2],H=A[3],F=A[4],K=A[5],j=A[6],X=A[7],Y=0;Y<64;Y++)S[Y]=Y<16?x[Y+T]:m(m(m((b=S[Y-2],g(b,17)^g(b,19)^y(b,10)),S[Y-7]),(b=S[Y-15],g(b,7)^g(b,18)^y(b,3))),S[Y-16]),E=m(m(m(m(X,g(b=F,6)^g(b,11)^g(b,25)),F&K^~F&j),C[Y]),S[Y]),_=m(g(_=P,2)^g(_,13)^g(_,22),P&D^P&O^D&O),X=j,j=K,K=F,F=m(H,E),H=O,O=D,D=P,P=m(E,_);A[0]=m(P,A[0]),A[1]=m(D,A[1]),A[2]=m(O,A[2]),A[3]=m(H,A[3]),A[4]=m(F,A[4]),A[5]=m(K,A[5]),A[6]=m(j,A[6]),A[7]=m(X,A[7])}return A}var p=n("./helpers"),g=function(x,w){return x>>>w|x<<32-w},y=function(x,w){return x>>>w};i.exports=function(x){return p.hash(x,v,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,i,s){(function(r,a,o,l,c,u,d,h,f){s.read=function(m,v,p,g,T){var x,w,E=8*T-g-1,C=(1<<E)-1,A=C>>1,S=-7,_=p?T-1:0,b=p?-1:1,T=m[v+_];for(_+=b,x=T&(1<<-S)-1,T>>=-S,S+=E;0<S;x=256*x+m[v+_],_+=b,S-=8);for(w=x&(1<<-S)-1,x>>=-S,S+=g;0<S;w=256*w+m[v+_],_+=b,S-=8);if(x===0)x=1-A;else{if(x===C)return w?NaN:1/0*(T?-1:1);w+=Math.pow(2,g),x-=A}return(T?-1:1)*w*Math.pow(2,x-g)},s.write=function(m,v,p,g,y,P){var w,E,C=8*P-y-1,A=(1<<C)-1,S=A>>1,_=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=g?0:P-1,T=g?1:-1,P=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(E=isNaN(v)?1:0,w=A):(w=Math.floor(Math.log(v)/Math.LN2),v*(g=Math.pow(2,-w))<1&&(w--,g*=2),2<=(v+=1<=w+S?_/g:_*Math.pow(2,1-S))*g&&(w++,g/=2),A<=w+S?(E=0,w=A):1<=w+S?(E=(v*g-1)*Math.pow(2,y),w+=S):(E=v*Math.pow(2,S-1)*Math.pow(2,y),w=0));8<=y;m[p+b]=255&E,b+=T,E/=256,y-=8);for(w=w<<y|E,C+=y;0<C;m[p+b]=255&w,b+=T,w/=256,C-=8);m[p+b-T]|=128*P}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,i,s){(function(r,a,o,l,c,u,d,h,f){var m,v,p;function g(){}(r=i.exports={}).nextTick=(v=typeof window<"u"&&window.setImmediate,p=typeof window<"u"&&window.postMessage&&window.addEventListener,v?function(y){return window.setImmediate(y)}:p?(m=[],window.addEventListener("message",function(y){var x=y.source;x!==window&&x!==null||y.data!=="process-tick"||(y.stopPropagation(),0<m.length&&m.shift()())},!0),function(y){m.push(y),window.postMessage("process-tick","*")}):function(y){setTimeout(y,0)}),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.binding=function(y){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(y){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(S9);var M9=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],L0=M9;L0=L0.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)});L0.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]);function C9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T9(t){var e=C9(t,"string");return typeof e=="symbol"?e:String(e)}function tn(t,e,n){return e=T9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO",bump:"csm_Bump",depthAlpha:"csm_DepthAlpha"},Wi,oc;Wi={},tn(Wi,"".concat(vt.normal),{"#include <beginnormal_vertex>":`
    vec3 objectNormal = `.concat(vt.normal,`;
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `)}),tn(Wi,"".concat(vt.position),{"#include <begin_vertex>":`
    vec3 transformed = `.concat(vt.position,`;
  `)}),tn(Wi,"".concat(vt.positionRaw),{"#include <begin_vertex>":`
    vec4 csm_internal_positionUnprojected = `.concat(vt.positionRaw,`;
    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;
    #endif
    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;
    vec3 transformed = csm_internal_positionUnprojected.xyz;
  `)}),tn(Wi,"".concat(vt.pointSize),{"gl_PointSize = size;":`
    gl_PointSize = `.concat(vt.pointSize,`;
    `)}),tn(Wi,"".concat(vt.diffuseColor),{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = `.concat(vt.diffuseColor,`;
  `)}),tn(Wi,"".concat(vt.fragColor),{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = `.concat(vt.fragColor,`;
  `)}),tn(Wi,"".concat(vt.emissive),{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = `.concat(vt.emissive,`;
    `)}),tn(Wi,"".concat(vt.roughness),{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = `.concat(vt.roughness,`;
    `)}),tn(Wi,"".concat(vt.metalness),{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = `.concat(vt.metalness,`;
    `)}),tn(Wi,"".concat(vt.ao),{"#include <aomap_fragment>":`
    #include <aomap_fragment>
    reflectedLight.indirectDiffuse *= 1. - `.concat(vt.ao,`;
    `)}),tn(Wi,"".concat(vt.bump),{"#include <normal_fragment_maps>":`
    #include <normal_fragment_maps>

    vec3 csm_internal_orthogonal = `.concat(vt.bump," - (dot(").concat(vt.bump,`, normal) * normal);
    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;
    normal = normalize(normal - csm_internal_projectedbump);
    `)}),tn(Wi,"".concat(vt.depthAlpha),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":`
      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * `.concat(vt.depthAlpha,` );
    `),"gl_FragColor = packDepthToRGBA( fragCoordZ );":`
      gl_FragColor = packDepthToRGBA( fragCoordZ );
      gl_FragColor.a *= `.concat(vt.depthAlpha,`;
    `)});oc={},tn(oc,"".concat(vt.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( `.concat(vt.position,`, 1.0 );
  `)}),tn(oc,"".concat(vt.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = `.concat(vt.position,`;
  `)}),tn(oc,"".concat(vt.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(vt.diffuseColor,`;
  `)}),tn(oc,"".concat(vt.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(vt.fragColor,`;
  `)});var $i;$i={},tn($i,"".concat(vt.position),"*"),tn($i,"".concat(vt.positionRaw),"*"),tn($i,"".concat(vt.normal),"*"),tn($i,"".concat(vt.pointSize),["PointsMaterial"]),tn($i,"".concat(vt.diffuseColor),"*"),tn($i,"".concat(vt.fragColor),"*"),tn($i,"".concat(vt.emissive),["MeshStandardMaterial","MeshPhysicalMaterial"]),tn($i,"".concat(vt.roughness),["MeshStandardMaterial","MeshPhysicalMaterial"]),tn($i,"".concat(vt.metalness),["MeshStandardMaterial","MeshPhysicalMaterial"]),tn($i,"".concat(vt.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial"]),tn($i,"".concat(vt.bump),["MeshLambertMaterial","MeshMatcapMaterial","MeshNormalMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshStandardMaterial","MeshToonMaterial","ShadowMaterial"]),tn($i,"".concat(vt.depthAlpha),"*");new ei;new G;Ge.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Te(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};xs.line={uniforms:eh.merge([Ge.common,Ge.fog,Ge.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};new G;new G;new Tt;new Tt;new Tt;new G;new lt;new FP;new G;new ei;new ti;new Tt;const E9={key:0,args:[0,1,64]},A9={key:1,args:[.5,1,64]},P9={key:2},I9=["tone-mapped","map","side","color"];new Be(16777215);class Tx extends nn{constructor(){const e=Tx.SkyShader,n=new Ui({name:e.name,uniforms:eh.clone(e.uniforms),vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:yi,depthWrite:!1});super(new Za(1,1,1),n),this.isSky=!0}}Tx.SkyShader={name:"SkyShader",uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new G},up:{value:new G(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPosition );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};var R9={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(w9,function(){var n=function(){function i(f){return a.appendChild(f.dom),f}function s(f){for(var m=0;m<a.children.length;m++)a.children[m].style.display=m===f?"block":"none";r=f}var r=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(f){f.preventDefault(),s(++r%a.children.length)},!1);var o=(performance||Date).now(),l=o,c=0,u=i(new n.Panel("FPS","#0ff","#002")),d=i(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=i(new n.Panel("MB","#f08","#201"));return s(0),{REVISION:16,dom:a,addPanel:i,showPanel:s,begin:function(){o=(performance||Date).now()},end:function(){c++;var f=(performance||Date).now();if(d.update(f-o,200),f>l+1e3&&(u.update(1e3*c/(f-l),100),l=f,c=0,h)){var m=performance.memory;h.update(m.usedJSHeapSize/1048576,m.jsHeapSizeLimit/1048576)}return f},update:function(){o=this.end()},domElement:a,setMode:s}};return n.Panel=function(i,s,r){var a=1/0,o=0,l=Math.round,c=l(window.devicePixelRatio||1),u=80*c,d=48*c,h=3*c,f=2*c,m=3*c,v=15*c,p=74*c,g=30*c,y=document.createElement("canvas");y.width=u,y.height=d,y.style.cssText="width:80px;height:48px";var x=y.getContext("2d");return x.font="bold "+9*c+"px Helvetica,Arial,sans-serif",x.textBaseline="top",x.fillStyle=r,x.fillRect(0,0,u,d),x.fillStyle=s,x.fillText(i,h,f),x.fillRect(m,v,p,g),x.fillStyle=r,x.globalAlpha=.9,x.fillRect(m,v,p,g),{dom:y,update:function(w,E){a=Math.min(a,w),o=Math.max(o,w),x.fillStyle=r,x.globalAlpha=1,x.fillRect(0,0,u,v),x.fillStyle=s,x.fillText(l(w)+" "+i+" ("+l(a)+"-"+l(o)+")",h,f),x.drawImage(y,m+c,v,p-c,g,m,v,p-c,g),x.fillRect(m+p-c,v,c,g),x.fillStyle=r,x.globalAlpha=.9,x.fillRect(m+p-c,v,c,l((1-w/E)*g))}}},n})})(R9);var L9=`#include <common>

void main() {
  vec2 center = vec2(0., 1.);
  float rotation = 0.0;

  
  
  float size = 0.03;

  vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
  vec2 scale;
  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

  bool isPerspective = isPerspectiveMatrix( projectionMatrix );
  if ( isPerspective ) scale *= - mvPosition.z;

  vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
  vec2 rotatedPosition;
  rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
  rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
  mvPosition.xy += rotatedPosition;

  gl_Position = projectionMatrix * mvPosition;
}`,k9=`void main() {
  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
}`;const gh=new G(0,0,0),Ex=new G(0,0,0),D9=new G(0,0,0);function eC(t,e,n){const i=gh.setFromMatrixPosition(t.matrixWorld);i.project(e);const s=n.width/2,r=n.height/2;return[(Number.isNaN(i.x)?0:i.x)*s+s,-(i.y*r)+r]}function O9(t,e){const n=gh.setFromMatrixPosition(t.matrixWorld),i=Ex.setFromMatrixPosition(e.matrixWorld),s=n.sub(i),r=e.getWorldDirection(D9);return s.angleTo(r)>Math.PI/2}function N9(t,e,n,i){const s=gh.setFromMatrixPosition(t.matrixWorld),r=s.clone();r.project(e),n.setFromCamera(new Te(r.x,r.y),e);const a=n.intersectObjects(i,!0);if(a.length>0){const o=a[0].distance;return s.distanceTo(n.ray.origin)<o}return!0}function V9(t,e){if(e instanceof ws)return e.zoom;if(e instanceof Qt){const n=gh.setFromMatrixPosition(t.matrixWorld),i=Ex.setFromMatrixPosition(e.matrixWorld),s=e.fov*Math.PI/180,r=n.distanceTo(i);return 1/(2*Math.tan(s/2)*r)}else return 1}function F9(t,e,n){if(e instanceof Qt||e instanceof ws){const i=gh.setFromMatrixPosition(t.matrixWorld),s=Ex.setFromMatrixPosition(e.matrixWorld),r=i.distanceTo(s),a=(n[1]-n[0])/(e.far-e.near),o=n[1]-a*e.far;return Math.round(a*r+o)}}const k0=t=>Math.abs(t)<1e-10?0:t;function lR(t,e,n=""){let i="matrix3d(";for(let s=0;s!==16;s++)i+=k0(e[s]*t.elements[s])+(s!==15?",":")");return n+i}const B9=(t=>e=>lR(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),U9=(t=>(e,n)=>lR(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]),z9=["geometry","material"];new Ja;const H9="/Portfolio/Models/IsoBedroom.glb",G9={__name:"room",setup(t){const{onLoop:e}=tu(),n=De();e(({delta:s,elapsed:r})=>{n.value&&(n.value.rotation.y+=s,n.value.position.y=Math.sin(r))});const i=De();return e(({delta:s,elapsed:r})=>{i.value&&(i.value.rotation.y+=s/2,i.value.position.y=Math.sin(r)/2)}),(s,r)=>{const a=yn("motion-slide-visible-right");return Qe((tt(),sn(Ae(QP),{alpha:""},{default:Je(()=>[r[0]||(r[0]=Ee("TresPerspectiveCamera",null,null,-1)),M(Ae(oR)),Ee("TresMesh",{ref_key:"roomRef",ref:i},[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(H9)},null,8,["path"])]),_:1}))],512),r[1]||(r[1]=Ee("TresAmbientLight",{intensity:1},null,-1)),r[2]||(r[2]=Ee("TresDirectionalLight",{position:[-4,8,4],intensity:1.5,"cast-shadow":""},null,-1)),r[3]||(r[3]=Ee("TresDirectionalLight",{position:[-4,30,4],intensity:.2},null,-1))]),_:1})),[[a]])}}},W9="/Portfolio/Parallax/FrontTrees.png",$9="/Portfolio/Parallax/BackTrees.png",j9="/Portfolio/Parallax/Clouds.png",X9="/Portfolio/Parallax/Mountain.png",Y9="/Portfolio/Parallax/Foreground.png",q9="/Portfolio/Parallax/Stars.png",K9="/Portfolio/Parallax/Sky.png",Z9={class:"h-screen w-screen relative flex flex-col justify-start items-center"},J9=["src"],Q9=["src"],ej=["src"],tj=["src"],nj=["src"],ij=["src"],sj=["src"],rj={__name:"intro",setup(t){const e=he(),n=he(),i=he(),s=he(),r=he(),a=he(),o=he(),l=he();Nn(()=>{document.addEventListener("scroll",c)}),Gs(()=>{document.removeEventListener("scroll",c)});const c=u=>{const d=window.scrollY,h=d/20;d<800&&(i.value.style.transform="translateY("+h+"px)scale("+(1+h*.02)+")",s.value.style.transform="translateX("+h*10+"px)",l.value.style.transform="translateY("+h*-15+"px)",r.value.style.transform="translateY("+h*-5+"px)scale("+(1+h*.03)+")",a.value.style.transform="scale("+(1+h*.005)+")",e.value.style.transform="translateX("+h*20+"px)",n.value.style.transform="translateX("+h*10+"px)")};return(u,d)=>{const h=yn("motion-fade");return tt(),zt("div",Z9,[Qe(Ee("img",{src:Ae(K9),class:"w-full h-full absolute"},null,8,J9),[[h]]),Qe((tt(),zt("h1",{class:"font-extrabold text-6xl display-1 mt-28 text-white text-shadow shadow-purple-900",ref_key:"greeting",ref:e},d[0]||(d[0]=[gn(" Hi, I'm ")]))),[[h]]),Qe((tt(),zt("h1",{class:"font-extrabold text-6xl text-white text-shadow shadow-purple-900",ref_key:"name",ref:n},d[1]||(d[1]=[gn(" Shivam ")]))),[[h]]),Qe(Ee("img",{src:Ae(q9),class:"w-full h-full absolute object-cover",ref_key:"stars",ref:l},null,8,Q9),[[h]]),Qe(Ee("img",{src:Ae(j9),class:"w-full overflow-visible h-full absolute object-cover",ref_key:"clouds",ref:s},null,8,ej),[[h]]),Qe(Ee("img",{src:Ae(X9),class:"w-full h-full overflow-hidden absolute object-cover",ref_key:"mountain",ref:i},null,8,tj),[[h]]),Qe(Ee("img",{src:Ae($9),class:"w-full h-full absolute object-cover",ref_key:"backTrees",ref:a},null,8,nj),[[h]]),Qe(Ee("img",{src:Ae(Y9),class:"w-full h-full absolute object-cover",ref_key:"foreGround",ref:o},null,8,ij),[[h]]),Qe(Ee("img",{src:Ae(W9),class:"w-full h-full absolute object-cover",ref_key:"frontTrees",ref:r},null,8,sj),[[h]])])}}},aj="/Portfolio/Logos/Tensorflow.svg",oj="/Portfolio/Logos/Scratch.png",lj="/Portfolio/Logos/First.png",cj="/Portfolio/Logos/Ubuntu.png",uj="/Portfolio/Logos/UmdLoop.png",dj=["src"],hj=["src"],fj=["src"],mj=["src"],pj=["src"],vj={__name:"timeline",setup(t){return(e,n)=>{const i=Ia("v-card-subtitle"),s=Ia("v-col"),r=Ia("v-row"),a=Ia("v-card"),o=Ia("v-timeline-item"),l=Ia("v-timeline"),c=Ia("v-app"),u=yn("motion-pop"),d=yn("motion-slide-visible-right"),h=yn("motion-fade");return tt(),sn(c,{class:"bg-transparent ml-8 mr-8"},{default:Je(()=>[M(l,{class:"","line-color":"white","line-thickness":"3"},{default:Je(()=>[M(o,{class:"",size:"large","dot-color":"#1A1644"},{icon:Je(()=>[Qe(Ee("img",{src:Ae(uj)},null,8,dj),[[u]])]),default:Je(()=>[Qe((tt(),sn(a,{tile:""},{default:Je(()=>[M(r,{align:"start",class:"bg-foreground shadow-2xl"},{default:Je(()=>[M(s,null,{default:Je(()=>[n[1]||(n[1]=Ee("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"UMD Loop Software Engineer ",-1)),n[2]||(n[2]=Ee("div",{class:"text-white font-semibold p-6"},[Ee("li",null," Collaborated with 5 people to complete robotics challenges including corner detection and creating a hardware interface "),Ee("li",null," Implemented Harris Corner Detection algo in python by utilizing linear alg and cv2 to determine sharp corners in an image "),Ee("li",null," Constructed result by using k-means clustering to find large corner groups and plotted red circles onto the image at same cords ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:Je(()=>n[0]||(n[0]=[gn("2024-Present")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1}),M(o,{class:"",size:"large","dot-color":"#1A1644"},{icon:Je(()=>[Qe(Ee("img",{src:Ae(aj)},null,8,hj),[[u]])]),default:Je(()=>[Qe((tt(),sn(a,{tile:""},{default:Je(()=>[M(r,{align:"start",class:"bg-foreground shadow-2xl"},{default:Je(()=>[M(s,null,{default:Je(()=>[n[4]||(n[4]=Ee("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"AI Club Vice President",-1)),n[5]||(n[5]=Ee("div",{class:"text-white font-semibold p-6"},[Ee("li",null," Organized lessons relating to machine learning, artificial intelligence, and Python to allow for better student engagement "),Ee("li",null," Trained YoloV5 ML model with PyTorch by labeling data, then setting weights and biases to differentiate food in a photo "),Ee("li",null," Created a chatbot w/ GUI utilizing open AI whisper and Chat-GPT API to convert verbal input into text in several languages "),Ee("li",null," Implemented flappy-bird project w/ Keras API, utilizing a genetic algorithm allowing birds to pass down beneficial traits ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:Je(()=>n[3]||(n[3]=[gn("2021-2023")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1}),Qe((tt(),sn(o,{size:"large","dot-color":"#1A1644"},{icon:Je(()=>[Qe(Ee("img",{src:Ae(lj)},null,8,fj),[[u]])]),default:Je(()=>[Qe((tt(),sn(a,{tile:""},{default:Je(()=>[M(r,{align:"start",class:"bg-foreground"},{default:Je(()=>[M(s,null,{default:Je(()=>[n[7]||(n[7]=Ee("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"Robotics Software Co-lead",-1)),n[8]||(n[8]=Ee("div",{class:"text-white font-semibold p-6"},[Ee("li",null," Collaborated with team to build and program robot in order to compete in the FTC robotics competition "),Ee("li",null," Taught new members computer science concepts in Java including OOD principles and set up procedures for the robot "),Ee("li",null," Utilized color detection to automate parking and picking up cones for the FTC competition ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:Je(()=>n[6]||(n[6]=[gn("2022-2023")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1})),[[h]]),Qe((tt(),sn(o,{size:"large","dot-color":"#1A1644"},{icon:Je(()=>[Qe(Ee("img",{src:Ae(oj)},null,8,mj),[[u]])]),default:Je(()=>[Qe((tt(),sn(a,{class:"mb-2",tile:""},{default:Je(()=>[M(r,{align:"start",class:"bg-foreground"},{default:Je(()=>[M(s,null,{default:Je(()=>[n[10]||(n[10]=Ee("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"CS Summer Camp Tutor",-1)),n[11]||(n[11]=Ee("div",{class:"text-white font-semibold p-6"},[Ee("li",null," Tutored 10 kids ages 5-10 in basic computer science concepts including debugging, variables, and conditionals "),Ee("li",null," Utilized various tools to improve computer science understanding including Scratch, Edblocks, and Edscratch "),Ee("li",null," Organized activities for kids to program Edison robots for various activities including soccer, battles, and maze traversal ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:Je(()=>n[9]||(n[9]=[gn("2022")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1})),[[h]]),Qe((tt(),sn(o,{size:"large","dot-color":"#1A1644"},{icon:Je(()=>[Qe(Ee("img",{src:Ae(cj)},null,8,pj),[[u]])]),default:Je(()=>[Qe((tt(),sn(a,{tile:""},{default:Je(()=>[M(r,{align:"start",class:"bg-foreground"},{default:Je(()=>[M(s,null,{default:Je(()=>[n[13]||(n[13]=Ee("h1",{class:"text-white font-bold text-4xl text-center pt-4 text-shadow shadow-black"},"Coding Club Lead",-1)),n[14]||(n[14]=Ee("div",{class:"text-white font-semibold p-6"},[Ee("li",null," Inventoried and recorded problems with 15 laptops including defective hard drives, motherboards, batteries, and RAM "),Ee("li",null," Repaired computers by replacing parts, and installing Ubuntu operating system to improve system performance ")],-1)),M(i,{class:"bg-slate-500 text-white"},{default:Je(()=>n[12]||(n[12]=[gn("2021")])),_:1})]),_:1})]),_:1})]),_:1})),[[d]])]),_:1})),[[h]])]),_:1})]),_:1})}}},gj="/Portfolio/Models/Skills/PythonBall.glb",yj="/Portfolio/Models/Skills/JavaBall.glb",bj="/Portfolio/Models/Skills/JavaScriptBall.glb",_j="/Portfolio/Models/Skills/HTMLBall.glb",xj="/Portfolio/Models/Skills/CSSBall.glb",wj="/Portfolio/Models/Skills/GithubBall.glb",Sj="/Portfolio/Models/Skills/CSharpBall.glb",Mj="/Portfolio/Models/Skills/BlenderBall.glb",Cj="/Portfolio/Models/Skills/UnityBall.glb",Tj="/Portfolio/Models/Skills/VueBall.glb",Ej={position:[-6,0,-2]},Aj={position:[-3,0,-2]},Pj={position:[0,0,-2]},Ij={position:[-6,0,2]},Rj={position:[-3,0,2]},Lj={position:[0,0,2]},kj={position:[3,0,2]},Dj={position:[3,0,-2]},Oj={position:[6,0,2]},Nj={position:[6,0,-2]},Vj={class:"font-medium text-center mt-5 text-shadow shadow-black text-lg"},Fj={class:"font-medium text-center mt-5 text-shadow shadow-black text-md"},Bj={__name:"skills",setup(t){return(e,n)=>{const i=yn("motion-slide-visible-bottom"),s=yn("motion-slide-visible-left");return tt(),zt(We,null,[Qe((tt(),sn(Ae(QP),{alpha:""},{default:Je(()=>[n[0]||(n[0]=Ee("TresPerspectiveCamera",{position:[0,10,0],"look-at":[0,10,0]},null,-1)),M(Ae(oR),{"enable-pan":!1,"max-polar-angle":1.4,"min-polar-angle":-1.4,"max-azimuth-angle":.4,"min-azimuth-angle":-.4,"enable-zoom":!1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Ej,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(yj)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Aj,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(gj)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Pj,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(bj)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Ij,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(_j)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Rj,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(xj)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Lj,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(wj)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",kj,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(Sj)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Dj,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(Mj)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Oj,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(Cj)},null,8,["path"])]),_:1}))])]),_:1}),M(Ae(Js),{"rotation-factor":"0.2",speed:"3","float-factor":"5"},{default:Je(()=>[Ee("TresMesh",Nj,[(tt(),sn(bs,null,{default:Je(()=>[M(Ae(Os),{path:Ae(Tj)},null,8,["path"])]),_:1}))])]),_:1}),n[1]||(n[1]=Ee("TresAmbientLight",{intensity:1},null,-1)),n[2]||(n[2]=Ee("TresDirectionalLight",{intensity:2,position:[0,5,2]},null,-1)),n[3]||(n[3]=Ee("TresDirectionalLight",{intensity:1,position:[6,-15,-2]},null,-1))]),_:1})),[[i]]),Qe((tt(),zt("p",Vj,n[4]||(n[4]=[gn("Java, Python, JavaScript, Blender, Vue, HTML, CSS, Github, C#, Unity ")]))),[[s]]),Qe((tt(),zt("p",Fj,n[5]||(n[5]=[gn("Typescript, React, C, Git, SQL ")]))),[[s]])],64)}}};class sr{constructor(e,n={}){if(!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(n),this.reverse=this.settings.reverse?-1:1,this.resetToStart=sr.isSettingTrue(this.settings["reset-to-start"]),this.glare=sr.isSettingTrue(this.settings.glare),this.glarePrerender=sr.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=sr.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=sr.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),this.resetToStart===!1&&(this.settings.startX=0,this.settings.startY=0)}static isSettingTrue(e){return e===""||e===!0||e===1}getElementListener(){if(this.fullPageListening)return window.document;if(typeof this.settings["mouse-event-element"]=="string"){const e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}addEventListeners(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}removeEventListeners(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}destroy(){clearTimeout(this.transitionTimeout),this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.element.style.willChange="",this.element.style.transition="",this.element.style.transform="",this.resetGlare(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}onDeviceOrientation(e){if(e.gamma===null||e.beta===null)return;this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,this.gammazero===null?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);const n=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,i=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,s=n/this.width,r=i/this.height,a=e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero),o=e.beta-(this.settings.gyroscopeMinAngleY+this.betazero),l=a/s,c=o/r;this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.event={clientX:l+this.left,clientY:c+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}onMouseEnter(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}onMouseMove(e){this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}onMouseLeave(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}reset(){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};let e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}resetGlare(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}getValues(){let e,n;this.fullPageListening?(e=this.event.clientX/this.clientWidth,n=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,n=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),n=Math.min(Math.max(n,0),1);let i=(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),s=(this.reverse*(n*this.settings.max*2-this.settings.max)).toFixed(2),r=Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI);return{tiltX:i,tiltY:s,percentageX:e*100,percentageY:n*100,angle:r}}updateElementPosition(){let e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}update(){let e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:e.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform=`rotate(${e.angle}deg) translate(-50%, -50%)`,this.glareElement.style.opacity=`${e.percentageY*this.settings["max-glare"]/100}`),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}prepareGlare(){if(!this.glarePrerender){const e=document.createElement("div");e.classList.add("js-tilt-glare");const n=document.createElement("div");n.classList.add("js-tilt-glare-inner"),e.appendChild(n),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),!this.glarePrerender&&(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none","border-radius":"inherit"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())}updateGlareSize(){if(this.glare){const e=(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight)*2;Object.assign(this.glareElement.style,{width:`${e}px`,height:`${e}px`})}}updateClientSize(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}onWindowResize(){this.updateGlareSize(),this.updateClientSize()}setTransition(){clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition=`opacity ${this.settings.speed}ms ${this.settings.easing}`),this.transitionTimeout=setTimeout(()=>{this.element.style.transition="",this.glare&&(this.glareElement.style.transition="")},this.settings.speed)}extendSettings(e){let n={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,"reset-to-start":!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},i={};for(var s in n)if(s in e)i[s]=e[s];else if(this.element.hasAttribute("data-tilt-"+s)){let r=this.element.getAttribute("data-tilt-"+s);try{i[s]=JSON.parse(r)}catch{i[s]=r}}else i[s]=n[s];return i}static init(e,n){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach(i=>{"vanillaTilt"in i||(i.vanillaTilt=new sr(i,n))})}}typeof document<"u"&&(window.VanillaTilt=sr,sr.init(document.querySelectorAll("[data-tilt]")));const Uj=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},zj={name:"Tilt",data:function(){return{}},mounted(){sr.init(this.$refs.tiltRef,this.options)},props:{options:Object,parallax:Boolean}};function Hj(t,e,n,i,s,r){return tt(),zt("div",{class:jd(n.parallax?"preserve":""),id:"tiltMe",ref:"tiltRef"},[$b(t.$slots,"default")],2)}const lc=Uj(zj,[["render",Hj]]),Gj="/Portfolio/Logos/Unity.png",Wj="/Portfolio/Logos/cs50.jpeg",$j="/Portfolio/Logos/TTT.png",jj="/Portfolio/Logos/Battleship.png",Xj="/Portfolio/Logos/Canvas.png",Yj="/Portfolio/Logos/BackTesting.png",qj={class:"flex flex-row"},Kj={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},Zj={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},Jj={class:"flex items-center"},Qj=["src"],e7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},t7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},n7={class:"flex items-center"},i7=["src"],s7={class:"flex flex-row"},r7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},a7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},o7={class:"flex items-center"},l7=["src"],c7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},u7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},d7={class:"flex items-center"},h7=["src"],f7={class:"flex flex-row"},m7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},p7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},v7={class:"flex items-center"},g7=["src"],y7={class:"w-50 h-50 m-8 p-4 rounded shadow-2xl bg-charcoal-600 card bg-foreground"},b7={class:"p-3 rounded shadow-2xl bg-charcoal-600 card bg-white"},_7={class:"flex items-center"},x7=["src"],w7={__name:"projects",setup(t){return(e,n)=>{const i=yn("motion-slide-visible-left"),s=yn("motion-slide-visible-right");return tt(),zt(We,null,[Ee("div",qj,[Qe((tt(),zt("div",Kj,[M(Ae(lc),null,{default:Je(()=>[Ee("div",Zj,[n[1]||(n[1]=Ee("h1",{class:"mb-2 text-2xl font-bold"},"Canvas-AI Chrome Extension(Palette)",-1)),Ee("section",Jj,[Ee("img",{src:Ae(Xj),class:"w-8 h-8 mr-4 rounded"},null,8,Qj),n[0]||(n[0]=Ee("h2",{class:"font-2xl"},"2024-Present",-1))]),n[2]||(n[2]=Ee("li",null," Creating fluid and reactive UI to display text input and responses utilizing Typescript with React and Tailwind css ",-1)),n[3]||(n[3]=Ee("li",null," Utilizing Python web scrapper with Canvas LMS API to allow users to collect information about their canvas courses ",-1)),n[4]||(n[4]=Ee("li",null," Hosting llama llm locally on linux cloud vm allowing constant access across several different devices ",-1)),n[5]||(n[5]=Ee("li",null," Passing in canvas data along with user query into llama llm to generate responses relating to canvas info ",-1))])]),_:1})])),[[i]]),Qe((tt(),zt("div",e7,[M(Ae(lc),null,{default:Je(()=>[Ee("div",t7,[n[7]||(n[7]=Ee("h1",{class:"mb-2 text-2xl font-bold"},"Apex Quant Backtesting Engine ",-1)),Ee("section",n7,[Ee("img",{src:Ae(Yj),class:"w-8 h-8 mr-4 rounded"},null,8,i7),n[6]||(n[6]=Ee("h2",{class:"font-2xl"},"2024-Present",-1))]),n[8]||(n[8]=Ee("li",null," Obtaining Forex pair price data using Yahoo Finance and processing with Pandas data frame for simplified manipulation ",-1)),n[9]||(n[9]=Ee("li",null," Calculating long and short-term moving average to simulate trading strategy which holds and sells based on average crossovers ",-1)),n[10]||(n[10]=Ee("li",null," Implementing risk management strategy which limits position size based on capital and stops trading if loss exceeds a threshold ",-1)),n[11]||(n[11]=Ee("li",null," Plotting equity curve with Matplotlib and calculating key statistics including winning percentage and total profit/loss ",-1))])]),_:1})])),[[s]])]),Ee("div",s7,[Qe((tt(),zt("div",r7,[M(Ae(lc),null,{default:Je(()=>[Ee("div",a7,[n[13]||(n[13]=Ee("h1",{class:"mb-2 text-2xl font-bold"},"Unity Parkour Game",-1)),Ee("section",o7,[Ee("img",{src:Ae(Gj),class:"w-8 h-8 mr-4 rounded"},null,8,l7),n[12]||(n[12]=Ee("h2",{class:"font-2xl"},"2022-2023",-1))]),n[14]||(n[14]=Ee("li",null," Collaborated with two team members to create a 3d parkour game using C# in the unity game engine ",-1)),n[15]||(n[15]=Ee("li",null," Rapidly prototyped new iterations for project ideas with team members by utilizing git repositories and version control ",-1)),n[16]||(n[16]=Ee("li",null," Developed character movement abilities and player controls including wall running, jumping, and sliding ",-1)),n[17]||(n[17]=Ee("li",null," Rigged up character model to allow for smooth animation transitions between different movement positions and actions ",-1))])]),_:1})])),[[i]]),Qe((tt(),zt("div",c7,[M(Ae(lc),null,{default:Je(()=>[Ee("div",u7,[n[19]||(n[19]=Ee("h1",{class:"mb-2 text-2xl font-bold"},"Harvard’s CS50X",-1)),Ee("section",d7,[Ee("img",{src:Ae(Wj),class:"w-8 h-8 mr-4 rounded"},null,8,h7),n[18]||(n[18]=Ee("h2",{class:"font-2xl"},"2022",-1))]),n[20]||(n[20]=Ee("li",null," Completed an online CS course that covered several topics including C, algorithms, and web design ",-1)),n[21]||(n[21]=Ee("li",null," Created a stock trading website using python, flask, and SQL, allowed users to buy and sell simulated stocks based on real data ",-1)),n[22]||(n[22]=Ee("li",null," Manipulated pixels in an image by utilizing image algorithms in C to achieve effects including grayscale, blur, and outlines. ",-1)),n[23]||(n[23]=Ee("li",null," Learned to encrypt and decrypt data in C utilizing some common cipher technique including substitution cipher and Caesar shift ",-1))])]),_:1})])),[[s]])]),Ee("div",f7,[Qe((tt(),zt("div",m7,[M(Ae(lc),null,{default:Je(()=>[Ee("div",p7,[n[25]||(n[25]=Ee("h1",{class:"mb-2 text-2xl font-bold"},"Tic Tac Toe Bot",-1)),Ee("section",v7,[Ee("img",{src:Ae($j),class:"w-8 h-8 mr-4 rounded"},null,8,g7),n[24]||(n[24]=Ee("h2",{class:"font-2xl"},"2020",-1))]),n[26]||(n[26]=Ee("li",null," Created an interactive, terminal-based tic tac toe game using Java where a player can compete against the computer ",-1)),n[27]||(n[27]=Ee("li",null," Utilized minimax algorithm to allow computer to always select the most optimal move, leading to a win or draw every game ",-1))])]),_:1})])),[[i]]),Ee("div",y7,[M(Ae(lc),null,{default:Je(()=>[Qe((tt(),zt("div",b7,[n[29]||(n[29]=Ee("h1",{class:"mb-2 text-2xl font-bold"},"Battleship",-1)),Ee("section",_7,[Ee("img",{src:Ae(jj),class:"w-8 h-8 mr-4 rounded"},null,8,x7),n[28]||(n[28]=Ee("h2",{class:"font-2xl"},"2023",-1))]),n[30]||(n[30]=Ee("li",null," Created terminal-based battleship game utilizing polymorphism to create classes for several separate ship and player types ",-1)),n[31]||(n[31]=Ee("li",null," Allowed players to play against a bot and implemented hunt algorithm to improve average performance over random guesses ",-1))])),[[s]])]),_:1})])])],64)}}},S7={class:"w-screen h-screen flex flex-row mt-40"},M7={class:"w-1/2 ml-10 mr-10 p-10"},C7={class:"text-8xl font-bold text-shadow shadow-black text-center"},T7={class:"font-medium text-shadow shadow-black text-lg p-2 text-center"},E7={class:"font-medium text-shadow shadow-black text-lg p-2 text-center"},A7={class:"w-1/2"},P7={class:"flex justify-center"},I7={class:"text-8xl font-bold text-shadow shadow-black mt-5"},R7={class:"flex justify-center"},L7={class:"text-8xl font-bold text-shadow shadow-black mb-10"},k7={class:"h-screen w-screen"},D7={class:"h-1/2"},O7={class:"flex justify-center"},N7={class:"text-8xl font-bold text-shadow shadow-black mb-10"},V7={__name:"App",setup(t){return(e,n)=>{const i=yn("motion-pop-visible"),s=yn("motion-slide-visible-left");return tt(),zt(We,null,[M(rj),n[7]||(n[7]=Ee("div",{class:"h-64 bg-gradient-to-b from-foreground from-0% to-background"},null,-1)),Ee("div",{class:"logo",style:$d({backgroundImage:`url(${Ae(UO)})`})},null,4),Ee("div",S7,[Ee("div",M7,[Qe((tt(),zt("h1",C7,n[0]||(n[0]=[gn("About Me")]))),[[i]]),Qe((tt(),zt("p",T7,n[1]||(n[1]=[gn(" I am a Sophomore majoring in computer science and mathematics at the university of Maryland, College Park. I have experience utilizing a variety of languages and frameworks in software projects including HTML/CSS, Javascript/Typescript, Python, Java, C, C#, Unity, SQL, Vue, and React. ")]))),[[s]]),n[3]||(n[3]=Ee("br",null,null,-1)),Qe((tt(),zt("p",E7,n[2]||(n[2]=[gn(" I am passionate about learning new technologies and I am always looking for new ways to utilize my skills. I believe that computer science is a field with endless opportunities and I hope to continue improving as a developer so I can make an impact in the industry. ")]))),[[s]])]),Ee("div",A7,[M(G9)])]),Ee("div",P7,[Qe((tt(),zt("h1",I7,n[4]||(n[4]=[gn(" Experiences ")]))),[[i]])]),M(vj),Ee("div",R7,[Qe((tt(),zt("h1",L7,n[5]||(n[5]=[gn(" Skills ")]))),[[i]])]),(tt(),sn(bs,null,{default:Je(()=>[Ee("div",k7,[Ee("div",D7,[M(Bj)])])]),_:1})),Ee("div",O7,[Qe((tt(),zt("h1",N7,n[6]||(n[6]=[gn(" Projects ")]))),[[i]])]),M(w7)],64)}}};function My(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function D0(t,e,n=".",i){if(!My(e))return D0(t,{},n,i);const s=Object.assign({},e);for(const r in t){if(r==="__proto__"||r==="constructor")continue;const a=t[r];a!=null&&(i&&i(s,r,a,n)||(Array.isArray(a)&&Array.isArray(s[r])?s[r]=[...a,...s[r]]:My(a)&&My(s[r])?s[r]=D0(a,s[r],(n?`${n}.`:"")+r.toString(),i):s[r]=a))}return s}function F7(t){return(...e)=>e.reduce((n,i)=>D0(n,i,"",t),{})}const cR=F7(),uR=1/60*1e3,B7=typeof performance<"u"?()=>performance.now():()=>Date.now(),dR=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(B7()),uR);function U7(t){let e=[],n=[],i=0,s=!1,r=!1;const a=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const d=u&&s,h=d?e:n;return c&&a.add(l),h.indexOf(l)===-1&&(h.push(l),d&&s&&(i=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),a.delete(l)},process:l=>{if(s){r=!0;return}if(s=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let c=0;c<i;c++){const u=e[c];u(l),a.has(u)&&(o.schedule(u),t())}s=!1,r&&(r=!1,o.process(l))}};return o}const z7=40;let O0=!0,Rd=!1,N0=!1;const Rc={delta:0,timestamp:0},yh=["read","update","preRender","render","postRender"],xv=yh.reduce((t,e)=>(t[e]=U7(()=>Rd=!0),t),{}),V0=yh.reduce((t,e)=>{const n=xv[e];return t[e]=(i,s=!1,r=!1)=>(Rd||W7(),n.schedule(i,s,r)),t},{}),H7=yh.reduce((t,e)=>(t[e]=xv[e].cancel,t),{});yh.reduce((t,e)=>(t[e]=()=>xv[e].process(Rc),t),{});const G7=t=>xv[t].process(Rc),hR=t=>{Rd=!1,Rc.delta=O0?uR:Math.max(Math.min(t-Rc.timestamp,z7),1),Rc.timestamp=t,N0=!0,yh.forEach(G7),N0=!1,Rd&&(O0=!1,dR(hR))},W7=()=>{Rd=!0,O0=!0,N0||dR(hR)},fR=()=>Rc;function mR(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}var tC=function(){};const F0=(t,e,n)=>Math.min(Math.max(n,t),e),Cy=.001,$7=.01,j7=10,X7=.05,Y7=1;function q7({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let s,r,a=1-e;a=F0(X7,Y7,a),t=F0($7,j7,t/1e3),a<1?(s=c=>{const u=c*a,d=u*t,h=u-n,f=B0(c,a),m=Math.exp(-d);return Cy-h/f*m},r=c=>{const d=c*a*t,h=d*n+n,f=Math.pow(a,2)*Math.pow(c,2)*t,m=Math.exp(-d),v=B0(Math.pow(c,2),a);return(-s(c)+Cy>0?-1:1)*((h-f)*m)/v}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Cy+u*d},r=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const o=5/t,l=Z7(s,r,o);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:t}}}const K7=12;function Z7(t,e,n){let i=n;for(let s=1;s<K7;s++)i=i-t(i)/e(i);return i}function B0(t,e){return t*Math.sqrt(1-e*e)}const J7=["duration","bounce"],Q7=["stiffness","damping","mass"];function nC(t,e){return e.some(n=>t[n]!==void 0)}function eX(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!nC(t,Q7)&&nC(t,J7)){const n=q7(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Ax(t){var{from:e=0,to:n=1,restSpeed:i=2,restDelta:s}=t,r=mR(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:e};let{stiffness:o,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:h}=eX(r),f=iC,m=iC;function v(){const p=u?-(u/1e3):0,g=n-e,y=l/(2*Math.sqrt(o*c)),x=Math.sqrt(o/c)/1e3;if(s===void 0&&(s=Math.min(Math.abs(n-e)/100,.4)),y<1){const w=B0(x,y);f=E=>{const C=Math.exp(-y*x*E);return n-C*((p+y*x*g)/w*Math.sin(w*E)+g*Math.cos(w*E))},m=E=>{const C=Math.exp(-y*x*E);return y*x*C*(Math.sin(w*E)*(p+y*x*g)/w+g*Math.cos(w*E))-C*(Math.cos(w*E)*(p+y*x*g)-w*g*Math.sin(w*E))}}else if(y===1)f=w=>n-Math.exp(-x*w)*(g+(p+x*g)*w);else{const w=x*Math.sqrt(y*y-1);f=E=>{const C=Math.exp(-y*x*E),A=Math.min(w*E,300);return n-C*((p+y*x*g)*Math.sinh(A)+w*g*Math.cosh(A))/w}}}return v(),{next:p=>{const g=f(p);if(h)a.done=p>=d;else{const y=m(p)*1e3,x=Math.abs(y)<=i,w=Math.abs(n-g)<=s;a.done=x&&w}return a.value=a.done?n:g,a},flipTarget:()=>{u=-u,[e,n]=[n,e],v()}}}Ax.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const iC=t=>0,pR=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Px=(t,e,n)=>-n*t+n*e+t,vR=(t,e)=>n=>Math.max(Math.min(n,e),t),rd=t=>t%1?Number(t.toFixed(5)):t,Ld=/(-)?([\d]*\.?[\d])+/g,U0=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tX=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bh(t){return typeof t=="string"}const _h={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ad=Object.assign(Object.assign({},_h),{transform:vR(0,1)}),zf=Object.assign(Object.assign({},_h),{default:1}),Ix=t=>({test:e=>bh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mo=Ix("deg"),od=Ix("%"),Mt=Ix("px"),sC=Object.assign(Object.assign({},od),{parse:t=>od.parse(t)/100,transform:t=>od.transform(t*100)}),Rx=(t,e)=>n=>!!(bh(n)&&tX.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),gR=(t,e,n)=>i=>{if(!bh(i))return i;const[s,r,a,o]=i.match(Ld);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Bo={test:Rx("hsl","hue"),parse:gR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+od.transform(rd(e))+", "+od.transform(rd(n))+", "+rd(ad.transform(i))+")"},nX=vR(0,255),Ty=Object.assign(Object.assign({},_h),{transform:t=>Math.round(nX(t))}),Ua={test:Rx("rgb","red"),parse:gR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Ty.transform(t)+", "+Ty.transform(e)+", "+Ty.transform(n)+", "+rd(ad.transform(i))+")"};function iX(t){let e="",n="",i="",s="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),i=t.substr(5,2),s=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),i=t.substr(3,1),s=t.substr(4,1),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const z0={test:Rx("#"),parse:iX,transform:Ua.transform},Xi={test:t=>Ua.test(t)||z0.test(t)||Bo.test(t),parse:t=>Ua.test(t)?Ua.parse(t):Bo.test(t)?Bo.parse(t):z0.parse(t),transform:t=>bh(t)?t:t.hasOwnProperty("red")?Ua.transform(t):Bo.transform(t)},yR="${c}",bR="${n}";function sX(t){var e,n,i,s;return isNaN(t)&&bh(t)&&((n=(e=t.match(Ld))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((s=(i=t.match(U0))===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0)>0}function _R(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const i=t.match(U0);i&&(n=i.length,t=t.replace(U0,yR),e.push(...i.map(Xi.parse)));const s=t.match(Ld);return s&&(t=t.replace(Ld,bR),e.push(...s.map(_h.parse))),{values:e,numColors:n,tokenised:t}}function xR(t){return _R(t).values}function wR(t){const{values:e,numColors:n,tokenised:i}=_R(t),s=e.length;return r=>{let a=i;for(let o=0;o<s;o++)a=a.replace(o<n?yR:bR,o<n?Xi.transform(r[o]):rd(r[o]));return a}}const rX=t=>typeof t=="number"?0:t;function aX(t){const e=xR(t);return wR(t)(e.map(rX))}const xh={test:sX,parse:xR,createTransformer:wR,getAnimatableNone:aX},oX=new Set(["brightness","contrast","saturate","opacity"]);function lX(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Ld)||[];if(!i)return t;const s=n.replace(i,"");let r=oX.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const cX=/([a-z-]*)\(.*?\)/g,H0=Object.assign(Object.assign({},xh),{getAnimatableNone:t=>{const e=t.match(cX);return e?e.map(lX).join(" "):t}});function Ey(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rC({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,a=0;if(!e)s=r=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=Ey(l,o,t+1/3),r=Ey(l,o,t),a=Ey(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}const uX=(t,e,n)=>{const i=t*t,s=e*e;return Math.sqrt(Math.max(0,n*(s-i)+i))},dX=[z0,Ua,Bo],aC=t=>dX.find(e=>e.test(t)),SR=(t,e)=>{let n=aC(t),i=aC(e),s=n.parse(t),r=i.parse(e);n===Bo&&(s=rC(s),n=Ua),i===Bo&&(r=rC(r),i=Ua);const a=Object.assign({},s);return o=>{for(const l in a)l!=="alpha"&&(a[l]=uX(s[l],r[l],o));return a.alpha=Px(s.alpha,r.alpha,o),n.transform(a)}},hX=t=>typeof t=="number",fX=(t,e)=>n=>e(t(n)),MR=(...t)=>t.reduce(fX);function CR(t,e){return hX(t)?n=>Px(t,e,n):Xi.test(t)?SR(t,e):ER(t,e)}const TR=(t,e)=>{const n=[...t],i=n.length,s=t.map((r,a)=>CR(r,e[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}},mX=(t,e)=>{const n=Object.assign(Object.assign({},t),e),i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=CR(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}};function oC(t){const e=xh.parse(t),n=e.length;let i=0,s=0,r=0;for(let a=0;a<n;a++)i||typeof e[a]=="number"?i++:e[a].hue!==void 0?r++:s++;return{parsed:e,numNumbers:i,numRGB:s,numHSL:r}}const ER=(t,e)=>{const n=xh.createTransformer(e),i=oC(t),s=oC(e);return i.numHSL===s.numHSL&&i.numRGB===s.numRGB&&i.numNumbers>=s.numNumbers?MR(TR(i.parsed,s.parsed),n):a=>`${a>0?e:t}`},pX=(t,e)=>n=>Px(t,e,n);function vX(t){if(typeof t=="number")return pX;if(typeof t=="string")return Xi.test(t)?SR:ER;if(Array.isArray(t))return TR;if(typeof t=="object")return mX}function gX(t,e,n){const i=[],s=n||vX(t[0]),r=t.length-1;for(let a=0;a<r;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]:e;o=MR(l,o)}i.push(o)}return i}function yX([t,e],[n]){return i=>n(pR(t,e,i))}function bX(t,e){const n=t.length,i=n-1;return s=>{let r=0,a=!1;if(s<=t[0]?a=!0:s>=t[i]&&(r=i-1,a=!0),!a){let l=1;for(;l<n&&!(t[l]>s||l===i);l++);r=l-1}const o=pR(t[r],t[r+1],s);return e[r](o)}}function AR(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;tC(r===e.length),tC(!i||!Array.isArray(i)||i.length===r-1),t[0]>t[r-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const a=gX(e,i,s),o=r===2?yX(t,a):bX(t,a);return n?l=>o(F0(t[0],t[r-1],l)):o}const wv=t=>e=>1-t(1-e),Lx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_X=t=>e=>Math.pow(e,t),PR=t=>e=>e*e*((t+1)*e-t),xX=t=>{const e=PR(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},IR=1.525,wX=4/11,SX=8/11,MX=9/10,RR=t=>t,kx=_X(2),CX=wv(kx),LR=Lx(kx),kR=t=>1-Math.sin(Math.acos(t)),DR=wv(kR),TX=Lx(DR),Dx=PR(IR),EX=wv(Dx),AX=Lx(Dx),PX=xX(IR),IX=4356/361,RX=35442/1805,LX=16061/1805,hp=t=>{if(t===1||t===0)return t;const e=t*t;return t<wX?7.5625*e:t<SX?9.075*e-9.9*t+3.4:t<MX?IX*e-RX*t+LX:10.8*t*t-20.52*t+10.72},kX=wv(hp),DX=t=>t<.5?.5*(1-hp(1-t*2)):.5*hp(t*2-1)+.5;function OX(t,e){return t.map(()=>e||LR).splice(0,t.length-1)}function NX(t){const e=t.length;return t.map((n,i)=>i!==0?i/(e-1):0)}function VX(t,e){return t.map(n=>n*e)}function am({from:t=0,to:e=1,ease:n,offset:i,duration:s=300}){const r={done:!1,value:t},a=Array.isArray(e)?e:[t,e],o=VX(i&&i.length===a.length?i:NX(a),s);function l(){return AR(o,a,{ease:Array.isArray(n)?n:OX(a,n)})}let c=l();return{next:u=>(r.value=c(u),r.done=u>=s,r),flipTarget:()=>{a.reverse(),c=l()}}}function FX({velocity:t=0,from:e=0,power:n=.8,timeConstant:i=350,restDelta:s=.5,modifyTarget:r}){const a={done:!1,value:e};let o=n*t;const l=e+o,c=r===void 0?l:r(l);return c!==l&&(o=c-e),{next:u=>{const d=-o*Math.exp(-u/i);return a.done=!(d>s||d<-s),a.value=a.done?c:c+d,a},flipTarget:()=>{}}}const lC={keyframes:am,spring:Ax,decay:FX};function BX(t){if(Array.isArray(t.to))return am;if(lC[t.type])return lC[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?am:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Ax:am}function OR(t,e,n=0){return t-e-n}function UX(t,e,n=0,i=!0){return i?OR(e+-t,e,n):e-(t-e)+n}function zX(t,e,n,i){return i?t>=e+n:t<=-n}const HX=t=>{const e=({delta:n})=>t(n);return{start:()=>V0.update(e,!0),stop:()=>H7.update(e)}};function NR(t){var e,n,{from:i,autoplay:s=!0,driver:r=HX,elapsed:a=0,repeat:o=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:d,onComplete:h,onRepeat:f,onUpdate:m}=t,v=mR(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:p}=v,g,y=0,x=v.duration,w,E=!1,C=!0,A;const S=BX(v);!((n=(e=S).needsInterpolation)===null||n===void 0)&&n.call(e,i,p)&&(A=AR([0,100],[i,p],{clamp:!1}),i=0,p=100);const _=S(Object.assign(Object.assign({},v),{from:i,to:p}));function b(){y++,l==="reverse"?(C=y%2===0,a=UX(a,x,c,C)):(a=OR(a,x,c),l==="mirror"&&_.flipTarget()),E=!1,f&&f()}function T(){g.stop(),h&&h()}function P(O){if(C||(O=-O),a+=O,!E){const H=_.next(Math.max(0,a));w=H.value,A&&(w=A(w)),E=C?H.done:a<=0}m==null||m(w),E&&(y===0&&(x??(x=a)),y<o?zX(a,x,c,C)&&b():T())}function D(){u==null||u(),g=r(P),g.start()}return s&&D(),{stop:()=>{d==null||d(),g.stop()}}}function VR(t,e){return e?t*(1e3/e):0}function GX({from:t=0,velocity:e=0,min:n,max:i,power:s=.8,timeConstant:r=750,bounceStiffness:a=500,bounceDamping:o=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:h,onStop:f}){let m;function v(x){return n!==void 0&&x<n||i!==void 0&&x>i}function p(x){return n===void 0?i:i===void 0||Math.abs(n-x)<Math.abs(i-x)?n:i}function g(x){m==null||m.stop(),m=NR(Object.assign(Object.assign({},x),{driver:u,onUpdate:w=>{var E;d==null||d(w),(E=x.onUpdate)===null||E===void 0||E.call(x,w)},onComplete:h,onStop:f}))}function y(x){g(Object.assign({type:"spring",stiffness:a,damping:o,restDelta:l},x))}if(v(t))y({from:t,velocity:e,to:p(t)});else{let x=s*e+t;typeof c<"u"&&(x=c(x));const w=p(x),E=w===n?-1:1;let C,A;const S=_=>{C=A,A=_,e=VR(_-C,fR().delta),(E===1&&_>w||E===-1&&_<w)&&y({from:_,to:w,velocity:e})};g({type:"decay",from:t,velocity:e,timeConstant:r,power:s,restDelta:l,modifyTarget:c,onUpdate:v(x)?S:void 0})}return{stop:()=>m==null?void 0:m.stop()}}const FR=(t,e)=>1-3*e+3*t,BR=(t,e)=>3*e-6*t,UR=t=>3*t,fp=(t,e,n)=>((FR(e,n)*t+BR(e,n))*t+UR(e))*t,zR=(t,e,n)=>3*FR(e,n)*t*t+2*BR(e,n)*t+UR(e),WX=1e-7,$X=10;function jX(t,e,n,i,s){let r,a,o=0;do a=e+(n-e)/2,r=fp(a,i,s)-t,r>0?n=a:e=a;while(Math.abs(r)>WX&&++o<$X);return a}const XX=8,YX=.001;function qX(t,e,n,i){for(let s=0;s<XX;++s){const r=zR(e,n,i);if(r===0)return e;const a=fp(e,n,i)-t;e-=a/r}return e}const om=11,Hf=1/(om-1);function KX(t,e,n,i){if(t===e&&n===i)return RR;const s=new Float32Array(om);for(let a=0;a<om;++a)s[a]=fp(a*Hf,t,n);function r(a){let o=0,l=1;const c=om-1;for(;l!==c&&s[l]<=a;++l)o+=Hf;--l;const u=(a-s[l])/(s[l+1]-s[l]),d=o+u*Hf,h=zR(d,t,n);return h>=YX?qX(a,d,t,n):h===0?d:jX(a,o,o+Hf,t,n)}return a=>a===0||a===1?a:fp(r(a),e,i)}const Ay={};var ZX=Object.defineProperty,JX=(t,e,n)=>e in t?ZX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QX=(t,e,n)=>(JX(t,e+"",n),n);class eY{constructor(){QX(this,"subscriptions",new Set)}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,n,i){if(this.subscriptions.size)for(const s of this.subscriptions)s(e,n,i)}clear(){this.subscriptions.clear()}}var tY=Object.defineProperty,nY=(t,e,n)=>e in t?tY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qs=(t,e,n)=>(nY(t,typeof e!="symbol"?e+"":e,n),n);function cC(t){return!Number.isNaN(Number.parseFloat(t))}class iY{constructor(e){Qs(this,"current"),Qs(this,"prev"),Qs(this,"timeDelta",0),Qs(this,"lastUpdated",0),Qs(this,"updateSubscribers",new eY),Qs(this,"stopAnimation"),Qs(this,"canTrackVelocity",!1),Qs(this,"updateAndNotify",n=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:s}=fR();this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s),V0.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)}),Qs(this,"scheduleVelocityCheck",()=>V0.postRender(this.velocityCheck)),Qs(this,"velocityCheck",({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=cC(this.current)),n!==this.lastUpdated&&(this.prev=this.current)}),this.prev=this.current=e,this.canTrackVelocity=cC(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?VR(Number.parseFloat(this.current)-Number.parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{const{stop:i}=e(n);this.stopAnimation=i}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function sY(t){return new iY(t)}const{isArray:rY}=Array;function aY(){const t=he({}),e=i=>{const s=r=>{t.value[r]&&(t.value[r].stop(),t.value[r].destroy(),delete t.value[r])};i?rY(i)?i.forEach(s):s(i):Object.keys(t.value).forEach(s)},n=(i,s,r)=>{if(t.value[i])return t.value[i];const a=sY(s);return a.onChange(o=>r[i]=o),t.value[i]=a,a};return $5(e),{motionValues:t,get:n,stop:e}}function oY(t){return Array.isArray(t)}function Co(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function Py(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function lY(t){return{type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}}function Iy(){return{type:"keyframes",ease:"linear",duration:300}}function cY(t){return{type:"keyframes",duration:800,values:t}}const uC={default:lY,x:Co,y:Co,z:Co,rotate:Co,rotateX:Co,rotateY:Co,rotateZ:Co,scaleX:Py,scaleY:Py,scale:Py,backgroundColor:Iy,color:Iy,opacity:Iy};function HR(t,e){let n;return oY(e)?n=cY:n=uC[t]||uC.default,{to:e,...n(e)}}const dC={..._h,transform:Math.round},GR={color:Xi,backgroundColor:Xi,outlineColor:Xi,fill:Xi,stroke:Xi,borderColor:Xi,borderTopColor:Xi,borderRightColor:Xi,borderBottomColor:Xi,borderLeftColor:Xi,borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,size:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,rotate:Mo,rotateX:Mo,rotateY:Mo,rotateZ:Mo,scale:zf,scaleX:zf,scaleY:zf,scaleZ:zf,skew:Mo,skewX:Mo,skewY:Mo,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:ad,originX:sC,originY:sC,originZ:Mt,zIndex:dC,filter:H0,WebkitFilter:H0,fillOpacity:ad,strokeOpacity:ad,numOctaves:dC},Ox=t=>GR[t];function G0(t,e){return e&&typeof t=="number"&&e.transform?e.transform(t):t}function uY(t,e){let n=Ox(t);return n!==H0&&(n=xh),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dY={linear:RR,easeIn:kx,easeInOut:LR,easeOut:CX,circIn:kR,circInOut:TX,circOut:DR,backIn:Dx,backInOut:AX,backOut:EX,anticipate:PX,bounceIn:kX,bounceInOut:DX,bounceOut:hp};function hC(t){if(Array.isArray(t)){const[e,n,i,s]=t;return KX(e,n,i,s)}else if(typeof t=="string")return dY[t];return t}function hY(t){return Array.isArray(t)&&typeof t[0]!="number"}function fC(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&xh.test(e)&&!e.startsWith("url("))}function fY(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function mY({ease:t,times:e,delay:n,...i}){const s={...i};return e&&(s.offset=e),t&&(s.ease=hY(t)?t.map(hC):hC(t)),n&&(s.elapsed=-n),s}function pY(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),fY(e),vY(t)||(t={...t,...HR(n,e.to)}),{...e,...mY(t)}}function vY({delay:t,repeat:e,repeatType:n,repeatDelay:i,from:s,...r}){return!!Object.keys(r).length}function gY(t,e){return t[e]||t.default||t}function yY(t,e,n,i,s){const r=gY(i,t);let a=r.from===null||r.from===void 0?e.get():r.from;const o=fC(t,n);a==="none"&&o&&typeof n=="string"&&(a=uY(t,n));const l=fC(t,a);function c(d){const h={from:a,to:n,velocity:i.velocity?i.velocity:e.getVelocity(),onUpdate:f=>e.set(f)};return r.type==="inertia"||r.type==="decay"?GX({...h,...r}):NR({...pY(r,h,t),onUpdate:f=>{h.onUpdate(f),r.onUpdate&&r.onUpdate(f)},onComplete:()=>{s&&s(),d&&d()}})}function u(d){return e.set(n),s&&s(),d&&d(),{stop:()=>{}}}return!l||!o||r.type===!1?u:c}function bY(){const{motionValues:t,stop:e,get:n}=aY();return{motionValues:t,stop:e,push:(s,r,a,o={},l)=>{const c=a[s],u=n(s,c,a);if(o&&o.immediate){u.set(r);return}const d=yY(s,u,r,o,l);u.start(d)}}}function _Y(t,e={},{motionValues:n,push:i,stop:s}=bY()){const r=Ae(e),a=he(!1);Pe(n,d=>{a.value=Object.values(d).filter(h=>h.isAnimating()).length>0},{immediate:!0,deep:!0});const o=d=>{if(!r||!r[d])throw new Error(`The variant ${d} does not exist.`);return r[d]},l=d=>{typeof d=="string"&&(d=o(d));const h=Object.entries(d).map(([m,v])=>{if(m!=="transition")return new Promise(p=>i(m,v,t,d.transition||HR(m,d[m]),p))}).filter(Boolean);async function f(){var m,v;await Promise.all(h),(v=(m=d.transition)==null?void 0:m.onComplete)==null||v.call(m)}return Promise.all([f()])};return{isAnimating:a,apply:l,set:d=>{const h=ap(d)?d:o(d);Object.entries(h).forEach(([f,m])=>{f!=="transition"&&i(f,m,t,{immediate:!0})})},leave:async d=>{let h;if(r&&(r.leave&&(h=r.leave),!r.leave&&r.initial&&(h=r.initial)),!h){d();return}await l(h),d()},stop:s}}const Nx=typeof window<"u",xY=()=>Nx&&(window.onpointerdown===null||void 0),wY=()=>Nx&&(window.ontouchstart===null||void 0),SY=()=>Nx&&(window.onmousedown===null||void 0);function MY({target:t,state:e,variants:n,apply:i}){const s=Ae(n),r=he(!1),a=he(!1),o=he(!1),l=L(()=>{let u=[...Object.keys(e.value||{})];return s&&(s.hovered&&(u=[...u,...Object.keys(s.hovered)]),s.tapped&&(u=[...u,...Object.keys(s.tapped)]),s.focused&&(u=[...u,...Object.keys(s.focused)])),u}),c=L(()=>{const u={};Object.assign(u,e.value),r.value&&s.hovered&&Object.assign(u,s.hovered),a.value&&s.tapped&&Object.assign(u,s.tapped),o.value&&s.focused&&Object.assign(u,s.focused);for(const d in u)l.value.includes(d)||delete u[d];return u});s.hovered&&(Ei(t,"mouseenter",()=>r.value=!0),Ei(t,"mouseleave",()=>{r.value=!1,a.value=!1})),s.tapped&&(SY()&&(Ei(t,"mousedown",()=>a.value=!0),Ei(t,"mouseup",()=>a.value=!1)),xY()&&(Ei(t,"pointerdown",()=>a.value=!0),Ei(t,"pointerup",()=>a.value=!1)),wY()&&(Ei(t,"touchstart",()=>a.value=!0),Ei(t,"touchend",()=>a.value=!1))),s.focused&&(Ei(t,"focus",()=>o.value=!0),Ei(t,"blur",()=>o.value=!1)),Pe([r,a,o],()=>{i(c.value)})}function CY({set:t,target:e,variants:n,variant:i}){const s=Ae(n);Pe(()=>e,()=>{s&&(s.initial&&(t("initial"),i.value="initial"),s.enter&&(i.value="enter"))},{immediate:!0,flush:"pre"})}function TY({state:t,apply:e}){Pe(t,n=>{n&&e(n)},{immediate:!0})}function WR({target:t,variants:e,variant:n}){const i=Ae(e);i&&(i.visible||i.visibleOnce)&&Q5(t,([{isIntersecting:s}])=>{i.visible?s?n.value="visible":n.value="initial":i.visibleOnce&&(s&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function EY(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&CY(t),e.syncVariants&&TY(t),e.visibilityHooks&&WR(t),e.eventListeners&&MY(t)}function $R(t={}){const e=wn({...t}),n=he({});return Pe(e,()=>{const i={};for(const[s,r]of Object.entries(e)){const a=Ox(s),o=G0(r,a);i[s]=o}n.value=i},{immediate:!0,deep:!0}),{state:e,style:n}}function Vx(t,e){Pe(()=>Ni(t),n=>{n&&e(n)},{immediate:!0})}const AY={x:"translateX",y:"translateY",z:"translateZ"};function jR(t={},e=!0){const n=wn({...t}),i=he("");return Pe(n,s=>{let r="",a=!1;if(e&&(s.x||s.y||s.z)){const o=[s.x||0,s.y||0,s.z||0].map(l=>G0(l,Mt)).join(",");r+=`translate3d(${o}) `,a=!0}for(const[o,l]of Object.entries(s)){if(e&&(o==="x"||o==="y"||o==="z"))continue;const c=Ox(o),u=G0(l,c);r+=`${AY[o]||o}(${u}) `}e&&!a&&(r+="translateZ(0px) "),i.value=r.trim()},{immediate:!0,deep:!0}),{state:n,transform:i}}const PY=["","X","Y","Z"],IY=["perspective","translate","scale","rotate","skew"],XR=["transformPerspective","x","y","z"];IY.forEach(t=>{PY.forEach(e=>{const n=t+e;XR.push(n)})});const RY=new Set(XR);function Fx(t){return RY.has(t)}const LY=new Set(["originX","originY","originZ"]);function YR(t){return LY.has(t)}function kY(t){const e={},n={};return Object.entries(t).forEach(([i,s])=>{Fx(i)||YR(i)?e[i]=s:n[i]=s}),{transform:e,style:n}}function Sv(t){const{transform:e,style:n}=kY(t),{transform:i}=jR(e),{style:s}=$R(n);return i.value&&(s.value.transform=i.value),s.value}function DY(t,e){let n,i;const{state:s,style:r}=$R();return Vx(t,a=>{i=a;for(const o of Object.keys(GR))a.style[o]===null||a.style[o]===""||Fx(o)||YR(o)||(s[o]=a.style[o]);n&&Object.entries(n).forEach(([o,l])=>a.style[o]=l),e&&e(s)}),Pe(r,a=>{if(!i){n=a;return}for(const o in a)i.style[o]=a[o]},{immediate:!0}),{style:s}}function OY(t){const e=t.trim().split(/\) |\)/);if(e.length===1)return{};const n=i=>i.endsWith("px")||i.endsWith("deg")?Number.parseFloat(i):Number.isNaN(Number(i))?Number(i):i;return e.reduce((i,s)=>{if(!s)return i;const[r,a]=s.split("("),l=a.split(",").map(u=>n(u.endsWith(")")?u.replace(")",""):u.trim())),c=l.length===1?l[0]:l;return{...i,[r]:c}},{})}function NY(t,e){Object.entries(OY(e)).forEach(([n,i])=>{const s=["x","y","z"];if(n==="translate3d"){if(i===0){s.forEach(r=>t[r]=0);return}i.forEach((r,a)=>t[s[a]]=r);return}if(i=Number.parseFloat(`${i}`),n==="translateX"){t.x=i;return}if(n==="translateY"){t.y=i;return}if(n==="translateZ"){t.z=i;return}t[n]=i})}function VY(t,e){let n,i;const{state:s,transform:r}=jR();return Vx(t,a=>{i=a,a.style.transform&&NY(s,a.style.transform),n&&(a.style.transform=n),e&&e(s)}),Pe(r,a=>{if(!i){n=a;return}i.style.transform=a},{immediate:!0}),{transform:s}}function FY(t){return Object.entries(t)}function BY(t,e){const n=wn({}),i=a=>Object.entries(a).forEach(([o,l])=>n[o]=l),{style:s}=DY(t,i),{transform:r}=VY(t,i);return Pe(n,a=>{FY(a).forEach(([o,l])=>{const c=Fx(o)?r:s;c[o]&&c[o]===l||(c[o]=l)})},{immediate:!0,deep:!0}),Vx(t,()=>e),{motionProperties:n,style:s,transform:r}}function UY(t={}){const e=Ae(t),n=he();return{state:L(()=>{if(n.value)return e[n.value]}),variant:n}}function qR(t,e={},n){const{motionProperties:i}=BY(t),{variant:s,state:r}=UY(e),a=_Y(i,e),o={target:t,variant:s,variants:e,state:r,motionProperties:i,...a};return EY(o,n),o}const KR=["delay","duration"],zY=["initial","enter","leave","visible","visible-once","visibleOnce","hovered","tapped","focused",...KR];function HY(t){return KR.includes(t)}function GY(t,e){const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};if(n){n.variants&&ap(n.variants)&&(e.value={...e.value,...n.variants});for(let i of zY)if(!(!n||!n[i])){if(HY(i)&&typeof n[i]=="number"){for(const s of["enter","visible","visibleOnce"]){const r=e.value[s];r!=null&&(r.transition??(r.transition={}),r.transition[i]=n[i])}continue}if(ap(n[i])){const s=n[i];i==="visible-once"&&(i="visibleOnce"),e.value[i]=s}}}}function Ry(t,e=!1){return{created:(s,r,a)=>{const o=r.value&&typeof r.value=="string"?r.value:a.key;o&&Ay[o]&&Ay[o].stop();const l=e?structuredClone(at(t)||{}):t||{},c=he(l);typeof r.value=="object"&&(c.value=r.value),GY(a,c);const d=qR(s,c,{eventListeners:!0,lifeCycleHooks:!0,syncVariants:!0,visibilityHooks:!1});s.motionInstance=d,o&&(Ay[o]=d)},mounted:(s,r,a)=>{s.motionInstance&&WR(s.motionInstance)},getSSRProps(s,r){let{initial:a}=s.value||r&&(r==null?void 0:r.props)||{};a=Ae(a);const o=cR({},(t==null?void 0:t.initial)||{},a||{});return!o||Object.keys(o).length===0?void 0:{style:Sv(o)}}}}const WY={initial:{opacity:0},enter:{opacity:1}},$Y={initial:{opacity:0},visible:{opacity:1}},jY={initial:{opacity:0},visibleOnce:{opacity:1}},XY={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},YY={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},qY={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},KY={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},ZY={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},JY={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},QY={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},eq={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},tq={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},nq={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},iq={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},sq={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},rq={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},aq={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},oq={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},lq={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},cq={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},uq={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},dq={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},hq={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},fq={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},mq={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},pq={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},vq={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},gq={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},yq={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},bq={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},ko={__proto__:null,fade:WY,fadeVisible:$Y,fadeVisibleOnce:jY,pop:XY,popVisible:YY,popVisibleOnce:qY,rollBottom:rq,rollLeft:KY,rollRight:QY,rollTop:nq,rollVisibleBottom:aq,rollVisibleLeft:ZY,rollVisibleOnceBottom:oq,rollVisibleOnceLeft:JY,rollVisibleOnceRight:tq,rollVisibleOnceTop:sq,rollVisibleRight:eq,rollVisibleTop:iq,slideBottom:gq,slideLeft:lq,slideRight:dq,slideTop:mq,slideVisibleBottom:yq,slideVisibleLeft:cq,slideVisibleOnceBottom:bq,slideVisibleOnceLeft:uq,slideVisibleOnceRight:fq,slideVisibleOnceTop:vq,slideVisibleRight:hq,slideVisibleTop:pq};function _q(t){const e="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",i=new RegExp(e.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,s=>`-${s}`).toLowerCase().replace(/\s+/g,"-").replace(i,s=>n.charAt(e.indexOf(s))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const ZR=Symbol(import.meta.dev?"motionCustomPresets":""),JR={preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1},duration:{type:[Number,String],required:!1}};function xq(t){return Object.prototype.toString.call(t)==="[object Object]"}function W0(t){if(Array.isArray(t))return t.map(W0);if(xq(t)){const e={};for(const n in t)e[n]=W0(t[n]);return e}return t}function QR(t){const e=wn({}),n=xt(ZR,{}),i=L(()=>t.preset==null?{}:n!=null&&t.preset in n?structuredClone(at(n)[t.preset]):t.preset in ko?structuredClone(ko[t.preset]):{}),s=L(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused}));function r(l,c){for(const u of["delay","duration"]){if(c[u]==null)continue;const d=Number.parseInt(c[u]);for(const h of["enter","visible","visibleOnce"]){const f=l[h];f!=null&&(f.transition??(f.transition={}),f.transition[u]=d)}}return l}const a=L(()=>{const l=cR({},s.value,i.value,t.variants||{});return r({...l},t)});if(import.meta.dev){t.preset!=null&&(ko==null?void 0:ko[t.preset])==null&&(n==null?void 0:n[t.preset])==null&&console.warn(`[@vueuse/motion]: Preset \`${t.preset}\` not found.`);const l=c=>{var u;(u=c.variants)!=null&&u.initial&&c.set("initial"),Rt(()=>{var d,h,f;(d=c.variants)!=null&&d.enter&&c.apply("enter"),(h=c.variants)!=null&&h.visible&&c.apply("visible"),(f=c.variants)!=null&&f.visibleOnce&&c.apply("visibleOnce")})};Rp(()=>{for(const c in e)l(e[c])})}function o(l,c,u){var d;l.props??(l.props={}),(d=l.props).style??(d.style={}),l.props.style={...l.props.style,...u};const h=r(W0(a.value),l.props);return l.props.onVnodeMounted=({el:f})=>{e[c]=qR(f,h)},l.props.onVnodeUpdated=({el:f})=>{const m=Sv(e[c].state);for(const[v,p]of Object.entries(m))f.style[v]=p},l}return{motionConfig:a,setNodeInstance:o}}const wq=Us({name:"Motion",props:{...JR,is:{type:[String,Object],default:"div"}},setup(t){const e=Lp(),{motionConfig:n,setNodeInstance:i}=QR(t);return()=>{const s=Sv(n.value.initial||{}),r=cs(t.is,void 0,e);return i(r,0,s),r}}}),Sq=Us({name:"MotionGroup",props:{...JR,is:{type:[String,Object],required:!1}},setup(t){const e=Lp(),{motionConfig:n,setNodeInstance:i}=QR(t);return()=>{var a;const s=Sv(n.value.initial||{}),r=((a=e.default)==null?void 0:a.call(e))||[];for(let o=0;o<r.length;o++){const l=r[o];l.type===We&&Array.isArray(l.children)?l.children.forEach(function c(u,d){if(u!=null){if(Array.isArray(u)){c(u,d);return}typeof u=="object"&&i(u,d,s)}}):i(l,o,s)}return t.is?cs(t.is,void 0,r):r}}}),Mq={install(t,e){if(t.directive("motion",Ry()),!e||e&&!e.excludePresets)for(const n in ko){const i=ko[n];t.directive(`motion-${_q(n)}`,Ry(i,!0))}if(e&&e.directives)for(const n in e.directives){const i=e.directives[n];!i.initial&&import.meta.dev&&console.warn(`Your directive v-motion-${n} is missing initial variant!`),t.directive(`motion-${n}`,Ry(i,!0))}t.provide(ZR,e==null?void 0:e.directives),t.component("Motion",wq),t.component("MotionGroup",Sq)}};function Fi(t,e){let n;function i(){n=Rb(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}Pe(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),si(()=>{n==null||n.stop()})}const Ot=typeof window<"u",Bx=Ot&&"IntersectionObserver"in window,Cq=Ot&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),mC=Ot&&"EyeDropper"in window;function pC(t,e,n){Tq(t,e),e.set(t,n)}function Tq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Eq(t,e,n){return t.set(e2(t,e),n),n}function To(t,e){return t.get(e2(t,e))}function e2(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function t2(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Mr(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Mr(t[i],e[i]))}function fl(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),t2(t,e.split("."),n))}function Un(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return fl(t,e,n);if(Array.isArray(e))return t2(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function lr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Ve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Ux(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function vC(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function zx(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const gC=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),$0=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function n2(t){return Object.keys(t)}function Uo(t,e){return e.every(n=>t.hasOwnProperty(n))}function Hx(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function j0(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)&&!(n!=null&&n.some(a=>a===r))?i[r]=t[r]:s[r]=t[r];return[i,s]}function On(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function Mv(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const i2=/^on[^a-z]/,Cv=t=>i2.test(t),Aq=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],Pq=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function Iq(t){return t.isComposing&&Pq.includes(t.key)}function to(t){const[e,n]=j0(t,[i2]),i=On(e,Aq),[s,r]=j0(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function pn(t){return t==null?[]:Array.isArray(t)?t:[t]}function Rq(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),Ae(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function Rn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function yC(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function bC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function _C(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function Lq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function xC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function vi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(vC(r)&&vC(a)){i[s]=vi(r,a,n);continue}if(n&&Array.isArray(r)&&Array.isArray(a)){i[s]=n(r,a);continue}i[s]=a}return i}function s2(t){return t.map(e=>e.type===We?s2(e.children):e).flat()}function qo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(qo.cache.has(t))return qo.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return qo.cache.set(t,e),e}qo.cache=new Map;function yc(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>yc(t,n)).flat(1);if(e.suspense)return yc(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>yc(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return yc(t,e.component.subTree).flat(1)}return[]}var Gf=new WeakMap,cc=new WeakMap;class kq{constructor(e){pC(this,Gf,[]),pC(this,cc,0),this.size=e}push(e){To(Gf,this)[To(cc,this)]=e,Eq(cc,this,(To(cc,this)+1)%this.size)}values(){return To(Gf,this).slice(To(cc,this)).concat(To(Gf,this).slice(0,To(cc,this)))}}function Dq(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function Gx(t){const e=wn({}),n=L(t);return qt(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),Hs(e)}function mp(t,e){return t.includes(e)}function r2(t){return t[2].toLowerCase()+t.slice(3)}const ni=()=>[Function,Array];function wC(t,e){return e="on"+br(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function Wx(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function kd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function a2(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function Ko(t,e){var i,s,r,a;const n=kd(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const o=a2(n,e);o?o.focus():Ko(t,e==="next"?"first":"last")}}function Wf(t){return t==null||typeof t=="string"&&t.trim()===""}function o2(){}function Wc(t,e){if(!(Ot&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function Tv(t){return t.some(e=>tl(e)?e.type===Zn?!1:e.type!==We||Tv(e.children):!0)?t:null}function Oq(t,e){if(!Ot||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function Nq(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,o=s.right,l=s.bottom;return n>=r&&n<=o&&i>=a&&i<=l}function pp(){const t=De(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>zx(t.value)}),e}function vp(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}const l2=["top","bottom"],Vq=["start","end","left","right"];function X0(t,e){let[n,i]=t.split(" ");return i||(i=mp(l2,n)?"start":mp(Vq,n)?"top":"center"),{side:Y0(n,e),align:Y0(i,e)}}function Y0(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function Ly(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function ky(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function SC(t){return{side:t.align,align:t.side}}function MC(t){return mp(l2,t.side)?"y":"x"}class Zo{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function CC(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function c2(t){return Array.isArray(t)?new Zo({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function $x(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,o,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],a=+s[5],o=+s[12],l=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],a=+s[3],o=+s[4],l=+s[5];else return new Zo(e);const c=n.transformOrigin,u=e.x-o-(1-r)*parseFloat(c),d=e.y-l-(1-a)*parseFloat(c.slice(c.indexOf(" ")+1)),h=r?e.width/r:t.offsetWidth+1,f=a?e.height/a:t.offsetHeight+1;return new Zo({x:u,y:d,width:h,height:f})}else return new Zo(e)}function zo(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const lm=new WeakMap;function Fq(t,e){Object.keys(e).forEach(n=>{if(Cv(n)){const i=r2(n),s=lm.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),lm.has(t)||lm.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function Bq(t,e){Object.keys(e).forEach(n=>{if(Cv(n)){const i=r2(n),s=lm.get(t);s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))})}else t.removeAttribute(n)})}const uc=2.4,TC=.2126729,EC=.7151522,AC=.072175,Uq=.55,zq=.58,Hq=.57,Gq=.62,$f=.03,PC=1.45,Wq=5e-4,$q=1.25,jq=1.25,IC=.078,RC=12.82051282051282,jf=.06,LC=.001;function kC(t,e){const n=(t.r/255)**uc,i=(t.g/255)**uc,s=(t.b/255)**uc,r=(e.r/255)**uc,a=(e.g/255)**uc,o=(e.b/255)**uc;let l=n*TC+i*EC+s*AC,c=r*TC+a*EC+o*AC;if(l<=$f&&(l+=($f-l)**PC),c<=$f&&(c+=($f-c)**PC),Math.abs(c-l)<Wq)return 0;let u;if(c>l){const d=(c**Uq-l**zq)*$q;u=d<LC?0:d<IC?d-d*RC*jf:d-jf}else{const d=(c**Gq-l**Hq)*jq;u=d>-LC?0:d>-IC?d-d*RC*jf:d+jf}return u*100}function Xq(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const gp=.20689655172413793,Yq=t=>t>gp**3?Math.cbrt(t):t/(3*gp**2)+4/29,qq=t=>t>gp?t**3:3*gp**2*(t-4/29);function u2(t){const e=Yq,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function d2(t){const e=qq,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const Kq=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Zq=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,Jq=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Qq=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function h2(t){const e=Array(3),n=Zq,i=Kq;for(let s=0;s<3;++s)e[s]=Math.round(Rn(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function jx(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=Qq,a=Jq;e=r(e/255),n=r(n/255),i=r(i/255);for(let o=0;o<3;++o)s[o]=a[o][0]*e+a[o][1]*n+a[o][2]*i;return s}function q0(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function eK(t){return q0(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const DC=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,tK={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>OC({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>OC({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>ra({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>ra({h:t,s:e,v:n,a:i})};function Ms(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&DC.test(t)){const{groups:e}=t.match(DC),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return tK[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),g2(e)}else if(typeof t=="object"){if(Uo(t,["r","g","b"]))return t;if(Uo(t,["h","s","l"]))return ra(Xx(t));if(Uo(t,["h","s","v"]))return ra(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function ra(t){const{h:e,s:n,v:i,a:s}=t,r=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},a=[r(5),r(3),r(1)].map(o=>Math.round(o*255));return{r:a[0],g:a[1],b:a[2],a:s}}function OC(t){return ra(Xx(t))}function Ev(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i);let a=0;s!==r&&(s===e?a=60*(0+(n-i)/(s-r)):s===n?a=60*(2+(i-e)/(s-r)):s===i&&(a=60*(4+(e-n)/(s-r)))),a<0&&(a=a+360);const o=s===0?0:(s-r)/s,l=[a,o,s];return{h:l[0],s:l[1],v:l[2],a:t.a}}function f2(t){const{h:e,s:n,v:i,a:s}=t,r=i-i*n/2,a=r===1||r===0?0:(i-r)/Math.min(r,1-r);return{h:e,s:a,l:r,a:s}}function Xx(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function m2(t){let{r:e,g:n,b:i,a:s}=t;return s===void 0?`rgb(${e}, ${n}, ${i})`:`rgba(${e}, ${n}, ${i}, ${s})`}function p2(t){return m2(ra(t))}function Xf(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function v2(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Xf(e),Xf(n),Xf(i),s!==void 0?Xf(Math.round(s*255)):""].join("")}`}function g2(t){t=nK(t);let[e,n,i,s]=Lq(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function y2(t){const e=g2(t);return Ev(e)}function b2(t){return v2(ra(t))}function nK(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=bC(bC(t,6),8,"F")),t}function iK(t,e){const n=u2(jx(t));return n[0]=n[0]+e*10,h2(d2(n))}function sK(t,e){const n=u2(jx(t));return n[0]=n[0]-e*10,h2(d2(n))}function K0(t){const e=Ms(t);return jx(e)[1]}function rK(t,e){const n=K0(t),i=K0(e),s=Math.max(n,i),r=Math.min(n,i);return(s+.05)/(r+.05)}function _2(t){const e=Math.abs(kC(Ms(0),Ms(t)));return Math.abs(kC(Ms(16777215),Ms(t)))>Math.min(e,50)?"#fff":"#000"}function oe(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const ze=oe({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function _n(t,e){const n=Qr();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Cr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=_n(t).type;return qo((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let x2=0,cm=new WeakMap;function ri(){const t=_n("getUid");if(cm.has(t))return cm.get(t);{const e=x2++;return cm.set(t,e),e}}ri.reset=()=>{x2=0,cm=new WeakMap};function aK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_n("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const $c=Symbol.for("vuetify:defaults");function oK(t){return he(t)}function Yx(){const t=xt($c);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function bn(t,e){const n=Yx(),i=he(t),s=L(()=>{if(Ae(e==null?void 0:e.disabled))return n.value;const a=Ae(e==null?void 0:e.scoped),o=Ae(e==null?void 0:e.reset),l=Ae(e==null?void 0:e.root);if(i.value==null&&!(a||o||l))return n.value;let c=vi(i.value,{prev:n.value});if(a)return c;if(o||l){const u=Number(o||1/0);for(let d=0;d<=u&&!(!c||!("prev"in c));d++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=vi(vi(c,{prev:c}),c[l])),c}return c.prev?vi(c.prev,c):c});return Zt($c,s),s}function lK(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[qo(e)])<"u"}function cK(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yx();const i=_n("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=L(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,c){var d,h,f,m,v,p,g;const u=Reflect.get(l,c);return c==="class"||c==="style"?[(d=s.value)==null?void 0:d[c],u].filter(y=>y!=null):typeof c=="string"&&!lK(i.vnode,c)?((h=s.value)==null?void 0:h[c])!==void 0?(f=s.value)==null?void 0:f[c]:((v=(m=n.value)==null?void 0:m.global)==null?void 0:v[c])!==void 0?(g=(p=n.value)==null?void 0:p.global)==null?void 0:g[c]:u:u}}),a=De();qt(()=>{if(s.value){const l=Object.entries(s.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function o(){const l=aK($c,i);Zt($c,L(()=>a.value?vi((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:r,provideSubDefaults:o}}function hs(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=oe(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return Hx(i,e)},t.props._as=String,t.setup=function(i,s){const r=Yx();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:o}=cK(i,i._as??t.name,r),l=t._setup(a,s);return o(),l}}return t}function be(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?hs:Us)(e)}function uK(t,e){return e.props=t,e}function Tr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return be()({name:n??br(Ji(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...ze()},setup(i,s){let{slots:r}=s;return()=>{var a;return cs(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function w2(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Dd="cubic-bezier(0.4, 0, 0.2, 1)",dK="cubic-bezier(0.0, 0, 0.2, 1)",hK="cubic-bezier(0.4, 0, 1, 1)";function NC(t,e,n){return Object.keys(t).filter(i=>Cv(i)&&i.endsWith(e)).reduce((i,s)=>(i[s.slice(0,-e.length)]=r=>t[s](r,n(r)),i),{})}function qx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?fK(t):Kx(t))return t;t=t.parentElement}return document.scrollingElement}function yp(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(Kx(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function Kx(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function fK(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function mK(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function Ce(t){const e=_n("useRender");e.render=t}function Ke(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const r=_n("useProxiedModel"),a=he(t[e]!==void 0?t[e]:n),o=qo(e),c=L(o!==e?()=>{var d,h,f,m;return t[e],!!(((d=r.vnode.props)!=null&&d.hasOwnProperty(e)||(h=r.vnode.props)!=null&&h.hasOwnProperty(o))&&((f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)||(m=r.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var d,h;return t[e],!!((d=r.vnode.props)!=null&&d.hasOwnProperty(e)&&((h=r.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)))});Fi(()=>!c.value,()=>{Pe(()=>t[e],d=>{a.value=d})});const u=L({get(){const d=t[e];return i(c.value?d:a.value)},set(d){const h=s(d),f=at(c.value?t[e]:a.value);f===h||i(f)===d||(a.value=h,r==null||r.emit(`update:${e}`,h))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:a.value}),u}const pK={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},VC="$vuetify.",FC=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),S2=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith(VC))return FC(i,r);const o=i.replace(VC,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=fl(l,o,null);return u||(`${i}${t.value}`,u=fl(c,o,null)),u||(u=i),typeof u!="string"&&(u=i),FC(u,r)};function M2(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function Dy(t,e,n){const i=Ke(t,e,t[e]??n.value);return i.value=t[e]??n.value,Pe(n,s=>{t[e]==null&&(i.value=n.value)}),i}function C2(t){return e=>{const n=Dy(e,"locale",t.current),i=Dy(e,"fallback",t.fallback),s=Dy(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:S2(n,i,s),n:M2(n,i),provide:C2({current:n,fallback:i,messages:s})}}}function vK(t){const e=De((t==null?void 0:t.locale)??"en"),n=De((t==null?void 0:t.fallback)??"en"),i=he({en:pK,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:S2(e,n,i),n:M2(e,n),provide:C2({current:e,fallback:n,messages:i})}}const jc=Symbol.for("vuetify:locale");function gK(t){return t.name!=null}function yK(t){const e=t!=null&&t.adapter&&gK(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:vK(t),n=xK(e,t);return{...e,...n}}function Cn(){const t=xt(jc);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function bK(t){const e=xt(jc);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const n=e.provide(t),i=wK(n,e.rtl,t),s={...n,...i};return Zt(jc,s),s}function _K(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function xK(t,e){const n=he((e==null?void 0:e.rtl)??_K()),i=L(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:L(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function wK(t,e,n){const i=L(()=>n.rtl??e.value[t.current.value]??!1);return{isRtl:i,rtl:e,rtlClasses:L(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function zn(){const t=xt(jc);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Av={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function SK(t,e,n){const i=[];let s=[];const r=T2(t),a=E2(t),o=n??Av[e.slice(-2).toUpperCase()]??0,l=(r.getDay()-o+7)%7,c=(a.getDay()-o+7)%7;for(let u=0;u<l;u++){const d=new Date(r);d.setDate(d.getDate()-(l-u)),s.push(d)}for(let u=1;u<=a.getDate();u++){const d=new Date(t.getFullYear(),t.getMonth(),u);s.push(d),s.length===7&&(i.push(s),s=[])}for(let u=1;u<7-c;u++){const d=new Date(a);d.setDate(d.getDate()+u),s.push(d)}return s.length>0&&i.push(s),i}function MK(t,e,n){const i=n??Av[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function CK(t,e){const n=new Date(t),i=((Av[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function T2(t){return new Date(t.getFullYear(),t.getMonth(),1)}function E2(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function TK(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const EK=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function A2(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(EK.test(t))return TK(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const BC=new Date(2e3,0,2);function AK(t,e){const n=e??Av[t.slice(-2).toUpperCase()]??0;return lr(7).map(i=>{const s=new Date(BC);return s.setDate(BC.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function PK(t,e,n,i){const s=A2(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function IK(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=_C(String(n.getMonth()+1),2,"0"),r=_C(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function RK(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function LK(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function kK(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function DK(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function OK(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function NK(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function VK(t){return t.getFullYear()}function FK(t){return t.getMonth()}function BK(t){return t.getDate()}function UK(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function zK(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function HK(t){return t.getHours()}function GK(t){return t.getMinutes()}function WK(t){return new Date(t.getFullYear(),0,1)}function $K(t){return new Date(t.getFullYear(),11,31)}function jK(t,e){return bp(t,e[0])&&qK(t,e[1])}function XK(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function bp(t,e){return t.getTime()>e.getTime()}function YK(t,e){return bp(Z0(t),Z0(e))}function qK(t,e){return t.getTime()<e.getTime()}function UC(t,e){return t.getTime()===e.getTime()}function KK(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function ZK(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function JK(t,e){return t.getFullYear()===e.getFullYear()}function QK(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function eZ(t,e){const n=new Date(t);return n.setHours(e),n}function tZ(t,e){const n=new Date(t);return n.setMinutes(e),n}function nZ(t,e){const n=new Date(t);return n.setMonth(e),n}function iZ(t,e){const n=new Date(t);return n.setDate(e),n}function sZ(t,e){const n=new Date(t);return n.setFullYear(e),n}function Z0(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function rZ(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class aZ{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return A2(e)}toJsDate(e){return e}toISO(e){return IK(this,e)}parseISO(e){return RK(e)}addMinutes(e,n){return LK(e,n)}addHours(e,n){return kK(e,n)}addDays(e,n){return DK(e,n)}addWeeks(e,n){return OK(e,n)}addMonths(e,n){return NK(e,n)}getWeekArray(e,n){return SK(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return MK(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return CK(e,this.locale)}startOfMonth(e){return T2(e)}endOfMonth(e){return E2(e)}format(e,n){return PK(e,n,this.locale,this.formats)}isEqual(e,n){return UC(e,n)}isValid(e){return XK(e)}isWithinRange(e,n){return jK(e,n)}isAfter(e,n){return bp(e,n)}isAfterDay(e,n){return YK(e,n)}isBefore(e,n){return!bp(e,n)&&!UC(e,n)}isSameDay(e,n){return KK(e,n)}isSameMonth(e,n){return ZK(e,n)}isSameYear(e,n){return JK(e,n)}setMinutes(e,n){return tZ(e,n)}setHours(e,n){return eZ(e,n)}setMonth(e,n){return nZ(e,n)}setDate(e,n){return iZ(e,n)}setYear(e,n){return sZ(e,n)}getDiff(e,n,i){return QK(e,n,i)}getWeekdays(e){return AK(this.locale,e?Number(e):void 0)}getYear(e){return VK(e)}getMonth(e){return FK(e)}getDate(e){return BK(e)}getNextMonth(e){return UK(e)}getPreviousMonth(e){return zK(e)}getHours(e){return HK(e)}getMinutes(e){return GK(e)}startOfDay(e){return Z0(e)}endOfDay(e){return rZ(e)}startOfYear(e){return WK(e)}endOfYear(e){return $K(e)}}const P2=Symbol.for("vuetify:date-options"),zC=Symbol.for("vuetify:date-adapter");function oZ(t,e){const n=vi({adapter:aZ,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:I2(n,e)}}function I2(t,e){const n=wn(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return Pe(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function wh(){const t=xt(P2);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=Cn();return I2(t,e)}function lZ(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),s=new Date(i,0,1);if(n<s)i=i-1,s=new Date(i,0,1);else{const o=new Date(i+1,0,1);n>=o&&(i=i+1,s=o)}const r=Math.abs(n.getTime()-s.getTime()),a=Math.ceil(r/(1e3*60*60*24));return Math.floor(a/7)+1}const Pv=["sm","md","lg","xl","xxl"],J0=Symbol.for("vuetify:display"),HC={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},cZ=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:HC;return vi(HC,t)};function GC(t){return Ot&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function WC(t){return Ot&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function $C(t){const e=Ot&&!t?window.navigator.userAgent:"ssr";function n(m){return!!e.match(m)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),d=n(/win/i),h=n(/mac/i),f=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:o,edge:l,firefox:c,opera:u,win:d,mac:h,linux:f,touch:Cq,ssr:e==="ssr"}}function uZ(t,e){const{thresholds:n,mobileBreakpoint:i}=cZ(t),s=De(WC(e)),r=De($C(e)),a=wn({}),o=De(GC(e));function l(){s.value=WC(),o.value=GC()}function c(){l(),r.value=$C()}return qt(()=>{const u=o.value<n.sm,d=o.value<n.md&&!u,h=o.value<n.lg&&!(d||u),f=o.value<n.xl&&!(h||d||u),m=o.value<n.xxl&&!(f||h||d||u),v=o.value>=n.xxl,p=u?"xs":d?"sm":h?"md":f?"lg":m?"xl":"xxl",g=typeof i=="number"?i:n[i],y=o.value<g;a.xs=u,a.sm=d,a.md=h,a.lg=f,a.xl=m,a.xxl=v,a.smAndUp=!u,a.mdAndUp=!(u||d),a.lgAndUp=!(u||d||h),a.xlAndUp=!(u||d||h||f),a.smAndDown=!(h||f||m||v),a.mdAndDown=!(f||m||v),a.lgAndDown=!(m||v),a.xlAndDown=!v,a.name=p,a.height=s.value,a.width=o.value,a.mobile=y,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),Ot&&window.addEventListener("resize",l,{passive:!0}),{...Hs(a),update:c,ssr:!!e}}const Al=oe({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function As(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();const n=xt(J0);if(!n)throw new Error("Could not find Vuetify display injection");const i=L(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const r=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<r}),s=L(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const R2=Symbol.for("vuetify:goto");function L2(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function dZ(t){return Zx(t)??(document.scrollingElement||document.body)}function Zx(t){return typeof t=="string"?document.querySelector(t):zx(t)}function Oy(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=Zx(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function hZ(t,e){return{rtl:e.isRtl,options:vi(L2(),t)}}async function jC(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=vi((i==null?void 0:i.options)??L2(),e),a=i==null?void 0:i.rtl.value,o=(typeof t=="number"?t:Zx(t))??0,l=r.container==="parent"&&o instanceof HTMLElement?o.parentElement:dZ(r.container),c=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!c)throw new TypeError(`Easing function "${r.easing}" not found.`);let u;if(typeof o=="number")u=Oy(o,n,a);else if(u=Oy(o,n,a)-Oy(l,n,a),r.layout){const m=window.getComputedStyle(o).getPropertyValue("--v-layout-top");m&&(u-=parseInt(m,10))}u+=r.offset,u=mZ(l,u,!!a,!!n);const d=l[s]??0;if(u===d)return Promise.resolve(u);const h=performance.now();return new Promise(f=>requestAnimationFrame(function m(v){const g=(v-h)/r.duration,y=Math.floor(d+(u-d)*c(Rn(g,0,1)));if(l[s]=y,g>=1&&Math.abs(y-l[s])<10)return f(u);if(g>2)return f(l[s]);requestAnimationFrame(m)}))}function fZ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=xt(R2),{isRtl:n}=zn();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:L(()=>e.rtl.value||n.value)};async function s(r,a){return jC(r,vi(t,a),!1,i)}return s.horizontal=async(r,a)=>jC(r,vi(t,a),!0,i),s}function mZ(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,o]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,c;return i?n?(l=-(s-a),c=0):(l=0,c=s-a):(l=0,c=r+-o),Math.max(Math.min(e,c),l)}const pZ={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},vZ={component:t=>cs(Qx,{...t,class:"mdi"})},ot=[String,Function,Object,Array],Q0=Symbol.for("vuetify:icons"),Iv=oe({icon:{type:ot},tag:{type:String,required:!0}},"icon"),eb=be()({name:"VComponentIcon",props:Iv(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return M(t.tag,null,{default:()=>{var s;return[t.icon?M(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),Jx=hs({name:"VSvgIcon",inheritAttrs:!1,props:Iv(),setup(t,e){let{attrs:n}=e;return()=>M(t.tag,Se(n,{style:null}),{default:()=>[M("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?M("path",{d:i[0],"fill-opacity":i[1]},null):M("path",{d:i},null)):M("path",{d:t.icon},null)])]})}}),gZ=hs({name:"VLigatureIcon",props:Iv(),setup(t){return()=>M(t.tag,null,{default:()=>[t.icon]})}}),Qx=hs({name:"VClassIcon",props:Iv(),setup(t){return()=>M(t.tag,{class:t.icon},null)}});function yZ(){return{svg:{component:Jx},class:{component:Qx}}}function bZ(t){const e=yZ(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=vZ),vi({defaultSet:n,sets:e,aliases:{...pZ,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const _Z=t=>{const e=xt(Q0);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:L(()=>{var l;const i=Ae(t);if(!i)return{component:eb};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),Array.isArray(s))return{component:Jx,icon:s};if(typeof s!="string")return{component:eb,icon:s};const r=Object.keys(e.sets).find(c=>typeof s=="string"&&s.startsWith(`${c}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},Od=Symbol.for("vuetify:theme"),Pt=oe({theme:String},"theme");function XC(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function xZ(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:XC();const e=XC();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const o=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=vi(o,a)}return vi(e,{...t,themes:n})}function wZ(t){const e=xZ(t),n=he(e.defaultTheme),i=he(e.themes),s=L(()=>{const u={};for(const[d,h]of Object.entries(i.value)){const f=u[d]={...h,colors:{...h.colors}};if(e.variations)for(const m of e.variations.colors){const v=f.colors[m];if(v)for(const p of["lighten","darken"]){const g=p==="lighten"?iK:sK;for(const y of lr(e.variations[p],1))f.colors[`${m}-${p}-${y}`]=v2(g(Ms(v),y))}}for(const m of Object.keys(f.colors)){if(/^on-[a-z]/.test(m)||f.colors[`on-${m}`])continue;const v=`on-${m}`,p=Ms(f.colors[m]);f.colors[v]=_2(p)}}return u}),r=L(()=>s.value[n.value]),a=L(()=>{var m;const u=[];(m=r.value)!=null&&m.dark&&Eo(u,":root",["color-scheme: dark"]),Eo(u,":root",YC(r.value));for(const[v,p]of Object.entries(s.value))Eo(u,`.v-theme--${v}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...YC(p)]);const d=[],h=[],f=new Set(Object.values(s.value).flatMap(v=>Object.keys(v.colors)));for(const v of f)/^on-[a-z]/.test(v)?Eo(h,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(Eo(d,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),Eo(h,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),Eo(h,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return u.push(...d,...h),u.map((v,p)=>p===0?v:`    ${v}`).join("")});function o(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(u){if(e.isDisabled)return;const d=u._context.provides.usehead;if(d)if(d.push){const h=d.push(o);Ot&&Pe(a,()=>{h.patch(o)})}else Ot?(d.addHeadObjs(L(o)),qt(()=>d.updateDOM())):d.addHeadObjs(o());else{let f=function(){if(typeof document<"u"&&!h){const m=document.createElement("style");m.type="text/css",m.id="vuetify-theme-stylesheet",e.cspNonce&&m.setAttribute("nonce",e.cspNonce),h=m,document.head.appendChild(h)}h&&(h.innerHTML=a.value)},h=Ot?document.getElementById("vuetify-theme-stylesheet"):null;Ot?Pe(a,f,{immediate:!0}):f()}}const c=L(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:c,styles:a,global:{name:n,current:r}}}function Bt(t){_n("provideTheme");const e=xt(Od,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=L(()=>t.theme??e.name.value),i=L(()=>e.themes.value[n.value]),s=L(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return Zt(Od,r),r}function k2(){_n("useTheme");const t=xt(Od,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function Eo(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function YC(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=Ms(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${K0(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?Ms(r):void 0,o=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${o??r}`)}return i}function zs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=pp(),i=he();if(Ot){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});Yn(()=>{s.disconnect()}),Pe(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:Zr(i)}}const Nd=Symbol.for("vuetify:layout"),D2=Symbol.for("vuetify:layout-item"),qC=1e3,O2=oe({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Pl=oe({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function N2(){const t=xt(Nd);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Il(t){const e=xt(Nd);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${ri()}`,i=_n("useLayoutItem");Zt(D2,{id:n});const s=De(!1);Hb(()=>s.value=!0),cE(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:a}=e.register(i,{...t,active:L(()=>s.value?!1:t.active.value),id:n});return Yn(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const SZ=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const o=e.get(a),l=n.get(a),c=i.get(a);if(!o||!l||!c)continue;const u={...s,[o.value]:parseInt(s[o.value],10)+(c.value?parseInt(l.value,10):0)};r.push({id:a,layer:u}),s=u}return r};function V2(t){const e=xt(Nd,null),n=L(()=>e?e.rootZIndex.value-100:qC),i=he([]),s=wn(new Map),r=wn(new Map),a=wn(new Map),o=wn(new Map),l=wn(new Map),{resizeRef:c,contentRect:u}=zs(),d=L(()=>{const C=new Map,A=t.overlaps??[];for(const S of A.filter(_=>_.includes(":"))){const[_,b]=S.split(":");if(!i.value.includes(_)||!i.value.includes(b))continue;const T=s.get(_),P=s.get(b),D=r.get(_),O=r.get(b);!T||!P||!D||!O||(C.set(b,{position:T.value,amount:parseInt(D.value,10)}),C.set(_,{position:P.value,amount:-parseInt(O.value,10)}))}return C}),h=L(()=>{const C=[...new Set([...a.values()].map(S=>S.value))].sort((S,_)=>S-_),A=[];for(const S of C){const _=i.value.filter(b=>{var T;return((T=a.get(b))==null?void 0:T.value)===S});A.push(..._)}return SZ(A,s,r,o)}),f=L(()=>!Array.from(l.values()).some(C=>C.value)),m=L(()=>h.value[h.value.length-1].layer),v=L(()=>({"--v-layout-left":Ve(m.value.left),"--v-layout-right":Ve(m.value.right),"--v-layout-top":Ve(m.value.top),"--v-layout-bottom":Ve(m.value.bottom),...f.value?void 0:{transition:"none"}})),p=L(()=>h.value.slice(1).map((C,A)=>{let{id:S}=C;const{layer:_}=h.value[A],b=r.get(S),T=s.get(S);return{id:S,..._,size:Number(b.value),position:T.value}})),g=C=>p.value.find(A=>A.id===C),y=_n("createLayout"),x=De(!1);Nn(()=>{x.value=!0}),Zt(Nd,{register:(C,A)=>{let{id:S,order:_,position:b,layoutSize:T,elementSize:P,active:D,disableTransitions:O,absolute:H}=A;a.set(S,_),s.set(S,b),r.set(S,T),o.set(S,D),O&&l.set(S,O);const K=yc(D2,y==null?void 0:y.vnode).indexOf(C);K>-1?i.value.splice(K,0,S):i.value.push(S);const j=L(()=>p.value.findIndex(de=>de.id===S)),X=L(()=>n.value+h.value.length*2-j.value*2),Y=L(()=>{const de=b.value==="left"||b.value==="right",Le=b.value==="right",ie=b.value==="bottom",ye=P.value??T.value,se=ye===0?"%":"px",me={[b.value]:0,zIndex:X.value,transform:`translate${de?"X":"Y"}(${(D.value?0:-(ye===0?100:ye))*(Le||ie?-1:1)}${se})`,position:H.value||n.value!==qC?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!x.value)return me;const ae=p.value[j.value];if(!ae)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const N=d.value.get(S);return N&&(ae[N.position]+=N.amount),{...me,height:de?`calc(100% - ${ae.top}px - ${ae.bottom}px)`:P.value?`${P.value}px`:void 0,left:Le?void 0:`${ae.left}px`,right:Le?`${ae.right}px`:void 0,top:b.value!=="bottom"?`${ae.top}px`:void 0,bottom:b.value!=="top"?`${ae.bottom}px`:void 0,width:de?P.value?`${P.value}px`:void 0:`calc(100% - ${ae.left}px - ${ae.right}px)`}}),J=L(()=>({zIndex:X.value-1}));return{layoutItemStyles:Y,layoutItemScrimStyles:J,zIndex:X}},unregister:C=>{a.delete(C),s.delete(C),r.delete(C),o.delete(C),l.delete(C),i.value=i.value.filter(A=>A!==C)},mainRect:m,mainStyles:v,getLayoutItem:g,items:p,layoutRect:u,rootZIndex:n});const w=L(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),E=L(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:w,layoutStyles:E,getLayoutItem:g,items:p,layoutRect:u,layoutRef:c}}function F2(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=vi(e,n),{aliases:s={},components:r={},directives:a={}}=i,o=oK(i.defaults),l=uZ(i.display,i.ssr),c=wZ(i.theme),u=bZ(i.icons),d=yK(i.locale),h=oZ(i.date,d),f=hZ(i.goTo,d);return{install:v=>{for(const p in a)v.directive(p,a[p]);for(const p in r)v.component(p,r[p]);for(const p in s)v.component(p,hs({...s[p],name:p,aliasName:s[p].name}));if(c.install(v),v.provide($c,o),v.provide(J0,l),v.provide(Od,c),v.provide(Q0,u),v.provide(jc,d),v.provide(P2,h.options),v.provide(zC,h.instance),v.provide(R2,f),Ot&&i.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=v;v.mount=function(){const g=p(...arguments);return Rt(()=>l.update()),v.mount=p,g}}ri.reset(),v.mixin({computed:{$vuetify(){return wn({defaults:dc.call(this,$c),display:dc.call(this,J0),theme:dc.call(this,Od),icons:dc.call(this,Q0),locale:dc.call(this,jc),date:dc.call(this,zC)})}}})},defaults:o,display:l,theme:c,icons:u,locale:d,date:h,goTo:f}}const MZ="3.7.4";F2.version=MZ;function dc(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}const CZ=oe({...ze(),...O2({fullHeight:!0}),...Pt()},"VApp"),TZ=be()({name:"VApp",props:CZ(),setup(t,e){let{slots:n}=e;const i=Bt(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:o}=V2(t),{rtlClasses:l}=zn();return Ce(()=>{var c;return M("div",{ref:o,class:["v-application",i.themeClasses.value,s.value,l.value,t.class],style:[t.style]},[M("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:r,items:a,theme:i}}}),ft=oe({tag:{type:String,default:"div"}},"tag"),B2=oe({text:String,...ze(),...ft()},"VToolbarTitle"),ew=be()({name:"VToolbarTitle",props:B2(),setup(t,e){let{slots:n}=e;return Ce(()=>{const i=!!(n.default||n.text||t.text);return M(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&M("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),EZ=oe({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function fs(t,e,n){return be()({name:t,props:EZ({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:d}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${c}px`,o.style.width=`${u}px`,o.style.height=`${d}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:c,left:u,width:d,height:h}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=c||"",o.style.left=u||"",o.style.width=d||"",o.style.height=h||""}}};return()=>{const o=i.group?Jb:Ga;return cs(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function U2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return be()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?Jb:Ga;return()=>cs(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function z2(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=Ji(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const o=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=o.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){const o=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,o!=null&&(a.style[n]=o),delete a._initialStyle}}const AZ=oe({target:[Object,Array]},"v-dialog-transition"),Rv=be()({name:"VDialogTransition",props:AZ(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var h;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),s.style.visibility="";const{x:a,y:o,sx:l,sy:c,speed:u}=ZC(t.target,s),d=zo(s,[{transform:`translate(${a}px, ${o}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*u,easing:dK});(h=KC(s))==null||h.forEach(f=>{zo(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:Dd})}),d.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var h;await new Promise(f=>requestAnimationFrame(f));const{x:a,y:o,sx:l,sy:c,speed:u}=ZC(t.target,s);zo(s,[{},{transform:`translate(${a}px, ${o}px) scale(${l}, ${c})`,opacity:0}],{duration:125*u,easing:hK}).finished.then(()=>r()),(h=KC(s))==null||h.forEach(f=>{zo(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:Dd})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?M(Ga,Se({name:"dialog-transition"},i,{css:!1}),n):M(Ga,{name:"dialog-transition"},n)}});function KC(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function ZC(t,e){const n=c2(t),i=$x(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(g=>parseFloat(g)),[a,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;a==="left"||o==="left"?l-=n.width/2:(a==="right"||o==="right")&&(l+=n.width/2);let c=n.top+n.height/2;a==="top"||o==="top"?c-=n.height/2:(a==="bottom"||o==="bottom")&&(c+=n.height/2);const u=n.width/i.width,d=n.height/i.height,h=Math.max(1,u,d),f=u/h||0,m=d/h||0,v=i.width*i.height/(window.innerWidth*window.innerHeight),p=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:l-(s+i.left),y:c-(r+i.top),sx:f,sy:m,speed:p}}const PZ=fs("fab-transition","center center","out-in"),IZ=fs("dialog-bottom-transition"),RZ=fs("dialog-top-transition"),Vd=fs("fade-transition"),tw=fs("scale-transition"),LZ=fs("scroll-x-transition"),kZ=fs("scroll-x-reverse-transition"),DZ=fs("scroll-y-transition"),OZ=fs("scroll-y-reverse-transition"),NZ=fs("slide-x-transition"),VZ=fs("slide-x-reverse-transition"),nw=fs("slide-y-transition"),FZ=fs("slide-y-reverse-transition"),Lv=U2("expand-transition",z2()),iw=U2("expand-x-transition",z2("",!0)),BZ=oe({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),yt=be(!1)({name:"VDefaultsProvider",props:BZ(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:o}=Hs(t);return bn(i,{reset:r,root:a,scoped:o,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),Vn=oe({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Fn(t){return{dimensionStyles:L(()=>{const n={},i=Ve(t.height),s=Ve(t.maxHeight),r=Ve(t.maxWidth),a=Ve(t.minHeight),o=Ve(t.minWidth),l=Ve(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}function UZ(t){return{aspectStyles:L(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const H2=oe({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...ze(),...Vn()},"VResponsive"),tb=be()({name:"VResponsive",props:H2(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=UZ(t),{dimensionStyles:s}=Fn(t);return Ce(()=>{var r;return M("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[M("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&M("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}});function sw(t){return Gx(()=>{const e=[],n={};if(t.value.background)if(q0(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&eK(t.value.background)){const i=Ms(t.value.background);if(i.a==null||i.a===1){const s=_2(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(q0(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function li(t,e){const n=L(()=>({text:an(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=sw(n);return{textColorClasses:i,textColorStyles:s}}function Kt(t,e){const n=L(()=>({background:an(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=sw(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const dn=oe({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function xn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();return{roundedClasses:L(()=>{const i=an(t)?t.value:t.rounded,s=an(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const qs=oe({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),gi=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:o=r?Jb:Ga,...l}=typeof i=="object"?i:{};return cs(o,Se(typeof i=="string"?{name:s?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(c=>{let[u,d]=c;return d!==void 0})),a),n)};function zZ(t,e){if(!Bx)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var d;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(d=t._observe)==null?void 0:d[e.instance.$.uid];if(!c)return;const u=o.some(h=>h.isIntersecting);s&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&s(u,o,l),u&&n.once?G2(t,e):c.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function G2(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Sh={mounted:zZ,unmounted:G2},W2=oe({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...H2(),...ze(),...dn(),...qs()},"VImg"),aa=be()({name:"VImg",directives:{intersect:Sh},props:W2(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=Kt(ge(t,"color")),{roundedClasses:a}=xn(t),o=_n("VImg"),l=De(""),c=he(),u=De(t.eager?"loading":"idle"),d=De(),h=De(),f=L(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),m=L(()=>f.value.aspect||d.value/h.value||0);Pe(()=>t.src,()=>{v(u.value!=="idle")}),Pe(m,(P,D)=>{!P&&D&&c.value&&w(c.value)}),Ip(()=>v());function v(P){if(!(t.eager&&P)&&!(Bx&&!P&&!t.eager)){if(u.value="loading",f.value.lazySrc){const D=new Image;D.src=f.value.lazySrc,w(D,null)}f.value.src&&Rt(()=>{var D;n("loadstart",((D=c.value)==null?void 0:D.currentSrc)||f.value.src),setTimeout(()=>{var O;if(!o.isUnmounted)if((O=c.value)!=null&&O.complete){if(c.value.naturalWidth||g(),u.value==="error")return;m.value||w(c.value,null),u.value==="loading"&&p()}else m.value||w(c.value),y()})})}}function p(){var P;o.isUnmounted||(y(),w(c.value),u.value="loaded",n("load",((P=c.value)==null?void 0:P.currentSrc)||f.value.src))}function g(){var P;o.isUnmounted||(u.value="error",n("error",((P=c.value)==null?void 0:P.currentSrc)||f.value.src))}function y(){const P=c.value;P&&(l.value=P.currentSrc||P.src)}let x=-1;Yn(()=>{clearTimeout(x)});function w(P){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const O=()=>{if(clearTimeout(x),o.isUnmounted)return;const{naturalHeight:H,naturalWidth:F}=P;H||F?(d.value=F,h.value=H):!P.complete&&u.value==="loading"&&D!=null?x=window.setTimeout(O,D):(P.currentSrc.endsWith(".svg")||P.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,h.value=1)};O()}const E=L(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),C=()=>{var O;if(!f.value.src||u.value==="idle")return null;const P=M("img",{class:["v-img__img",E.value],style:{objectPosition:t.position},src:f.value.src,srcset:f.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:c,onLoad:p,onError:g},null),D=(O=i.sources)==null?void 0:O.call(i);return M(gi,{transition:t.transition,appear:!0},{default:()=>[Qe(D?M("picture",{class:"v-img__picture"},[D,P]):P,[[Ws,u.value==="loaded"]])]})},A=()=>M(gi,{transition:t.transition},{default:()=>[f.value.lazySrc&&u.value!=="loaded"&&M("img",{class:["v-img__img","v-img__img--preload",E.value],style:{objectPosition:t.position},src:f.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),S=()=>i.placeholder?M(gi,{transition:t.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!i.error)&&M("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,_=()=>i.error?M(gi,{transition:t.transition,appear:!0},{default:()=>[u.value==="error"&&M("div",{class:"v-img__error"},[i.error()])]}):null,b=()=>t.gradient?M("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,T=De(!1);{const P=Pe(m,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),P())})}return Ce(()=>{const P=tb.filterProps(t);return Qe(M(tb,Se({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!T.value},s.value,a.value,t.class],style:[{width:Ve(t.width==="auto"?d.value:t.width)},r.value,t.style]},P,{aspectRatio:m.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>M(We,null,[M(C,null,null),M(A,null,null),M(b,null,null),M(S,null,null),M(_,null,null)]),default:i.default}),[[yn("intersect"),{handler:v,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:c,state:u,naturalWidth:d,naturalHeight:h}}}),es=oe({border:[Boolean,Number,String]},"border");function ms(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();return{borderClasses:L(()=>{const i=an(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const Hn=oe({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function ai(t){return{elevationClasses:L(()=>{const n=an(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const HZ=[null,"prominent","default","comfortable","compact"],$2=oe({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>HZ.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...es(),...ze(),...Hn(),...dn(),...ft({tag:"header"}),...Pt()},"VToolbar"),nb=be()({name:"VToolbar",props:$2(),setup(t,e){var f;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Kt(ge(t,"color")),{borderClasses:r}=ms(t),{elevationClasses:a}=ai(t),{roundedClasses:o}=xn(t),{themeClasses:l}=Bt(t),{rtlClasses:c}=zn(),u=De(!!(t.extended||(f=n.extension)!=null&&f.call(n))),d=L(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),h=L(()=>u.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return bn({VBtn:{variant:"text"}}),Ce(()=>{var g;const m=!!(t.title||n.title),v=!!(n.image||t.image),p=(g=n.extension)==null?void 0:g.call(n);return u.value=!!(t.extended||p),M(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,o.value,l.value,c.value,t.class],style:[s.value,t.style]},{default:()=>[v&&M("div",{key:"image",class:"v-toolbar__image"},[n.image?M(yt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):M(aa,{key:"image-img",cover:!0,src:t.image},null)]),M(yt,{defaults:{VTabs:{height:Ve(d.value)}}},{default:()=>{var y,x,w;return[M("div",{class:"v-toolbar__content",style:{height:Ve(d.value)}},[n.prepend&&M("div",{class:"v-toolbar__prepend"},[(y=n.prepend)==null?void 0:y.call(n)]),m&&M(ew,{key:"title",text:t.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&M("div",{class:"v-toolbar__append"},[(w=n.append)==null?void 0:w.call(n)])])]}}),M(yt,{defaults:{VTabs:{height:Ve(h.value)}}},{default:()=>[M(Lv,null,{default:()=>[u.value&&M("div",{class:"v-toolbar__extension",style:{height:Ve(h.value)}},[p])]})]})]})}),{contentHeight:d,extensionHeight:h}}}),GZ=oe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function WZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=he(null),a=De(0),o=De(0),l=De(0),c=De(!1),u=De(!1),d=L(()=>Number(t.scrollThreshold)),h=L(()=>Rn((d.value-a.value)/d.value||0)),f=()=>{const m=r.value;if(!m||n&&!n.value)return;i=a.value,a.value="window"in m?m.pageYOffset:m.scrollTop;const v=m instanceof Window?document.documentElement.scrollHeight:m.scrollHeight;if(s!==v){s=v;return}u.value=a.value<i,l.value=Math.abs(a.value-d.value)};return Pe(u,()=>{o.value=o.value||a.value}),Pe(c,()=>{o.value=0}),Nn(()=>{Pe(()=>t.scrollTarget,m=>{var p;const v=m?document.querySelector(m):window;v&&v!==r.value&&((p=r.value)==null||p.removeEventListener("scroll",f),r.value=v,r.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),Yn(()=>{var m;(m=r.value)==null||m.removeEventListener("scroll",f)}),n&&Pe(n,f,{immediate:!0}),{scrollThreshold:d,currentScroll:a,currentThreshold:l,isScrollActive:c,scrollRatio:h,isScrollingUp:u,savedScroll:o}}function Rl(){const t=De(!1);return Nn(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:L(()=>t.value?void 0:{transition:"none !important"}),isBooted:Zr(t)}}const $Z=oe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...$2(),...Pl(),...GZ(),height:{type:[Number,String],default:64}},"VAppBar"),jZ=be()({name:"VAppBar",props:$Z(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=he(),s=Ke(t,"modelValue"),r=L(()=>{var x;const y=new Set(((x=t.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:y.has("hide"),fullyHide:y.has("fully-hide"),inverted:y.has("inverted"),collapse:y.has("collapse"),elevate:y.has("elevate"),fadeImage:y.has("fade-image")}}),a=L(()=>{const y=r.value;return y.hide||y.fullyHide||y.inverted||y.collapse||y.elevate||y.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:c,scrollRatio:u}=WZ(t,{canScroll:a}),d=L(()=>r.value.hide||r.value.fullyHide),h=L(()=>t.collapse||r.value.collapse&&(r.value.inverted?u.value>0:u.value===0)),f=L(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?o.value>0:o.value===0)),m=L(()=>r.value.fadeImage?r.value.inverted?1-u.value:u.value:void 0),v=L(()=>{var w,E;if(r.value.hide&&r.value.inverted)return 0;const y=((w=i.value)==null?void 0:w.contentHeight)??0,x=((E=i.value)==null?void 0:E.extensionHeight)??0;return d.value?o.value<l.value||r.value.fullyHide?y+x:y:y+x});Fi(L(()=>!!t.scrollBehavior),()=>{qt(()=>{d.value?r.value.inverted?s.value=o.value>l.value:s.value=c.value||o.value<l.value:s.value=!0})});const{ssrBootStyles:p}=Rl(),{layoutItemStyles:g}=Il({id:t.name,order:L(()=>parseInt(t.order,10)),position:ge(t,"location"),layoutSize:v,elementSize:De(void 0),active:s,absolute:ge(t,"absolute")});return Ce(()=>{const y=nb.filterProps(t);return M(nb,Se({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...g.value,"--v-toolbar-image-opacity":m.value,height:void 0,...p.value},t.style]},y,{collapse:h.value,flat:f.value}),n)}),{}}}),XZ=[null,"default","comfortable","compact"],qn=oe({density:{type:String,default:"default",validator:t=>XZ.includes(t)}},"density");function wi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();return{densityClasses:L(()=>`${e}--density-${t.density}`)}}const YZ=["elevated","flat","tonal","outlined","text","plain"];function no(t,e){return M(We,null,[t&&M("span",{key:"overlay",class:`${e}__overlay`},null),M("span",{key:"underlay",class:`${e}__underlay`},null)])}const Ps=oe({color:String,variant:{type:String,default:"elevated",validator:t=>YZ.includes(t)}},"variant");function Ll(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();const n=L(()=>{const{variant:r}=Ae(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=sw(L(()=>{const{variant:r,color:a}=Ae(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const j2=oe({baseColor:String,divided:Boolean,...es(),...ze(),...qn(),...Hn(),...dn(),...ft(),...Pt(),...Ps()},"VBtnGroup"),ib=be()({name:"VBtnGroup",props:j2(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t),{densityClasses:s}=wi(t),{borderClasses:r}=ms(t),{elevationClasses:a}=ai(t),{roundedClasses:o}=xn(t);bn({VBtn:{height:"auto",baseColor:ge(t,"baseColor"),color:ge(t,"color"),density:ge(t,"density"),flat:!0,variant:ge(t,"variant")}}),Ce(()=>M(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,o.value,t.class],style:t.style},n))}}),kl=oe({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Dl=oe({value:null,disabled:Boolean,selectedClass:String},"group-item");function Ol(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=_n("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=ri();Zt(Symbol.for(`${e.description}:id`),s);const r=xt(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=ge(t,"value"),o=L(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:o},i),Yn(()=>{r.unregister(s)});const l=L(()=>r.isSelected(s)),c=L(()=>r.items.value[0].id===s),u=L(()=>r.items.value[r.items.value.length-1].id===s),d=L(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return Pe(l,h=>{i.emit("group:selected",{value:h})},{flush:"sync"}),{id:s,isSelected:l,isFirst:c,isLast:u,toggle:()=>r.select(s,!l.value),select:h=>r.select(s,h),selectedClass:d,value:a,disabled:o,group:r}}function io(t,e){let n=!1;const i=wn([]),s=Ke(t,"modelValue",[],h=>h==null?[]:X2(i,pn(h)),h=>{const f=KZ(i,h);return t.multiple?f:f[0]}),r=_n("useGroup");function a(h,f){const m=h,v=Symbol.for(`${e.description}:id`),g=yc(v,r==null?void 0:r.vnode).indexOf(f);Ae(m.value)==null&&(m.value=g,m.useIndexAsValue=!0),g>-1?i.splice(g,0,m):i.push(m)}function o(h){if(n)return;l();const f=i.findIndex(m=>m.id===h);i.splice(f,1)}function l(){const h=i.find(f=>!f.disabled);h&&t.mandatory==="force"&&!s.value.length&&(s.value=[h.id])}Nn(()=>{l()}),Yn(()=>{n=!0}),Rp(()=>{for(let h=0;h<i.length;h++)i[h].useIndexAsValue&&(i[h].value=h)});function c(h,f){const m=i.find(v=>v.id===h);if(!(f&&(m!=null&&m.disabled)))if(t.multiple){const v=s.value.slice(),p=v.findIndex(y=>y===h),g=~p;if(f=f??!g,g&&t.mandatory&&v.length<=1||!g&&t.max!=null&&v.length+1>t.max)return;p<0&&f?v.push(h):p>=0&&!f&&v.splice(p,1),s.value=v}else{const v=s.value.includes(h);if(t.mandatory&&v)return;s.value=f??!v?[h]:[]}}function u(h){if(t.multiple,s.value.length){const f=s.value[0],m=i.findIndex(g=>g.id===f);let v=(m+h)%i.length,p=i[v];for(;p.disabled&&v!==m;)v=(v+h)%i.length,p=i[v];if(p.disabled)return;s.value=[i[v].id]}else{const f=i.find(m=>!m.disabled);f&&(s.value=[f.id])}}const d={register:a,unregister:o,selected:s,select:c,disabled:ge(t,"disabled"),prev:()=>u(i.length-1),next:()=>u(1),isSelected:h=>s.value.includes(h),selectedClass:L(()=>t.selectedClass),items:L(()=>i),getItemIndex:h=>qZ(i,h)};return Zt(e,d),d}function qZ(t,e){const n=X2(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function X2(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>Mr(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function KZ(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const rw=Symbol.for("vuetify:v-btn-toggle"),ZZ=oe({...j2(),...kl()},"VBtnToggle"),JZ=be()({name:"VBtnToggle",props:ZZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:o}=io(t,rw);return Ce(()=>{const l=ib.filterProps(t);return M(ib,Se({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,next:s,prev:r,select:a,selected:o})]}})}),{next:s,prev:r,select:a}}}),QZ=["x-small","small","default","large","x-large"],Er=oe({size:{type:[String,Number],default:"default"}},"size");function su(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();return Gx(()=>{let n,i;return mp(QZ,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Ve(t.size),height:Ve(t.size)}),{sizeClasses:n,sizeStyles:i}})}const eJ=oe({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:ot,...ze(),...Er(),...ft({tag:"i"}),...Pt()},"VIcon"),Ft=be()({name:"VIcon",props:eJ(),setup(t,e){let{attrs:n,slots:i}=e;const s=he(),{themeClasses:r}=Bt(t),{iconData:a}=_Z(L(()=>s.value||t.icon)),{sizeClasses:o}=su(t),{textColorClasses:l,textColorStyles:c}=li(ge(t,"color"));return Ce(()=>{var h,f;const u=(h=i.default)==null?void 0:h.call(i);u&&(s.value=(f=s2(u).filter(m=>m.type===qd&&m.children&&typeof m.children=="string")[0])==null?void 0:f.children);const d=!!(n.onClick||n.onClickOnce);return M(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,o.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[o.value?void 0:{fontSize:Ve(t.size),height:Ve(t.size),width:Ve(t.size)},c.value,t.style],role:d?"button":void 0,"aria-hidden":!d,tabindex:d?t.disabled?-1:0:void 0},{default:()=>[u]})}),{}}});function kv(t,e){const n=he(),i=De(!1);if(Bx){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);Yn(()=>{s.disconnect()}),Pe(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const tJ=oe({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ze(),...Er(),...ft({tag:"div"}),...Pt()},"VProgressCircular"),Xc=be()({name:"VProgressCircular",props:tJ(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=he(),{themeClasses:a}=Bt(t),{sizeClasses:o,sizeStyles:l}=su(t),{textColorClasses:c,textColorStyles:u}=li(ge(t,"color")),{textColorClasses:d,textColorStyles:h}=li(ge(t,"bgColor")),{intersectionRef:f,isIntersecting:m}=kv(),{resizeRef:v,contentRect:p}=zs(),g=L(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),y=L(()=>Number(t.width)),x=L(()=>l.value?Number(t.size):p.value?p.value.width:Math.max(y.value,32)),w=L(()=>i/(1-y.value/x.value)*2),E=L(()=>y.value/x.value*w.value),C=L(()=>Ve((100-g.value)/100*s));return qt(()=>{f.value=r.value,v.value=r.value}),Ce(()=>M(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,o.value,c.value,t.class],style:[l.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:g.value},{default:()=>[M("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${w.value} ${w.value}`},[M("circle",{class:["v-progress-circular__underlay",d.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":E.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),M("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":E.value,"stroke-dasharray":s,"stroke-dashoffset":C.value},null)]),n.default&&M("div",{class:"v-progress-circular__content"},[n.default({value:g.value})])]})),{}}}),JC={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},da=oe({location:String},"location");function Nl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=zn();return{locationStyles:L(()=>{if(!t.location)return{};const{side:r,align:a}=X0(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(c){return n?n(c):0}const l={};return r!=="center"&&(e?l[JC[r]]=`calc(100% - ${o(r)}px)`:l[r]=0),a!=="center"?e?l[JC[a]]=`calc(100% - ${o(a)}px)`:l[a]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const nJ=oe({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ze(),...da({location:"top"}),...dn(),...ft(),...Pt()},"VProgressLinear"),Dv=be()({name:"VProgressLinear",props:nJ(),emits:{"update:modelValue":t=>!0},setup(t,e){var T;let{slots:n}=e;const i=Ke(t,"modelValue"),{isRtl:s,rtlClasses:r}=zn(),{themeClasses:a}=Bt(t),{locationStyles:o}=Nl(t),{textColorClasses:l,textColorStyles:c}=li(t,"color"),{backgroundColorClasses:u,backgroundColorStyles:d}=Kt(L(()=>t.bgColor||t.color)),{backgroundColorClasses:h,backgroundColorStyles:f}=Kt(L(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:m,backgroundColorStyles:v}=Kt(t,"color"),{roundedClasses:p}=xn(t),{intersectionRef:g,isIntersecting:y}=kv(),x=L(()=>parseFloat(t.max)),w=L(()=>parseFloat(t.height)),E=L(()=>Rn(parseFloat(t.bufferValue)/x.value*100,0,100)),C=L(()=>Rn(parseFloat(i.value)/x.value*100,0,100)),A=L(()=>s.value!==t.reverse),S=L(()=>t.indeterminate?"fade-transition":"slide-x-transition"),_=Ot&&((T=window.matchMedia)==null?void 0:T.call(window,"(forced-colors: active)").matches);function b(P){if(!g.value)return;const{left:D,right:O,width:H}=g.value.getBoundingClientRect(),F=A.value?H-P.clientX+(O-H):P.clientX-D;i.value=Math.round(F/H*x.value)}return Ce(()=>M(t.tag,{ref:g,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&y.value,"v-progress-linear--reverse":A.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},p.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Ve(w.value):0,"--v-progress-linear-height":Ve(w.value),...t.absolute?o.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:C.value,onClick:t.clickable&&b},{default:()=>[t.stream&&M("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...c.value,[A.value?"left":"right"]:Ve(-w.value),borderTop:`${Ve(w.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Ve(w.value/4)})`,width:Ve(100-E.value,"%"),"--v-progress-linear-stream-to":Ve(w.value*(A.value?1:-1))}},null),M("div",{class:["v-progress-linear__background",_?void 0:u.value],style:[d.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),M("div",{class:["v-progress-linear__buffer",_?void 0:h.value],style:[f.value,{opacity:parseFloat(t.bufferOpacity),width:Ve(E.value,"%")}]},null),M(Ga,{name:S.value},{default:()=>[t.indeterminate?M("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(P=>M("div",{key:P,class:["v-progress-linear__indeterminate",P,_?void 0:m.value],style:v.value},null))]):M("div",{class:["v-progress-linear__determinate",_?void 0:m.value],style:[v.value,{width:Ve(C.value,"%")}]},null)]}),n.default&&M("div",{class:"v-progress-linear__content"},[n.default({value:C.value,buffer:E.value})])]})),{}}}),Ov=oe({loading:[Boolean,String]},"loader");function Mh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();return{loaderClasses:L(()=>({[`${e}--loading`]:t.loading}))}}function Ch(t,e){var i;let{slots:n}=e;return M("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||M(Dv,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const iJ=["static","relative","fixed","absolute","sticky"],ru=oe({position:{type:String,validator:t=>iJ.includes(t)}},"position");function au(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();return{positionClasses:L(()=>t.position?`${e}--${t.position}`:void 0)}}function sJ(){const t=_n("useRoute");return L(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function Y2(){var t,e;return(e=(t=_n("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Th(t,e){var d,h;const n=f3("RouterLink"),i=L(()=>!!(t.href||t.to)),s=L(()=>(i==null?void 0:i.value)||wC(e,"click")||wC(t,"click"));if(typeof n=="string"||!("useLink"in n)){const f=ge(t,"href");return{isLink:i,isClickable:s,href:f,linkProps:wn({href:f})}}const r=L(()=>({...t,to:ge(()=>t.to||"")})),a=n.useLink(r.value),o=L(()=>t.to?a:void 0),l=sJ(),c=L(()=>{var f,m,v;return o.value?t.exact?l.value?((v=o.value.isExactActive)==null?void 0:v.value)&&Mr(o.value.route.value.query,l.value.query):((m=o.value.isExactActive)==null?void 0:m.value)??!1:((f=o.value.isActive)==null?void 0:f.value)??!1:!1}),u=L(()=>{var f;return t.to?(f=o.value)==null?void 0:f.route.value.href:t.href});return{isLink:i,isClickable:s,isActive:c,route:(d=o.value)==null?void 0:d.route,navigate:(h=o.value)==null?void 0:h.navigate,href:u,linkProps:wn({href:u,"aria-current":L(()=>c.value?"page":void 0)})}}const Eh=oe({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Ny=!1;function rJ(t,e){let n=!1,i,s;Ot&&(Rt(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((a,o,l)=>{Ny?n?e(l):l():setTimeout(()=>n?e(l):l()),Ny=!0}),s=t==null?void 0:t.afterEach(()=>{Ny=!1})}),si(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var o;(o=a.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function aJ(t,e){Pe(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&Rt(()=>{e(!0)})},{immediate:!0})}const sb=Symbol("rippleStop"),oJ=80;function QC(t,e){t.style.transform=e,t.style.webkitTransform=e}function rb(t){return t.constructor.name==="TouchEvent"}function q2(t){return t.constructor.name==="KeyboardEvent"}const lJ=function(t,e){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!q2(t)){const h=e.getBoundingClientRect(),f=rb(t)?t.touches[t.touches.length-1]:t;i=f.clientX-h.left,s=f.clientY-h.top}let r=0,a=.3;(d=e._ripple)!=null&&d.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,c=n.center?o:`${i-r}px`,u=n.center?l:`${s-r}px`;return{radius:r,scale:a,x:c,y:u,centerX:o,centerY:l}},_p={show(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((f=e==null?void 0:e._ripple)!=null&&f.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:o,y:l,centerX:c,centerY:u}=lJ(t,e,n),d=`${r*2}px`;s.className="v-ripple__animation",s.style.width=d,s.style.height=d,e.appendChild(i);const h=window.getComputedStyle(e);h&&h.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),QC(s,`translate(${o}, ${l}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),QC(s,`translate(${c}, ${u}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function K2(t){return typeof t>"u"||!!t}function Fd(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[sb])){if(t[sb]=!0,rb(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||q2(t),n._ripple.class&&(e.class=n._ripple.class),rb(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{_p.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},oJ)}else _p.show(t,n,e)}}function eT(t){t[sb]=!0}function rs(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{rs(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),_p.hide(e)}}function Z2(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Bd=!1;function J2(t){!Bd&&(t.keyCode===gC.enter||t.keyCode===gC.space)&&(Bd=!0,Fd(t))}function Q2(t){Bd=!1,rs(t)}function eL(t){Bd&&(Bd=!1,rs(t))}function tL(t,e,n){const{value:i,modifiers:s}=e,r=K2(i);if(r||_p.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,Ux(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",eT,{passive:!0}),t.addEventListener("mousedown",eT);return}t.addEventListener("touchstart",Fd,{passive:!0}),t.addEventListener("touchend",rs,{passive:!0}),t.addEventListener("touchmove",Z2,{passive:!0}),t.addEventListener("touchcancel",rs),t.addEventListener("mousedown",Fd),t.addEventListener("mouseup",rs),t.addEventListener("mouseleave",rs),t.addEventListener("keydown",J2),t.addEventListener("keyup",Q2),t.addEventListener("blur",eL),t.addEventListener("dragstart",rs,{passive:!0})}else!r&&n&&nL(t)}function nL(t){t.removeEventListener("mousedown",Fd),t.removeEventListener("touchstart",Fd),t.removeEventListener("touchend",rs),t.removeEventListener("touchmove",Z2),t.removeEventListener("touchcancel",rs),t.removeEventListener("mouseup",rs),t.removeEventListener("mouseleave",rs),t.removeEventListener("keydown",J2),t.removeEventListener("keyup",Q2),t.removeEventListener("dragstart",rs),t.removeEventListener("blur",eL)}function cJ(t,e){tL(t,e,!1)}function uJ(t){delete t._ripple,nL(t)}function dJ(t,e){if(e.value===e.oldValue)return;const n=K2(e.oldValue);tL(t,e,n)}const ha={mounted:cJ,unmounted:uJ,updated:dJ},Nv=oe({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:rw},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:ot,appendIcon:ot,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...es(),...ze(),...qn(),...Vn(),...Hn(),...Dl(),...Ov(),...da(),...ru(),...dn(),...Eh(),...Er(),...ft({tag:"button"}),...Pt(),...Ps({variant:"elevated"})},"VBtn"),Vt=be()({name:"VBtn",props:Nv(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Bt(t),{borderClasses:r}=ms(t),{densityClasses:a}=wi(t),{dimensionStyles:o}=Fn(t),{elevationClasses:l}=ai(t),{loaderClasses:c}=Mh(t),{locationStyles:u}=Nl(t),{positionClasses:d}=au(t),{roundedClasses:h}=xn(t),{sizeClasses:f,sizeStyles:m}=su(t),v=Ol(t,t.symbol,!1),p=Th(t,n),g=L(()=>{var T;return t.active!==void 0?t.active:p.isLink.value?(T=p.isActive)==null?void 0:T.value:v==null?void 0:v.isSelected.value}),y=L(()=>g.value?t.activeColor??t.color:t.color),x=L(()=>{var P,D;return{color:(v==null?void 0:v.isSelected.value)&&(!p.isLink.value||((P=p.isActive)==null?void 0:P.value))||!v||((D=p.isActive)==null?void 0:D.value)?y.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:w,colorStyles:E,variantClasses:C}=Ll(x),A=L(()=>(v==null?void 0:v.disabled.value)||t.disabled),S=L(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),_=L(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function b(T){var P;A.value||p.isLink.value&&(T.metaKey||T.ctrlKey||T.shiftKey||T.button!==0||n.target==="_blank")||((P=p.navigate)==null||P.call(p,T),v==null||v.toggle())}return aJ(p,v==null?void 0:v.select),Ce(()=>{const T=p.isLink.value?"a":t.tag,P=!!(t.prependIcon||i.prepend),D=!!(t.appendIcon||i.append),O=!!(t.icon&&t.icon!==!0);return Qe(M(T,Se({type:T==="a"?void 0:"button",class:["v-btn",v==null?void 0:v.selectedClass.value,{"v-btn--active":g.value,"v-btn--block":t.block,"v-btn--disabled":A.value,"v-btn--elevated":S.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,w.value,a.value,l.value,c.value,d.value,h.value,f.value,C.value,t.class],style:[E.value,o.value,u.value,m.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:A.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:b,value:_.value},p.linkProps),{default:()=>{var H;return[no(!0,"v-btn"),!t.icon&&P&&M("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?M(yt,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):M(Ft,{key:"prepend-icon",icon:t.prependIcon},null)]),M("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&O?M(Ft,{key:"content-icon",icon:t.icon},null):M(yt,{key:"content-defaults",disabled:!O,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var F;return[((F=i.default)==null?void 0:F.call(i))??t.text]}})]),!t.icon&&D&&M("span",{key:"append",class:"v-btn__append"},[i.append?M(yt,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):M(Ft,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&M("span",{key:"loader",class:"v-btn__loader"},[((H=i.loader)==null?void 0:H.call(i))??M(Xc,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[ha,!A.value&&t.ripple,"",{center:!!t.icon}]])}),{group:v}}}),hJ=oe({...Nv({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),fJ=be()({name:"VAppBarNavIcon",props:hJ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(Vt,Se(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),mJ=be()({name:"VAppBarTitle",props:B2(),setup(t,e){let{slots:n}=e;return Ce(()=>M(ew,Se(t,{class:"v-app-bar-title"}),n)),{}}}),iL=Tr("v-alert-title"),pJ=["success","info","warning","error"],vJ=oe({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:ot,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>pJ.includes(t)},...ze(),...qn(),...Vn(),...Hn(),...da(),...ru(),...dn(),...ft(),...Pt(),...Ps({variant:"flat"})},"VAlert"),gJ=be()({name:"VAlert",props:vJ(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ke(t,"modelValue"),r=L(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=L(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=Bt(t),{colorClasses:l,colorStyles:c,variantClasses:u}=Ll(a),{densityClasses:d}=wi(t),{dimensionStyles:h}=Fn(t),{elevationClasses:f}=ai(t),{locationStyles:m}=Nl(t),{positionClasses:v}=au(t),{roundedClasses:p}=xn(t),{textColorClasses:g,textColorStyles:y}=li(ge(t,"borderColor")),{t:x}=Cn(),w=L(()=>({"aria-label":x(t.closeLabel),onClick(E){s.value=!1,n("click:close",E)}}));return()=>{const E=!!(i.prepend||r.value),C=!!(i.title||t.title),A=!!(i.close||t.closable);return s.value&&M(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,l.value,d.value,f.value,v.value,p.value,u.value,t.class],style:[c.value,h.value,m.value,t.style],role:"alert"},{default:()=>{var S,_;return[no(!1,"v-alert"),t.border&&M("div",{key:"border",class:["v-alert__border",g.value],style:y.value},null),E&&M("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?M(yt,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):M(Ft,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),M("div",{class:"v-alert__content"},[C&&M(iL,{key:"title"},{default:()=>{var b;return[((b=i.title)==null?void 0:b.call(i))??t.title]}}),((S=i.text)==null?void 0:S.call(i))??t.text,(_=i.default)==null?void 0:_.call(i)]),i.append&&M("div",{key:"append",class:"v-alert__append"},[i.append()]),A&&M("div",{key:"close",class:"v-alert__close"},[i.close?M(yt,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var b;return[(b=i.close)==null?void 0:b.call(i,{props:w.value})]}}):M(Vt,Se({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},w.value),null)])]}})}}}),yJ=oe({start:Boolean,end:Boolean,icon:ot,image:String,text:String,...es(),...ze(),...qn(),...dn(),...Er(),...ft(),...Pt(),...Ps({variant:"flat"})},"VAvatar"),Es=be()({name:"VAvatar",props:yJ(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t),{borderClasses:s}=ms(t),{colorClasses:r,colorStyles:a,variantClasses:o}=Ll(t),{densityClasses:l}=wi(t),{roundedClasses:c}=xn(t),{sizeClasses:u,sizeStyles:d}=su(t);return Ce(()=>M(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,r.value,l.value,c.value,u.value,o.value,t.class],style:[a.value,d.value,t.style]},{default:()=>[n.default?M(yt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?M(aa,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?M(Ft,{key:"icon",icon:t.icon},null):t.text,no(!1,"v-avatar")]})),{}}}),bJ=oe({text:String,onClick:ni(),...ze(),...Pt()},"VLabel"),ou=be()({name:"VLabel",props:bJ(),setup(t,e){let{slots:n}=e;return Ce(()=>{var i;return M("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),sL=Symbol.for("vuetify:selection-control-group"),aw=oe({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:ot,trueIcon:ot,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Mr},...ze(),...qn(),...Pt()},"SelectionControlGroup"),_J=oe({...aw({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),rL=be()({name:"VSelectionControlGroup",props:_J(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),s=ri(),r=L(()=>t.id||`v-selection-control-group-${s}`),a=L(()=>t.name||r.value),o=new Set;return Zt(sL,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),si(()=>{o.delete(l)})}}),bn({[t.defaultsTarget]:{color:ge(t,"color"),disabled:ge(t,"disabled"),density:ge(t,"density"),error:ge(t,"error"),inline:ge(t,"inline"),modelValue:i,multiple:L(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:a,falseIcon:ge(t,"falseIcon"),trueIcon:ge(t,"trueIcon"),readonly:ge(t,"readonly"),ripple:ge(t,"ripple"),type:ge(t,"type"),valueComparator:ge(t,"valueComparator")}}),Ce(()=>{var l;return M("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),Vv=oe({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...ze(),...aw()},"VSelectionControl");function xJ(t){const e=xt(sL,void 0),{densityClasses:n}=wi(t),i=Ke(t,"modelValue"),s=L(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=L(()=>t.falseValue!==void 0?t.falseValue:!1),a=L(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=L({get(){const f=e?e.modelValue.value:i.value;return a.value?pn(f).some(m=>t.valueComparator(m,s.value)):t.valueComparator(f,s.value)},set(f){if(t.readonly)return;const m=f?s.value:r.value;let v=m;a.value&&(v=f?[...pn(i.value),m]:pn(i.value).filter(p=>!t.valueComparator(p,s.value))),e?e.modelValue.value=v:i.value=v}}),{textColorClasses:l,textColorStyles:c}=li(L(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:u,backgroundColorStyles:d}=Kt(L(()=>o.value&&!t.error&&!t.disabled?t.color:t.baseColor)),h=L(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,icon:h}}const Xa=be()({name:"VSelectionControl",directives:{Ripple:ha},inheritAttrs:!1,props:Vv(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:a,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,trueValue:h}=xJ(t),f=ri(),m=De(!1),v=De(!1),p=he(),g=L(()=>t.id||`input-${f}`),y=L(()=>!t.disabled&&!t.readonly);s==null||s.onForceUpdate(()=>{p.value&&(p.value.checked=o.value)});function x(A){y.value&&(m.value=!0,Wc(A.target,":focus-visible")!==!1&&(v.value=!0))}function w(){m.value=!1,v.value=!1}function E(A){A.stopPropagation()}function C(A){if(!y.value){p.value&&(p.value.checked=o.value);return}t.readonly&&s&&Rt(()=>s.forceUpdate()),o.value=A.target.checked}return Ce(()=>{var T,P;const A=i.label?i.label({label:t.label,props:{for:g.value}}):t.label,[S,_]=to(n),b=M("input",Se({ref:p,checked:o.value,disabled:!!t.disabled,id:g.value,onBlur:w,onFocus:x,onInput:C,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:h.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},_),null);return M("div",Se({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":t.inline},r.value,t.class]},S,{style:t.style}),[M("div",{class:["v-selection-control__wrapper",l.value],style:c.value},[(T=i.default)==null?void 0:T.call(i,{backgroundColorClasses:u,backgroundColorStyles:d}),Qe(M("div",{class:["v-selection-control__input"]},[((P=i.input)==null?void 0:P.call(i,{model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,inputNode:b,icon:a.value,props:{onFocus:x,onBlur:w,id:g.value}}))??M(We,null,[a.value&&M(Ft,{key:"icon",icon:a.value},null),b])]),[[yn("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),A&&M(ou,{for:g.value,onClick:E},{default:()=>[A]})])}),{isFocused:m,input:p}}}),aL=oe({indeterminate:Boolean,indeterminateIcon:{type:ot,default:"$checkboxIndeterminate"},...Vv({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),oa=be()({name:"VCheckboxBtn",props:aL(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"indeterminate"),s=Ke(t,"modelValue");function r(l){i.value&&(i.value=!1)}const a=L(()=>i.value?t.indeterminateIcon:t.falseIcon),o=L(()=>i.value?t.indeterminateIcon:t.trueIcon);return Ce(()=>{const l=On(Xa.filterProps(t),["modelValue"]);return M(Xa,Se(l,{modelValue:s.value,"onUpdate:modelValue":[c=>s.value=c,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function oL(t){const{t:e}=Cn();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=t[`onClick:${s}`],o=a&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return M(Ft,{icon:t[`${s}Icon`],"aria-label":o,onClick:a},null)}return{InputIcon:n}}const wJ=oe({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ze(),...qs({transition:{component:nw,leaveAbsolute:!0,group:!0}})},"VMessages"),lL=be()({name:"VMessages",props:wJ(),setup(t,e){let{slots:n}=e;const i=L(()=>pn(t.messages)),{textColorClasses:s,textColorStyles:r}=li(L(()=>t.color));return Ce(()=>M(gi,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((a,o)=>M("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Ah=oe({focused:Boolean,"onUpdate:focused":ni()},"focus");function fa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr();const n=Ke(t,"focused"),i=L(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const cL=Symbol.for("vuetify:form"),SJ=oe({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function MJ(t){const e=Ke(t,"modelValue"),n=L(()=>t.disabled),i=L(()=>t.readonly),s=De(!1),r=he([]),a=he([]);async function o(){const u=[];let d=!0;a.value=[],s.value=!0;for(const h of r.value){const f=await h.validate();if(f.length>0&&(d=!1,u.push({id:h.id,errorMessages:f})),!d&&t.fastFail)break}return a.value=u,s.value=!1,{valid:d,errors:a.value}}function l(){r.value.forEach(u=>u.reset())}function c(){r.value.forEach(u=>u.resetValidation())}return Pe(r,()=>{let u=0,d=0;const h=[];for(const f of r.value)f.isValid===!1?(d++,h.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&u++;a.value=h,e.value=d>0?!1:u===r.value.length?!0:null},{deep:!0,flush:"post"}),Zt(cL,{register:u=>{let{id:d,vm:h,validate:f,reset:m,resetValidation:v}=u;r.value.some(p=>p.id===d),r.value.push({id:d,validate:f,reset:m,resetValidation:v,vm:WT(h),isValid:null,errorMessages:[]})},unregister:u=>{r.value=r.value.filter(d=>d.id!==u)},update:(u,d,h)=>{const f=r.value.find(m=>m.id===u);f&&(f.isValid=d,f.errorMessages=h)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:ge(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:o,reset:l,resetValidation:c}}function Fv(){return xt(cL,null)}const uL=oe({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Ah()},"validation");function dL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cr(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ri();const i=Ke(t,"modelValue"),s=L(()=>t.validationValue===void 0?i.value:t.validationValue),r=Fv(),a=he([]),o=De(!0),l=L(()=>!!(pn(i.value===""?null:i.value).length||pn(s.value===""?null:s.value).length)),c=L(()=>!!(t.disabled??(r==null?void 0:r.isDisabled.value))),u=L(()=>!!(t.readonly??(r==null?void 0:r.isReadonly.value))),d=L(()=>{var E;return(E=t.errorMessages)!=null&&E.length?pn(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),h=L(()=>{let E=(t.validateOn??(r==null?void 0:r.validateOn.value))||"input";E==="lazy"&&(E="input lazy"),E==="eager"&&(E="input eager");const C=new Set((E==null?void 0:E.split(" "))??[]);return{input:C.has("input"),blur:C.has("blur")||C.has("input")||C.has("invalid-input"),invalidInput:C.has("invalid-input"),lazy:C.has("lazy"),eager:C.has("eager")}}),f=L(()=>{var E;return t.error||(E=t.errorMessages)!=null&&E.length?!1:t.rules.length?o.value?a.value.length||h.value.lazy?null:!0:!a.value.length:!0}),m=De(!1),v=L(()=>({[`${e}--error`]:f.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:c.value,[`${e}--readonly`]:u.value})),p=_n("validation"),g=L(()=>t.name??Ae(n));Ip(()=>{r==null||r.register({id:g.value,vm:p,validate:w,reset:y,resetValidation:x})}),Yn(()=>{r==null||r.unregister(g.value)}),Nn(async()=>{h.value.lazy||await w(!h.value.eager),r==null||r.update(g.value,f.value,d.value)}),Fi(()=>h.value.input||h.value.invalidInput&&f.value===!1,()=>{Pe(s,()=>{if(s.value!=null)w();else if(t.focused){const E=Pe(()=>t.focused,C=>{C||w(),E()})}})}),Fi(()=>h.value.blur,()=>{Pe(()=>t.focused,E=>{E||w()})}),Pe([f,d],()=>{r==null||r.update(g.value,f.value,d.value)});async function y(){i.value=null,await Rt(),await x()}async function x(){o.value=!0,h.value.lazy?a.value=[]:await w(!h.value.eager)}async function w(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const C=[];m.value=!0;for(const A of t.rules){if(C.length>=+(t.maxErrors??1))break;const _=await(typeof A=="function"?A:()=>A)(s.value);if(_!==!0){if(_!==!1&&typeof _!="string"){console.warn(`${_} is not a valid value. Rule functions must return boolean true or a string.`);continue}C.push(_||"")}}return a.value=C,m.value=!1,o.value=E,a.value}return{errorMessages:d,isDirty:l,isDisabled:c,isReadonly:u,isPristine:o,isValid:f,isValidating:m,reset:y,resetValidation:x,validate:w,validationClasses:v}}const ma=oe({id:String,appendIcon:ot,centerAffix:{type:Boolean,default:!0},prependIcon:ot,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":ni(),"onClick:append":ni(),...ze(),...qn(),...Mv(Vn(),["maxWidth","minWidth","width"]),...Pt(),...uL()},"VInput"),ci=be()({name:"VInput",props:{...ma()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=wi(t),{dimensionStyles:a}=Fn(t),{themeClasses:o}=Bt(t),{rtlClasses:l}=zn(),{InputIcon:c}=oL(t),u=ri(),d=L(()=>t.id||`input-${u}`),h=L(()=>`${d.value}-messages`),{errorMessages:f,isDirty:m,isDisabled:v,isReadonly:p,isPristine:g,isValid:y,isValidating:x,reset:w,resetValidation:E,validate:C,validationClasses:A}=dL(t,"v-input",d),S=L(()=>({id:d,messagesId:h,isDirty:m,isDisabled:v,isReadonly:p,isPristine:g,isValid:y,isValidating:x,reset:w,resetValidation:E,validate:C})),_=L(()=>{var b;return(b=t.errorMessages)!=null&&b.length||!g.value&&f.value.length?f.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return Ce(()=>{var O,H,F,K;const b=!!(i.prepend||t.prependIcon),T=!!(i.append||t.appendIcon),P=_.value.length>0,D=!t.hideDetails||t.hideDetails==="auto"&&(P||!!i.details);return M("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,o.value,l.value,A.value,t.class],style:[a.value,t.style]},[b&&M("div",{key:"prepend",class:"v-input__prepend"},[(O=i.prepend)==null?void 0:O.call(i,S.value),t.prependIcon&&M(c,{key:"prepend-icon",name:"prepend"},null)]),i.default&&M("div",{class:"v-input__control"},[(H=i.default)==null?void 0:H.call(i,S.value)]),T&&M("div",{key:"append",class:"v-input__append"},[t.appendIcon&&M(c,{key:"append-icon",name:"append"},null),(F=i.append)==null?void 0:F.call(i,S.value)]),D&&M("div",{class:"v-input__details"},[M(lL,{id:h.value,active:P,messages:_.value},{message:i.message}),(K=i.details)==null?void 0:K.call(i,S.value)])])}),{reset:w,resetValidation:E,validate:C,isValid:y,errorMessages:f}}}),CJ=oe({...ma(),...On(aL(),["inline"])},"VCheckbox"),TJ=be()({name:"VCheckbox",inheritAttrs:!1,props:CJ(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ke(t,"modelValue"),{isFocused:r,focus:a,blur:o}=fa(t),l=ri(),c=L(()=>t.id||`checkbox-${l}`);return Ce(()=>{const[u,d]=to(n),h=ci.filterProps(t),f=oa.filterProps(t);return M(ci,Se({class:["v-checkbox",t.class]},u,h,{modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,id:c.value,focused:r.value,style:t.style}),{...i,default:m=>{let{id:v,messagesId:p,isDisabled:g,isReadonly:y,isValid:x}=m;return M(oa,Se(f,{id:v.value,"aria-describedby":p.value,disabled:g.value,readonly:y.value},d,{error:x.value===!1,modelValue:s.value,"onUpdate:modelValue":w=>s.value=w,onFocus:a,onBlur:o}),i)}})}),{}}});function EJ(t){let{selectedElement:e,containerElement:n,isRtl:i,isHorizontal:s}=t;const r=Ud(s,n),a=hL(s,i,n),o=Ud(s,e),l=fL(s,e),c=o*.4;return a>l?l-c:a+r<l+o?l-r+o+c:a}function AJ(t){let{selectedElement:e,containerElement:n,isHorizontal:i}=t;const s=Ud(i,n),r=fL(i,e),a=Ud(i,e);return r-s/2+a/2}function tT(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function PJ(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function hL(t,e,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:s,scrollWidth:r}=n;return t?e?r-s+i:i:n.scrollTop}function Ud(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function fL(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const mL=Symbol.for("vuetify:v-slide-group"),ow=oe({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:mL},nextIcon:{type:ot,default:"$next"},prevIcon:{type:ot,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...ze(),...Al({mobile:null}),...ft(),...kl({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),zd=be()({name:"VSlideGroup",props:ow(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=zn(),{displayClasses:s,mobile:r}=As(t),a=io(t,t.symbol),o=De(!1),l=De(0),c=De(0),u=De(0),d=L(()=>t.direction==="horizontal"),{resizeRef:h,contentRect:f}=zs(),{resizeRef:m,contentRect:v}=zs(),p=fZ(),g=L(()=>({container:h.el,duration:200,easing:"easeOutQuart"})),y=L(()=>a.selected.value.length?a.items.value.findIndex(Y=>Y.id===a.selected.value[0]):-1),x=L(()=>a.selected.value.length?a.items.value.findIndex(Y=>Y.id===a.selected.value[a.selected.value.length-1]):-1);if(Ot){let Y=-1;Pe(()=>[a.selected.value,f.value,v.value,d.value],()=>{cancelAnimationFrame(Y),Y=requestAnimationFrame(()=>{if(f.value&&v.value){const J=d.value?"width":"height";c.value=f.value[J],u.value=v.value[J],o.value=c.value+1<u.value}if(y.value>=0&&m.el){const J=m.el.children[x.value];E(J,t.centerActive)}})})}const w=De(!1);function E(Y,J){let de=0;J?de=AJ({containerElement:h.el,isHorizontal:d.value,selectedElement:Y}):de=EJ({containerElement:h.el,isHorizontal:d.value,isRtl:i.value,selectedElement:Y}),C(de)}function C(Y){if(!Ot||!h.el)return;const J=Ud(d.value,h.el),de=hL(d.value,i.value,h.el);if(!(tT(d.value,h.el)<=J||Math.abs(Y-de)<16)){if(d.value&&i.value&&h.el){const{scrollWidth:ie,offsetWidth:ye}=h.el;Y=ie-ye-Y}d.value?p.horizontal(Y,g.value):p(Y,g.value)}}function A(Y){const{scrollTop:J,scrollLeft:de}=Y.target;l.value=d.value?de:J}function S(Y){if(w.value=!0,!(!o.value||!m.el)){for(const J of Y.composedPath())for(const de of m.el.children)if(de===J){E(de);return}}}function _(Y){w.value=!1}let b=!1;function T(Y){var J;!b&&!w.value&&!(Y.relatedTarget&&((J=m.el)!=null&&J.contains(Y.relatedTarget)))&&O(),b=!1}function P(){b=!0}function D(Y){if(!m.el)return;function J(de){Y.preventDefault(),O(de)}d.value?Y.key==="ArrowRight"?J(i.value?"prev":"next"):Y.key==="ArrowLeft"&&J(i.value?"next":"prev"):Y.key==="ArrowDown"?J("next"):Y.key==="ArrowUp"&&J("prev"),Y.key==="Home"?J("first"):Y.key==="End"&&J("last")}function O(Y){var de,Le;if(!m.el)return;let J;if(!Y)J=kd(m.el)[0];else if(Y==="next"){if(J=(de=m.el.querySelector(":focus"))==null?void 0:de.nextElementSibling,!J)return O("first")}else if(Y==="prev"){if(J=(Le=m.el.querySelector(":focus"))==null?void 0:Le.previousElementSibling,!J)return O("last")}else Y==="first"?J=m.el.firstElementChild:Y==="last"&&(J=m.el.lastElementChild);J&&J.focus({preventScroll:!0})}function H(Y){const J=d.value&&i.value?-1:1,de=(Y==="prev"?-J:J)*c.value;let Le=l.value+de;if(d.value&&i.value&&h.el){const{scrollWidth:ie,offsetWidth:ye}=h.el;Le+=ie-ye}C(Le)}const F=L(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),K=L(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return r.value||o.value||Math.abs(l.value)>0;default:return!r.value&&(o.value||Math.abs(l.value)>0)}}),j=L(()=>Math.abs(l.value)>1),X=L(()=>{if(!h.value)return!1;const Y=tT(d.value,h.el),J=PJ(d.value,h.el);return Y-J-Math.abs(l.value)>1});return Ce(()=>M(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":K.value,"v-slide-group--is-overflowing":o.value},s.value,t.class],style:t.style,tabindex:w.value||a.selected.value.length?-1:0,onFocus:T},{default:()=>{var Y,J,de;return[K.value&&M("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!j.value}],onMousedown:P,onClick:()=>j.value&&H("prev")},[((Y=n.prev)==null?void 0:Y.call(n,F.value))??M(Vd,null,{default:()=>[M(Ft,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),M("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:A},[M("div",{ref:m,class:"v-slide-group__content",onFocusin:S,onFocusout:_,onKeydown:D},[(J=n.default)==null?void 0:J.call(n,F.value)])]),K.value&&M("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!X.value}],onMousedown:P,onClick:()=>X.value&&H("next")},[((de=n.next)==null?void 0:de.call(n,F.value))??M(Vd,null,{default:()=>[M(Ft,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:H,scrollOffset:l,focus:O,hasPrev:j,hasNext:X}}}),pL=Symbol.for("vuetify:v-chip-group"),IJ=oe({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Mr},...ow(),...ze(),...kl({selectedClass:"v-chip--selected"}),...ft(),...Pt(),...Ps({variant:"tonal"})},"VChipGroup"),RJ=be()({name:"VChipGroup",props:IJ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=io(t,pL);return bn({VChip:{color:ge(t,"color"),disabled:ge(t,"disabled"),filter:ge(t,"filter"),variant:ge(t,"variant")}}),Ce(()=>{const c=zd.filterProps(t);return M(zd,Se(c,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}),{}}}),LJ=oe({activeClass:String,appendAvatar:String,appendIcon:ot,closable:Boolean,closeIcon:{type:ot,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ot,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ni(),onClickOnce:ni(),...es(),...ze(),...qn(),...Hn(),...Dl(),...dn(),...Eh(),...Er(),...ft({tag:"span"}),...Pt(),...Ps({variant:"tonal"})},"VChip"),lu=be()({name:"VChip",directives:{Ripple:ha},props:LJ(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=Cn(),{borderClasses:a}=ms(t),{colorClasses:o,colorStyles:l,variantClasses:c}=Ll(t),{densityClasses:u}=wi(t),{elevationClasses:d}=ai(t),{roundedClasses:h}=xn(t),{sizeClasses:f}=su(t),{themeClasses:m}=Bt(t),v=Ke(t,"modelValue"),p=Ol(t,pL,!1),g=Th(t,n),y=L(()=>t.link!==!1&&g.isLink.value),x=L(()=>!t.disabled&&t.link!==!1&&(!!p||t.link||g.isClickable.value)),w=L(()=>({"aria-label":r(t.closeLabel),onClick(A){A.preventDefault(),A.stopPropagation(),v.value=!1,i("click:close",A)}}));function E(A){var S;i("click",A),x.value&&((S=g.navigate)==null||S.call(g,A),p==null||p.toggle())}function C(A){(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),E(A))}return()=>{const A=g.isLink.value?"a":t.tag,S=!!(t.appendIcon||t.appendAvatar),_=!!(S||s.append),b=!!(s.close||t.closable),T=!!(s.filter||t.filter)&&p,P=!!(t.prependIcon||t.prependAvatar),D=!!(P||s.prepend),O=!p||p.isSelected.value;return v.value&&Qe(M(A,Se({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":x.value,"v-chip--filter":T,"v-chip--pill":t.pill},m.value,a.value,O?o.value:void 0,u.value,d.value,h.value,f.value,c.value,p==null?void 0:p.selectedClass.value,t.class],style:[O?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:x.value?0:void 0,onClick:E,onKeydown:x.value&&!y.value&&C},g.linkProps),{default:()=>{var H;return[no(x.value,"v-chip"),T&&M(iw,{key:"filter"},{default:()=>[Qe(M("div",{class:"v-chip__filter"},[s.filter?M(yt,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},s.filter):M(Ft,{key:"filter-icon",icon:t.filterIcon},null)]),[[Ws,p.isSelected.value]])]}),D&&M("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?M(yt,{key:"prepend-defaults",disabled:!P,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):M(We,null,[t.prependIcon&&M(Ft,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&M(Es,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),M("div",{class:"v-chip__content","data-no-activator":""},[((H=s.default)==null?void 0:H.call(s,{isSelected:p==null?void 0:p.isSelected.value,selectedClass:p==null?void 0:p.selectedClass.value,select:p==null?void 0:p.select,toggle:p==null?void 0:p.toggle,value:p==null?void 0:p.value.value,disabled:t.disabled}))??t.text]),_&&M("div",{key:"append",class:"v-chip__append"},[s.append?M(yt,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):M(We,null,[t.appendIcon&&M(Ft,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&M(Es,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),b&&M("button",Se({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},w.value),[s.close?M(yt,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):M(Ft,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[yn("ripple"),x.value&&t.ripple,null]])}}}),ab=Symbol.for("vuetify:list");function vL(){const t=xt(ab,{hasPrepend:De(!1),updateHasPrepend:()=>null}),e={hasPrepend:De(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Zt(ab,e),t}function gL(){return xt(ab,null)}const lw=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=at(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of pn(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},yL=t=>{const e=lw(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=at(r);const o=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:o})},in:(i,s,r)=>{let a=new Set;if(i!=null){const o=pn(i);o.length&&(a=e.in(o.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},kJ=t=>{const e=lw(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=at(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},DJ=t=>{const e=yL(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=at(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},OJ={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},bL={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},NJ={open:bL.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},cw=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=at(i),t&&!s){const a=Array.from(r.entries()).reduce((o,l)=>{let[c,u]=l;return u==="on"&&o.push(c),o},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},_L=t=>{const e=cw(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=at(r);const o=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:o})},in:(i,s,r)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),s,r)),a},out:(i,s,r)=>e.out(i,s,r)}},VJ=t=>{const e=cw(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=at(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},FJ=t=>{const e=_L(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=at(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},BJ=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:o}=n;i=at(i);const l=new Map(r),c=[i];for(;c.length;){const d=c.shift();r.set(at(d),s?"on":"off"),a.has(d)&&c.push(...a.get(d))}let u=at(o.get(i));for(;u;){const d=a.get(u),h=d.every(m=>r.get(at(m))==="on"),f=d.every(m=>!r.has(at(m))||r.get(at(m))==="off");r.set(u,h?"on":f?"off":"indeterminate"),u=at(o.get(u))}return t&&!s&&Array.from(r.entries()).reduce((h,f)=>{let[m,v]=f;return v==="on"&&h.push(m),h},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},Hd=Symbol.for("vuetify:nested"),xL={id:De(),root:{register:()=>null,unregister:()=>null,parents:he(new Map),children:he(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:he(!1),selectable:he(!1),opened:he(new Set),activated:he(new Set),selected:he(new Map),selectedValues:he([]),getPath:()=>[]}},UJ=oe({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),zJ=t=>{let e=!1;const n=he(new Map),i=he(new Map),s=Ke(t,"opened",t.opened,m=>new Set(m),m=>[...m.values()]),r=L(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return kJ(t.mandatory);case"single-leaf":return DJ(t.mandatory);case"independent":return lw(t.mandatory);case"single-independent":default:return yL(t.mandatory)}}),a=L(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return FJ(t.mandatory);case"leaf":return VJ(t.mandatory);case"independent":return cw(t.mandatory);case"single-independent":return _L(t.mandatory);case"classic":default:return BJ(t.mandatory)}}),o=L(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return NJ;case"single":return OJ;case"multiple":default:return bL}}),l=Ke(t,"activated",t.activated,m=>r.value.in(m,n.value,i.value),m=>r.value.out(m,n.value,i.value)),c=Ke(t,"selected",t.selected,m=>a.value.in(m,n.value,i.value),m=>a.value.out(m,n.value,i.value));Yn(()=>{e=!0});function u(m){const v=[];let p=m;for(;p!=null;)v.unshift(p),p=i.value.get(p);return v}const d=_n("nested"),h=new Set,f={id:De(),root:{opened:s,activatable:ge(t,"activatable"),selectable:ge(t,"selectable"),activated:l,selected:c,selectedValues:L(()=>{const m=[];for(const[v,p]of c.value.entries())p==="on"&&m.push(v);return m}),register:(m,v,p)=>{if(h.has(m)){u(m).map(String).join(" -> "),u(v).concat(m).map(String).join(" -> ");return}else h.add(m);v&&m!==v&&i.value.set(m,v),p&&n.value.set(m,[]),v!=null&&n.value.set(v,[...n.value.get(v)||[],m])},unregister:m=>{if(e)return;h.delete(m),n.value.delete(m);const v=i.value.get(m);if(v){const p=n.value.get(v)??[];n.value.set(v,p.filter(g=>g!==m))}i.value.delete(m)},open:(m,v,p)=>{d.emit("click:open",{id:m,value:v,path:u(m),event:p});const g=o.value.open({id:m,value:v,opened:new Set(s.value),children:n.value,parents:i.value,event:p});g&&(s.value=g)},openOnSelect:(m,v,p)=>{const g=o.value.select({id:m,value:v,selected:new Map(c.value),opened:new Set(s.value),children:n.value,parents:i.value,event:p});g&&(s.value=g)},select:(m,v,p)=>{d.emit("click:select",{id:m,value:v,path:u(m),event:p});const g=a.value.select({id:m,value:v,selected:new Map(c.value),children:n.value,parents:i.value,event:p});g&&(c.value=g),f.root.openOnSelect(m,v,p)},activate:(m,v,p)=>{if(!t.activatable)return f.root.select(m,!0,p);d.emit("click:activate",{id:m,value:v,path:u(m),event:p});const g=r.value.activate({id:m,value:v,activated:new Set(l.value),children:n.value,parents:i.value,event:p});g&&(l.value=g)},children:n,parents:i,getPath:u}};return Zt(Hd,f),f.root},wL=(t,e)=>{const n=xt(Hd,xL),i=Symbol(ri()),s=L(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,o)=>n.root.open(s.value,a,o),openOnSelect:(a,o)=>n.root.openOnSelect(s.value,a,o),isOpen:L(()=>n.root.opened.value.has(s.value)),parent:L(()=>n.root.parents.value.get(s.value)),activate:(a,o)=>n.root.activate(s.value,a,o),isActivated:L(()=>n.root.activated.value.has(at(s.value))),select:(a,o)=>n.root.select(s.value,a,o),isSelected:L(()=>n.root.selected.value.get(at(s.value))==="on"),isIndeterminate:L(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:L(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,e),Yn(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&Zt(Hd,r),r},HJ=()=>{const t=xt(Hd,xL);Zt(Hd,{...t,isGroupActivator:!0})},GJ=hs({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return HJ(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),WJ=oe({activeColor:String,baseColor:String,color:String,collapseIcon:{type:ot,default:"$collapse"},expandIcon:{type:ot,default:"$expand"},prependIcon:ot,appendIcon:ot,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ze(),...ft()},"VListGroup"),ob=be()({name:"VListGroup",props:WJ(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=wL(ge(t,"value"),!0),a=L(()=>`v-list-group--id-${String(r.value)}`),o=gL(),{isBooted:l}=Rl();function c(f){f.stopPropagation(),s(!i.value,f)}const u=L(()=>({onClick:c,class:"v-list-group__header",id:a.value})),d=L(()=>i.value?t.collapseIcon:t.expandIcon),h=L(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}));return Ce(()=>M(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&M(yt,{defaults:h.value},{default:()=>[M(GJ,null,{default:()=>[n.activator({props:u.value,isOpen:i.value})]})]}),M(gi,{transition:{component:Lv},disabled:!l.value},{default:()=>{var f;return[Qe(M("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(f=n.default)==null?void 0:f.call(n)]),[[Ws,i.value]])]}})]})),{isOpen:i}}}),$J=oe({opacity:[Number,String],...ze(),...ft()},"VListItemSubtitle"),SL=be()({name:"VListItemSubtitle",props:$J(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),ML=Tr("v-list-item-title"),jJ=oe({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:ot,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:ot,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:ni(),onClickOnce:ni(),...es(),...ze(),...qn(),...Vn(),...Hn(),...dn(),...Eh(),...ft(),...Pt(),...Ps({variant:"text"})},"VListItem"),la=be()({name:"VListItem",directives:{Ripple:ha},props:jJ(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=Th(t,n),a=L(()=>t.value===void 0?r.href.value:t.value),{activate:o,isActivated:l,select:c,isOpen:u,isSelected:d,isIndeterminate:h,isGroupActivator:f,root:m,parent:v,openOnSelect:p,id:g}=wL(a,!1),y=gL(),x=L(()=>{var de;return t.active!==!1&&(t.active||((de=r.isActive)==null?void 0:de.value)||(m.activatable.value?l.value:d.value))}),w=L(()=>t.link!==!1&&r.isLink.value),E=L(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||!!y&&(m.selectable.value||m.activatable.value||t.value!=null))),C=L(()=>t.rounded||t.nav),A=L(()=>t.color??t.activeColor),S=L(()=>({color:x.value?A.value??t.baseColor:t.baseColor,variant:t.variant}));Pe(()=>{var de;return(de=r.isActive)==null?void 0:de.value},de=>{de&&v.value!=null&&m.open(v.value,!0),de&&p(de)},{immediate:!0});const{themeClasses:_}=Bt(t),{borderClasses:b}=ms(t),{colorClasses:T,colorStyles:P,variantClasses:D}=Ll(S),{densityClasses:O}=wi(t),{dimensionStyles:H}=Fn(t),{elevationClasses:F}=ai(t),{roundedClasses:K}=xn(C),j=L(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),X=L(()=>({isActive:x.value,select:c,isOpen:u.value,isSelected:d.value,isIndeterminate:h.value}));function Y(de){var Le;s("click",de),E.value&&((Le=r.navigate)==null||Le.call(r,de),!f&&(m.activatable.value?o(!l.value,de):(m.selectable.value||t.value!=null)&&c(!d.value,de)))}function J(de){(de.key==="Enter"||de.key===" ")&&(de.preventDefault(),de.target.dispatchEvent(new MouseEvent("click",de)))}return Ce(()=>{const de=w.value?"a":t.tag,Le=i.title||t.title!=null,ie=i.subtitle||t.subtitle!=null,ye=!!(t.appendAvatar||t.appendIcon),se=!!(ye||i.append),me=!!(t.prependAvatar||t.prependIcon),ae=!!(me||i.prepend);return y==null||y.updateHasPrepend(ae),t.activeColor&&Xq("active-color",["color","base-color"]),Qe(M(de,Se({class:["v-list-item",{"v-list-item--active":x.value,"v-list-item--disabled":t.disabled,"v-list-item--link":E.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!ae&&(y==null?void 0:y.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&x.value},_.value,b.value,T.value,O.value,F.value,j.value,K.value,D.value,t.class],style:[P.value,H.value,t.style],tabindex:E.value?y?-2:0:void 0,"aria-selected":m.activatable.value?l.value:d.value,onClick:Y,onKeydown:E.value&&!w.value&&J},r.linkProps),{default:()=>{var N;return[no(E.value||x.value,"v-list-item"),ae&&M("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?M(yt,{key:"prepend-defaults",disabled:!me,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var B;return[(B=i.prepend)==null?void 0:B.call(i,X.value)]}}):M(We,null,[t.prependAvatar&&M(Es,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&M(Ft,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),M("div",{class:"v-list-item__spacer"},null)]),M("div",{class:"v-list-item__content","data-no-activator":""},[Le&&M(ML,{key:"title"},{default:()=>{var B;return[((B=i.title)==null?void 0:B.call(i,{title:t.title}))??t.title]}}),ie&&M(SL,{key:"subtitle"},{default:()=>{var B;return[((B=i.subtitle)==null?void 0:B.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(N=i.default)==null?void 0:N.call(i,X.value)]),se&&M("div",{key:"append",class:"v-list-item__append"},[i.append?M(yt,{key:"append-defaults",disabled:!ye,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var B;return[(B=i.append)==null?void 0:B.call(i,X.value)]}}):M(We,null,[t.appendIcon&&M(Ft,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&M(Es,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),M("div",{class:"v-list-item__spacer"},null)])]}}),[[yn("ripple"),E.value&&t.ripple]])}),{activate:o,isActivated:l,isGroupActivator:f,isSelected:d,list:y,select:c,root:m,id:g}}}),XJ=oe({color:String,inset:Boolean,sticky:Boolean,title:String,...ze(),...ft()},"VListSubheader"),CL=be()({name:"VListSubheader",props:XJ(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=li(ge(t,"color"));return Ce(()=>{const r=!!(n.default||t.title);return M(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&M("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),YJ=oe({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ze(),...Pt()},"VDivider"),Ph=be()({name:"VDivider",props:YJ(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Bt(t),{textColorClasses:r,textColorStyles:a}=li(ge(t,"color")),o=L(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=Ve(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=Ve(t.thickness)),l});return Ce(()=>{const l=M("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[o.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?M("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[l,M("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),qJ=oe({items:Array,returnObject:Boolean},"VListChildren"),TL=be()({name:"VListChildren",props:qJ(),setup(t,e){let{slots:n}=e;return vL(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var h,f;let{children:a,props:o,type:l,raw:c}=r;if(l==="divider")return((h=n.divider)==null?void 0:h.call(n,{props:o}))??M(Ph,o,null);if(l==="subheader")return((f=n.subheader)==null?void 0:f.call(n,{props:o}))??M(CL,o,null);const u={subtitle:n.subtitle?m=>{var v;return(v=n.subtitle)==null?void 0:v.call(n,{...m,item:c})}:void 0,prepend:n.prepend?m=>{var v;return(v=n.prepend)==null?void 0:v.call(n,{...m,item:c})}:void 0,append:n.append?m=>{var v;return(v=n.append)==null?void 0:v.call(n,{...m,item:c})}:void 0,title:n.title?m=>{var v;return(v=n.title)==null?void 0:v.call(n,{...m,item:c})}:void 0},d=ob.filterProps(o);return a?M(ob,Se({value:o==null?void 0:o.value},d),{activator:m=>{let{props:v}=m;const p={...o,...v,value:t.returnObject?c:o.value};return n.header?n.header({props:p}):M(la,p,u)},default:()=>M(TL,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:o}):M(la,Se(o,{value:t.returnObject?c:o.value}),u)}))}}}),EL=oe({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Mr}},"list-items");function Va(t,e){const n=Un(e,t.itemTitle,e),i=Un(e,t.itemValue,n),s=Un(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?On(e,["children"]):e:void 0:Un(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?AL(t,s):void 0,raw:e}}function AL(t,e){const n=[];for(const i of e)n.push(Va(t,i));return n}function uw(t){const e=L(()=>AL(t,t.items)),n=L(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(a=>a!==null)),r.map(a=>t.returnObject&&typeof a=="string"?Va(t,a):e.value.find(o=>t.valueComparator(a,o.value))||Va(t,a))}function s(r){return t.returnObject?r.map(a=>{let{raw:o}=a;return o}):r.map(a=>{let{value:o}=a;return o})}return{items:e,transformIn:i,transformOut:s}}function KJ(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function ZJ(t,e){const n=Un(e,t.itemType,"item"),i=KJ(e)?e:Un(e,t.itemTitle),s=Un(e,t.itemValue,void 0),r=Un(e,t.itemChildren),a=t.itemProps===!0?On(e,["children"]):Un(e,t.itemProps),o={title:i,value:s,...a};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&r?PL(t,r):void 0,raw:e}}function PL(t,e){const n=[];for(const i of e)n.push(ZJ(t,i));return n}function JJ(t){return{items:L(()=>PL(t,t.items))}}const QJ=oe({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ni(),"onClick:select":ni(),"onUpdate:opened":ni(),...UJ({selectStrategy:"single-leaf",openStrategy:"list"}),...es(),...ze(),...qn(),...Vn(),...Hn(),itemType:{type:String,default:"type"},...EL(),...dn(),...ft(),...Pt(),...Ps({variant:"text"})},"VList"),Bv=be()({name:"VList",props:QJ(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=JJ(t),{themeClasses:s}=Bt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Kt(ge(t,"bgColor")),{borderClasses:o}=ms(t),{densityClasses:l}=wi(t),{dimensionStyles:c}=Fn(t),{elevationClasses:u}=ai(t),{roundedClasses:d}=xn(t),{children:h,open:f,parents:m,select:v,getPath:p}=zJ(t),g=L(()=>t.lines?`v-list--${t.lines}-line`:void 0),y=ge(t,"activeColor"),x=ge(t,"baseColor"),w=ge(t,"color");vL(),bn({VListGroup:{activeColor:y,baseColor:x,color:w,expandIcon:ge(t,"expandIcon"),collapseIcon:ge(t,"collapseIcon")},VListItem:{activeClass:ge(t,"activeClass"),activeColor:y,baseColor:x,color:w,density:ge(t,"density"),disabled:ge(t,"disabled"),lines:ge(t,"lines"),nav:ge(t,"nav"),slim:ge(t,"slim"),variant:ge(t,"variant")}});const E=De(!1),C=he();function A(D){E.value=!0}function S(D){E.value=!1}function _(D){var O;!E.value&&!(D.relatedTarget&&((O=C.value)!=null&&O.contains(D.relatedTarget)))&&P()}function b(D){const O=D.target;if(!(!C.value||["INPUT","TEXTAREA"].includes(O.tagName))){if(D.key==="ArrowDown")P("next");else if(D.key==="ArrowUp")P("prev");else if(D.key==="Home")P("first");else if(D.key==="End")P("last");else return;D.preventDefault()}}function T(D){E.value=!0}function P(D){if(C.value)return Ko(C.value,D)}return Ce(()=>M(t.tag,{ref:C,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,o.value,l.value,u.value,g.value,d.value,t.class],style:[a.value,c.value,t.style],tabindex:t.disabled||E.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:A,onFocusout:S,onFocus:_,onKeydown:b,onMousedown:T},{default:()=>[M(TL,{items:i.value,returnObject:t.returnObject},n)]})),{open:f,select:v,focus:P,children:h,parents:m,getPath:p}}}),eQ=Tr("v-list-img"),tQ=oe({start:Boolean,end:Boolean,...ze(),...ft()},"VListItemAction"),nQ=be()({name:"VListItemAction",props:tQ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},n)),{}}}),iQ=oe({start:Boolean,end:Boolean,...ze(),...ft()},"VListItemMedia"),sQ=be()({name:"VListItemMedia",props:iQ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end},t.class],style:t.style},n)),{}}});function Vy(t,e){return{x:t.x+e.x,y:t.y+e.y}}function rQ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nT(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return Vy({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Vy({x:s,y:r},e)}return Vy({x:e.width/2,y:e.height/2},e)}const IL={static:lQ,connected:uQ},aQ=oe({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in IL},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function oQ(t,e){const n=he({}),i=he();Ot&&Fi(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,o;Pe(()=>t.locationStrategy,r),si(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(o=IL[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function lQ(){}function cQ(t,e){const n=$x(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function uQ(t,e,n){(Array.isArray(t.target.value)||mK(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=Gx(()=>{const m=X0(e.location,t.isRtl.value),v=e.origin==="overlap"?m:e.origin==="auto"?Ly(m):X0(e.origin,t.isRtl.value);return m.side===v.side&&m.align===ky(v).align?{preferredAnchor:SC(m),preferredOrigin:SC(v)}:{preferredAnchor:m,preferredOrigin:v}}),[a,o,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(m=>L(()=>{const v=parseFloat(e[m]);return isNaN(v)?1/0:v})),u=L(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const m=e.offset.split(" ").map(parseFloat);return m.length<2&&m.push(0),m}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let d=!1;const h=new ResizeObserver(()=>{d&&f()});Pe([t.target,t.contentEl],(m,v)=>{let[p,g]=m,[y,x]=v;y&&!Array.isArray(y)&&h.unobserve(y),p&&!Array.isArray(p)&&h.observe(p),x&&h.unobserve(x),g&&h.observe(g)},{immediate:!0}),si(()=>{h.disconnect()});function f(){if(d=!1,requestAnimationFrame(()=>d=!0),!t.target.value||!t.contentEl.value)return;const m=c2(t.target.value),v=cQ(t.contentEl.value,t.isRtl.value),p=yp(t.contentEl.value),g=12;p.length||(p.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const y=p.reduce((T,P)=>{const D=P.getBoundingClientRect(),O=new Zo({x:P===document.documentElement?0:D.x,y:P===document.documentElement?0:D.y,width:P.clientWidth,height:P.clientHeight});return T?new Zo({x:Math.max(T.left,O.left),y:Math.max(T.top,O.top),width:Math.min(T.right,O.right)-Math.max(T.left,O.left),height:Math.min(T.bottom,O.bottom)-Math.max(T.top,O.top)}):O},void 0);y.x+=g,y.y+=g,y.width-=g*2,y.height-=g*2;let x={anchor:s.value,origin:r.value};function w(T){const P=new Zo(v),D=nT(T.anchor,m),O=nT(T.origin,P);let{x:H,y:F}=rQ(D,O);switch(T.anchor.side){case"top":F-=u.value[0];break;case"bottom":F+=u.value[0];break;case"left":H-=u.value[0];break;case"right":H+=u.value[0];break}switch(T.anchor.align){case"top":F-=u.value[1];break;case"bottom":F+=u.value[1];break;case"left":H-=u.value[1];break;case"right":H+=u.value[1];break}return P.x+=H,P.y+=F,P.width=Math.min(P.width,l.value),P.height=Math.min(P.height,c.value),{overflows:CC(P,y),x:H,y:F}}let E=0,C=0;const A={x:0,y:0},S={x:!1,y:!1};let _=-1;for(;!(_++>10);){const{x:T,y:P,overflows:D}=w(x);E+=T,C+=P,v.x+=T,v.y+=P;{const O=MC(x.anchor),H=D.x.before||D.x.after,F=D.y.before||D.y.after;let K=!1;if(["x","y"].forEach(j=>{if(j==="x"&&H&&!S.x||j==="y"&&F&&!S.y){const X={anchor:{...x.anchor},origin:{...x.origin}},Y=j==="x"?O==="y"?ky:Ly:O==="y"?Ly:ky;X.anchor=Y(X.anchor),X.origin=Y(X.origin);const{overflows:J}=w(X);(J[j].before<=D[j].before&&J[j].after<=D[j].after||J[j].before+J[j].after<(D[j].before+D[j].after)/2)&&(x=X,K=S[j]=!0)}}),K)continue}D.x.before&&(E+=D.x.before,v.x+=D.x.before),D.x.after&&(E-=D.x.after,v.x-=D.x.after),D.y.before&&(C+=D.y.before,v.y+=D.y.before),D.y.after&&(C-=D.y.after,v.y-=D.y.after);{const O=CC(v,y);A.x=y.width-O.x.before-O.x.after,A.y=y.height-O.y.before-O.y.after,E+=O.x.before,v.x+=O.x.before,C+=O.y.before,v.y+=O.y.before}break}const b=MC(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:Ve(Fy(C)),left:t.isRtl.value?void 0:Ve(Fy(E)),right:t.isRtl.value?Ve(Fy(-E)):void 0,minWidth:Ve(b==="y"?Math.min(a.value,m.width):a.value),maxWidth:Ve(iT(Rn(A.x,a.value===1/0?0:a.value,l.value))),maxHeight:Ve(iT(Rn(A.y,o.value===1/0?0:o.value,c.value)))}),{available:A,contentBox:v}}return Pe(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>f()),Rt(()=>{const m=f();if(!m)return;const{available:v,contentBox:p}=m;p.height>v.y&&requestAnimationFrame(()=>{f(),requestAnimationFrame(()=>{f()})})}),{updateLocation:f}}function Fy(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function iT(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let lb=!0;const xp=[];function dQ(t){!lb||xp.length?(xp.push(t),cb()):(lb=!1,t(),cb())}let sT=-1;function cb(){cancelAnimationFrame(sT),sT=requestAnimationFrame(()=>{const t=xp.shift();t&&t(),xp.length?cb():lb=!0})}const um={none:null,close:mQ,block:pQ,reposition:vQ},hQ=oe({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in um}},"VOverlay-scroll-strategies");function fQ(t,e){if(!Ot)return;let n;qt(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Rb(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=um[t.scrollStrategy])==null||i.call(um,e,t,n)}))}),si(()=>{n==null||n.stop()})}function mQ(t){function e(n){t.isActive.value=!1}RL(t.targetEl.value??t.contentEl.value,e)}function pQ(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...yp(t.targetEl.value,e.contained?n:void 0),...yp(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(o=>Kx(o)&&o)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Ve(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Ve(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Ve(s)),o.classList.add("v-overlay-scroll-blocked")}),si(()=>{i.forEach((o,l)=>{const c=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),d=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-c,o.scrollTop=-u,o.style.scrollBehavior=d}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function vQ(t,e,n){let i=!1,s=-1,r=-1;function a(o){dQ(()=>{var u,d;const l=performance.now();(d=(u=t.updateLocation).value)==null||d.call(u,o),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{RL(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(o)})})):a(o)})})}),si(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function RL(t,e){const n=[document,...yp(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),si(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const ub=Symbol.for("vuetify:v-menu"),dw=oe({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function hw(t,e){let n=()=>{};function i(a){n==null||n();const o=Number(a?t.openDelay:t.closeDelay);return new Promise(l=>{n=Oq(o,()=>{e==null||e(a),l(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const gQ=oe({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...dw()},"VOverlay-activator");function yQ(t,e){let{isActive:n,isTop:i,contentEl:s}=e;const r=_n("useActivator"),a=he();let o=!1,l=!1,c=!0;const u=L(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),d=L(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!u.value),{runOpenDelay:h,runCloseDelay:f}=hw(t,S=>{S===(t.openOnHover&&o||u.value&&l)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==S&&(c=!0),n.value=S)}),m=he(),v={onClick:S=>{S.stopPropagation(),a.value=S.currentTarget||S.target,n.value||(m.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var _;(_=S.sourceCapabilities)!=null&&_.firesTouchEvents||(o=!0,a.value=S.currentTarget||S.target,h())},onMouseleave:S=>{o=!1,f()},onFocus:S=>{Wc(S.target,":focus-visible")!==!1&&(l=!0,S.stopPropagation(),a.value=S.currentTarget||S.target,h())},onBlur:S=>{l=!1,S.stopPropagation(),f()}},p=L(()=>{const S={};return d.value&&(S.onClick=v.onClick),t.openOnHover&&(S.onMouseenter=v.onMouseenter,S.onMouseleave=v.onMouseleave),u.value&&(S.onFocus=v.onFocus,S.onBlur=v.onBlur),S}),g=L(()=>{const S={};if(t.openOnHover&&(S.onMouseenter=()=>{o=!0,h()},S.onMouseleave=()=>{o=!1,f()}),u.value&&(S.onFocusin=()=>{l=!0,h()},S.onFocusout=()=>{l=!1,f()}),t.closeOnContentClick){const _=xt(ub,null);S.onClick=()=>{n.value=!1,_==null||_.closeParents()}}return S}),y=L(()=>{const S={};return t.openOnHover&&(S.onMouseenter=()=>{c&&(o=!0,c=!1,h())},S.onMouseleave=()=>{o=!1,f()}),S});Pe(i,S=>{var _;S&&(t.openOnHover&&!o&&(!u.value||!l)||u.value&&!l&&(!t.openOnHover||!o))&&!((_=s.value)!=null&&_.contains(document.activeElement))&&(n.value=!1)}),Pe(n,S=>{S||setTimeout(()=>{m.value=void 0})},{flush:"post"});const x=pp();qt(()=>{x.value&&Rt(()=>{a.value=x.el})});const w=pp(),E=L(()=>t.target==="cursor"&&m.value?m.value:w.value?w.el:LL(t.target,r)||a.value),C=L(()=>Array.isArray(E.value)?void 0:E.value);let A;return Pe(()=>!!t.activator,S=>{S&&Ot?(A=Rb(),A.run(()=>{bQ(t,r,{activatorEl:a,activatorEvents:p})})):A&&A.stop()},{flush:"post",immediate:!0}),si(()=>{A==null||A.stop()}),{activatorEl:a,activatorRef:x,target:E,targetEl:C,targetRef:w,activatorEvents:p,contentEvents:g,scrimEvents:y}}function bQ(t,e,n){let{activatorEl:i,activatorEvents:s}=n;Pe(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=o(c);u&&a(u)}l&&Rt(()=>r())},{immediate:!0}),Pe(()=>t.activatorProps,()=>{r()}),si(()=>{a()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&Fq(l,Se(s.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&Bq(l,Se(s.value,c))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const c=LL(l,e);return i.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,i.value}}function LL(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function kL(){if(!Ot)return De(!1);const{ssr:t}=As();if(t){const e=De(!1);return Nn(()=>{e.value=!0}),e}else return De(!0)}const fw=oe({eager:Boolean},"lazy");function mw(t,e){const n=De(!1),i=L(()=>n.value||t.eager||e.value);Pe(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function Vl(){const e=_n("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const rT=Symbol.for("vuetify:stack"),Du=wn([]);function _Q(t,e,n){const i=_n("useStack"),s=!n,r=xt(rT,void 0),a=wn({activeChildren:new Set});Zt(rT,a);const o=De(+e.value);Fi(t,()=>{var d;const u=(d=Du.at(-1))==null?void 0:d[1];o.value=u?u+10:+e.value,s&&Du.push([i.uid,o.value]),r==null||r.activeChildren.add(i.uid),si(()=>{if(s){const h=at(Du).findIndex(f=>f[0]===i.uid);Du.splice(h,1)}r==null||r.activeChildren.delete(i.uid)})});const l=De(!0);s&&qt(()=>{var d;const u=((d=Du.at(-1))==null?void 0:d[0])===i.uid;setTimeout(()=>l.value=u)});const c=L(()=>!a.activeChildren.size);return{globalTop:Zr(l),localTop:c,stackStyles:L(()=>({zIndex:o.value}))}}function xQ(t){return{teleportTarget:L(()=>{const n=t();if(n===!0||!Ot)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=[...i.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function wQ(){return!0}function DL(t,e,n){if(!t||OL(t,n)===!1)return!1;const i=w2(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function OL(t,e){return(typeof e.value=="object"&&e.value.closeConditional||wQ)(t)}function SQ(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&DL(t,e,n)&&setTimeout(()=>{OL(t,n)&&i&&i(t)},0)}function aT(t,e){const n=w2(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const NL={mounted(t,e){const n=s=>SQ(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=DL(s,t,e)};aT(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&(aT(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function MQ(t){const{modelValue:e,color:n,...i}=t;return M(Ga,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&M("div",Se({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const Ih=oe({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...gQ(),...ze(),...Vn(),...fw(),...aQ(),...hQ(),...Pt(),...qs()},"VOverlay"),yr=be()({name:"VOverlay",directives:{ClickOutside:NL},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ih()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=_n("VOverlay"),a=he(),o=he(),l=he(),c=Ke(t,"modelValue"),u=L({get:()=>c.value,set:se=>{se&&t.disabled||(c.value=se)}}),{themeClasses:d}=Bt(t),{rtlClasses:h,isRtl:f}=zn(),{hasContent:m,onAfterLeave:v}=mw(t,u),p=Kt(L(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:g,localTop:y,stackStyles:x}=_Q(u,ge(t,"zIndex"),t._disableGlobalStack),{activatorEl:w,activatorRef:E,target:C,targetEl:A,targetRef:S,activatorEvents:_,contentEvents:b,scrimEvents:T}=yQ(t,{isActive:u,isTop:y,contentEl:l}),{teleportTarget:P}=xQ(()=>{var ae,N,B;const se=t.attach||t.contained;if(se)return se;const me=((ae=w==null?void 0:w.value)==null?void 0:ae.getRootNode())||((B=(N=r.proxy)==null?void 0:N.$el)==null?void 0:B.getRootNode());return me instanceof ShadowRoot?me:!1}),{dimensionStyles:D}=Fn(t),O=kL(),{scopeId:H}=Vl();Pe(()=>t.disabled,se=>{se&&(u.value=!1)});const{contentStyles:F,updateLocation:K}=oQ(t,{isRtl:f,contentEl:l,target:C,isActive:u});fQ(t,{root:a,contentEl:l,targetEl:A,isActive:u,updateLocation:K});function j(se){s("click:outside",se),t.persistent?Le():u.value=!1}function X(se){return u.value&&g.value&&(!t.scrim||se.target===o.value||se instanceof MouseEvent&&se.shadowTarget===o.value)}Ot&&Pe(u,se=>{se?window.addEventListener("keydown",Y):window.removeEventListener("keydown",Y)},{immediate:!0}),Yn(()=>{Ot&&window.removeEventListener("keydown",Y)});function Y(se){var me,ae;se.key==="Escape"&&g.value&&(t.persistent?Le():(u.value=!1,(me=l.value)!=null&&me.contains(document.activeElement)&&((ae=w.value)==null||ae.focus())))}const J=Y2();Fi(()=>t.closeOnBack,()=>{rJ(J,se=>{g.value&&u.value?(se(!1),t.persistent?Le():u.value=!1):se()})});const de=he();Pe(()=>u.value&&(t.absolute||t.contained)&&P.value==null,se=>{if(se){const me=qx(a.value);me&&me!==document.scrollingElement&&(de.value=me.scrollTop)}});function Le(){t.noClickAnimation||l.value&&zo(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Dd})}function ie(){s("afterEnter")}function ye(){v(),s("afterLeave")}return Ce(()=>{var se;return M(We,null,[(se=n.activator)==null?void 0:se.call(n,{isActive:u.value,targetRef:S,props:Se({ref:E},_.value,t.activatorProps)}),O.value&&m.value&&M(i3,{disabled:!P.value,to:P.value},{default:()=>[M("div",Se({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":u.value,"v-overlay--contained":t.contained},d.value,h.value,t.class],style:[x.value,{"--v-overlay-opacity":t.opacity,top:Ve(de.value)},t.style],ref:a},H,i),[M(MQ,Se({color:p,modelValue:u.value&&!!t.scrim,ref:o},T.value),null),M(gi,{appear:!0,persisted:!0,transition:t.transition,target:C.value,onAfterEnter:ie,onAfterLeave:ye},{default:()=>{var me;return[Qe(M("div",Se({ref:l,class:["v-overlay__content",t.contentClass],style:[D.value,F.value]},b.value,t.contentProps),[(me=n.default)==null?void 0:me.call(n,{isActive:u})]),[[Ws,u.value],[yn("click-outside"),{handler:j,closeConditional:X,include:()=>[w.value]}]])]}})])]})])}),{activatorEl:w,scrimEl:o,target:C,animateClick:Le,contentEl:l,globalTop:g,localTop:y,updateLocation:K}}}),By=Symbol("Forwarded refs");function Uy(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Is(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[By]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const o=Reflect.get(a.value,r);return typeof o=="function"?o.bind(a.value):o}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return Reflect.set(o.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var o;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=Uy(l.value,r)??("_"in l.value?Uy((o=l.value._)==null?void 0:o.setupState,r):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[By];if(!c)continue;const u=c.slice();for(;u.length;){const d=u.shift(),h=Uy(d.value,r);if(h)return h;const f=d.value&&d.value[By];f&&u.push(...f)}}}}})}const VL=oe({id:String,submenu:Boolean,...On(Ih({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Rv}}),["absolute"])},"VMenu"),Yc=be()({name:"VMenu",props:VL(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{scopeId:s}=Vl(),{isRtl:r}=zn(),a=ri(),o=L(()=>t.id||`v-menu-${a}`),l=he(),c=xt(ub,null),u=De(new Set);Zt(ub,{register(){u.value.add(a)},unregister(){u.value.delete(a)},closeParents(p){setTimeout(()=>{var g;!u.value.size&&!t.persistent&&(p==null||(g=l.value)!=null&&g.contentEl&&!Nq(p,l.value.contentEl))&&(i.value=!1,c==null||c.closeParents())},40)}}),Yn(()=>{c==null||c.unregister(),document.removeEventListener("focusin",d)}),Hb(()=>i.value=!1);async function d(p){var x,w,E;const g=p.relatedTarget,y=p.target;await Rt(),i.value&&g!==y&&((x=l.value)!=null&&x.contentEl)&&((w=l.value)!=null&&w.globalTop)&&![document,l.value.contentEl].includes(y)&&!l.value.contentEl.contains(y)&&((E=kd(l.value.contentEl)[0])==null||E.focus())}Pe(i,p=>{p?(c==null||c.register(),Ot&&document.addEventListener("focusin",d,{once:!0})):(c==null||c.unregister(),Ot&&document.removeEventListener("focusin",d))},{immediate:!0});function h(p){c==null||c.closeParents(p)}function f(p){var g,y,x,w,E;if(!t.disabled)if(p.key==="Tab"||p.key==="Enter"&&!t.closeOnContentClick){if(p.key==="Enter"&&(p.target instanceof HTMLTextAreaElement||p.target instanceof HTMLInputElement&&p.target.closest("form")))return;p.key==="Enter"&&p.preventDefault(),a2(kd((g=l.value)==null?void 0:g.contentEl,!1),p.shiftKey?"prev":"next",A=>A.tabIndex>=0)||(i.value=!1,(x=(y=l.value)==null?void 0:y.activatorEl)==null||x.focus())}else t.submenu&&p.key===(r.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(E=(w=l.value)==null?void 0:w.activatorEl)==null||E.focus())}function m(p){var y;if(t.disabled)return;const g=(y=l.value)==null?void 0:y.contentEl;g&&i.value?p.key==="ArrowDown"?(p.preventDefault(),p.stopImmediatePropagation(),Ko(g,"next")):p.key==="ArrowUp"?(p.preventDefault(),p.stopImmediatePropagation(),Ko(g,"prev")):t.submenu&&(p.key===(r.value?"ArrowRight":"ArrowLeft")?i.value=!1:p.key===(r.value?"ArrowLeft":"ArrowRight")&&(p.preventDefault(),Ko(g,"first"))):(t.submenu?p.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(p.key))&&(i.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>m(p))))}const v=L(()=>Se({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":o.value,onKeydown:m},t.activatorProps));return Ce(()=>{const p=yr.filterProps(t);return M(yr,Se({ref:l,id:o.value,class:["v-menu",t.class],style:t.style},p,{modelValue:i.value,"onUpdate:modelValue":g=>i.value=g,absolute:!0,activatorProps:v.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":h,onKeydown:f},s),{activator:n.activator,default:function(){for(var g=arguments.length,y=new Array(g),x=0;x<g;x++)y[x]=arguments[x];return M(yt,{root:"VMenu"},{default:()=>{var w;return[(w=n.default)==null?void 0:w.call(n,...y)]}})}})}),Is({id:o,ΨopenChildren:u},l)}}),CQ=oe({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ze(),...qs({transition:{component:nw}})},"VCounter"),Uv=be()({name:"VCounter",functional:!0,props:CQ(),setup(t,e){let{slots:n}=e;const i=L(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return Ce(()=>M(gi,{transition:t.transition},{default:()=>[Qe(M("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[Ws,t.active]])]})),{}}}),TQ=oe({floating:Boolean,...ze()},"VFieldLabel"),Uu=be()({name:"VFieldLabel",props:TQ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(ou,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),EQ=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Rh=oe({appendInnerIcon:ot,bgColor:String,clearable:Boolean,clearIcon:{type:ot,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ot,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>EQ.includes(t)},"onClick:clear":ni(),"onClick:appendInner":ni(),"onClick:prependInner":ni(),...ze(),...Ov(),...dn(),...Pt()},"VField"),cu=be()({name:"VField",inheritAttrs:!1,props:{id:String,...Ah(),...Rh()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Bt(t),{loaderClasses:a}=Mh(t),{focusClasses:o,isFocused:l,focus:c,blur:u}=fa(t),{InputIcon:d}=oL(t),{roundedClasses:h}=xn(t),{rtlClasses:f}=zn(),m=L(()=>t.dirty||t.active),v=L(()=>!t.singleLine&&!!(t.label||s.label)),p=ri(),g=L(()=>t.id||`input-${p}`),y=L(()=>`${g.value}-messages`),x=he(),w=he(),E=he(),C=L(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:A,backgroundColorStyles:S}=Kt(ge(t,"bgColor")),{textColorClasses:_,textColorStyles:b}=li(L(()=>t.error||t.disabled?void 0:m.value&&l.value?t.color:t.baseColor));Pe(m,O=>{if(v.value){const H=x.value.$el,F=w.value.$el;requestAnimationFrame(()=>{const K=$x(H),j=F.getBoundingClientRect(),X=j.x-K.x,Y=j.y-K.y-(K.height/2-j.height/2),J=j.width/.75,de=Math.abs(J-K.width)>1?{maxWidth:Ve(J)}:void 0,Le=getComputedStyle(H),ie=getComputedStyle(F),ye=parseFloat(Le.transitionDuration)*1e3||150,se=parseFloat(ie.getPropertyValue("--v-field-label-scale")),me=ie.getPropertyValue("color");H.style.visibility="visible",F.style.visibility="hidden",zo(H,{transform:`translate(${X}px, ${Y}px) scale(${se})`,color:me,...de},{duration:ye,easing:Dd,direction:O?"normal":"reverse"}).finished.then(()=>{H.style.removeProperty("visibility"),F.style.removeProperty("visibility")})})}},{flush:"post"});const T=L(()=>({isActive:m,isFocused:l,controlRef:E,blur:u,focus:c}));function P(O){O.target!==document.activeElement&&O.preventDefault()}function D(O){var H;O.key!=="Enter"&&O.key!==" "||(O.preventDefault(),O.stopPropagation(),(H=t["onClick:clear"])==null||H.call(t,new MouseEvent("click")))}return Ce(()=>{var X,Y,J;const O=t.variant==="outlined",H=!!(s["prepend-inner"]||t.prependInnerIcon),F=!!(t.clearable||s.clear),K=!!(s["append-inner"]||t.appendInnerIcon||F),j=()=>s.label?s.label({...T.value,label:t.label,props:{for:g.value}}):t.label;return M("div",Se({class:["v-field",{"v-field--active":m.value,"v-field--appended":K,"v-field--center-affix":t.centerAffix??!C.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":H,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!j(),[`v-field--variant-${t.variant}`]:!0},r.value,A.value,o.value,a.value,h.value,f.value,t.class],style:[S.value,t.style],onClick:P},n),[M("div",{class:"v-field__overlay"},null),M(Ch,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),H&&M("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&M(d,{key:"prepend-icon",name:"prependInner"},null),(X=s["prepend-inner"])==null?void 0:X.call(s,T.value)]),M("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&v.value&&M(Uu,{key:"floating-label",ref:w,class:[_.value],floating:!0,for:g.value,style:b.value},{default:()=>[j()]}),M(Uu,{ref:x,for:g.value},{default:()=>[j()]}),(Y=s.default)==null?void 0:Y.call(s,{...T.value,props:{id:g.value,class:"v-field__input","aria-describedby":y.value},focus:c,blur:u})]),F&&M(iw,{key:"clear"},{default:()=>[Qe(M("div",{class:"v-field__clearable",onMousedown:de=>{de.preventDefault(),de.stopPropagation()}},[M(yt,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...T.value,props:{onKeydown:D,onFocus:c,onBlur:u,onClick:t["onClick:clear"]}}):M(d,{name:"clear",onKeydown:D,onFocus:c,onBlur:u},null)]})]),[[Ws,t.dirty]])]}),K&&M("div",{key:"append",class:"v-field__append-inner"},[(J=s["append-inner"])==null?void 0:J.call(s,T.value),t.appendInnerIcon&&M(d,{key:"append-icon",name:"appendInner"},null)]),M("div",{class:["v-field__outline",_.value],style:b.value},[O&&M(We,null,[M("div",{class:"v-field__outline__start"},null),v.value&&M("div",{class:"v-field__outline__notch"},[M(Uu,{ref:w,floating:!0,for:g.value},{default:()=>[j()]})]),M("div",{class:"v-field__outline__end"},null)]),C.value&&v.value&&M(Uu,{ref:w,floating:!0,for:g.value},{default:()=>[j()]})])])}),{controlRef:E}}});function pw(t){const e=Object.keys(cu.props).filter(n=>!Cv(n)&&n!=="class"&&n!=="style");return Hx(t,e)}const AQ=["color","file","time","date","datetime-local","week","month"],zv=oe({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ma(),...Rh()},"VTextField"),ml=be()({name:"VTextField",directives:{Intersect:Sh},inheritAttrs:!1,props:zv(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ke(t,"modelValue"),{isFocused:a,focus:o,blur:l}=fa(t),c=L(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),u=L(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),d=L(()=>["plain","underlined"].includes(t.variant));function h(C,A){var S,_;!t.autofocus||!C||(_=(S=A[0].target)==null?void 0:S.focus)==null||_.call(S)}const f=he(),m=he(),v=he(),p=L(()=>AQ.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function g(){var C;v.value!==document.activeElement&&((C=v.value)==null||C.focus()),a.value||o()}function y(C){i("mousedown:control",C),C.target!==v.value&&(g(),C.preventDefault())}function x(C){g(),i("click:control",C)}function w(C){C.stopPropagation(),g(),Rt(()=>{r.value=null,Wx(t["onClick:clear"],C)})}function E(C){var S;const A=C.target;if(r.value=A.value,(S=t.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(t.type)){const _=[A.selectionStart,A.selectionEnd];Rt(()=>{A.selectionStart=_[0],A.selectionEnd=_[1]})}}return Ce(()=>{const C=!!(s.counter||t.counter!==!1&&t.counter!=null),A=!!(C||s.details),[S,_]=to(n),{modelValue:b,...T}=ci.filterProps(t),P=pw(t);return M(ci,Se({ref:f,modelValue:r.value,"onUpdate:modelValue":D=>r.value=D,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":d.value},t.class],style:t.style},S,T,{centerAffix:!d.value,focused:a.value}),{...s,default:D=>{let{id:O,isDisabled:H,isDirty:F,isReadonly:K,isValid:j}=D;return M(cu,Se({ref:m,onMousedown:y,onClick:x,"onClick:clear":w,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},P,{id:O.value,active:p.value||F.value,dirty:F.value||t.dirty,disabled:H.value,focused:a.value,error:j.value===!1}),{...s,default:X=>{let{props:{class:Y,...J}}=X;const de=Qe(M("input",Se({ref:v,value:r.value,onInput:E,autofocus:t.autofocus,readonly:K.value,disabled:H.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:g,onBlur:l},J,_),null),[[yn("intersect"),{handler:h},null,{once:!0}]]);return M(We,null,[t.prefix&&M("span",{class:"v-text-field__prefix"},[M("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?M("div",{class:Y,"data-no-activator":""},[s.default(),de]):Jr(de,{class:Y}),t.suffix&&M("span",{class:"v-text-field__suffix"},[M("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:A?D=>{var O;return M(We,null,[(O=s.details)==null?void 0:O.call(s,D),C&&M(We,null,[M("span",null,null),M(Uv,{active:t.persistentCounter||a.value,value:c.value,max:u.value,disabled:t.disabled},s.counter)])])}:void 0})}),Is({},f,m,v)}}),PQ=oe({renderless:Boolean,...ze()},"VVirtualScrollItem"),FL=be()({name:"VVirtualScrollItem",inheritAttrs:!1,props:PQ(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{resizeRef:r,contentRect:a}=zs(void 0,"border");Pe(()=>{var o;return(o=a.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),Ce(()=>{var o,l;return t.renderless?M(We,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:r})]):M("div",Se({ref:r,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=s.default)==null?void 0:l.call(s)])})}}),IQ=-1,RQ=1,zy=100,BL=oe({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function UL(t,e){const n=As(),i=De(0);qt(()=>{i.value=parseFloat(t.itemHeight||0)});const s=De(0),r=De(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),a=De(0),o=De(0),l=he(),c=he();let u=0;const{resizeRef:d,contentRect:h}=zs();qt(()=>{d.value=l.value});const f=L(()=>{var X;return l.value===document.documentElement?n.height.value:((X=h.value)==null?void 0:X.height)||parseInt(t.height)||0}),m=L(()=>!!(l.value&&c.value&&f.value&&i.value));let v=Array.from({length:e.value.length}),p=Array.from({length:e.value.length});const g=De(0);let y=-1;function x(X){return v[X]||i.value}const w=Rq(()=>{const X=performance.now();p[0]=0;const Y=e.value.length;for(let J=1;J<=Y-1;J++)p[J]=(p[J-1]||0)+x(J-1);g.value=Math.max(g.value,performance.now()-X)},g),E=Pe(m,X=>{X&&(E(),u=c.value.offsetTop,w.immediate(),H(),~y&&Rt(()=>{Ot&&window.requestAnimationFrame(()=>{K(y),y=-1})}))});si(()=>{w.clear()});function C(X,Y){const J=v[X],de=i.value;i.value=de?Math.min(i.value,Y):Y,(J!==Y||de!==i.value)&&(v[X]=Y,w())}function A(X){return X=Rn(X,0,e.value.length-1),p[X]||0}function S(X){return LQ(p,X)}let _=0,b=0,T=0;Pe(f,(X,Y)=>{Y&&(H(),X<Y&&requestAnimationFrame(()=>{b=0,H()}))});function P(){if(!l.value||!c.value)return;const X=l.value.scrollTop,Y=performance.now();Y-T>500?(b=Math.sign(X-_),u=c.value.offsetTop):b=X-_,_=X,T=Y,H()}function D(){!l.value||!c.value||(b=0,T=0,H())}let O=-1;function H(){cancelAnimationFrame(O),O=requestAnimationFrame(F)}function F(){if(!l.value||!f.value)return;const X=_-u,Y=Math.sign(b),J=Math.max(0,X-zy),de=Rn(S(J),0,e.value.length),Le=X+f.value+zy,ie=Rn(S(Le)+1,de+1,e.value.length);if((Y!==IQ||de<s.value)&&(Y!==RQ||ie>r.value)){const ye=A(s.value)-A(de),se=A(ie)-A(r.value);Math.max(ye,se)>zy?(s.value=de,r.value=ie):(de<=0&&(s.value=de),ie>=e.value.length&&(r.value=ie))}a.value=A(s.value),o.value=A(e.value.length)-A(r.value)}function K(X){const Y=A(X);!l.value||X&&!Y?y=X:l.value.scrollTop=Y}const j=L(()=>e.value.slice(s.value,r.value).map((X,Y)=>({raw:X,index:Y+s.value})));return Pe(e,()=>{v=Array.from({length:e.value.length}),p=Array.from({length:e.value.length}),w.immediate(),H()},{deep:!0}),{calculateVisibleItems:H,containerRef:l,markerRef:c,computedItems:j,paddingTop:a,paddingBottom:o,scrollToIndex:K,handleScroll:P,handleScrollend:D,handleItemResize:C}}function LQ(t,e){let n=t.length-1,i=0,s=0,r=null,a=-1;if(t[n]<e)return n;for(;i<=n;)if(s=i+n>>1,r=t[s],r>e)n=s-1;else if(r<e)a=s,i=s+1;else return r===e?s:i;return a}const kQ=oe({items:{type:Array,default:()=>[]},renderless:Boolean,...BL(),...ze(),...Vn()},"VVirtualScroll"),Hv=be()({name:"VVirtualScroll",props:kQ(),setup(t,e){let{slots:n}=e;const i=_n("VVirtualScroll"),{dimensionStyles:s}=Fn(t),{calculateVisibleItems:r,containerRef:a,markerRef:o,handleScroll:l,handleScrollend:c,handleItemResize:u,scrollToIndex:d,paddingTop:h,paddingBottom:f,computedItems:m}=UL(t,ge(t,"items"));return Fi(()=>t.renderless,()=>{function v(){var y,x;const g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[g]("scroll",l,{passive:!0}),document[g]("scrollend",c)):((y=a.value)==null||y[g]("scroll",l,{passive:!0}),(x=a.value)==null||x[g]("scrollend",c))}Nn(()=>{a.value=qx(i.vnode.el,!0),v(!0)}),si(v)}),Ce(()=>{const v=m.value.map(p=>M(FL,{key:p.index,renderless:t.renderless,"onUpdate:height":g=>u(p.index,g)},{default:g=>{var y;return(y=n.default)==null?void 0:y.call(n,{item:p.raw,index:p.index,...g})}}));return t.renderless?M(We,null,[M("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Ve(h.value)}},null),v,M("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ve(f.value)}},null)]):M("div",{ref:a,class:["v-virtual-scroll",t.class],onScrollPassive:l,onScrollend:c,style:[s.value,t.style]},[M("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Ve(h.value),paddingBottom:Ve(f.value)}},[v])])}),{calculateVisibleItems:r,scrollToIndex:d}}});function vw(t,e){const n=De(!1);let i;function s(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function r(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=Pe(n,()=>{l(),o()})}else o()})}async function a(o){var u,d;if(o.key==="Tab"&&((u=e.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(d=t.value)==null?void 0:d.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const h=l.getBoundingClientRect().top;for(const f of c)if(f.getBoundingClientRect().top>=h){f.focus();break}}else{const h=l.getBoundingClientRect().bottom;for(const f of[...c].reverse())if(f.getBoundingClientRect().bottom<=h){f.focus();break}}}return{onScrollPassive:s,onKeydown:a}}const gw=oe({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ot,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...EL({itemChildren:!1})},"Select"),DQ=oe({...gw(),...On(zv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...qs({transition:{component:Rv}})},"VSelect"),yw=be()({name:"VSelect",props:DQ(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Cn(),s=he(),r=he(),a=he(),o=Ke(t,"menu"),l=L({get:()=>o.value,set:X=>{var Y;o.value&&!X&&((Y=r.value)!=null&&Y.ΨopenChildren.size)||(o.value=X)}}),{items:c,transformIn:u,transformOut:d}=uw(t),h=Ke(t,"modelValue",[],X=>u(X===null?[null]:pn(X)),X=>{const Y=d(X);return t.multiple?Y:Y[0]??null}),f=L(()=>typeof t.counterValue=="function"?t.counterValue(h.value):typeof t.counterValue=="number"?t.counterValue:h.value.length),m=Fv(),v=L(()=>h.value.map(X=>X.value)),p=De(!1),g=L(()=>l.value?t.closeText:t.openText);let y="",x;const w=L(()=>t.hideSelected?c.value.filter(X=>!h.value.some(Y=>t.valueComparator(Y,X))):c.value),E=L(()=>t.hideNoData&&!w.value.length||t.readonly||(m==null?void 0:m.isReadonly.value)),C=L(()=>{var X;return{...t.menuProps,activatorProps:{...((X=t.menuProps)==null?void 0:X.activatorProps)||{},"aria-haspopup":"listbox"}}}),A=he(),S=vw(A,s);function _(X){t.openOnClear&&(l.value=!0)}function b(){E.value||(l.value=!l.value)}function T(X){vp(X)&&P(X)}function P(X){var Le,ie;if(!X.key||t.readonly||m!=null&&m.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(X.key)&&X.preventDefault(),["Enter","ArrowDown"," "].includes(X.key)&&(l.value=!0),["Escape","Tab"].includes(X.key)&&(l.value=!1),X.key==="Home"?(Le=A.value)==null||Le.focus("first"):X.key==="End"&&((ie=A.value)==null||ie.focus("last"));const Y=1e3;if(t.multiple||!vp(X))return;const J=performance.now();J-x>Y&&(y=""),y+=X.key.toLowerCase(),x=J;const de=c.value.find(ye=>ye.title.toLowerCase().startsWith(y));if(de!==void 0){h.value=[de];const ye=w.value.indexOf(de);Ot&&window.requestAnimationFrame(()=>{var se;ye>=0&&((se=a.value)==null||se.scrollToIndex(ye))})}}function D(X){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!X.props.disabled)if(t.multiple){const J=h.value.findIndex(Le=>t.valueComparator(Le.value,X.value)),de=Y??!~J;if(~J){const Le=de?[...h.value,X]:[...h.value];Le.splice(J,1),h.value=Le}else de&&(h.value=[...h.value,X])}else{const J=Y!==!1;h.value=J?[X]:[],Rt(()=>{l.value=!1})}}function O(X){var Y;(Y=A.value)!=null&&Y.$el.contains(X.relatedTarget)||(l.value=!1)}function H(){var X;t.eager&&((X=a.value)==null||X.calculateVisibleItems())}function F(){var X;p.value&&((X=s.value)==null||X.focus())}function K(X){p.value=!0}function j(X){if(X==null)h.value=[];else if(Wc(s.value,":autofill")||Wc(s.value,":-webkit-autofill")){const Y=c.value.find(J=>J.title===X);Y&&D(Y)}else s.value&&(s.value.value="")}return Pe(l,()=>{if(!t.hideSelected&&l.value&&h.value.length){const X=w.value.findIndex(Y=>h.value.some(J=>t.valueComparator(J.value,Y.value)));Ot&&window.requestAnimationFrame(()=>{var Y;X>=0&&((Y=a.value)==null||Y.scrollToIndex(X))})}}),Pe(()=>t.items,(X,Y)=>{l.value||p.value&&!Y.length&&X.length&&(l.value=!0)}),Ce(()=>{const X=!!(t.chips||n.chip),Y=!!(!t.hideNoData||w.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),J=h.value.length>0,de=ml.filterProps(t),Le=J||!p.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return M(ml,Se({ref:s},de,{modelValue:h.value.map(ie=>ie.props.value).join(", "),"onUpdate:modelValue":j,focused:p.value,"onUpdate:focused":ie=>p.value=ie,validationValue:h.externalValue,counterValue:f.value,dirty:J,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:Le,"onClick:clear":_,"onMousedown:control":b,onBlur:O,onKeydown:P,"aria-label":i(g.value),title:i(g.value)}),{...n,default:()=>M(We,null,[M(Yc,Se({ref:r,modelValue:l.value,"onUpdate:modelValue":ie=>l.value=ie,activator:"parent",contentClass:"v-select__content",disabled:E.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:H,onAfterLeave:F},C.value),{default:()=>[Y&&M(Bv,Se({ref:A,selected:v.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ie=>ie.preventDefault(),onKeydown:T,onFocusin:K,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},S,t.listProps),{default:()=>{var ie,ye,se;return[(ie=n["prepend-item"])==null?void 0:ie.call(n),!w.value.length&&!t.hideNoData&&(((ye=n["no-data"])==null?void 0:ye.call(n))??M(la,{title:i(t.noDataText)},null)),M(Hv,{ref:a,renderless:!0,items:w.value},{default:me=>{var q;let{item:ae,index:N,itemRef:B}=me;const U=Se(ae.props,{ref:B,key:N,onClick:()=>D(ae,null)});return((q=n.item)==null?void 0:q.call(n,{item:ae,index:N,props:U}))??M(la,Se(U,{role:"option"}),{prepend:R=>{let{isSelected:I}=R;return M(We,null,[t.multiple&&!t.hideSelected?M(oa,{key:ae.value,modelValue:I,ripple:!1,tabindex:"-1"},null):void 0,ae.props.prependAvatar&&M(Es,{image:ae.props.prependAvatar},null),ae.props.prependIcon&&M(Ft,{icon:ae.props.prependIcon},null)])}})}}),(se=n["append-item"])==null?void 0:se.call(n)]}})]}),h.value.map((ie,ye)=>{function se(B){B.stopPropagation(),B.preventDefault(),D(ie,!1)}const me={"onClick:close":se,onKeydown(B){B.key!=="Enter"&&B.key!==" "||(B.preventDefault(),B.stopPropagation(),se(B))},onMousedown(B){B.preventDefault(),B.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ae=X?!!n.chip:!!n.selection,N=ae?Tv(X?n.chip({item:ie,index:ye,props:me}):n.selection({item:ie,index:ye})):void 0;if(!(ae&&!N))return M("div",{key:ie.value,class:"v-select__selection"},[X?n.chip?M(yt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ie.title}}},{default:()=>[N]}):M(lu,Se({key:"chip",closable:t.closableChips,size:"small",text:ie.title,disabled:ie.props.disabled},me),null):N??M("span",{class:"v-select__selection-text"},[ie.title,t.multiple&&ye<h.value.length-1&&M("span",{class:"v-select__selection-comma"},[gn(",")])])])})]),"append-inner":function(){var me;for(var ie=arguments.length,ye=new Array(ie),se=0;se<ie;se++)ye[se]=arguments[se];return M(We,null,[(me=n["append-inner"])==null?void 0:me.call(n,...ye),t.menuIcon?M(Ft,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Is({isFocused:p,menu:l,select:D},s)}}),OQ=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),Lh=oe({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function NQ(t,e,n){var o;const i=[],s=(n==null?void 0:n.default)??OQ,r=n!=null&&n.filterKeys?pn(n.filterKeys):!1,a=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[c,u=c]=pn(t[l]),d={},h={};let f=-1;if((e||a>0)&&!(n!=null&&n.noFilter)){if(typeof c=="object"){const p=r||Object.keys(u);for(const g of p){const y=Un(u,g),x=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[g];if(f=x?x(y,e,c):s(y,e,c),f!==-1&&f!==!1)x?d[g]=f:h[g]=f;else if((n==null?void 0:n.filterMode)==="every")continue e}}else f=s(c,e,c),f!==-1&&f!==!1&&(h.title=f);const m=Object.keys(h).length,v=Object.keys(d).length;if(!m&&!v||(n==null?void 0:n.filterMode)==="union"&&v!==a&&!m||(n==null?void 0:n.filterMode)==="intersection"&&(v!==a||!m))continue}i.push({index:l,matches:{...h,...d}})}return i}function kh(t,e,n,i){const s=he([]),r=he(new Map),a=L(()=>i!=null&&i.transform?Ae(e).map(l=>[l,i.transform(l)]):Ae(e));qt(()=>{const l=typeof n=="function"?n():Ae(n),c=typeof l!="string"&&typeof l!="number"?"":String(l),u=NQ(a.value,c,{customKeyFilter:{...t.customKeyFilter,...Ae(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),d=Ae(e),h=[],f=new Map;u.forEach(m=>{let{index:v,matches:p}=m;const g=d[v];h.push(g),f.set(g.value,p)}),s.value=h,r.value=f});function o(l){return r.value.get(l.value)}return{filteredItems:s,filteredMatches:r,getMatches:o}}function VQ(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?M(We,null,[M("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),M("span",{class:"v-autocomplete__mask"},[t.substr(e,n)]),M("span",{class:"v-autocomplete__unmask"},[t.substr(e+n)])]):t}const FQ=oe({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Lh({filterKeys:["title"]}),...gw(),...On(zv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...qs({transition:!1})},"VAutocomplete"),BQ=be()({name:"VAutocomplete",props:FQ(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Cn(),s=he(),r=De(!1),a=De(!0),o=De(!1),l=he(),c=he(),u=Ke(t,"menu"),d=L({get:()=>u.value,set:U=>{var q;u.value&&!U&&((q=l.value)!=null&&q.ΨopenChildren.size)||(u.value=U)}}),h=De(-1),f=L(()=>{var U;return(U=s.value)==null?void 0:U.color}),m=L(()=>d.value?t.closeText:t.openText),{items:v,transformIn:p,transformOut:g}=uw(t),{textColorClasses:y,textColorStyles:x}=li(f),w=Ke(t,"search",""),E=Ke(t,"modelValue",[],U=>p(U===null?[null]:pn(U)),U=>{const q=g(U);return t.multiple?q:q[0]??null}),C=L(()=>typeof t.counterValue=="function"?t.counterValue(E.value):typeof t.counterValue=="number"?t.counterValue:E.value.length),A=Fv(),{filteredItems:S,getMatches:_}=kh(t,v,()=>a.value?"":w.value),b=L(()=>t.hideSelected?S.value.filter(U=>!E.value.some(q=>q.value===U.value)):S.value),T=L(()=>!!(t.chips||n.chip)),P=L(()=>T.value||!!n.selection),D=L(()=>E.value.map(U=>U.props.value)),O=L(()=>{var q;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&w.value===((q=b.value[0])==null?void 0:q.title))&&b.value.length>0&&!a.value&&!o.value}),H=L(()=>t.hideNoData&&!b.value.length||t.readonly||(A==null?void 0:A.isReadonly.value)),F=he(),K=vw(F,s);function j(U){t.openOnClear&&(d.value=!0),w.value=""}function X(){H.value||(d.value=!0)}function Y(U){H.value||(r.value&&(U.preventDefault(),U.stopPropagation()),d.value=!d.value)}function J(U){var q;vp(U)&&((q=s.value)==null||q.focus())}function de(U){var I,W,$;if(t.readonly||A!=null&&A.isReadonly.value)return;const q=s.value.selectionStart,R=E.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(U.key))&&U.preventDefault(),["Enter","ArrowDown"].includes(U.key)&&(d.value=!0),["Escape"].includes(U.key)&&(d.value=!1),O.value&&["Enter","Tab"].includes(U.key)&&!E.value.some(Z=>{let{value:ee}=Z;return ee===b.value[0].value})&&B(b.value[0]),U.key==="ArrowDown"&&O.value&&((I=F.value)==null||I.focus("next")),["Backspace","Delete"].includes(U.key)){if(!t.multiple&&P.value&&E.value.length>0&&!w.value)return B(E.value[0],!1);if(~h.value){const Z=h.value;B(E.value[h.value],!1),h.value=Z>=R-1?R-2:Z}else U.key==="Backspace"&&!w.value&&(h.value=R-1)}if(t.multiple){if(U.key==="ArrowLeft"){if(h.value<0&&q>0)return;const Z=h.value>-1?h.value-1:R-1;E.value[Z]?h.value=Z:(h.value=-1,s.value.setSelectionRange((W=w.value)==null?void 0:W.length,($=w.value)==null?void 0:$.length))}if(U.key==="ArrowRight"){if(h.value<0)return;const Z=h.value+1;E.value[Z]?h.value=Z:(h.value=-1,s.value.setSelectionRange(0,0))}}}function Le(U){if(Wc(s.value,":autofill")||Wc(s.value,":-webkit-autofill")){const q=v.value.find(R=>R.title===U.target.value);q&&B(q)}}function ie(){var U;t.eager&&((U=c.value)==null||U.calculateVisibleItems())}function ye(){var U;r.value&&(a.value=!0,(U=s.value)==null||U.focus())}function se(U){r.value=!0,setTimeout(()=>{o.value=!0})}function me(U){o.value=!1}function ae(U){(U==null||U===""&&!t.multiple&&!P.value)&&(E.value=[])}const N=De(!1);function B(U){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!U||U.props.disabled))if(t.multiple){const R=E.value.findIndex(W=>t.valueComparator(W.value,U.value)),I=q??!~R;if(~R){const W=I?[...E.value,U]:[...E.value];W.splice(R,1),E.value=W}else I&&(E.value=[...E.value,U]);t.clearOnSelect&&(w.value="")}else{const R=q!==!1;E.value=R?[U]:[],w.value=R&&!P.value?U.title:"",Rt(()=>{d.value=!1,a.value=!0})}}return Pe(r,(U,q)=>{var R;U!==q&&(U?(N.value=!0,w.value=t.multiple||P.value?"":String(((R=E.value.at(-1))==null?void 0:R.props.title)??""),a.value=!0,Rt(()=>N.value=!1)):(!t.multiple&&w.value==null&&(E.value=[]),d.value=!1,E.value.some(I=>{let{title:W}=I;return W===w.value})||(w.value=""),h.value=-1))}),Pe(w,U=>{!r.value||N.value||(U&&(d.value=!0),a.value=!U)}),Pe(d,()=>{if(!t.hideSelected&&d.value&&E.value.length){const U=b.value.findIndex(q=>E.value.some(R=>q.value===R.value));Ot&&window.requestAnimationFrame(()=>{var q;U>=0&&((q=c.value)==null||q.scrollToIndex(U))})}}),Pe(()=>t.items,(U,q)=>{d.value||r.value&&!q.length&&U.length&&(d.value=!0)}),Ce(()=>{const U=!!(!t.hideNoData||b.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),q=E.value.length>0,R=ml.filterProps(t);return M(ml,Se({ref:s},R,{modelValue:w.value,"onUpdate:modelValue":[I=>w.value=I,ae],focused:r.value,"onUpdate:focused":I=>r.value=I,validationValue:E.externalValue,counterValue:C.value,dirty:q,onChange:Le,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!P.value,"v-autocomplete--selecting-index":h.value>-1},t.class],style:t.style,readonly:t.readonly,placeholder:q?void 0:t.placeholder,"onClick:clear":j,"onMousedown:control":X,onKeydown:de}),{...n,default:()=>M(We,null,[M(Yc,Se({ref:l,modelValue:d.value,"onUpdate:modelValue":I=>d.value=I,activator:"parent",contentClass:"v-autocomplete__content",disabled:H.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:ie,onAfterLeave:ye},t.menuProps),{default:()=>[U&&M(Bv,Se({ref:F,selected:D.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:I=>I.preventDefault(),onKeydown:J,onFocusin:se,onFocusout:me,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},K,t.listProps),{default:()=>{var I,W,$;return[(I=n["prepend-item"])==null?void 0:I.call(n),!b.value.length&&!t.hideNoData&&(((W=n["no-data"])==null?void 0:W.call(n))??M(la,{title:i(t.noDataText)},null)),M(Hv,{ref:c,renderless:!0,items:b.value},{default:Z=>{var k;let{item:ee,index:ve,itemRef:le}=Z;const V=Se(ee.props,{ref:le,key:ve,active:O.value&&ve===0?!0:void 0,onClick:()=>B(ee,null)});return((k=n.item)==null?void 0:k.call(n,{item:ee,index:ve,props:V}))??M(la,Se(V,{role:"option"}),{prepend:Q=>{let{isSelected:re}=Q;return M(We,null,[t.multiple&&!t.hideSelected?M(oa,{key:ee.value,modelValue:re,ripple:!1,tabindex:"-1"},null):void 0,ee.props.prependAvatar&&M(Es,{image:ee.props.prependAvatar},null),ee.props.prependIcon&&M(Ft,{icon:ee.props.prependIcon},null)])},title:()=>{var Q,re;return a.value?ee.title:VQ(ee.title,(Q=_(ee))==null?void 0:Q.title,((re=w.value)==null?void 0:re.length)??0)}})}}),($=n["append-item"])==null?void 0:$.call(n)]}})]}),E.value.map((I,W)=>{function $(le){le.stopPropagation(),le.preventDefault(),B(I,!1)}const Z={"onClick:close":$,onKeydown(le){le.key!=="Enter"&&le.key!==" "||(le.preventDefault(),le.stopPropagation(),$(le))},onMousedown(le){le.preventDefault(),le.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ee=T.value?!!n.chip:!!n.selection,ve=ee?Tv(T.value?n.chip({item:I,index:W,props:Z}):n.selection({item:I,index:W})):void 0;if(!(ee&&!ve))return M("div",{key:I.value,class:["v-autocomplete__selection",W===h.value&&["v-autocomplete__selection--selected",y.value]],style:W===h.value?x.value:{}},[T.value?n.chip?M(yt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:I.title}}},{default:()=>[ve]}):M(lu,Se({key:"chip",closable:t.closableChips,size:"small",text:I.title,disabled:I.props.disabled},Z),null):ve??M("span",{class:"v-autocomplete__selection-text"},[I.title,t.multiple&&W<E.value.length-1&&M("span",{class:"v-autocomplete__selection-comma"},[gn(",")])])])})]),"append-inner":function(){var Z;for(var I=arguments.length,W=new Array(I),$=0;$<I;$++)W[$]=arguments[$];return M(We,null,[(Z=n["append-inner"])==null?void 0:Z.call(n,...W),t.menuIcon?M(Ft,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:Y,onClick:o2,"aria-label":i(m.value),title:i(m.value),tabindex:"-1"},null):void 0])}})}),Is({isFocused:r,isPristine:a,menu:d,search:w,filteredItems:S,select:B},s)}}),UQ=oe({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ot,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...ze(),...da({location:"top end"}),...dn(),...ft(),...Pt(),...qs({transition:"scale-rotate-transition"})},"VBadge"),zQ=be()({name:"VBadge",inheritAttrs:!1,props:UQ(),setup(t,e){const{backgroundColorClasses:n,backgroundColorStyles:i}=Kt(ge(t,"color")),{roundedClasses:s}=xn(t),{t:r}=Cn(),{textColorClasses:a,textColorStyles:o}=li(ge(t,"textColor")),{themeClasses:l}=k2(),{locationStyles:c}=Nl(t,!0,u=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(u)?+(t.offsetY??0):["left","right"].includes(u)?+(t.offsetX??0):0));return Ce(()=>{const u=Number(t.content),d=!t.max||isNaN(u)?t.content:u<=+t.max?u:`${t.max}+`,[h,f]=j0(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return M(t.tag,Se({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline},t.class]},f,{style:t.style}),{default:()=>{var m,v;return[M("div",{class:"v-badge__wrapper"},[(v=(m=e.slots).default)==null?void 0:v.call(m),M(gi,{transition:t.transition},{default:()=>{var p,g;return[Qe(M("span",Se({class:["v-badge__badge",l.value,n.value,s.value,a.value],style:[i.value,o.value,t.inline?{}:c.value],"aria-atomic":"true","aria-label":r(t.label,u),"aria-live":"polite",role:"status"},h),[t.dot?void 0:e.slots.badge?(g=(p=e.slots).badge)==null?void 0:g.call(p):t.icon?M(Ft,{icon:t.icon},null):d]),[[Ws,t.modelValue]])]}})])]}})}),{}}}),HQ=oe({color:String,density:String,...ze()},"VBannerActions"),zL=be()({name:"VBannerActions",props:HQ(),setup(t,e){let{slots:n}=e;return bn({VBtn:{color:t.color,density:t.density,slim:!0,variant:"text"}}),Ce(()=>{var i;return M("div",{class:["v-banner-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),HL=Tr("v-banner-text"),GQ=oe({avatar:String,bgColor:String,color:String,icon:ot,lines:String,stacked:Boolean,sticky:Boolean,text:String,...es(),...ze(),...qn(),...Vn(),...Al({mobile:null}),...Hn(),...da(),...ru(),...dn(),...ft(),...Pt()},"VBanner"),WQ=be()({name:"VBanner",props:GQ(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Kt(t,"bgColor"),{borderClasses:r}=ms(t),{densityClasses:a}=wi(t),{displayClasses:o,mobile:l}=As(t),{dimensionStyles:c}=Fn(t),{elevationClasses:u}=ai(t),{locationStyles:d}=Nl(t),{positionClasses:h}=au(t),{roundedClasses:f}=xn(t),{themeClasses:m}=Bt(t),v=ge(t,"color"),p=ge(t,"density");bn({VBannerActions:{color:v,density:p}}),Ce(()=>{const g=!!(t.text||n.text),y=!!(t.avatar||t.icon),x=!!(y||n.prepend);return M(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||l.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},m.value,i.value,r.value,a.value,o.value,u.value,h.value,f.value,t.class],style:[s.value,c.value,d.value,t.style],role:"banner"},{default:()=>{var w;return[x&&M("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?M(yt,{key:"prepend-defaults",disabled:!y,defaults:{VAvatar:{color:v.value,density:p.value,icon:t.icon,image:t.avatar}}},n.prepend):M(Es,{key:"prepend-avatar",color:v.value,density:p.value,icon:t.icon,image:t.avatar},null)]),M("div",{class:"v-banner__content"},[g&&M(HL,{key:"text"},{default:()=>{var E;return[((E=n.text)==null?void 0:E.call(n))??t.text]}}),(w=n.default)==null?void 0:w.call(n)]),n.actions&&M(zL,{key:"actions"},n.actions)]}})})}}),$Q=oe({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...es(),...ze(),...qn(),...Hn(),...dn(),...Pl({name:"bottom-navigation"}),...ft({tag:"header"}),...kl({selectedClass:"v-btn--selected"}),...Pt()},"VBottomNavigation"),jQ=be()({name:"VBottomNavigation",props:$Q(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=k2(),{borderClasses:s}=ms(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Kt(ge(t,"bgColor")),{densityClasses:o}=wi(t),{elevationClasses:l}=ai(t),{roundedClasses:c}=xn(t),{ssrBootStyles:u}=Rl(),d=L(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),h=Ke(t,"active",t.active),{layoutItemStyles:f}=Il({id:t.name,order:L(()=>parseInt(t.order,10)),position:L(()=>"bottom"),layoutSize:L(()=>h.value?d.value:0),elementSize:d,active:h,absolute:ge(t,"absolute")});return io(t,rw),bn({VBtn:{baseColor:ge(t,"baseColor"),color:ge(t,"color"),density:ge(t,"density"),stacked:L(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Ce(()=>M(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":h.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},i.value,r.value,s.value,o.value,l.value,c.value,t.class],style:[a.value,f.value,{height:Ve(d.value)},u.value,t.style]},{default:()=>[n.default&&M("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),GL=oe({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ih({origin:"center center",scrollStrategy:"block",transition:{component:Rv},zIndex:2400})},"VDialog"),db=be()({name:"VDialog",props:GL(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ke(t,"modelValue"),{scopeId:r}=Vl(),a=he();function o(u){var f,m;const d=u.relatedTarget,h=u.target;if(d!==h&&((f=a.value)!=null&&f.contentEl)&&((m=a.value)!=null&&m.globalTop)&&![document,a.value.contentEl].includes(h)&&!a.value.contentEl.contains(h)){const v=kd(a.value.contentEl);if(!v.length)return;const p=v[0],g=v[v.length-1];d===p?g.focus():p.focus()}}Yn(()=>{document.removeEventListener("focusin",o)}),Ot&&Pe(()=>s.value&&t.retainFocus,u=>{u?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function l(){var u;n("afterEnter"),(u=a.value)!=null&&u.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function c(){n("afterLeave")}return Pe(s,async u=>{var d;u||(await Rt(),(d=a.value.activatorEl)==null||d.focus({preventScroll:!0}))}),Ce(()=>{const u=yr.filterProps(t),d=Se({"aria-haspopup":"dialog"},t.activatorProps),h=Se({tabindex:-1},t.contentProps);return M(yr,Se({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},u,{modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,"aria-modal":"true",activatorProps:d,contentProps:h,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:c},r),{activator:i.activator,default:function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];return M(yt,{root:"VDialog"},{default:()=>{var p;return[(p=i.default)==null?void 0:p.call(i,...m)]}})}})}),Is({},a)}}),XQ=oe({inset:Boolean,...GL({transition:"bottom-sheet-transition"})},"VBottomSheet"),YQ=be()({name:"VBottomSheet",props:XQ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue");return Ce(()=>{const s=db.filterProps(t);return M(db,Se(s,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),qQ=oe({divider:[Number,String],...ze()},"VBreadcrumbsDivider"),WL=be()({name:"VBreadcrumbsDivider",props:qQ(),setup(t,e){let{slots:n}=e;return Ce(()=>{var i;return M("li",{class:["v-breadcrumbs-divider",t.class],style:t.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??t.divider])}),{}}}),KQ=oe({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...ze(),...Eh(),...ft({tag:"li"})},"VBreadcrumbsItem"),$L=be()({name:"VBreadcrumbsItem",props:KQ(),setup(t,e){let{slots:n,attrs:i}=e;const s=Th(t,i),r=L(()=>{var c;return t.active||((c=s.isActive)==null?void 0:c.value)}),a=L(()=>r.value?t.activeColor:t.color),{textColorClasses:o,textColorStyles:l}=li(a);return Ce(()=>M(t.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":r.value,"v-breadcrumbs-item--disabled":t.disabled,[`${t.activeClass}`]:r.value&&t.activeClass},o.value,t.class],style:[l.value,t.style],"aria-current":r.value?"page":void 0},{default:()=>{var c,u;return[s.isLink.value?M("a",Se({class:"v-breadcrumbs-item--link",onClick:s.navigate},s.linkProps),[((u=n.default)==null?void 0:u.call(n))??t.title]):((c=n.default)==null?void 0:c.call(n))??t.title]}})),{}}}),ZQ=oe({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:ot,items:{type:Array,default:()=>[]},...ze(),...qn(),...dn(),...ft({tag:"ul"})},"VBreadcrumbs"),JQ=be()({name:"VBreadcrumbs",props:ZQ(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Kt(ge(t,"bgColor")),{densityClasses:r}=wi(t),{roundedClasses:a}=xn(t);bn({VBreadcrumbsDivider:{divider:ge(t,"divider")},VBreadcrumbsItem:{activeClass:ge(t,"activeClass"),activeColor:ge(t,"activeColor"),color:ge(t,"color"),disabled:ge(t,"disabled")}});const o=L(()=>t.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return Ce(()=>{const l=!!(n.prepend||t.icon);return M(t.tag,{class:["v-breadcrumbs",i.value,r.value,a.value,t.class],style:[s.value,t.style]},{default:()=>{var c;return[l&&M("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?M(yt,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},n.prepend):M(Ft,{key:"prepend-icon",start:!0,icon:t.icon},null)]),o.value.map((u,d,h)=>{var v;let{item:f,raw:m}=u;return M(We,null,[((v=n.item)==null?void 0:v.call(n,{item:f,index:d}))??M($L,Se({key:d,disabled:d>=h.length-1},typeof f=="string"?{title:f}:f),{default:n.title?()=>{var p;return(p=n.title)==null?void 0:p.call(n,{item:f,index:d})}:void 0}),d<h.length-1&&M(WL,null,{default:n.divider?()=>{var p;return(p=n.divider)==null?void 0:p.call(n,{item:m,index:d})}:void 0})])}),(c=n.default)==null?void 0:c.call(n)]}})}),{}}}),jL=be()({name:"VCardActions",props:ze(),setup(t,e){let{slots:n}=e;return bn({VBtn:{slim:!0,variant:"text"}}),Ce(()=>{var i;return M("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),QQ=oe({opacity:[Number,String],...ze(),...ft()},"VCardSubtitle"),XL=be()({name:"VCardSubtitle",props:QQ(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),YL=Tr("v-card-title"),eee=oe({appendAvatar:String,appendIcon:ot,prependAvatar:String,prependIcon:ot,subtitle:[String,Number],title:[String,Number],...ze(),...qn()},"VCardItem"),qL=be()({name:"VCardItem",props:eee(),setup(t,e){let{slots:n}=e;return Ce(()=>{var c;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),o=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return M("div",{class:["v-card-item",t.class],style:t.style},[s&&M("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?M(yt,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):M(We,null,[t.prependAvatar&&M(Es,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&M(Ft,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),M("div",{class:"v-card-item__content"},[o&&M(YL,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??t.title]}}),l&&M(XL,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??t.subtitle]}}),(c=n.default)==null?void 0:c.call(n)]),a&&M("div",{key:"append",class:"v-card-item__append"},[n.append?M(yt,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):M(We,null,[t.appendIcon&&M(Ft,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&M(Es,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),tee=oe({opacity:[Number,String],...ze(),...ft()},"VCardText"),KL=be()({name:"VCardText",props:tee(),setup(t,e){let{slots:n}=e;return Ce(()=>M(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),nee=oe({appendAvatar:String,appendIcon:ot,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:ot,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...es(),...ze(),...qn(),...Vn(),...Hn(),...Ov(),...da(),...ru(),...dn(),...Eh(),...ft(),...Pt(),...Ps({variant:"elevated"})},"VCard"),iee=be()({name:"VCard",directives:{Ripple:ha},props:nee(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Bt(t),{borderClasses:r}=ms(t),{colorClasses:a,colorStyles:o,variantClasses:l}=Ll(t),{densityClasses:c}=wi(t),{dimensionStyles:u}=Fn(t),{elevationClasses:d}=ai(t),{loaderClasses:h}=Mh(t),{locationStyles:f}=Nl(t),{positionClasses:m}=au(t),{roundedClasses:v}=xn(t),p=Th(t,n),g=L(()=>t.link!==!1&&p.isLink.value),y=L(()=>!t.disabled&&t.link!==!1&&(t.link||p.isClickable.value));return Ce(()=>{const x=g.value?"a":t.tag,w=!!(i.title||t.title!=null),E=!!(i.subtitle||t.subtitle!=null),C=w||E,A=!!(i.append||t.appendAvatar||t.appendIcon),S=!!(i.prepend||t.prependAvatar||t.prependIcon),_=!!(i.image||t.image),b=C||S||A,T=!!(i.text||t.text!=null);return Qe(M(x,Se({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":y.value},s.value,r.value,a.value,c.value,d.value,h.value,m.value,v.value,l.value,t.class],style:[o.value,u.value,f.value,t.style],onClick:y.value&&p.navigate,tabindex:t.disabled?-1:void 0},p.linkProps),{default:()=>{var P;return[_&&M("div",{key:"image",class:"v-card__image"},[i.image?M(yt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):M(aa,{key:"image-img",cover:!0,src:t.image},null)]),M(Ch,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),b&&M(qL,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),T&&M(KL,{key:"text"},{default:()=>{var D;return[((D=i.text)==null?void 0:D.call(i))??t.text]}}),(P=i.default)==null?void 0:P.call(i),i.actions&&M(jL,null,{default:i.actions}),no(y.value,"v-card")]}}),[[yn("ripple"),y.value&&t.ripple]])}),{}}}),see=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:s}=t,r=.5,a=16;t.offsetX=n-e,t.offsetY=s-i,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&n<e-a&&t.left(t),t.right&&n>e+a&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&s<i-a&&t.up(t),t.down&&s>i+a&&t.down(t))};function ree(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function aee(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),see(e)}function oee(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function lee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>ree(n,e),touchend:n=>aee(n,e),touchmove:n=>oee(n,e)}}function cee(t,e){var o;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},r=(o=e.instance)==null?void 0:o.$.uid;if(!i||!r)return;const a=lee(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[r]=a,n2(a).forEach(l=>{i.addEventListener(l,a[l],s)})}function uee(t,e){var r,a;const n=(r=e.value)!=null&&r.parent?t.parentElement:t,i=(a=e.instance)==null?void 0:a.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const s=n._touchHandlers[i];n2(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[i]}const bw={mounted:cee,unmounted:uee},ZL=Symbol.for("vuetify:v-window"),JL=Symbol.for("vuetify:v-window-group"),Gv=oe({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ze(),...ft(),...Pt()},"VWindow"),pl=be()({name:"VWindow",directives:{Touch:bw},props:Gv(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t),{isRtl:s}=zn(),{t:r}=Cn(),a=io(t,JL),o=he(),l=L(()=>s.value?!t.reverse:t.reverse),c=De(!1),u=L(()=>{const w=t.direction==="vertical"?"y":"x",C=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${w}${C}-transition`}),d=De(0),h=he(void 0),f=L(()=>a.items.value.findIndex(w=>a.selected.value.includes(w.id)));Pe(f,(w,E)=>{const C=a.items.value.length,A=C-1;C<=2?c.value=w<E:w===A&&E===0?c.value=!0:w===0&&E===A?c.value=!1:c.value=w<E}),Zt(ZL,{transition:u,isReversed:c,transitionCount:d,transitionHeight:h,rootRef:o});const m=L(()=>t.continuous||f.value!==0),v=L(()=>t.continuous||f.value!==a.items.value.length-1);function p(){m.value&&a.prev()}function g(){v.value&&a.next()}const y=L(()=>{const w=[],E={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,"aria-label":r("$vuetify.carousel.prev")};w.push(m.value?n.prev?n.prev({props:E}):M(Vt,E,null):M("div",null,null));const C={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,"aria-label":r("$vuetify.carousel.next")};return w.push(v.value?n.next?n.next({props:C}):M(Vt,C,null):M("div",null,null)),w}),x=L(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?p():g()},right:()=>{l.value?g():p()},start:E=>{let{originalEvent:C}=E;C.stopPropagation()}},...t.touch===!0?{}:t.touch});return Ce(()=>Qe(M(t.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var w,E;return[M("div",{class:"v-window__container",style:{height:h.value}},[(w=n.default)==null?void 0:w.call(n,{group:a}),t.showArrows!==!1&&M("div",{class:"v-window__controls"},[y.value])]),(E=n.additional)==null?void 0:E.call(n,{group:a})]}}),[[yn("touch"),x.value]])),{group:a}}}),dee=oe({color:String,cycle:Boolean,delimiterIcon:{type:ot,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>Number(t)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...Gv({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),hee=be()({name:"VCarousel",props:dee(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{t:s}=Cn(),r=he();let a=-1;Pe(i,l),Pe(()=>t.interval,l),Pe(()=>t.cycle,c=>{c?l():window.clearTimeout(a)}),Nn(o);function o(){!t.cycle||!r.value||(a=window.setTimeout(r.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(a),window.requestAnimationFrame(o)}return Ce(()=>{const c=pl.filterProps(t);return M(pl,Se({ref:r},c,{modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters},t.class],style:[{height:Ve(t.height)},t.style]}),{default:n.default,additional:u=>{let{group:d}=u;return M(We,null,[!t.hideDelimiters&&M("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&M(yt,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((h,f)=>{const m={id:`carousel-item-${h.id}`,"aria-label":s("$vuetify.carousel.ariaLabel.delimiter",f+1,d.items.value.length),class:["v-carousel__controls__item",d.isSelected(h.id)&&"v-btn--active"],onClick:()=>d.select(h.id,!0)};return n.item?n.item({props:m,item:h}):M(Vt,Se(h,m),null)})]})]),t.progress&&M(Dv,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(d.getItemIndex(i.value)+1)/d.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),Wv=oe({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ze(),...Dl(),...fw()},"VWindowItem"),vl=be()({name:"VWindowItem",directives:{Touch:bw},props:Wv(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=xt(ZL),s=Ol(t,JL),{isBooted:r}=Rl();if(!i||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=De(!1),o=L(()=>r.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!a.value||!i||(a.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function c(){var m;a.value||!i||(a.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Ve((m=i.rootRef.value)==null?void 0:m.clientHeight)),i.transitionCount.value+=1)}function u(){l()}function d(m){a.value&&Rt(()=>{!o.value||!a.value||!i||(i.transitionHeight.value=Ve(m.clientHeight))})}const h=L(()=>{const m=i.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof m!="string"?i.transition.value:m,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:u,onEnter:d}:!1}),{hasContent:f}=mw(t,s.isSelected);return Ce(()=>M(gi,{transition:h.value,disabled:!r.value},{default:()=>{var m;return[Qe(M("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[f.value&&((m=n.default)==null?void 0:m.call(n))]),[[Ws,s.isSelected.value]])]}})),{groupItem:s}}}),fee=oe({...W2(),...Wv()},"VCarouselItem"),mee=be()({name:"VCarouselItem",inheritAttrs:!1,props:fee(),setup(t,e){let{slots:n,attrs:i}=e;Ce(()=>{const s=aa.filterProps(t),r=vl.filterProps(t);return M(vl,Se({class:["v-carousel-item",t.class]},r),{default:()=>[M(aa,Se(i,s),n)]})})}}),pee=Tr("v-code","code"),vee=oe({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...ze()},"VColorPickerCanvas"),gee=hs({name:"VColorPickerCanvas",props:vee(),emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const i=De(!1),s=he(),r=De(parseFloat(t.width)),a=De(parseFloat(t.height)),o=he({x:0,y:0}),l=L({get:()=>o.value,set(p){var x,w;if(!s.value)return;const{x:g,y}=p;o.value=p,n("update:color",{h:((x=t.color)==null?void 0:x.h)??0,s:Rn(g,0,r.value)/r.value,v:1-Rn(y,0,a.value)/a.value,a:((w=t.color)==null?void 0:w.a)??1})}}),c=L(()=>{const{x:p,y:g}=l.value,y=parseInt(t.dotSize,10)/2;return{width:Ve(t.dotSize),height:Ve(t.dotSize),transform:`translate(${Ve(p-y)}, ${Ve(g-y)})`}}),{resizeRef:u}=zs(p=>{var x;if(!((x=u.el)!=null&&x.offsetParent))return;const{width:g,height:y}=p[0].contentRect;r.value=g,a.value=y});function d(p,g,y){const{left:x,top:w,width:E,height:C}=y;l.value={x:Rn(p-x,0,E),y:Rn(g-w,0,C)}}function h(p){p.type==="mousedown"&&p.preventDefault(),!t.disabled&&(f(p),window.addEventListener("mousemove",f),window.addEventListener("mouseup",m),window.addEventListener("touchmove",f),window.addEventListener("touchend",m))}function f(p){if(t.disabled||!s.value)return;i.value=!0;const g=Dq(p);d(g.clientX,g.clientY,s.value.getBoundingClientRect())}function m(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",m)}function v(){var w;if(!s.value)return;const p=s.value,g=p.getContext("2d");if(!g)return;const y=g.createLinearGradient(0,0,p.width,0);y.addColorStop(0,"hsla(0, 0%, 100%, 1)"),y.addColorStop(1,`hsla(${((w=t.color)==null?void 0:w.h)??0}, 100%, 50%, 1)`),g.fillStyle=y,g.fillRect(0,0,p.width,p.height);const x=g.createLinearGradient(0,0,0,p.height);x.addColorStop(0,"hsla(0, 0%, 0%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),g.fillStyle=x,g.fillRect(0,0,p.width,p.height)}return Pe(()=>{var p;return(p=t.color)==null?void 0:p.h},v,{immediate:!0}),Pe(()=>[r.value,a.value],(p,g)=>{v(),o.value={x:l.value.x*p[0]/g[0],y:l.value.y*p[1]/g[1]}},{flush:"post"}),Pe(()=>t.color,()=>{if(i.value){i.value=!1;return}o.value=t.color?{x:t.color.s*r.value,y:(1-t.color.v)*a.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Nn(()=>v()),Ce(()=>M("div",{ref:u,class:["v-color-picker-canvas",t.class],style:t.style,onMousedown:h,onTouchstartPassive:h},[M("canvas",{ref:s,width:r.value,height:a.value},null),t.color&&M("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:c.value},null)])),{}}});function yee(t,e){if(e){const{a:n,...i}=t;return i}return t}function bee(t,e){if(e==null||typeof e=="string"){const n=b2(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return Uo(e,["r","g","b"])?n=ra(t):Uo(e,["h","s","l"])?n=f2(t):Uo(e,["h","s","v"])&&(n=t),yee(n,!Uo(e,["a"])&&t.a===1)}return t}const bc={h:0,s:0,v:0,a:1},hb={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:ra,from:Ev};var bT;const _ee={...hb,inputs:(bT=hb.inputs)==null?void 0:bT.slice(0,3)},fb={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:f2,from:Xx},xee={...fb,inputs:fb.inputs.slice(0,3)},QL={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:b2,from:y2},wee={...QL,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},Jo={rgb:_ee,rgba:hb,hsl:xee,hsla:fb,hex:wee,hexa:QL},See=t=>{let{label:e,...n}=t;return M("div",{class:"v-color-picker-edit__input"},[M("input",n,null),M("span",null,[e])])},Mee=oe({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Jo).includes(t)},modes:{type:Array,default:()=>Object.keys(Jo),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Jo).includes(e))},...ze()},"VColorPickerEdit"),Cee=hs({name:"VColorPickerEdit",props:Mee(),emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const i=L(()=>t.modes.map(r=>({...Jo[r],name:r}))),s=L(()=>{var o;const r=i.value.find(l=>l.name===t.mode);if(!r)return[];const a=t.color?r.to(t.color):null;return(o=r.inputs)==null?void 0:o.map(l=>{let{getValue:c,getColor:u,...d}=l;return{...r.inputProps,...d,disabled:t.disabled,value:a&&c(a),onChange:h=>{const f=h.target;f&&n("update:color",r.from(u(a??r.to(bc),f.value)))}}})});return Ce(()=>{var r;return M("div",{class:["v-color-picker-edit",t.class],style:t.style},[(r=s.value)==null?void 0:r.map(a=>M(See,a,null)),i.value.length>1&&M(Vt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const a=i.value.findIndex(o=>o.name===t.mode);n("update:mode",i.value[(a+1)%i.value.length].name)}},null)])}),{}}}),_w=Symbol.for("vuetify:v-slider");function mb(t,e,n){const i=n==="vertical",s=e.getBoundingClientRect(),r="touches"in t?t.touches[0]:t;return i?r.clientY-(s.top+s.height/2):r.clientX-(s.left+s.width/2)}function Tee(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const ek=oe({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...dn(),...Hn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),tk=t=>{const e=L(()=>parseFloat(t.min)),n=L(()=>parseFloat(t.max)),i=L(()=>+t.step>0?parseFloat(t.step):0),s=L(()=>Math.max(yC(i.value),yC(e.value)));function r(a){if(a=parseFloat(a),i.value<=0)return a;const o=Rn(a,e.value,n.value),l=e.value%i.value,c=Math.round((o-l)/i.value)*i.value+l;return parseFloat(Math.min(c,n.value).toFixed(s.value))}return{min:e,max:n,step:i,decimals:s,roundValue:r}},nk=t=>{let{props:e,steps:n,onSliderStart:i,onSliderMove:s,onSliderEnd:r,getActiveThumb:a}=t;const{isRtl:o}=zn(),l=ge(e,"reverse"),c=L(()=>e.direction==="vertical"),u=L(()=>c.value!==l.value),{min:d,max:h,step:f,decimals:m,roundValue:v}=n,p=L(()=>parseInt(e.thumbSize,10)),g=L(()=>parseInt(e.tickSize,10)),y=L(()=>parseInt(e.trackSize,10)),x=L(()=>(h.value-d.value)/f.value),w=ge(e,"disabled"),E=L(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),C=L(()=>e.error||e.disabled?void 0:e.trackColor??e.color),A=L(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),S=De(!1),_=De(0),b=he(),T=he();function P(se){var W;const me=e.direction==="vertical",ae=me?"top":"left",N=me?"height":"width",B=me?"clientY":"clientX",{[ae]:U,[N]:q}=(W=b.value)==null?void 0:W.$el.getBoundingClientRect(),R=Tee(se,B);let I=Math.min(Math.max((R-U-_.value)/q,0),1)||0;return(me?u.value:u.value!==o.value)&&(I=1-I),v(d.value+I*(h.value-d.value))}const D=se=>{r({value:P(se)}),S.value=!1,_.value=0},O=se=>{T.value=a(se),T.value&&(T.value.focus(),S.value=!0,T.value.contains(se.target)?_.value=mb(se,T.value,e.direction):(_.value=0,s({value:P(se)})),i({value:P(se)}))},H={passive:!0,capture:!0};function F(se){s({value:P(se)})}function K(se){se.stopPropagation(),se.preventDefault(),D(se),window.removeEventListener("mousemove",F,H),window.removeEventListener("mouseup",K)}function j(se){var me;D(se),window.removeEventListener("touchmove",F,H),(me=se.target)==null||me.removeEventListener("touchend",j)}function X(se){var me;O(se),window.addEventListener("touchmove",F,H),(me=se.target)==null||me.addEventListener("touchend",j,{passive:!1})}function Y(se){se.preventDefault(),O(se),window.addEventListener("mousemove",F,H),window.addEventListener("mouseup",K,{passive:!1})}const J=se=>{const me=(se-d.value)/(h.value-d.value)*100;return Rn(isNaN(me)?0:me,0,100)},de=ge(e,"showTicks"),Le=L(()=>de.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(se=>({value:se,position:J(se),label:se.toString()})):Object.keys(e.ticks).map(se=>({value:parseFloat(se),position:J(parseFloat(se)),label:e.ticks[se]})):x.value!==1/0?lr(x.value+1).map(se=>{const me=d.value+se*f.value;return{value:me,position:J(me)}}):[]:[]),ie=L(()=>Le.value.some(se=>{let{label:me}=se;return!!me})),ye={activeThumbRef:T,color:ge(e,"color"),decimals:m,disabled:w,direction:ge(e,"direction"),elevation:ge(e,"elevation"),hasLabels:ie,isReversed:l,indexFromEnd:u,min:d,max:h,mousePressed:S,numTicks:x,onSliderMousedown:Y,onSliderTouchstart:X,parsedTicks:Le,parseMouseMove:P,position:J,readonly:ge(e,"readonly"),rounded:ge(e,"rounded"),roundValue:v,showTicks:de,startOffset:_,step:f,thumbSize:p,thumbColor:E,thumbLabel:ge(e,"thumbLabel"),ticks:ge(e,"ticks"),tickSize:g,trackColor:C,trackContainerRef:b,trackFillColor:A,trackSize:y,vertical:c};return Zt(_w,ye),ye},Eee=oe({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...ze()},"VSliderThumb"),pb=be()({name:"VSliderThumb",directives:{Ripple:ha},props:Eee(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=xt(_w),{isRtl:r,rtlClasses:a}=zn();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:c,thumbSize:u,thumbLabel:d,direction:h,isReversed:f,vertical:m,readonly:v,elevation:p,mousePressed:g,decimals:y,indexFromEnd:x}=s,w=L(()=>c.value?void 0:p.value),{elevationClasses:E}=ai(w),{textColorClasses:C,textColorStyles:A}=li(o),{pageup:S,pagedown:_,end:b,home:T,left:P,right:D,down:O,up:H}=$0,F=[S,_,b,T,P,D,O,H],K=L(()=>l.value?[1,2,3]:[1,5,10]);function j(Y,J){if(!F.includes(Y.key))return;Y.preventDefault();const de=l.value||.1,Le=(t.max-t.min)/de;if([P,D,O,H].includes(Y.key)){const ye=(m.value?[r.value?P:D,f.value?O:H]:x.value!==r.value?[P,H]:[D,H]).includes(Y.key)?1:-1,se=Y.shiftKey?2:Y.ctrlKey?1:0;J=J+ye*de*K.value[se]}else if(Y.key===T)J=t.min;else if(Y.key===b)J=t.max;else{const ie=Y.key===_?1:-1;J=J-ie*de*(Le>100?Le/10:10)}return Math.max(t.min,Math.min(t.max,J))}function X(Y){const J=j(Y,t.modelValue);J!=null&&i("update:modelValue",J)}return Ce(()=>{const Y=Ve(x.value?100-t.position:t.position,"%");return M("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&g.value},t.class,a.value],style:[{"--v-slider-thumb-position":Y,"--v-slider-thumb-size":Ve(u.value)},t.style],role:"slider",tabindex:c.value?-1:0,"aria-label":t.name,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!v.value,"aria-orientation":h.value,onKeydown:v.value?void 0:X},[M("div",{class:["v-slider-thumb__surface",C.value,E.value],style:{...A.value}},null),Qe(M("div",{class:["v-slider-thumb__ripple",C.value],style:A.value},null),[[yn("ripple"),t.ripple,null,{circle:!0,center:!0}]]),M(tw,{origin:"bottom center"},{default:()=>{var J;return[Qe(M("div",{class:"v-slider-thumb__label-container"},[M("div",{class:["v-slider-thumb__label"]},[M("div",null,[((J=n["thumb-label"])==null?void 0:J.call(n,{modelValue:t.modelValue}))??t.modelValue.toFixed(l.value?y.value:1)])])]),[[Ws,d.value&&t.focused||d.value==="always"]])]}})])}),{}}}),Aee=oe({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ze()},"VSliderTrack"),ik=be()({name:"VSliderTrack",props:Aee(),emits:{},setup(t,e){let{slots:n}=e;const i=xt(_w);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:r,rounded:a,showTicks:o,tickSize:l,trackColor:c,trackFillColor:u,trackSize:d,vertical:h,min:f,max:m,indexFromEnd:v}=i,{roundedClasses:p}=xn(a),{backgroundColorClasses:g,backgroundColorStyles:y}=Kt(u),{backgroundColorClasses:x,backgroundColorStyles:w}=Kt(c),E=L(()=>`inset-${h.value?"block":"inline"}-${v.value?"end":"start"}`),C=L(()=>h.value?"height":"width"),A=L(()=>({[E.value]:"0%",[C.value]:"100%"})),S=L(()=>t.stop-t.start),_=L(()=>({[E.value]:Ve(t.start,"%"),[C.value]:Ve(S.value,"%")})),b=L(()=>o.value?(h.value?r.value.slice().reverse():r.value).map((P,D)=>{var H;const O=P.value!==f.value&&P.value!==m.value?Ve(P.position,"%"):void 0;return M("div",{key:P.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":P.position>=t.start&&P.position<=t.stop,"v-slider-track__tick--first":P.value===f.value,"v-slider-track__tick--last":P.value===m.value}],style:{[E.value]:O}},[(P.label||n["tick-label"])&&M("div",{class:"v-slider-track__tick-label"},[((H=n["tick-label"])==null?void 0:H.call(n,{tick:P,index:D}))??P.label])])}):[]);return Ce(()=>M("div",{class:["v-slider-track",p.value,t.class],style:[{"--v-slider-track-size":Ve(d.value),"--v-slider-tick-size":Ve(l.value)},t.style]},[M("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!s.value||!u.value}],style:{...A.value,...w.value}},null),M("div",{class:["v-slider-track__fill",g.value],style:{..._.value,...y.value}},null),o.value&&M("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[b.value])])),{}}}),Pee=oe({...Ah(),...ek(),...ma(),modelValue:{type:[Number,String],default:0}},"VSlider"),vb=be()({name:"VSlider",props:Pee(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=he(),{rtlClasses:r}=zn(),a=tk(t),o=Ke(t,"modelValue",void 0,C=>a.roundValue(C??a.min.value)),{min:l,max:c,mousePressed:u,roundValue:d,onSliderMousedown:h,onSliderTouchstart:f,trackContainerRef:m,position:v,hasLabels:p,readonly:g}=nk({props:t,steps:a,onSliderStart:()=>{i("start",o.value)},onSliderEnd:C=>{let{value:A}=C;const S=d(A);o.value=S,i("end",S)},onSliderMove:C=>{let{value:A}=C;return o.value=d(A)},getActiveThumb:()=>{var C;return(C=s.value)==null?void 0:C.$el}}),{isFocused:y,focus:x,blur:w}=fa(t),E=L(()=>v(o.value));return Ce(()=>{const C=ci.filterProps(t),A=!!(t.label||n.label||n.prepend);return M(ci,Se({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":y.value,"v-slider--pressed":u.value,"v-slider--disabled":t.disabled},r.value,t.class],style:t.style},C,{focused:y.value}),{...n,prepend:A?S=>{var _,b;return M(We,null,[((_=n.label)==null?void 0:_.call(n,S))??(t.label?M(ou,{id:S.id.value,class:"v-slider__label",text:t.label},null):void 0),(b=n.prepend)==null?void 0:b.call(n,S)])}:void 0,default:S=>{let{id:_,messagesId:b}=S;return M("div",{class:"v-slider__container",onMousedown:g.value?void 0:h,onTouchstartPassive:g.value?void 0:f},[M("input",{id:_.value,name:t.name||_.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:o.value},null),M(ik,{ref:m,start:0,stop:E.value},{"tick-label":n["tick-label"]}),M(pb,{ref:s,"aria-describedby":b.value,focused:y.value,min:l.value,max:c.value,modelValue:o.value,"onUpdate:modelValue":T=>o.value=T,position:E.value,elevation:t.elevation,onFocus:x,onBlur:w,ripple:t.ripple,name:t.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Iee=oe({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...ze()},"VColorPickerPreview"),Ree=hs({name:"VColorPickerPreview",props:Iee(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;const i=new AbortController;Gs(()=>i.abort());async function s(){if(!mC)return;const r=new window.EyeDropper;try{const a=await r.open({signal:i.signal}),o=y2(a.sRGBHex);n("update:color",{...t.color??bc,...o})}catch{}}return Ce(()=>{var r,a;return M("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha},t.class],style:t.style},[mC&&M("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[M(Vt,{onClick:s,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),M("div",{class:"v-color-picker-preview__dot"},[M("div",{style:{background:p2(t.color??bc)}},null)]),M("div",{class:"v-color-picker-preview__sliders"},[M(vb,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=t.color)==null?void 0:r.h,"onUpdate:modelValue":o=>n("update:color",{...t.color??bc,h:o}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&M(vb,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((a=t.color)==null?void 0:a.a)??1,"onUpdate:modelValue":o=>n("update:color",{...t.color??bc,a:o}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Lee={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},kee={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Dee={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Oee={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Nee={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Vee={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Fee={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Bee={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Uee={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},zee={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Hee={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Gee={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Wee={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},$ee={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},jee={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Xee={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Yee={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},qee={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Kee={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Zee={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Jee={red:Lee,pink:kee,purple:Dee,deepPurple:Oee,indigo:Nee,blue:Vee,lightBlue:Fee,cyan:Bee,teal:Uee,green:zee,lightGreen:Hee,lime:Gee,yellow:Wee,amber:$ee,orange:jee,deepOrange:Xee,brown:Yee,blueGrey:qee,grey:Kee,shades:Zee},Qee=oe({swatches:{type:Array,default:()=>ete(Jee)},disabled:Boolean,color:Object,maxHeight:[Number,String],...ze()},"VColorPickerSwatches");function ete(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const tte=hs({name:"VColorPickerSwatches",props:Qee(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return Ce(()=>M("div",{class:["v-color-picker-swatches",t.class],style:[{maxHeight:Ve(t.maxHeight)},t.style]},[M("div",null,[t.swatches.map(i=>M("div",{class:"v-color-picker-swatches__swatch"},[i.map(s=>{const r=Ms(s),a=Ev(r),o=m2(r);return M("div",{class:"v-color-picker-swatches__color",onClick:()=>a&&n("update:color",a)},[M("div",{style:{background:o}},[t.color&&Mr(t.color,a)?M(Ft,{size:"x-small",icon:"$success",color:rK(s,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),$v=oe({color:String,...es(),...ze(),...Vn(),...Hn(),...da(),...ru(),...dn(),...ft(),...Pt()},"VSheet"),gl=be()({name:"VSheet",props:$v(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=Kt(ge(t,"color")),{borderClasses:a}=ms(t),{dimensionStyles:o}=Fn(t),{elevationClasses:l}=ai(t),{locationStyles:c}=Nl(t),{positionClasses:u}=au(t),{roundedClasses:d}=xn(t);return Ce(()=>M(t.tag,{class:["v-sheet",i.value,s.value,a.value,l.value,u.value,d.value,t.class],style:[r.value,o.value,c.value,t.style]},n)),{}}}),nte=oe({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Jo).includes(t)},modes:{type:Array,default:()=>Object.keys(Jo),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Jo).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...On($v({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),ite=hs({name:"VColorPicker",props:nte(),emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=Ke(t,"mode"),n=he(null),i=Ke(t,"modelValue",void 0,l=>{if(l==null||l==="")return null;let c;try{c=Ev(Ms(l))}catch{return null}return c},l=>l?bee(l,t.modelValue):null),s=L(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:r}=zn();let a=!0;Pe(i,l=>{if(!a){a=!0;return}l&&(n.value=l.h)},{immediate:!0});const o=l=>{a=!1,n.value=l.h,i.value=l};return Ip(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),bn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Ce(()=>{const l=gl.filterProps(t);return M(gl,Se({rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker",r.value,t.class],style:[{"--v-color-picker-color-hsv":p2({...s.value??bc,a:1})},t.style]},l,{maxWidth:t.width}),{default:()=>[!t.hideCanvas&&M(gee,{key:"canvas",color:s.value,"onUpdate:color":o,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&M("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&M(Ree,{key:"preview",color:s.value,"onUpdate:color":o,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&M(Cee,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":c=>e.value=c,color:s.value,"onUpdate:color":o,disabled:t.disabled},null)]),t.showSwatches&&M(tte,{key:"swatches",color:s.value,"onUpdate:color":o,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}});function ste(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?M(We,null,[M("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),M("span",{class:"v-combobox__mask"},[t.substr(e,n)]),M("span",{class:"v-combobox__unmask"},[t.substr(e+n)])]):t}const rte=oe({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Lh({filterKeys:["title"]}),...gw({hideNoData:!0,returnObject:!0}),...On(zv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...qs({transition:!1})},"VCombobox"),ate=be()({name:"VCombobox",props:rte(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var q;let{emit:n,slots:i}=e;const{t:s}=Cn(),r=he(),a=De(!1),o=De(!0),l=De(!1),c=he(),u=he(),d=Ke(t,"menu"),h=L({get:()=>d.value,set:R=>{var I;d.value&&!R&&((I=c.value)!=null&&I.ΨopenChildren.size)||(d.value=R)}}),f=De(-1);let m=!1;const v=L(()=>{var R;return(R=r.value)==null?void 0:R.color}),p=L(()=>h.value?t.closeText:t.openText),{items:g,transformIn:y,transformOut:x}=uw(t),{textColorClasses:w,textColorStyles:E}=li(v),C=Ke(t,"modelValue",[],R=>y(pn(R)),R=>{const I=x(R);return t.multiple?I:I[0]??null}),A=Fv(),S=L(()=>!!(t.chips||i.chip)),_=L(()=>S.value||!!i.selection),b=De(!t.multiple&&!_.value?((q=C.value[0])==null?void 0:q.title)??"":""),T=L({get:()=>b.value,set:R=>{var I;if(b.value=R??"",!t.multiple&&!_.value&&(C.value=[Va(t,R)]),R&&t.multiple&&((I=t.delimiters)!=null&&I.length)){const W=R.split(new RegExp(`(?:${t.delimiters.join("|")})+`));W.length>1&&(W.forEach($=>{$=$.trim(),$&&ae(Va(t,$))}),b.value="")}R||(f.value=-1),o.value=!R}}),P=L(()=>typeof t.counterValue=="function"?t.counterValue(C.value):typeof t.counterValue=="number"?t.counterValue:t.multiple?C.value.length:T.value.length);Pe(b,R=>{m?Rt(()=>m=!1):a.value&&!h.value&&(h.value=!0),n("update:search",R)}),Pe(C,R=>{var I;!t.multiple&&!_.value&&(b.value=((I=R[0])==null?void 0:I.title)??"")});const{filteredItems:D,getMatches:O}=kh(t,g,()=>o.value?"":T.value),H=L(()=>t.hideSelected?D.value.filter(R=>!C.value.some(I=>I.value===R.value)):D.value),F=L(()=>C.value.map(R=>R.value)),K=L(()=>{var I;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&T.value===((I=H.value[0])==null?void 0:I.title))&&H.value.length>0&&!o.value&&!l.value}),j=L(()=>t.hideNoData&&!H.value.length||t.readonly||(A==null?void 0:A.isReadonly.value)),X=he(),Y=vw(X,r);function J(R){m=!0,t.openOnClear&&(h.value=!0)}function de(){j.value||(h.value=!0)}function Le(R){j.value||(a.value&&(R.preventDefault(),R.stopPropagation()),h.value=!h.value)}function ie(R){var I;vp(R)&&((I=r.value)==null||I.focus())}function ye(R){var $;if(Iq(R)||t.readonly||A!=null&&A.isReadonly.value)return;const I=r.value.selectionStart,W=C.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(R.key))&&R.preventDefault(),["Enter","ArrowDown"].includes(R.key)&&(h.value=!0),["Escape"].includes(R.key)&&(h.value=!1),["Enter","Escape","Tab"].includes(R.key)&&(K.value&&["Enter","Tab"].includes(R.key)&&!C.value.some(Z=>{let{value:ee}=Z;return ee===H.value[0].value})&&ae(D.value[0]),o.value=!0),R.key==="ArrowDown"&&K.value&&(($=X.value)==null||$.focus("next")),R.key==="Enter"&&T.value&&(ae(Va(t,T.value)),_.value&&(b.value="")),["Backspace","Delete"].includes(R.key)){if(!t.multiple&&_.value&&C.value.length>0&&!T.value)return ae(C.value[0],!1);if(~f.value){const Z=f.value;ae(C.value[f.value],!1),f.value=Z>=W-1?W-2:Z}else R.key==="Backspace"&&!T.value&&(f.value=W-1)}if(t.multiple){if(R.key==="ArrowLeft"){if(f.value<0&&I>0)return;const Z=f.value>-1?f.value-1:W-1;C.value[Z]?f.value=Z:(f.value=-1,r.value.setSelectionRange(T.value.length,T.value.length))}if(R.key==="ArrowRight"){if(f.value<0)return;const Z=f.value+1;C.value[Z]?f.value=Z:(f.value=-1,r.value.setSelectionRange(0,0))}}}function se(){var R;t.eager&&((R=u.value)==null||R.calculateVisibleItems())}function me(){var R;a.value&&(o.value=!0,(R=r.value)==null||R.focus())}function ae(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!R||R.props.disabled))if(t.multiple){const W=C.value.findIndex(Z=>t.valueComparator(Z.value,R.value)),$=I??!~W;if(~W){const Z=$?[...C.value,R]:[...C.value];Z.splice(W,1),C.value=Z}else $&&(C.value=[...C.value,R]);t.clearOnSelect&&(T.value="")}else{const W=I!==!1;C.value=W?[R]:[],b.value=W&&!_.value?R.title:"",Rt(()=>{h.value=!1,o.value=!0})}}function N(R){a.value=!0,setTimeout(()=>{l.value=!0})}function B(R){l.value=!1}function U(R){(R==null||R===""&&!t.multiple&&!_.value)&&(C.value=[])}return Pe(a,(R,I)=>{if(!(R||R===I)&&(f.value=-1,h.value=!1,T.value)){if(t.multiple){ae(Va(t,T.value));return}if(!_.value)return;C.value.some(W=>{let{title:$}=W;return $===T.value})?b.value="":ae(Va(t,T.value))}}),Pe(h,()=>{if(!t.hideSelected&&h.value&&C.value.length){const R=H.value.findIndex(I=>C.value.some(W=>t.valueComparator(W.value,I.value)));Ot&&window.requestAnimationFrame(()=>{var I;R>=0&&((I=u.value)==null||I.scrollToIndex(R))})}}),Pe(()=>t.items,(R,I)=>{h.value||a.value&&!I.length&&R.length&&(h.value=!0)}),Ce(()=>{const R=!!(!t.hideNoData||H.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),I=C.value.length>0,W=ml.filterProps(t);return M(ml,Se({ref:r},W,{modelValue:T.value,"onUpdate:modelValue":[$=>T.value=$,U],focused:a.value,"onUpdate:focused":$=>a.value=$,validationValue:C.externalValue,counterValue:P.value,dirty:I,class:["v-combobox",{"v-combobox--active-menu":h.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!_.value,"v-combobox--selecting-index":f.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:t.readonly,placeholder:I?void 0:t.placeholder,"onClick:clear":J,"onMousedown:control":de,onKeydown:ye}),{...i,default:()=>M(We,null,[M(Yc,Se({ref:c,modelValue:h.value,"onUpdate:modelValue":$=>h.value=$,activator:"parent",contentClass:"v-combobox__content",disabled:j.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:se,onAfterLeave:me},t.menuProps),{default:()=>[R&&M(Bv,Se({ref:X,selected:F.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:$=>$.preventDefault(),onKeydown:ie,onFocusin:N,onFocusout:B,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Y,t.listProps),{default:()=>{var $,Z,ee;return[($=i["prepend-item"])==null?void 0:$.call(i),!H.value.length&&!t.hideNoData&&(((Z=i["no-data"])==null?void 0:Z.call(i))??M(la,{title:s(t.noDataText)},null)),M(Hv,{ref:u,renderless:!0,items:H.value},{default:ve=>{var re;let{item:le,index:V,itemRef:k}=ve;const Q=Se(le.props,{ref:k,key:V,active:K.value&&V===0?!0:void 0,onClick:()=>ae(le,null)});return((re=i.item)==null?void 0:re.call(i,{item:le,index:V,props:Q}))??M(la,Se(Q,{role:"option"}),{prepend:pe=>{let{isSelected:fe}=pe;return M(We,null,[t.multiple&&!t.hideSelected?M(oa,{key:le.value,modelValue:fe,ripple:!1,tabindex:"-1"},null):void 0,le.props.prependAvatar&&M(Es,{image:le.props.prependAvatar},null),le.props.prependIcon&&M(Ft,{icon:le.props.prependIcon},null)])},title:()=>{var pe,fe;return o.value?le.title:ste(le.title,(pe=O(le))==null?void 0:pe.title,((fe=T.value)==null?void 0:fe.length)??0)}})}}),(ee=i["append-item"])==null?void 0:ee.call(i)]}})]}),C.value.map(($,Z)=>{function ee(k){k.stopPropagation(),k.preventDefault(),ae($,!1)}const ve={"onClick:close":ee,onKeydown(k){k.key!=="Enter"&&k.key!==" "||(k.preventDefault(),k.stopPropagation(),ee(k))},onMousedown(k){k.preventDefault(),k.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},le=S.value?!!i.chip:!!i.selection,V=le?Tv(S.value?i.chip({item:$,index:Z,props:ve}):i.selection({item:$,index:Z})):void 0;if(!(le&&!V))return M("div",{key:$.value,class:["v-combobox__selection",Z===f.value&&["v-combobox__selection--selected",w.value]],style:Z===f.value?E.value:{}},[S.value?i.chip?M(yt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:$.title}}},{default:()=>[V]}):M(lu,Se({key:"chip",closable:t.closableChips,size:"small",text:$.title,disabled:$.props.disabled},ve),null):V??M("span",{class:"v-combobox__selection-text"},[$.title,t.multiple&&Z<C.value.length-1&&M("span",{class:"v-combobox__selection-comma"},[gn(",")])])])})]),"append-inner":function(){var ve;for(var $=arguments.length,Z=new Array($),ee=0;ee<$;ee++)Z[ee]=arguments[ee];return M(We,null,[(ve=i["append-inner"])==null?void 0:ve.call(i,...Z),(!t.hideNoData||t.items.length)&&t.menuIcon?M(Ft,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:Le,onClick:o2,"aria-label":s(p.value),title:s(p.value),tabindex:"-1"},null):void 0])}})}),Is({isFocused:a,isPristine:o,menu:h,search:T,selectionIndex:f,filteredItems:D,select:ae},r)}}),ote=oe({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),lte=be()({name:"VConfirmEdit",props:ote(),emits:{cancel:()=>!0,save:t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ke(t,"modelValue"),r=he();qt(()=>{r.value=structuredClone(at(s.value))});const{t:a}=Cn(),o=L(()=>Mr(s.value,r.value));function l(){s.value=r.value,n("save",r.value)}function c(){r.value=structuredClone(at(s.value)),n("cancel")}let u=!1;return Ce(()=>{var h;const d=M(We,null,[M(Vt,{disabled:o.value,variant:"text",color:t.color,onClick:c,text:a(t.cancelText)},null),M(Vt,{disabled:o.value,variant:"text",color:t.color,onClick:l,text:a(t.okText)},null)]);return M(We,null,[(h=i.default)==null?void 0:h.call(i,{model:r,save:l,cancel:c,isPristine:o.value,get actions(){return u=!0,d}}),!u&&d])}),{save:l,cancel:c,isPristine:o}}}),sk=oe({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),rk=Symbol.for("vuetify:datatable:expanded");function jv(t){const e=ge(t,"expandOnClick"),n=Ke(t,"expanded",t.expanded,o=>new Set(o),o=>[...o.values()]);function i(o,l){const c=new Set(n.value);l?c.add(o.value):c.delete(o.value),n.value=c}function s(o){return n.value.has(o.value)}function r(o){i(o,!s(o))}const a={expand:i,expanded:n,expandOnClick:e,isExpanded:s,toggleExpand:r};return Zt(rk,a),a}function ak(){const t=xt(rk);if(!t)throw new Error("foo");return t}const xw=oe({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ok=Symbol.for("vuetify:data-table-group");function ww(t){return{groupBy:Ke(t,"groupBy")}}function Xv(t){const{disableSort:e,groupBy:n,sortBy:i}=t,s=he(new Set),r=L(()=>n.value.map(u=>({...u,order:u.order??!1})).concat(e!=null&&e.value?[]:i.value));function a(u){return s.value.has(u.id)}function o(u){const d=new Set(s.value);a(u)?d.delete(u.id):d.add(u.id),s.value=d}function l(u){function d(h){const f=[];for(const m of h.items)"type"in m&&m.type==="group"?f.push(...d(m)):f.push(m);return f}return d({type:"group",items:u,id:"dummy",key:"dummy",value:"dummy",depth:0})}const c={sortByWithGroups:r,toggleGroup:o,opened:s,groupBy:n,extractRows:l,isGroupOpen:a};return Zt(ok,c),c}function lk(){const t=xt(ok);if(!t)throw new Error("Missing group!");return t}function cte(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const s=fl(i.raw,e);n.has(s)||n.set(s,[]),n.get(s).push(i)}return n}function ck(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const s=cte(t,e[0]),r=[],a=e.slice(1);return s.forEach((o,l)=>{const c=e[0],u=`${i}_${c}_${l}`;r.push({depth:n,id:u,key:c,value:l,items:a.length?ck(o,a,n+1,u):o,type:"group"})}),r}function uk(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...uk(i.items,e))):n.push(i);return n}function Yv(t,e,n){return{flatItems:L(()=>{if(!e.value.length)return t.value;const s=ck(t.value,e.value.map(r=>r.key));return uk(s,n.value)})}}function qv(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:s,search:r}=t;const a=_n("VDataTable"),o=L(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:s.value,search:r.value}));let l=null;Pe(o,()=>{Mr(l,o.value)||(l&&l.search!==o.value.search&&(e.value=1),a.emit("update:options",o.value),l=o.value)},{deep:!0,immediate:!0})}const Sw=oe({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),dk=Symbol.for("vuetify:data-table-pagination");function Mw(t){const e=Ke(t,"page",void 0,i=>+(i??1)),n=Ke(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function Cw(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,s=L(()=>n.value===-1?0:n.value*(e.value-1)),r=L(()=>n.value===-1?i.value:Math.min(i.value,s.value+n.value)),a=L(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));Pe([e,a],()=>{e.value>a.value&&(e.value=a.value)});function o(h){n.value=h,e.value=1}function l(){e.value=Rn(e.value+1,1,a.value)}function c(){e.value=Rn(e.value-1,1,a.value)}function u(h){e.value=Rn(h,1,a.value)}const d={page:e,itemsPerPage:n,startIndex:s,stopIndex:r,pageCount:a,itemsLength:i,nextPage:l,prevPage:c,setPage:u,setItemsPerPage:o};return Zt(dk,d),d}function ute(){const t=xt(dk);if(!t)throw new Error("Missing pagination!");return t}function hk(t){const e=_n("usePaginatedItems"),{items:n,startIndex:i,stopIndex:s,itemsPerPage:r}=t,a=L(()=>r.value<=0?n.value:n.value.slice(i.value,s.value));return Pe(a,o=>{e.emit("update:currentItems",o)}),{paginatedItems:a}}const dte={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},fk={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return fk.select({items:n,value:e,selected:i})}},mk={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return mk.select({items:n,value:e,selected:i})}},pk=oe({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Mr}},"DataTable-select"),vk=Symbol.for("vuetify:data-table-selection");function Kv(t,e){let{allItems:n,currentPage:i}=e;const s=Ke(t,"modelValue",t.modelValue,g=>new Set(pn(g).map(y=>{var x;return((x=n.value.find(w=>t.valueComparator(y,w.value)))==null?void 0:x.value)??y})),g=>[...g.values()]),r=L(()=>n.value.filter(g=>g.selectable)),a=L(()=>i.value.filter(g=>g.selectable)),o=L(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return dte;case"all":return mk;case"page":default:return fk}});function l(g){return pn(g).every(y=>s.value.has(y.value))}function c(g){return pn(g).some(y=>s.value.has(y.value))}function u(g,y){const x=o.value.select({items:g,value:y,selected:new Set(s.value)});s.value=x}function d(g){u([g],!l([g]))}function h(g){const y=o.value.selectAll({value:g,allItems:r.value,currentPage:a.value,selected:new Set(s.value)});s.value=y}const f=L(()=>s.value.size>0),m=L(()=>{const g=o.value.allSelected({allItems:r.value,currentPage:a.value});return!!g.length&&l(g)}),v=L(()=>o.value.showSelectAll),p={toggleSelect:d,select:u,selectAll:h,isSelected:l,isSomeSelected:c,someSelected:f,allSelected:m,showSelectAll:v};return Zt(vk,p),p}function Zv(){const t=xt(vk);if(!t)throw new Error("Missing selection!");return t}const gk=oe({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),yk=Symbol.for("vuetify:data-table-sort");function Jv(t){const e=Ke(t,"sortBy"),n=ge(t,"mustSort"),i=ge(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function Qv(t){const{sortBy:e,mustSort:n,multiSort:i,page:s}=t,r=l=>{if(l.key==null)return;let c=e.value.map(d=>({...d}))??[];const u=c.find(d=>d.key===l.key);u?u.order==="desc"?n.value?u.order="asc":c=c.filter(d=>d.key!==l.key):u.order="desc":i.value?c=[...c,{key:l.key,order:"asc"}]:c=[{key:l.key,order:"asc"}],e.value=c,s&&(s.value=1)};function a(l){return!!e.value.find(c=>c.key===l.key)}const o={sortBy:e,toggleSort:r,isSorted:a};return Zt(yk,o),o}function bk(){const t=xt(yk);if(!t)throw new Error("Missing sort!");return t}function Tw(t,e,n,i){const s=Cn();return{sortedItems:L(()=>{var a,o;return n.value.length?hte(e.value,n.value,s.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...t.customKeySort,...(a=i==null?void 0:i.sortFunctions)==null?void 0:a.value},sortRawFunctions:(o=i==null?void 0:i.sortRawFunctions)==null?void 0:o.value}):e.value})}}function hte(t,e,n,i){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return t.map(a=>[a,i!=null&&i.transform?i.transform(a):a]).sort((a,o)=>{var l,c;for(let u=0;u<e.length;u++){let d=!1;const h=e[u].key,f=e[u].order??"asc";if(f===!1)continue;let m=fl(a[1],h),v=fl(o[1],h),p=a[0].raw,g=o[0].raw;if(f==="desc"&&([m,v]=[v,m],[p,g]=[g,p]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[h]){const y=i.sortRawFunctions[h](p,g);if(y==null)continue;if(d=!0,y)return y}if((c=i==null?void 0:i.sortFunctions)!=null&&c[h]){const y=i.sortFunctions[h](m,v);if(y==null)continue;if(d=!0,y)return y}if(!d){if(m instanceof Date&&v instanceof Date)return m.getTime()-v.getTime();if([m,v]=[m,v].map(y=>y!=null?y.toString().toLocaleLowerCase():y),m!==v)return Wf(m)&&Wf(v)?0:Wf(m)?-1:Wf(v)?1:!isNaN(m)&&!isNaN(v)?Number(m)-Number(v):s.compare(m,v)}}return 0}).map(a=>{let[o]=a;return o})}const fte=oe({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function mte(t,e){const n=t.returnObject?e:Un(e,t.itemValue),i=Un(e,t.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:e}}function pte(t,e){const n=[];for(const i of e)n.push(mte(t,i));return n}function vte(t){return{items:L(()=>pte(t,t.items))}}const gte=oe({search:String,loading:Boolean,...ze(),...fte(),...pk(),...gk(),...Sw({itemsPerPage:5}),...sk(),...xw(),...Lh(),...ft(),...qs({transition:{component:Vd,hideOnLeave:!0}})},"VDataIterator"),yte=be()({name:"VDataIterator",props:gte(),emits:{"update:modelValue":t=>!0,"update:groupBy":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"groupBy"),s=ge(t,"search"),{items:r}=vte(t),{filteredItems:a}=kh(t,r,s,{transform:J=>J.raw}),{sortBy:o,multiSort:l,mustSort:c}=Jv(t),{page:u,itemsPerPage:d}=Mw(t),{toggleSort:h}=Qv({sortBy:o,multiSort:l,mustSort:c,page:u}),{sortByWithGroups:f,opened:m,extractRows:v,isGroupOpen:p,toggleGroup:g}=Xv({groupBy:i,sortBy:o}),{sortedItems:y}=Tw(t,a,f,{transform:J=>J.raw}),{flatItems:x}=Yv(y,i,m),w=L(()=>x.value.length),{startIndex:E,stopIndex:C,pageCount:A,prevPage:S,nextPage:_,setItemsPerPage:b,setPage:T}=Cw({page:u,itemsPerPage:d,itemsLength:w}),{paginatedItems:P}=hk({items:x,startIndex:E,stopIndex:C,itemsPerPage:d}),D=L(()=>v(P.value)),{isSelected:O,select:H,selectAll:F,toggleSelect:K}=Kv(t,{allItems:r,currentPage:D}),{isExpanded:j,toggleExpand:X}=jv(t);qv({page:u,itemsPerPage:d,sortBy:o,groupBy:i,search:s});const Y=L(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:A.value,toggleSort:h,prevPage:S,nextPage:_,setPage:T,setItemsPerPage:b,isSelected:O,select:H,selectAll:F,toggleSelect:K,isExpanded:j,toggleExpand:X,isGroupOpen:p,toggleGroup:g,items:D.value,groupedItems:P.value}));return Ce(()=>M(t.tag,{class:["v-data-iterator",{"v-data-iterator--loading":t.loading},t.class],style:t.style},{default:()=>{var J,de;return[(J=n.header)==null?void 0:J.call(n,Y.value),M(gi,{transition:t.transition},{default:()=>{var Le,ie;return[t.loading?M(Ch,{key:"loader",name:"v-data-iterator",active:!0},{default:ye=>{var se;return(se=n.loader)==null?void 0:se.call(n,ye)}}):M("div",{key:"items"},[P.value.length?(ie=n.default)==null?void 0:ie.call(n,Y.value):(Le=n["no-data"])==null?void 0:Le.call(n)])]}}),(de=n.footer)==null?void 0:de.call(n,Y.value)]}})),{}}});function bte(){const t=he([]);dE(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const _te=oe({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:ot,default:"$first"},prevIcon:{type:ot,default:"$prev"},nextIcon:{type:ot,default:"$next"},lastIcon:{type:ot,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...es(),...ze(),...qn(),...Hn(),...dn(),...Er(),...ft({tag:"nav"}),...Pt(),...Ps({variant:"text"})},"VPagination"),gb=be()({name:"VPagination",props:_te(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Ke(t,"modelValue"),{t:r,n:a}=Cn(),{isRtl:o}=zn(),{themeClasses:l}=Bt(t),{width:c}=As(),u=De(-1);bn(void 0,{scoped:!0});const{resizeRef:d}=zs(S=>{if(!S.length)return;const{target:_,contentRect:b}=S[0],T=_.querySelector(".v-pagination__list > *");if(!T)return;const P=b.width,D=T.offsetWidth+parseFloat(getComputedStyle(T).marginRight)*2;u.value=v(P,D)}),h=L(()=>parseInt(t.length,10)),f=L(()=>parseInt(t.start,10)),m=L(()=>t.totalVisible!=null?parseInt(t.totalVisible,10):u.value>=0?u.value:v(c.value,58));function v(S,_){const b=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-_*b)/_).toFixed(2)))}const p=L(()=>{if(h.value<=0||isNaN(h.value)||h.value>Number.MAX_SAFE_INTEGER)return[];if(m.value<=0)return[];if(m.value===1)return[s.value];if(h.value<=m.value)return lr(h.value,f.value);const S=m.value%2===0,_=S?m.value/2:Math.floor(m.value/2),b=S?_:_+1,T=h.value-_;if(b-s.value>=0)return[...lr(Math.max(1,m.value-1),f.value),t.ellipsis,h.value];if(s.value-T>=(S?1:0)){const P=m.value-1,D=h.value-P+f.value;return[f.value,t.ellipsis,...lr(P,D)]}else{const P=Math.max(1,m.value-3),D=P===1?s.value:s.value-Math.ceil(P/2)+f.value;return[f.value,t.ellipsis,...lr(P,D),t.ellipsis,h.value]}});function g(S,_,b){S.preventDefault(),s.value=_,b&&i(b,_)}const{refs:y,updateRef:x}=bte();bn({VPaginationBtn:{color:ge(t,"color"),border:ge(t,"border"),density:ge(t,"density"),size:ge(t,"size"),variant:ge(t,"variant"),rounded:ge(t,"rounded"),elevation:ge(t,"elevation")}});const w=L(()=>p.value.map((S,_)=>{const b=T=>x(T,_);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${_}`,page:S,props:{ref:b,ellipsis:!0,icon:!0,disabled:!0}};{const T=S===s.value;return{isActive:T,key:S,page:a(S),props:{ref:b,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:T?t.activeColor:t.color,"aria-current":T,"aria-label":r(T?t.currentPageAriaLabel:t.pageAriaLabel,S),onClick:P=>g(P,S)}}}})),E=L(()=>{const S=!!t.disabled||s.value<=f.value,_=!!t.disabled||s.value>=f.value+h.value-1;return{first:t.showFirstLastPage?{icon:o.value?t.lastIcon:t.firstIcon,onClick:b=>g(b,f.value,"first"),disabled:S,"aria-label":r(t.firstAriaLabel),"aria-disabled":S}:void 0,prev:{icon:o.value?t.nextIcon:t.prevIcon,onClick:b=>g(b,s.value-1,"prev"),disabled:S,"aria-label":r(t.previousAriaLabel),"aria-disabled":S},next:{icon:o.value?t.prevIcon:t.nextIcon,onClick:b=>g(b,s.value+1,"next"),disabled:_,"aria-label":r(t.nextAriaLabel),"aria-disabled":_},last:t.showFirstLastPage?{icon:o.value?t.firstIcon:t.lastIcon,onClick:b=>g(b,f.value+h.value-1,"last"),disabled:_,"aria-label":r(t.lastAriaLabel),"aria-disabled":_}:void 0}});function C(){var _;const S=s.value-f.value;(_=y.value[S])==null||_.$el.focus()}function A(S){S.key===$0.left&&!t.disabled&&s.value>+t.start?(s.value=s.value-1,Rt(C)):S.key===$0.right&&!t.disabled&&s.value<f.value+h.value-1&&(s.value=s.value+1,Rt(C))}return Ce(()=>M(t.tag,{ref:d,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":r(t.ariaLabel),onKeydown:A,"data-test":"v-pagination-root"},{default:()=>[M("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&M("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(E.value.first):M(Vt,Se({_as:"VPaginationBtn"},E.value.first),null)]),M("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(E.value.prev):M(Vt,Se({_as:"VPaginationBtn"},E.value.prev),null)]),w.value.map((S,_)=>M("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(S):M(Vt,Se({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),M("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(E.value.next):M(Vt,Se({_as:"VPaginationBtn"},E.value.next),null)]),t.showFirstLastPage&&M("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(E.value.last):M(Vt,Se({_as:"VPaginationBtn"},E.value.last),null)])])]})),{}}}),Ew=oe({prevIcon:{type:ot,default:"$prev"},nextIcon:{type:ot,default:"$next"},firstIcon:{type:ot,default:"$first"},lastIcon:{type:ot,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Gd=be()({name:"VDataTableFooter",props:Ew(),setup(t,e){let{slots:n}=e;const{t:i}=Cn(),{page:s,pageCount:r,startIndex:a,stopIndex:o,itemsLength:l,itemsPerPage:c,setItemsPerPage:u}=ute(),d=L(()=>t.itemsPerPageOptions.map(h=>typeof h=="number"?{value:h,title:h===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(h)}:{...h,title:isNaN(Number(h.title))?i(h.title):h.title}));return Ce(()=>{var f;const h=gb.filterProps(t);return M("div",{class:"v-data-table-footer"},[(f=n.prepend)==null?void 0:f.call(n),M("div",{class:"v-data-table-footer__items-per-page"},[M("span",null,[i(t.itemsPerPageText)]),M(yw,{items:d.value,modelValue:c.value,"onUpdate:modelValue":m=>u(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),M("div",{class:"v-data-table-footer__info"},[M("div",null,[i(t.pageText,l.value?a.value+1:0,o.value,l.value)])]),M("div",{class:"v-data-table-footer__pagination"},[M(gb,Se({modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,density:"comfortable","first-aria-label":t.firstPageLabel,"last-aria-label":t.lastPageLabel,length:r.value,"next-aria-label":t.nextPageLabel,"previous-aria-label":t.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":t.showCurrentPage?1:0,variant:"plain"},h),null)])])}),{}}}),wp=uK({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return M(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding,"v-data-table-column--nowrap":t.nowrap},`v-data-table-column--align-${t.align}`],style:{height:Ve(t.height),width:Ve(t.width),maxWidth:Ve(t.maxWidth),left:Ve(t.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),xte=oe({headers:Array},"DataTable-header"),_k=Symbol.for("vuetify:data-table-headers"),xk={title:"",sortable:!1},wte={...xk,width:48};function Ste(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let s=!1;for(let r=0;r<e.length;r++)if(e[r].priority>i){e.splice(r,0,{element:n,priority:i}),s=!0;break}s||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let s=0;s<e.length;s++)Math.floor(e[s].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function yb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)yb(n,e);return e}function wk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&wk(n.children,e);return e}function Mte(t){if(t.key){if(t.key==="data-table-group")return xk;if(["data-table-expand","data-table-select"].includes(t.key))return wte}}function Aw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>Aw(n,e+1))):e}function Cte(t){let e=!1;function n(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(a&&(r.fixed=!0),r.fixed)if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o],!0);else e?isNaN(+r.width)&&(`${r.key}`,void 0):r.lastFixed=!0,e=!0;else if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o]);else e=!1}for(let r=t.length-1;r>=0;r--)n(t[r]);function i(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return a;if(r.children){r.fixedOffset=a;for(const o of r.children)a=i(o,a)}else r.fixed&&(r.fixedOffset=a,a+=parseFloat(r.width||"0")||0);return a}let s=0;for(const r of t)s=i(r,s)}function Tte(t,e){const n=[];let i=0;const s=Ste(t);for(;s.size()>0;){let a=s.count();const o=[];let l=1;for(;a>0;){const{element:c,priority:u}=s.dequeue(),d=e-i-Aw(c);if(o.push({...c,rowspan:d??1,colspan:c.children?yb(c).length:1}),c.children)for(const h of c.children){const f=u%1+l/Math.pow(10,i+2);s.enqueue(h,i+d+f)}l+=1,a-=1}i+=1,n.push(o)}return{columns:t.map(a=>yb(a)).flat(),headers:n}}function Sk(t){const e=[];for(const n of t){const i={...Mte(n),...n},s=i.key??(typeof i.value=="string"?i.value:null),r=i.value??s??null,a={...i,key:s,value:r,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?Sk(i.children):void 0};e.push(a)}return e}function Pw(t,e){const n=he([]),i=he([]),s=he({}),r=he({}),a=he({});qt(()=>{var v,p,g;const c=(t.headers||Object.keys(t.items[0]??{}).map(y=>({key:y,title:br(y)}))).slice(),u=wk(c);(v=e==null?void 0:e.groupBy)!=null&&v.value.length&&!u.has("data-table-group")&&c.unshift({key:"data-table-group",title:"Group"}),(p=e==null?void 0:e.showSelect)!=null&&p.value&&!u.has("data-table-select")&&c.unshift({key:"data-table-select"}),(g=e==null?void 0:e.showExpand)!=null&&g.value&&!u.has("data-table-expand")&&c.push({key:"data-table-expand"});const d=Sk(c);Cte(d);const h=Math.max(...d.map(y=>Aw(y)))+1,f=Tte(d,h);n.value=f.headers,i.value=f.columns;const m=f.headers.flat(1);for(const y of m)y.key&&(y.sortable&&(y.sort&&(s.value[y.key]=y.sort),y.sortRaw&&(r.value[y.key]=y.sortRaw)),y.filter&&(a.value[y.key]=y.filter))});const o={headers:n,columns:i,sortFunctions:s,sortRawFunctions:r,filterFunctions:a};return Zt(_k,o),o}function eg(){const t=xt(_k);if(!t)throw new Error("Missing headers!");return t}const Mk=oe({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:ot,default:"$sortAsc"},sortDescIcon:{type:ot,default:"$sortDesc"},headerProps:{type:Object},...Al(),...Ov()},"VDataTableHeaders"),yl=be()({name:"VDataTableHeaders",props:Mk(),setup(t,e){let{slots:n}=e;const{t:i}=Cn(),{toggleSort:s,sortBy:r,isSorted:a}=bk(),{someSelected:o,allSelected:l,selectAll:c,showSelectAll:u}=Zv(),{columns:d,headers:h}=eg(),{loaderClasses:f}=Mh(t);function m(S,_){if(!(!t.sticky&&!S.fixed))return{position:"sticky",left:S.fixed?Ve(S.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${_})`:void 0}}function v(S){const _=r.value.find(b=>b.key===S.key);return _?_.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:p,backgroundColorStyles:g}=Kt(t,"color"),{displayClasses:y,mobile:x}=As(t),w=L(()=>({headers:h.value,columns:d.value,toggleSort:s,isSorted:a,sortBy:r.value,someSelected:o.value,allSelected:l.value,selectAll:c,getSortIcon:v})),E=L(()=>["v-data-table__th",{"v-data-table__th--sticky":t.sticky},y.value,f.value]),C=S=>{let{column:_,x:b,y:T}=S;const P=_.key==="data-table-select"||_.key==="data-table-expand",D=Se(t.headerProps??{},_.headerProps??{});return M(wp,Se({tag:"th",align:_.align,class:[{"v-data-table__th--sortable":_.sortable&&!t.disableSort,"v-data-table__th--sorted":a(_),"v-data-table__th--fixed":_.fixed},...E.value],style:{width:Ve(_.width),minWidth:Ve(_.minWidth),maxWidth:Ve(_.maxWidth),...m(_,T)},colspan:_.colspan,rowspan:_.rowspan,onClick:_.sortable?()=>s(_):void 0,fixed:_.fixed,nowrap:_.nowrap,lastFixed:_.lastFixed,noPadding:P},D),{default:()=>{var F;const O=`header.${_.key}`,H={column:_,selectAll:c,isSorted:a,toggleSort:s,sortBy:r.value,someSelected:o.value,allSelected:l.value,getSortIcon:v};return n[O]?n[O](H):_.key==="data-table-select"?((F=n["header.data-table-select"])==null?void 0:F.call(n,H))??(u.value&&M(oa,{modelValue:l.value,indeterminate:o.value&&!l.value,"onUpdate:modelValue":c},null)):M("div",{class:"v-data-table-header__content"},[M("span",null,[_.title]),_.sortable&&!t.disableSort&&M(Ft,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(_)},null),t.multiSort&&a(_)&&M("div",{key:"badge",class:["v-data-table-header__sort-badge",...p.value],style:g.value},[r.value.findIndex(K=>K.key===_.key)+1])])}})},A=()=>{const S=Se(t.headerProps??{}??{}),_=L(()=>d.value.filter(T=>(T==null?void 0:T.sortable)&&!t.disableSort)),b=L(()=>{if(d.value.find(P=>P.key==="data-table-select")!=null)return l.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return M(wp,Se({tag:"th",class:[...E.value],colspan:h.value.length+1},S),{default:()=>[M("div",{class:"v-data-table-header__content"},[M(yw,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:_.value,label:i("$vuetify.dataTable.sortBy"),multiple:t.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:b.value,"onClick:append":()=>c(!l.value)},{...n,chip:T=>{var P;return M(lu,{onClick:(P=T.item.raw)!=null&&P.sortable?()=>s(T.item.raw):void 0,onMousedown:D=>{D.preventDefault(),D.stopPropagation()}},{default:()=>[T.item.title,M(Ft,{class:["v-data-table__td-sort-icon",a(T.item.raw)&&"v-data-table__td-sort-icon-active"],icon:v(T.item.raw),size:"small"},null)]})}})])]})};Ce(()=>x.value?M("tr",null,[M(A,null,null)]):M(We,null,[n.headers?n.headers(w.value):h.value.map((S,_)=>M("tr",null,[S.map((b,T)=>M(C,{column:b,x:T,y:_},null))])),t.loading&&M("tr",{class:"v-data-table-progress"},[M("th",{colspan:d.value.length},[M(Ch,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),Ete=oe({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Ate=be()({name:"VDataTableGroupHeaderRow",props:Ete(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:s,extractRows:r}=lk(),{isSelected:a,isSomeSelected:o,select:l}=Zv(),{columns:c}=eg(),u=L(()=>r([t.item]));return()=>M("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[c.value.map(d=>{var h,f;if(d.key==="data-table-group"){const m=i(t.item)?"$expand":"$next",v=()=>s(t.item);return((h=n["data-table-group"])==null?void 0:h.call(n,{item:t.item,count:u.value.length,props:{icon:m,onClick:v}}))??M(wp,{class:"v-data-table-group-header-row__column"},{default:()=>[M(Vt,{size:"small",variant:"text",icon:m,onClick:v},null),M("span",null,[t.item.value]),M("span",null,[gn("("),u.value.length,gn(")")])]})}if(d.key==="data-table-select"){const m=a(u.value),v=o(u.value)&&!m,p=g=>l(u.value,g);return((f=n["data-table-select"])==null?void 0:f.call(n,{props:{modelValue:m,indeterminate:v,"onUpdate:modelValue":p}}))??M("td",null,[M(oa,{modelValue:m,indeterminate:v,"onUpdate:modelValue":p},null)])}return M("td",null,null)})])}}),Pte=oe({index:Number,item:Object,cellProps:[Object,Function],onClick:ni(),onContextmenu:ni(),onDblclick:ni(),...Al()},"VDataTableRow"),Iw=be()({name:"VDataTableRow",props:Pte(),setup(t,e){let{slots:n}=e;const{displayClasses:i,mobile:s}=As(t,"v-data-table__tr"),{isSelected:r,toggleSelect:a,someSelected:o,allSelected:l,selectAll:c}=Zv(),{isExpanded:u,toggleExpand:d}=ak(),{toggleSort:h,sortBy:f,isSorted:m}=bk(),{columns:v}=eg();Ce(()=>M("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)},i.value],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&v.value.map((p,g)=>{const y=t.item,x=`item.${p.key}`,w=`header.${p.key}`,E={index:t.index,item:y.raw,internalItem:y,value:fl(y.columns,p.key),column:p,isSelected:r,toggleSelect:a,isExpanded:u,toggleExpand:d},C={column:p,selectAll:c,isSorted:m,toggleSort:h,sortBy:f.value,someSelected:o.value,allSelected:l.value,getSortIcon:()=>""},A=typeof t.cellProps=="function"?t.cellProps({index:E.index,item:E.item,internalItem:E.internalItem,value:E.value,column:p}):t.cellProps,S=typeof p.cellProps=="function"?p.cellProps({index:E.index,item:E.item,internalItem:E.internalItem,value:E.value}):p.cellProps;return M(wp,Se({align:p.align,class:{"v-data-table__td--expanded-row":p.key==="data-table-expand","v-data-table__td--select-row":p.key==="data-table-select"},fixed:p.fixed,fixedOffset:p.fixedOffset,lastFixed:p.lastFixed,maxWidth:s.value?void 0:p.maxWidth,noPadding:p.key==="data-table-select"||p.key==="data-table-expand",nowrap:p.nowrap,width:s.value?void 0:p.width},A,S),{default:()=>{var b,T,P,D,O;if(n[x]&&!s.value)return(b=n[x])==null?void 0:b.call(n,E);if(p.key==="data-table-select")return((T=n["item.data-table-select"])==null?void 0:T.call(n,E))??M(oa,{disabled:!y.selectable,modelValue:r([y]),onClick:AS(()=>a(y),["stop"])},null);if(p.key==="data-table-expand")return((P=n["item.data-table-expand"])==null?void 0:P.call(n,E))??M(Vt,{icon:u(y)?"$collapse":"$expand",size:"small",variant:"text",onClick:AS(()=>d(y),["stop"])},null);const _=ET(E.value);return s.value?M(We,null,[M("div",{class:"v-data-table__td-title"},[((D=n[w])==null?void 0:D.call(n,C))??p.title]),M("div",{class:"v-data-table__td-value"},[((O=n[x])==null?void 0:O.call(n,E))??_])]):_}})})]))}}),Ck=oe({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Al()},"VDataTableRows"),bl=be()({name:"VDataTableRows",inheritAttrs:!1,props:Ck(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:s}=eg(),{expandOnClick:r,toggleExpand:a,isExpanded:o}=ak(),{isSelected:l,toggleSelect:c}=Zv(),{toggleGroup:u,isGroupOpen:d}=lk(),{t:h}=Cn(),{mobile:f}=As(t);return Ce(()=>{var m,v;return t.loading&&(!t.items.length||i.loading)?M("tr",{class:"v-data-table-rows-loading",key:"loading"},[M("td",{colspan:s.value.length},[((m=i.loading)==null?void 0:m.call(i))??h(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?M("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[M("td",{colspan:s.value.length},[((v=i["no-data"])==null?void 0:v.call(i))??h(t.noDataText)])]):M(We,null,[t.items.map((p,g)=>{var w;if(p.type==="group"){const E={index:g,item:p,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:c,toggleGroup:u,isGroupOpen:d};return i["group-header"]?i["group-header"](E):M(Ate,Se({key:`group-header_${p.id}`,item:p},NC(n,":group-header",()=>E)),i)}const y={index:g,item:p.raw,internalItem:p,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:c},x={...y,props:Se({key:`item_${p.key??p.index}`,onClick:r.value?()=>{a(p)}:void 0,index:g,item:p,cellProps:t.cellProps,mobile:f.value},NC(n,":row",()=>y),typeof t.rowProps=="function"?t.rowProps({item:y.item,index:y.index,internalItem:y.internalItem}):t.rowProps)};return M(We,{key:x.props.key},[i.item?i.item(x):M(Iw,x.props,i),o(p)&&((w=i["expanded-row"])==null?void 0:w.call(i,y))])})])}),{}}}),Tk=oe({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ze(),...qn(),...ft(),...Pt()},"VTable"),_l=be()({name:"VTable",props:Tk(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:s}=Bt(t),{densityClasses:r}=wi(t);return Ce(()=>M(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},s.value,r.value,t.class],style:t.style},{default:()=>{var a,o,l;return[(a=n.top)==null?void 0:a.call(n),n.default?M("div",{class:"v-table__wrapper",style:{height:Ve(t.height)}},[M("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),Ite=oe({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Rte(t,e,n,i){const s=t.returnObject?e:Un(e,t.itemValue),r=Un(e,t.itemSelectable,!0),a=i.reduce((o,l)=>(l.key!=null&&(o[l.key]=Un(e,l.value)),o),{});return{type:"item",key:t.returnObject?Un(e,t.itemValue):s,index:n,value:s,selectable:r,columns:a,raw:e}}function Lte(t,e,n){return e.map((i,s)=>Rte(t,i,s,n))}function Rw(t,e){return{items:L(()=>Lte(t,t.items,e.value))}}const Lw=oe({...Ck(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...sk(),...xw(),...xte(),...Ite(),...pk(),...gk(),...Mk(),...Tk()},"DataTable"),kte=oe({...Sw(),...Lw(),...Lh(),...Ew()},"VDataTable"),Dte=be()({name:"VDataTable",props:kte(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=ww(t),{sortBy:r,multiSort:a,mustSort:o}=Jv(t),{page:l,itemsPerPage:c}=Mw(t),{disableSort:u}=Hs(t),{columns:d,headers:h,sortFunctions:f,sortRawFunctions:m,filterFunctions:v}=Pw(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:p}=Rw(t,d),g=ge(t,"search"),{filteredItems:y}=kh(t,p,g,{transform:me=>me.columns,customKeyFilter:v}),{toggleSort:x}=Qv({sortBy:r,multiSort:a,mustSort:o,page:l}),{sortByWithGroups:w,opened:E,extractRows:C,isGroupOpen:A,toggleGroup:S}=Xv({groupBy:s,sortBy:r,disableSort:u}),{sortedItems:_}=Tw(t,y,w,{transform:me=>({...me.raw,...me.columns}),sortFunctions:f,sortRawFunctions:m}),{flatItems:b}=Yv(_,s,E),T=L(()=>b.value.length),{startIndex:P,stopIndex:D,pageCount:O,setItemsPerPage:H}=Cw({page:l,itemsPerPage:c,itemsLength:T}),{paginatedItems:F}=hk({items:b,startIndex:P,stopIndex:D,itemsPerPage:c}),K=L(()=>C(F.value)),{isSelected:j,select:X,selectAll:Y,toggleSelect:J,someSelected:de,allSelected:Le}=Kv(t,{allItems:p,currentPage:K}),{isExpanded:ie,toggleExpand:ye}=jv(t);qv({page:l,itemsPerPage:c,sortBy:r,groupBy:s,search:g}),bn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const se=L(()=>({page:l.value,itemsPerPage:c.value,sortBy:r.value,pageCount:O.value,toggleSort:x,setItemsPerPage:H,someSelected:de.value,allSelected:Le.value,isSelected:j,select:X,selectAll:Y,toggleSelect:J,isExpanded:ie,toggleExpand:ye,isGroupOpen:A,toggleGroup:S,items:K.value.map(me=>me.raw),internalItems:K.value,groupedItems:F.value,columns:d.value,headers:h.value}));return Ce(()=>{const me=Gd.filterProps(t),ae=yl.filterProps(t),N=bl.filterProps(t),B=_l.filterProps(t);return M(_l,Se({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},B),{top:()=>{var U;return(U=i.top)==null?void 0:U.call(i,se.value)},default:()=>{var U,q,R,I,W,$;return i.default?i.default(se.value):M(We,null,[(U=i.colgroup)==null?void 0:U.call(i,se.value),!t.hideDefaultHeader&&M("thead",{key:"thead"},[M(yl,ae,i)]),(q=i.thead)==null?void 0:q.call(i,se.value),!t.hideDefaultBody&&M("tbody",null,[(R=i["body.prepend"])==null?void 0:R.call(i,se.value),i.body?i.body(se.value):M(bl,Se(n,N,{items:F.value}),i),(I=i["body.append"])==null?void 0:I.call(i,se.value)]),(W=i.tbody)==null?void 0:W.call(i,se.value),($=i.tfoot)==null?void 0:$.call(i,se.value)])},bottom:()=>i.bottom?i.bottom(se.value):!t.hideDefaultFooter&&M(We,null,[M(Ph,null,null),M(Gd,me,{prepend:i["footer.prepend"]})])})}),{}}}),Ote=oe({...Lw(),...xw(),...BL(),...Lh()},"VDataTableVirtual"),Nte=be()({name:"VDataTableVirtual",props:Ote(),emits:{"update:modelValue":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=ww(t),{sortBy:r,multiSort:a,mustSort:o}=Jv(t),{disableSort:l}=Hs(t),{columns:c,headers:u,filterFunctions:d,sortFunctions:h,sortRawFunctions:f}=Pw(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:m}=Rw(t,c),v=ge(t,"search"),{filteredItems:p}=kh(t,m,v,{transform:ae=>ae.columns,customKeyFilter:d}),{toggleSort:g}=Qv({sortBy:r,multiSort:a,mustSort:o}),{sortByWithGroups:y,opened:x,extractRows:w,isGroupOpen:E,toggleGroup:C}=Xv({groupBy:s,sortBy:r,disableSort:l}),{sortedItems:A}=Tw(t,p,y,{transform:ae=>({...ae.raw,...ae.columns}),sortFunctions:h,sortRawFunctions:f}),{flatItems:S}=Yv(A,s,x),_=L(()=>w(S.value)),{isSelected:b,select:T,selectAll:P,toggleSelect:D,someSelected:O,allSelected:H}=Kv(t,{allItems:_,currentPage:_}),{isExpanded:F,toggleExpand:K}=jv(t),{containerRef:j,markerRef:X,paddingTop:Y,paddingBottom:J,computedItems:de,handleItemResize:Le,handleScroll:ie,handleScrollend:ye}=UL(t,S),se=L(()=>de.value.map(ae=>ae.raw));qv({sortBy:r,page:De(1),itemsPerPage:De(-1),groupBy:s,search:v}),bn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const me=L(()=>({sortBy:r.value,toggleSort:g,someSelected:O.value,allSelected:H.value,isSelected:b,select:T,selectAll:P,toggleSelect:D,isExpanded:F,toggleExpand:K,isGroupOpen:E,toggleGroup:C,items:_.value.map(ae=>ae.raw),internalItems:_.value,groupedItems:S.value,columns:c.value,headers:u.value}));Ce(()=>{const ae=yl.filterProps(t),N=bl.filterProps(t),B=_l.filterProps(t);return M(_l,Se({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},B),{top:()=>{var U;return(U=i.top)==null?void 0:U.call(i,me.value)},wrapper:()=>{var U,q,R;return M("div",{ref:j,onScrollPassive:ie,onScrollend:ye,class:"v-table__wrapper",style:{height:Ve(t.height)}},[M("table",null,[(U=i.colgroup)==null?void 0:U.call(i,me.value),!t.hideDefaultHeader&&M("thead",{key:"thead"},[M(yl,Se(ae,{sticky:t.fixedHeader}),i)]),!t.hideDefaultBody&&M("tbody",null,[M("tr",{ref:X,style:{height:Ve(Y.value),border:0}},[M("td",{colspan:c.value.length,style:{height:0,border:0}},null)]),(q=i["body.prepend"])==null?void 0:q.call(i,me.value),M(bl,Se(n,N,{items:se.value}),{...i,item:I=>M(FL,{key:I.internalItem.index,renderless:!0,"onUpdate:height":W=>Le(I.internalItem.index,W)},{default:W=>{var Z;let{itemRef:$}=W;return((Z=i.item)==null?void 0:Z.call(i,{...I,itemRef:$}))??M(Iw,Se(I.props,{ref:$,key:I.internalItem.index,index:I.internalItem.index}),i)}})}),(R=i["body.append"])==null?void 0:R.call(i,me.value),M("tr",{style:{height:Ve(J.value),border:0}},[M("td",{colspan:c.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var U;return(U=i.bottom)==null?void 0:U.call(i,me.value)}})})}}),Vte=oe({itemsLength:{type:[Number,String],required:!0},...Sw(),...Lw(),...Ew()},"VDataTableServer"),Fte=be()({name:"VDataTableServer",props:Vte(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=ww(t),{sortBy:r,multiSort:a,mustSort:o}=Jv(t),{page:l,itemsPerPage:c}=Mw(t),{disableSort:u}=Hs(t),d=L(()=>parseInt(t.itemsLength,10)),{columns:h,headers:f}=Pw(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:m}=Rw(t,h),{toggleSort:v}=Qv({sortBy:r,multiSort:a,mustSort:o,page:l}),{opened:p,isGroupOpen:g,toggleGroup:y,extractRows:x}=Xv({groupBy:s,sortBy:r,disableSort:u}),{pageCount:w,setItemsPerPage:E}=Cw({page:l,itemsPerPage:c,itemsLength:d}),{flatItems:C}=Yv(m,s,p),{isSelected:A,select:S,selectAll:_,toggleSelect:b,someSelected:T,allSelected:P}=Kv(t,{allItems:m,currentPage:m}),{isExpanded:D,toggleExpand:O}=jv(t),H=L(()=>x(m.value));qv({page:l,itemsPerPage:c,sortBy:r,groupBy:s,search:ge(t,"search")}),Zt("v-data-table",{toggleSort:v,sortBy:r}),bn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const F=L(()=>({page:l.value,itemsPerPage:c.value,sortBy:r.value,pageCount:w.value,toggleSort:v,setItemsPerPage:E,someSelected:T.value,allSelected:P.value,isSelected:A,select:S,selectAll:_,toggleSelect:b,isExpanded:D,toggleExpand:O,isGroupOpen:g,toggleGroup:y,items:H.value.map(K=>K.raw),internalItems:H.value,groupedItems:C.value,columns:h.value,headers:f.value}));Ce(()=>{const K=Gd.filterProps(t),j=yl.filterProps(t),X=bl.filterProps(t),Y=_l.filterProps(t);return M(_l,Se({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},Y),{top:()=>{var J;return(J=i.top)==null?void 0:J.call(i,F.value)},default:()=>{var J,de,Le,ie,ye,se;return i.default?i.default(F.value):M(We,null,[(J=i.colgroup)==null?void 0:J.call(i,F.value),!t.hideDefaultHeader&&M("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[M(yl,Se(j,{sticky:t.fixedHeader}),i)]),(de=i.thead)==null?void 0:de.call(i,F.value),!t.hideDefaultBody&&M("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(Le=i["body.prepend"])==null?void 0:Le.call(i,F.value),i.body?i.body(F.value):M(bl,Se(n,X,{items:C.value}),i),(ie=i["body.append"])==null?void 0:ie.call(i,F.value)]),(ye=i.tbody)==null?void 0:ye.call(i,F.value),(se=i.tfoot)==null?void 0:se.call(i,F.value)])},bottom:()=>i.bottom?i.bottom(F.value):!t.hideDefaultFooter&&M(We,null,[M(Ph,null,null),M(Gd,K,{prepend:i["footer.prepend"]})])})})}}),Bte=oe({fluid:{type:Boolean,default:!1},...ze(),...Vn(),...ft()},"VContainer"),Ute=be()({name:"VContainer",props:Bte(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=zn(),{dimensionStyles:s}=Fn(t);return Ce(()=>M(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:[s.value,t.style]},n)),{}}}),Ek=Pv.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),Ak=Pv.reduce((t,e)=>{const n="offset"+br(e);return t[n]={type:[String,Number],default:null},t},{}),Pk=Pv.reduce((t,e)=>{const n="order"+br(e);return t[n]={type:[String,Number],default:null},t},{}),oT={col:Object.keys(Ek),offset:Object.keys(Ak),order:Object.keys(Pk)};function zte(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const Hte=["auto","start","end","center","baseline","stretch"],Gte=oe({cols:{type:[Boolean,String,Number],default:!1},...Ek,offset:{type:[String,Number],default:null},...Ak,order:{type:[String,Number],default:null},...Pk,alignSelf:{type:String,default:null,validator:t=>Hte.includes(t)},...ze(),...ft()},"VCol"),Wte=be()({name:"VCol",props:Gte(),setup(t,e){let{slots:n}=e;const i=L(()=>{const s=[];let r;for(r in oT)oT[r].forEach(o=>{const l=t[o],c=zte(r,o,l);c&&s.push(c)});const a=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return cs(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),kw=["start","end","center"],Ik=["space-between","space-around","space-evenly"];function Dw(t,e){return Pv.reduce((n,i)=>{const s=t+br(i);return n[s]=e(),n},{})}const $te=[...kw,"baseline","stretch"],Rk=t=>$te.includes(t),Lk=Dw("align",()=>({type:String,default:null,validator:Rk})),jte=[...kw,...Ik],kk=t=>jte.includes(t),Dk=Dw("justify",()=>({type:String,default:null,validator:kk})),Xte=[...kw,...Ik,"stretch"],Ok=t=>Xte.includes(t),Nk=Dw("alignContent",()=>({type:String,default:null,validator:Ok})),lT={align:Object.keys(Lk),justify:Object.keys(Dk),alignContent:Object.keys(Nk)},Yte={align:"align",justify:"justify",alignContent:"align-content"};function qte(t,e,n){let i=Yte[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const Kte=oe({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Rk},...Lk,justify:{type:String,default:null,validator:kk},...Dk,alignContent:{type:String,default:null,validator:Ok},...Nk,...ze(),...ft()},"VRow"),Zte=be()({name:"VRow",props:Kte(),setup(t,e){let{slots:n}=e;const i=L(()=>{const s=[];let r;for(r in lT)lT[r].forEach(a=>{const o=t[a],l=qte(r,a,o);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return cs(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),Vk=Tr("v-spacer","div","VSpacer"),Fk=oe({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:ot,default:"$next"},prevIcon:{type:ot,default:"$prev"},modeIcon:{type:ot,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),bb=be()({name:"VDatePickerControls",props:Fk(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=L(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),s=L(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),r=L(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=L(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function o(){n("click:prev")}function l(){n("click:next")}function c(){n("click:year")}function u(){n("click:month")}return Ce(()=>M("div",{class:["v-date-picker-controls"]},[M(Vt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:u},null),M(Vt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:c},null),M(Vk,{key:"mode-spacer"},null),M("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[M(Vt,{disabled:r.value,icon:t.prevIcon,variant:"text",onClick:o},null),M(Vt,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:l},null)])])),{}}}),Jte=oe({appendIcon:String,color:String,header:String,transition:String,onClick:ni()},"VDatePickerHeader"),_b=be()({name:"VDatePickerHeader",props:Jte(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=Kt(t,"color");function a(){n("click")}function o(){n("click:append")}return Ce(()=>{const l=!!(i.default||t.header),c=!!(i.append||t.appendIcon);return M("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},s.value],style:r.value,onClick:a},[i.prepend&&M("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&M(gi,{key:"content",name:t.transition},{default:()=>{var u;return[M("div",{key:t.header,class:"v-date-picker-header__content"},[((u=i.default)==null?void 0:u.call(i))??t.header])]}}),c&&M("div",{class:"v-date-picker-header__append"},[i.append?M(yt,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var u;return[(u=i.append)==null?void 0:u.call(i)]}}):M(Vt,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),Qte=oe({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function ene(t){const e=wh(),n=Ke(t,"modelValue",[],f=>pn(f)),i=L(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),s=Ke(t,"year",void 0,f=>{const m=f!=null?Number(f):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),m))},f=>e.getYear(f)),r=Ke(t,"month",void 0,f=>{const m=f!=null?Number(f):e.getMonth(i.value),v=e.setYear(e.startOfMonth(e.date()),e.getYear(s.value));return e.setMonth(v,m)},f=>e.getMonth(f)),a=L(()=>{const f=Number(t.firstDayOfWeek??0);return t.weekdays.map(m=>(m+f)%7)}),o=L(()=>{const f=e.getWeekArray(r.value,t.firstDayOfWeek),m=f.flat(),v=6*7;if(t.weeksInMonth==="static"&&m.length<v){const p=m[m.length-1];let g=[];for(let y=1;y<=v-m.length;y++)g.push(e.addDays(p,y)),y%7===0&&(f.push(g),g=[])}return f});function l(f,m){return f.filter(v=>a.value.includes(e.toJsDate(v).getDay())).map((v,p)=>{const g=e.toISO(v),y=!e.isSameMonth(v,r.value),x=e.isSameDay(v,e.startOfMonth(r.value)),w=e.isSameDay(v,e.endOfMonth(r.value)),E=e.isSameDay(v,r.value);return{date:v,isoDate:g,formatted:e.format(v,"keyboardDate"),year:e.getYear(v),month:e.getMonth(v),isDisabled:h(v),isWeekStart:p%7===0,isWeekEnd:p%7===6,isToday:e.isSameDay(v,m),isAdjacent:y,isHidden:y&&!t.showAdjacentMonths,isStart:x,isSelected:n.value.some(C=>e.isSameDay(v,C)),isEnd:w,isSame:E,localized:e.format(v,"dayOfMonth")}})}const c=L(()=>{const f=e.startOfWeek(i.value,t.firstDayOfWeek),m=[];for(let p=0;p<=6;p++)m.push(e.addDays(f,p));const v=e.date();return l(m,v)}),u=L(()=>{const f=o.value.flat(),m=e.date();return l(f,m)}),d=L(()=>o.value.map(f=>f.length?lZ(e,f[0]):null));function h(f){if(t.disabled)return!0;const m=e.date(f);return t.min&&e.isAfter(e.date(t.min),m)||t.max&&e.isAfter(m,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(v=>e.isSameDay(e.date(v),m)):typeof t.allowedDates=="function"?!t.allowedDates(m):!1}return{displayValue:i,daysInMonth:u,daysInWeek:c,genDays:l,model:n,weeksInMonth:o,weekDays:a,weekNumbers:d}}const Bk=oe({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...Qte()},"VDatePickerMonth"),xb=be()({name:"VDatePickerMonth",props:Bk(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=he(),{daysInMonth:r,model:a,weekNumbers:o}=ene(t),l=wh(),c=De(),u=De(),d=De(!1),h=L(()=>d.value?t.reverseTransition:t.transition);t.multiple==="range"&&a.value.length>0&&(c.value=a.value[0],a.value.length>1&&(u.value=a.value[a.value.length-1]));const f=L(()=>{const g=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return a.value.length>=g});Pe(r,(g,y)=>{y&&(d.value=l.isBefore(g[0].date,y[0].date))});function m(g){const y=l.startOfDay(g);if(a.value.length===0?c.value=void 0:a.value.length===1&&(c.value=a.value[0],u.value=void 0),!c.value)c.value=y,a.value=[c.value];else if(u.value)c.value=g,u.value=void 0,a.value=[c.value];else{if(l.isSameDay(y,c.value)){c.value=void 0,a.value=[];return}else l.isBefore(y,c.value)?(u.value=l.endOfDay(c.value),c.value=y):u.value=l.endOfDay(y);const x=l.getDiff(u.value,c.value,"days"),w=[c.value];for(let E=1;E<x;E++){const C=l.addDays(c.value,E);w.push(C)}w.push(u.value),a.value=w}}function v(g){const y=a.value.findIndex(x=>l.isSameDay(x,g));if(y===-1)a.value=[...a.value,g];else{const x=[...a.value];x.splice(y,1),a.value=x}}function p(g){t.multiple==="range"?m(g):t.multiple?v(g):a.value=[g]}return()=>M("div",{class:"v-date-picker-month"},[t.showWeek&&M("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&M("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[gn(" ")]),o.value.map(g=>M("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[g]))]),M(gi,{name:h.value},{default:()=>{var g;return[M("div",{ref:s,key:(g=r.value[0].date)==null?void 0:g.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&l.getWeekdays(t.firstDayOfWeek).map(y=>M("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[y])),r.value.map((y,x)=>{const w={props:{onClick:()=>p(y.date)},item:y,i:x};return f.value&&!y.isSelected&&(y.isDisabled=!0),M("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":y.isAdjacent,"v-date-picker-month__day--hide-adjacent":y.isHidden,"v-date-picker-month__day--selected":y.isSelected,"v-date-picker-month__day--week-end":y.isWeekEnd,"v-date-picker-month__day--week-start":y.isWeekStart}],"data-v-date":y.isDisabled?void 0:y.isoDate},[(t.showAdjacentMonths||!y.isAdjacent)&&M(yt,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(y.isSelected||y.isToday)&&!y.isDisabled?t.color:void 0,disabled:y.isDisabled,icon:!0,ripple:!1,text:y.localized,variant:y.isDisabled?y.isToday?"outlined":"text":y.isToday&&!y.isSelected?"outlined":"flat",onClick:()=>p(y.date)}}},{default:()=>{var E;return[((E=i.day)==null?void 0:E.call(i,w))??M(Vt,w.props,null)]}})])})])]}})])}}),Uk=oe({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),wb=be()({name:"VDatePickerMonths",props:Uk(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=wh(),r=Ke(t,"modelValue"),a=L(()=>{let o=s.startOfYear(s.date());return t.year&&(o=s.setYear(o,t.year)),lr(12).map(l=>{const c=s.format(o,"monthShort"),u=!!(t.min&&s.isAfter(s.startOfMonth(s.date(t.min)),o)||t.max&&s.isAfter(o,s.startOfMonth(s.date(t.max))));return o=s.getNextMonth(o),{isDisabled:u,text:c,value:l}})});return qt(()=>{r.value=r.value??s.getMonth(s.date())}),Ce(()=>M("div",{class:"v-date-picker-months",style:{height:Ve(t.height)}},[M("div",{class:"v-date-picker-months__content"},[a.value.map((o,l)=>{var d;const c={active:r.value===l,color:r.value===l?t.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:r.value===o.value?"flat":"text",onClick:()=>u(l)};function u(h){if(r.value===h){n("update:modelValue",r.value);return}r.value=h}return((d=i.month)==null?void 0:d.call(i,{month:o,i:l,props:c}))??M(Vt,Se({key:"month"},c),null)})])])),{}}}),zk=oe({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Sb=be()({name:"VDatePickerYears",props:zk(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=wh(),r=Ke(t,"modelValue"),a=L(()=>{const l=s.getYear(s.date());let c=l-100,u=l+52;t.min&&(c=s.getYear(s.date(t.min))),t.max&&(u=s.getYear(s.date(t.max)));let d=s.startOfYear(s.date());return d=s.setYear(d,c),lr(u-c+1,c).map(h=>{const f=s.format(d,"year");return d=s.setYear(d,s.getYear(d)+1),{text:f,value:h}})});qt(()=>{r.value=r.value??s.getYear(s.date())});const o=pp();return Nn(async()=>{var l;await Rt(),(l=o.el)==null||l.scrollIntoView({block:"center"})}),Ce(()=>M("div",{class:"v-date-picker-years",style:{height:Ve(t.height)}},[M("div",{class:"v-date-picker-years__content"},[a.value.map((l,c)=>{var d;const u={ref:r.value===l.value?o:void 0,active:r.value===l.value,color:r.value===l.value?t.color:void 0,rounded:!0,text:l.text,variant:r.value===l.value?"flat":"text",onClick:()=>{if(r.value===l.value){n("update:modelValue",r.value);return}r.value=l.value}};return((d=i.year)==null?void 0:d.call(i,{year:l,i:c,props:u}))??M(Vt,Se({key:"month"},u),null)})])])),{}}}),tne=Tr("v-picker-title"),Hk=oe({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...$v()},"VPicker"),cT=be()({name:"VPicker",props:Hk(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Kt(ge(t,"color"));return Ce(()=>{const r=gl.filterProps(t),a=!!(t.title||n.title);return M(gl,Se(r,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var o;return[!t.hideHeader&&M("div",{key:"header",class:[i.value],style:[s.value]},[a&&M(tne,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??t.title]}}),n.header&&M("div",{class:"v-picker__header"},[n.header()])]),M("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&M(yt,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[M("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),nne=oe({header:{type:String,default:"$vuetify.datePicker.header"},...Fk(),...Bk({weeksInMonth:"static"}),...On(Uk(),["modelValue"]),...On(zk(),["modelValue"]),...Hk({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),ine=be()({name:"VDatePicker",props:nne(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=wh(),{t:r}=Cn(),a=Ke(t,"modelValue",void 0,_=>pn(_),_=>t.multiple?_:_[0]),o=Ke(t,"viewMode"),l=L(()=>{var b;const _=s.date((b=a.value)==null?void 0:b[0]);return _&&s.isValid(_)?_:s.date()}),c=he(Number(t.month??s.getMonth(s.startOfMonth(l.value)))),u=he(Number(t.year??s.getYear(s.startOfYear(s.setMonth(l.value,c.value))))),d=De(!1),h=L(()=>t.multiple&&a.value.length>1?r("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&s.isValid(a.value[0])?s.format(s.date(a.value[0]),"normalDateWithWeekday"):r(t.header)),f=L(()=>{let _=s.date();return _=s.setDate(_,1),_=s.setMonth(_,c.value),_=s.setYear(_,u.value),s.format(_,"monthAndYear")}),m=L(()=>`date-picker-header${d.value?"-reverse":""}-transition`),v=L(()=>{const _=s.date(t.min);return t.min&&s.isValid(_)?_:null}),p=L(()=>{const _=s.date(t.max);return t.max&&s.isValid(_)?_:null}),g=L(()=>{if(t.disabled)return!0;const _=[];if(o.value!=="month")_.push("prev","next");else{let b=s.date();if(b=s.setYear(b,u.value),b=s.setMonth(b,c.value),v.value){const T=s.addDays(s.startOfMonth(b),-1);s.isAfter(v.value,T)&&_.push("prev")}if(p.value){const T=s.addDays(s.endOfMonth(b),1);s.isAfter(T,p.value)&&_.push("next")}}return _});function y(){c.value<11?c.value++:(u.value++,c.value=0,S(u.value)),A(c.value)}function x(){c.value>0?c.value--:(u.value--,c.value=11,S(u.value)),A(c.value)}function w(){o.value="month"}function E(){o.value=o.value==="months"?"month":"months"}function C(){o.value=o.value==="year"?"month":"year"}function A(_){o.value==="months"&&E(),n("update:month",_)}function S(_){o.value==="year"&&C(),n("update:year",_)}return Pe(a,(_,b)=>{const T=pn(b),P=pn(_);if(!P.length)return;const D=s.date(T[T.length-1]),O=s.date(P[P.length-1]),H=s.getMonth(O),F=s.getYear(O);H!==c.value&&(c.value=H,A(c.value)),F!==u.value&&(u.value=F,S(u.value)),d.value=s.isBefore(D,O)}),Ce(()=>{const _=cT.filterProps(t),b=bb.filterProps(t),T=_b.filterProps(t),P=xb.filterProps(t),D=On(wb.filterProps(t),["modelValue"]),O=On(Sb.filterProps(t),["modelValue"]),H={header:h.value,transition:m.value};return M(cT,Se(_,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var F;return((F=i.title)==null?void 0:F.call(i))??M("div",{class:"v-date-picker__title"},[r(t.title)])},header:()=>i.header?M(yt,{defaults:{VDatePickerHeader:{...H}}},{default:()=>{var F;return[(F=i.header)==null?void 0:F.call(i,H)]}}):M(_b,Se({key:"header"},T,H,{onClick:o.value!=="month"?w:void 0}),{...i,default:void 0}),default:()=>M(We,null,[M(bb,Se(b,{disabled:g.value,text:f.value,"onClick:next":y,"onClick:prev":x,"onClick:month":E,"onClick:year":C}),null),M(Vd,{hideOnLeave:!0},{default:()=>[o.value==="months"?M(wb,Se({key:"date-picker-months"},D,{modelValue:c.value,"onUpdate:modelValue":[F=>c.value=F,A],min:v.value,max:p.value,year:u.value}),null):o.value==="year"?M(Sb,Se({key:"date-picker-years"},O,{modelValue:u.value,"onUpdate:modelValue":[F=>u.value=F,S],min:v.value,max:p.value}),null):M(xb,Se({key:"date-picker-month"},P,{modelValue:a.value,"onUpdate:modelValue":F=>a.value=F,month:c.value,"onUpdate:month":[F=>c.value=F,A],year:u.value,"onUpdate:year":[F=>u.value=F,S],min:v.value,max:p.value}),null)]})]),actions:i.actions})}),{}}}),sne=oe({actionText:String,bgColor:String,color:String,icon:ot,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...ze(),...Vn(),...Er({size:void 0}),...Pt()},"VEmptyState"),rne=be()({name:"VEmptyState",props:sne(),emits:{"click:action":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{themeClasses:s}=Bt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Kt(ge(t,"bgColor")),{dimensionStyles:o}=Fn(t),{displayClasses:l}=As();function c(u){n("click:action",u)}return Ce(()=>{var p,g,y;const u=!!(i.actions||t.actionText),d=!!(i.headline||t.headline),h=!!(i.title||t.title),f=!!(i.text||t.text),m=!!(i.media||t.image||t.icon),v=t.size||(t.image?200:96);return M("div",{class:["v-empty-state",{[`v-empty-state--${t.justify}`]:!0},s.value,r.value,l.value,t.class],style:[a.value,o.value,t.style]},[m&&M("div",{key:"media",class:"v-empty-state__media"},[i.media?M(yt,{key:"media-defaults",defaults:{VImg:{src:t.image,height:v},VIcon:{size:v,icon:t.icon}}},{default:()=>[i.media()]}):M(We,null,[t.image?M(aa,{key:"image",src:t.image,height:v},null):t.icon?M(Ft,{key:"icon",color:t.color,size:v,icon:t.icon},null):void 0])]),d&&M("div",{key:"headline",class:"v-empty-state__headline"},[((p=i.headline)==null?void 0:p.call(i))??t.headline]),h&&M("div",{key:"title",class:"v-empty-state__title"},[((g=i.title)==null?void 0:g.call(i))??t.title]),f&&M("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Ve(t.textWidth)}},[((y=i.text)==null?void 0:y.call(i))??t.text]),i.default&&M("div",{key:"content",class:"v-empty-state__content"},[i.default()]),u&&M("div",{key:"actions",class:"v-empty-state__actions"},[M(yt,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:t.color??"surface-variant",text:t.actionText}}},{default:()=>{var x;return[((x=i.actions)==null?void 0:x.call(i,{props:{onClick:c}}))??M(Vt,{onClick:c},null)]}})])])}),{}}}),Wd=Symbol.for("vuetify:v-expansion-panel"),Gk=oe({...ze(),...fw()},"VExpansionPanelText"),Mb=be()({name:"VExpansionPanelText",props:Gk(),setup(t,e){let{slots:n}=e;const i=xt(Wd);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:r}=mw(t,i.isSelected);return Ce(()=>M(Lv,{onAfterLeave:r},{default:()=>{var a;return[Qe(M("div",{class:["v-expansion-panel-text",t.class],style:t.style},[n.default&&s.value&&M("div",{class:"v-expansion-panel-text__wrapper"},[(a=n.default)==null?void 0:a.call(n)])]),[[Ws,i.isSelected.value]])]}})),{}}}),Wk=oe({color:String,expandIcon:{type:ot,default:"$expand"},collapseIcon:{type:ot,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ze(),...Vn()},"VExpansionPanelTitle"),Cb=be()({name:"VExpansionPanelTitle",directives:{Ripple:ha},props:Wk(),setup(t,e){let{slots:n}=e;const i=xt(Wd);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:r}=Kt(t,"color"),{dimensionStyles:a}=Fn(t),o=L(()=>({collapseIcon:t.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly})),l=L(()=>i.isSelected.value?t.collapseIcon:t.expandIcon);return Ce(()=>{var c;return Qe(M("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":t.focusable,"v-expansion-panel-title--static":t.static},s.value,t.class],style:[r.value,a.value,t.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:t.readonly?void 0:i.toggle},[M("span",{class:"v-expansion-panel-title__overlay"},null),(c=n.default)==null?void 0:c.call(n,o.value),!t.hideActions&&M(yt,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var u;return[M("span",{class:"v-expansion-panel-title__icon"},[((u=n.actions)==null?void 0:u.call(n,o.value))??M(Ft,null,null)])]}})]),[[yn("ripple"),t.ripple]])}),{}}}),$k=oe({title:String,text:String,bgColor:String,...Hn(),...Dl(),...dn(),...ft(),...Wk(),...Gk()},"VExpansionPanel"),ane=be()({name:"VExpansionPanel",props:$k(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Ol(t,Wd),{backgroundColorClasses:s,backgroundColorStyles:r}=Kt(t,"bgColor"),{elevationClasses:a}=ai(t),{roundedClasses:o}=xn(t),l=L(()=>(i==null?void 0:i.disabled.value)||t.disabled),c=L(()=>i.group.items.value.reduce((h,f,m)=>(i.group.selected.value.includes(f.id)&&h.push(m),h),[])),u=L(()=>{const h=i.group.items.value.findIndex(f=>f.id===i.id);return!i.isSelected.value&&c.value.some(f=>f-h===1)}),d=L(()=>{const h=i.group.items.value.findIndex(f=>f.id===i.id);return!i.isSelected.value&&c.value.some(f=>f-h===-1)});return Zt(Wd,i),Ce(()=>{const h=!!(n.text||t.text),f=!!(n.title||t.title),m=Cb.filterProps(t),v=Mb.filterProps(t);return M(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":u.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},o.value,s.value,t.class],style:[r.value,t.style]},{default:()=>[M("div",{class:["v-expansion-panel__shadow",...a.value]},null),M(yt,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...v}}},{default:()=>{var p;return[f&&M(Cb,{key:"title"},{default:()=>[n.title?n.title():t.title]}),h&&M(Mb,{key:"text"},{default:()=>[n.text?n.text():t.text]}),(p=n.default)==null?void 0:p.call(n)]}})]})}),{groupItem:i}}}),one=["default","accordion","inset","popout"],lne=oe({flat:Boolean,...kl(),...Hx($k(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Pt(),...ze(),...ft(),variant:{type:String,default:"default",validator:t=>one.includes(t)}},"VExpansionPanels"),cne=be()({name:"VExpansionPanels",props:lne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{next:i,prev:s}=io(t,Wd),{themeClasses:r}=Bt(t),a=L(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return bn({VExpansionPanel:{bgColor:ge(t,"bgColor"),collapseIcon:ge(t,"collapseIcon"),color:ge(t,"color"),eager:ge(t,"eager"),elevation:ge(t,"elevation"),expandIcon:ge(t,"expandIcon"),focusable:ge(t,"focusable"),hideActions:ge(t,"hideActions"),readonly:ge(t,"readonly"),ripple:ge(t,"ripple"),rounded:ge(t,"rounded"),static:ge(t,"static")}}),Ce(()=>M(t.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":t.flat,"v-expansion-panels--tile":t.tile},r.value,a.value,t.class],style:t.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:i})]}})),{next:i,prev:s}}}),une=oe({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...On(Nv({active:!0}),["location"]),...Pl(),...da(),...qs({transition:"fab-transition"})},"VFab"),dne=be()({name:"VFab",props:une(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),s=De(56),r=he(),{resizeRef:a}=zs(d=>{d.length&&(s.value=d[0].target.clientHeight)}),o=L(()=>t.app||t.absolute),l=L(()=>{var d;return o.value?((d=t.location)==null?void 0:d.split(" ").shift())??"bottom":!1}),c=L(()=>{var d;return o.value?((d=t.location)==null?void 0:d.split(" ")[1])??"end":!1});Fi(()=>t.app,()=>{const d=Il({id:t.name,order:L(()=>parseInt(t.order,10)),position:l,layoutSize:L(()=>t.layout?s.value+24:0),elementSize:L(()=>s.value+24),active:L(()=>t.app&&i.value),absolute:ge(t,"absolute")});qt(()=>{r.value=d.layoutItemStyles.value})});const u=he();return Ce(()=>{const d=Vt.filterProps(t);return M("div",{ref:u,class:["v-fab",{"v-fab--absolute":t.absolute,"v-fab--app":!!t.app,"v-fab--extended":t.extended,"v-fab--offset":t.offset,[`v-fab--${l.value}`]:o.value,[`v-fab--${c.value}`]:o.value},t.class],style:[t.app?{...r.value}:{height:"inherit",width:void 0},t.style]},[M("div",{class:"v-fab__container"},[M(gi,{appear:t.appear,transition:t.transition},{default:()=>[Qe(M(Vt,Se({ref:a},d,{active:void 0,location:void 0}),n),[[Ws,t.active]])]})])])}),{}}}),hne=oe({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...ma({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>pn(t).every(e=>e!=null&&typeof e=="object")},...Rh({clearable:!0})},"VFileInput"),fne=be()({name:"VFileInput",inheritAttrs:!1,props:hne(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=Cn(),a=Ke(t,"modelValue",t.modelValue,_=>pn(_),_=>!t.multiple&&Array.isArray(_)?_[0]:_),{isFocused:o,focus:l,blur:c}=fa(t),u=L(()=>typeof t.showSize!="boolean"?t.showSize:void 0),d=L(()=>(a.value??[]).reduce((_,b)=>{let{size:T=0}=b;return _+T},0)),h=L(()=>xC(d.value,u.value)),f=L(()=>(a.value??[]).map(_=>{const{name:b="",size:T=0}=_;return t.showSize?`${b} (${xC(T,u.value)})`:b})),m=L(()=>{var b;const _=((b=a.value)==null?void 0:b.length)??0;return t.showSize?r(t.counterSizeString,_,h.value):r(t.counterString,_)}),v=he(),p=he(),g=he(),y=L(()=>o.value||t.active),x=L(()=>["plain","underlined"].includes(t.variant));function w(){var _;g.value!==document.activeElement&&((_=g.value)==null||_.focus()),o.value||l()}function E(_){var b;(b=g.value)==null||b.click()}function C(_){i("mousedown:control",_)}function A(_){var b;(b=g.value)==null||b.click(),i("click:control",_)}function S(_){_.stopPropagation(),w(),Rt(()=>{a.value=[],Wx(t["onClick:clear"],_)})}return Pe(a,_=>{(!Array.isArray(_)||!_.length)&&g.value&&(g.value.value="")}),Ce(()=>{const _=!!(s.counter||t.counter),b=!!(_||s.details),[T,P]=to(n),{modelValue:D,...O}=ci.filterProps(t),H=pw(t);return M(ci,Se({ref:v,modelValue:a.value,"onUpdate:modelValue":F=>a.value=F,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":x.value},t.class],style:t.style,"onClick:prepend":E},T,O,{centerAffix:!x.value,focused:o.value}),{...s,default:F=>{let{id:K,isDisabled:j,isDirty:X,isReadonly:Y,isValid:J}=F;return M(cu,Se({ref:p,"prepend-icon":t.prependIcon,onMousedown:C,onClick:A,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},H,{id:K.value,active:y.value||X.value,dirty:X.value||t.dirty,disabled:j.value,focused:o.value,error:J.value===!1}),{...s,default:de=>{var ye;let{props:{class:Le,...ie}}=de;return M(We,null,[M("input",Se({ref:g,type:"file",readonly:Y.value,disabled:j.value,multiple:t.multiple,name:t.name,onClick:se=>{se.stopPropagation(),Y.value&&se.preventDefault(),w()},onChange:se=>{if(!se.target)return;const me=se.target;a.value=[...me.files??[]]},onFocus:w,onBlur:c},ie,P),null),M("div",{class:Le},[!!((ye=a.value)!=null&&ye.length)&&!t.hideInput&&(s.selection?s.selection({fileNames:f.value,totalBytes:d.value,totalBytesReadable:h.value}):t.chips?f.value.map(se=>M(lu,{key:se,size:"small",text:se},null)):f.value.join(", "))])])}})},details:b?F=>{var K,j;return M(We,null,[(K=s.details)==null?void 0:K.call(s,F),_&&M(We,null,[M("span",null,null),M(Uv,{active:!!((j=a.value)!=null&&j.length),value:m.value,disabled:t.disabled},s.counter)])])}:void 0})}),Is({},v,p,g)}}),mne=oe({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...es(),...ze(),...Hn(),...Pl(),...dn(),...ft({tag:"footer"}),...Pt()},"VFooter"),pne=be()({name:"VFooter",props:mne(),setup(t,e){let{slots:n}=e;const i=he(),{themeClasses:s}=Bt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Kt(ge(t,"color")),{borderClasses:o}=ms(t),{elevationClasses:l}=ai(t),{roundedClasses:c}=xn(t),u=De(32),{resizeRef:d}=zs(f=>{f.length&&(u.value=f[0].target.clientHeight)}),h=L(()=>t.height==="auto"?u.value:parseInt(t.height,10));return Fi(()=>t.app,()=>{const f=Il({id:t.name,order:L(()=>parseInt(t.order,10)),position:L(()=>"bottom"),layoutSize:h,elementSize:L(()=>t.height==="auto"?void 0:h.value),active:L(()=>t.app),absolute:ge(t,"absolute")});qt(()=>{i.value=f.layoutItemStyles.value})}),Ce(()=>M(t.tag,{ref:d,class:["v-footer",s.value,r.value,o.value,l.value,c.value,t.class],style:[a.value,t.app?i.value:{height:Ve(t.height)},t.style]},n)),{}}}),vne=oe({...ze(),...SJ()},"VForm"),gne=be()({name:"VForm",props:vne(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=MJ(t),r=he();function a(l){l.preventDefault(),s.reset()}function o(l){const c=l,u=s.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),i("submit",c),c.defaultPrevented||u.then(d=>{var f;let{valid:h}=d;h&&((f=r.value)==null||f.submit())}),c.preventDefault()}return Ce(()=>{var l;return M("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,s)])}),Is(s,r)}}),yne=oe({disabled:Boolean,modelValue:{type:Boolean,default:null},...dw()},"VHover"),bne=be()({name:"VHover",props:yne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{runOpenDelay:s,runCloseDelay:r}=hw(t,a=>!t.disabled&&(i.value=a));return()=>{var a;return(a=n.default)==null?void 0:a.call(n,{isHovering:i.value,props:{onMouseenter:s,onMouseleave:r}})}}}),_ne=oe({color:String,direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},side:{type:String,default:"end",validator:t=>["start","end","both"].includes(t)},mode:{type:String,default:"intersect",validator:t=>["intersect","manual"].includes(t)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Vn(),...ft()},"VInfiniteScroll"),uT=hs({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(t,e)=>!0},setup(t,e){let{emit:n}=e;const{intersectionRef:i,isIntersecting:s}=kv();return Pe(s,async r=>{n("intersect",t.side,r)}),Ce(()=>M("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":t.rootMargin},ref:i},[gn(" ")])),{}}}),xne=be()({name:"VInfiniteScroll",props:_ne(),emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=he(),r=De("ok"),a=De("ok"),o=L(()=>Ve(t.margin)),l=De(!1);function c(E){if(!s.value)return;const C=t.direction==="vertical"?"scrollTop":"scrollLeft";s.value[C]=E}function u(){if(!s.value)return 0;const E=t.direction==="vertical"?"scrollTop":"scrollLeft";return s.value[E]}function d(){if(!s.value)return 0;const E=t.direction==="vertical"?"scrollHeight":"scrollWidth";return s.value[E]}function h(){if(!s.value)return 0;const E=t.direction==="vertical"?"clientHeight":"clientWidth";return s.value[E]}Nn(()=>{s.value&&(t.side==="start"?c(d()):t.side==="both"&&c(d()/2-h()/2))});function f(E,C){E==="start"?r.value=C:E==="end"&&(a.value=C)}function m(E){return E==="start"?r.value:a.value}let v=0;function p(E,C){l.value=C,l.value&&g(E)}function g(E){if(t.mode!=="manual"&&!l.value)return;const C=m(E);if(!s.value||["empty","loading"].includes(C))return;v=d(),f(E,"loading");function A(S){f(E,S),Rt(()=>{S==="empty"||S==="error"||(S==="ok"&&E==="start"&&c(d()-v+u()),t.mode!=="manual"&&Rt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{g(E)})})})}))})}i("load",{side:E,done:A})}const{t:y}=Cn();function x(E,C){var _,b,T,P,D;if(t.side!==E&&t.side!=="both")return;const A=()=>g(E),S={side:E,props:{onClick:A,color:t.color}};return C==="error"?(_=n.error)==null?void 0:_.call(n,S):C==="empty"?((b=n.empty)==null?void 0:b.call(n,S))??M("div",null,[y(t.emptyText)]):t.mode==="manual"?C==="loading"?((T=n.loading)==null?void 0:T.call(n,S))??M(Xc,{indeterminate:!0,color:t.color},null):((P=n["load-more"])==null?void 0:P.call(n,S))??M(Vt,{variant:"outlined",color:t.color,onClick:A},{default:()=>[y(t.loadMoreText)]}):((D=n.loading)==null?void 0:D.call(n,S))??M(Xc,{indeterminate:!0,color:t.color},null)}const{dimensionStyles:w}=Fn(t);Ce(()=>{const E=t.tag,C=t.side==="start"||t.side==="both",A=t.side==="end"||t.side==="both",S=t.mode==="intersect";return M(E,{ref:s,class:["v-infinite-scroll",`v-infinite-scroll--${t.direction}`,{"v-infinite-scroll--start":C,"v-infinite-scroll--end":A}],style:w.value},{default:()=>{var _;return[M("div",{class:"v-infinite-scroll__side"},[x("start",r.value)]),C&&S&&M(uT,{key:"start",side:"start",onIntersect:p,rootMargin:o.value},null),(_=n.default)==null?void 0:_.call(n),A&&S&&M(uT,{key:"end",side:"end",onIntersect:p,rootMargin:o.value},null),M("div",{class:"v-infinite-scroll__side"},[x("end",a.value)])]}})})}}),jk=Symbol.for("vuetify:v-item-group"),wne=oe({...ze(),...kl({selectedClass:"v-item--selected"}),...ft(),...Pt()},"VItemGroup"),Sne=be()({name:"VItemGroup",props:wne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=io(t,jk);return()=>M(t.tag,{class:["v-item-group",i.value,t.class],style:t.style},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}}),Mne=be()({name:"VItem",props:Dl(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,select:s,toggle:r,selectedClass:a,value:o,disabled:l}=Ol(t,jk);return()=>{var c;return(c=n.default)==null?void 0:c.call(n,{isSelected:i.value,selectedClass:a.value,select:s,toggle:r,value:o.value,disabled:l.value})}}}),Cne=Tr("v-kbd","kbd"),Tne=oe({...ze(),...Vn(),...O2()},"VLayout"),Ene=be()({name:"VLayout",props:Tne(),setup(t,e){let{slots:n}=e;const{layoutClasses:i,layoutStyles:s,getLayoutItem:r,items:a,layoutRef:o}=V2(t),{dimensionStyles:l}=Fn(t);return Ce(()=>{var c;return M("div",{ref:o,class:[i.value,t.class],style:[l.value,s.value,t.style]},[(c=n.default)==null?void 0:c.call(n)])}),{getLayoutItem:r,items:a}}}),Ane=oe({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...ze(),...Pl()},"VLayoutItem"),Pne=be()({name:"VLayoutItem",props:Ane(),setup(t,e){let{slots:n}=e;const{layoutItemStyles:i}=Il({id:t.name,order:L(()=>parseInt(t.order,10)),position:ge(t,"position"),elementSize:ge(t,"size"),layoutSize:ge(t,"size"),active:ge(t,"modelValue"),absolute:ge(t,"absolute")});return()=>{var s;return M("div",{class:["v-layout-item",t.class],style:[i.value,t.style]},[(s=n.default)==null?void 0:s.call(n)])}}}),Ine=oe({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...ze(),...Vn(),...ft(),...qs({transition:"fade-transition"})},"VLazy"),Rne=be()({name:"VLazy",directives:{intersect:Sh},props:Ine(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=Fn(t),s=Ke(t,"modelValue");function r(a){s.value||(s.value=a)}return Ce(()=>Qe(M(t.tag,{class:["v-lazy",t.class],style:[i.value,t.style]},{default:()=>[s.value&&M(gi,{transition:t.transition,appear:!0},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}})]}),[[yn("intersect"),{handler:r,options:t.options},null]])),{}}}),Lne=oe({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...ze()},"VLocaleProvider"),kne=be()({name:"VLocaleProvider",props:Lne(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=bK(t);return Ce(()=>{var s;return M("div",{class:["v-locale-provider",i.value,t.class],style:t.style},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),Dne=oe({scrollable:Boolean,...ze(),...Vn(),...ft({tag:"main"})},"VMain"),One=be()({name:"VMain",props:Dne(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=Fn(t),{mainStyles:s}=N2(),{ssrBootStyles:r}=Rl();return Ce(()=>M(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,r.value,i.value,t.style]},{default:()=>{var a,o;return[t.scrollable?M("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function Nne(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=De(!1),r=De(0),a=L(()=>{const c=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[c]:Ve(r.value)}:{top:i.value.top}]});Nn(()=>{Pe(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Yn(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const c=o>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),h=window.scrollY-Math.max(0,r.value-d),f=u.height+Math.max(r.value,d)-window.scrollY-window.innerHeight,m=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-d?(s.value="top",r.value=d):c==="up"&&s.value==="bottom"||c==="down"&&s.value==="top"?(r.value=window.scrollY+u.top-m,s.value=!0):c==="down"&&f<=0?(r.value=0,s.value="bottom"):c==="up"&&h<=0&&(m?s.value!=="top"&&(r.value=-h+m+d,s.value="top"):(r.value=u.top+h,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:a}}const Vne=100,Fne=20;function dT(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function hT(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=dT(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return dT(e)*1e3}function Bne(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new kq(Fne))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var c;const r=(c=t[s])==null?void 0:c.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const a=r[0],o=[],l=[];for(const u of r){if(a[0]-u[0]>Vne)break;o.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:hT(o),y:hT(l),get direction(){const{x:u,y:d}=this,[h,f]=[Math.abs(u),Math.abs(d)];return h>f&&u>=0?"right":h>f&&u<=0?"left":f>h&&d>=0?"down":f>h&&d<=0?"up":Une()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function Une(){throw new Error}function zne(t){let{el:e,isActive:n,isTemporary:i,width:s,touchless:r,position:a}=t;Nn(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",w,{passive:!0})}),Yn(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",w)});const o=L(()=>["left","right"].includes(a.value)),{addMovement:l,endTouch:c,getVelocity:u}=Bne();let d=!1;const h=De(!1),f=De(0),m=De(0);let v;function p(C,A){return(a.value==="left"?C:a.value==="right"?document.documentElement.clientWidth-C:a.value==="top"?C:a.value==="bottom"?document.documentElement.clientHeight-C:hc())-(A?s.value:0)}function g(C){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=a.value==="left"?(C-m.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-C-m.value)/s.value:a.value==="top"?(C-m.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-C-m.value)/s.value:hc();return A?Math.max(0,Math.min(1,S)):S}function y(C){if(r.value)return;const A=C.changedTouches[0].clientX,S=C.changedTouches[0].clientY,_=25,b=a.value==="left"?A<_:a.value==="right"?A>document.documentElement.clientWidth-_:a.value==="top"?S<_:a.value==="bottom"?S>document.documentElement.clientHeight-_:hc(),T=n.value&&(a.value==="left"?A<s.value:a.value==="right"?A>document.documentElement.clientWidth-s.value:a.value==="top"?S<s.value:a.value==="bottom"?S>document.documentElement.clientHeight-s.value:hc());(b||T||n.value&&i.value)&&(v=[A,S],m.value=p(o.value?A:S,n.value),f.value=g(o.value?A:S),d=m.value>-20&&m.value<80,c(C),l(C))}function x(C){const A=C.changedTouches[0].clientX,S=C.changedTouches[0].clientY;if(d){if(!C.cancelable){d=!1;return}const b=Math.abs(A-v[0]),T=Math.abs(S-v[1]);(o.value?b>T&&b>3:T>b&&T>3)?(h.value=!0,d=!1):(o.value?T:b)>3&&(d=!1)}if(!h.value)return;C.preventDefault(),l(C);const _=g(o.value?A:S,!1);f.value=Math.max(0,Math.min(1,_)),_>1?m.value=p(o.value?A:S,!0):_<0&&(m.value=p(o.value?A:S,!1))}function w(C){if(d=!1,!h.value)return;l(C),h.value=!1;const A=u(C.changedTouches[0].identifier),S=Math.abs(A.x),_=Math.abs(A.y);(o.value?S>_&&S>400:_>S&&_>3)?n.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||hc()):n.value=f.value>.5}const E=L(()=>h.value?{transform:a.value==="left"?`translateX(calc(-100% + ${f.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${f.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${f.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${f.value*s.value}px))`:hc(),transition:"none"}:void 0);return Fi(h,()=>{var S,_;const C=((S=e.value)==null?void 0:S.style.transform)??null,A=((_=e.value)==null?void 0:_.style.transition)??null;qt(()=>{var b,T,P,D;(T=e.value)==null||T.style.setProperty("transform",((b=E.value)==null?void 0:b.transform)||"none"),(D=e.value)==null||D.style.setProperty("transition",((P=E.value)==null?void 0:P.transition)||null)}),si(()=>{var b,T;(b=e.value)==null||b.style.setProperty("transform",C),(T=e.value)==null||T.style.setProperty("transition",A)})}),{isDragging:h,dragProgress:f,dragStyles:E}}function hc(){throw new Error}const Hne=["start","end","left","right","top","bottom"],Gne=oe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Hne.includes(t)},sticky:Boolean,...es(),...ze(),...dw(),...Al({mobile:null}),...Hn(),...Pl(),...dn(),...ft({tag:"nav"}),...Pt()},"VNavigationDrawer"),Wne=be()({name:"VNavigationDrawer",props:Gne(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=zn(),{themeClasses:a}=Bt(t),{borderClasses:o}=ms(t),{backgroundColorClasses:l,backgroundColorStyles:c}=Kt(ge(t,"color")),{elevationClasses:u}=ai(t),{displayClasses:d,mobile:h}=As(t),{roundedClasses:f}=xn(t),m=Y2(),v=Ke(t,"modelValue",null,J=>!!J),{ssrBootStyles:p}=Rl(),{scopeId:g}=Vl(),y=he(),x=De(!1),{runOpenDelay:w,runCloseDelay:E}=hw(t,J=>{x.value=J}),C=L(()=>t.rail&&t.expandOnHover&&x.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),A=L(()=>Y0(t.location,r.value)),S=L(()=>t.persistent),_=L(()=>!t.permanent&&(h.value||t.temporary)),b=L(()=>t.sticky&&!_.value&&A.value!=="bottom");Fi(()=>t.expandOnHover&&t.rail!=null,()=>{Pe(x,J=>i("update:rail",!J))}),Fi(()=>!t.disableResizeWatcher,()=>{Pe(_,J=>!t.permanent&&Rt(()=>v.value=!J))}),Fi(()=>!t.disableRouteWatcher&&!!m,()=>{Pe(m.currentRoute,()=>_.value&&(v.value=!1))}),Pe(()=>t.permanent,J=>{J&&(v.value=!0)}),t.modelValue==null&&!_.value&&(v.value=t.permanent||!h.value);const{isDragging:T,dragProgress:P}=zne({el:y,isActive:v,isTemporary:_,width:C,touchless:ge(t,"touchless"),position:A}),D=L(()=>{const J=_.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):C.value;return T.value?J*P.value:J}),O=L(()=>["top","bottom"].includes(t.location)?0:C.value),{layoutItemStyles:H,layoutItemScrimStyles:F}=Il({id:t.name,order:L(()=>parseInt(t.order,10)),position:A,layoutSize:D,elementSize:O,active:L(()=>v.value||T.value),disableTransitions:L(()=>T.value),absolute:L(()=>t.absolute||b.value&&typeof K.value!="string")}),{isStuck:K,stickyStyles:j}=Nne({rootEl:y,isSticky:b,layoutItemStyles:H}),X=Kt(L(()=>typeof t.scrim=="string"?t.scrim:null)),Y=L(()=>({...T.value?{opacity:P.value*.2,transition:"none"}:void 0,...F.value}));return bn({VList:{bgColor:"transparent"}}),Ce(()=>{const J=s.image||t.image;return M(We,null,[M(t.tag,Se({ref:y,onMouseenter:w,onMouseleave:E,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":_.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":b.value},a.value,l.value,o.value,d.value,u.value,f.value,t.class],style:[c.value,H.value,p.value,j.value,t.style,["top","bottom"].includes(A.value)?{height:"auto"}:{}]},g,n),{default:()=>{var de,Le,ie;return[J&&M("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?M(yt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):M(aa,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&M("div",{class:"v-navigation-drawer__prepend"},[(de=s.prepend)==null?void 0:de.call(s)]),M("div",{class:"v-navigation-drawer__content"},[(Le=s.default)==null?void 0:Le.call(s)]),s.append&&M("div",{class:"v-navigation-drawer__append"},[(ie=s.append)==null?void 0:ie.call(s)])]}}),M(Ga,{name:"fade-transition"},{default:()=>[_.value&&(T.value||v.value)&&!!t.scrim&&M("div",Se({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[Y.value,X.backgroundColorStyles.value],onClick:()=>{S.value||(v.value=!1)}},g),null)]})])}),{isStuck:K}}}),$ne=hs({name:"VNoSsr",setup(t,e){let{slots:n}=e;const i=kL();return()=>{var s;return i.value&&((s=n.default)==null?void 0:s.call(n))}}}),jne=oe({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Vn(),...Ah(),...Mv(Rh({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Xne=be()({name:"VOtpInput",props:jne(),emits:{finish:t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{dimensionStyles:r}=Fn(t),{isFocused:a,focus:o,blur:l}=fa(t),c=Ke(t,"modelValue","",S=>S==null?[]:String(S).split(""),S=>S.join("")),{t:u}=Cn(),d=L(()=>Number(t.length)),h=L(()=>Array(d.value).fill(0)),f=he(-1),m=he(),v=he([]),p=L(()=>v.value[f.value]);function g(){if(A(p.value.value)){p.value.value="";return}const S=c.value.slice(),_=p.value.value;S[f.value]=_;let b=null;f.value>c.value.length?b=c.value.length+1:f.value+1!==d.value&&(b="next"),c.value=S,b&&Ko(m.value,b)}function y(S){const _=c.value.slice(),b=f.value;let T=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(S.key)&&(S.preventDefault(),S.key==="ArrowLeft"?T="prev":S.key==="ArrowRight"?T="next":["Backspace","Delete"].includes(S.key)&&(_[f.value]="",c.value=_,f.value>0&&S.key==="Backspace"?T="prev":requestAnimationFrame(()=>{var P;(P=v.value[b])==null||P.select()})),requestAnimationFrame(()=>{T!=null&&Ko(m.value,T)}))}function x(S,_){var T,P;_.preventDefault(),_.stopPropagation();const b=((T=_==null?void 0:_.clipboardData)==null?void 0:T.getData("Text").slice(0,d.value))??"";A(b)||(c.value=b.split(""),(P=v.value)==null||P[S].blur())}function w(){c.value=[]}function E(S,_){o(),f.value=_}function C(){l(),f.value=-1}function A(S){return t.type==="number"&&/[^0-9]/g.test(S)}return bn({VField:{color:L(()=>t.color),bgColor:L(()=>t.color),baseColor:L(()=>t.baseColor),disabled:L(()=>t.disabled),error:L(()=>t.error),variant:L(()=>t.variant)}},{scoped:!0}),Pe(c,S=>{S.length===d.value&&i("finish",S.join(""))},{deep:!0}),Pe(f,S=>{S<0||Rt(()=>{var _;(_=v.value[S])==null||_.select()})}),Ce(()=>{var b;const[S,_]=to(n);return M("div",Se({class:["v-otp-input",{"v-otp-input--divided":!!t.divider},t.class],style:[t.style]},S),[M("div",{ref:m,class:"v-otp-input__content",style:[r.value]},[h.value.map((T,P)=>M(We,null,[t.divider&&P!==0&&M("span",{class:"v-otp-input__divider"},[t.divider]),M(cu,{focused:a.value&&t.focusAll||f.value===P,key:P},{...s,loader:void 0,default:()=>M("input",{ref:D=>v.value[P]=D,"aria-label":u(t.label,P+1),autofocus:P===0&&t.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:t.disabled,inputmode:t.type==="number"?"numeric":"text",min:t.type==="number"?0:void 0,maxlength:"1",placeholder:t.placeholder,type:t.type==="number"?"text":t.type,value:c.value[P],onInput:g,onFocus:D=>E(D,P),onBlur:C,onKeydown:y,onPaste:D=>x(P,D)},null)})])),M("input",Se({class:"v-otp-input-input",type:"hidden"},_,{value:c.value.join("")}),null),M(yr,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!t.loading,persistent:!0},{default:()=>{var T;return[((T=s.loader)==null?void 0:T.call(s))??M(Xc,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(b=s.default)==null?void 0:b.call(s)])])}),{blur:()=>{var S;(S=v.value)==null||S.some(_=>_.blur())},focus:()=>{var S;(S=v.value)==null||S[0].focus()},reset:w,isFocused:a}}});function Yne(t){return Math.floor(Math.abs(t))*Math.sign(t)}const qne=oe({scale:{type:[Number,String],default:.5},...ze()},"VParallax"),Kne=be()({name:"VParallax",props:qne(),setup(t,e){let{slots:n}=e;const{intersectionRef:i,isIntersecting:s}=kv(),{resizeRef:r,contentRect:a}=zs(),{height:o}=As(),l=he();qt(()=>{var f;i.value=r.value=(f=l.value)==null?void 0:f.$el});let c;Pe(s,f=>{f?(c=qx(i.value),c=c===document.scrollingElement?document:c,c.addEventListener("scroll",h,{passive:!0}),h()):c.removeEventListener("scroll",h)}),Yn(()=>{c==null||c.removeEventListener("scroll",h)}),Pe(o,h),Pe(()=>{var f;return(f=a.value)==null?void 0:f.height},h);const u=L(()=>1-Rn(+t.scale));let d=-1;function h(){s.value&&(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var E;const f=((E=l.value)==null?void 0:E.$el).querySelector(".v-img__img");if(!f)return;const m=c instanceof Document?document.documentElement.clientHeight:c.clientHeight,v=c instanceof Document?window.scrollY:c.scrollTop,p=i.value.getBoundingClientRect().top+v,g=a.value.height,y=p+(g-m)/2,x=Yne((v-y)*u.value),w=Math.max(1,(u.value*(m-g)+g)/g);f.style.setProperty("transform",`translateY(${x}px) scale(${w})`)}))}return Ce(()=>M(aa,{class:["v-parallax",{"v-parallax--active":s.value},t.class],style:t.style,ref:l,cover:!0,onLoadstart:h,onLoad:h},n)),{}}}),Zne=oe({...Vv({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),Jne=be()({name:"VRadio",props:Zne(),setup(t,e){let{slots:n}=e;return Ce(()=>{const i=Xa.filterProps(t);return M(Xa,Se(i,{class:["v-radio",t.class],style:t.style,type:"radio"}),n)}),{}}}),Qne=oe({height:{type:[Number,String],default:"auto"},...ma(),...On(aw(),["multiple"]),trueIcon:{type:ot,default:"$radioOn"},falseIcon:{type:ot,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),eie=be()({name:"VRadioGroup",inheritAttrs:!1,props:Qne(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=ri(),r=L(()=>t.id||`radio-group-${s}`),a=Ke(t,"modelValue");return Ce(()=>{const[o,l]=to(n),c=ci.filterProps(t),u=Xa.filterProps(t),d=i.label?i.label({label:t.label,props:{for:r.value}}):t.label;return M(ci,Se({class:["v-radio-group",t.class],style:t.style},o,c,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,id:r.value}),{...i,default:h=>{let{id:f,messagesId:m,isDisabled:v,isReadonly:p}=h;return M(We,null,[d&&M(ou,{id:f.value},{default:()=>[d]}),M(rL,Se(u,{id:f.value,"aria-describedby":m.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:v.value,readonly:p.value,"aria-labelledby":d?f.value:void 0,multiple:!1},l,{modelValue:a.value,"onUpdate:modelValue":g=>a.value=g}),i)])}})}),{}}}),tie=oe({...Ah(),...ma(),...ek(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),nie=be()({name:"VRangeSlider",props:tie(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=he(),r=he(),a=he(),{rtlClasses:o}=zn();function l(b){if(!s.value||!r.value)return;const T=mb(b,s.value.$el,t.direction),P=mb(b,r.value.$el,t.direction),D=Math.abs(T),O=Math.abs(P);return D<O||D===O&&T<0?s.value.$el:r.value.$el}const c=tk(t),u=Ke(t,"modelValue",void 0,b=>b!=null&&b.length?b.map(T=>c.roundValue(T)):[0,0]),{activeThumbRef:d,hasLabels:h,max:f,min:m,mousePressed:v,onSliderMousedown:p,onSliderTouchstart:g,position:y,trackContainerRef:x,readonly:w}=nk({props:t,steps:c,onSliderStart:()=>{i("start",u.value)},onSliderEnd:b=>{var D;let{value:T}=b;const P=d.value===((D=s.value)==null?void 0:D.$el)?[T,u.value[1]]:[u.value[0],T];!t.strict&&P[0]<P[1]&&(u.value=P),i("end",u.value)},onSliderMove:b=>{var O,H,F,K;let{value:T}=b;const[P,D]=u.value;!t.strict&&P===D&&P!==m.value&&(d.value=T>P?(O=r.value)==null?void 0:O.$el:(H=s.value)==null?void 0:H.$el,(F=d.value)==null||F.focus()),d.value===((K=s.value)==null?void 0:K.$el)?u.value=[Math.min(T,D),D]:u.value=[P,Math.max(P,T)]},getActiveThumb:l}),{isFocused:E,focus:C,blur:A}=fa(t),S=L(()=>y(u.value[0])),_=L(()=>y(u.value[1]));return Ce(()=>{const b=ci.filterProps(t),T=!!(t.label||n.label||n.prepend);return M(ci,Se({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||h.value,"v-slider--focused":E.value,"v-slider--pressed":v.value,"v-slider--disabled":t.disabled},o.value,t.class],style:t.style,ref:a},b,{focused:E.value}),{...n,prepend:T?P=>{var D,O;return M(We,null,[((D=n.label)==null?void 0:D.call(n,P))??(t.label?M(ou,{class:"v-slider__label",text:t.label},null):void 0),(O=n.prepend)==null?void 0:O.call(n,P)])}:void 0,default:P=>{var H,F;let{id:D,messagesId:O}=P;return M("div",{class:"v-slider__container",onMousedown:w.value?void 0:p,onTouchstartPassive:w.value?void 0:g},[M("input",{id:`${D.value}_start`,name:t.name||D.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:u.value[0]},null),M("input",{id:`${D.value}_stop`,name:t.name||D.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:u.value[1]},null),M(ik,{ref:x,start:S.value,stop:_.value},{"tick-label":n["tick-label"]}),M(pb,{ref:s,"aria-describedby":O.value,focused:E&&d.value===((H=s.value)==null?void 0:H.$el),modelValue:u.value[0],"onUpdate:modelValue":K=>u.value=[K,u.value[1]],onFocus:K=>{var j,X,Y,J;C(),d.value=(j=s.value)==null?void 0:j.$el,u.value[0]===u.value[1]&&u.value[1]===m.value&&K.relatedTarget!==((X=r.value)==null?void 0:X.$el)&&((Y=s.value)==null||Y.$el.blur(),(J=r.value)==null||J.$el.focus())},onBlur:()=>{A(),d.value=void 0},min:m.value,max:u.value[1],position:S.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]}),M(pb,{ref:r,"aria-describedby":O.value,focused:E&&d.value===((F=r.value)==null?void 0:F.$el),modelValue:u.value[1],"onUpdate:modelValue":K=>u.value=[u.value[0],K],onFocus:K=>{var j,X,Y,J;C(),d.value=(j=r.value)==null?void 0:j.$el,u.value[0]===u.value[1]&&u.value[0]===f.value&&K.relatedTarget!==((X=s.value)==null?void 0:X.$el)&&((Y=r.value)==null||Y.$el.blur(),(J=s.value)==null||J.$el.focus())},onBlur:()=>{A(),d.value=void 0},min:u.value[0],max:f.value,position:_.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),iie=oe({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:ot,default:"$ratingEmpty"},fullIcon:{type:ot,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...ze(),...qn(),...Er(),...ft(),...Pt()},"VRating"),sie=be()({name:"VRating",props:iie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Cn(),{themeClasses:s}=Bt(t),r=Ke(t,"modelValue"),a=L(()=>Rn(parseFloat(r.value),0,+t.length)),o=L(()=>lr(Number(t.length),1)),l=L(()=>o.value.flatMap(v=>t.halfIncrements?[v-.5,v]:[v])),c=De(-1),u=L(()=>l.value.map(v=>{const p=t.hover&&c.value>-1,g=a.value>=v,y=c.value>=v,w=(p?y:g)?t.fullIcon:t.emptyIcon,E=t.activeColor??t.color,C=g||y?E:t.color;return{isFilled:g,isHovered:y,icon:w,color:C}})),d=L(()=>[0,...l.value].map(v=>{function p(){c.value=v}function g(){c.value=-1}function y(){t.disabled||t.readonly||(r.value=a.value===v&&t.clearable?0:v)}return{onMouseenter:t.hover?p:void 0,onMouseleave:t.hover?g:void 0,onClick:y}})),h=L(()=>t.name??`v-rating-${ri()}`);function f(v){var S,_;let{value:p,index:g,showStar:y=!0}=v;const{onMouseenter:x,onMouseleave:w,onClick:E}=d.value[g+1],C=`${h.value}-${String(p).replace(".","-")}`,A={color:(S=u.value[g])==null?void 0:S.color,density:t.density,disabled:t.disabled,icon:(_=u.value[g])==null?void 0:_.icon,ripple:t.ripple,size:t.size,variant:"plain"};return M(We,null,[M("label",{for:C,class:{"v-rating__item--half":t.halfIncrements&&p%1>0,"v-rating__item--full":t.halfIncrements&&p%1===0},onMouseenter:x,onMouseleave:w,onClick:E},[M("span",{class:"v-rating__hidden"},[i(t.itemAriaLabel,p,t.length)]),y?n.item?n.item({...u.value[g],props:A,value:p,index:g,rating:a.value}):M(Vt,Se({"aria-label":i(t.itemAriaLabel,p,t.length)},A),null):void 0]),M("input",{class:"v-rating__hidden",name:h.value,id:C,type:"radio",value:p,checked:a.value===p,tabindex:-1,readonly:t.readonly,disabled:t.disabled},null)])}function m(v){return n["item-label"]?n["item-label"](v):v.label?M("span",null,[v.label]):M("span",null,[gn(" ")])}return Ce(()=>{var p;const v=!!((p=t.itemLabels)!=null&&p.length)||n["item-label"];return M(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},s.value,t.class],style:t.style},{default:()=>[M(f,{value:0,index:-1,showStar:!1},null),o.value.map((g,y)=>{var x,w;return M("div",{class:"v-rating__wrapper"},[v&&t.itemLabelPosition==="top"?m({value:g,index:y,label:(x=t.itemLabels)==null?void 0:x[y]}):void 0,M("div",{class:"v-rating__item"},[t.halfIncrements?M(We,null,[M(f,{value:g-.5,index:y*2},null),M(f,{value:g,index:y*2+1},null)]):M(f,{value:g,index:y},null)]),v&&t.itemLabelPosition==="bottom"?m({value:g,index:y,label:(w=t.itemLabels)==null?void 0:w[y]}):void 0])})]})}),{}}}),rie={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function aie(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return M("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function fT(t){const[e,n]=t.split("@");return Array.from({length:n}).map(()=>tg(e))}function tg(t){let e=[];if(!t)return e;const n=rie[t];if(t!==n){if(t.includes(","))return mT(t);if(t.includes("@"))return fT(t);n.includes(",")?e=mT(n):n.includes("@")?e=fT(n):n&&e.push(tg(n))}return[aie(t,e)]}function mT(t){return t.replace(/\s/g,"").split(",").map(tg)}const oie=oe({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Vn(),...Hn(),...Pt()},"VSkeletonLoader"),lie=be()({name:"VSkeletonLoader",props:oie(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Kt(ge(t,"color")),{dimensionStyles:r}=Fn(t),{elevationClasses:a}=ai(t),{themeClasses:o}=Bt(t),{t:l}=Cn(),c=L(()=>tg(pn(t.type).join(",")));return Ce(()=>{var h;const u=!n.default||t.loading,d=t.boilerplate||!u?{}:{ariaLive:"polite",ariaLabel:l(t.loadingText),role:"alert"};return M("div",Se({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},o.value,i.value,a.value],style:[s.value,u?r.value:{}]},d),[u?c.value:(h=n.default)==null?void 0:h.call(n)])}),{}}}),cie=be()({name:"VSlideGroupItem",props:Dl(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Ol(t,mL);return()=>{var s;return(s=n.default)==null?void 0:s.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function uie(t){const e=De(t());let n=-1;function i(){clearInterval(n)}function s(){i(),Rt(()=>e.value=t())}function r(a){const o=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(o.transitionDuration)*1e3||200;if(i(),e.value<=0)return;const c=performance.now();n=window.setInterval(()=>{const u=performance.now()-c+l;e.value=Math.max(t()-u,0),e.value<=0&&i()},l)}return si(i),{clear:i,time:e,start:r,reset:s}}const die=oe({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...da({location:"bottom"}),...ru(),...dn(),...Ps(),...Pt(),...On(Ih({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),hie=be()({name:"VSnackbar",props:die(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{positionClasses:s}=au(t),{scopeId:r}=Vl(),{themeClasses:a}=Bt(t),{colorClasses:o,colorStyles:l,variantClasses:c}=Ll(t),{roundedClasses:u}=xn(t),d=uie(()=>Number(t.timeout)),h=he(),f=he(),m=De(!1),v=De(0),p=he(),g=xt(Nd,void 0);Fi(()=>!!g,()=>{const T=N2();qt(()=>{p.value=T.mainStyles.value})}),Pe(i,x),Pe(()=>t.timeout,x),Nn(()=>{i.value&&x()});let y=-1;function x(){d.reset(),window.clearTimeout(y);const T=Number(t.timeout);if(!i.value||T===-1)return;const P=zx(f.value);d.start(P),y=window.setTimeout(()=>{i.value=!1},T)}function w(){d.reset(),window.clearTimeout(y)}function E(){m.value=!0,w()}function C(){m.value=!1,x()}function A(T){v.value=T.touches[0].clientY}function S(T){Math.abs(v.value-T.changedTouches[0].clientY)>50&&(i.value=!1)}function _(){m.value&&C()}const b=L(()=>t.location.split(" ").reduce((T,P)=>(T[`v-snackbar--${P}`]=!0,T),{}));return Ce(()=>{const T=yr.filterProps(t),P=!!(n.default||n.text||t.text);return M(yr,Se({ref:h,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},b.value,s.value,t.class],style:[p.value,t.style]},T,{modelValue:i.value,"onUpdate:modelValue":D=>i.value=D,contentProps:Se({class:["v-snackbar__wrapper",a.value,o.value,u.value,c.value],style:[l.value],onPointerenter:E,onPointerleave:C},T.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:A,onTouchend:S,onAfterLeave:_},r),{default:()=>{var D,O;return[no(!1,"v-snackbar"),t.timer&&!m.value&&M("div",{key:"timer",class:"v-snackbar__timer"},[M(Dv,{ref:f,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":d.time.value},null)]),P&&M("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((D=n.text)==null?void 0:D.call(n))??t.text,(O=n.default)==null?void 0:O.call(n)]),n.actions&&M(yt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[M("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Is({},h)}}),Xk=oe({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:t=>["top","bottom","left","right"].includes(t),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),Yk=oe({autoLineWidth:Boolean,...Xk()},"VBarline"),pT=be()({name:"VBarline",props:Yk(),setup(t,e){let{slots:n}=e;const i=ri(),s=L(()=>t.id||`barline-${i}`),r=L(()=>Number(t.autoDrawDuration)||500),a=L(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),o=L(()=>parseFloat(t.lineWidth)||4),l=L(()=>Math.max(t.modelValue.length*o.value,Number(t.width))),c=L(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(t.height,10)})),u=L(()=>t.modelValue.map(v=>Un(v,t.itemValue,v)));function d(v,p){const{minX:g,maxX:y,minY:x,maxY:w}=p,E=v.length;let C=t.max!=null?Number(t.max):Math.max(...v),A=t.min!=null?Number(t.min):Math.min(...v);A>0&&t.min==null&&(A=0),C<0&&t.max==null&&(C=0);const S=y/E,_=(w-x)/(C-A||1),b=w-Math.abs(A*_);return v.map((T,P)=>{const D=Math.abs(_*T);return{x:g+P*S,y:b-D+ +(T<0)*D,height:D,value:T}})}const h=L(()=>{const v=[],p=d(u.value,c.value),g=p.length;for(let y=0;v.length<g;y++){const x=p[y];let w=t.labels[y];w||(w=typeof x=="object"?x.value:x),v.push({x:x.x,value:String(w)})}return v}),f=L(()=>d(u.value,c.value)),m=L(()=>(Math.abs(f.value[0].x-f.value[1].x)-o.value)/2);Ce(()=>{const v=t.gradient.slice().length?t.gradient.slice().reverse():[""];return M("svg",{display:"block"},[M("defs",null,[M("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[v.map((p,g)=>M("stop",{offset:g/Math.max(v.length-1,1),"stop-color":p||"currentColor"},null))])]),M("clipPath",{id:`${s.value}-clip`},[f.value.map(p=>M("rect",{x:p.x+m.value,y:p.y,width:o.value,height:p.height,rx:typeof t.smooth=="number"?t.smooth:t.smooth?2:0,ry:typeof t.smooth=="number"?t.smooth:t.smooth?2:0},[t.autoDraw&&M(We,null,[M("animate",{attributeName:"y",from:p.y+p.height,to:p.y,dur:`${r.value}ms`,fill:"freeze"},null),M("animate",{attributeName:"height",from:"0",to:p.height,dur:`${r.value}ms`,fill:"freeze"},null)])]))]),a.value&&M("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[h.value.map((p,g)=>{var y;return M("text",{x:p.x+m.value+o.value/2,y:parseInt(t.height,10)-2+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((y=n.label)==null?void 0:y.call(n,{index:g,value:p.value}))??p.value])})]),M("g",{"clip-path":`url(#${s.value}-clip)`,fill:`url(#${s.value})`},[M("rect",{x:0,y:0,width:Math.max(t.modelValue.length*o.value,Number(t.width)),height:t.height},null)])])})}});function fie(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(t.length===0)return"";const s=t.shift(),r=t[t.length-1];return(n?`M${s.x} ${i-s.x+2} L${s.x} ${s.y}`:`M${s.x} ${s.y}`)+t.map((a,o)=>{const l=t[o+1],c=t[o-1]||s,u=l&&mie(l,a,c);if(!l||u)return`L${a.x} ${a.y}`;const d=Math.min(vT(c,a),vT(l,a)),f=d/2<e?d/2:e,m=gT(c,a,f),v=gT(l,a,f);return`L${m.x} ${m.y}S${a.x} ${a.y} ${v.x} ${v.y}`}).join("")+(n?`L${r.x} ${i-s.x+2} Z`:"")}function Yf(t){return parseInt(t,10)}function mie(t,e,n){return Yf(t.x+n.x)===Yf(2*e.x)&&Yf(t.y+n.y)===Yf(2*e.y)}function vT(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gT(t,e,n){const i={x:t.x-e.x,y:t.y-e.y},s=Math.sqrt(i.x*i.x+i.y*i.y),r={x:i.x/s,y:i.y/s};return{x:e.x+r.x*n,y:e.y+r.y*n}}const qk=oe({fill:Boolean,...Xk()},"VTrendline"),yT=be()({name:"VTrendline",props:qk(),setup(t,e){let{slots:n}=e;const i=ri(),s=L(()=>t.id||`trendline-${i}`),r=L(()=>Number(t.autoDrawDuration)||(t.fill?500:2e3)),a=he(0),o=he(null);function l(p,g){const{minX:y,maxX:x,minY:w,maxY:E}=g,C=p.length,A=t.max!=null?Number(t.max):Math.max(...p),S=t.min!=null?Number(t.min):Math.min(...p),_=(x-y)/(C-1),b=(E-w)/(A-S||1);return p.map((T,P)=>({x:y+P*_,y:E-(T-S)*b,value:T}))}const c=L(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),u=L(()=>parseFloat(t.lineWidth)||4),d=L(()=>Number(t.width)),h=L(()=>{const p=Number(t.padding);return{minX:p,maxX:d.value-p,minY:p,maxY:parseInt(t.height,10)-p}}),f=L(()=>t.modelValue.map(p=>Un(p,t.itemValue,p))),m=L(()=>{const p=[],g=l(f.value,h.value),y=g.length;for(let x=0;p.length<y;x++){const w=g[x];let E=t.labels[x];E||(E=typeof w=="object"?w.value:w),p.push({x:w.x,value:String(E)})}return p});Pe(()=>t.modelValue,async()=>{if(await Rt(),!t.autoDraw||!o.value)return;const p=o.value,g=p.getTotalLength();t.fill?(p.style.transformOrigin="bottom center",p.style.transition="none",p.style.transform="scaleY(0)",p.getBoundingClientRect(),p.style.transition=`transform ${r.value}ms ${t.autoDrawEasing}`,p.style.transform="scaleY(1)"):(p.style.strokeDasharray=`${g}`,p.style.strokeDashoffset=`${g}`,p.getBoundingClientRect(),p.style.transition=`stroke-dashoffset ${r.value}ms ${t.autoDrawEasing}`,p.style.strokeDashoffset="0"),a.value=g},{immediate:!0});function v(p){return fie(l(f.value,h.value),t.smooth?8:Number(t.smooth),p,parseInt(t.height,10))}Ce(()=>{var g;const p=t.gradient.slice().length?t.gradient.slice().reverse():[""];return M("svg",{display:"block","stroke-width":parseFloat(t.lineWidth)??4},[M("defs",null,[M("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[p.map((y,x)=>M("stop",{offset:x/Math.max(p.length-1,1),"stop-color":y||"currentColor"},null))])]),c.value&&M("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[m.value.map((y,x)=>{var w;return M("text",{x:y.x+u.value/2+u.value/2,y:parseInt(t.height,10)-4+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((w=n.label)==null?void 0:w.call(n,{index:x,value:y.value}))??y.value])})]),M("path",{ref:o,d:v(t.fill),fill:t.fill?`url(#${s.value})`:"none",stroke:t.fill?"none":`url(#${s.value})`},null),t.fill&&M("path",{d:v(!1),fill:"none",stroke:t.color??((g=t.gradient)==null?void 0:g[0])},null)])})}}),pie=oe({type:{type:String,default:"trend"},...Yk(),...qk()},"VSparkline"),vie=be()({name:"VSparkline",props:pie(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=li(ge(t,"color")),r=L(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),a=L(()=>{let o=parseInt(t.height,10);return r.value&&(o+=parseInt(t.labelSize,10)*1.5),o});Ce(()=>{const o=t.type==="trend"?yT:pT,l=t.type==="trend"?yT.filterProps(t):pT.filterProps(t);return M(o,Se({key:t.type,class:i.value,style:s.value,viewBox:`0 0 ${t.width} ${parseInt(a.value,10)}`},l),n)})}}),gie=oe({...ze(),...VL({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),yie=be()({name:"VSpeedDial",props:gie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),s=he(),r=L(()=>{var c;const[o,l="center"]=((c=t.location)==null?void 0:c.split(" "))??[];return`${o} ${l}`}),a=L(()=>({[`v-speed-dial__content--${r.value.replace(" ","-")}`]:!0}));return Ce(()=>{const o=Yc.filterProps(t);return M(Yc,Se(o,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:t.class,style:t.style,contentClass:["v-speed-dial__content",a.value,t.contentClass],location:r.value,ref:s,transition:"fade-transition"}),{...n,default:l=>M(yt,{defaults:{VBtn:{size:"small"}}},{default:()=>[M(gi,{appear:!0,group:!0,transition:t.transition},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,l)]}})]})})}),{}}}),Ow=Symbol.for("vuetify:v-stepper"),Kk=oe({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Zk=be()({name:"VStepperActions",props:Kk(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=Cn();function r(){n("click:prev")}function a(){n("click:next")}return Ce(()=>{const o={onClick:r},l={onClick:a};return M("div",{class:"v-stepper-actions"},[M(yt,{defaults:{VBtn:{disabled:["prev",!0].includes(t.disabled),text:s(t.prevText),variant:"text"}}},{default:()=>{var c;return[((c=i.prev)==null?void 0:c.call(i,{props:o}))??M(Vt,o,null)]}}),M(yt,{defaults:{VBtn:{color:t.color,disabled:["next",!0].includes(t.disabled),text:s(t.nextText),variant:"tonal"}}},{default:()=>{var c;return[((c=i.next)==null?void 0:c.call(i,{props:l}))??M(Vt,l,null)]}})])}),{}}}),Jk=Tr("v-stepper-header"),bie=oe({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),_ie=oe({...bie(),...Dl()},"VStepperItem"),Qk=be()({name:"VStepperItem",directives:{Ripple:ha},props:_ie(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Ol(t,Ow,!0),s=L(()=>(i==null?void 0:i.value.value)??t.value),r=L(()=>t.rules.every(h=>h()===!0)),a=L(()=>!t.disabled&&t.editable),o=L(()=>!t.disabled&&t.editable),l=L(()=>t.error||!r.value),c=L(()=>t.complete||t.rules.length>0&&r.value),u=L(()=>l.value?t.errorIcon:c.value?t.completeIcon:i.isSelected.value&&t.editable?t.editIcon:t.icon),d=L(()=>({canEdit:o.value,hasError:l.value,hasCompleted:c.value,title:t.title,subtitle:t.subtitle,step:s.value,value:t.value}));return Ce(()=>{var p,g,y;const h=(!i||i.isSelected.value||c.value||o.value)&&!l.value&&!t.disabled,f=!!(t.title!=null||n.title),m=!!(t.subtitle!=null||n.subtitle);function v(){i==null||i.toggle()}return Qe(M("button",{class:["v-stepper-item",{"v-stepper-item--complete":c.value,"v-stepper-item--disabled":t.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!t.editable,onClick:v},[a.value&&no(!0,"v-stepper-item"),M(Es,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:h?t.color:void 0,size:24},{default:()=>{var x;return[((x=n.icon)==null?void 0:x.call(n,d.value))??(u.value?M(Ft,{icon:u.value},null):s.value)]}}),M("div",{class:"v-stepper-item__content"},[f&&M("div",{key:"title",class:"v-stepper-item__title"},[((p=n.title)==null?void 0:p.call(n,d.value))??t.title]),m&&M("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((g=n.subtitle)==null?void 0:g.call(n,d.value))??t.subtitle]),(y=n.default)==null?void 0:y.call(n,d.value)])]),[[yn("ripple"),t.ripple&&t.editable,null]])}),{}}}),xie=oe({...On(Gv(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),eD=be()({name:"VStepperWindow",props:xie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=xt(Ow,null),s=Ke(t,"modelValue"),r=L({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return Ce(()=>{const a=pl.filterProps(t);return M(pl,Se({_as:"VStepperWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-stepper-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),wie=oe({...Wv()},"VStepperWindowItem"),tD=be()({name:"VStepperWindowItem",props:wie(),setup(t,e){let{slots:n}=e;return Ce(()=>{const i=vl.filterProps(t);return M(vl,Se({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",t.class],style:t.style}),n)}),{}}}),Sie=oe({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Al()},"Stepper"),Mie=oe({...Sie(),...kl({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...$v(),...Mv(Kk(),["prevText","nextText"])},"VStepper"),Cie=be()({name:"VStepper",props:Mie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{items:i,next:s,prev:r,selected:a}=io(t,Ow),{displayClasses:o,mobile:l}=As(t),{completeIcon:c,editIcon:u,errorIcon:d,color:h,editable:f,prevText:m,nextText:v}=Hs(t),p=L(()=>t.items.map((x,w)=>{const E=Un(x,t.itemTitle,x),C=Un(x,t.itemValue,w+1);return{title:E,value:C,raw:x}})),g=L(()=>i.value.findIndex(x=>a.value.includes(x.id))),y=L(()=>t.disabled?t.disabled:g.value===0?"prev":g.value===i.value.length-1?"next":!1);return bn({VStepperItem:{editable:f,errorIcon:d,completeIcon:c,editIcon:u,prevText:m,nextText:v},VStepperActions:{color:h,disabled:y,prevText:m,nextText:v}}),Ce(()=>{const x=gl.filterProps(t),w=!!(n.header||t.items.length),E=t.items.length>0,C=!t.hideActions&&!!(E||n.actions);return M(gl,Se(x,{color:t.bgColor,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":l.value},o.value,t.class],style:t.style}),{default:()=>{var A,S;return[w&&M(Jk,{key:"stepper-header"},{default:()=>[p.value.map((_,b)=>{let{raw:T,...P}=_;return M(We,null,[!!b&&M(Ph,null,null),M(Qk,P,{default:n[`header-item.${P.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),E&&M(eD,{key:"stepper-window"},{default:()=>[p.value.map(_=>M(tD,{value:_.value},{default:()=>{var b,T;return((b=n[`item.${_.value}`])==null?void 0:b.call(n,_))??((T=n.item)==null?void 0:T.call(n,_))}}))]}),(A=n.default)==null?void 0:A.call(n,{prev:r,next:s}),C&&(((S=n.actions)==null?void 0:S.call(n,{next:s,prev:r}))??M(Zk,{key:"stepper-actions","onClick:prev":r,"onClick:next":s},n))]}})}),{prev:r,next:s}}}),Tie=oe({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ma(),...Vv()},"VSwitch"),Eie=be()({name:"VSwitch",inheritAttrs:!1,props:Tie(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ke(t,"indeterminate"),r=Ke(t,"modelValue"),{loaderClasses:a}=Mh(t),{isFocused:o,focus:l,blur:c}=fa(t),u=he(),d=Ot&&window.matchMedia("(forced-colors: active)").matches,h=L(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),f=ri(),m=L(()=>t.id||`switch-${f}`);function v(){s.value&&(s.value=!1)}function p(g){var y,x;g.stopPropagation(),g.preventDefault(),(x=(y=u.value)==null?void 0:y.input)==null||x.click()}return Ce(()=>{const[g,y]=to(n),x=ci.filterProps(t),w=Xa.filterProps(t);return M(ci,Se({class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":s.value},a.value,t.class]},g,x,{modelValue:r.value,"onUpdate:modelValue":E=>r.value=E,id:m.value,focused:o.value,style:t.style}),{...i,default:E=>{let{id:C,messagesId:A,isDisabled:S,isReadonly:_,isValid:b}=E;const T={model:r,isValid:b};return M(Xa,Se({ref:u},w,{modelValue:r.value,"onUpdate:modelValue":[P=>r.value=P,v],id:C.value,"aria-describedby":A.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:S.value,readonly:_.value,onFocus:l,onBlur:c},y),{...i,default:P=>{let{backgroundColorClasses:D,backgroundColorStyles:O}=P;return M("div",{class:["v-switch__track",d?void 0:D.value],style:O.value,onClick:p},[i["track-true"]&&M("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](T)]),i["track-false"]&&M("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](T)])])},input:P=>{let{inputNode:D,icon:O,backgroundColorClasses:H,backgroundColorStyles:F}=P;return M(We,null,[D,M("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":O||t.loading},t.inset||d?void 0:H.value],style:t.inset?void 0:F.value},[i.thumb?M(yt,{defaults:{VIcon:{icon:O,size:"x-small"}}},{default:()=>[i.thumb({...T,icon:O})]}):M(tw,null,{default:()=>[t.loading?M(Ch,{name:"v-switch",active:!0,color:b.value===!1?void 0:h.value},{default:K=>i.loader?i.loader(K):M(Xc,{active:K.isActive,color:K.color,indeterminate:!0,size:"16",width:"2"},null)}):O&&M(Ft,{key:String(O),icon:O,size:"x-small"},null)]})])])}})}})}),{}}}),Aie=oe({color:String,height:[Number,String],window:Boolean,...ze(),...Hn(),...Pl(),...dn(),...ft(),...Pt()},"VSystemBar"),Pie=be()({name:"VSystemBar",props:Aie(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=Kt(ge(t,"color")),{elevationClasses:a}=ai(t),{roundedClasses:o}=xn(t),{ssrBootStyles:l}=Rl(),c=L(()=>t.height??(t.window?32:24)),{layoutItemStyles:u}=Il({id:t.name,order:L(()=>parseInt(t.order,10)),position:De("top"),layoutSize:c,elementSize:c,active:L(()=>!0),absolute:ge(t,"absolute")});return Ce(()=>M(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},i.value,s.value,a.value,o.value,t.class],style:[r.value,u.value,l.value,t.style]},n)),{}}}),Nw=Symbol.for("vuetify:v-tabs"),Iie=oe({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...On(Nv({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),nD=be()({name:"VTab",props:Iie(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:s,textColorStyles:r}=li(t,"sliderColor"),a=he(),o=he(),l=L(()=>t.direction==="horizontal"),c=L(()=>{var d,h;return((h=(d=a.value)==null?void 0:d.group)==null?void 0:h.isSelected.value)??!1});function u(d){var f,m;let{value:h}=d;if(h){const v=(m=(f=a.value)==null?void 0:f.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),p=o.value;if(!v||!p)return;const g=getComputedStyle(v).color,y=v.getBoundingClientRect(),x=p.getBoundingClientRect(),w=l.value?"x":"y",E=l.value?"X":"Y",C=l.value?"right":"bottom",A=l.value?"width":"height",S=y[w],_=x[w],b=S>_?y[C]-x[C]:y[w]-x[w],T=Math.sign(b)>0?l.value?"right":"bottom":Math.sign(b)<0?l.value?"left":"top":"center",D=(Math.abs(b)+(Math.sign(b)<0?y[A]:x[A]))/Math.max(y[A],x[A])||0,O=y[A]/x[A]||0,H=1.5;zo(p,{backgroundColor:[g,"currentcolor"],transform:[`translate${E}(${b}px) scale${E}(${O})`,`translate${E}(${b/H}px) scale${E}(${(D-1)/H+1})`,"none"],transformOrigin:Array(3).fill(T)},{duration:225,easing:Dd})}}return Ce(()=>{const d=Vt.filterProps(t);return M(Vt,Se({symbol:Nw,ref:a,class:["v-tab",t.class],style:t.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},d,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":u}),{...n,default:()=>{var h;return M(We,null,[((h=n.default)==null?void 0:h.call(n))??t.text,!t.hideSlider&&M("div",{ref:o,class:["v-tab__slider",s.value],style:r.value},null)])}})}),Is({},a)}}),Rie=oe({...On(Gv(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),iD=be()({name:"VTabsWindow",props:Rie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=xt(Nw,null),s=Ke(t,"modelValue"),r=L({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return Ce(()=>{const a=pl.filterProps(t);return M(pl,Se({_as:"VTabsWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),Lie=oe({...Wv()},"VTabsWindowItem"),sD=be()({name:"VTabsWindowItem",props:Lie(),setup(t,e){let{slots:n}=e;return Ce(()=>{const i=vl.filterProps(t);return M(vl,Se({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function kie(t){return t?t.map(e=>Ux(e)?e:{text:e,value:e}):[]}const Die=oe({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...ow({mandatory:"force",selectedClass:"v-tab-item--selected"}),...qn(),...ft()},"VTabs"),Oie=be()({name:"VTabs",props:Die(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ke(t,"modelValue"),r=L(()=>kie(t.items)),{densityClasses:a}=wi(t),{backgroundColorClasses:o,backgroundColorStyles:l}=Kt(ge(t,"bgColor")),{scopeId:c}=Vl();return bn({VTab:{color:ge(t,"color"),direction:ge(t,"direction"),stacked:ge(t,"stacked"),fixed:ge(t,"fixedTabs"),sliderColor:ge(t,"sliderColor"),hideSlider:ge(t,"hideSlider")}}),Ce(()=>{const u=zd.filterProps(t),d=!!(i.window||t.items.length>0);return M(We,null,[M(zd,Se(u,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},a.value,o.value,t.class],style:[{"--v-tabs-height":Ve(t.height)},l.value,t.style],role:"tablist",symbol:Nw},c,n),{default:()=>{var h;return[((h=i.default)==null?void 0:h.call(i))??r.value.map(f=>{var m;return((m=i.tab)==null?void 0:m.call(i,{item:f}))??M(nD,Se(f,{key:f.text,value:f.value}),{default:i[`tab.${f.value}`]?()=>{var v;return(v=i[`tab.${f.value}`])==null?void 0:v.call(i,{item:f})}:void 0})})]}}),d&&M(iD,Se({modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,key:"tabs-window"},c),{default:()=>{var h;return[r.value.map(f=>{var m;return((m=i.item)==null?void 0:m.call(i,{item:f}))??M(sD,{value:f.value},{default:()=>{var v;return(v=i[`item.${f.value}`])==null?void 0:v.call(i,{item:f})}})}),(h=i.window)==null?void 0:h.call(i)]}})])}),{}}}),Nie=oe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...ma(),...Rh()},"VTextarea"),Vie=be()({name:"VTextarea",directives:{Intersect:Sh},inheritAttrs:!1,props:Nie(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ke(t,"modelValue"),{isFocused:a,focus:o,blur:l}=fa(t),c=L(()=>typeof t.counterValue=="function"?t.counterValue(r.value):(r.value||"").toString().length),u=L(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function d(T,P){var D,O;!t.autofocus||!T||(O=(D=P[0].target)==null?void 0:D.focus)==null||O.call(D)}const h=he(),f=he(),m=De(""),v=he(),p=L(()=>t.persistentPlaceholder||a.value||t.active);function g(){var T;v.value!==document.activeElement&&((T=v.value)==null||T.focus()),a.value||o()}function y(T){g(),i("click:control",T)}function x(T){i("mousedown:control",T)}function w(T){T.stopPropagation(),g(),Rt(()=>{r.value="",Wx(t["onClick:clear"],T)})}function E(T){var D;const P=T.target;if(r.value=P.value,(D=t.modelModifiers)!=null&&D.trim){const O=[P.selectionStart,P.selectionEnd];Rt(()=>{P.selectionStart=O[0],P.selectionEnd=O[1]})}}const C=he(),A=he(+t.rows),S=L(()=>["plain","underlined"].includes(t.variant));qt(()=>{t.autoGrow||(A.value=+t.rows)});function _(){t.autoGrow&&Rt(()=>{if(!C.value||!f.value)return;const T=getComputedStyle(C.value),P=getComputedStyle(f.value.$el),D=parseFloat(T.getPropertyValue("--v-field-padding-top"))+parseFloat(T.getPropertyValue("--v-input-padding-top"))+parseFloat(T.getPropertyValue("--v-field-padding-bottom")),O=C.value.scrollHeight,H=parseFloat(T.lineHeight),F=Math.max(parseFloat(t.rows)*H+D,parseFloat(P.getPropertyValue("--v-input-control-height"))),K=parseFloat(t.maxRows)*H+D||1/0,j=Rn(O??0,F,K);A.value=Math.floor((j-D)/H),m.value=Ve(j)})}Nn(_),Pe(r,_),Pe(()=>t.rows,_),Pe(()=>t.maxRows,_),Pe(()=>t.density,_);let b;return Pe(C,T=>{T?(b=new ResizeObserver(_),b.observe(C.value)):b==null||b.disconnect()}),Yn(()=>{b==null||b.disconnect()}),Ce(()=>{const T=!!(s.counter||t.counter||t.counterValue),P=!!(T||s.details),[D,O]=to(n),{modelValue:H,...F}=ci.filterProps(t),K=pw(t);return M(ci,Se({ref:h,modelValue:r.value,"onUpdate:modelValue":j=>r.value=j,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":S.value},t.class],style:t.style},D,F,{centerAffix:A.value===1&&!S.value,focused:a.value}),{...s,default:j=>{let{id:X,isDisabled:Y,isDirty:J,isReadonly:de,isValid:Le}=j;return M(cu,Se({ref:f,style:{"--v-textarea-control-height":m.value},onClick:y,onMousedown:x,"onClick:clear":w,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},K,{id:X.value,active:p.value||J.value,centerAffix:A.value===1&&!S.value,dirty:J.value||t.dirty,disabled:Y.value,focused:a.value,error:Le.value===!1}),{...s,default:ie=>{let{props:{class:ye,...se}}=ie;return M(We,null,[t.prefix&&M("span",{class:"v-text-field__prefix"},[t.prefix]),Qe(M("textarea",Se({ref:v,class:ye,value:r.value,onInput:E,autofocus:t.autofocus,readonly:de.value,disabled:Y.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:g,onBlur:l},se,O),null),[[yn("intersect"),{handler:d},null,{once:!0}]]),t.autoGrow&&Qe(M("textarea",{class:[ye,"v-textarea__sizer"],id:`${se.id}-sizer`,"onUpdate:modelValue":me=>r.value=me,ref:C,readonly:!0,"aria-hidden":"true"},null),[[kO,r.value]]),t.suffix&&M("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:P?j=>{var X;return M(We,null,[(X=s.details)==null?void 0:X.call(s,j),T&&M(We,null,[M("span",null,null),M(Uv,{active:t.persistentCounter||a.value,value:c.value,max:u.value,disabled:t.disabled},s.counter)])])}:void 0})}),Is({},h,f,v)}}),Fie=oe({withBackground:Boolean,...ze(),...Pt(),...ft()},"VThemeProvider"),Bie=be()({name:"VThemeProvider",props:Fie(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t);return()=>{var s;return t.withBackground?M(t.tag,{class:["v-theme-provider",i.value,t.class],style:t.style},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}}):(s=n.default)==null?void 0:s.call(n)}}}),Uie=oe({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:ot,iconColor:String,lineColor:String,...ze(),...dn(),...Er(),...Hn()},"VTimelineDivider"),zie=be()({name:"VTimelineDivider",props:Uie(),setup(t,e){let{slots:n}=e;const{sizeClasses:i,sizeStyles:s}=su(t,"v-timeline-divider__dot"),{backgroundColorStyles:r,backgroundColorClasses:a}=Kt(ge(t,"dotColor")),{roundedClasses:o}=xn(t,"v-timeline-divider__dot"),{elevationClasses:l}=ai(t),{backgroundColorClasses:c,backgroundColorStyles:u}=Kt(ge(t,"lineColor"));return Ce(()=>M("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[M("div",{class:["v-timeline-divider__before",c.value],style:u.value},null),!t.hideDot&&M("div",{key:"dot",class:["v-timeline-divider__dot",l.value,o.value,i.value],style:s.value},[M("div",{class:["v-timeline-divider__inner-dot",a.value,o.value],style:r.value},[n.default?M(yt,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},n.default):M(Ft,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),M("div",{class:["v-timeline-divider__after",c.value],style:u.value},null)])),{}}}),rD=oe({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:ot,iconColor:String,lineInset:[Number,String],...ze(),...Vn(),...Hn(),...dn(),...Er(),...ft()},"VTimelineItem"),Hie=be()({name:"VTimelineItem",props:rD(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=Fn(t),s=De(0),r=he();return Pe(r,a=>{var o;a&&(s.value=((o=a.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:o.getBoundingClientRect().width)??0)},{flush:"post"}),Ce(()=>{var a,o;return M("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot},t.class],style:[{"--v-timeline-dot-size":Ve(s.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Ve(t.lineInset)})`:Ve(0)},t.style]},[M("div",{class:"v-timeline-item__body",style:i.value},[(a=n.default)==null?void 0:a.call(n)]),M(zie,{ref:r,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:n.icon}),t.density!=="compact"&&M("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((o=n.opposite)==null?void 0:o.call(n))])])}),{}}}),Gie=oe({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Mv(rD({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...ze(),...qn(),...ft(),...Pt()},"VTimeline"),Wie=be()({name:"VTimeline",props:Gie(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Bt(t),{densityClasses:s}=wi(t),{rtlClasses:r}=zn();bn({VTimelineDivider:{lineColor:ge(t,"lineColor")},VTimelineItem:{density:ge(t,"density"),dotColor:ge(t,"dotColor"),fillDot:ge(t,"fillDot"),hideOpposite:ge(t,"hideOpposite"),iconColor:ge(t,"iconColor"),lineColor:ge(t,"lineColor"),lineInset:ge(t,"lineInset"),size:ge(t,"size")}});const a=L(()=>{const l=t.side?t.side:t.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),o=L(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return Ce(()=>M(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},i.value,s.value,a.value,r.value,t.class],style:[{"--v-timeline-line-thickness":Ve(t.lineThickness)},t.style]},n)),{}}}),$ie=oe({...ze(),...Ps({variant:"text"})},"VToolbarItems"),jie=be()({name:"VToolbarItems",props:$ie(),setup(t,e){let{slots:n}=e;return bn({VBtn:{color:ge(t,"color"),height:"inherit",variant:ge(t,"variant")}}),Ce(()=>{var i;return M("div",{class:["v-toolbar-items",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Xie=oe({id:String,text:String,...On(Ih({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),aD=be()({name:"VTooltip",props:Xie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(t,"modelValue"),{scopeId:s}=Vl(),r=ri(),a=L(()=>t.id||`v-tooltip-${r}`),o=he(),l=L(()=>t.location.split(" ").length>1?t.location:t.location+" center"),c=L(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),u=L(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),d=L(()=>Se({"aria-describedby":a.value},t.activatorProps));return Ce(()=>{const h=yr.filterProps(t);return M(yr,Se({ref:o,class:["v-tooltip",t.class],style:t.style,id:a.value},h,{modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,transition:u.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},s),{activator:n.activator,default:function(){var p;for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];return((p=n.default)==null?void 0:p.call(n,...m))??t.text}})}),Is({},o)}}),Yie=be()({name:"VValidation",props:uL(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=dL(t,"validation");return()=>{var s;return(s=n.default)==null?void 0:s.call(n,i)}}}),qie=Object.freeze(Object.defineProperty({__proto__:null,VAlert:gJ,VAlertTitle:iL,VApp:TZ,VAppBar:jZ,VAppBarNavIcon:fJ,VAppBarTitle:mJ,VAutocomplete:BQ,VAvatar:Es,VBadge:zQ,VBanner:WQ,VBannerActions:zL,VBannerText:HL,VBottomNavigation:jQ,VBottomSheet:YQ,VBreadcrumbs:JQ,VBreadcrumbsDivider:WL,VBreadcrumbsItem:$L,VBtn:Vt,VBtnGroup:ib,VBtnToggle:JZ,VCard:iee,VCardActions:jL,VCardItem:qL,VCardSubtitle:XL,VCardText:KL,VCardTitle:YL,VCarousel:hee,VCarouselItem:mee,VCheckbox:TJ,VCheckboxBtn:oa,VChip:lu,VChipGroup:RJ,VClassIcon:Qx,VCode:pee,VCol:Wte,VColorPicker:ite,VCombobox:ate,VComponentIcon:eb,VConfirmEdit:lte,VContainer:Ute,VCounter:Uv,VDataIterator:yte,VDataTable:Dte,VDataTableFooter:Gd,VDataTableHeaders:yl,VDataTableRow:Iw,VDataTableRows:bl,VDataTableServer:Fte,VDataTableVirtual:Nte,VDatePicker:ine,VDatePickerControls:bb,VDatePickerHeader:_b,VDatePickerMonth:xb,VDatePickerMonths:wb,VDatePickerYears:Sb,VDefaultsProvider:yt,VDialog:db,VDialogBottomTransition:IZ,VDialogTopTransition:RZ,VDialogTransition:Rv,VDivider:Ph,VEmptyState:rne,VExpandTransition:Lv,VExpandXTransition:iw,VExpansionPanel:ane,VExpansionPanelText:Mb,VExpansionPanelTitle:Cb,VExpansionPanels:cne,VFab:dne,VFabTransition:PZ,VFadeTransition:Vd,VField:cu,VFieldLabel:Uu,VFileInput:fne,VFooter:pne,VForm:gne,VHover:bne,VIcon:Ft,VImg:aa,VInfiniteScroll:xne,VInput:ci,VItem:Mne,VItemGroup:Sne,VKbd:Cne,VLabel:ou,VLayout:Ene,VLayoutItem:Pne,VLazy:Rne,VLigatureIcon:gZ,VList:Bv,VListGroup:ob,VListImg:eQ,VListItem:la,VListItemAction:nQ,VListItemMedia:sQ,VListItemSubtitle:SL,VListItemTitle:ML,VListSubheader:CL,VLocaleProvider:kne,VMain:One,VMenu:Yc,VMessages:lL,VNavigationDrawer:Wne,VNoSsr:$ne,VOtpInput:Xne,VOverlay:yr,VPagination:gb,VParallax:Kne,VProgressCircular:Xc,VProgressLinear:Dv,VRadio:Jne,VRadioGroup:eie,VRangeSlider:nie,VRating:sie,VResponsive:tb,VRow:Zte,VScaleTransition:tw,VScrollXReverseTransition:kZ,VScrollXTransition:LZ,VScrollYReverseTransition:OZ,VScrollYTransition:DZ,VSelect:yw,VSelectionControl:Xa,VSelectionControlGroup:rL,VSheet:gl,VSkeletonLoader:lie,VSlideGroup:zd,VSlideGroupItem:cie,VSlideXReverseTransition:VZ,VSlideXTransition:NZ,VSlideYReverseTransition:FZ,VSlideYTransition:nw,VSlider:vb,VSnackbar:hie,VSpacer:Vk,VSparkline:vie,VSpeedDial:yie,VStepper:Cie,VStepperActions:Zk,VStepperHeader:Jk,VStepperItem:Qk,VStepperWindow:eD,VStepperWindowItem:tD,VSvgIcon:Jx,VSwitch:Eie,VSystemBar:Pie,VTab:nD,VTable:_l,VTabs:Oie,VTabsWindow:iD,VTabsWindowItem:sD,VTextField:ml,VTextarea:Vie,VThemeProvider:Bie,VTimeline:Wie,VTimelineItem:Hie,VToolbar:nb,VToolbarItems:jie,VToolbarTitle:ew,VTooltip:aD,VValidation:Yie,VVirtualScroll:Hv,VWindow:pl,VWindowItem:vl},Symbol.toStringTag,{value:"Module"}));function Kie(t,e){const n=e.modifiers||{},i=e.value,{once:s,immediate:r,...a}=n,o=!Object.keys(a).length,{handler:l,options:c}=typeof i=="object"?i:{handler:i,options:{attributes:(a==null?void 0:a.attr)??o,characterData:(a==null?void 0:a.char)??o,childList:(a==null?void 0:a.child)??o,subtree:(a==null?void 0:a.sub)??o}},u=new MutationObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;l==null||l(d,h),s&&oD(t,e)});r&&(l==null||l([],u)),t._mutate=Object(t._mutate),t._mutate[e.instance.$.uid]={observer:u},u.observe(t,c)}function oD(t,e){var n;(n=t._mutate)!=null&&n[e.instance.$.uid]&&(t._mutate[e.instance.$.uid].observer.disconnect(),delete t._mutate[e.instance.$.uid])}const Zie={mounted:Kie,unmounted:oD};function Jie(t,e){var s,r;const n=e.value,i={passive:!((s=e.modifiers)!=null&&s.active)};window.addEventListener("resize",n,i),t._onResize=Object(t._onResize),t._onResize[e.instance.$.uid]={handler:n,options:i},(r=e.modifiers)!=null&&r.quiet||n()}function Qie(t,e){var s;if(!((s=t._onResize)!=null&&s[e.instance.$.uid]))return;const{handler:n,options:i}=t._onResize[e.instance.$.uid];window.removeEventListener("resize",n,i),delete t._onResize[e.instance.$.uid]}const ese={mounted:Jie,unmounted:Qie};function lD(t,e){const{self:n=!1}=e.modifiers??{},i=e.value,s=typeof i=="object"&&i.options||{passive:!0},r=typeof i=="function"||"handleEvent"in i?i:i.handler,a=n?t:e.arg?document.querySelector(e.arg):window;a&&(a.addEventListener("scroll",r,s),t._onScroll=Object(t._onScroll),t._onScroll[e.instance.$.uid]={handler:r,options:s,target:n?void 0:a})}function cD(t,e){var r;if(!((r=t._onScroll)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:i,target:s=t}=t._onScroll[e.instance.$.uid];s.removeEventListener("scroll",n,i),delete t._onScroll[e.instance.$.uid]}function tse(t,e){e.value!==e.oldValue&&(cD(t,e),lD(t,e))}const nse={mounted:lD,unmounted:cD,updated:tse};function ise(t,e){const n=typeof t=="string"?Ia(t):t,i=sse(n,e);return{mounted:i,updated:i,unmounted(s){Qb(null,s)}}}function sse(t,e){return function(n,i,s){var d,h,f;const r=typeof e=="function"?e(i):e,a=((d=i.value)==null?void 0:d.text)??i.value??(r==null?void 0:r.text),o=Ux(i.value)?i.value:{},l=()=>a??n.textContent,c=(s.ctx===i.instance.$?(h=rse(s,i.instance.$))==null?void 0:h.provides:(f=s.ctx)==null?void 0:f.provides)??i.instance.$.provides,u=cs(t,Se(r,o),l);u.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:c}),Qb(u,n)}}function rse(t,e){const n=new Set,i=r=>{var a,o;for(const l of r){if(!l)continue;if(l===t||l.el&&t.el&&l.el===t.el)return!0;n.add(l);let c;if(l.suspense?c=i([l.ssContent]):Array.isArray(l.children)?c=i(l.children):(a=l.component)!=null&&a.vnode&&(c=i([(o=l.component)==null?void 0:o.subTree])),c)return c;n.delete(l)}return!1};if(!i([e.subTree]))return e;const s=Array.from(n).reverse();for(const r of s)if(r.component)return r.component;return e}const ase=ise(aD,t=>{var e;return{activator:"parent",location:(e=t.arg)==null?void 0:e.replace("-"," "),text:typeof t.value=="boolean"?void 0:t.value}}),ose=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:NL,Intersect:Sh,Mutate:Zie,Resize:ese,Ripple:ha,Scroll:nse,Tooltip:ase,Touch:bw},Symbol.toStringTag,{value:"Module"})),lse=F2({components:qie,directives:ose});VO(V7).use(lse).use(Mq).mount("#app");
