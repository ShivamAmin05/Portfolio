(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Hf(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Yt={},El=[],Nr=()=>{},GI=()=>!1,WI=/^on[^a-z]/,Gf=t=>WI.test(t),Qy=t=>t.startsWith("onUpdate:"),En=Object.assign,e0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},$I=Object.prototype.hasOwnProperty,Lt=(t,e)=>$I.call(t,e),Qe=Array.isArray,Cl=t=>$f(t)==="[object Map]",wM=t=>$f(t)==="[object Set]",ct=t=>typeof t=="function",bn=t=>typeof t=="string",Wf=t=>typeof t=="symbol",Qt=t=>t!==null&&typeof t=="object",t0=t=>(Qt(t)||ct(t))&&ct(t.then)&&ct(t.catch),SM=Object.prototype.toString,$f=t=>SM.call(t),jI=t=>$f(t).slice(8,-1),MM=t=>$f(t)==="[object Object]",n0=t=>bn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gh=Hf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},XI=/-(\w)/g,dr=jf(t=>t.replace(XI,(e,n)=>n?n.toUpperCase():"")),qI=/\B([A-Z])/g,ic=jf(t=>t.replace(qI,"-$1").toLowerCase()),Kr=jf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Em=jf(t=>t?`on${Kr(t)}`:""),go=(t,e)=>!Object.is(t,e),Wh=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},hf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},$v=t=>{const e=parseFloat(t);return isNaN(e)?t:e},EM=t=>{const e=bn(t)?Number(t):NaN;return isNaN(e)?t:e};let cx;const jv=()=>cx||(cx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xf(t){if(Qe(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=bn(i)?JI(i):Xf(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(bn(t)||Qt(t))return t}const YI=/;(?![^(]*\))/g,KI=/:([^]+)/,ZI=/\/\*[^]*?\*\//g;function JI(t){const e={};return t.replace(ZI,"").split(YI).forEach(n=>{if(n){const i=n.split(KI);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function qf(t){let e="";if(bn(t))e=t;else if(Qe(t))for(let n=0;n<t.length;n++){const i=qf(t[n]);i&&(e+=i+" ")}else if(Qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const QI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",e2=Hf(QI),t2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",n2=Hf(t2);function CM(t){return!!t||t===""}const i2=t=>bn(t)?t:t==null?"":Qe(t)||Qt(t)&&(t.toString===SM||!ct(t.toString))?JSON.stringify(t,AM,2):String(t),AM=(t,e)=>e&&e.__v_isRef?AM(t,e.value):Cl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:wM(e)?{[`Set(${e.size})`]:[...e.values()]}:Qt(e)&&!Qe(e)&&!MM(e)?String(e):e;let Vi;class TM{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vi,!e&&Vi&&(this.index=(Vi.scopes||(Vi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Vi;try{return Vi=this,e()}finally{Vi=n}}}on(){Vi=this}off(){Vi=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function i0(t){return new TM(t)}function r2(t,e=Vi){e&&e.active&&e.effects.push(t)}function r0(){return Vi}function zn(t){Vi&&Vi.cleanups.push(t)}const s0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},PM=t=>(t.w&ha)>0,RM=t=>(t.n&ha)>0,s2=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ha},a2=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];PM(r)&&!RM(r)?r.delete(t):e[n++]=r,r.w&=~ha,r.n&=~ha}e.length=n}},ff=new WeakMap;let Gc=0,ha=1;const Xv=30;let _r;const co=Symbol(""),qv=Symbol("");class a0{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,r2(this,i)}run(){if(!this.active)return this.fn();let e=_r,n=sa;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=_r,_r=this,sa=!0,ha=1<<++Gc,Gc<=Xv?s2(this):ux(this),this.fn()}finally{Gc<=Xv&&a2(this),ha=1<<--Gc,_r=this.parent,sa=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_r===this?this.deferStop=!0:this.active&&(ux(this),this.onStop&&this.onStop(),this.active=!1)}}function ux(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let sa=!0;const LM=[];function rc(){LM.push(sa),sa=!1}function sc(){const t=LM.pop();sa=t===void 0?!0:t}function Ri(t,e,n){if(sa&&_r){let i=ff.get(t);i||ff.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=s0()),IM(r)}}function IM(t,e){let n=!1;Gc<=Xv?RM(t)||(t.n|=ha,n=!PM(t)):n=!t.has(_r),n&&(t.add(_r),_r.deps.push(t))}function _s(t,e,n,i,r,s){const a=ff.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&Qe(t)){const l=Number(i);a.forEach((c,u)=>{(u==="length"||!Wf(u)&&u>=l)&&o.push(c)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":Qe(t)?n0(n)&&o.push(a.get("length")):(o.push(a.get(co)),Cl(t)&&o.push(a.get(qv)));break;case"delete":Qe(t)||(o.push(a.get(co)),Cl(t)&&o.push(a.get(qv)));break;case"set":Cl(t)&&o.push(a.get(co));break}if(o.length===1)o[0]&&Yv(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);Yv(s0(l))}}function Yv(t,e){const n=Qe(t)?t:[...t];for(const i of n)i.computed&&dx(i);for(const i of n)i.computed||dx(i)}function dx(t,e){(t!==_r||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function o2(t,e){var n;return(n=ff.get(t))==null?void 0:n.get(e)}const l2=Hf("__proto__,__v_isRef,__isVue"),kM=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Wf)),hx=c2();function c2(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=dt(this);for(let s=0,a=this.length;s<a;s++)Ri(i,"get",s+"");const r=i[e](...n);return r===-1||r===!1?i[e](...n.map(dt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){rc();const i=dt(this)[e].apply(this,n);return sc(),i}}),t}function u2(t){const e=dt(this);return Ri(e,"has",t),e.hasOwnProperty(t)}class DM{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const r=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&i===(r?s?S2:FM:s?NM:VM).get(e))return e;const a=Qe(e);if(!r){if(a&&Lt(hx,n))return Reflect.get(hx,n,i);if(n==="hasOwnProperty")return u2}const o=Reflect.get(e,n,i);return(Wf(n)?kM.has(n):l2(n))||(r||Ri(e,"get",n),s)?o:Zt(o)?a&&n0(n)?o:o.value:Qt(o)?r?Lo(o):Sn(o):o}}class OM extends DM{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(Nl(s)&&Zt(s)&&!Zt(i))return!1;if(!this._shallow&&(!pf(i)&&!Nl(i)&&(s=dt(s),i=dt(i)),!Qe(e)&&Zt(s)&&!Zt(i)))return s.value=i,!0;const a=Qe(e)&&n0(n)?Number(n)<e.length:Lt(e,n),o=Reflect.set(e,n,i,r);return e===dt(r)&&(a?go(i,s)&&_s(e,"set",n,i):_s(e,"add",n,i)),o}deleteProperty(e,n){const i=Lt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&_s(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Wf(n)||!kM.has(n))&&Ri(e,"has",n),i}ownKeys(e){return Ri(e,"iterate",Qe(e)?"length":co),Reflect.ownKeys(e)}}class d2 extends DM{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const h2=new OM,f2=new d2,p2=new OM(!0),o0=t=>t,Yf=t=>Reflect.getPrototypeOf(t);function Id(t,e,n=!1,i=!1){t=t.__v_raw;const r=dt(t),s=dt(e);n||(go(e,s)&&Ri(r,"get",e),Ri(r,"get",s));const{has:a}=Yf(r),o=i?o0:n?u0:lu;if(a.call(r,e))return o(t.get(e));if(a.call(r,s))return o(t.get(s));t!==r&&t.get(e)}function kd(t,e=!1){const n=this.__v_raw,i=dt(n),r=dt(t);return e||(go(t,r)&&Ri(i,"has",t),Ri(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Dd(t,e=!1){return t=t.__v_raw,!e&&Ri(dt(t),"iterate",co),Reflect.get(t,"size",t)}function fx(t){t=dt(t);const e=dt(this);return Yf(e).has.call(e,t)||(e.add(t),_s(e,"add",t,t)),this}function px(t,e){e=dt(e);const n=dt(this),{has:i,get:r}=Yf(n);let s=i.call(n,t);s||(t=dt(t),s=i.call(n,t));const a=r.call(n,t);return n.set(t,e),s?go(e,a)&&_s(n,"set",t,e):_s(n,"add",t,e),this}function mx(t){const e=dt(this),{has:n,get:i}=Yf(e);let r=n.call(e,t);r||(t=dt(t),r=n.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return r&&_s(e,"delete",t,void 0),s}function vx(){const t=dt(this),e=t.size!==0,n=t.clear();return e&&_s(t,"clear",void 0,void 0),n}function Od(t,e){return function(i,r){const s=this,a=s.__v_raw,o=dt(a),l=e?o0:t?u0:lu;return!t&&Ri(o,"iterate",co),a.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function Vd(t,e,n){return function(...i){const r=this.__v_raw,s=dt(r),a=Cl(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=r[t](...i),u=n?o0:e?u0:lu;return!e&&Ri(s,"iterate",l?qv:co),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:o?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Bs(t){return function(...e){return t==="delete"?!1:this}}function m2(){const t={get(s){return Id(this,s)},get size(){return Dd(this)},has:kd,add:fx,set:px,delete:mx,clear:vx,forEach:Od(!1,!1)},e={get(s){return Id(this,s,!1,!0)},get size(){return Dd(this)},has:kd,add:fx,set:px,delete:mx,clear:vx,forEach:Od(!1,!0)},n={get(s){return Id(this,s,!0)},get size(){return Dd(this,!0)},has(s){return kd.call(this,s,!0)},add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear"),forEach:Od(!0,!1)},i={get(s){return Id(this,s,!0,!0)},get size(){return Dd(this,!0)},has(s){return kd.call(this,s,!0)},add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear"),forEach:Od(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Vd(s,!1,!1),n[s]=Vd(s,!0,!1),e[s]=Vd(s,!1,!0),i[s]=Vd(s,!0,!0)}),[t,n,e,i]}const[v2,g2,y2,b2]=m2();function l0(t,e){const n=e?t?b2:y2:t?g2:v2;return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(Lt(n,r)&&r in i?n:i,r,s)}const _2={get:l0(!1,!1)},x2={get:l0(!1,!0)},w2={get:l0(!0,!1)},VM=new WeakMap,NM=new WeakMap,FM=new WeakMap,S2=new WeakMap;function M2(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function E2(t){return t.__v_skip||!Object.isExtensible(t)?0:M2(jI(t))}function Sn(t){return Nl(t)?t:c0(t,!1,h2,_2,VM)}function C2(t){return c0(t,!1,p2,x2,NM)}function Lo(t){return c0(t,!0,f2,w2,FM)}function c0(t,e,n,i,r){if(!Qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const a=E2(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return r.set(t,o),o}function Al(t){return Nl(t)?Al(t.__v_raw):!!(t&&t.__v_isReactive)}function Nl(t){return!!(t&&t.__v_isReadonly)}function pf(t){return!!(t&&t.__v_isShallow)}function BM(t){return Al(t)||Nl(t)}function dt(t){const e=t&&t.__v_raw;return e?dt(e):t}function UM(t){return hf(t,"__v_skip",!0),t}const lu=t=>Qt(t)?Sn(t):t,u0=t=>Qt(t)?Lo(t):t;function d0(t){sa&&_r&&(t=dt(t),IM(t.dep||(t.dep=s0())))}function h0(t,e){t=dt(t);const n=t.dep;n&&Yv(n)}function Zt(t){return!!(t&&t.__v_isRef===!0)}function he(t){return zM(t,!1)}function Le(t){return zM(t,!0)}function zM(t,e){return Zt(t)?t:new A2(t,e)}class A2{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:dt(e),this._value=n?e:lu(e)}get value(){return d0(this),this._value}set value(e){const n=this.__v_isShallow||pf(e)||Nl(e);e=n?e:dt(e),go(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:lu(e),h0(this))}}function Ye(t){return Zt(t)?t.value:t}const T2={get:(t,e,n)=>Ye(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Zt(r)&&!Zt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function HM(t){return Al(t)?t:new Proxy(t,T2)}class P2{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:i}=e(()=>d0(this),()=>h0(this));this._get=n,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function R2(t){return new P2(t)}function Io(t){const e=Qe(t)?new Array(t.length):{};for(const n in t)e[n]=GM(t,n);return e}class L2{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return o2(dt(this._object),this._key)}}class I2{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function me(t,e,n){return Zt(t)?t:ct(t)?new I2(t):Qt(t)&&arguments.length>1?GM(t,e,n):he(t)}function GM(t,e,n){const i=t[e];return Zt(i)?i:new L2(t,e,n)}class k2{constructor(e,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new a0(e,()=>{this._dirty||(this._dirty=!0,h0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=dt(this);return d0(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function D2(t,e,n=!1){let i,r;const s=ct(t);return s?(i=t,r=Nr):(i=t.get,r=t.set),new k2(i,r,s||!r,n)}function aa(t,e,n,i){let r;try{r=i?t(...i):t()}catch(s){Ku(s,e,n)}return r}function ur(t,e,n,i){if(ct(t)){const s=aa(t,e,n,i);return s&&t0(s)&&s.catch(a=>{Ku(a,e,n)}),s}const r=[];for(let s=0;s<t.length;s++)r.push(ur(t[s],e,n,i));return r}function Ku(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=n;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){aa(l,null,10,[t,a,o]);return}}O2(t,n,r,i)}function O2(t,e,n,i=!0){console.error(t)}let cu=!1,Kv=!1;const Jn=[];let Lr=0;const Tl=[];let fs=null,Za=0;const WM=Promise.resolve();let f0=null;function Pt(t){const e=f0||WM;return t?e.then(this?t.bind(this):t):e}function V2(t){let e=Lr+1,n=Jn.length;for(;e<n;){const i=e+n>>>1,r=Jn[i],s=uu(r);s<t||s===t&&r.pre?e=i+1:n=i}return e}function p0(t){(!Jn.length||!Jn.includes(t,cu&&t.allowRecurse?Lr+1:Lr))&&(t.id==null?Jn.push(t):Jn.splice(V2(t.id),0,t),$M())}function $M(){!cu&&!Kv&&(Kv=!0,f0=WM.then(XM))}function N2(t){const e=Jn.indexOf(t);e>Lr&&Jn.splice(e,1)}function Zv(t){Qe(t)?Tl.push(...t):(!fs||!fs.includes(t,t.allowRecurse?Za+1:Za))&&Tl.push(t),$M()}function gx(t,e=cu?Lr+1:0){for(;e<Jn.length;e++){const n=Jn[e];n&&n.pre&&(Jn.splice(e,1),e--,n())}}function jM(t){if(Tl.length){const e=[...new Set(Tl)];if(Tl.length=0,fs){fs.push(...e);return}for(fs=e,fs.sort((n,i)=>uu(n)-uu(i)),Za=0;Za<fs.length;Za++)fs[Za]();fs=null,Za=0}}const uu=t=>t.id==null?1/0:t.id,F2=(t,e)=>{const n=uu(t)-uu(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function XM(t){Kv=!1,cu=!0,Jn.sort(F2);try{for(Lr=0;Lr<Jn.length;Lr++){const e=Jn[Lr];e&&e.active!==!1&&aa(e,null,14)}}finally{Lr=0,Jn.length=0,jM(),cu=!1,f0=null,(Jn.length||Tl.length)&&XM()}}function B2(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Yt;let r=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const u=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:h}=i[u]||Yt;h&&(r=n.map(f=>bn(f)?f.trim():f)),d&&(r=n.map($v))}let o,l=i[o=Em(e)]||i[o=Em(dr(e))];!l&&s&&(l=i[o=Em(ic(e))]),l&&ur(l,t,6,r);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,ur(c,t,6,r)}}function qM(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let a={},o=!1;if(!ct(t)){const l=c=>{const u=qM(c,e,!0);u&&(o=!0,En(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Qt(t)&&i.set(t,null),null):(Qe(s)?s.forEach(l=>a[l]=null):En(a,s),Qt(t)&&i.set(t,a),a)}function Kf(t,e){return!t||!Gf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Lt(t,e[0].toLowerCase()+e.slice(1))||Lt(t,ic(e))||Lt(t,e))}let zi=null,YM=null;function mf(t){const e=zi;return zi=t,YM=t&&t.type.__scopeId||null,e}function Jv(t,e=zi,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Lx(-1);const s=mf(e);let a;try{a=t(...r)}finally{mf(s),i._d&&Lx(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Cm(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[a],slots:o,attrs:l,emit:c,render:u,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=t;let m,v;const x=mf(t);try{if(n.shapeFlag&4){const b=r||i;m=br(u.call(b,b,d,s,f,h,p)),v=l}else{const b=e;m=br(b.length>1?b(s,{attrs:l,slots:o,emit:c}):b(s,null)),v=e.props?l:z2(l)}}catch(b){Kc.length=0,Ku(b,t,1),m=C(Ai)}let y=m;if(v&&g!==!1){const b=Object.keys(v),{shapeFlag:A}=y;b.length&&A&7&&(a&&b.some(Qy)&&(v=H2(v,a)),y=Ms(y,v))}return n.dirs&&(y=Ms(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),m=y,mf(x),m}function U2(t){let e;for(let n=0;n<t.length;n++){const i=t[n];if(pu(i)){if(i.type!==Ai||i.children==="v-if"){if(e)return;e=i}}else return}return e}const z2=t=>{let e;for(const n in t)(n==="class"||n==="style"||Gf(n))&&((e||(e={}))[n]=t[n]);return e},H2=(t,e)=>{const n={};for(const i in t)(!Qy(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function G2(t,e,n){const{props:i,children:r,component:s}=t,{props:a,children:o,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?yx(i,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(a[h]!==i[h]&&!Kf(c,h))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?yx(i,a,c):!0:!!a;return!1}function yx(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!Kf(n,s))return!0}return!1}function m0({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const v0="components",W2="directives";function $2(t,e){return g0(v0,t,!0,e)||t}const KM=Symbol.for("v-ndc");function j2(t){return bn(t)?g0(v0,t,!1)||t:t||KM}function qn(t){return g0(W2,t)}function g0(t,e,n=!0,i=!1){const r=zi||Fn;if(r){const s=r.type;if(t===v0){const o=Uk(s,!1);if(o&&(o===e||o===dr(e)||o===Kr(dr(e))))return s}const a=bx(r[t]||s[t],e)||bx(r.appContext[t],e);return!a&&i?s:a}}function bx(t,e){return t&&(t[e]||t[dr(e)]||t[Kr(dr(e))])}const X2=t=>t.__isSuspense,q2={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,a,o,l,c){t==null?K2(e,n,i,r,s,a,o,l,c):Z2(t,e,n,i,r,a,o,l,c)},hydrate:J2,create:y0,normalize:Q2},Y2=q2;function du(t,e){const n=t.props&&t.props[e];ct(n)&&n()}function K2(t,e,n,i,r,s,a,o,l){const{p:c,o:{createElement:u}}=l,d=u("div"),h=t.suspense=y0(t,r,i,e,d,n,s,a,o,l);c(null,h.pendingBranch=t.ssContent,d,null,i,h,s,a),h.deps>0?(du(t,"onPending"),du(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,s,a),Pl(h,t.ssFallback)):h.resolve(!1,!0)}function Z2(t,e,n,i,r,s,a,o,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:v}=d;if(g)d.pendingBranch=h,Ir(h,g)?(l(g,h,d.hiddenContainer,null,r,d,s,a,o),d.deps<=0?d.resolve():m&&(l(p,f,n,i,r,null,s,a,o),Pl(d,f))):(d.pendingId++,v?(d.isHydrating=!1,d.activeBranch=g):c(g,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),m?(l(null,h,d.hiddenContainer,null,r,d,s,a,o),d.deps<=0?d.resolve():(l(p,f,n,i,r,null,s,a,o),Pl(d,f))):p&&Ir(h,p)?(l(p,h,n,i,r,d,s,a,o),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,r,d,s,a,o),d.deps<=0&&d.resolve()));else if(p&&Ir(h,p))l(p,h,n,i,r,d,s,a,o),Pl(d,h);else if(du(e,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,r,d,s,a,o),d.deps<=0)d.resolve();else{const{timeout:x,pendingId:y}=d;x>0?setTimeout(()=>{d.pendingId===y&&d.fallback(f)},x):x===0&&d.fallback(f)}}function y0(t,e,n,i,r,s,a,o,l,c,u=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:g,remove:m}}=c;let v;const x=tk(t);x&&e!=null&&e.pendingBranch&&(v=e.pendingId,e.deps++);const y=t.props?EM(t.props.timeout):void 0,b={vnode:t,parent:e,parentComponent:n,isSVG:a,container:i,hiddenContainer:r,anchor:s,deps:0,pendingId:0,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(A=!1,M=!1){const{vnode:E,activeBranch:S,pendingBranch:_,pendingId:w,effects:P,parentComponent:R,container:N}=b;let k=!1;if(b.isHydrating)b.isHydrating=!1;else if(!A){k=S&&_.transition&&_.transition.mode==="out-in",k&&(S.transition.afterLeave=()=>{w===b.pendingId&&(h(_,N,j,0),Zv(P))});let{anchor:j}=b;S&&(j=p(S),f(S,R,b,!0)),k||h(_,N,j,0)}Pl(b,_),b.pendingBranch=null,b.isInFallback=!1;let z=b.parent,F=!1;for(;z;){if(z.pendingBranch){z.effects.push(...P),F=!0;break}z=z.parent}!F&&!k&&Zv(P),b.effects=[],x&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!M&&e.resolve()),du(E,"onResolve")},fallback(A){if(!b.pendingBranch)return;const{vnode:M,activeBranch:E,parentComponent:S,container:_,isSVG:w}=b;du(M,"onFallback");const P=p(E),R=()=>{b.isInFallback&&(d(null,A,_,P,S,null,w,o,l),Pl(b,A))},N=A.transition&&A.transition.mode==="out-in";N&&(E.transition.afterLeave=R),b.isInFallback=!0,f(E,S,null,!0),N||R()},move(A,M,E){b.activeBranch&&h(b.activeBranch,A,M,E),b.container=A},next(){return b.activeBranch&&p(b.activeBranch)},registerDep(A,M){const E=!!b.pendingBranch;E&&b.deps++;const S=A.vnode.el;A.asyncDep.catch(_=>{Ku(_,A,0)}).then(_=>{if(A.isUnmounted||b.isUnmounted||b.pendingId!==A.suspenseId)return;A.asyncResolved=!0;const{vnode:w}=A;ag(A,_,!1),S&&(w.el=S);const P=!S&&A.subTree.el;M(A,w,g(S||A.subTree.el),S?null:p(A.subTree),b,a,l),P&&m(P),m0(A,w.el),E&&--b.deps===0&&b.resolve()})},unmount(A,M){b.isUnmounted=!0,b.activeBranch&&f(b.activeBranch,n,A,M),b.pendingBranch&&f(b.pendingBranch,n,A,M)}};return b}function J2(t,e,n,i,r,s,a,o,l){const c=e.suspense=y0(e,i,n,t.parentNode,document.createElement("div"),null,r,s,a,o,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,s,a);return c.deps===0&&c.resolve(!1,!0),u}function Q2(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=_x(i?n.default:n),t.ssFallback=i?_x(n.fallback):C(Ai)}function _x(t){let e;if(ct(t)){const n=Fl&&t._c;n&&(t._d=!1,Qn()),t=t(),n&&(t._d=!0,e=ir,mE())}return Qe(t)&&(t=U2(t)),t=br(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function ek(t,e){e&&e.pendingBranch?Qe(t)?e.effects.push(...t):e.effects.push(t):Zv(t)}function Pl(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t,r=n.el=e.el;i&&i.subTree===n&&(i.vnode.el=r,m0(i,r))}function tk(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function Jt(t,e){return b0(t,null,e)}const Nd={};function Re(t,e,n){return b0(t,e,n)}function b0(t,e,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:a}=Yt){var o;const l=r0()===((o=Fn)==null?void 0:o.scope)?Fn:null;let c,u=!1,d=!1;if(Zt(t)?(c=()=>t.value,u=pf(t)):Al(t)?(c=()=>t,i=!0):Qe(t)?(d=!0,u=t.some(b=>Al(b)||pf(b)),c=()=>t.map(b=>{if(Zt(b))return b.value;if(Al(b))return eo(b);if(ct(b))return aa(b,l,2)})):ct(t)?e?c=()=>aa(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),ur(t,l,3,[f])}:c=Nr,e&&i){const b=c;c=()=>eo(b())}let h,f=b=>{h=x.onStop=()=>{aa(b,l,4)}},p;if(mu)if(f=Nr,e?n&&ur(e,l,3,[c(),d?[]:void 0,f]):c(),r==="sync"){const b=Gk();p=b.__watcherHandles||(b.__watcherHandles=[])}else return Nr;let g=d?new Array(t.length).fill(Nd):Nd;const m=()=>{if(x.active)if(e){const b=x.run();(i||u||(d?b.some((A,M)=>go(A,g[M])):go(b,g)))&&(h&&h(),ur(e,l,3,[b,g===Nd?void 0:d&&g[0]===Nd?[]:g,f]),g=b)}else x.run()};m.allowRecurse=!!e;let v;r==="sync"?v=m:r==="post"?v=()=>_i(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),v=()=>p0(m));const x=new a0(c,v);e?n?m():g=x.run():r==="post"?_i(x.run.bind(x),l&&l.suspense):x.run();const y=()=>{x.stop(),l&&l.scope&&e0(l.scope.effects,x)};return p&&p.push(y),y}function nk(t,e,n){const i=this.proxy,r=bn(t)?t.includes(".")?ZM(i,t):()=>i[t]:t.bind(i,i);let s;ct(e)?s=e:(s=e.handler,n=e);const a=Fn;fa(this);const o=b0(r,s.bind(i),n);return a?fa(a):oa(),o}function ZM(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function eo(t,e){if(!Qt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Zt(t))eo(t.value,e);else if(Qe(t))for(let n=0;n<t.length;n++)eo(t[n],e);else if(wM(t)||Cl(t))t.forEach(n=>{eo(n,e)});else if(MM(t))for(const n in t)eo(t[n],e);return t}function St(t,e){const n=zi;if(n===null)return t;const i=tp(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,l,c=Yt]=e[s];a&&(ct(a)&&(a={mounted:a,updated:a}),a.deep&&eo(o),r.push({dir:a,instance:i,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function Ra(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let l=o.dir[i];l&&(rc(),ur(l,n,8,[t.el,o,t,e]),sc())}}const Qs=Symbol("_leaveCb"),Fd=Symbol("_enterCb");function JM(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vn(()=>{t.isMounted=!0}),ni(()=>{t.isUnmounting=!0}),t}const Zi=[Function,Array],QM={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zi,onEnter:Zi,onAfterEnter:Zi,onEnterCancelled:Zi,onBeforeLeave:Zi,onLeave:Zi,onAfterLeave:Zi,onLeaveCancelled:Zi,onBeforeAppear:Zi,onAppear:Zi,onAfterAppear:Zi,onAppearCancelled:Zi},ik={name:"BaseTransition",props:QM,setup(t,{slots:e}){const n=Ur(),i=JM();let r;return()=>{const s=e.default&&_0(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const g of s)if(g.type!==Ai){a=g;break}}const o=dt(t),{mode:l}=o;if(i.isLeaving)return Am(a);const c=xx(a);if(!c)return Am(a);const u=hu(c,o,i,n);fu(c,u);const d=n.subTree,h=d&&xx(d);let f=!1;const{getTransitionKey:p}=c.type;if(p){const g=p();r===void 0?r=g:g!==r&&(r=g,f=!0)}if(h&&h.type!==Ai&&(!Ir(c,h)||f)){const g=hu(h,o,i,n);if(fu(h,g),l==="out-in")return i.isLeaving=!0,g.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Am(a);l==="in-out"&&c.type!==Ai&&(g.delayLeave=(m,v,x)=>{const y=eE(i,h);y[String(h.key)]=h,m[Qs]=()=>{v(),m[Qs]=void 0,delete u.delayedLeave},u.delayedLeave=x})}return a}}},rk=ik;function eE(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function hu(t,e,n,i){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:x}=e,y=String(t.key),b=eE(n,t),A=(S,_)=>{S&&ur(S,i,9,_)},M=(S,_)=>{const w=_[1];A(S,_),Qe(S)?S.every(P=>P.length<=1)&&w():S.length<=1&&w()},E={mode:s,persisted:a,beforeEnter(S){let _=o;if(!n.isMounted)if(r)_=g||o;else return;S[Qs]&&S[Qs](!0);const w=b[y];w&&Ir(t,w)&&w.el[Qs]&&w.el[Qs](),A(_,[S])},enter(S){let _=l,w=c,P=u;if(!n.isMounted)if(r)_=m||l,w=v||c,P=x||u;else return;let R=!1;const N=S[Fd]=k=>{R||(R=!0,k?A(P,[S]):A(w,[S]),E.delayedLeave&&E.delayedLeave(),S[Fd]=void 0)};_?M(_,[S,N]):N()},leave(S,_){const w=String(t.key);if(S[Fd]&&S[Fd](!0),n.isUnmounting)return _();A(d,[S]);let P=!1;const R=S[Qs]=N=>{P||(P=!0,_(),N?A(p,[S]):A(f,[S]),S[Qs]=void 0,b[w]===t&&delete b[w])};b[w]=t,h?M(h,[S,R]):R()},clone(S){return hu(S,e,n,i)}};return E}function Am(t){if(Zf(t))return t=Ms(t),t.children=null,t}function xx(t){return Zf(t)?t.children?t.children[0]:void 0:t}function fu(t,e){t.shapeFlag&6&&t.component?fu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _0(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===je?(a.patchFlag&128&&r++,i=i.concat(_0(a.children,e,o))):(e||a.type!==Ai)&&i.push(o!=null?Ms(a,{key:o}):a)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function yo(t,e){return ct(t)?(()=>En({name:t.name},e,{setup:t}))():t}const $h=t=>!!t.type.__asyncLoader,Zf=t=>t.type.__isKeepAlive;function tE(t,e){iE(t,"a",e)}function nE(t,e){iE(t,"da",e)}function iE(t,e,n=Fn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Jf(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Zf(r.parent.vnode)&&sk(i,e,n,r),r=r.parent}}function sk(t,e,n,i){const r=Jf(e,t,i,!0);Zr(()=>{e0(i[e],r)},n)}function Jf(t,e,n=Fn,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;rc(),fa(n);const o=ur(e,n,t,a);return oa(),sc(),o});return i?r.unshift(s):r.push(s),s}}const Is=t=>(e,n=Fn)=>(!mu||t==="sp")&&Jf(t,(...i)=>e(...i),n),Qf=Is("bm"),vn=Is("m"),rE=Is("bu"),x0=Is("u"),ni=Is("bum"),Zr=Is("um"),ak=Is("sp"),ok=Is("rtg"),lk=Is("rtc");function ck(t,e=Fn){Jf("ec",t,e)}const Qv=t=>t?bE(t)?tp(t)||t.proxy:Qv(t.parent):null,qc=En(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qv(t.parent),$root:t=>Qv(t.root),$emit:t=>t.emit,$options:t=>S0(t),$forceUpdate:t=>t.f||(t.f=()=>p0(t.update)),$nextTick:t=>t.n||(t.n=Pt.bind(t.proxy)),$watch:t=>nk.bind(t)}),Tm=(t,e)=>t!==Yt&&!t.__isScriptSetup&&Lt(t,e),uk={get({_:t},e){const{ctx:n,setupState:i,data:r,props:s,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(Tm(i,e))return a[e]=1,i[e];if(r!==Yt&&Lt(r,e))return a[e]=2,r[e];if((c=t.propsOptions[0])&&Lt(c,e))return a[e]=3,s[e];if(n!==Yt&&Lt(n,e))return a[e]=4,n[e];eg&&(a[e]=0)}}const u=qc[e];let d,h;if(u)return e==="$attrs"&&Ri(t,"get",e),u(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==Yt&&Lt(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,Lt(h,e))return h[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return Tm(r,e)?(r[e]=n,!0):i!==Yt&&Lt(i,e)?(i[e]=n,!0):Lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},a){let o;return!!n[a]||t!==Yt&&Lt(t,a)||Tm(e,a)||(o=s[0])&&Lt(o,a)||Lt(i,a)||Lt(qc,a)||Lt(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function w0(){return sE().slots}function dk(){return sE().attrs}function sE(){const t=Ur();return t.setupContext||(t.setupContext=xE(t))}function wx(t){return Qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function hk(t){const e=Ur();let n=t();return oa(),t0(n)&&(n=n.catch(i=>{throw fa(e),i})),[n,()=>fa(e)]}let eg=!0;function fk(t){const e=S0(t),n=t.proxy,i=t.ctx;eg=!1,e.beforeCreate&&Sx(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:x,destroyed:y,unmounted:b,render:A,renderTracked:M,renderTriggered:E,errorCaptured:S,serverPrefetch:_,expose:w,inheritAttrs:P,components:R,directives:N,filters:k}=e;if(c&&pk(c,i,null),a)for(const j in a){const X=a[j];ct(X)&&(i[j]=X.bind(n))}if(r){const j=r.call(n,n);Qt(j)&&(t.data=Sn(j))}if(eg=!0,s)for(const j in s){const X=s[j],Z=ct(X)?X.bind(n,n):ct(X.get)?X.get.bind(n,n):Nr,J=!ct(X)&&ct(X.set)?X.set.bind(n):Nr,H=I({get:Z,set:J});Object.defineProperty(i,j,{enumerable:!0,configurable:!0,get:()=>H.value,set:q=>H.value=q})}if(o)for(const j in o)aE(o[j],i,n,j);if(l){const j=ct(l)?l.call(n):l;Reflect.ownKeys(j).forEach(X=>{Ut(X,j[X])})}u&&Sx(u,t,"c");function F(j,X){Qe(X)?X.forEach(Z=>j(Z.bind(n))):X&&j(X.bind(n))}if(F(Qf,d),F(vn,h),F(rE,f),F(x0,p),F(tE,g),F(nE,m),F(ck,S),F(lk,M),F(ok,E),F(ni,x),F(Zr,b),F(ak,_),Qe(w))if(w.length){const j=t.exposed||(t.exposed={});w.forEach(X=>{Object.defineProperty(j,X,{get:()=>n[X],set:Z=>n[X]=Z})})}else t.exposed||(t.exposed={});A&&t.render===Nr&&(t.render=A),P!=null&&(t.inheritAttrs=P),R&&(t.components=R),N&&(t.directives=N)}function pk(t,e,n=Nr){Qe(t)&&(t=tg(t));for(const i in t){const r=t[i];let s;Qt(r)?"default"in r?s=_t(r.from||i,r.default,!0):s=_t(r.from||i):s=_t(r),Zt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function Sx(t,e,n){ur(Qe(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function aE(t,e,n,i){const r=i.includes(".")?ZM(n,i):()=>n[i];if(bn(t)){const s=e[t];ct(s)&&Re(r,s)}else if(ct(t))Re(r,t.bind(n));else if(Qt(t))if(Qe(t))t.forEach(s=>aE(s,e,n,i));else{const s=ct(t.handler)?t.handler.bind(n):e[t.handler];ct(s)&&Re(r,s,t)}}function S0(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>vf(l,c,a,!0)),vf(l,e,a)),Qt(e)&&s.set(e,l),l}function vf(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&vf(t,s,n,!0),r&&r.forEach(a=>vf(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=mk[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const mk={data:Mx,props:Ex,emits:Ex,methods:Wc,computed:Wc,beforeCreate:di,created:di,beforeMount:di,mounted:di,beforeUpdate:di,updated:di,beforeDestroy:di,beforeUnmount:di,destroyed:di,unmounted:di,activated:di,deactivated:di,errorCaptured:di,serverPrefetch:di,components:Wc,directives:Wc,watch:gk,provide:Mx,inject:vk};function Mx(t,e){return e?t?function(){return En(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function vk(t,e){return Wc(tg(t),tg(e))}function tg(t){if(Qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function di(t,e){return t?[...new Set([].concat(t,e))]:e}function Wc(t,e){return t?En(Object.create(null),t,e):e}function Ex(t,e){return t?Qe(t)&&Qe(e)?[...new Set([...t,...e])]:En(Object.create(null),wx(t),wx(e??{})):e}function gk(t,e){if(!t)return e;if(!e)return t;const n=En(Object.create(null),t);for(const i in e)n[i]=di(t[i],e[i]);return n}function oE(){return{app:null,config:{isNativeTag:GI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yk=0;function bk(t,e){return function(i,r=null){ct(i)||(i=En({},i)),r!=null&&!Qt(r)&&(r=null);const s=oE(),a=new WeakSet;let o=!1;const l=s.app={_uid:yk++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Wk,get config(){return s.config},set config(c){},use(c,...u){return a.has(c)||(c&&ct(c.install)?(a.add(c),c.install(l,...u)):ct(c)&&(a.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,d){if(!o){const h=C(i,r);return h.appContext=s,u&&e?e(h,c):t(h,c,d),o=!0,l._container=c,c.__vue_app__=l,tp(h.component)||h.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){gf=l;try{return c()}finally{gf=null}}};return l}}let gf=null;function Ut(t,e){if(Fn){let n=Fn.provides;const i=Fn.parent&&Fn.parent.provides;i===n&&(n=Fn.provides=Object.create(i)),n[t]=e}}function _t(t,e,n=!1){const i=Fn||zi;if(i||gf){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:gf._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ct(e)?e.call(i&&i.proxy):e}}function _k(t,e,n,i=!1){const r={},s={};hf(s,ep,1),t.propsDefaults=Object.create(null),lE(t,e,r,s);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=i?r:C2(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function xk(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:a}}=t,o=dt(r),[l]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Kf(t.emitsOptions,h))continue;const f=e[h];if(l)if(Lt(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const p=dr(h);r[p]=ng(l,o,p,f,t,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{lE(t,e,r,s)&&(c=!0);let u;for(const d in o)(!e||!Lt(e,d)&&((u=ic(d))===d||!Lt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=ng(l,o,d,void 0,t,!0)):delete r[d]);if(s!==o)for(const d in s)(!e||!Lt(e,d))&&(delete s[d],c=!0)}c&&_s(t,"set","$attrs")}function lE(t,e,n,i){const[r,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Gh(l))continue;const c=e[l];let u;r&&Lt(r,u=dr(l))?!s||!s.includes(u)?n[u]=c:(o||(o={}))[u]=c:Kf(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,a=!0)}if(s){const l=dt(n),c=o||Yt;for(let u=0;u<s.length;u++){const d=s[u];n[d]=ng(r,l,d,c[d],t,!Lt(c,d))}}return a}function ng(t,e,n,i,r,s){const a=t[n];if(a!=null){const o=Lt(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ct(l)){const{propsDefaults:c}=r;n in c?i=c[n]:(fa(r),i=c[n]=l.call(null,e),oa())}else i=l}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===ic(n))&&(i=!0))}return i}function cE(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const s=t.props,a={},o=[];let l=!1;if(!ct(t)){const u=d=>{l=!0;const[h,f]=cE(d,e,!0);En(a,h),f&&o.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Qt(t)&&i.set(t,El),El;if(Qe(s))for(let u=0;u<s.length;u++){const d=dr(s[u]);Cx(d)&&(a[d]=Yt)}else if(s)for(const u in s){const d=dr(u);if(Cx(d)){const h=s[u],f=a[d]=Qe(h)||ct(h)?{type:h}:En({},h);if(f){const p=Px(Boolean,f.type),g=Px(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||Lt(f,"default"))&&o.push(d)}}}const c=[a,o];return Qt(t)&&i.set(t,c),c}function Cx(t){return t[0]!=="$"}function Ax(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Tx(t,e){return Ax(t)===Ax(e)}function Px(t,e){return Qe(e)?e.findIndex(n=>Tx(n,t)):ct(e)&&Tx(e,t)?0:-1}const uE=t=>t[0]==="_"||t==="$stable",M0=t=>Qe(t)?t.map(br):[br(t)],wk=(t,e,n)=>{if(e._n)return e;const i=Jv((...r)=>M0(e(...r)),n);return i._c=!1,i},dE=(t,e,n)=>{const i=t._ctx;for(const r in t){if(uE(r))continue;const s=t[r];if(ct(s))e[r]=wk(r,s,i);else if(s!=null){const a=M0(s);e[r]=()=>a}}},hE=(t,e)=>{const n=M0(e);t.slots.default=()=>n},Sk=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=dt(e),hf(e,"_",n)):dE(e,t.slots={})}else t.slots={},e&&hE(t,e);hf(t.slots,ep,1)},Mk=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,a=Yt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(En(r,e),!n&&o===1&&delete r._):(s=!e.$stable,dE(e,r)),a=e}else e&&(hE(t,e),a={default:1});if(s)for(const o in r)!uE(o)&&a[o]==null&&delete r[o]};function ig(t,e,n,i,r=!1){if(Qe(t)){t.forEach((h,f)=>ig(h,e&&(Qe(e)?e[f]:e),n,i,r));return}if($h(i)&&!r)return;const s=i.shapeFlag&4?tp(i.component)||i.component.proxy:i.el,a=r?null:s,{i:o,r:l}=t,c=e&&e.r,u=o.refs===Yt?o.refs={}:o.refs,d=o.setupState;if(c!=null&&c!==l&&(bn(c)?(u[c]=null,Lt(d,c)&&(d[c]=null)):Zt(c)&&(c.value=null)),ct(l))aa(l,o,12,[a,u]);else{const h=bn(l),f=Zt(l);if(h||f){const p=()=>{if(t.f){const g=h?Lt(d,l)?d[l]:u[l]:l.value;r?Qe(g)&&e0(g,s):Qe(g)?g.includes(s)||g.push(s):h?(u[l]=[s],Lt(d,l)&&(d[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else h?(u[l]=a,Lt(d,l)&&(d[l]=a)):f&&(l.value=a,t.k&&(u[t.k]=a))};a?(p.id=-1,_i(p,n)):p()}}}const _i=ek;function fE(t){return Ek(t)}function Ek(t,e){const n=jv();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=Nr,insertStaticContent:p}=t,g=(T,D,V,Y=null,K=null,ie=null,oe=!1,se=null,fe=!!D.dynamicChildren)=>{if(T===D)return;T&&!Ir(T,D)&&(Y=Ae(T),q(T,K,ie,!0),T=null),D.patchFlag===-2&&(fe=!1,D.dynamicChildren=null);const{type:ce,ref:Te,shapeFlag:U}=D;switch(ce){case Zu:m(T,D,V,Y);break;case Ai:v(T,D,V,Y);break;case Pm:T==null&&x(D,V,Y,oe);break;case je:R(T,D,V,Y,K,ie,oe,se,fe);break;default:U&1?A(T,D,V,Y,K,ie,oe,se,fe):U&6?N(T,D,V,Y,K,ie,oe,se,fe):(U&64||U&128)&&ce.process(T,D,V,Y,K,ie,oe,se,fe,L)}Te!=null&&K&&ig(Te,T&&T.ref,ie,D||T,!D)},m=(T,D,V,Y)=>{if(T==null)i(D.el=o(D.children),V,Y);else{const K=D.el=T.el;D.children!==T.children&&c(K,D.children)}},v=(T,D,V,Y)=>{T==null?i(D.el=l(D.children||""),V,Y):D.el=T.el},x=(T,D,V,Y)=>{[T.el,T.anchor]=p(T.children,D,V,Y,T.el,T.anchor)},y=({el:T,anchor:D},V,Y)=>{let K;for(;T&&T!==D;)K=h(T),i(T,V,Y),T=K;i(D,V,Y)},b=({el:T,anchor:D})=>{let V;for(;T&&T!==D;)V=h(T),r(T),T=V;r(D)},A=(T,D,V,Y,K,ie,oe,se,fe)=>{oe=oe||D.type==="svg",T==null?M(D,V,Y,K,ie,oe,se,fe):_(T,D,K,ie,oe,se,fe)},M=(T,D,V,Y,K,ie,oe,se)=>{let fe,ce;const{type:Te,props:U,shapeFlag:O,transition:ne,dirs:we}=T;if(fe=T.el=a(T.type,ie,U&&U.is,U),O&8?u(fe,T.children):O&16&&S(T.children,fe,null,Y,K,ie&&Te!=="foreignObject",oe,se),we&&Ra(T,null,Y,"created"),E(fe,T,T.scopeId,oe,Y),U){for(const Ce in U)Ce!=="value"&&!Gh(Ce)&&s(fe,Ce,null,U[Ce],ie,T.children,Y,K,ae);"value"in U&&s(fe,"value",null,U.value),(ce=U.onVnodeBeforeMount)&&Pr(ce,Y,T)}we&&Ra(T,null,Y,"beforeMount");const ye=Ck(K,ne);ye&&ne.beforeEnter(fe),i(fe,D,V),((ce=U&&U.onVnodeMounted)||ye||we)&&_i(()=>{ce&&Pr(ce,Y,T),ye&&ne.enter(fe),we&&Ra(T,null,Y,"mounted")},K)},E=(T,D,V,Y,K)=>{if(V&&f(T,V),Y)for(let ie=0;ie<Y.length;ie++)f(T,Y[ie]);if(K){let ie=K.subTree;if(D===ie){const oe=K.vnode;E(T,oe,oe.scopeId,oe.slotScopeIds,K.parent)}}},S=(T,D,V,Y,K,ie,oe,se,fe=0)=>{for(let ce=fe;ce<T.length;ce++){const Te=T[ce]=se?ea(T[ce]):br(T[ce]);g(null,Te,D,V,Y,K,ie,oe,se)}},_=(T,D,V,Y,K,ie,oe)=>{const se=D.el=T.el;let{patchFlag:fe,dynamicChildren:ce,dirs:Te}=D;fe|=T.patchFlag&16;const U=T.props||Yt,O=D.props||Yt;let ne;V&&La(V,!1),(ne=O.onVnodeBeforeUpdate)&&Pr(ne,V,D,T),Te&&Ra(D,T,V,"beforeUpdate"),V&&La(V,!0);const we=K&&D.type!=="foreignObject";if(ce?w(T.dynamicChildren,ce,se,V,Y,we,ie):oe||X(T,D,se,null,V,Y,we,ie,!1),fe>0){if(fe&16)P(se,D,U,O,V,Y,K);else if(fe&2&&U.class!==O.class&&s(se,"class",null,O.class,K),fe&4&&s(se,"style",U.style,O.style,K),fe&8){const ye=D.dynamicProps;for(let Ce=0;Ce<ye.length;Ce++){const ze=ye[Ce],ke=U[ze],He=O[ze];(He!==ke||ze==="value")&&s(se,ze,ke,He,K,T.children,V,Y,ae)}}fe&1&&T.children!==D.children&&u(se,D.children)}else!oe&&ce==null&&P(se,D,U,O,V,Y,K);((ne=O.onVnodeUpdated)||Te)&&_i(()=>{ne&&Pr(ne,V,D,T),Te&&Ra(D,T,V,"updated")},Y)},w=(T,D,V,Y,K,ie,oe)=>{for(let se=0;se<D.length;se++){const fe=T[se],ce=D[se],Te=fe.el&&(fe.type===je||!Ir(fe,ce)||fe.shapeFlag&70)?d(fe.el):V;g(fe,ce,Te,null,Y,K,ie,oe,!0)}},P=(T,D,V,Y,K,ie,oe)=>{if(V!==Y){if(V!==Yt)for(const se in V)!Gh(se)&&!(se in Y)&&s(T,se,V[se],null,oe,D.children,K,ie,ae);for(const se in Y){if(Gh(se))continue;const fe=Y[se],ce=V[se];fe!==ce&&se!=="value"&&s(T,se,ce,fe,oe,D.children,K,ie,ae)}"value"in Y&&s(T,"value",V.value,Y.value)}},R=(T,D,V,Y,K,ie,oe,se,fe)=>{const ce=D.el=T?T.el:o(""),Te=D.anchor=T?T.anchor:o("");let{patchFlag:U,dynamicChildren:O,slotScopeIds:ne}=D;ne&&(se=se?se.concat(ne):ne),T==null?(i(ce,V,Y),i(Te,V,Y),S(D.children,V,Te,K,ie,oe,se,fe)):U>0&&U&64&&O&&T.dynamicChildren?(w(T.dynamicChildren,O,V,K,ie,oe,se),(D.key!=null||K&&D===K.subTree)&&E0(T,D,!0)):X(T,D,V,Te,K,ie,oe,se,fe)},N=(T,D,V,Y,K,ie,oe,se,fe)=>{D.slotScopeIds=se,T==null?D.shapeFlag&512?K.ctx.activate(D,V,Y,oe,fe):k(D,V,Y,K,ie,oe,fe):z(T,D,fe)},k=(T,D,V,Y,K,ie,oe)=>{const se=T.component=Vk(T,Y,K);if(Zf(T)&&(se.ctx.renderer=L),Nk(se),se.asyncDep){if(K&&K.registerDep(se,F),!T.el){const fe=se.subTree=C(Ai);v(null,fe,D,V)}return}F(se,T,D,V,K,ie,oe)},z=(T,D,V)=>{const Y=D.component=T.component;if(G2(T,D,V))if(Y.asyncDep&&!Y.asyncResolved){j(Y,D,V);return}else Y.next=D,N2(Y.update),Y.update();else D.el=T.el,Y.vnode=D},F=(T,D,V,Y,K,ie,oe)=>{const se=()=>{if(T.isMounted){let{next:Te,bu:U,u:O,parent:ne,vnode:we}=T,ye=Te,Ce;La(T,!1),Te?(Te.el=we.el,j(T,Te,oe)):Te=we,U&&Wh(U),(Ce=Te.props&&Te.props.onVnodeBeforeUpdate)&&Pr(Ce,ne,Te,we),La(T,!0);const ze=Cm(T),ke=T.subTree;T.subTree=ze,g(ke,ze,d(ke.el),Ae(ke),T,K,ie),Te.el=ze.el,ye===null&&m0(T,ze.el),O&&_i(O,K),(Ce=Te.props&&Te.props.onVnodeUpdated)&&_i(()=>Pr(Ce,ne,Te,we),K)}else{let Te;const{el:U,props:O}=D,{bm:ne,m:we,parent:ye}=T,Ce=$h(D);if(La(T,!1),ne&&Wh(ne),!Ce&&(Te=O&&O.onVnodeBeforeMount)&&Pr(Te,ye,D),La(T,!0),U&&W){const ze=()=>{T.subTree=Cm(T),W(U,T.subTree,T,K,null)};Ce?D.type.__asyncLoader().then(()=>!T.isUnmounted&&ze()):ze()}else{const ze=T.subTree=Cm(T);g(null,ze,V,Y,T,K,ie),D.el=ze.el}if(we&&_i(we,K),!Ce&&(Te=O&&O.onVnodeMounted)){const ze=D;_i(()=>Pr(Te,ye,ze),K)}(D.shapeFlag&256||ye&&$h(ye.vnode)&&ye.vnode.shapeFlag&256)&&T.a&&_i(T.a,K),T.isMounted=!0,D=V=Y=null}},fe=T.effect=new a0(se,()=>p0(ce),T.scope),ce=T.update=()=>fe.run();ce.id=T.uid,La(T,!0),ce()},j=(T,D,V)=>{D.component=T;const Y=T.vnode.props;T.vnode=D,T.next=null,xk(T,D.props,Y,V),Mk(T,D.children,V),rc(),gx(),sc()},X=(T,D,V,Y,K,ie,oe,se,fe=!1)=>{const ce=T&&T.children,Te=T?T.shapeFlag:0,U=D.children,{patchFlag:O,shapeFlag:ne}=D;if(O>0){if(O&128){J(ce,U,V,Y,K,ie,oe,se,fe);return}else if(O&256){Z(ce,U,V,Y,K,ie,oe,se,fe);return}}ne&8?(Te&16&&ae(ce,K,ie),U!==ce&&u(V,U)):Te&16?ne&16?J(ce,U,V,Y,K,ie,oe,se,fe):ae(ce,K,ie,!0):(Te&8&&u(V,""),ne&16&&S(U,V,Y,K,ie,oe,se,fe))},Z=(T,D,V,Y,K,ie,oe,se,fe)=>{T=T||El,D=D||El;const ce=T.length,Te=D.length,U=Math.min(ce,Te);let O;for(O=0;O<U;O++){const ne=D[O]=fe?ea(D[O]):br(D[O]);g(T[O],ne,V,null,K,ie,oe,se,fe)}ce>Te?ae(T,K,ie,!0,!1,U):S(D,V,Y,K,ie,oe,se,fe,U)},J=(T,D,V,Y,K,ie,oe,se,fe)=>{let ce=0;const Te=D.length;let U=T.length-1,O=Te-1;for(;ce<=U&&ce<=O;){const ne=T[ce],we=D[ce]=fe?ea(D[ce]):br(D[ce]);if(Ir(ne,we))g(ne,we,V,null,K,ie,oe,se,fe);else break;ce++}for(;ce<=U&&ce<=O;){const ne=T[U],we=D[O]=fe?ea(D[O]):br(D[O]);if(Ir(ne,we))g(ne,we,V,null,K,ie,oe,se,fe);else break;U--,O--}if(ce>U){if(ce<=O){const ne=O+1,we=ne<Te?D[ne].el:Y;for(;ce<=O;)g(null,D[ce]=fe?ea(D[ce]):br(D[ce]),V,we,K,ie,oe,se,fe),ce++}}else if(ce>O)for(;ce<=U;)q(T[ce],K,ie,!0),ce++;else{const ne=ce,we=ce,ye=new Map;for(ce=we;ce<=O;ce++){const st=D[ce]=fe?ea(D[ce]):br(D[ce]);st.key!=null&&ye.set(st.key,ce)}let Ce,ze=0;const ke=O-we+1;let He=!1,Je=0;const gt=new Array(ke);for(ce=0;ce<ke;ce++)gt[ce]=0;for(ce=ne;ce<=U;ce++){const st=T[ce];if(ze>=ke){q(st,K,ie,!0);continue}let Q;if(st.key!=null)Q=ye.get(st.key);else for(Ce=we;Ce<=O;Ce++)if(gt[Ce-we]===0&&Ir(st,D[Ce])){Q=Ce;break}Q===void 0?q(st,K,ie,!0):(gt[Q-we]=ce+1,Q>=Je?Je=Q:He=!0,g(st,D[Q],V,null,K,ie,oe,se,fe),ze++)}const Oe=He?Ak(gt):El;for(Ce=Oe.length-1,ce=ke-1;ce>=0;ce--){const st=we+ce,Q=D[st],_e=st+1<Te?D[st+1].el:Y;gt[ce]===0?g(null,Q,V,_e,K,ie,oe,se,fe):He&&(Ce<0||ce!==Oe[Ce]?H(Q,V,_e,2):Ce--)}}},H=(T,D,V,Y,K=null)=>{const{el:ie,type:oe,transition:se,children:fe,shapeFlag:ce}=T;if(ce&6){H(T.component.subTree,D,V,Y);return}if(ce&128){T.suspense.move(D,V,Y);return}if(ce&64){oe.move(T,D,V,L);return}if(oe===je){i(ie,D,V);for(let U=0;U<fe.length;U++)H(fe[U],D,V,Y);i(T.anchor,D,V);return}if(oe===Pm){y(T,D,V);return}if(Y!==2&&ce&1&&se)if(Y===0)se.beforeEnter(ie),i(ie,D,V),_i(()=>se.enter(ie),K);else{const{leave:U,delayLeave:O,afterLeave:ne}=se,we=()=>i(ie,D,V),ye=()=>{U(ie,()=>{we(),ne&&ne()})};O?O(ie,we,ye):ye()}else i(ie,D,V)},q=(T,D,V,Y=!1,K=!1)=>{const{type:ie,props:oe,ref:se,children:fe,dynamicChildren:ce,shapeFlag:Te,patchFlag:U,dirs:O}=T;if(se!=null&&ig(se,null,V,T,!0),Te&256){D.ctx.deactivate(T);return}const ne=Te&1&&O,we=!$h(T);let ye;if(we&&(ye=oe&&oe.onVnodeBeforeUnmount)&&Pr(ye,D,T),Te&6)be(T.component,V,Y);else{if(Te&128){T.suspense.unmount(V,Y);return}ne&&Ra(T,null,D,"beforeUnmount"),Te&64?T.type.remove(T,D,V,K,L,Y):ce&&(ie!==je||U>0&&U&64)?ae(ce,D,V,!1,!0):(ie===je&&U&384||!K&&Te&16)&&ae(fe,D,V),Y&&le(T)}(we&&(ye=oe&&oe.onVnodeUnmounted)||ne)&&_i(()=>{ye&&Pr(ye,D,T),ne&&Ra(T,null,D,"unmounted")},V)},le=T=>{const{type:D,el:V,anchor:Y,transition:K}=T;if(D===je){ue(V,Y);return}if(D===Pm){b(T);return}const ie=()=>{r(V),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(T.shapeFlag&1&&K&&!K.persisted){const{leave:oe,delayLeave:se}=K,fe=()=>oe(V,ie);se?se(T.el,ie,fe):fe()}else ie()},ue=(T,D)=>{let V;for(;T!==D;)V=h(T),r(T),T=V;r(D)},be=(T,D,V)=>{const{bum:Y,scope:K,update:ie,subTree:oe,um:se}=T;Y&&Wh(Y),K.stop(),ie&&(ie.active=!1,q(oe,T,D,V)),se&&_i(se,D),_i(()=>{T.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},ae=(T,D,V,Y=!1,K=!1,ie=0)=>{for(let oe=ie;oe<T.length;oe++)q(T[oe],D,V,Y,K)},Ae=T=>T.shapeFlag&6?Ae(T.component.subTree):T.shapeFlag&128?T.suspense.next():h(T.anchor||T.el),ee=(T,D,V)=>{T==null?D._vnode&&q(D._vnode,null,null,!0):g(D._vnode||null,T,D,null,null,null,V),gx(),jM(),D._vnode=T},L={p:g,um:q,m:H,r:le,mt:k,mc:S,pc:X,pbc:w,n:Ae,o:t};let B,W;return e&&([B,W]=e(L)),{render:ee,hydrate:B,createApp:bk(ee,B)}}function La({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ck(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function E0(t,e,n=!1){const i=t.children,r=e.children;if(Qe(i)&&Qe(r))for(let s=0;s<i.length;s++){const a=i[s];let o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=ea(r[s]),o.el=a.el),n||E0(a,o)),o.type===Zu&&(o.el=a.el)}}function Ak(t){const e=t.slice(),n=[0];let i,r,s,a,o;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<c?s=o+1:a=o;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const Tk=t=>t.__isTeleport,Yc=t=>t&&(t.disabled||t.disabled===""),Rx=t=>typeof SVGElement<"u"&&t instanceof SVGElement,rg=(t,e)=>{const n=t&&t.to;return bn(n)?e?e(n):null:n},Pk={__isTeleport:!0,process(t,e,n,i,r,s,a,o,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:m}}=c,v=Yc(e.props);let{shapeFlag:x,children:y,dynamicChildren:b}=e;if(t==null){const A=e.el=g(""),M=e.anchor=g("");f(A,n,i),f(M,n,i);const E=e.target=rg(e.props,p),S=e.targetAnchor=g("");E&&(f(S,E),a=a||Rx(E));const _=(w,P)=>{x&16&&u(y,w,P,r,s,a,o,l)};v?_(n,M):E&&_(E,S)}else{e.el=t.el;const A=e.anchor=t.anchor,M=e.target=t.target,E=e.targetAnchor=t.targetAnchor,S=Yc(t.props),_=S?n:M,w=S?A:E;if(a=a||Rx(M),b?(h(t.dynamicChildren,b,_,r,s,a,o),E0(t,e,!0)):l||d(t,e,_,w,r,s,a,o,!1),v)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Bd(e,n,A,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=rg(e.props,p);P&&Bd(e,P,null,c,0)}else S&&Bd(e,M,E,c,1)}pE(e)},remove(t,e,n,i,{um:r,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:c,targetAnchor:u,target:d,props:h}=t;if(d&&s(u),a&&s(c),o&16){const f=a||!Yc(h);for(let p=0;p<l.length;p++){const g=l[p];r(g,e,n,f,!!g.dynamicChildren)}}},move:Bd,hydrate:Rk};function Bd(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&i(a,e,n),(!d||Yc(u))&&l&16)for(let h=0;h<c.length;h++)r(c[h],e,n,2);d&&i(o,e,n)}function Rk(t,e,n,i,r,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},c){const u=e.target=rg(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Yc(e.props))e.anchor=c(a(t),e,o(t),n,i,r,s),e.targetAnchor=d;else{e.anchor=a(t);let h=d;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&a(e.targetAnchor);break}c(d,e,u,n,i,r,s)}pE(e)}return e.anchor&&a(e.anchor)}const Lk=Pk;function pE(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const je=Symbol.for("v-fgt"),Zu=Symbol.for("v-txt"),Ai=Symbol.for("v-cmt"),Pm=Symbol.for("v-stc"),Kc=[];let ir=null;function Qn(t=!1){Kc.push(ir=t?null:[])}function mE(){Kc.pop(),ir=Kc[Kc.length-1]||null}let Fl=1;function Lx(t){Fl+=t}function vE(t){return t.dynamicChildren=Fl>0?ir||El:null,mE(),Fl>0&&ir&&ir.push(t),t}function rr(t,e,n,i,r,s){return vE(Nn(t,e,n,i,r,s,!0))}function sg(t,e,n,i,r){return vE(C(t,e,n,i,r,!0))}function pu(t){return t?t.__v_isVNode===!0:!1}function Ir(t,e){return t.type===e.type&&t.key===e.key}const ep="__vInternal",gE=({key:t})=>t??null,jh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?bn(t)||Zt(t)||ct(t)?{i:zi,r:t,k:e,f:!!n}:t:null);function Nn(t,e=null,n=null,i=0,r=null,s=t===je?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&gE(e),ref:e&&jh(e),scopeId:YM,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:zi};return o?(C0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=bn(n)?8:16),Fl>0&&!a&&ir&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ir.push(l),l}const C=Ik;function Ik(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===KM)&&(t=Ai),pu(t)){const o=Ms(t,e,!0);return n&&C0(o,n),Fl>0&&!s&&ir&&(o.shapeFlag&6?ir[ir.indexOf(t)]=o:ir.push(o)),o.patchFlag|=-2,o}if(zk(t)&&(t=t.__vccOpts),e){e=kk(e);let{class:o,style:l}=e;o&&!bn(o)&&(e.class=qf(o)),Qt(l)&&(BM(l)&&!Qe(l)&&(l=En({},l)),e.style=Xf(l))}const a=bn(t)?1:X2(t)?128:Tk(t)?64:Qt(t)?4:ct(t)?2:0;return Nn(t,e,n,i,r,a,s,!0)}function kk(t){return t?BM(t)||ep in t?En({},t):t:null}function Ms(t,e,n=!1){const{props:i,ref:r,patchFlag:s,children:a}=t,o=e?Pe(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&gE(o),ref:e&&e.ref?n&&r?Qe(r)?r.concat(jh(e)):[r,jh(e)]:jh(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==je?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ms(t.ssContent),ssFallback:t.ssFallback&&Ms(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ti(t=" ",e=0){return C(Zu,null,t,e)}function yE(t="",e=!1){return e?(Qn(),sg(Ai,null,t)):C(Ai,null,t)}function br(t){return t==null||typeof t=="boolean"?C(Ai):Qe(t)?C(je,null,t.slice()):typeof t=="object"?ea(t):C(Zu,null,String(t))}function ea(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ms(t)}function C0(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Qe(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),C0(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(ep in e)?e._ctx=zi:r===3&&zi&&(zi.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:zi},n=32):(e=String(e),i&64?(n=16,e=[Ti(e)]):n=8);t.children=e,t.shapeFlag|=n}function Pe(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=qf([e.class,i.class]));else if(r==="style")e.style=Xf([e.style,i.style]);else if(Gf(r)){const s=e[r],a=i[r];a&&s!==a&&!(Qe(s)&&s.includes(a))&&(e[r]=s?[].concat(s,a):a)}else r!==""&&(e[r]=i[r])}return e}function Pr(t,e,n,i=null){ur(t,e,7,[n,i])}const Dk=oE();let Ok=0;function Vk(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Dk,s={uid:Ok++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new TM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cE(i,r),emitsOptions:qM(i,r),emit:null,emitted:null,propsDefaults:Yt,inheritAttrs:i.inheritAttrs,ctx:Yt,data:Yt,props:Yt,attrs:Yt,slots:Yt,refs:Yt,setupState:Yt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=B2.bind(null,s),t.ce&&t.ce(s),s}let Fn=null;const Ur=()=>Fn||zi;let A0,jo,Ix="__VUE_INSTANCE_SETTERS__";(jo=jv()[Ix])||(jo=jv()[Ix]=[]),jo.push(t=>Fn=t),A0=t=>{jo.length>1?jo.forEach(e=>e(t)):jo[0](t)};const fa=t=>{A0(t),t.scope.on()},oa=()=>{Fn&&Fn.scope.off(),A0(null)};function bE(t){return t.vnode.shapeFlag&4}let mu=!1;function Nk(t,e=!1){mu=e;const{props:n,children:i}=t.vnode,r=bE(t);_k(t,n,r,e),Sk(t,i);const s=r?Fk(t,e):void 0;return mu=!1,s}function Fk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=UM(new Proxy(t.ctx,uk));const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?xE(t):null;fa(t),rc();const s=aa(i,t,0,[t.props,r]);if(sc(),oa(),t0(s)){if(s.then(oa,oa),e)return s.then(a=>{ag(t,a,e)}).catch(a=>{Ku(a,t,0)});t.asyncDep=s}else ag(t,s,e)}else _E(t,e)}function ag(t,e,n){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Qt(e)&&(t.setupState=HM(e)),_E(t,n)}let kx;function _E(t,e,n){const i=t.type;if(!t.render){if(!e&&kx&&!i.render){const r=i.template||S0(t).template;if(r){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,c=En(En({isCustomElement:s,delimiters:o},a),l);i.render=kx(r,c)}}t.render=i.render||Nr}{fa(t),rc();try{fk(t)}finally{sc(),oa()}}}function Bk(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ri(t,"get","$attrs"),e[n]}}))}function xE(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Bk(t)},slots:t.slots,emit:t.emit,expose:e}}function tp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(HM(UM(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qc)return qc[n](t)},has(e,n){return n in e||n in qc}}))}function Uk(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function zk(t){return ct(t)&&"__vccOpts"in t}const I=(t,e)=>D2(t,e,mu);function hr(t,e,n){const i=arguments.length;return i===2?Qt(e)&&!Qe(e)?pu(e)?C(t,null,[e]):C(t,e):C(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&pu(n)&&(n=[n]),C(t,e,n))}const Hk=Symbol.for("v-scx"),Gk=()=>_t(Hk),Wk="3.3.8",$k="http://www.w3.org/2000/svg",Ja=typeof document<"u"?document:null,Dx=Ja&&Ja.createElement("template"),jk={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?Ja.createElementNS($k,t):Ja.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Ja.createTextNode(t),createComment:t=>Ja.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ja.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const a=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Dx.innerHTML=i?`<svg>${t}</svg>`:t;const o=Dx.content;if(i){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Us="transition",Mc="animation",Bl=Symbol("_vtc"),zr=(t,{slots:e})=>hr(rk,SE(t),e);zr.displayName="Transition";const wE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xk=zr.props=En({},QM,wE),Ia=(t,e=[])=>{Qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ox=t=>t?Qe(t)?t.some(e=>e.length>1):t.length>1:!1;function SE(t){const e={};for(const R in t)R in wE||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=a,appearToClass:u=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=qk(r),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:x,onEnterCancelled:y,onLeave:b,onLeaveCancelled:A,onBeforeAppear:M=v,onAppear:E=x,onAppearCancelled:S=y}=e,_=(R,N,k)=>{Js(R,N?u:o),Js(R,N?c:a),k&&k()},w=(R,N)=>{R._isLeaving=!1,Js(R,d),Js(R,f),Js(R,h),N&&N()},P=R=>(N,k)=>{const z=R?E:x,F=()=>_(N,R,k);Ia(z,[N,F]),Vx(()=>{Js(N,R?l:s),hs(N,R?u:o),Ox(z)||Nx(N,i,g,F)})};return En(e,{onBeforeEnter(R){Ia(v,[R]),hs(R,s),hs(R,a)},onBeforeAppear(R){Ia(M,[R]),hs(R,l),hs(R,c)},onEnter:P(!1),onAppear:P(!0),onLeave(R,N){R._isLeaving=!0;const k=()=>w(R,N);hs(R,d),EE(),hs(R,h),Vx(()=>{R._isLeaving&&(Js(R,d),hs(R,f),Ox(b)||Nx(R,i,m,k))}),Ia(b,[R,k])},onEnterCancelled(R){_(R,!1),Ia(y,[R])},onAppearCancelled(R){_(R,!0),Ia(S,[R])},onLeaveCancelled(R){w(R),Ia(A,[R])}})}function qk(t){if(t==null)return null;if(Qt(t))return[Rm(t.enter),Rm(t.leave)];{const e=Rm(t);return[e,e]}}function Rm(t){return EM(t)}function hs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Bl]||(t[Bl]=new Set)).add(e)}function Js(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Bl];n&&(n.delete(e),n.size||(t[Bl]=void 0))}function Vx(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Yk=0;function Nx(t,e,n,i){const r=t._endId=++Yk,s=()=>{r===t._endId&&i()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=ME(t,e);if(!a)return i();const c=a+"end";let u=0;const d=()=>{t.removeEventListener(c,h),s()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),t.addEventListener(c,h)}function ME(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),r=i(`${Us}Delay`),s=i(`${Us}Duration`),a=Fx(r,s),o=i(`${Mc}Delay`),l=i(`${Mc}Duration`),c=Fx(o,l);let u=null,d=0,h=0;e===Us?a>0&&(u=Us,d=a,h=s.length):e===Mc?c>0&&(u=Mc,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?Us:Mc:null,h=u?u===Us?s.length:l.length:0);const f=u===Us&&/\b(transform|all)(,|$)/.test(i(`${Us}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function Fx(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Bx(n)+Bx(t[i])))}function Bx(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function EE(){return document.body.offsetHeight}function Kk(t,e,n){const i=t[Bl];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const T0=Symbol("_vod"),Jr={beforeMount(t,{value:e},{transition:n}){t[T0]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ec(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ec(t,!0),i.enter(t)):i.leave(t,()=>{Ec(t,!1)}):Ec(t,e))},beforeUnmount(t,{value:e}){Ec(t,e)}};function Ec(t,e){t.style.display=e?t[T0]:"none"}function Zk(t,e,n){const i=t.style,r=bn(n);if(n&&!r){if(e&&!bn(e))for(const s in e)n[s]==null&&og(i,s,"");for(const s in n)og(i,s,n[s])}else{const s=i.display;r?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),T0 in t&&(i.display=s)}}const Ux=/\s*!important$/;function og(t,e,n){if(Qe(n))n.forEach(i=>og(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Jk(t,e);Ux.test(n)?t.setProperty(ic(i),n.replace(Ux,""),"important"):t[i]=n}}const zx=["Webkit","Moz","ms"],Lm={};function Jk(t,e){const n=Lm[e];if(n)return n;let i=dr(e);if(i!=="filter"&&i in t)return Lm[e]=i;i=Kr(i);for(let r=0;r<zx.length;r++){const s=zx[r]+i;if(s in t)return Lm[e]=s}return e}const Hx="http://www.w3.org/1999/xlink";function Qk(t,e,n,i,r){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Hx,e.slice(6,e.length)):t.setAttributeNS(Hx,e,n);else{const s=n2(e);n==null||s&&!CM(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function eD(t,e,n,i,r,s,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,r,s),t[e]=n??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=n;const c=o==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=CM(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function _l(t,e,n,i){t.addEventListener(e,n,i)}function tD(t,e,n,i){t.removeEventListener(e,n,i)}const Gx=Symbol("_vei");function nD(t,e,n,i,r=null){const s=t[Gx]||(t[Gx]={}),a=s[e];if(i&&a)a.value=i;else{const[o,l]=iD(e);if(i){const c=s[e]=aD(i,r);_l(t,o,c,l)}else a&&(tD(t,o,a,l),s[e]=void 0)}}const Wx=/(?:Once|Passive|Capture)$/;function iD(t){let e;if(Wx.test(t)){e={};let i;for(;i=t.match(Wx);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ic(t.slice(2)),e]}let Im=0;const rD=Promise.resolve(),sD=()=>Im||(rD.then(()=>Im=0),Im=Date.now());function aD(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ur(oD(i,n.value),e,5,[i])};return n.value=t,n.attached=sD(),n}function oD(t,e){if(Qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const $x=/^on[a-z]/,lD=(t,e,n,i,r=!1,s,a,o,l)=>{e==="class"?Kk(t,i,r):e==="style"?Zk(t,n,i):Gf(e)?Qy(e)||nD(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cD(t,e,i,r))?eD(t,e,i,s,a,o,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Qk(t,e,i,r))};function cD(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&$x.test(e)&&ct(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||$x.test(e)&&bn(n)?!1:e in t}const CE=new WeakMap,AE=new WeakMap,yf=Symbol("_moveCb"),jx=Symbol("_enterCb"),TE={name:"TransitionGroup",props:En({},Xk,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ur(),i=JM();let r,s;return x0(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!mD(r[0].el,n.vnode.el,a))return;r.forEach(hD),r.forEach(fD);const o=r.filter(pD);EE(),o.forEach(l=>{const c=l.el,u=c.style;hs(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[yf]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c[yf]=null,Js(c,a))};c.addEventListener("transitionend",d)})}),()=>{const a=dt(t),o=SE(a);let l=a.tag||je;r=s,s=e.default?_0(e.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&fu(u,hu(u,o,i,n))}if(r)for(let c=0;c<r.length;c++){const u=r[c];fu(u,hu(u,o,i,n)),CE.set(u,u.el.getBoundingClientRect())}return C(l,null,s)}}},uD=t=>delete t.mode;TE.props;const dD=TE;function hD(t){const e=t.el;e[yf]&&e[yf](),e[jx]&&e[jx]()}function fD(t){AE.set(t,t.el.getBoundingClientRect())}function pD(t){const e=CE.get(t),n=AE.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",t}}function mD(t,e,n){const i=t.cloneNode(),r=t[Bl];r&&r.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:a}=ME(i);return s.removeChild(i),a}const Xx=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Qe(e)?n=>Wh(e,n):e};function vD(t){t.target.composing=!0}function qx(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const km=Symbol("_assign"),gD={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[km]=Xx(r);const s=i||r.props&&r.props.type==="number";_l(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=$v(o)),t[km](o)}),n&&_l(t,"change",()=>{t.value=t.value.trim()}),e||(_l(t,"compositionstart",vD),_l(t,"compositionend",qx),_l(t,"change",qx))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},s){if(t[km]=Xx(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(r||t.type==="number")&&$v(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},yD=["ctrl","shift","alt","meta"],bD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>yD.some(n=>t[`${n}Key`]&&!e.includes(n))},Yx=(t,e)=>(n,...i)=>{for(let r=0;r<e.length;r++){const s=bD[e[r]];if(s&&s(n,e))return}return t(n,...i)},_D=En({patchProp:lD},jk);let Kx;function PE(){return Kx||(Kx=fE(_D))}const xD=(...t)=>{PE().render(...t)},wD=(...t)=>{const e=PE().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=SD(i);if(!r)return;const s=e._component;!ct(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function SD(t){return bn(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ac="158",qa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ps={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},RE=0,lg=1,LE=2,MD=3,ED=0,P0=1,R0=2,Rr=3,Hr=0,ei=1,nr=2,CD=2,xs=0,uo=1,bf=2,cg=3,ug=4,IE=5,na=100,kE=101,DE=102,dg=103,hg=104,OE=200,VE=201,NE=202,FE=203,_f=204,xf=205,BE=206,UE=207,zE=208,HE=209,GE=210,WE=211,$E=212,jE=213,XE=214,qE=0,YE=1,KE=2,vu=3,ZE=4,JE=5,QE=6,eC=7,Ju=0,tC=1,nC=2,ws=0,iC=1,rC=2,sC=3,L0=4,aC=5,fg="attached",oC="detached",np=300,Es=301,pa=302,gu=303,yu=304,oc=306,ma=1e3,jn=1001,Ul=1002,hn=1003,bu=1004,AD=1004,Rl=1005,TD=1005,nn=1006,ip=1007,PD=1007,Gr=1008,RD=1008,xr=1009,lC=1010,cC=1011,rp=1012,I0=1013,gs=1014,kr=1015,zl=1016,k0=1017,D0=1018,la=1020,uC=1021,Ni=1023,dC=1024,hC=1025,ca=1026,bo=1027,fC=1028,O0=1029,pC=1030,V0=1031,N0=1033,Xh=33776,qh=33777,Yh=33778,Kh=33779,pg=35840,mg=35841,vg=35842,gg=35843,mC=36196,yg=37492,bg=37496,_g=37808,xg=37809,wg=37810,Sg=37811,Mg=37812,Eg=37813,Cg=37814,Ag=37815,Tg=37816,Pg=37817,Rg=37818,Lg=37819,Ig=37820,kg=37821,Zh=36492,Dg=36494,Og=36495,vC=36283,Vg=36284,Ng=36285,Fg=36286,gC=2200,yC=2201,bC=2202,Hl=2300,_o=2301,Jh=2302,to=2400,no=2401,_u=2402,sp=2500,F0=2501,_C=0,B0=1,wf=2,U0=3e3,ua=3001,xC=3200,wC=3201,ba=0,SC=1,Fi="",wn="srgb",Wr="srgb-linear",ap="display-p3",Qu="display-p3-linear",xu="linear",qt="srgb",wu="rec709",Su="p3",LD=0,Ya=7680,ID=7681,kD=7682,DD=7683,OD=34055,VD=34056,ND=5386,FD=512,BD=513,UD=514,zD=515,HD=516,GD=517,WD=518,Bg=519,MC=512,EC=513,CC=514,AC=515,TC=516,PC=517,RC=518,LC=519,Mu=35044,$D=35048,jD=35040,XD=35045,qD=35049,YD=35041,KD=35046,ZD=35050,JD=35042,QD="100",Ug="300 es",Sf=1035,Dr=2e3,Eu=2001;class Qr{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const Yn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Zx=1234567;const ho=Math.PI/180,Gl=180/Math.PI;function Hi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Yn[t&255]+Yn[t>>8&255]+Yn[t>>16&255]+Yn[t>>24&255]+"-"+Yn[e&255]+Yn[e>>8&255]+"-"+Yn[e>>16&15|64]+Yn[e>>24&255]+"-"+Yn[n&63|128]+Yn[n>>8&255]+"-"+Yn[n>>16&255]+Yn[n>>24&255]+Yn[i&255]+Yn[i>>8&255]+Yn[i>>16&255]+Yn[i>>24&255]).toLowerCase()}function fn(t,e,n){return Math.max(e,Math.min(n,t))}function z0(t,e){return(t%e+e)%e}function eO(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function tO(t,e,n){return t!==e?(n-t)/(e-t):0}function Zc(t,e,n){return(1-n)*t+n*e}function nO(t,e,n,i){return Zc(t,e,1-Math.exp(-n*i))}function iO(t,e=1){return e-Math.abs(z0(t,e*2)-e)}function rO(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function sO(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function aO(t,e){return t+Math.floor(Math.random()*(e-t+1))}function oO(t,e){return t+Math.random()*(e-t)}function lO(t){return t*(.5-Math.random())}function cO(t){t!==void 0&&(Zx=t);let e=Zx+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function uO(t){return t*ho}function dO(t){return t*Gl}function zg(t){return(t&t-1)===0&&t!==0}function IC(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Mf(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function hO(t,e,n,i,r){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((e+i)/2),u=a((e+i)/2),d=s((e-i)/2),h=a((e-i)/2),f=s((i-e)/2),p=a((i-e)/2);switch(r){case"XYX":t.set(o*u,l*d,l*h,o*c);break;case"YZY":t.set(l*h,o*u,l*d,o*c);break;case"ZXZ":t.set(l*d,l*h,o*u,o*c);break;case"XZX":t.set(o*u,l*p,l*f,o*c);break;case"YXY":t.set(l*f,o*u,l*p,o*c);break;case"ZYZ":t.set(l*p,l*f,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Si(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function vt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const op={DEG2RAD:ho,RAD2DEG:Gl,generateUUID:Hi,clamp:fn,euclideanModulo:z0,mapLinear:eO,inverseLerp:tO,lerp:Zc,damp:nO,pingpong:iO,smoothstep:rO,smootherstep:sO,randInt:aO,randFloat:oO,randFloatSpread:lO,seededRandom:cO,degToRad:uO,radToDeg:dO,isPowerOfTwo:zg,ceilPowerOfTwo:IC,floorPowerOfTwo:Mf,setQuaternionFromProperEuler:hO,normalize:vt,denormalize:Si};class Me{constructor(e=0,n=0){Me.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(fn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class yt{constructor(e,n,i,r,s,a,o,l,c){yt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,a,o,l,c)}set(e,n,i,r,s,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],f=i[5],p=i[8],g=r[0],m=r[3],v=r[6],x=r[1],y=r[4],b=r[7],A=r[2],M=r[5],E=r[8];return s[0]=a*g+o*x+l*A,s[3]=a*m+o*y+l*M,s[6]=a*v+o*b+l*E,s[1]=c*g+u*x+d*A,s[4]=c*m+u*y+d*M,s[7]=c*v+u*b+d*E,s[2]=h*g+f*x+p*A,s[5]=h*m+f*y+p*M,s[8]=h*v+f*b+p*E,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*o*c-i*s*u+i*o*l+r*s*c-r*a*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*a-o*c,h=o*l-u*s,f=c*s-a*l,p=n*d+i*h+r*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=d*g,e[1]=(r*c-u*i)*g,e[2]=(o*i-r*a)*g,e[3]=h*g,e[4]=(u*n-r*l)*g,e[5]=(r*s-o*n)*g,e[6]=f*g,e[7]=(i*l-c*n)*g,e[8]=(a*n-i*s)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(Dm.makeScale(e,n)),this}rotate(e){return this.premultiply(Dm.makeRotation(-e)),this}translate(e,n){return this.premultiply(Dm.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Dm=new yt;function kC(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const fO={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xl(t,e){return new fO[t](e)}function Cu(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function DC(){const t=Cu("canvas");return t.style.display="block",t}const Jx={};function Jc(t){t in Jx||(Jx[t]=!0,console.warn(t))}const Qx=new yt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ew=new yt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ud={[Wr]:{transfer:xu,primaries:wu,toReference:t=>t,fromReference:t=>t},[wn]:{transfer:qt,primaries:wu,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Qu]:{transfer:xu,primaries:Su,toReference:t=>t.applyMatrix3(ew),fromReference:t=>t.applyMatrix3(Qx)},[ap]:{transfer:qt,primaries:Su,toReference:t=>t.convertSRGBToLinear().applyMatrix3(ew),fromReference:t=>t.applyMatrix3(Qx).convertLinearToSRGB()}},pO=new Set([Wr,Qu]),zt={enabled:!0,_workingColorSpace:Wr,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!pO.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=Ud[e].toReference,r=Ud[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Ud[t].primaries},getTransfer:function(t){return t===Fi?xu:Ud[t].transfer}};function Ll(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Om(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Xo;class H0{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Xo===void 0&&(Xo=Cu("canvas")),Xo.width=e.width,Xo.height=e.height;const i=Xo.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Xo}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Cu("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Ll(s[a]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Ll(n[i]/255)*255):n[i]=Ll(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let mO=0;class io{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:mO++}),this.uuid=Hi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(Vm(r[a].image)):s.push(Vm(r[a]))}else s=Vm(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function Vm(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?H0.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let vO=0;class an extends Qr{constructor(e=an.DEFAULT_IMAGE,n=an.DEFAULT_MAPPING,i=jn,r=jn,s=nn,a=Gr,o=Ni,l=xr,c=an.DEFAULT_ANISOTROPY,u=Fi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:vO++}),this.uuid=Hi(),this.name="",this.source=new io(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Me(0,0),this.repeat=new Me(1,1),this.center=new Me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Jc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===ua?wn:Fi),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==np)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ma:e.x=e.x-Math.floor(e.x);break;case jn:e.x=e.x<0?0:1;break;case Ul:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ma:e.y=e.y-Math.floor(e.y);break;case jn:e.y=e.y<0?0:1;break;case Ul:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Jc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===wn?ua:U0}set encoding(e){Jc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ua?wn:Fi}}an.DEFAULT_IMAGE=null;an.DEFAULT_MAPPING=np;an.DEFAULT_ANISOTROPY=1;class Tt{constructor(e=0,n=0,i=0,r=1){Tt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*n+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*n+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*n+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],g=l[2],m=l[6],v=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-g)<.01&&Math.abs(p-m)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+g)<.1&&Math.abs(p+m)<.1&&Math.abs(c+f+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const y=(c+1)/2,b=(f+1)/2,A=(v+1)/2,M=(u+h)/4,E=(d+g)/4,S=(p+m)/4;return y>b&&y>A?y<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(y),r=M/i,s=E/i):b>A?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=M/r,s=S/r):A<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(A),i=E/s,r=S/s),this.set(i,r,s,n),this}let x=Math.sqrt((m-p)*(m-p)+(d-g)*(d-g)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(m-p)/x,this.y=(d-g)/x,this.z=(h-u)/x,this.w=Math.acos((c+f+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class OC extends Qr{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Tt(0,0,e,n),this.scissorTest=!1,this.viewport=new Tt(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&(Jc("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===ua?wn:Fi),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:nn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new an(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new io(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sr extends OC{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class lp extends an{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=hn,this.minFilter=hn,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gO extends Sr{constructor(e=1,n=1,i=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new lp(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class G0 extends an{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=hn,this.minFilter=hn,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class yO extends Sr{constructor(e=1,n=1,i=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new G0(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class bO extends Sr{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let a=0;a<i;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Un{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,a,o){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const h=s[a+0],f=s[a+1],p=s[a+2],g=s[a+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(o===1){e[n+0]=h,e[n+1]=f,e[n+2]=p,e[n+3]=g;return}if(d!==g||l!==h||c!==f||u!==p){let m=1-o;const v=l*h+c*f+u*p+d*g,x=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){const A=Math.sqrt(y),M=Math.atan2(A,v*x);m=Math.sin(m*M)/A,o=Math.sin(o*M)/A}const b=o*x;if(l=l*m+h*b,c=c*m+f*b,u=u*m+p*b,d=d*m+g*b,m===1-o){const A=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=A,c*=A,u*=A,d*=A}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,s,a){const o=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[a],h=s[a+1],f=s[a+2],p=s[a+3];return e[n]=o*p+u*d+l*f-c*h,e[n+1]=l*p+u*h+c*d-o*f,e[n+2]=c*p+u*f+o*h-l*d,e[n+3]=u*p-o*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),u=o(r/2),d=o(s/2),h=l(i/2),f=l(r/2),p=l(s/2);switch(a){case"XYZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"YXZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"ZXY":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"ZYX":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"YZX":this._x=h*u*d+c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d-h*f*p;break;case"XZY":this._x=h*u*d-c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],a=n[1],o=n[5],l=n[9],c=n[2],u=n[6],d=n[10],h=i+o+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(a-r)*f}else if(i>o&&i>d){const f=2*Math.sqrt(1+i-o-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(s+c)/f}else if(o>d){const f=2*Math.sqrt(1+o-i-d);this._w=(s-c)/f,this._x=(r+a)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-i-o);this._w=(a-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(fn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,a=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+a*o+r*c-s*l,this._y=r*u+a*l+s*o-i*c,this._z=s*u+a*c+i*l-r*o,this._w=a*u-i*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const f=1-n;return this._w=f*a+n*this._w,this._x=f*i+n*this._x,this._y=f*r+n*this._y,this._z=f*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=a*d+this._w*h,this._x=i*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,i=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(tw.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(tw.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*r-o*i),u=2*(o*n-s*r),d=2*(s*i-a*n);return this.x=n+l*c+a*d-o*u,this.y=i+l*u+o*c-s*d,this.z=r+l*d+s*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Nm.copy(this).projectOnVector(e),this.sub(Nm)}reflect(e){return this.sub(Nm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(fn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Nm=new G,tw=new Un;class Wi{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(vr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(vr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=vr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,vr):vr.fromBufferAttribute(s,a),vr.applyMatrix4(e.matrixWorld),this.expandByPoint(vr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),zd.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),zd.copy(i.boundingBox)),zd.applyMatrix4(e.matrixWorld),this.union(zd)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,vr),vr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cc),Hd.subVectors(this.max,Cc),qo.subVectors(e.a,Cc),Yo.subVectors(e.b,Cc),Ko.subVectors(e.c,Cc),zs.subVectors(Yo,qo),Hs.subVectors(Ko,Yo),ka.subVectors(qo,Ko);let n=[0,-zs.z,zs.y,0,-Hs.z,Hs.y,0,-ka.z,ka.y,zs.z,0,-zs.x,Hs.z,0,-Hs.x,ka.z,0,-ka.x,-zs.y,zs.x,0,-Hs.y,Hs.x,0,-ka.y,ka.x,0];return!Fm(n,qo,Yo,Ko,Hd)||(n=[1,0,0,0,1,0,0,0,1],!Fm(n,qo,Yo,Ko,Hd))?!1:(Gd.crossVectors(zs,Hs),n=[Gd.x,Gd.y,Gd.z],Fm(n,qo,Yo,Ko,Hd))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(vr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ss[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ss[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ss[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ss[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ss[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ss[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ss[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ss[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ss),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ss=[new G,new G,new G,new G,new G,new G,new G,new G],vr=new G,zd=new Wi,qo=new G,Yo=new G,Ko=new G,zs=new G,Hs=new G,ka=new G,Cc=new G,Hd=new G,Gd=new G,Da=new G;function Fm(t,e,n,i,r){for(let s=0,a=t.length-3;s<=a;s+=3){Da.fromArray(t,s);const o=r.x*Math.abs(Da.x)+r.y*Math.abs(Da.y)+r.z*Math.abs(Da.z),l=e.dot(Da),c=n.dot(Da),u=i.dot(Da);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const _O=new Wi,Ac=new G,Bm=new G;class $i{constructor(e=new G,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):_O.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ac.subVectors(e,this.center);const n=Ac.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Ac,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Bm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ac.copy(e.center).add(Bm)),this.expandByPoint(Ac.copy(e.center).sub(Bm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const as=new G,Um=new G,Wd=new G,Gs=new G,zm=new G,$d=new G,Hm=new G;class ko{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,as)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=as.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(as.copy(this.origin).addScaledVector(this.direction,n),as.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){Um.copy(e).add(n).multiplyScalar(.5),Wd.copy(n).sub(e).normalize(),Gs.copy(this.origin).sub(Um);const s=e.distanceTo(n)*.5,a=-this.direction.dot(Wd),o=Gs.dot(this.direction),l=-Gs.dot(Wd),c=Gs.lengthSq(),u=Math.abs(1-a*a);let d,h,f,p;if(u>0)if(d=a*l-o,h=a*o-l,p=s*u,d>=0)if(h>=-p)if(h<=p){const g=1/u;d*=g,h*=g,f=d*(d+a*h+2*o)+h*(a*d+h+2*l)+c}else h=s,d=Math.max(0,-(a*h+o)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(a*h+o)),f=-d*d+h*(h+2*l)+c;else h<=-p?(d=Math.max(0,-(-a*s+o)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=p?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(a*s+o)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=a>0?-s:s,d=Math.max(0,-(a*h+o)),f=-d*d+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(Um).addScaledVector(Wd,h),f}intersectSphere(e,n){as.subVectors(e.center,this.origin);const i=as.dot(this.direction),r=as.dot(as)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),d>=0?(o=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(o=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,as)!==null}intersectTriangle(e,n,i,r,s){zm.subVectors(n,e),$d.subVectors(i,e),Hm.crossVectors(zm,$d);let a=this.direction.dot(Hm),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Gs.subVectors(this.origin,e);const l=o*this.direction.dot($d.crossVectors(Gs,$d));if(l<0)return null;const c=o*this.direction.dot(zm.cross(Gs));if(c<0||l+c>a)return null;const u=-o*Gs.dot(Hm);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class it{constructor(e,n,i,r,s,a,o,l,c,u,d,h,f,p,g,m){it.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,a,o,l,c,u,d,h,f,p,g,m)}set(e,n,i,r,s,a,o,l,c,u,d,h,f,p,g,m){const v=this.elements;return v[0]=e,v[4]=n,v[8]=i,v[12]=r,v[1]=s,v[5]=a,v[9]=o,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=h,v[3]=f,v[7]=p,v[11]=g,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new it().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Zo.setFromMatrixColumn(e,0).length(),s=1/Zo.setFromMatrixColumn(e,1).length(),a=1/Zo.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const h=a*u,f=a*d,p=o*u,g=o*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=f+p*c,n[5]=h-g*c,n[9]=-o*l,n[2]=g-h*c,n[6]=p+f*c,n[10]=a*l}else if(e.order==="YXZ"){const h=l*u,f=l*d,p=c*u,g=c*d;n[0]=h+g*o,n[4]=p*o-f,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-o,n[2]=f*o-p,n[6]=g+h*o,n[10]=a*l}else if(e.order==="ZXY"){const h=l*u,f=l*d,p=c*u,g=c*d;n[0]=h-g*o,n[4]=-a*d,n[8]=p+f*o,n[1]=f+p*o,n[5]=a*u,n[9]=g-h*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const h=a*u,f=a*d,p=o*u,g=o*d;n[0]=l*u,n[4]=p*c-f,n[8]=h*c+g,n[1]=l*d,n[5]=g*c+h,n[9]=f*c-p,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const h=a*l,f=a*c,p=o*l,g=o*c;n[0]=l*u,n[4]=g-h*d,n[8]=p*d+f,n[1]=d,n[5]=a*u,n[9]=-o*u,n[2]=-c*u,n[6]=f*d+p,n[10]=h-g*d}else if(e.order==="XZY"){const h=a*l,f=a*c,p=o*l,g=o*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=h*d+g,n[5]=a*u,n[9]=f*d-p,n[2]=p*d-f,n[6]=o*u,n[10]=g*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(xO,e,wO)}lookAt(e,n,i){const r=this.elements;return Di.subVectors(e,n),Di.lengthSq()===0&&(Di.z=1),Di.normalize(),Ws.crossVectors(i,Di),Ws.lengthSq()===0&&(Math.abs(i.z)===1?Di.x+=1e-4:Di.z+=1e-4,Di.normalize(),Ws.crossVectors(i,Di)),Ws.normalize(),jd.crossVectors(Di,Ws),r[0]=Ws.x,r[4]=jd.x,r[8]=Di.x,r[1]=Ws.y,r[5]=jd.y,r[9]=Di.y,r[2]=Ws.z,r[6]=jd.z,r[10]=Di.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],p=i[2],g=i[6],m=i[10],v=i[14],x=i[3],y=i[7],b=i[11],A=i[15],M=r[0],E=r[4],S=r[8],_=r[12],w=r[1],P=r[5],R=r[9],N=r[13],k=r[2],z=r[6],F=r[10],j=r[14],X=r[3],Z=r[7],J=r[11],H=r[15];return s[0]=a*M+o*w+l*k+c*X,s[4]=a*E+o*P+l*z+c*Z,s[8]=a*S+o*R+l*F+c*J,s[12]=a*_+o*N+l*j+c*H,s[1]=u*M+d*w+h*k+f*X,s[5]=u*E+d*P+h*z+f*Z,s[9]=u*S+d*R+h*F+f*J,s[13]=u*_+d*N+h*j+f*H,s[2]=p*M+g*w+m*k+v*X,s[6]=p*E+g*P+m*z+v*Z,s[10]=p*S+g*R+m*F+v*J,s[14]=p*_+g*N+m*j+v*H,s[3]=x*M+y*w+b*k+A*X,s[7]=x*E+y*P+b*z+A*Z,s[11]=x*S+y*R+b*F+A*J,s[15]=x*_+y*N+b*j+A*H,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14],p=e[3],g=e[7],m=e[11],v=e[15];return p*(+s*l*d-r*c*d-s*o*h+i*c*h+r*o*f-i*l*f)+g*(+n*l*f-n*c*h+s*a*h-r*a*f+r*c*u-s*l*u)+m*(+n*c*d-n*o*f-s*a*d+i*a*f+s*o*u-i*c*u)+v*(-r*o*u-n*l*d+n*o*h+r*a*d-i*a*h+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],x=d*m*c-g*h*c+g*l*f-o*m*f-d*l*v+o*h*v,y=p*h*c-u*m*c-p*l*f+a*m*f+u*l*v-a*h*v,b=u*g*c-p*d*c+p*o*f-a*g*f-u*o*v+a*d*v,A=p*d*l-u*g*l-p*o*h+a*g*h+u*o*m-a*d*m,M=n*x+i*y+r*b+s*A;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/M;return e[0]=x*E,e[1]=(g*h*s-d*m*s-g*r*f+i*m*f+d*r*v-i*h*v)*E,e[2]=(o*m*s-g*l*s+g*r*c-i*m*c-o*r*v+i*l*v)*E,e[3]=(d*l*s-o*h*s-d*r*c+i*h*c+o*r*f-i*l*f)*E,e[4]=y*E,e[5]=(u*m*s-p*h*s+p*r*f-n*m*f-u*r*v+n*h*v)*E,e[6]=(p*l*s-a*m*s-p*r*c+n*m*c+a*r*v-n*l*v)*E,e[7]=(a*h*s-u*l*s+u*r*c-n*h*c-a*r*f+n*l*f)*E,e[8]=b*E,e[9]=(p*d*s-u*g*s-p*i*f+n*g*f+u*i*v-n*d*v)*E,e[10]=(a*g*s-p*o*s+p*i*c-n*g*c-a*i*v+n*o*v)*E,e[11]=(u*o*s-a*d*s-u*i*c+n*d*c+a*i*f-n*o*f)*E,e[12]=A*E,e[13]=(u*g*r-p*d*r+p*i*h-n*g*h-u*i*m+n*d*m)*E,e[14]=(p*o*r-a*g*r-p*i*l+n*g*l+a*i*m-n*o*m)*E,e[15]=(a*d*r-u*o*r+u*i*l-n*d*l-a*i*h+n*o*h)*E,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,a=e.x,o=e.y,l=e.z,c=s*a,u=s*o;return this.set(c*a+i,c*o-r*l,c*l+r*o,0,c*o+r*l,u*o+i,u*l-r*a,0,c*l-r*o,u*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,c=s+s,u=a+a,d=o+o,h=s*c,f=s*u,p=s*d,g=a*u,m=a*d,v=o*d,x=l*c,y=l*u,b=l*d,A=i.x,M=i.y,E=i.z;return r[0]=(1-(g+v))*A,r[1]=(f+b)*A,r[2]=(p-y)*A,r[3]=0,r[4]=(f-b)*M,r[5]=(1-(h+v))*M,r[6]=(m+x)*M,r[7]=0,r[8]=(p+y)*E,r[9]=(m-x)*E,r[10]=(1-(h+g))*E,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Zo.set(r[0],r[1],r[2]).length();const a=Zo.set(r[4],r[5],r[6]).length(),o=Zo.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],gr.copy(this);const c=1/s,u=1/a,d=1/o;return gr.elements[0]*=c,gr.elements[1]*=c,gr.elements[2]*=c,gr.elements[4]*=u,gr.elements[5]*=u,gr.elements[6]*=u,gr.elements[8]*=d,gr.elements[9]*=d,gr.elements[10]*=d,n.setFromRotationMatrix(gr),i.x=s,i.y=a,i.z=o,this}makePerspective(e,n,i,r,s,a,o=Dr){const l=this.elements,c=2*s/(n-e),u=2*s/(i-r),d=(n+e)/(n-e),h=(i+r)/(i-r);let f,p;if(o===Dr)f=-(a+s)/(a-s),p=-2*a*s/(a-s);else if(o===Eu)f=-a/(a-s),p=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,a,o=Dr){const l=this.elements,c=1/(n-e),u=1/(i-r),d=1/(a-s),h=(n+e)*c,f=(i+r)*u;let p,g;if(o===Dr)p=(a+s)*d,g=-2*d;else if(o===Eu)p=s*d,g=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=g,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Zo=new G,gr=new it,xO=new G(0,0,0),wO=new G(1,1,1),Ws=new G,jd=new G,Di=new G,nw=new it,iw=new Un;class Do{constructor(e=0,n=0,i=0,r=Do.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],u=r[9],d=r[2],h=r[6],f=r[10];switch(n){case"XYZ":this._y=Math.asin(fn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-fn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(fn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-fn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(fn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-fn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return nw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(nw,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return iw.setFromEuler(this),this.setFromQuaternion(iw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Do.DEFAULT_ORDER="XYZ";class cp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let SO=0;const rw=new G,Jo=new Un,os=new it,Xd=new G,Tc=new G,MO=new G,EO=new Un,sw=new G(1,0,0),aw=new G(0,1,0),ow=new G(0,0,1),CO={type:"added"},AO={type:"removed"};class Rt extends Qr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:SO++}),this.uuid=Hi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rt.DEFAULT_UP.clone();const e=new G,n=new Do,i=new Un,r=new G(1,1,1);function s(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new it},normalMatrix:{value:new yt}}),this.matrix=new it,this.matrixWorld=new it,this.matrixAutoUpdate=Rt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Rt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new cp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Jo.setFromAxisAngle(e,n),this.quaternion.multiply(Jo),this}rotateOnWorldAxis(e,n){return Jo.setFromAxisAngle(e,n),this.quaternion.premultiply(Jo),this}rotateX(e){return this.rotateOnAxis(sw,e)}rotateY(e){return this.rotateOnAxis(aw,e)}rotateZ(e){return this.rotateOnAxis(ow,e)}translateOnAxis(e,n){return rw.copy(e).applyQuaternion(this.quaternion),this.position.add(rw.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(sw,e)}translateY(e){return this.translateOnAxis(aw,e)}translateZ(e){return this.translateOnAxis(ow,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(os.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Xd.copy(e):Xd.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Tc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?os.lookAt(Tc,Xd,this.up):os.lookAt(Xd,Tc,this.up),this.quaternion.setFromRotationMatrix(os),r&&(os.extractRotation(r.matrixWorld),Jo.setFromRotationMatrix(os),this.quaternion.premultiply(Jo.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(CO)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(AO)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),os.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),os.multiply(e.parent.matrixWorld)),e.applyMatrix4(os),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n){let i=[];this[e]===n&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectsByProperty(e,n);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tc,e,MO),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tc,EO,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++){const o=r[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),h=a(e.skeletons),f=a(e.animations),p=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),h.length>0&&(i.skeletons=h),f.length>0&&(i.animations=f),p.length>0&&(i.nodes=p)}return i.object=r,i;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Rt.DEFAULT_UP=new G(0,1,0);Rt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Rt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yr=new G,ls=new G,Gm=new G,cs=new G,Qo=new G,el=new G,lw=new G,Wm=new G,$m=new G,jm=new G;let qd=!1;class wi{constructor(e=new G,n=new G,i=new G){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),yr.subVectors(e,n),r.cross(yr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){yr.subVectors(r,n),ls.subVectors(i,n),Gm.subVectors(e,n);const a=yr.dot(yr),o=yr.dot(ls),l=yr.dot(Gm),c=ls.dot(ls),u=ls.dot(Gm),d=a*c-o*o;if(d===0)return s.set(-2,-1,-1);const h=1/d,f=(c*l-o*u)*h,p=(a*u-o*l)*h;return s.set(1-f-p,p,f)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,cs),cs.x>=0&&cs.y>=0&&cs.x+cs.y<=1}static getUV(e,n,i,r,s,a,o,l){return qd===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),qd=!0),this.getInterpolation(e,n,i,r,s,a,o,l)}static getInterpolation(e,n,i,r,s,a,o,l){return this.getBarycoord(e,n,i,r,cs),l.setScalar(0),l.addScaledVector(s,cs.x),l.addScaledVector(a,cs.y),l.addScaledVector(o,cs.z),l}static isFrontFacing(e,n,i,r){return yr.subVectors(i,n),ls.subVectors(e,n),yr.cross(ls).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return yr.subVectors(this.c,this.b),ls.subVectors(this.a,this.b),yr.cross(ls).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return wi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return wi.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,s){return qd===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),qd=!0),wi.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}getInterpolation(e,n,i,r,s){return wi.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return wi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return wi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let a,o;Qo.subVectors(r,i),el.subVectors(s,i),Wm.subVectors(e,i);const l=Qo.dot(Wm),c=el.dot(Wm);if(l<=0&&c<=0)return n.copy(i);$m.subVectors(e,r);const u=Qo.dot($m),d=el.dot($m);if(u>=0&&d<=u)return n.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(i).addScaledVector(Qo,a);jm.subVectors(e,s);const f=Qo.dot(jm),p=el.dot(jm);if(p>=0&&f<=p)return n.copy(s);const g=f*c-l*p;if(g<=0&&c>=0&&p<=0)return o=c/(c-p),n.copy(i).addScaledVector(el,o);const m=u*p-f*d;if(m<=0&&d-u>=0&&f-p>=0)return lw.subVectors(s,r),o=(d-u)/(d-u+(f-p)),n.copy(r).addScaledVector(lw,o);const v=1/(m+g+h);return a=g*v,o=h*v,n.copy(i).addScaledVector(Qo,a).addScaledVector(el,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const VC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$s={h:0,s:0,l:0},Yd={h:0,s:0,l:0};function Xm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ue{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=wn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,zt.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=zt.workingColorSpace){return this.r=e,this.g=n,this.b=i,zt.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=zt.workingColorSpace){if(e=z0(e,1),n=fn(n,0,1),i=fn(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;this.r=Xm(a,s,e+1/3),this.g=Xm(a,s,e),this.b=Xm(a,s,e-1/3)}return zt.toWorkingColorSpace(this,r),this}setStyle(e,n=wn){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=wn){const i=VC[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ll(e.r),this.g=Ll(e.g),this.b=Ll(e.b),this}copyLinearToSRGB(e){return this.r=Om(e.r),this.g=Om(e.g),this.b=Om(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wn){return zt.fromWorkingColorSpace(Kn.copy(this),e),Math.round(fn(Kn.r*255,0,255))*65536+Math.round(fn(Kn.g*255,0,255))*256+Math.round(fn(Kn.b*255,0,255))}getHexString(e=wn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=zt.workingColorSpace){zt.fromWorkingColorSpace(Kn.copy(this),n);const i=Kn.r,r=Kn.g,s=Kn.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const d=a-o;switch(c=u<=.5?d/(a+o):d/(2-a-o),a){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=zt.workingColorSpace){return zt.fromWorkingColorSpace(Kn.copy(this),n),e.r=Kn.r,e.g=Kn.g,e.b=Kn.b,e}getStyle(e=wn){zt.fromWorkingColorSpace(Kn.copy(this),e);const n=Kn.r,i=Kn.g,r=Kn.b;return e!==wn?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL($s),this.setHSL($s.h+e,$s.s+n,$s.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL($s),e.getHSL(Yd);const i=Zc($s.h,Yd.h,n),r=Zc($s.s,Yd.s,n),s=Zc($s.l,Yd.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Kn=new Ue;Ue.NAMES=VC;let TO=0;class Rn extends Qr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:TO++}),this.uuid=Hi(),this.name="",this.type="Material",this.blending=uo,this.side=Hr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=_f,this.blendDst=xf,this.blendEquation=na,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ue(0,0,0),this.blendAlpha=0,this.depthFunc=vu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Bg,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ya,this.stencilZFail=Ya,this.stencilZPass=Ya,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==uo&&(i.blending=this.blending),this.side!==Hr&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==_f&&(i.blendSrc=this.blendSrc),this.blendDst!==xf&&(i.blendDst=this.blendDst),this.blendEquation!==na&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==vu&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Bg&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ya&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Ya&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Ya&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Mi extends Rn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ju,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const vs=PO();function PO(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function bi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=fn(t,-65504,65504),vs.floatView[0]=t;const e=vs.uint32View[0],n=e>>23&511;return vs.baseTable[n]+((e&8388607)>>vs.shiftTable[n])}function $c(t){const e=t>>10;return vs.uint32View[0]=vs.mantissaTable[vs.offsetTable[e]+(t&1023)]+vs.exponentTable[e],vs.floatView[0]}const RO={toHalfFloat:bi,fromHalfFloat:$c},xn=new G,Kd=new Me;class kt{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Mu,this.updateRange={offset:0,count:-1},this.gpuType=kr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Kd.fromBufferAttribute(this,n),Kd.applyMatrix3(e),this.setXY(n,Kd.x,Kd.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)xn.fromBufferAttribute(this,n),xn.applyMatrix3(e),this.setXYZ(n,xn.x,xn.y,xn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)xn.fromBufferAttribute(this,n),xn.applyMatrix4(e),this.setXYZ(n,xn.x,xn.y,xn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)xn.fromBufferAttribute(this,n),xn.applyNormalMatrix(e),this.setXYZ(n,xn.x,xn.y,xn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)xn.fromBufferAttribute(this,n),xn.transformDirection(e),this.setXYZ(n,xn.x,xn.y,xn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Si(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=vt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Si(n,this.array)),n}setX(e,n){return this.normalized&&(n=vt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Si(n,this.array)),n}setY(e,n){return this.normalized&&(n=vt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Si(n,this.array)),n}setZ(e,n){return this.normalized&&(n=vt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Si(n,this.array)),n}setW(e,n){return this.normalized&&(n=vt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Mu&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class LO extends kt{constructor(e,n,i){super(new Int8Array(e),n,i)}}class IO extends kt{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class kO extends kt{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class DO extends kt{constructor(e,n,i){super(new Int16Array(e),n,i)}}class W0 extends kt{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class OO extends kt{constructor(e,n,i){super(new Int32Array(e),n,i)}}class $0 extends kt{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class VO extends kt{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=$c(this.array[e*this.itemSize]);return this.normalized&&(n=Si(n,this.array)),n}setX(e,n){return this.normalized&&(n=vt(n,this.array)),this.array[e*this.itemSize]=bi(n),this}getY(e){let n=$c(this.array[e*this.itemSize+1]);return this.normalized&&(n=Si(n,this.array)),n}setY(e,n){return this.normalized&&(n=vt(n,this.array)),this.array[e*this.itemSize+1]=bi(n),this}getZ(e){let n=$c(this.array[e*this.itemSize+2]);return this.normalized&&(n=Si(n,this.array)),n}setZ(e,n){return this.normalized&&(n=vt(n,this.array)),this.array[e*this.itemSize+2]=bi(n),this}getW(e){let n=$c(this.array[e*this.itemSize+3]);return this.normalized&&(n=Si(n,this.array)),n}setW(e,n){return this.normalized&&(n=vt(n,this.array)),this.array[e*this.itemSize+3]=bi(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array)),this.array[e+0]=bi(n),this.array[e+1]=bi(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.array[e+0]=bi(n),this.array[e+1]=bi(i),this.array[e+2]=bi(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.array[e+0]=bi(n),this.array[e+1]=bi(i),this.array[e+2]=bi(r),this.array[e+3]=bi(s),this}}class qe extends kt{constructor(e,n,i){super(new Float32Array(e),n,i)}}class NO extends kt{constructor(e,n,i){super(new Float64Array(e),n,i)}}let FO=0;const Ji=new it,qm=new Rt,tl=new G,Oi=new Wi,Pc=new Wi,Vn=new G;class ht extends Qr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:FO++}),this.uuid=Hi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kC(e)?$0:W0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new yt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ji.makeRotationFromQuaternion(e),this.applyMatrix4(Ji),this}rotateX(e){return Ji.makeRotationX(e),this.applyMatrix4(Ji),this}rotateY(e){return Ji.makeRotationY(e),this.applyMatrix4(Ji),this}rotateZ(e){return Ji.makeRotationZ(e),this.applyMatrix4(Ji),this}translate(e,n,i){return Ji.makeTranslation(e,n,i),this.applyMatrix4(Ji),this}scale(e,n,i){return Ji.makeScale(e,n,i),this.applyMatrix4(Ji),this}lookAt(e){return qm.lookAt(e),qm.updateMatrix(),this.applyMatrix4(qm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(tl).negate(),this.translate(tl.x,tl.y,tl.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new qe(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Wi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Oi.setFromBufferAttribute(s),this.morphTargetsRelative?(Vn.addVectors(this.boundingBox.min,Oi.min),this.boundingBox.expandByPoint(Vn),Vn.addVectors(this.boundingBox.max,Oi.max),this.boundingBox.expandByPoint(Vn)):(this.boundingBox.expandByPoint(Oi.min),this.boundingBox.expandByPoint(Oi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $i);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const i=this.boundingSphere.center;if(Oi.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];Pc.setFromBufferAttribute(o),this.morphTargetsRelative?(Vn.addVectors(Oi.min,Pc.min),Oi.expandByPoint(Vn),Vn.addVectors(Oi.max,Pc.max),Oi.expandByPoint(Vn)):(Oi.expandByPoint(Pc.min),Oi.expandByPoint(Pc.max))}Oi.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Vn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Vn));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Vn.fromBufferAttribute(o,c),l&&(tl.fromBufferAttribute(e,c),Vn.add(tl)),r=Math.max(r,i.distanceToSquared(Vn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,a=n.uv.array,o=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new kt(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let w=0;w<o;w++)c[w]=new G,u[w]=new G;const d=new G,h=new G,f=new G,p=new Me,g=new Me,m=new Me,v=new G,x=new G;function y(w,P,R){d.fromArray(r,w*3),h.fromArray(r,P*3),f.fromArray(r,R*3),p.fromArray(a,w*2),g.fromArray(a,P*2),m.fromArray(a,R*2),h.sub(d),f.sub(d),g.sub(p),m.sub(p);const N=1/(g.x*m.y-m.x*g.y);isFinite(N)&&(v.copy(h).multiplyScalar(m.y).addScaledVector(f,-g.y).multiplyScalar(N),x.copy(f).multiplyScalar(g.x).addScaledVector(h,-m.x).multiplyScalar(N),c[w].add(v),c[P].add(v),c[R].add(v),u[w].add(x),u[P].add(x),u[R].add(x))}let b=this.groups;b.length===0&&(b=[{start:0,count:i.length}]);for(let w=0,P=b.length;w<P;++w){const R=b[w],N=R.start,k=R.count;for(let z=N,F=N+k;z<F;z+=3)y(i[z+0],i[z+1],i[z+2])}const A=new G,M=new G,E=new G,S=new G;function _(w){E.fromArray(s,w*3),S.copy(E);const P=c[w];A.copy(P),A.sub(E.multiplyScalar(E.dot(P))).normalize(),M.crossVectors(S,P);const N=M.dot(u[w])<0?-1:1;l[w*4]=A.x,l[w*4+1]=A.y,l[w*4+2]=A.z,l[w*4+3]=N}for(let w=0,P=b.length;w<P;++w){const R=b[w],N=R.start,k=R.count;for(let z=N,F=N+k;z<F;z+=3)_(i[z+0]),_(i[z+1]),_(i[z+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new kt(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const r=new G,s=new G,a=new G,o=new G,l=new G,c=new G,u=new G,d=new G;if(e)for(let h=0,f=e.count;h<f;h+=3){const p=e.getX(h+0),g=e.getX(h+1),m=e.getX(h+2);r.fromBufferAttribute(n,p),s.fromBufferAttribute(n,g),a.fromBufferAttribute(n,m),u.subVectors(a,s),d.subVectors(r,s),u.cross(d),o.fromBufferAttribute(i,p),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,m),o.add(u),l.add(u),c.add(u),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,f=n.count;h<f;h+=3)r.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),u.subVectors(a,s),d.subVectors(r,s),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Vn.fromBufferAttribute(e,n),Vn.normalize(),e.setXYZ(n,Vn.x,Vn.y,Vn.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,h=new c.constructor(l.length*u);let f=0,p=0;for(let g=0,m=l.length;g<m;g++){o.isInterleavedBufferAttribute?f=l[g]*o.data.stride+o.offset:f=l[g]*u;for(let v=0;v<u;v++)h[p++]=c[f++]}return new kt(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ht,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);n.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let u=0,d=c.length;u<d;u++){const h=c[u],f=e(h,i);l.push(f)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const f=c[d];u.push(f.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const cw=new it,Oa=new ko,Zd=new $i,uw=new G,nl=new G,il=new G,rl=new G,Ym=new G,Jd=new G,Qd=new Me,eh=new Me,th=new Me,dw=new G,hw=new G,fw=new G,nh=new G,ih=new G;class pn extends Rt{constructor(e=new ht,n=new Mi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){Jd.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=o[l],d=s[l];u!==0&&(Ym.fromBufferAttribute(d,e),a?Jd.addScaledVector(Ym,u):Jd.addScaledVector(Ym.sub(n),u))}n.add(Jd)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Zd.copy(i.boundingSphere),Zd.applyMatrix4(s),Oa.copy(e.ray).recast(e.near),!(Zd.containsPoint(Oa.origin)===!1&&(Oa.intersectSphere(Zd,uw)===null||Oa.origin.distanceToSquared(uw)>(e.far-e.near)**2))&&(cw.copy(s).invert(),Oa.copy(e.ray).applyMatrix4(cw),!(i.boundingBox!==null&&Oa.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Oa)))}_computeIntersections(e,n,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,h=s.groups,f=s.drawRange;if(o!==null)if(Array.isArray(a))for(let p=0,g=h.length;p<g;p++){const m=h[p],v=a[m.materialIndex],x=Math.max(m.start,f.start),y=Math.min(o.count,Math.min(m.start+m.count,f.start+f.count));for(let b=x,A=y;b<A;b+=3){const M=o.getX(b),E=o.getX(b+1),S=o.getX(b+2);r=rh(this,v,e,i,c,u,d,M,E,S),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=m.materialIndex,n.push(r))}}else{const p=Math.max(0,f.start),g=Math.min(o.count,f.start+f.count);for(let m=p,v=g;m<v;m+=3){const x=o.getX(m),y=o.getX(m+1),b=o.getX(m+2);r=rh(this,a,e,i,c,u,d,x,y,b),r&&(r.faceIndex=Math.floor(m/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let p=0,g=h.length;p<g;p++){const m=h[p],v=a[m.materialIndex],x=Math.max(m.start,f.start),y=Math.min(l.count,Math.min(m.start+m.count,f.start+f.count));for(let b=x,A=y;b<A;b+=3){const M=b,E=b+1,S=b+2;r=rh(this,v,e,i,c,u,d,M,E,S),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=m.materialIndex,n.push(r))}}else{const p=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);for(let m=p,v=g;m<v;m+=3){const x=m,y=m+1,b=m+2;r=rh(this,a,e,i,c,u,d,x,y,b),r&&(r.faceIndex=Math.floor(m/3),n.push(r))}}}}function BO(t,e,n,i,r,s,a,o){let l;if(e.side===ei?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===Hr,o),l===null)return null;ih.copy(o),ih.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(ih);return c<n.near||c>n.far?null:{distance:c,point:ih.clone(),object:t}}function rh(t,e,n,i,r,s,a,o,l,c){t.getVertexPosition(o,nl),t.getVertexPosition(l,il),t.getVertexPosition(c,rl);const u=BO(t,e,n,i,nl,il,rl,nh);if(u){r&&(Qd.fromBufferAttribute(r,o),eh.fromBufferAttribute(r,l),th.fromBufferAttribute(r,c),u.uv=wi.getInterpolation(nh,nl,il,rl,Qd,eh,th,new Me)),s&&(Qd.fromBufferAttribute(s,o),eh.fromBufferAttribute(s,l),th.fromBufferAttribute(s,c),u.uv1=wi.getInterpolation(nh,nl,il,rl,Qd,eh,th,new Me),u.uv2=u.uv1),a&&(dw.fromBufferAttribute(a,o),hw.fromBufferAttribute(a,l),fw.fromBufferAttribute(a,c),u.normal=wi.getInterpolation(nh,nl,il,rl,dw,hw,fw,new G),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a:o,b:l,c,normal:new G,materialIndex:0};wi.getNormal(nl,il,rl,d.normal),u.face=d}return u}class _a extends ht{constructor(e=1,n=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],u=[],d=[];let h=0,f=0;p("z","y","x",-1,-1,i,n,e,a,s,0),p("z","y","x",1,-1,i,n,-e,a,s,1),p("x","z","y",1,1,e,i,n,r,a,2),p("x","z","y",1,-1,e,i,-n,r,a,3),p("x","y","z",1,-1,e,n,i,r,s,4),p("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new qe(c,3)),this.setAttribute("normal",new qe(u,3)),this.setAttribute("uv",new qe(d,2));function p(g,m,v,x,y,b,A,M,E,S,_){const w=b/E,P=A/S,R=b/2,N=A/2,k=M/2,z=E+1,F=S+1;let j=0,X=0;const Z=new G;for(let J=0;J<F;J++){const H=J*P-N;for(let q=0;q<z;q++){const le=q*w-R;Z[g]=le*x,Z[m]=H*y,Z[v]=k,c.push(Z.x,Z.y,Z.z),Z[g]=0,Z[m]=0,Z[v]=M>0?1:-1,u.push(Z.x,Z.y,Z.z),d.push(q/E),d.push(1-J/S),j+=1}}for(let J=0;J<S;J++)for(let H=0;H<E;H++){const q=h+H+z*J,le=h+H+z*(J+1),ue=h+(H+1)+z*(J+1),be=h+(H+1)+z*J;l.push(q,le,be),l.push(le,ue,be),X+=6}o.addGroup(f,X,_),f+=X,h+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _a(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Wl(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function hi(t){const e={};for(let n=0;n<t.length;n++){const i=Wl(t[n]);for(const r in i)e[r]=i[r]}return e}function UO(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function NC(t){return t.getRenderTarget()===null?t.outputColorSpace:zt.workingColorSpace}const up={clone:Wl,merge:hi};var zO=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,HO=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fr extends Rn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=zO,this.fragmentShader=HO,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Wl(e.uniforms),this.uniformsGroups=UO(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?n.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[r]={type:"m4",value:a.toArray()}:n.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class ed extends Rt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new it,this.projectionMatrix=new it,this.projectionMatrixInverse=new it,this.coordinateSystem=Dr}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Wt extends ed{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Gl*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ho*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gl*2*Math.atan(Math.tan(ho*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ho*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,n-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const sl=-90,al=1;class FC extends Rt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Wt(sl,al,e,n);r.layers=this.layers,this.add(r);const s=new Wt(sl,al,e,n);s.layers=this.layers,this.add(s);const a=new Wt(sl,al,e,n);a.layers=this.layers,this.add(a);const o=new Wt(sl,al,e,n);o.layers=this.layers,this.add(o);const l=new Wt(sl,al,e,n);l.layers=this.layers,this.add(l);const c=new Wt(sl,al,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,a,o,l]=n;for(const c of n)this.remove(c);if(e===Dr)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Eu)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,u]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,a),e.setRenderTarget(i,2,r),e.render(n,o),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=g,e.setRenderTarget(i,5,r),e.render(n,u),e.setRenderTarget(d,h,f),e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class td extends an{constructor(e,n,i,r,s,a,o,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Es,super(e,n,i,r,s,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class BC extends Sr{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&(Jc("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===ua?wn:Fi),this.texture=new td(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:nn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new _a(5,5,5),s=new fr({name:"CubemapFromEquirect",uniforms:Wl(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ei,blending:xs});s.uniforms.tEquirect.value=n;const a=new pn(r,s),o=n.minFilter;return n.minFilter===Gr&&(n.minFilter=nn),new FC(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,r);e.setRenderTarget(s)}}const Km=new G,GO=new G,WO=new yt;class ms{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Km.subVectors(i,n).cross(GO.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Km),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||WO.getNormalMatrix(e),r=this.coplanarPoint(Km).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Va=new $i,sh=new G;class dp{constructor(e=new ms,n=new ms,i=new ms,r=new ms,s=new ms,a=new ms){this.planes=[e,n,i,r,s,a]}set(e,n,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Dr){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],u=r[5],d=r[6],h=r[7],f=r[8],p=r[9],g=r[10],m=r[11],v=r[12],x=r[13],y=r[14],b=r[15];if(i[0].setComponents(l-s,h-c,m-f,b-v).normalize(),i[1].setComponents(l+s,h+c,m+f,b+v).normalize(),i[2].setComponents(l+a,h+u,m+p,b+x).normalize(),i[3].setComponents(l-a,h-u,m-p,b-x).normalize(),i[4].setComponents(l-o,h-d,m-g,b-y).normalize(),n===Dr)i[5].setComponents(l+o,h+d,m+g,b+y).normalize();else if(n===Eu)i[5].setComponents(o,d,g,y).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Va.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Va.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Va)}intersectsSprite(e){return Va.center.set(0,0,0),Va.radius=.7071067811865476,Va.applyMatrix4(e.matrixWorld),this.intersectsSphere(Va)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(sh.x=r.normal.x>0?e.max.x:e.min.x,sh.y=r.normal.y>0?e.max.y:e.min.y,sh.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(sh)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function UC(){let t=null,e=!1,n=null,i=null;function r(s,a){n(s,a),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function $O(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,h=c.usage,f=t.createBuffer();t.bindBuffer(u,f),t.bufferData(u,d,h),c.onUploadCallback();let p;if(d instanceof Float32Array)p=t.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)p=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)p=t.SHORT;else if(d instanceof Uint32Array)p=t.UNSIGNED_INT;else if(d instanceof Int32Array)p=t.INT;else if(d instanceof Int8Array)p=t.BYTE;else if(d instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:f,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const h=u.array,f=u.updateRange;t.bindBuffer(d,c),f.count===-1?t.bufferSubData(d,0,h):(n?t.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):t.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(t.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=i.get(c);(!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:a,remove:o,update:l}}class lc extends ht{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,a=n/2,o=Math.floor(i),l=Math.floor(r),c=o+1,u=l+1,d=e/o,h=n/l,f=[],p=[],g=[],m=[];for(let v=0;v<u;v++){const x=v*h-a;for(let y=0;y<c;y++){const b=y*d-s;p.push(b,-x,0),g.push(0,0,1),m.push(y/o),m.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<o;x++){const y=x+c*v,b=x+c*(v+1),A=x+1+c*(v+1),M=x+1+c*v;f.push(y,b,M),f.push(b,A,M)}this.setIndex(f),this.setAttribute("position",new qe(p,3)),this.setAttribute("normal",new qe(g,3)),this.setAttribute("uv",new qe(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lc(e.width,e.height,e.widthSegments,e.heightSegments)}}var jO=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,XO=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,qO=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,YO=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KO=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,ZO=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,JO=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,QO=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,e3=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,t3=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,n3=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,i3=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,r3=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,s3=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,a3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,o3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,l3=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,c3=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,u3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,d3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,h3=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,f3=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,p3=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,m3=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,v3=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,g3=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,y3=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,b3=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_3="gl_FragColor = linearToOutputTexel( gl_FragColor );",x3=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,w3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,S3=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,M3=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,E3=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,C3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,A3=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,T3=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,P3=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,R3=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,L3=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,I3=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,k3=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,D3=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,O3=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,V3=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,N3=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,F3=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,B3=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,U3=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,z3=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,H3=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,G3=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,W3=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$3=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,j3=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,X3=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,q3=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Y3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,K3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Z3=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,J3=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Q3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,eV=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,nV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,iV=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,sV=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,aV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,oV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,lV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,cV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,pV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,mV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,vV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,yV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,bV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_V=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,SV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,MV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,EV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,CV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,TV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,PV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,RV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,LV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,IV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,kV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,DV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,OV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,VV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,NV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,FV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,BV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,UV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,HV=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const GV=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,WV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$V=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,XV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qV=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,YV=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,KV=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,ZV=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,JV=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,QV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,eN=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tN=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nN=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,iN=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rN=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sN=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aN=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oN=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,lN=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cN=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,uN=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,dN=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hN=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fN=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,pN=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mN=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vN=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gN=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bN=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_N=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xN=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mt={alphahash_fragment:jO,alphahash_pars_fragment:XO,alphamap_fragment:qO,alphamap_pars_fragment:YO,alphatest_fragment:KO,alphatest_pars_fragment:ZO,aomap_fragment:JO,aomap_pars_fragment:QO,begin_vertex:e3,beginnormal_vertex:t3,bsdfs:n3,iridescence_fragment:i3,bumpmap_pars_fragment:r3,clipping_planes_fragment:s3,clipping_planes_pars_fragment:a3,clipping_planes_pars_vertex:o3,clipping_planes_vertex:l3,color_fragment:c3,color_pars_fragment:u3,color_pars_vertex:d3,color_vertex:h3,common:f3,cube_uv_reflection_fragment:p3,defaultnormal_vertex:m3,displacementmap_pars_vertex:v3,displacementmap_vertex:g3,emissivemap_fragment:y3,emissivemap_pars_fragment:b3,colorspace_fragment:_3,colorspace_pars_fragment:x3,envmap_fragment:w3,envmap_common_pars_fragment:S3,envmap_pars_fragment:M3,envmap_pars_vertex:E3,envmap_physical_pars_fragment:N3,envmap_vertex:C3,fog_vertex:A3,fog_pars_vertex:T3,fog_fragment:P3,fog_pars_fragment:R3,gradientmap_pars_fragment:L3,lightmap_fragment:I3,lightmap_pars_fragment:k3,lights_lambert_fragment:D3,lights_lambert_pars_fragment:O3,lights_pars_begin:V3,lights_toon_fragment:F3,lights_toon_pars_fragment:B3,lights_phong_fragment:U3,lights_phong_pars_fragment:z3,lights_physical_fragment:H3,lights_physical_pars_fragment:G3,lights_fragment_begin:W3,lights_fragment_maps:$3,lights_fragment_end:j3,logdepthbuf_fragment:X3,logdepthbuf_pars_fragment:q3,logdepthbuf_pars_vertex:Y3,logdepthbuf_vertex:K3,map_fragment:Z3,map_pars_fragment:J3,map_particle_fragment:Q3,map_particle_pars_fragment:eV,metalnessmap_fragment:tV,metalnessmap_pars_fragment:nV,morphcolor_vertex:iV,morphnormal_vertex:rV,morphtarget_pars_vertex:sV,morphtarget_vertex:aV,normal_fragment_begin:oV,normal_fragment_maps:lV,normal_pars_fragment:cV,normal_pars_vertex:uV,normal_vertex:dV,normalmap_pars_fragment:hV,clearcoat_normal_fragment_begin:fV,clearcoat_normal_fragment_maps:pV,clearcoat_pars_fragment:mV,iridescence_pars_fragment:vV,opaque_fragment:gV,packing:yV,premultiplied_alpha_fragment:bV,project_vertex:_V,dithering_fragment:xV,dithering_pars_fragment:wV,roughnessmap_fragment:SV,roughnessmap_pars_fragment:MV,shadowmap_pars_fragment:EV,shadowmap_pars_vertex:CV,shadowmap_vertex:AV,shadowmask_pars_fragment:TV,skinbase_vertex:PV,skinning_pars_vertex:RV,skinning_vertex:LV,skinnormal_vertex:IV,specularmap_fragment:kV,specularmap_pars_fragment:DV,tonemapping_fragment:OV,tonemapping_pars_fragment:VV,transmission_fragment:NV,transmission_pars_fragment:FV,uv_pars_fragment:BV,uv_pars_vertex:UV,uv_vertex:zV,worldpos_vertex:HV,background_vert:GV,background_frag:WV,backgroundCube_vert:$V,backgroundCube_frag:jV,cube_vert:XV,cube_frag:qV,depth_vert:YV,depth_frag:KV,distanceRGBA_vert:ZV,distanceRGBA_frag:JV,equirect_vert:QV,equirect_frag:eN,linedashed_vert:tN,linedashed_frag:nN,meshbasic_vert:iN,meshbasic_frag:rN,meshlambert_vert:sN,meshlambert_frag:aN,meshmatcap_vert:oN,meshmatcap_frag:lN,meshnormal_vert:cN,meshnormal_frag:uN,meshphong_vert:dN,meshphong_frag:hN,meshphysical_vert:fN,meshphysical_frag:pN,meshtoon_vert:mN,meshtoon_frag:vN,points_vert:gN,points_frag:yN,shadow_vert:bN,shadow_frag:_N,sprite_vert:xN,sprite_frag:wN},Be={common:{diffuse:{value:new Ue(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new yt},alphaMap:{value:null},alphaMapTransform:{value:new yt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new yt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new yt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new yt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new yt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new yt},normalScale:{value:new Me(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new yt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new yt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new yt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new yt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ue(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ue(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new yt},alphaTest:{value:0},uvTransform:{value:new yt}},sprite:{diffuse:{value:new Ue(16777215)},opacity:{value:1},center:{value:new Me(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new yt},alphaMap:{value:null},alphaMapTransform:{value:new yt},alphaTest:{value:0}}},tr={basic:{uniforms:hi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:mt.meshbasic_vert,fragmentShader:mt.meshbasic_frag},lambert:{uniforms:hi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)}}]),vertexShader:mt.meshlambert_vert,fragmentShader:mt.meshlambert_frag},phong:{uniforms:hi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)},specular:{value:new Ue(1118481)},shininess:{value:30}}]),vertexShader:mt.meshphong_vert,fragmentShader:mt.meshphong_frag},standard:{uniforms:hi([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag},toon:{uniforms:hi([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)}}]),vertexShader:mt.meshtoon_vert,fragmentShader:mt.meshtoon_frag},matcap:{uniforms:hi([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:mt.meshmatcap_vert,fragmentShader:mt.meshmatcap_frag},points:{uniforms:hi([Be.points,Be.fog]),vertexShader:mt.points_vert,fragmentShader:mt.points_frag},dashed:{uniforms:hi([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mt.linedashed_vert,fragmentShader:mt.linedashed_frag},depth:{uniforms:hi([Be.common,Be.displacementmap]),vertexShader:mt.depth_vert,fragmentShader:mt.depth_frag},normal:{uniforms:hi([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:mt.meshnormal_vert,fragmentShader:mt.meshnormal_frag},sprite:{uniforms:hi([Be.sprite,Be.fog]),vertexShader:mt.sprite_vert,fragmentShader:mt.sprite_frag},background:{uniforms:{uvTransform:{value:new yt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mt.background_vert,fragmentShader:mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:mt.backgroundCube_vert,fragmentShader:mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mt.cube_vert,fragmentShader:mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mt.equirect_vert,fragmentShader:mt.equirect_frag},distanceRGBA:{uniforms:hi([Be.common,Be.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mt.distanceRGBA_vert,fragmentShader:mt.distanceRGBA_frag},shadow:{uniforms:hi([Be.lights,Be.fog,{color:{value:new Ue(0)},opacity:{value:1}}]),vertexShader:mt.shadow_vert,fragmentShader:mt.shadow_frag}};tr.physical={uniforms:hi([tr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new yt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new yt},clearcoatNormalScale:{value:new Me(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new yt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new yt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new yt},sheen:{value:0},sheenColor:{value:new Ue(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new yt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new yt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new yt},transmissionSamplerSize:{value:new Me},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new yt},attenuationDistance:{value:0},attenuationColor:{value:new Ue(0)},specularColor:{value:new Ue(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new yt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new yt},anisotropyVector:{value:new Me},anisotropyMap:{value:null},anisotropyMapTransform:{value:new yt}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag};const ah={r:0,b:0,g:0};function SN(t,e,n,i,r,s,a){const o=new Ue(0);let l=s===!0?0:1,c,u,d=null,h=0,f=null;function p(m,v){let x=!1,y=v.isScene===!0?v.background:null;y&&y.isTexture&&(y=(v.backgroundBlurriness>0?n:e).get(y)),y===null?g(o,l):y&&y.isColor&&(g(y,1),x=!0);const b=t.xr.getEnvironmentBlendMode();b==="additive"?i.buffers.color.setClear(0,0,0,1,a):b==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),y&&(y.isCubeTexture||y.mapping===oc)?(u===void 0&&(u=new pn(new _a(1,1,1),new fr({name:"BackgroundCubeMaterial",uniforms:Wl(tr.backgroundCube.uniforms),vertexShader:tr.backgroundCube.vertexShader,fragmentShader:tr.backgroundCube.fragmentShader,side:ei,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,M,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=y,u.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=zt.getTransfer(y.colorSpace)!==qt,(d!==y||h!==y.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,d=y,h=y.version,f=t.toneMapping),u.layers.enableAll(),m.unshift(u,u.geometry,u.material,0,0,null)):y&&y.isTexture&&(c===void 0&&(c=new pn(new lc(2,2),new fr({name:"BackgroundMaterial",uniforms:Wl(tr.background.uniforms),vertexShader:tr.background.vertexShader,fragmentShader:tr.background.fragmentShader,side:Hr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=zt.getTransfer(y.colorSpace)!==qt,y.matrixAutoUpdate===!0&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),(d!==y||h!==y.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,d=y,h=y.version,f=t.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null))}function g(m,v){m.getRGB(ah,NC(t)),i.buffers.color.setClear(ah.r,ah.g,ah.b,v,a)}return{getClearColor:function(){return o},setClearColor:function(m,v=1){o.set(m),l=v,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(m){l=m,g(o,l)},render:p}}function MN(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||s!==null,o={},l=m(null);let c=l,u=!1;function d(k,z,F,j,X){let Z=!1;if(a){const J=g(j,F,z);c!==J&&(c=J,f(c.object)),Z=v(k,j,F,X),Z&&x(k,j,F,X)}else{const J=z.wireframe===!0;(c.geometry!==j.id||c.program!==F.id||c.wireframe!==J)&&(c.geometry=j.id,c.program=F.id,c.wireframe=J,Z=!0)}X!==null&&n.update(X,t.ELEMENT_ARRAY_BUFFER),(Z||u)&&(u=!1,S(k,z,F,j),X!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(X).buffer))}function h(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function f(k){return i.isWebGL2?t.bindVertexArray(k):s.bindVertexArrayOES(k)}function p(k){return i.isWebGL2?t.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function g(k,z,F){const j=F.wireframe===!0;let X=o[k.id];X===void 0&&(X={},o[k.id]=X);let Z=X[z.id];Z===void 0&&(Z={},X[z.id]=Z);let J=Z[j];return J===void 0&&(J=m(h()),Z[j]=J),J}function m(k){const z=[],F=[],j=[];for(let X=0;X<r;X++)z[X]=0,F[X]=0,j[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:F,attributeDivisors:j,object:k,attributes:{},index:null}}function v(k,z,F,j){const X=c.attributes,Z=z.attributes;let J=0;const H=F.getAttributes();for(const q in H)if(H[q].location>=0){const ue=X[q];let be=Z[q];if(be===void 0&&(q==="instanceMatrix"&&k.instanceMatrix&&(be=k.instanceMatrix),q==="instanceColor"&&k.instanceColor&&(be=k.instanceColor)),ue===void 0||ue.attribute!==be||be&&ue.data!==be.data)return!0;J++}return c.attributesNum!==J||c.index!==j}function x(k,z,F,j){const X={},Z=z.attributes;let J=0;const H=F.getAttributes();for(const q in H)if(H[q].location>=0){let ue=Z[q];ue===void 0&&(q==="instanceMatrix"&&k.instanceMatrix&&(ue=k.instanceMatrix),q==="instanceColor"&&k.instanceColor&&(ue=k.instanceColor));const be={};be.attribute=ue,ue&&ue.data&&(be.data=ue.data),X[q]=be,J++}c.attributes=X,c.attributesNum=J,c.index=j}function y(){const k=c.newAttributes;for(let z=0,F=k.length;z<F;z++)k[z]=0}function b(k){A(k,0)}function A(k,z){const F=c.newAttributes,j=c.enabledAttributes,X=c.attributeDivisors;F[k]=1,j[k]===0&&(t.enableVertexAttribArray(k),j[k]=1),X[k]!==z&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,z),X[k]=z)}function M(){const k=c.newAttributes,z=c.enabledAttributes;for(let F=0,j=z.length;F<j;F++)z[F]!==k[F]&&(t.disableVertexAttribArray(F),z[F]=0)}function E(k,z,F,j,X,Z,J){J===!0?t.vertexAttribIPointer(k,z,F,X,Z):t.vertexAttribPointer(k,z,F,j,X,Z)}function S(k,z,F,j){if(i.isWebGL2===!1&&(k.isInstancedMesh||j.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;y();const X=j.attributes,Z=F.getAttributes(),J=z.defaultAttributeValues;for(const H in Z){const q=Z[H];if(q.location>=0){let le=X[H];if(le===void 0&&(H==="instanceMatrix"&&k.instanceMatrix&&(le=k.instanceMatrix),H==="instanceColor"&&k.instanceColor&&(le=k.instanceColor)),le!==void 0){const ue=le.normalized,be=le.itemSize,ae=n.get(le);if(ae===void 0)continue;const Ae=ae.buffer,ee=ae.type,L=ae.bytesPerElement,B=i.isWebGL2===!0&&(ee===t.INT||ee===t.UNSIGNED_INT||le.gpuType===I0);if(le.isInterleavedBufferAttribute){const W=le.data,T=W.stride,D=le.offset;if(W.isInstancedInterleavedBuffer){for(let V=0;V<q.locationSize;V++)A(q.location+V,W.meshPerAttribute);k.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let V=0;V<q.locationSize;V++)b(q.location+V);t.bindBuffer(t.ARRAY_BUFFER,Ae);for(let V=0;V<q.locationSize;V++)E(q.location+V,be/q.locationSize,ee,ue,T*L,(D+be/q.locationSize*V)*L,B)}else{if(le.isInstancedBufferAttribute){for(let W=0;W<q.locationSize;W++)A(q.location+W,le.meshPerAttribute);k.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let W=0;W<q.locationSize;W++)b(q.location+W);t.bindBuffer(t.ARRAY_BUFFER,Ae);for(let W=0;W<q.locationSize;W++)E(q.location+W,be/q.locationSize,ee,ue,be*L,be/q.locationSize*W*L,B)}}else if(J!==void 0){const ue=J[H];if(ue!==void 0)switch(ue.length){case 2:t.vertexAttrib2fv(q.location,ue);break;case 3:t.vertexAttrib3fv(q.location,ue);break;case 4:t.vertexAttrib4fv(q.location,ue);break;default:t.vertexAttrib1fv(q.location,ue)}}}}M()}function _(){R();for(const k in o){const z=o[k];for(const F in z){const j=z[F];for(const X in j)p(j[X].object),delete j[X];delete z[F]}delete o[k]}}function w(k){if(o[k.id]===void 0)return;const z=o[k.id];for(const F in z){const j=z[F];for(const X in j)p(j[X].object),delete j[X];delete z[F]}delete o[k.id]}function P(k){for(const z in o){const F=o[z];if(F[k.id]===void 0)continue;const j=F[k.id];for(const X in j)p(j[X].object),delete j[X];delete F[k.id]}}function R(){N(),u=!0,c!==l&&(c=l,f(c.object))}function N(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:R,resetDefaultState:N,dispose:_,releaseStatesOfGeometry:w,releaseStatesOfProgram:P,initAttributes:y,enableAttribute:b,disableUnusedAttributes:M}}function EN(t,e,n,i){const r=i.isWebGL2;let s;function a(c){s=c}function o(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,d){if(d===0)return;let h,f;if(r)h=t,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[f](s,c,u,d),n.update(u,s,d)}this.setMode=a,this.render=o,this.renderInstances=l}function CN(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(E){if(E==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let o=n.precision!==void 0?n.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),m=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),y=h>0,b=a||e.has("OES_texture_float"),A=y&&b,M=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:A,maxSamples:M}}function AN(t){const e=this;let n=null,i=0,r=!1,s=!1;const a=new ms,o=new yt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const f=d.length!==0||h||i!==0||r;return r=h,i=d.length,f},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){n=u(d,h,0)},this.setState=function(d,h,f){const p=d.clippingPlanes,g=d.clipIntersection,m=d.clipShadows,v=t.get(d);if(!r||p===null||p.length===0||s&&!m)s?u(null):c();else{const x=s?0:i,y=x*4;let b=v.clippingState||null;l.value=b,b=u(p,h,y,f);for(let A=0;A!==y;++A)b[A]=n[A];v.clippingState=b,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,h,f,p){const g=d!==null?d.length:0;let m=null;if(g!==0){if(m=l.value,p!==!0||m===null){const v=f+g*4,x=h.matrixWorldInverse;o.getNormalMatrix(x),(m===null||m.length<v)&&(m=new Float32Array(v));for(let y=0,b=f;y!==g;++y,b+=4)a.copy(d[y]).applyMatrix4(x,o),a.normal.toArray(m,b),m[b+3]=a.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,m}}function TN(t){let e=new WeakMap;function n(a,o){return o===gu?a.mapping=Es:o===yu&&(a.mapping=pa),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===gu||o===yu)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new BC(l.height/2);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",r),n(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class sr extends ed{constructor(e=-1,n=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const wl=4,pw=[.125,.215,.35,.446,.526,.582],Qa=20,Zm=new sr,mw=new Ue;let Jm=null,Qm=0,ev=0;const Ka=(1+Math.sqrt(5))/2,ol=1/Ka,vw=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Ka,ol),new G(0,Ka,-ol),new G(ol,0,Ka),new G(-ol,0,Ka),new G(Ka,ol,0),new G(-Ka,ol,0)];class Hg{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){Jm=this._renderer.getRenderTarget(),Qm=this._renderer.getActiveCubeFace(),ev=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=bw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=yw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Jm,Qm,ev),e.scissorTest=!1,oh(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Es||e.mapping===pa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Jm=this._renderer.getRenderTarget(),Qm=this._renderer.getActiveCubeFace(),ev=this._renderer.getActiveMipmapLevel();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:nn,minFilter:nn,generateMipmaps:!1,type:zl,format:Ni,colorSpace:Wr,depthBuffer:!1},r=gw(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=gw(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=PN(s)),this._blurMaterial=RN(s,e,n)}return r}_compileMaterial(e){const n=new pn(this._lodPlanes[0],e);this._renderer.compile(n,Zm)}_sceneToCubeUV(e,n,i,r){const o=new Wt(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(mw),u.toneMapping=ws,u.autoClear=!1;const f=new Mi({name:"PMREM.Background",side:ei,depthWrite:!1,depthTest:!1}),p=new pn(new _a,f);let g=!1;const m=e.background;m?m.isColor&&(f.color.copy(m),e.background=null,g=!0):(f.color.copy(mw),g=!0);for(let v=0;v<6;v++){const x=v%3;x===0?(o.up.set(0,l[v],0),o.lookAt(c[v],0,0)):x===1?(o.up.set(0,0,l[v]),o.lookAt(0,c[v],0)):(o.up.set(0,l[v],0),o.lookAt(0,0,c[v]));const y=this._cubeSize;oh(r,x*y,v>2?y:0,y,y),u.setRenderTarget(r),g&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=m}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Es||e.mapping===pa;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=bw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=yw());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new pn(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;oh(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(a,Zm)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=vw[(r-1)%vw.length];this._blur(e,r-1,r,s,a)}n.autoClear=i}_blur(e,n,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new pn(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*f):2*Math.PI/(2*Qa-1),g=s/p,m=isFinite(s)?1+Math.floor(u*g):Qa;m>Qa&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Qa}`);const v=[];let x=0;for(let E=0;E<Qa;++E){const S=E/g,_=Math.exp(-S*S/2);v.push(_),E===0?x+=_:E<m&&(x+=2*_)}for(let E=0;E<v.length;E++)v[E]=v[E]/x;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=v,h.latitudinal.value=a==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:y}=this;h.dTheta.value=p,h.mipInt.value=y-i;const b=this._sizeLods[r],A=3*b*(r>y-wl?r-y+wl:0),M=4*(this._cubeSize-b);oh(n,A,M,3*b,2*b),l.setRenderTarget(n),l.render(d,Zm)}}function PN(t){const e=[],n=[],i=[];let r=t;const s=t-wl+1+pw.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);n.push(o);let l=1/o;a>t-wl?l=pw[a-t+wl-1]:a===0&&(l=0),i.push(l);const c=1/(o-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,p=6,g=3,m=2,v=1,x=new Float32Array(g*p*f),y=new Float32Array(m*p*f),b=new Float32Array(v*p*f);for(let M=0;M<f;M++){const E=M%3*2/3-1,S=M>2?0:-1,_=[E,S,0,E+2/3,S,0,E+2/3,S+1,0,E,S,0,E+2/3,S+1,0,E,S+1,0];x.set(_,g*p*M),y.set(h,m*p*M);const w=[M,M,M,M,M,M];b.set(w,v*p*M)}const A=new ht;A.setAttribute("position",new kt(x,g)),A.setAttribute("uv",new kt(y,m)),A.setAttribute("faceIndex",new kt(b,v)),e.push(A),r>wl&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function gw(t,e,n){const i=new Sr(t,e,n);return i.texture.mapping=oc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function oh(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function RN(t,e,n){const i=new Float32Array(Qa),r=new G(0,1,0);return new fr({name:"SphericalGaussianBlur",defines:{n:Qa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:j0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function yw(){return new fr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:j0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function bw(){return new fr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:j0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function j0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function LN(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===gu||l===yu,u=l===Es||l===pa;if(c||u)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let d=e.get(o);return n===null&&(n=new Hg(t)),d=c?n.fromEquirectangular(o,d):n.fromCubemap(o,d),e.set(o,d),d.texture}else{if(e.has(o))return e.get(o).texture;{const d=o.image;if(c&&d&&d.height>0||u&&d&&r(d)){n===null&&(n=new Hg(t));const h=c?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,h),o.addEventListener("dispose",s),h.texture}else return null}}}return o}function r(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function IN(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function kN(t,e,n,i){const r={},s=new WeakMap;function a(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);for(const p in h.morphAttributes){const g=h.morphAttributes[p];for(let m=0,v=g.length;m<v;m++)e.remove(g[m])}h.removeEventListener("dispose",a),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function o(d,h){return r[h.id]===!0||(h.addEventListener("dispose",a),r[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const p in h)e.update(h[p],t.ARRAY_BUFFER);const f=d.morphAttributes;for(const p in f){const g=f[p];for(let m=0,v=g.length;m<v;m++)e.update(g[m],t.ARRAY_BUFFER)}}function c(d){const h=[],f=d.index,p=d.attributes.position;let g=0;if(f!==null){const x=f.array;g=f.version;for(let y=0,b=x.length;y<b;y+=3){const A=x[y+0],M=x[y+1],E=x[y+2];h.push(A,M,M,E,E,A)}}else if(p!==void 0){const x=p.array;g=p.version;for(let y=0,b=x.length/3-1;y<b;y+=3){const A=y+0,M=y+1,E=y+2;h.push(A,M,M,E,E,A)}}else return;const m=new(kC(h)?$0:W0)(h,1);m.version=g;const v=s.get(d);v&&e.remove(v),s.set(d,m)}function u(d){const h=s.get(d);if(h){const f=d.index;f!==null&&h.version<f.version&&c(d)}else c(d);return s.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function DN(t,e,n,i){const r=i.isWebGL2;let s;function a(h){s=h}let o,l;function c(h){o=h.type,l=h.bytesPerElement}function u(h,f){t.drawElements(s,f,o,h*l),n.update(f,s,1)}function d(h,f,p){if(p===0)return;let g,m;if(r)g=t,m="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[m](s,f,o,h*l,p),n.update(f,s,p)}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=d}function ON(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function VN(t,e){return t[0]-e[0]}function NN(t,e){return Math.abs(e[1])-Math.abs(t[1])}function FN(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,a=new Tt,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,u,d){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=p!==void 0?p.length:0;let m=s.get(u);if(m===void 0||m.count!==g){let z=function(){N.dispose(),s.delete(u),u.removeEventListener("dispose",z)};var f=z;m!==void 0&&m.texture.dispose();const y=u.morphAttributes.position!==void 0,b=u.morphAttributes.normal!==void 0,A=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],S=u.morphAttributes.color||[];let _=0;y===!0&&(_=1),b===!0&&(_=2),A===!0&&(_=3);let w=u.attributes.position.count*_,P=1;w>e.maxTextureSize&&(P=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const R=new Float32Array(w*P*4*g),N=new lp(R,w,P,g);N.type=kr,N.needsUpdate=!0;const k=_*4;for(let F=0;F<g;F++){const j=M[F],X=E[F],Z=S[F],J=w*P*4*F;for(let H=0;H<j.count;H++){const q=H*k;y===!0&&(a.fromBufferAttribute(j,H),R[J+q+0]=a.x,R[J+q+1]=a.y,R[J+q+2]=a.z,R[J+q+3]=0),b===!0&&(a.fromBufferAttribute(X,H),R[J+q+4]=a.x,R[J+q+5]=a.y,R[J+q+6]=a.z,R[J+q+7]=0),A===!0&&(a.fromBufferAttribute(Z,H),R[J+q+8]=a.x,R[J+q+9]=a.y,R[J+q+10]=a.z,R[J+q+11]=Z.itemSize===4?a.w:1)}}m={count:g,texture:N,size:new Me(w,P)},s.set(u,m),u.addEventListener("dispose",z)}let v=0;for(let y=0;y<h.length;y++)v+=h[y];const x=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",x),d.getUniforms().setValue(t,"morphTargetInfluences",h),d.getUniforms().setValue(t,"morphTargetsTexture",m.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{const p=h===void 0?0:h.length;let g=i[u.id];if(g===void 0||g.length!==p){g=[];for(let b=0;b<p;b++)g[b]=[b,0];i[u.id]=g}for(let b=0;b<p;b++){const A=g[b];A[0]=b,A[1]=h[b]}g.sort(NN);for(let b=0;b<8;b++)b<p&&g[b][1]?(o[b][0]=g[b][0],o[b][1]=g[b][1]):(o[b][0]=Number.MAX_SAFE_INTEGER,o[b][1]=0);o.sort(VN);const m=u.morphAttributes.position,v=u.morphAttributes.normal;let x=0;for(let b=0;b<8;b++){const A=o[b],M=A[0],E=A[1];M!==Number.MAX_SAFE_INTEGER&&E?(m&&u.getAttribute("morphTarget"+b)!==m[M]&&u.setAttribute("morphTarget"+b,m[M]),v&&u.getAttribute("morphNormal"+b)!==v[M]&&u.setAttribute("morphNormal"+b,v[M]),r[b]=E,x+=E):(m&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),v&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),r[b]=0)}const y=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(t,"morphTargetBaseInfluence",y),d.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function BN(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return d}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:a}}const zC=new an,HC=new lp,GC=new G0,WC=new td,_w=[],xw=[],ww=new Float32Array(16),Sw=new Float32Array(9),Mw=new Float32Array(4);function cc(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=_w[r];if(s===void 0&&(s=new Float32Array(r),_w[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function Ln(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function In(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function hp(t,e){let n=xw[e];n===void 0&&(n=new Int32Array(e),xw[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function UN(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function zN(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ln(n,e))return;t.uniform2fv(this.addr,e),In(n,e)}}function HN(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ln(n,e))return;t.uniform3fv(this.addr,e),In(n,e)}}function GN(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ln(n,e))return;t.uniform4fv(this.addr,e),In(n,e)}}function WN(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ln(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),In(n,e)}else{if(Ln(n,i))return;Mw.set(i),t.uniformMatrix2fv(this.addr,!1,Mw),In(n,i)}}function $N(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ln(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),In(n,e)}else{if(Ln(n,i))return;Sw.set(i),t.uniformMatrix3fv(this.addr,!1,Sw),In(n,i)}}function jN(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ln(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),In(n,e)}else{if(Ln(n,i))return;ww.set(i),t.uniformMatrix4fv(this.addr,!1,ww),In(n,i)}}function XN(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function qN(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ln(n,e))return;t.uniform2iv(this.addr,e),In(n,e)}}function YN(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ln(n,e))return;t.uniform3iv(this.addr,e),In(n,e)}}function KN(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ln(n,e))return;t.uniform4iv(this.addr,e),In(n,e)}}function ZN(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function JN(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ln(n,e))return;t.uniform2uiv(this.addr,e),In(n,e)}}function QN(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ln(n,e))return;t.uniform3uiv(this.addr,e),In(n,e)}}function eF(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ln(n,e))return;t.uniform4uiv(this.addr,e),In(n,e)}}function tF(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||zC,r)}function nF(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||GC,r)}function iF(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||WC,r)}function rF(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||HC,r)}function sF(t){switch(t){case 5126:return UN;case 35664:return zN;case 35665:return HN;case 35666:return GN;case 35674:return WN;case 35675:return $N;case 35676:return jN;case 5124:case 35670:return XN;case 35667:case 35671:return qN;case 35668:case 35672:return YN;case 35669:case 35673:return KN;case 5125:return ZN;case 36294:return JN;case 36295:return QN;case 36296:return eF;case 35678:case 36198:case 36298:case 36306:case 35682:return tF;case 35679:case 36299:case 36307:return nF;case 35680:case 36300:case 36308:case 36293:return iF;case 36289:case 36303:case 36311:case 36292:return rF}}function aF(t,e){t.uniform1fv(this.addr,e)}function oF(t,e){const n=cc(e,this.size,2);t.uniform2fv(this.addr,n)}function lF(t,e){const n=cc(e,this.size,3);t.uniform3fv(this.addr,n)}function cF(t,e){const n=cc(e,this.size,4);t.uniform4fv(this.addr,n)}function uF(t,e){const n=cc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function dF(t,e){const n=cc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function hF(t,e){const n=cc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function fF(t,e){t.uniform1iv(this.addr,e)}function pF(t,e){t.uniform2iv(this.addr,e)}function mF(t,e){t.uniform3iv(this.addr,e)}function vF(t,e){t.uniform4iv(this.addr,e)}function gF(t,e){t.uniform1uiv(this.addr,e)}function yF(t,e){t.uniform2uiv(this.addr,e)}function bF(t,e){t.uniform3uiv(this.addr,e)}function _F(t,e){t.uniform4uiv(this.addr,e)}function xF(t,e,n){const i=this.cache,r=e.length,s=hp(n,r);Ln(i,s)||(t.uniform1iv(this.addr,s),In(i,s));for(let a=0;a!==r;++a)n.setTexture2D(e[a]||zC,s[a])}function wF(t,e,n){const i=this.cache,r=e.length,s=hp(n,r);Ln(i,s)||(t.uniform1iv(this.addr,s),In(i,s));for(let a=0;a!==r;++a)n.setTexture3D(e[a]||GC,s[a])}function SF(t,e,n){const i=this.cache,r=e.length,s=hp(n,r);Ln(i,s)||(t.uniform1iv(this.addr,s),In(i,s));for(let a=0;a!==r;++a)n.setTextureCube(e[a]||WC,s[a])}function MF(t,e,n){const i=this.cache,r=e.length,s=hp(n,r);Ln(i,s)||(t.uniform1iv(this.addr,s),In(i,s));for(let a=0;a!==r;++a)n.setTexture2DArray(e[a]||HC,s[a])}function EF(t){switch(t){case 5126:return aF;case 35664:return oF;case 35665:return lF;case 35666:return cF;case 35674:return uF;case 35675:return dF;case 35676:return hF;case 5124:case 35670:return fF;case 35667:case 35671:return pF;case 35668:case 35672:return mF;case 35669:case 35673:return vF;case 5125:return gF;case 36294:return yF;case 36295:return bF;case 36296:return _F;case 35678:case 36198:case 36298:case 36306:case 35682:return xF;case 35679:case 36299:case 36307:return wF;case 35680:case 36300:case 36308:case 36293:return SF;case 36289:case 36303:case 36311:case 36292:return MF}}class CF{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.setValue=sF(n.type)}}class AF{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.size=n.size,this.setValue=EF(n.type)}}class TF{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,n[o.id],i)}}}const tv=/(\w+)(\])?(\[|\.)?/g;function Ew(t,e){t.seq.push(e),t.map[e.id]=e}function PF(t,e,n){const i=t.name,r=i.length;for(tv.lastIndex=0;;){const s=tv.exec(i),a=tv.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){Ew(n,c===void 0?new CF(o,t,e):new AF(o,t,e));break}else{let d=n.map[o];d===void 0&&(d=new TF(o),Ew(n,d)),n=d}}}class Qh{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),a=e.getUniformLocation(n,s.name);PF(s,a,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in n&&i.push(a)}return i}}function Cw(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const RF=37297;let LF=0;function IF(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return i.join(`
`)}function kF(t){const e=zt.getPrimaries(zt.workingColorSpace),n=zt.getPrimaries(t);let i;switch(e===n?i="":e===Su&&n===wu?i="LinearDisplayP3ToLinearSRGB":e===wu&&n===Su&&(i="LinearSRGBToLinearDisplayP3"),t){case Wr:case Qu:return[i,"LinearTransferOETF"];case wn:case ap:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function Aw(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+IF(t.getShaderSource(e),a)}else return r}function DF(t,e){const n=kF(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function OF(t,e){let n;switch(e){case iC:n="Linear";break;case rC:n="Reinhard";break;case sC:n="OptimizedCineon";break;case L0:n="ACESFilmic";break;case aC:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function VF(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jc).join(`
`)}function NF(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function FF(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function jc(t){return t!==""}function Tw(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Pw(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const BF=/^[ \t]*#include +<([\w\d./]+)>/gm;function Gg(t){return t.replace(BF,zF)}const UF=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function zF(t,e){let n=mt[e];if(n===void 0){const i=UF.get(e);if(i!==void 0)n=mt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Gg(n)}const HF=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Rw(t){return t.replace(HF,GF)}function GF(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Lw(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function WF(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===P0?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===R0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Rr&&(e="SHADOWMAP_TYPE_VSM"),e}function $F(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Es:case pa:e="ENVMAP_TYPE_CUBE";break;case oc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function jF(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case pa:e="ENVMAP_MODE_REFRACTION";break}return e}function XF(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Ju:e="ENVMAP_BLENDING_MULTIPLY";break;case tC:e="ENVMAP_BLENDING_MIX";break;case nC:e="ENVMAP_BLENDING_ADD";break}return e}function qF(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function YF(t,e,n,i){const r=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=WF(n),c=$F(n),u=jF(n),d=XF(n),h=qF(n),f=n.isWebGL2?"":VF(n),p=NF(s),g=r.createProgram();let m,v,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(jc).join(`
`),m.length>0&&(m+=`
`),v=[f,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(jc).join(`
`),v.length>0&&(v+=`
`)):(m=[Lw(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jc).join(`
`),v=[f,Lw(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ws?"#define TONE_MAPPING":"",n.toneMapping!==ws?mt.tonemapping_pars_fragment:"",n.toneMapping!==ws?OF("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",mt.colorspace_pars_fragment,DF("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(jc).join(`
`)),a=Gg(a),a=Tw(a,n),a=Pw(a,n),o=Gg(o),o=Tw(o,n),o=Pw(o,n),a=Rw(a),o=Rw(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,v=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===Ug?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ug?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const y=x+m+a,b=x+v+o,A=Cw(r,r.VERTEX_SHADER,y),M=Cw(r,r.FRAGMENT_SHADER,b);r.attachShader(g,A),r.attachShader(g,M),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g);function E(P){if(t.debug.checkShaderErrors){const R=r.getProgramInfoLog(g).trim(),N=r.getShaderInfoLog(A).trim(),k=r.getShaderInfoLog(M).trim();let z=!0,F=!0;if(r.getProgramParameter(g,r.LINK_STATUS)===!1)if(z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,g,A,M);else{const j=Aw(r,A,"vertex"),X=Aw(r,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+`

Program Info Log: `+R+`
`+j+`
`+X)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(N===""||k==="")&&(F=!1);F&&(P.diagnostics={runnable:z,programLog:R,vertexShader:{log:N,prefix:m},fragmentShader:{log:k,prefix:v}})}r.deleteShader(A),r.deleteShader(M),S=new Qh(r,g),_=FF(r,g)}let S;this.getUniforms=function(){return S===void 0&&E(this),S};let _;this.getAttributes=function(){return _===void 0&&E(this),_};let w=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return w===!1&&(w=r.getProgramParameter(g,RF)),w},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=LF++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=A,this.fragmentShader=M,this}let KF=0;class ZF{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new JF(e),n.set(e,i)),i}}class JF{constructor(e){this.id=KF++,this.code=e,this.usedTimes=0}}function QF(t,e,n,i,r,s,a){const o=new cp,l=new ZF,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(_){return _===0?"uv":`uv${_}`}function m(_,w,P,R,N){const k=R.fog,z=N.geometry,F=_.isMeshStandardMaterial?R.environment:null,j=(_.isMeshStandardMaterial?n:e).get(_.envMap||F),X=j&&j.mapping===oc?j.image.height:null,Z=p[_.type];_.precision!==null&&(f=r.getMaxPrecision(_.precision),f!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",f,"instead."));const J=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,H=J!==void 0?J.length:0;let q=0;z.morphAttributes.position!==void 0&&(q=1),z.morphAttributes.normal!==void 0&&(q=2),z.morphAttributes.color!==void 0&&(q=3);let le,ue,be,ae;if(Z){const jt=tr[Z];le=jt.vertexShader,ue=jt.fragmentShader}else le=_.vertexShader,ue=_.fragmentShader,l.update(_),be=l.getVertexShaderID(_),ae=l.getFragmentShaderID(_);const Ae=t.getRenderTarget(),ee=N.isInstancedMesh===!0,L=!!_.map,B=!!_.matcap,W=!!j,T=!!_.aoMap,D=!!_.lightMap,V=!!_.bumpMap,Y=!!_.normalMap,K=!!_.displacementMap,ie=!!_.emissiveMap,oe=!!_.metalnessMap,se=!!_.roughnessMap,fe=_.anisotropy>0,ce=_.clearcoat>0,Te=_.iridescence>0,U=_.sheen>0,O=_.transmission>0,ne=fe&&!!_.anisotropyMap,we=ce&&!!_.clearcoatMap,ye=ce&&!!_.clearcoatNormalMap,Ce=ce&&!!_.clearcoatRoughnessMap,ze=Te&&!!_.iridescenceMap,ke=Te&&!!_.iridescenceThicknessMap,He=U&&!!_.sheenColorMap,Je=U&&!!_.sheenRoughnessMap,gt=!!_.specularMap,Oe=!!_.specularColorMap,st=!!_.specularIntensityMap,Q=O&&!!_.transmissionMap,_e=O&&!!_.thicknessMap,Ie=!!_.gradientMap,De=!!_.alphaMap,et=_.alphaTest>0,te=!!_.alphaHash,We=!!_.extensions,Ne=!!z.attributes.uv1,Se=!!z.attributes.uv2,Ve=!!z.attributes.uv3;let Ze=ws;return _.toneMapped&&(Ae===null||Ae.isXRRenderTarget===!0)&&(Ze=t.toneMapping),{isWebGL2:u,shaderID:Z,shaderType:_.type,shaderName:_.name,vertexShader:le,fragmentShader:ue,defines:_.defines,customVertexShaderID:be,customFragmentShaderID:ae,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:f,instancing:ee,instancingColor:ee&&N.instanceColor!==null,supportsVertexTextures:h,outputColorSpace:Ae===null?t.outputColorSpace:Ae.isXRRenderTarget===!0?Ae.texture.colorSpace:Wr,map:L,matcap:B,envMap:W,envMapMode:W&&j.mapping,envMapCubeUVHeight:X,aoMap:T,lightMap:D,bumpMap:V,normalMap:Y,displacementMap:h&&K,emissiveMap:ie,normalMapObjectSpace:Y&&_.normalMapType===SC,normalMapTangentSpace:Y&&_.normalMapType===ba,metalnessMap:oe,roughnessMap:se,anisotropy:fe,anisotropyMap:ne,clearcoat:ce,clearcoatMap:we,clearcoatNormalMap:ye,clearcoatRoughnessMap:Ce,iridescence:Te,iridescenceMap:ze,iridescenceThicknessMap:ke,sheen:U,sheenColorMap:He,sheenRoughnessMap:Je,specularMap:gt,specularColorMap:Oe,specularIntensityMap:st,transmission:O,transmissionMap:Q,thicknessMap:_e,gradientMap:Ie,opaque:_.transparent===!1&&_.blending===uo,alphaMap:De,alphaTest:et,alphaHash:te,combine:_.combine,mapUv:L&&g(_.map.channel),aoMapUv:T&&g(_.aoMap.channel),lightMapUv:D&&g(_.lightMap.channel),bumpMapUv:V&&g(_.bumpMap.channel),normalMapUv:Y&&g(_.normalMap.channel),displacementMapUv:K&&g(_.displacementMap.channel),emissiveMapUv:ie&&g(_.emissiveMap.channel),metalnessMapUv:oe&&g(_.metalnessMap.channel),roughnessMapUv:se&&g(_.roughnessMap.channel),anisotropyMapUv:ne&&g(_.anisotropyMap.channel),clearcoatMapUv:we&&g(_.clearcoatMap.channel),clearcoatNormalMapUv:ye&&g(_.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ce&&g(_.clearcoatRoughnessMap.channel),iridescenceMapUv:ze&&g(_.iridescenceMap.channel),iridescenceThicknessMapUv:ke&&g(_.iridescenceThicknessMap.channel),sheenColorMapUv:He&&g(_.sheenColorMap.channel),sheenRoughnessMapUv:Je&&g(_.sheenRoughnessMap.channel),specularMapUv:gt&&g(_.specularMap.channel),specularColorMapUv:Oe&&g(_.specularColorMap.channel),specularIntensityMapUv:st&&g(_.specularIntensityMap.channel),transmissionMapUv:Q&&g(_.transmissionMap.channel),thicknessMapUv:_e&&g(_.thicknessMap.channel),alphaMapUv:De&&g(_.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(Y||fe),vertexColors:_.vertexColors,vertexAlphas:_.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUv1s:Ne,vertexUv2s:Se,vertexUv3s:Ve,pointsUvs:N.isPoints===!0&&!!z.attributes.uv&&(L||De),fog:!!k,useFog:_.fog===!0,fogExp2:k&&k.isFogExp2,flatShading:_.flatShading===!0,sizeAttenuation:_.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:N.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:q,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:_.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ze,useLegacyLights:t._useLegacyLights,decodeVideoTexture:L&&_.map.isVideoTexture===!0&&zt.getTransfer(_.map.colorSpace)===qt,premultipliedAlpha:_.premultipliedAlpha,doubleSided:_.side===nr,flipSided:_.side===ei,useDepthPacking:_.depthPacking>=0,depthPacking:_.depthPacking||0,index0AttributeName:_.index0AttributeName,extensionDerivatives:We&&_.extensions.derivatives===!0,extensionFragDepth:We&&_.extensions.fragDepth===!0,extensionDrawBuffers:We&&_.extensions.drawBuffers===!0,extensionShaderTextureLOD:We&&_.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:_.customProgramCacheKey()}}function v(_){const w=[];if(_.shaderID?w.push(_.shaderID):(w.push(_.customVertexShaderID),w.push(_.customFragmentShaderID)),_.defines!==void 0)for(const P in _.defines)w.push(P),w.push(_.defines[P]);return _.isRawShaderMaterial===!1&&(x(w,_),y(w,_),w.push(t.outputColorSpace)),w.push(_.customProgramCacheKey),w.join()}function x(_,w){_.push(w.precision),_.push(w.outputColorSpace),_.push(w.envMapMode),_.push(w.envMapCubeUVHeight),_.push(w.mapUv),_.push(w.alphaMapUv),_.push(w.lightMapUv),_.push(w.aoMapUv),_.push(w.bumpMapUv),_.push(w.normalMapUv),_.push(w.displacementMapUv),_.push(w.emissiveMapUv),_.push(w.metalnessMapUv),_.push(w.roughnessMapUv),_.push(w.anisotropyMapUv),_.push(w.clearcoatMapUv),_.push(w.clearcoatNormalMapUv),_.push(w.clearcoatRoughnessMapUv),_.push(w.iridescenceMapUv),_.push(w.iridescenceThicknessMapUv),_.push(w.sheenColorMapUv),_.push(w.sheenRoughnessMapUv),_.push(w.specularMapUv),_.push(w.specularColorMapUv),_.push(w.specularIntensityMapUv),_.push(w.transmissionMapUv),_.push(w.thicknessMapUv),_.push(w.combine),_.push(w.fogExp2),_.push(w.sizeAttenuation),_.push(w.morphTargetsCount),_.push(w.morphAttributeCount),_.push(w.numDirLights),_.push(w.numPointLights),_.push(w.numSpotLights),_.push(w.numSpotLightMaps),_.push(w.numHemiLights),_.push(w.numRectAreaLights),_.push(w.numDirLightShadows),_.push(w.numPointLightShadows),_.push(w.numSpotLightShadows),_.push(w.numSpotLightShadowsWithMaps),_.push(w.numLightProbes),_.push(w.shadowMapType),_.push(w.toneMapping),_.push(w.numClippingPlanes),_.push(w.numClipIntersection),_.push(w.depthPacking)}function y(_,w){o.disableAll(),w.isWebGL2&&o.enable(0),w.supportsVertexTextures&&o.enable(1),w.instancing&&o.enable(2),w.instancingColor&&o.enable(3),w.matcap&&o.enable(4),w.envMap&&o.enable(5),w.normalMapObjectSpace&&o.enable(6),w.normalMapTangentSpace&&o.enable(7),w.clearcoat&&o.enable(8),w.iridescence&&o.enable(9),w.alphaTest&&o.enable(10),w.vertexColors&&o.enable(11),w.vertexAlphas&&o.enable(12),w.vertexUv1s&&o.enable(13),w.vertexUv2s&&o.enable(14),w.vertexUv3s&&o.enable(15),w.vertexTangents&&o.enable(16),w.anisotropy&&o.enable(17),w.alphaHash&&o.enable(18),_.push(o.mask),o.disableAll(),w.fog&&o.enable(0),w.useFog&&o.enable(1),w.flatShading&&o.enable(2),w.logarithmicDepthBuffer&&o.enable(3),w.skinning&&o.enable(4),w.morphTargets&&o.enable(5),w.morphNormals&&o.enable(6),w.morphColors&&o.enable(7),w.premultipliedAlpha&&o.enable(8),w.shadowMapEnabled&&o.enable(9),w.useLegacyLights&&o.enable(10),w.doubleSided&&o.enable(11),w.flipSided&&o.enable(12),w.useDepthPacking&&o.enable(13),w.dithering&&o.enable(14),w.transmission&&o.enable(15),w.sheen&&o.enable(16),w.opaque&&o.enable(17),w.pointsUvs&&o.enable(18),w.decodeVideoTexture&&o.enable(19),_.push(o.mask)}function b(_){const w=p[_.type];let P;if(w){const R=tr[w];P=up.clone(R.uniforms)}else P=_.uniforms;return P}function A(_,w){let P;for(let R=0,N=c.length;R<N;R++){const k=c[R];if(k.cacheKey===w){P=k,++P.usedTimes;break}}return P===void 0&&(P=new YF(t,w,_,s),c.push(P)),P}function M(_){if(--_.usedTimes===0){const w=c.indexOf(_);c[w]=c[c.length-1],c.pop(),_.destroy()}}function E(_){l.remove(_)}function S(){l.dispose()}return{getParameters:m,getProgramCacheKey:v,getUniforms:b,acquireProgram:A,releaseProgram:M,releaseShaderCache:E,programs:c,dispose:S}}function eB(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function i(s,a,o){t.get(s)[a]=o}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function tB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Iw(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function kw(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function a(d,h,f,p,g,m){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:h,material:f,groupOrder:p,renderOrder:d.renderOrder,z:g,group:m},t[e]=v):(v.id=d.id,v.object=d,v.geometry=h,v.material=f,v.groupOrder=p,v.renderOrder=d.renderOrder,v.z=g,v.group=m),e++,v}function o(d,h,f,p,g,m){const v=a(d,h,f,p,g,m);f.transmission>0?i.push(v):f.transparent===!0?r.push(v):n.push(v)}function l(d,h,f,p,g,m){const v=a(d,h,f,p,g,m);f.transmission>0?i.unshift(v):f.transparent===!0?r.unshift(v):n.unshift(v)}function c(d,h){n.length>1&&n.sort(d||tB),i.length>1&&i.sort(h||Iw),r.length>1&&r.sort(h||Iw)}function u(){for(let d=e,h=t.length;d<h;d++){const f=t[d];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:u,sort:c}}function nB(){let t=new WeakMap;function e(i,r){const s=t.get(i);let a;return s===void 0?(a=new kw,t.set(i,[a])):r>=s.length?(a=new kw,s.push(a)):a=s[r],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function iB(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new Ue};break;case"SpotLight":n={position:new G,direction:new G,color:new Ue,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new Ue,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new Ue,groundColor:new Ue};break;case"RectAreaLight":n={color:new Ue,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function rB(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let sB=0;function aB(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function oB(t,e){const n=new iB,i=rB(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new G);const s=new G,a=new it,o=new it;function l(u,d){let h=0,f=0,p=0;for(let R=0;R<9;R++)r.probe[R].set(0,0,0);let g=0,m=0,v=0,x=0,y=0,b=0,A=0,M=0,E=0,S=0,_=0;u.sort(aB);const w=d===!0?Math.PI:1;for(let R=0,N=u.length;R<N;R++){const k=u[R],z=k.color,F=k.intensity,j=k.distance,X=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)h+=z.r*F*w,f+=z.g*F*w,p+=z.b*F*w;else if(k.isLightProbe){for(let Z=0;Z<9;Z++)r.probe[Z].addScaledVector(k.sh.coefficients[Z],F);_++}else if(k.isDirectionalLight){const Z=n.get(k);if(Z.color.copy(k.color).multiplyScalar(k.intensity*w),k.castShadow){const J=k.shadow,H=i.get(k);H.shadowBias=J.bias,H.shadowNormalBias=J.normalBias,H.shadowRadius=J.radius,H.shadowMapSize=J.mapSize,r.directionalShadow[g]=H,r.directionalShadowMap[g]=X,r.directionalShadowMatrix[g]=k.shadow.matrix,b++}r.directional[g]=Z,g++}else if(k.isSpotLight){const Z=n.get(k);Z.position.setFromMatrixPosition(k.matrixWorld),Z.color.copy(z).multiplyScalar(F*w),Z.distance=j,Z.coneCos=Math.cos(k.angle),Z.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),Z.decay=k.decay,r.spot[v]=Z;const J=k.shadow;if(k.map&&(r.spotLightMap[E]=k.map,E++,J.updateMatrices(k),k.castShadow&&S++),r.spotLightMatrix[v]=J.matrix,k.castShadow){const H=i.get(k);H.shadowBias=J.bias,H.shadowNormalBias=J.normalBias,H.shadowRadius=J.radius,H.shadowMapSize=J.mapSize,r.spotShadow[v]=H,r.spotShadowMap[v]=X,M++}v++}else if(k.isRectAreaLight){const Z=n.get(k);Z.color.copy(z).multiplyScalar(F),Z.halfWidth.set(k.width*.5,0,0),Z.halfHeight.set(0,k.height*.5,0),r.rectArea[x]=Z,x++}else if(k.isPointLight){const Z=n.get(k);if(Z.color.copy(k.color).multiplyScalar(k.intensity*w),Z.distance=k.distance,Z.decay=k.decay,k.castShadow){const J=k.shadow,H=i.get(k);H.shadowBias=J.bias,H.shadowNormalBias=J.normalBias,H.shadowRadius=J.radius,H.shadowMapSize=J.mapSize,H.shadowCameraNear=J.camera.near,H.shadowCameraFar=J.camera.far,r.pointShadow[m]=H,r.pointShadowMap[m]=X,r.pointShadowMatrix[m]=k.shadow.matrix,A++}r.point[m]=Z,m++}else if(k.isHemisphereLight){const Z=n.get(k);Z.skyColor.copy(k.color).multiplyScalar(F*w),Z.groundColor.copy(k.groundColor).multiplyScalar(F*w),r.hemi[y]=Z,y++}}x>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_FLOAT_1,r.rectAreaLTC2=Be.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_HALF_1,r.rectAreaLTC2=Be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=p;const P=r.hash;(P.directionalLength!==g||P.pointLength!==m||P.spotLength!==v||P.rectAreaLength!==x||P.hemiLength!==y||P.numDirectionalShadows!==b||P.numPointShadows!==A||P.numSpotShadows!==M||P.numSpotMaps!==E||P.numLightProbes!==_)&&(r.directional.length=g,r.spot.length=v,r.rectArea.length=x,r.point.length=m,r.hemi.length=y,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=A,r.pointShadowMap.length=A,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=A,r.spotLightMatrix.length=M+E-S,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=S,r.numLightProbes=_,P.directionalLength=g,P.pointLength=m,P.spotLength=v,P.rectAreaLength=x,P.hemiLength=y,P.numDirectionalShadows=b,P.numPointShadows=A,P.numSpotShadows=M,P.numSpotMaps=E,P.numLightProbes=_,r.version=sB++)}function c(u,d){let h=0,f=0,p=0,g=0,m=0;const v=d.matrixWorldInverse;for(let x=0,y=u.length;x<y;x++){const b=u[x];if(b.isDirectionalLight){const A=r.directional[h];A.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(v),h++}else if(b.isSpotLight){const A=r.spot[p];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(v),A.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(v),p++}else if(b.isRectAreaLight){const A=r.rectArea[g];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(v),o.identity(),a.copy(b.matrixWorld),a.premultiply(v),o.extractRotation(a),A.halfWidth.set(b.width*.5,0,0),A.halfHeight.set(0,b.height*.5,0),A.halfWidth.applyMatrix4(o),A.halfHeight.applyMatrix4(o),g++}else if(b.isPointLight){const A=r.point[f];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(v),f++}else if(b.isHemisphereLight){const A=r.hemi[m];A.direction.setFromMatrixPosition(b.matrixWorld),A.direction.transformDirection(v),m++}}}return{setup:l,setupView:c,state:r}}function Dw(t,e){const n=new oB(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function a(d){i.push(d)}function o(d){r.push(d)}function l(d){n.setup(i,d)}function c(d){n.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function lB(t,e){let n=new WeakMap;function i(s,a=0){const o=n.get(s);let l;return o===void 0?(l=new Dw(t,e),n.set(s,[l])):a>=o.length?(l=new Dw(t,e),o.push(l)):l=o[a],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class X0 extends Rn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=xC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class q0 extends Rn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const cB=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uB=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function dB(t,e,n){let i=new dp;const r=new Me,s=new Me,a=new Tt,o=new X0({depthPacking:wC}),l=new q0,c={},u=n.maxTextureSize,d={[Hr]:ei,[ei]:Hr,[nr]:nr},h=new fr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Me},radius:{value:4}},vertexShader:cB,fragmentShader:uB}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new ht;p.setAttribute("position",new kt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new pn(p,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=P0;let v=this.type;this.render=function(A,M,E){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||A.length===0)return;const S=t.getRenderTarget(),_=t.getActiveCubeFace(),w=t.getActiveMipmapLevel(),P=t.state;P.setBlending(xs),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);const R=v!==Rr&&this.type===Rr,N=v===Rr&&this.type!==Rr;for(let k=0,z=A.length;k<z;k++){const F=A[k],j=F.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;r.copy(j.mapSize);const X=j.getFrameExtents();if(r.multiply(X),s.copy(j.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/X.x),r.x=s.x*X.x,j.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/X.y),r.y=s.y*X.y,j.mapSize.y=s.y)),j.map===null||R===!0||N===!0){const J=this.type!==Rr?{minFilter:hn,magFilter:hn}:{};j.map!==null&&j.map.dispose(),j.map=new Sr(r.x,r.y,J),j.map.texture.name=F.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const Z=j.getViewportCount();for(let J=0;J<Z;J++){const H=j.getViewport(J);a.set(s.x*H.x,s.y*H.y,s.x*H.z,s.y*H.w),P.viewport(a),j.updateMatrices(F,J),i=j.getFrustum(),b(M,E,j.camera,F,this.type)}j.isPointLightShadow!==!0&&this.type===Rr&&x(j,E),j.needsUpdate=!1}v=this.type,m.needsUpdate=!1,t.setRenderTarget(S,_,w)};function x(A,M){const E=e.update(g);h.defines.VSM_SAMPLES!==A.blurSamples&&(h.defines.VSM_SAMPLES=A.blurSamples,f.defines.VSM_SAMPLES=A.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Sr(r.x,r.y)),h.uniforms.shadow_pass.value=A.map.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(M,null,E,h,g,null),f.uniforms.shadow_pass.value=A.mapPass.texture,f.uniforms.resolution.value=A.mapSize,f.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(M,null,E,f,g,null)}function y(A,M,E,S){let _=null;const w=E.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(w!==void 0)_=w;else if(_=E.isPointLight===!0?l:o,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const P=_.uuid,R=M.uuid;let N=c[P];N===void 0&&(N={},c[P]=N);let k=N[R];k===void 0&&(k=_.clone(),N[R]=k),_=k}if(_.visible=M.visible,_.wireframe=M.wireframe,S===Rr?_.side=M.shadowSide!==null?M.shadowSide:M.side:_.side=M.shadowSide!==null?M.shadowSide:d[M.side],_.alphaMap=M.alphaMap,_.alphaTest=M.alphaTest,_.map=M.map,_.clipShadows=M.clipShadows,_.clippingPlanes=M.clippingPlanes,_.clipIntersection=M.clipIntersection,_.displacementMap=M.displacementMap,_.displacementScale=M.displacementScale,_.displacementBias=M.displacementBias,_.wireframeLinewidth=M.wireframeLinewidth,_.linewidth=M.linewidth,E.isPointLight===!0&&_.isMeshDistanceMaterial===!0){const P=t.properties.get(_);P.light=E}return _}function b(A,M,E,S,_){if(A.visible===!1)return;if(A.layers.test(M.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&_===Rr)&&(!A.frustumCulled||i.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,A.matrixWorld);const R=e.update(A),N=A.material;if(Array.isArray(N)){const k=R.groups;for(let z=0,F=k.length;z<F;z++){const j=k[z],X=N[j.materialIndex];if(X&&X.visible){const Z=y(A,X,S,_);t.renderBufferDirect(E,null,R,Z,A,j)}}}else if(N.visible){const k=y(A,N,S,_);t.renderBufferDirect(E,null,R,k,A,null)}}const P=A.children;for(let R=0,N=P.length;R<N;R++)b(P[R],M,E,S,_)}}function hB(t,e,n){const i=n.isWebGL2;function r(){let te=!1;const We=new Tt;let Ne=null;const Se=new Tt(0,0,0,0);return{setMask:function(Ve){Ne!==Ve&&!te&&(t.colorMask(Ve,Ve,Ve,Ve),Ne=Ve)},setLocked:function(Ve){te=Ve},setClear:function(Ve,Ze,xt,jt,$n){$n===!0&&(Ve*=jt,Ze*=jt,xt*=jt),We.set(Ve,Ze,xt,jt),Se.equals(We)===!1&&(t.clearColor(Ve,Ze,xt,jt),Se.copy(We))},reset:function(){te=!1,Ne=null,Se.set(-1,0,0,0)}}}function s(){let te=!1,We=null,Ne=null,Se=null;return{setTest:function(Ve){Ve?L(t.DEPTH_TEST):B(t.DEPTH_TEST)},setMask:function(Ve){We!==Ve&&!te&&(t.depthMask(Ve),We=Ve)},setFunc:function(Ve){if(Ne!==Ve){switch(Ve){case qE:t.depthFunc(t.NEVER);break;case YE:t.depthFunc(t.ALWAYS);break;case KE:t.depthFunc(t.LESS);break;case vu:t.depthFunc(t.LEQUAL);break;case ZE:t.depthFunc(t.EQUAL);break;case JE:t.depthFunc(t.GEQUAL);break;case QE:t.depthFunc(t.GREATER);break;case eC:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ne=Ve}},setLocked:function(Ve){te=Ve},setClear:function(Ve){Se!==Ve&&(t.clearDepth(Ve),Se=Ve)},reset:function(){te=!1,We=null,Ne=null,Se=null}}}function a(){let te=!1,We=null,Ne=null,Se=null,Ve=null,Ze=null,xt=null,jt=null,$n=null;return{setTest:function(Xt){te||(Xt?L(t.STENCIL_TEST):B(t.STENCIL_TEST))},setMask:function(Xt){We!==Xt&&!te&&(t.stencilMask(Xt),We=Xt)},setFunc:function(Xt,li,Tr){(Ne!==Xt||Se!==li||Ve!==Tr)&&(t.stencilFunc(Xt,li,Tr),Ne=Xt,Se=li,Ve=Tr)},setOp:function(Xt,li,Tr){(Ze!==Xt||xt!==li||jt!==Tr)&&(t.stencilOp(Xt,li,Tr),Ze=Xt,xt=li,jt=Tr)},setLocked:function(Xt){te=Xt},setClear:function(Xt){$n!==Xt&&(t.clearStencil(Xt),$n=Xt)},reset:function(){te=!1,We=null,Ne=null,Se=null,Ve=null,Ze=null,xt=null,jt=null,$n=null}}}const o=new r,l=new s,c=new a,u=new WeakMap,d=new WeakMap;let h={},f={},p=new WeakMap,g=[],m=null,v=!1,x=null,y=null,b=null,A=null,M=null,E=null,S=null,_=new Ue(0,0,0),w=0,P=!1,R=null,N=null,k=null,z=null,F=null;const j=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,Z=0;const J=t.getParameter(t.VERSION);J.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(J)[1]),X=Z>=1):J.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),X=Z>=2);let H=null,q={};const le=t.getParameter(t.SCISSOR_BOX),ue=t.getParameter(t.VIEWPORT),be=new Tt().fromArray(le),ae=new Tt().fromArray(ue);function Ae(te,We,Ne,Se){const Ve=new Uint8Array(4),Ze=t.createTexture();t.bindTexture(te,Ze),t.texParameteri(te,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(te,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let xt=0;xt<Ne;xt++)i&&(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)?t.texImage3D(We,0,t.RGBA,1,1,Se,0,t.RGBA,t.UNSIGNED_BYTE,Ve):t.texImage2D(We+xt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ve);return Ze}const ee={};ee[t.TEXTURE_2D]=Ae(t.TEXTURE_2D,t.TEXTURE_2D,1),ee[t.TEXTURE_CUBE_MAP]=Ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ee[t.TEXTURE_2D_ARRAY]=Ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ee[t.TEXTURE_3D]=Ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),L(t.DEPTH_TEST),l.setFunc(vu),oe(!1),se(lg),L(t.CULL_FACE),K(xs);function L(te){h[te]!==!0&&(t.enable(te),h[te]=!0)}function B(te){h[te]!==!1&&(t.disable(te),h[te]=!1)}function W(te,We){return f[te]!==We?(t.bindFramebuffer(te,We),f[te]=We,i&&(te===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=We),te===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=We)),!0):!1}function T(te,We){let Ne=g,Se=!1;if(te)if(Ne=p.get(We),Ne===void 0&&(Ne=[],p.set(We,Ne)),te.isWebGLMultipleRenderTargets){const Ve=te.texture;if(Ne.length!==Ve.length||Ne[0]!==t.COLOR_ATTACHMENT0){for(let Ze=0,xt=Ve.length;Ze<xt;Ze++)Ne[Ze]=t.COLOR_ATTACHMENT0+Ze;Ne.length=Ve.length,Se=!0}}else Ne[0]!==t.COLOR_ATTACHMENT0&&(Ne[0]=t.COLOR_ATTACHMENT0,Se=!0);else Ne[0]!==t.BACK&&(Ne[0]=t.BACK,Se=!0);Se&&(n.isWebGL2?t.drawBuffers(Ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ne))}function D(te){return m!==te?(t.useProgram(te),m=te,!0):!1}const V={[na]:t.FUNC_ADD,[kE]:t.FUNC_SUBTRACT,[DE]:t.FUNC_REVERSE_SUBTRACT};if(i)V[dg]=t.MIN,V[hg]=t.MAX;else{const te=e.get("EXT_blend_minmax");te!==null&&(V[dg]=te.MIN_EXT,V[hg]=te.MAX_EXT)}const Y={[OE]:t.ZERO,[VE]:t.ONE,[NE]:t.SRC_COLOR,[_f]:t.SRC_ALPHA,[GE]:t.SRC_ALPHA_SATURATE,[zE]:t.DST_COLOR,[BE]:t.DST_ALPHA,[FE]:t.ONE_MINUS_SRC_COLOR,[xf]:t.ONE_MINUS_SRC_ALPHA,[HE]:t.ONE_MINUS_DST_COLOR,[UE]:t.ONE_MINUS_DST_ALPHA,[WE]:t.CONSTANT_COLOR,[$E]:t.ONE_MINUS_CONSTANT_COLOR,[jE]:t.CONSTANT_ALPHA,[XE]:t.ONE_MINUS_CONSTANT_ALPHA};function K(te,We,Ne,Se,Ve,Ze,xt,jt,$n,Xt){if(te===xs){v===!0&&(B(t.BLEND),v=!1);return}if(v===!1&&(L(t.BLEND),v=!0),te!==IE){if(te!==x||Xt!==P){if((y!==na||M!==na)&&(t.blendEquation(t.FUNC_ADD),y=na,M=na),Xt)switch(te){case uo:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case bf:t.blendFunc(t.ONE,t.ONE);break;case cg:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ug:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case uo:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case bf:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case cg:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ug:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}b=null,A=null,E=null,S=null,_.set(0,0,0),w=0,x=te,P=Xt}return}Ve=Ve||We,Ze=Ze||Ne,xt=xt||Se,(We!==y||Ve!==M)&&(t.blendEquationSeparate(V[We],V[Ve]),y=We,M=Ve),(Ne!==b||Se!==A||Ze!==E||xt!==S)&&(t.blendFuncSeparate(Y[Ne],Y[Se],Y[Ze],Y[xt]),b=Ne,A=Se,E=Ze,S=xt),(jt.equals(_)===!1||$n!==w)&&(t.blendColor(jt.r,jt.g,jt.b,$n),_.copy(jt),w=$n),x=te,P=!1}function ie(te,We){te.side===nr?B(t.CULL_FACE):L(t.CULL_FACE);let Ne=te.side===ei;We&&(Ne=!Ne),oe(Ne),te.blending===uo&&te.transparent===!1?K(xs):K(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),o.setMask(te.colorWrite);const Se=te.stencilWrite;c.setTest(Se),Se&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),ce(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?L(t.SAMPLE_ALPHA_TO_COVERAGE):B(t.SAMPLE_ALPHA_TO_COVERAGE)}function oe(te){R!==te&&(te?t.frontFace(t.CW):t.frontFace(t.CCW),R=te)}function se(te){te!==RE?(L(t.CULL_FACE),te!==N&&(te===lg?t.cullFace(t.BACK):te===LE?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):B(t.CULL_FACE),N=te}function fe(te){te!==k&&(X&&t.lineWidth(te),k=te)}function ce(te,We,Ne){te?(L(t.POLYGON_OFFSET_FILL),(z!==We||F!==Ne)&&(t.polygonOffset(We,Ne),z=We,F=Ne)):B(t.POLYGON_OFFSET_FILL)}function Te(te){te?L(t.SCISSOR_TEST):B(t.SCISSOR_TEST)}function U(te){te===void 0&&(te=t.TEXTURE0+j-1),H!==te&&(t.activeTexture(te),H=te)}function O(te,We,Ne){Ne===void 0&&(H===null?Ne=t.TEXTURE0+j-1:Ne=H);let Se=q[Ne];Se===void 0&&(Se={type:void 0,texture:void 0},q[Ne]=Se),(Se.type!==te||Se.texture!==We)&&(H!==Ne&&(t.activeTexture(Ne),H=Ne),t.bindTexture(te,We||ee[te]),Se.type=te,Se.texture=We)}function ne(){const te=q[H];te!==void 0&&te.type!==void 0&&(t.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function we(){try{t.compressedTexImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ye(){try{t.compressedTexImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ce(){try{t.texSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ze(){try{t.texSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ke(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function He(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Je(){try{t.texStorage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function gt(){try{t.texStorage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Oe(){try{t.texImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function st(){try{t.texImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Q(te){be.equals(te)===!1&&(t.scissor(te.x,te.y,te.z,te.w),be.copy(te))}function _e(te){ae.equals(te)===!1&&(t.viewport(te.x,te.y,te.z,te.w),ae.copy(te))}function Ie(te,We){let Ne=d.get(We);Ne===void 0&&(Ne=new WeakMap,d.set(We,Ne));let Se=Ne.get(te);Se===void 0&&(Se=t.getUniformBlockIndex(We,te.name),Ne.set(te,Se))}function De(te,We){const Se=d.get(We).get(te);u.get(We)!==Se&&(t.uniformBlockBinding(We,Se,te.__bindingPointIndex),u.set(We,Se))}function et(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},H=null,q={},f={},p=new WeakMap,g=[],m=null,v=!1,x=null,y=null,b=null,A=null,M=null,E=null,S=null,_=new Ue(0,0,0),w=0,P=!1,R=null,N=null,k=null,z=null,F=null,be.set(0,0,t.canvas.width,t.canvas.height),ae.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:L,disable:B,bindFramebuffer:W,drawBuffers:T,useProgram:D,setBlending:K,setMaterial:ie,setFlipSided:oe,setCullFace:se,setLineWidth:fe,setPolygonOffset:ce,setScissorTest:Te,activeTexture:U,bindTexture:O,unbindTexture:ne,compressedTexImage2D:we,compressedTexImage3D:ye,texImage2D:Oe,texImage3D:st,updateUBOMapping:Ie,uniformBlockBinding:De,texStorage2D:Je,texStorage3D:gt,texSubImage2D:Ce,texSubImage3D:ze,compressedTexSubImage2D:ke,compressedTexSubImage3D:He,scissor:Q,viewport:_e,reset:et}}function fB(t,e,n,i,r,s,a){const o=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let g;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(U,O){return v?new OffscreenCanvas(U,O):Cu("canvas")}function y(U,O,ne,we){let ye=1;if((U.width>we||U.height>we)&&(ye=we/Math.max(U.width,U.height)),ye<1||O===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const Ce=O?Mf:Math.floor,ze=Ce(ye*U.width),ke=Ce(ye*U.height);g===void 0&&(g=x(ze,ke));const He=ne?x(ze,ke):g;return He.width=ze,He.height=ke,He.getContext("2d").drawImage(U,0,0,ze,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+ze+"x"+ke+")."),He}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function b(U){return zg(U.width)&&zg(U.height)}function A(U){return o?!1:U.wrapS!==jn||U.wrapT!==jn||U.minFilter!==hn&&U.minFilter!==nn}function M(U,O){return U.generateMipmaps&&O&&U.minFilter!==hn&&U.minFilter!==nn}function E(U){t.generateMipmap(U)}function S(U,O,ne,we,ye=!1){if(o===!1)return O;if(U!==null){if(t[U]!==void 0)return t[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let Ce=O;if(O===t.RED&&(ne===t.FLOAT&&(Ce=t.R32F),ne===t.HALF_FLOAT&&(Ce=t.R16F),ne===t.UNSIGNED_BYTE&&(Ce=t.R8)),O===t.RED_INTEGER&&(ne===t.UNSIGNED_BYTE&&(Ce=t.R8UI),ne===t.UNSIGNED_SHORT&&(Ce=t.R16UI),ne===t.UNSIGNED_INT&&(Ce=t.R32UI),ne===t.BYTE&&(Ce=t.R8I),ne===t.SHORT&&(Ce=t.R16I),ne===t.INT&&(Ce=t.R32I)),O===t.RG&&(ne===t.FLOAT&&(Ce=t.RG32F),ne===t.HALF_FLOAT&&(Ce=t.RG16F),ne===t.UNSIGNED_BYTE&&(Ce=t.RG8)),O===t.RGBA){const ze=ye?xu:zt.getTransfer(we);ne===t.FLOAT&&(Ce=t.RGBA32F),ne===t.HALF_FLOAT&&(Ce=t.RGBA16F),ne===t.UNSIGNED_BYTE&&(Ce=ze===qt?t.SRGB8_ALPHA8:t.RGBA8),ne===t.UNSIGNED_SHORT_4_4_4_4&&(Ce=t.RGBA4),ne===t.UNSIGNED_SHORT_5_5_5_1&&(Ce=t.RGB5_A1)}return(Ce===t.R16F||Ce===t.R32F||Ce===t.RG16F||Ce===t.RG32F||Ce===t.RGBA16F||Ce===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function _(U,O,ne){return M(U,ne)===!0||U.isFramebufferTexture&&U.minFilter!==hn&&U.minFilter!==nn?Math.log2(Math.max(O.width,O.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?O.mipmaps.length:1}function w(U){return U===hn||U===bu||U===Rl?t.NEAREST:t.LINEAR}function P(U){const O=U.target;O.removeEventListener("dispose",P),N(O),O.isVideoTexture&&p.delete(O)}function R(U){const O=U.target;O.removeEventListener("dispose",R),z(O)}function N(U){const O=i.get(U);if(O.__webglInit===void 0)return;const ne=U.source,we=m.get(ne);if(we){const ye=we[O.__cacheKey];ye.usedTimes--,ye.usedTimes===0&&k(U),Object.keys(we).length===0&&m.delete(ne)}i.remove(U)}function k(U){const O=i.get(U);t.deleteTexture(O.__webglTexture);const ne=U.source,we=m.get(ne);delete we[O.__cacheKey],a.memory.textures--}function z(U){const O=U.texture,ne=i.get(U),we=i.get(O);if(we.__webglTexture!==void 0&&(t.deleteTexture(we.__webglTexture),a.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++){if(Array.isArray(ne.__webglFramebuffer[ye]))for(let Ce=0;Ce<ne.__webglFramebuffer[ye].length;Ce++)t.deleteFramebuffer(ne.__webglFramebuffer[ye][Ce]);else t.deleteFramebuffer(ne.__webglFramebuffer[ye]);ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer[ye])}else{if(Array.isArray(ne.__webglFramebuffer))for(let ye=0;ye<ne.__webglFramebuffer.length;ye++)t.deleteFramebuffer(ne.__webglFramebuffer[ye]);else t.deleteFramebuffer(ne.__webglFramebuffer);if(ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let ye=0;ye<ne.__webglColorRenderbuffer.length;ye++)ne.__webglColorRenderbuffer[ye]&&t.deleteRenderbuffer(ne.__webglColorRenderbuffer[ye]);ne.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let ye=0,Ce=O.length;ye<Ce;ye++){const ze=i.get(O[ye]);ze.__webglTexture&&(t.deleteTexture(ze.__webglTexture),a.memory.textures--),i.remove(O[ye])}i.remove(O),i.remove(U)}let F=0;function j(){F=0}function X(){const U=F;return U>=l&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+l),F+=1,U}function Z(U){const O=[];return O.push(U.wrapS),O.push(U.wrapT),O.push(U.wrapR||0),O.push(U.magFilter),O.push(U.minFilter),O.push(U.anisotropy),O.push(U.internalFormat),O.push(U.format),O.push(U.type),O.push(U.generateMipmaps),O.push(U.premultiplyAlpha),O.push(U.flipY),O.push(U.unpackAlignment),O.push(U.colorSpace),O.join()}function J(U,O){const ne=i.get(U);if(U.isVideoTexture&&ce(U),U.isRenderTargetTexture===!1&&U.version>0&&ne.__version!==U.version){const we=U.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{L(ne,U,O);return}}n.bindTexture(t.TEXTURE_2D,ne.__webglTexture,t.TEXTURE0+O)}function H(U,O){const ne=i.get(U);if(U.version>0&&ne.__version!==U.version){L(ne,U,O);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ne.__webglTexture,t.TEXTURE0+O)}function q(U,O){const ne=i.get(U);if(U.version>0&&ne.__version!==U.version){L(ne,U,O);return}n.bindTexture(t.TEXTURE_3D,ne.__webglTexture,t.TEXTURE0+O)}function le(U,O){const ne=i.get(U);if(U.version>0&&ne.__version!==U.version){B(ne,U,O);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+O)}const ue={[ma]:t.REPEAT,[jn]:t.CLAMP_TO_EDGE,[Ul]:t.MIRRORED_REPEAT},be={[hn]:t.NEAREST,[bu]:t.NEAREST_MIPMAP_NEAREST,[Rl]:t.NEAREST_MIPMAP_LINEAR,[nn]:t.LINEAR,[ip]:t.LINEAR_MIPMAP_NEAREST,[Gr]:t.LINEAR_MIPMAP_LINEAR},ae={[MC]:t.NEVER,[LC]:t.ALWAYS,[EC]:t.LESS,[AC]:t.LEQUAL,[CC]:t.EQUAL,[RC]:t.GEQUAL,[TC]:t.GREATER,[PC]:t.NOTEQUAL};function Ae(U,O,ne){if(ne?(t.texParameteri(U,t.TEXTURE_WRAP_S,ue[O.wrapS]),t.texParameteri(U,t.TEXTURE_WRAP_T,ue[O.wrapT]),(U===t.TEXTURE_3D||U===t.TEXTURE_2D_ARRAY)&&t.texParameteri(U,t.TEXTURE_WRAP_R,ue[O.wrapR]),t.texParameteri(U,t.TEXTURE_MAG_FILTER,be[O.magFilter]),t.texParameteri(U,t.TEXTURE_MIN_FILTER,be[O.minFilter])):(t.texParameteri(U,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(U,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(U===t.TEXTURE_3D||U===t.TEXTURE_2D_ARRAY)&&t.texParameteri(U,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(O.wrapS!==jn||O.wrapT!==jn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(U,t.TEXTURE_MAG_FILTER,w(O.magFilter)),t.texParameteri(U,t.TEXTURE_MIN_FILTER,w(O.minFilter)),O.minFilter!==hn&&O.minFilter!==nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),O.compareFunction&&(t.texParameteri(U,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(U,t.TEXTURE_COMPARE_FUNC,ae[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const we=e.get("EXT_texture_filter_anisotropic");if(O.magFilter===hn||O.minFilter!==Rl&&O.minFilter!==Gr||O.type===kr&&e.has("OES_texture_float_linear")===!1||o===!1&&O.type===zl&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||i.get(O).__currentAnisotropy)&&(t.texParameterf(U,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,r.getMaxAnisotropy())),i.get(O).__currentAnisotropy=O.anisotropy)}}function ee(U,O){let ne=!1;U.__webglInit===void 0&&(U.__webglInit=!0,O.addEventListener("dispose",P));const we=O.source;let ye=m.get(we);ye===void 0&&(ye={},m.set(we,ye));const Ce=Z(O);if(Ce!==U.__cacheKey){ye[Ce]===void 0&&(ye[Ce]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ne=!0),ye[Ce].usedTimes++;const ze=ye[U.__cacheKey];ze!==void 0&&(ye[U.__cacheKey].usedTimes--,ze.usedTimes===0&&k(O)),U.__cacheKey=Ce,U.__webglTexture=ye[Ce].texture}return ne}function L(U,O,ne){let we=t.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(we=t.TEXTURE_2D_ARRAY),O.isData3DTexture&&(we=t.TEXTURE_3D);const ye=ee(U,O),Ce=O.source;n.bindTexture(we,U.__webglTexture,t.TEXTURE0+ne);const ze=i.get(Ce);if(Ce.version!==ze.__version||ye===!0){n.activeTexture(t.TEXTURE0+ne);const ke=zt.getPrimaries(zt.workingColorSpace),He=O.colorSpace===Fi?null:zt.getPrimaries(O.colorSpace),Je=O.colorSpace===Fi||ke===He?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Je);const gt=A(O)&&b(O.image)===!1;let Oe=y(O.image,gt,!1,u);Oe=Te(O,Oe);const st=b(Oe)||o,Q=s.convert(O.format,O.colorSpace);let _e=s.convert(O.type),Ie=S(O.internalFormat,Q,_e,O.colorSpace,O.isVideoTexture);Ae(we,O,st);let De;const et=O.mipmaps,te=o&&O.isVideoTexture!==!0,We=ze.__version===void 0||ye===!0,Ne=_(O,Oe,st);if(O.isDepthTexture)Ie=t.DEPTH_COMPONENT,o?O.type===kr?Ie=t.DEPTH_COMPONENT32F:O.type===gs?Ie=t.DEPTH_COMPONENT24:O.type===la?Ie=t.DEPTH24_STENCIL8:Ie=t.DEPTH_COMPONENT16:O.type===kr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===ca&&Ie===t.DEPTH_COMPONENT&&O.type!==rp&&O.type!==gs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=gs,_e=s.convert(O.type)),O.format===bo&&Ie===t.DEPTH_COMPONENT&&(Ie=t.DEPTH_STENCIL,O.type!==la&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=la,_e=s.convert(O.type))),We&&(te?n.texStorage2D(t.TEXTURE_2D,1,Ie,Oe.width,Oe.height):n.texImage2D(t.TEXTURE_2D,0,Ie,Oe.width,Oe.height,0,Q,_e,null));else if(O.isDataTexture)if(et.length>0&&st){te&&We&&n.texStorage2D(t.TEXTURE_2D,Ne,Ie,et[0].width,et[0].height);for(let Se=0,Ve=et.length;Se<Ve;Se++)De=et[Se],te?n.texSubImage2D(t.TEXTURE_2D,Se,0,0,De.width,De.height,Q,_e,De.data):n.texImage2D(t.TEXTURE_2D,Se,Ie,De.width,De.height,0,Q,_e,De.data);O.generateMipmaps=!1}else te?(We&&n.texStorage2D(t.TEXTURE_2D,Ne,Ie,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Oe.width,Oe.height,Q,_e,Oe.data)):n.texImage2D(t.TEXTURE_2D,0,Ie,Oe.width,Oe.height,0,Q,_e,Oe.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){te&&We&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ne,Ie,et[0].width,et[0].height,Oe.depth);for(let Se=0,Ve=et.length;Se<Ve;Se++)De=et[Se],O.format!==Ni?Q!==null?te?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,0,De.width,De.height,Oe.depth,Q,De.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Se,Ie,De.width,De.height,Oe.depth,0,De.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):te?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,0,De.width,De.height,Oe.depth,Q,_e,De.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Se,Ie,De.width,De.height,Oe.depth,0,Q,_e,De.data)}else{te&&We&&n.texStorage2D(t.TEXTURE_2D,Ne,Ie,et[0].width,et[0].height);for(let Se=0,Ve=et.length;Se<Ve;Se++)De=et[Se],O.format!==Ni?Q!==null?te?n.compressedTexSubImage2D(t.TEXTURE_2D,Se,0,0,De.width,De.height,Q,De.data):n.compressedTexImage2D(t.TEXTURE_2D,Se,Ie,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):te?n.texSubImage2D(t.TEXTURE_2D,Se,0,0,De.width,De.height,Q,_e,De.data):n.texImage2D(t.TEXTURE_2D,Se,Ie,De.width,De.height,0,Q,_e,De.data)}else if(O.isDataArrayTexture)te?(We&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ne,Ie,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Oe.width,Oe.height,Oe.depth,Q,_e,Oe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ie,Oe.width,Oe.height,Oe.depth,0,Q,_e,Oe.data);else if(O.isData3DTexture)te?(We&&n.texStorage3D(t.TEXTURE_3D,Ne,Ie,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Oe.width,Oe.height,Oe.depth,Q,_e,Oe.data)):n.texImage3D(t.TEXTURE_3D,0,Ie,Oe.width,Oe.height,Oe.depth,0,Q,_e,Oe.data);else if(O.isFramebufferTexture){if(We)if(te)n.texStorage2D(t.TEXTURE_2D,Ne,Ie,Oe.width,Oe.height);else{let Se=Oe.width,Ve=Oe.height;for(let Ze=0;Ze<Ne;Ze++)n.texImage2D(t.TEXTURE_2D,Ze,Ie,Se,Ve,0,Q,_e,null),Se>>=1,Ve>>=1}}else if(et.length>0&&st){te&&We&&n.texStorage2D(t.TEXTURE_2D,Ne,Ie,et[0].width,et[0].height);for(let Se=0,Ve=et.length;Se<Ve;Se++)De=et[Se],te?n.texSubImage2D(t.TEXTURE_2D,Se,0,0,Q,_e,De):n.texImage2D(t.TEXTURE_2D,Se,Ie,Q,_e,De);O.generateMipmaps=!1}else te?(We&&n.texStorage2D(t.TEXTURE_2D,Ne,Ie,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Q,_e,Oe)):n.texImage2D(t.TEXTURE_2D,0,Ie,Q,_e,Oe);M(O,st)&&E(we),ze.__version=Ce.version,O.onUpdate&&O.onUpdate(O)}U.__version=O.version}function B(U,O,ne){if(O.image.length!==6)return;const we=ee(U,O),ye=O.source;n.bindTexture(t.TEXTURE_CUBE_MAP,U.__webglTexture,t.TEXTURE0+ne);const Ce=i.get(ye);if(ye.version!==Ce.__version||we===!0){n.activeTexture(t.TEXTURE0+ne);const ze=zt.getPrimaries(zt.workingColorSpace),ke=O.colorSpace===Fi?null:zt.getPrimaries(O.colorSpace),He=O.colorSpace===Fi||ze===ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);const Je=O.isCompressedTexture||O.image[0].isCompressedTexture,gt=O.image[0]&&O.image[0].isDataTexture,Oe=[];for(let Se=0;Se<6;Se++)!Je&&!gt?Oe[Se]=y(O.image[Se],!1,!0,c):Oe[Se]=gt?O.image[Se].image:O.image[Se],Oe[Se]=Te(O,Oe[Se]);const st=Oe[0],Q=b(st)||o,_e=s.convert(O.format,O.colorSpace),Ie=s.convert(O.type),De=S(O.internalFormat,_e,Ie,O.colorSpace),et=o&&O.isVideoTexture!==!0,te=Ce.__version===void 0||we===!0;let We=_(O,st,Q);Ae(t.TEXTURE_CUBE_MAP,O,Q);let Ne;if(Je){et&&te&&n.texStorage2D(t.TEXTURE_CUBE_MAP,We,De,st.width,st.height);for(let Se=0;Se<6;Se++){Ne=Oe[Se].mipmaps;for(let Ve=0;Ve<Ne.length;Ve++){const Ze=Ne[Ve];O.format!==Ni?_e!==null?et?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ve,0,0,Ze.width,Ze.height,_e,Ze.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ve,De,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):et?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ve,0,0,Ze.width,Ze.height,_e,Ie,Ze.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ve,De,Ze.width,Ze.height,0,_e,Ie,Ze.data)}}}else{Ne=O.mipmaps,et&&te&&(Ne.length>0&&We++,n.texStorage2D(t.TEXTURE_CUBE_MAP,We,De,Oe[0].width,Oe[0].height));for(let Se=0;Se<6;Se++)if(gt){et?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,Oe[Se].width,Oe[Se].height,_e,Ie,Oe[Se].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,De,Oe[Se].width,Oe[Se].height,0,_e,Ie,Oe[Se].data);for(let Ve=0;Ve<Ne.length;Ve++){const xt=Ne[Ve].image[Se].image;et?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ve+1,0,0,xt.width,xt.height,_e,Ie,xt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ve+1,De,xt.width,xt.height,0,_e,Ie,xt.data)}}else{et?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,_e,Ie,Oe[Se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,De,_e,Ie,Oe[Se]);for(let Ve=0;Ve<Ne.length;Ve++){const Ze=Ne[Ve];et?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ve+1,0,0,_e,Ie,Ze.image[Se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ve+1,De,_e,Ie,Ze.image[Se])}}}M(O,Q)&&E(t.TEXTURE_CUBE_MAP),Ce.__version=ye.version,O.onUpdate&&O.onUpdate(O)}U.__version=O.version}function W(U,O,ne,we,ye,Ce){const ze=s.convert(ne.format,ne.colorSpace),ke=s.convert(ne.type),He=S(ne.internalFormat,ze,ke,ne.colorSpace);if(!i.get(O).__hasExternalTextures){const gt=Math.max(1,O.width>>Ce),Oe=Math.max(1,O.height>>Ce);ye===t.TEXTURE_3D||ye===t.TEXTURE_2D_ARRAY?n.texImage3D(ye,Ce,He,gt,Oe,O.depth,0,ze,ke,null):n.texImage2D(ye,Ce,He,gt,Oe,0,ze,ke,null)}n.bindFramebuffer(t.FRAMEBUFFER,U),fe(O)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,we,ye,i.get(ne).__webglTexture,0,se(O)):(ye===t.TEXTURE_2D||ye>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,we,ye,i.get(ne).__webglTexture,Ce),n.bindFramebuffer(t.FRAMEBUFFER,null)}function T(U,O,ne){if(t.bindRenderbuffer(t.RENDERBUFFER,U),O.depthBuffer&&!O.stencilBuffer){let we=o===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ne||fe(O)){const ye=O.depthTexture;ye&&ye.isDepthTexture&&(ye.type===kr?we=t.DEPTH_COMPONENT32F:ye.type===gs&&(we=t.DEPTH_COMPONENT24));const Ce=se(O);fe(O)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ce,we,O.width,O.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ce,we,O.width,O.height)}else t.renderbufferStorage(t.RENDERBUFFER,we,O.width,O.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,U)}else if(O.depthBuffer&&O.stencilBuffer){const we=se(O);ne&&fe(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,we,t.DEPTH24_STENCIL8,O.width,O.height):fe(O)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,we,t.DEPTH24_STENCIL8,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,U)}else{const we=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let ye=0;ye<we.length;ye++){const Ce=we[ye],ze=s.convert(Ce.format,Ce.colorSpace),ke=s.convert(Ce.type),He=S(Ce.internalFormat,ze,ke,Ce.colorSpace),Je=se(O);ne&&fe(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Je,He,O.width,O.height):fe(O)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Je,He,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,He,O.width,O.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function D(U,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,U),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),J(O.depthTexture,0);const we=i.get(O.depthTexture).__webglTexture,ye=se(O);if(O.depthTexture.format===ca)fe(O)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,we,0,ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,we,0);else if(O.depthTexture.format===bo)fe(O)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,we,0,ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,we,0);else throw new Error("Unknown depthTexture format")}function V(U){const O=i.get(U),ne=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!O.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");D(O.__webglFramebuffer,U)}else if(ne){O.__webglDepthbuffer=[];for(let we=0;we<6;we++)n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer[we]),O.__webglDepthbuffer[we]=t.createRenderbuffer(),T(O.__webglDepthbuffer[we],U,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer=t.createRenderbuffer(),T(O.__webglDepthbuffer,U,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Y(U,O,ne){const we=i.get(U);O!==void 0&&W(we.__webglFramebuffer,U,U.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ne!==void 0&&V(U)}function K(U){const O=U.texture,ne=i.get(U),we=i.get(O);U.addEventListener("dispose",R),U.isWebGLMultipleRenderTargets!==!0&&(we.__webglTexture===void 0&&(we.__webglTexture=t.createTexture()),we.__version=O.version,a.memory.textures++);const ye=U.isWebGLCubeRenderTarget===!0,Ce=U.isWebGLMultipleRenderTargets===!0,ze=b(U)||o;if(ye){ne.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)if(o&&O.mipmaps&&O.mipmaps.length>0){ne.__webglFramebuffer[ke]=[];for(let He=0;He<O.mipmaps.length;He++)ne.__webglFramebuffer[ke][He]=t.createFramebuffer()}else ne.__webglFramebuffer[ke]=t.createFramebuffer()}else{if(o&&O.mipmaps&&O.mipmaps.length>0){ne.__webglFramebuffer=[];for(let ke=0;ke<O.mipmaps.length;ke++)ne.__webglFramebuffer[ke]=t.createFramebuffer()}else ne.__webglFramebuffer=t.createFramebuffer();if(Ce)if(r.drawBuffers){const ke=U.texture;for(let He=0,Je=ke.length;He<Je;He++){const gt=i.get(ke[He]);gt.__webglTexture===void 0&&(gt.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&U.samples>0&&fe(U)===!1){const ke=Ce?O:[O];ne.__webglMultisampledFramebuffer=t.createFramebuffer(),ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let He=0;He<ke.length;He++){const Je=ke[He];ne.__webglColorRenderbuffer[He]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ne.__webglColorRenderbuffer[He]);const gt=s.convert(Je.format,Je.colorSpace),Oe=s.convert(Je.type),st=S(Je.internalFormat,gt,Oe,Je.colorSpace,U.isXRRenderTarget===!0),Q=se(U);t.renderbufferStorageMultisample(t.RENDERBUFFER,Q,st,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.RENDERBUFFER,ne.__webglColorRenderbuffer[He])}t.bindRenderbuffer(t.RENDERBUFFER,null),U.depthBuffer&&(ne.__webglDepthRenderbuffer=t.createRenderbuffer(),T(ne.__webglDepthRenderbuffer,U,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ye){n.bindTexture(t.TEXTURE_CUBE_MAP,we.__webglTexture),Ae(t.TEXTURE_CUBE_MAP,O,ze);for(let ke=0;ke<6;ke++)if(o&&O.mipmaps&&O.mipmaps.length>0)for(let He=0;He<O.mipmaps.length;He++)W(ne.__webglFramebuffer[ke][He],U,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,He);else W(ne.__webglFramebuffer[ke],U,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0);M(O,ze)&&E(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ce){const ke=U.texture;for(let He=0,Je=ke.length;He<Je;He++){const gt=ke[He],Oe=i.get(gt);n.bindTexture(t.TEXTURE_2D,Oe.__webglTexture),Ae(t.TEXTURE_2D,gt,ze),W(ne.__webglFramebuffer,U,gt,t.COLOR_ATTACHMENT0+He,t.TEXTURE_2D,0),M(gt,ze)&&E(t.TEXTURE_2D)}n.unbindTexture()}else{let ke=t.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(o?ke=U.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(ke,we.__webglTexture),Ae(ke,O,ze),o&&O.mipmaps&&O.mipmaps.length>0)for(let He=0;He<O.mipmaps.length;He++)W(ne.__webglFramebuffer[He],U,O,t.COLOR_ATTACHMENT0,ke,He);else W(ne.__webglFramebuffer,U,O,t.COLOR_ATTACHMENT0,ke,0);M(O,ze)&&E(ke),n.unbindTexture()}U.depthBuffer&&V(U)}function ie(U){const O=b(U)||o,ne=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let we=0,ye=ne.length;we<ye;we++){const Ce=ne[we];if(M(Ce,O)){const ze=U.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,ke=i.get(Ce).__webglTexture;n.bindTexture(ze,ke),E(ze),n.unbindTexture()}}}function oe(U){if(o&&U.samples>0&&fe(U)===!1){const O=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],ne=U.width,we=U.height;let ye=t.COLOR_BUFFER_BIT;const Ce=[],ze=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ke=i.get(U),He=U.isWebGLMultipleRenderTargets===!0;if(He)for(let Je=0;Je<O.length;Je++)n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ke.__webglFramebuffer);for(let Je=0;Je<O.length;Je++){Ce.push(t.COLOR_ATTACHMENT0+Je),U.depthBuffer&&Ce.push(ze);const gt=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(gt===!1&&(U.depthBuffer&&(ye|=t.DEPTH_BUFFER_BIT),U.stencilBuffer&&(ye|=t.STENCIL_BUFFER_BIT)),He&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ke.__webglColorRenderbuffer[Je]),gt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ze]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ze])),He){const Oe=i.get(O[Je]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Oe,0)}t.blitFramebuffer(0,0,ne,we,0,0,ne,we,ye,t.NEAREST),f&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ce)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),He)for(let Je=0;Je<O.length;Je++){n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,ke.__webglColorRenderbuffer[Je]);const gt=i.get(O[Je]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.TEXTURE_2D,gt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ke.__webglMultisampledFramebuffer)}}function se(U){return Math.min(d,U.samples)}function fe(U){const O=i.get(U);return o&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function ce(U){const O=a.render.frame;p.get(U)!==O&&(p.set(U,O),U.update())}function Te(U,O){const ne=U.colorSpace,we=U.format,ye=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||U.format===Sf||ne!==Wr&&ne!==Fi&&(zt.getTransfer(ne)===qt?o===!1?e.has("EXT_sRGB")===!0&&we===Ni?(U.format=Sf,U.minFilter=nn,U.generateMipmaps=!1):O=H0.sRGBToLinear(O):(we!==Ni||ye!==xr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),O}this.allocateTextureUnit=X,this.resetTextureUnits=j,this.setTexture2D=J,this.setTexture2DArray=H,this.setTexture3D=q,this.setTextureCube=le,this.rebindTextures=Y,this.setupRenderTarget=K,this.updateRenderTargetMipmap=ie,this.updateMultisampleRenderTarget=oe,this.setupDepthRenderbuffer=V,this.setupFrameBufferTexture=W,this.useMultisampledRTT=fe}function $C(t,e,n){const i=n.isWebGL2;function r(s,a=Fi){let o;const l=zt.getTransfer(a);if(s===xr)return t.UNSIGNED_BYTE;if(s===k0)return t.UNSIGNED_SHORT_4_4_4_4;if(s===D0)return t.UNSIGNED_SHORT_5_5_5_1;if(s===lC)return t.BYTE;if(s===cC)return t.SHORT;if(s===rp)return t.UNSIGNED_SHORT;if(s===I0)return t.INT;if(s===gs)return t.UNSIGNED_INT;if(s===kr)return t.FLOAT;if(s===zl)return i?t.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===uC)return t.ALPHA;if(s===Ni)return t.RGBA;if(s===dC)return t.LUMINANCE;if(s===hC)return t.LUMINANCE_ALPHA;if(s===ca)return t.DEPTH_COMPONENT;if(s===bo)return t.DEPTH_STENCIL;if(s===Sf)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===fC)return t.RED;if(s===O0)return t.RED_INTEGER;if(s===pC)return t.RG;if(s===V0)return t.RG_INTEGER;if(s===N0)return t.RGBA_INTEGER;if(s===Xh||s===qh||s===Yh||s===Kh)if(l===qt)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===Xh)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===qh)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Yh)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Kh)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===Xh)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===qh)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Yh)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Kh)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===pg||s===mg||s===vg||s===gg)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===pg)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===mg)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===vg)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===gg)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===mC)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===yg||s===bg)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===yg)return l===qt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===bg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===_g||s===xg||s===wg||s===Sg||s===Mg||s===Eg||s===Cg||s===Ag||s===Tg||s===Pg||s===Rg||s===Lg||s===Ig||s===kg)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===_g)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===xg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===wg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Sg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Mg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Eg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Cg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Ag)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Tg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Pg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Rg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Lg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Ig)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===kg)return l===qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Zh||s===Dg||s===Og)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===Zh)return l===qt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===Dg)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===Og)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===vC||s===Vg||s===Ng||s===Fg)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===Zh)return o.COMPRESSED_RED_RGTC1_EXT;if(s===Vg)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Ng)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Fg)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===la?i?t.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class jC extends Wt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ys extends Rt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const pB={type:"move"};class nv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ys,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ys,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ys,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const g of e.hand.values()){const m=n.getJointPose(g,i),v=this._getHandJoint(c,g);m!==null&&(v.matrix.fromArray(m.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=m.radius),v.visible=m!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(pB)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new ys;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class XC extends an{constructor(e,n,i,r,s,a,o,l,c,u){if(u=u!==void 0?u:ca,u!==ca&&u!==bo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===ca&&(i=gs),i===void 0&&u===bo&&(i=la),super(null,r,s,a,o,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:hn,this.minFilter=l!==void 0?l:hn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class mB extends Qr{constructor(e,n){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,c=null,u=null,d=null,h=null,f=null,p=null;const g=n.getContextAttributes();let m=null,v=null;const x=[],y=[],b=new Wt;b.layers.enable(1),b.viewport=new Tt;const A=new Wt;A.layers.enable(2),A.viewport=new Tt;const M=[b,A],E=new jC;E.layers.enable(1),E.layers.enable(2);let S=null,_=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(H){let q=x[H];return q===void 0&&(q=new nv,x[H]=q),q.getTargetRaySpace()},this.getControllerGrip=function(H){let q=x[H];return q===void 0&&(q=new nv,x[H]=q),q.getGripSpace()},this.getHand=function(H){let q=x[H];return q===void 0&&(q=new nv,x[H]=q),q.getHandSpace()};function w(H){const q=y.indexOf(H.inputSource);if(q===-1)return;const le=x[q];le!==void 0&&(le.update(H.inputSource,H.frame,c||a),le.dispatchEvent({type:H.type,data:H.inputSource}))}function P(){r.removeEventListener("select",w),r.removeEventListener("selectstart",w),r.removeEventListener("selectend",w),r.removeEventListener("squeeze",w),r.removeEventListener("squeezestart",w),r.removeEventListener("squeezeend",w),r.removeEventListener("end",P),r.removeEventListener("inputsourceschange",R);for(let H=0;H<x.length;H++){const q=y[H];q!==null&&(y[H]=null,x[H].disconnect(q))}S=null,_=null,e.setRenderTarget(m),f=null,h=null,d=null,r=null,v=null,J.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){o=H,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(H){c=H},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(H){if(r=H,r!==null){if(m=e.getRenderTarget(),r.addEventListener("select",w),r.addEventListener("selectstart",w),r.addEventListener("selectend",w),r.addEventListener("squeeze",w),r.addEventListener("squeezestart",w),r.addEventListener("squeezeend",w),r.addEventListener("end",P),r.addEventListener("inputsourceschange",R),g.xrCompatible!==!0&&await n.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,n,q),r.updateRenderState({baseLayer:f}),v=new Sr(f.framebufferWidth,f.framebufferHeight,{format:Ni,type:xr,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let q=null,le=null,ue=null;g.depth&&(ue=g.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,q=g.stencil?bo:ca,le=g.stencil?la:gs);const be={colorFormat:n.RGBA8,depthFormat:ue,scaleFactor:s};d=new XRWebGLBinding(r,n),h=d.createProjectionLayer(be),r.updateRenderState({layers:[h]}),v=new Sr(h.textureWidth,h.textureHeight,{format:Ni,type:xr,depthTexture:new XC(h.textureWidth,h.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0});const ae=e.properties.get(v);ae.__ignoreDepthValues=h.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(o),J.setContext(r),J.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function R(H){for(let q=0;q<H.removed.length;q++){const le=H.removed[q],ue=y.indexOf(le);ue>=0&&(y[ue]=null,x[ue].disconnect(le))}for(let q=0;q<H.added.length;q++){const le=H.added[q];let ue=y.indexOf(le);if(ue===-1){for(let ae=0;ae<x.length;ae++)if(ae>=y.length){y.push(le),ue=ae;break}else if(y[ae]===null){y[ae]=le,ue=ae;break}if(ue===-1)break}const be=x[ue];be&&be.connect(le)}}const N=new G,k=new G;function z(H,q,le){N.setFromMatrixPosition(q.matrixWorld),k.setFromMatrixPosition(le.matrixWorld);const ue=N.distanceTo(k),be=q.projectionMatrix.elements,ae=le.projectionMatrix.elements,Ae=be[14]/(be[10]-1),ee=be[14]/(be[10]+1),L=(be[9]+1)/be[5],B=(be[9]-1)/be[5],W=(be[8]-1)/be[0],T=(ae[8]+1)/ae[0],D=Ae*W,V=Ae*T,Y=ue/(-W+T),K=Y*-W;q.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(K),H.translateZ(Y),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const ie=Ae+Y,oe=ee+Y,se=D-K,fe=V+(ue-K),ce=L*ee/oe*ie,Te=B*ee/oe*ie;H.projectionMatrix.makePerspective(se,fe,ce,Te,ie,oe),H.projectionMatrixInverse.copy(H.projectionMatrix).invert()}function F(H,q){q===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(q.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCamera=function(H){if(r===null)return;E.near=A.near=b.near=H.near,E.far=A.far=b.far=H.far,(S!==E.near||_!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),S=E.near,_=E.far);const q=H.parent,le=E.cameras;F(E,q);for(let ue=0;ue<le.length;ue++)F(le[ue],q);le.length===2?z(E,b,A):E.projectionMatrix.copy(b.projectionMatrix),j(H,E,q)};function j(H,q,le){le===null?H.matrix.copy(q.matrixWorld):(H.matrix.copy(le.matrixWorld),H.matrix.invert(),H.matrix.multiply(q.matrixWorld)),H.matrix.decompose(H.position,H.quaternion,H.scale),H.updateMatrixWorld(!0),H.projectionMatrix.copy(q.projectionMatrix),H.projectionMatrixInverse.copy(q.projectionMatrixInverse),H.isPerspectiveCamera&&(H.fov=Gl*2*Math.atan(1/H.projectionMatrix.elements[5]),H.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(h===null&&f===null))return l},this.setFoveation=function(H){l=H,h!==null&&(h.fixedFoveation=H),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=H)};let X=null;function Z(H,q){if(u=q.getViewerPose(c||a),p=q,u!==null){const le=u.views;f!==null&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let ue=!1;le.length!==E.cameras.length&&(E.cameras.length=0,ue=!0);for(let be=0;be<le.length;be++){const ae=le[be];let Ae=null;if(f!==null)Ae=f.getViewport(ae);else{const L=d.getViewSubImage(h,ae);Ae=L.viewport,be===0&&(e.setRenderTargetTextures(v,L.colorTexture,h.ignoreDepthValues?void 0:L.depthStencilTexture),e.setRenderTarget(v))}let ee=M[be];ee===void 0&&(ee=new Wt,ee.layers.enable(be),ee.viewport=new Tt,M[be]=ee),ee.matrix.fromArray(ae.transform.matrix),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.projectionMatrix.fromArray(ae.projectionMatrix),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert(),ee.viewport.set(Ae.x,Ae.y,Ae.width,Ae.height),be===0&&(E.matrix.copy(ee.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),ue===!0&&E.cameras.push(ee)}}for(let le=0;le<x.length;le++){const ue=y[le],be=x[le];ue!==null&&be!==void 0&&be.update(ue,q,c||a)}X&&X(H,q),q.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:q}),p=null}const J=new UC;J.setAnimationLoop(Z),this.setAnimationLoop=function(H){X=H},this.dispose=function(){}}}function vB(t,e){function n(m,v){m.matrixAutoUpdate===!0&&m.updateMatrix(),v.value.copy(m.matrix)}function i(m,v){v.color.getRGB(m.fogColor.value,NC(t)),v.isFog?(m.fogNear.value=v.near,m.fogFar.value=v.far):v.isFogExp2&&(m.fogDensity.value=v.density)}function r(m,v,x,y,b){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(m,v):v.isMeshToonMaterial?(s(m,v),d(m,v)):v.isMeshPhongMaterial?(s(m,v),u(m,v)):v.isMeshStandardMaterial?(s(m,v),h(m,v),v.isMeshPhysicalMaterial&&f(m,v,b)):v.isMeshMatcapMaterial?(s(m,v),p(m,v)):v.isMeshDepthMaterial?s(m,v):v.isMeshDistanceMaterial?(s(m,v),g(m,v)):v.isMeshNormalMaterial?s(m,v):v.isLineBasicMaterial?(a(m,v),v.isLineDashedMaterial&&o(m,v)):v.isPointsMaterial?l(m,v,x,y):v.isSpriteMaterial?c(m,v):v.isShadowMaterial?(m.color.value.copy(v.color),m.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(m,v){m.opacity.value=v.opacity,v.color&&m.diffuse.value.copy(v.color),v.emissive&&m.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(m.map.value=v.map,n(v.map,m.mapTransform)),v.alphaMap&&(m.alphaMap.value=v.alphaMap,n(v.alphaMap,m.alphaMapTransform)),v.bumpMap&&(m.bumpMap.value=v.bumpMap,n(v.bumpMap,m.bumpMapTransform),m.bumpScale.value=v.bumpScale,v.side===ei&&(m.bumpScale.value*=-1)),v.normalMap&&(m.normalMap.value=v.normalMap,n(v.normalMap,m.normalMapTransform),m.normalScale.value.copy(v.normalScale),v.side===ei&&m.normalScale.value.negate()),v.displacementMap&&(m.displacementMap.value=v.displacementMap,n(v.displacementMap,m.displacementMapTransform),m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,m.emissiveMapTransform)),v.specularMap&&(m.specularMap.value=v.specularMap,n(v.specularMap,m.specularMapTransform)),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(m.envMap.value=x,m.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=v.reflectivity,m.ior.value=v.ior,m.refractionRatio.value=v.refractionRatio),v.lightMap){m.lightMap.value=v.lightMap;const y=t._useLegacyLights===!0?Math.PI:1;m.lightMapIntensity.value=v.lightMapIntensity*y,n(v.lightMap,m.lightMapTransform)}v.aoMap&&(m.aoMap.value=v.aoMap,m.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,m.aoMapTransform))}function a(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,v.map&&(m.map.value=v.map,n(v.map,m.mapTransform))}function o(m,v){m.dashSize.value=v.dashSize,m.totalSize.value=v.dashSize+v.gapSize,m.scale.value=v.scale}function l(m,v,x,y){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.size.value=v.size*x,m.scale.value=y*.5,v.map&&(m.map.value=v.map,n(v.map,m.uvTransform)),v.alphaMap&&(m.alphaMap.value=v.alphaMap,n(v.alphaMap,m.alphaMapTransform)),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest)}function c(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.rotation.value=v.rotation,v.map&&(m.map.value=v.map,n(v.map,m.mapTransform)),v.alphaMap&&(m.alphaMap.value=v.alphaMap,n(v.alphaMap,m.alphaMapTransform)),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest)}function u(m,v){m.specular.value.copy(v.specular),m.shininess.value=Math.max(v.shininess,1e-4)}function d(m,v){v.gradientMap&&(m.gradientMap.value=v.gradientMap)}function h(m,v){m.metalness.value=v.metalness,v.metalnessMap&&(m.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,m.metalnessMapTransform)),m.roughness.value=v.roughness,v.roughnessMap&&(m.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,m.roughnessMapTransform)),e.get(v).envMap&&(m.envMapIntensity.value=v.envMapIntensity)}function f(m,v,x){m.ior.value=v.ior,v.sheen>0&&(m.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),m.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(m.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,m.sheenColorMapTransform)),v.sheenRoughnessMap&&(m.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,m.sheenRoughnessMapTransform))),v.clearcoat>0&&(m.clearcoat.value=v.clearcoat,m.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(m.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,m.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(m.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===ei&&m.clearcoatNormalScale.value.negate())),v.iridescence>0&&(m.iridescence.value=v.iridescence,m.iridescenceIOR.value=v.iridescenceIOR,m.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(m.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,m.iridescenceMapTransform)),v.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),v.transmission>0&&(m.transmission.value=v.transmission,m.transmissionSamplerMap.value=x.texture,m.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(m.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,m.transmissionMapTransform)),m.thickness.value=v.thickness,v.thicknessMap&&(m.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=v.attenuationDistance,m.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(m.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(m.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=v.specularIntensity,m.specularColor.value.copy(v.specularColor),v.specularColorMap&&(m.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,m.specularColorMapTransform)),v.specularIntensityMap&&(m.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,m.specularIntensityMapTransform))}function p(m,v){v.matcap&&(m.matcap.value=v.matcap)}function g(m,v){const x=e.get(v).light;m.referencePosition.value.setFromMatrixPosition(x.matrixWorld),m.nearDistance.value=x.shadow.camera.near,m.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function gB(t,e,n,i){let r={},s={},a=[];const o=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,y){const b=y.program;i.uniformBlockBinding(x,b)}function c(x,y){let b=r[x.id];b===void 0&&(p(x),b=u(x),r[x.id]=b,x.addEventListener("dispose",m));const A=y.program;i.updateUBOMapping(x,A);const M=e.render.frame;s[x.id]!==M&&(h(x),s[x.id]=M)}function u(x){const y=d();x.__bindingPointIndex=y;const b=t.createBuffer(),A=x.__size,M=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,A,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,y,b),b}function d(){for(let x=0;x<o;x++)if(a.indexOf(x)===-1)return a.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const y=r[x.id],b=x.uniforms,A=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,y);for(let M=0,E=b.length;M<E;M++){const S=b[M];if(f(S,M,A)===!0){const _=S.__offset,w=Array.isArray(S.value)?S.value:[S.value];let P=0;for(let R=0;R<w.length;R++){const N=w[R],k=g(N);typeof N=="number"?(S.__data[0]=N,t.bufferSubData(t.UNIFORM_BUFFER,_+P,S.__data)):N.isMatrix3?(S.__data[0]=N.elements[0],S.__data[1]=N.elements[1],S.__data[2]=N.elements[2],S.__data[3]=N.elements[0],S.__data[4]=N.elements[3],S.__data[5]=N.elements[4],S.__data[6]=N.elements[5],S.__data[7]=N.elements[0],S.__data[8]=N.elements[6],S.__data[9]=N.elements[7],S.__data[10]=N.elements[8],S.__data[11]=N.elements[0]):(N.toArray(S.__data,P),P+=k.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,_,S.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(x,y,b){const A=x.value;if(b[y]===void 0){if(typeof A=="number")b[y]=A;else{const M=Array.isArray(A)?A:[A],E=[];for(let S=0;S<M.length;S++)E.push(M[S].clone());b[y]=E}return!0}else if(typeof A=="number"){if(b[y]!==A)return b[y]=A,!0}else{const M=Array.isArray(b[y])?b[y]:[b[y]],E=Array.isArray(A)?A:[A];for(let S=0;S<M.length;S++){const _=M[S];if(_.equals(E[S])===!1)return _.copy(E[S]),!0}}return!1}function p(x){const y=x.uniforms;let b=0;const A=16;let M=0;for(let E=0,S=y.length;E<S;E++){const _=y[E],w={boundary:0,storage:0},P=Array.isArray(_.value)?_.value:[_.value];for(let R=0,N=P.length;R<N;R++){const k=P[R],z=g(k);w.boundary+=z.boundary,w.storage+=z.storage}if(_.__data=new Float32Array(w.storage/Float32Array.BYTES_PER_ELEMENT),_.__offset=b,E>0){M=b%A;const R=A-M;M!==0&&R-w.boundary<0&&(b+=A-M,_.__offset=b)}b+=w.storage}return M=b%A,M>0&&(b+=A-M),x.__size=b,x.__cache={},this}function g(x){const y={boundary:0,storage:0};return typeof x=="number"?(y.boundary=4,y.storage=4):x.isVector2?(y.boundary=8,y.storage=8):x.isVector3||x.isColor?(y.boundary=16,y.storage=12):x.isVector4?(y.boundary=16,y.storage=16):x.isMatrix3?(y.boundary=48,y.storage=48):x.isMatrix4?(y.boundary=64,y.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),y}function m(x){const y=x.target;y.removeEventListener("dispose",m);const b=a.indexOf(y.__bindingPointIndex);a.splice(b,1),t.deleteBuffer(r[y.id]),delete r[y.id],delete s[y.id]}function v(){for(const x in r)t.deleteBuffer(r[x]);a=[],r={},s={}}return{bind:l,update:c,dispose:v}}class Qc{constructor(e={}){const{canvas:n=DC(),context:i=null,depth:r=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let h;i!==null?h=i.getContextAttributes().alpha:h=a;const f=new Uint32Array(4),p=new Int32Array(4);let g=null,m=null;const v=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=wn,this._useLegacyLights=!1,this.toneMapping=ws,this.toneMappingExposure=1;const y=this;let b=!1,A=0,M=0,E=null,S=-1,_=null;const w=new Tt,P=new Tt;let R=null;const N=new Ue(0);let k=0,z=n.width,F=n.height,j=1,X=null,Z=null;const J=new Tt(0,0,z,F),H=new Tt(0,0,z,F);let q=!1;const le=new dp;let ue=!1,be=!1,ae=null;const Ae=new it,ee=new Me,L=new G,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return E===null?j:1}let T=i;function D($,de){for(let pe=0;pe<$.length;pe++){const ge=$[pe],xe=n.getContext(ge,de);if(xe!==null)return xe}return null}try{const $={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${ac}`),n.addEventListener("webglcontextlost",et,!1),n.addEventListener("webglcontextrestored",te,!1),n.addEventListener("webglcontextcreationerror",We,!1),T===null){const de=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&de.shift(),T=D(de,$),T===null)throw D(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&T instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),T.getShaderPrecisionFormat===void 0&&(T.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let V,Y,K,ie,oe,se,fe,ce,Te,U,O,ne,we,ye,Ce,ze,ke,He,Je,gt,Oe,st,Q,_e;function Ie(){V=new IN(T),Y=new CN(T,V,e),V.init(Y),st=new $C(T,V,Y),K=new hB(T,V,Y),ie=new ON(T),oe=new eB,se=new fB(T,V,K,oe,Y,st,ie),fe=new TN(y),ce=new LN(y),Te=new $O(T,Y),Q=new MN(T,V,Te,Y),U=new kN(T,Te,ie,Q),O=new BN(T,U,Te,ie),Je=new FN(T,Y,se),ze=new AN(oe),ne=new QF(y,fe,ce,V,Y,Q,ze),we=new vB(y,oe),ye=new nB,Ce=new lB(V,Y),He=new SN(y,fe,ce,K,O,h,l),ke=new dB(y,O,Y),_e=new gB(T,ie,Y,K),gt=new EN(T,V,ie,Y),Oe=new DN(T,V,ie,Y),ie.programs=ne.programs,y.capabilities=Y,y.extensions=V,y.properties=oe,y.renderLists=ye,y.shadowMap=ke,y.state=K,y.info=ie}Ie();const De=new mB(y,T);this.xr=De,this.getContext=function(){return T},this.getContextAttributes=function(){return T.getContextAttributes()},this.forceContextLoss=function(){const $=V.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=V.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function($){$!==void 0&&(j=$,this.setSize(z,F,!1))},this.getSize=function($){return $.set(z,F)},this.setSize=function($,de,pe=!0){if(De.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=$,F=de,n.width=Math.floor($*j),n.height=Math.floor(de*j),pe===!0&&(n.style.width=$+"px",n.style.height=de+"px"),this.setViewport(0,0,$,de)},this.getDrawingBufferSize=function($){return $.set(z*j,F*j).floor()},this.setDrawingBufferSize=function($,de,pe){z=$,F=de,j=pe,n.width=Math.floor($*pe),n.height=Math.floor(de*pe),this.setViewport(0,0,$,de)},this.getCurrentViewport=function($){return $.copy(w)},this.getViewport=function($){return $.copy(J)},this.setViewport=function($,de,pe,ge){$.isVector4?J.set($.x,$.y,$.z,$.w):J.set($,de,pe,ge),K.viewport(w.copy(J).multiplyScalar(j).floor())},this.getScissor=function($){return $.copy(H)},this.setScissor=function($,de,pe,ge){$.isVector4?H.set($.x,$.y,$.z,$.w):H.set($,de,pe,ge),K.scissor(P.copy(H).multiplyScalar(j).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function($){K.setScissorTest(q=$)},this.setOpaqueSort=function($){X=$},this.setTransparentSort=function($){Z=$},this.getClearColor=function($){return $.copy(He.getClearColor())},this.setClearColor=function(){He.setClearColor.apply(He,arguments)},this.getClearAlpha=function(){return He.getClearAlpha()},this.setClearAlpha=function(){He.setClearAlpha.apply(He,arguments)},this.clear=function($=!0,de=!0,pe=!0){let ge=0;if($){let xe=!1;if(E!==null){const $e=E.texture.format;xe=$e===N0||$e===V0||$e===O0}if(xe){const $e=E.texture.type,Ke=$e===xr||$e===gs||$e===rp||$e===la||$e===k0||$e===D0,tt=He.getClearColor(),lt=He.getClearAlpha(),bt=tt.r,ut=tt.g,ft=tt.b;Ke?(f[0]=bt,f[1]=ut,f[2]=ft,f[3]=lt,T.clearBufferuiv(T.COLOR,0,f)):(p[0]=bt,p[1]=ut,p[2]=ft,p[3]=lt,T.clearBufferiv(T.COLOR,0,p))}else ge|=T.COLOR_BUFFER_BIT}de&&(ge|=T.DEPTH_BUFFER_BIT),pe&&(ge|=T.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),T.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",et,!1),n.removeEventListener("webglcontextrestored",te,!1),n.removeEventListener("webglcontextcreationerror",We,!1),ye.dispose(),Ce.dispose(),oe.dispose(),fe.dispose(),ce.dispose(),O.dispose(),Q.dispose(),_e.dispose(),ne.dispose(),De.dispose(),De.removeEventListener("sessionstart",$n),De.removeEventListener("sessionend",Xt),ae&&(ae.dispose(),ae=null),li.stop()};function et($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function te(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const $=ie.autoReset,de=ke.enabled,pe=ke.autoUpdate,ge=ke.needsUpdate,xe=ke.type;Ie(),ie.autoReset=$,ke.enabled=de,ke.autoUpdate=pe,ke.needsUpdate=ge,ke.type=xe}function We($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function Ne($){const de=$.target;de.removeEventListener("dispose",Ne),Se(de)}function Se($){Ve($),oe.remove($)}function Ve($){const de=oe.get($).programs;de!==void 0&&(de.forEach(function(pe){ne.releaseProgram(pe)}),$.isShaderMaterial&&ne.releaseShaderCache($))}this.renderBufferDirect=function($,de,pe,ge,xe,$e){de===null&&(de=B);const Ke=xe.isMesh&&xe.matrixWorld.determinant()<0,tt=BI($,de,pe,ge,xe);K.setMaterial(ge,Ke);let lt=pe.index,bt=1;if(ge.wireframe===!0){if(lt=U.getWireframeAttribute(pe),lt===void 0)return;bt=2}const ut=pe.drawRange,ft=pe.attributes.position;let gn=ut.start*bt,Ii=(ut.start+ut.count)*bt;$e!==null&&(gn=Math.max(gn,$e.start*bt),Ii=Math.min(Ii,($e.start+$e.count)*bt)),lt!==null?(gn=Math.max(gn,0),Ii=Math.min(Ii,lt.count)):ft!=null&&(gn=Math.max(gn,0),Ii=Math.min(Ii,ft.count));const On=Ii-gn;if(On<0||On===1/0)return;Q.setup(xe,ge,tt,pe,lt);let rs,ln=gt;if(lt!==null&&(rs=Te.get(lt),ln=Oe,ln.setIndex(rs)),xe.isMesh)ge.wireframe===!0?(K.setLineWidth(ge.wireframeLinewidth*W()),ln.setMode(T.LINES)):ln.setMode(T.TRIANGLES);else if(xe.isLine){let wt=ge.linewidth;wt===void 0&&(wt=1),K.setLineWidth(wt*W()),xe.isLineSegments?ln.setMode(T.LINES):xe.isLineLoop?ln.setMode(T.LINE_LOOP):ln.setMode(T.LINE_STRIP)}else xe.isPoints?ln.setMode(T.POINTS):xe.isSprite&&ln.setMode(T.TRIANGLES);if(xe.isInstancedMesh)ln.renderInstances(gn,On,xe.count);else if(pe.isInstancedBufferGeometry){const wt=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,xm=Math.min(pe.instanceCount,wt);ln.renderInstances(gn,On,xm)}else ln.render(gn,On)};function Ze($,de,pe){$.transparent===!0&&$.side===nr&&$.forceSinglePass===!1?($.side=ei,$.needsUpdate=!0,Ld($,de,pe),$.side=Hr,$.needsUpdate=!0,Ld($,de,pe),$.side=nr):Ld($,de,pe)}this.compile=function($,de,pe=null){pe===null&&(pe=$),m=Ce.get(pe),m.init(),x.push(m),pe.traverseVisible(function(xe){xe.isLight&&xe.layers.test(de.layers)&&(m.pushLight(xe),xe.castShadow&&m.pushShadow(xe))}),$!==pe&&$.traverseVisible(function(xe){xe.isLight&&xe.layers.test(de.layers)&&(m.pushLight(xe),xe.castShadow&&m.pushShadow(xe))}),m.setupLights(y._useLegacyLights);const ge=new Set;return $.traverse(function(xe){const $e=xe.material;if($e)if(Array.isArray($e))for(let Ke=0;Ke<$e.length;Ke++){const tt=$e[Ke];Ze(tt,pe,xe),ge.add(tt)}else Ze($e,pe,xe),ge.add($e)}),x.pop(),m=null,ge},this.compileAsync=function($,de,pe=null){const ge=this.compile($,de,pe);return new Promise(xe=>{function $e(){if(ge.forEach(function(Ke){oe.get(Ke).currentProgram.isReady()&&ge.delete(Ke)}),ge.size===0){xe($);return}setTimeout($e,10)}V.get("KHR_parallel_shader_compile")!==null?$e():setTimeout($e,10)})};let xt=null;function jt($){xt&&xt($)}function $n(){li.stop()}function Xt(){li.start()}const li=new UC;li.setAnimationLoop(jt),typeof self<"u"&&li.setContext(self),this.setAnimationLoop=function($){xt=$,De.setAnimationLoop($),$===null?li.stop():li.start()},De.addEventListener("sessionstart",$n),De.addEventListener("sessionend",Xt),this.render=function($,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),De.enabled===!0&&De.isPresenting===!0&&(De.cameraAutoUpdate===!0&&De.updateCamera(de),de=De.getCamera()),$.isScene===!0&&$.onBeforeRender(y,$,de,E),m=Ce.get($,x.length),m.init(),x.push(m),Ae.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),le.setFromProjectionMatrix(Ae),be=this.localClippingEnabled,ue=ze.init(this.clippingPlanes,be),g=ye.get($,v.length),g.init(),v.push(g),Tr($,de,0,y.sortObjects),g.finish(),y.sortObjects===!0&&g.sort(X,Z),this.info.render.frame++,ue===!0&&ze.beginShadows();const pe=m.state.shadowsArray;if(ke.render(pe,$,de),ue===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset(),He.render(g,$),m.setupLights(y._useLegacyLights),de.isArrayCamera){const ge=de.cameras;for(let xe=0,$e=ge.length;xe<$e;xe++){const Ke=ge[xe];ix(g,$,Ke,Ke.viewport)}}else ix(g,$,de);E!==null&&(se.updateMultisampleRenderTarget(E),se.updateRenderTargetMipmap(E)),$.isScene===!0&&$.onAfterRender(y,$,de),Q.resetDefaultState(),S=-1,_=null,x.pop(),x.length>0?m=x[x.length-1]:m=null,v.pop(),v.length>0?g=v[v.length-1]:g=null};function Tr($,de,pe,ge){if($.visible===!1)return;if($.layers.test(de.layers)){if($.isGroup)pe=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(de);else if($.isLight)m.pushLight($),$.castShadow&&m.pushShadow($);else if($.isSprite){if(!$.frustumCulled||le.intersectsSprite($)){ge&&L.setFromMatrixPosition($.matrixWorld).applyMatrix4(Ae);const Ke=O.update($),tt=$.material;tt.visible&&g.push($,Ke,tt,pe,L.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&(!$.frustumCulled||le.intersectsObject($))){const Ke=O.update($),tt=$.material;if(ge&&($.boundingSphere!==void 0?($.boundingSphere===null&&$.computeBoundingSphere(),L.copy($.boundingSphere.center)):(Ke.boundingSphere===null&&Ke.computeBoundingSphere(),L.copy(Ke.boundingSphere.center)),L.applyMatrix4($.matrixWorld).applyMatrix4(Ae)),Array.isArray(tt)){const lt=Ke.groups;for(let bt=0,ut=lt.length;bt<ut;bt++){const ft=lt[bt],gn=tt[ft.materialIndex];gn&&gn.visible&&g.push($,Ke,gn,pe,L.z,ft)}}else tt.visible&&g.push($,Ke,tt,pe,L.z,null)}}const $e=$.children;for(let Ke=0,tt=$e.length;Ke<tt;Ke++)Tr($e[Ke],de,pe,ge)}function ix($,de,pe,ge){const xe=$.opaque,$e=$.transmissive,Ke=$.transparent;m.setupLightsView(pe),ue===!0&&ze.setGlobalState(y.clippingPlanes,pe),$e.length>0&&FI(xe,$e,de,pe),ge&&K.viewport(w.copy(ge)),xe.length>0&&Rd(xe,de,pe),$e.length>0&&Rd($e,de,pe),Ke.length>0&&Rd(Ke,de,pe),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function FI($,de,pe,ge){if((pe.isScene===!0?pe.overrideMaterial:null)!==null)return;const $e=Y.isWebGL2;ae===null&&(ae=new Sr(1,1,{generateMipmaps:!0,type:V.has("EXT_color_buffer_half_float")?zl:xr,minFilter:Gr,samples:$e?4:0})),y.getDrawingBufferSize(ee),$e?ae.setSize(ee.x,ee.y):ae.setSize(Mf(ee.x),Mf(ee.y));const Ke=y.getRenderTarget();y.setRenderTarget(ae),y.getClearColor(N),k=y.getClearAlpha(),k<1&&y.setClearColor(16777215,.5),y.clear();const tt=y.toneMapping;y.toneMapping=ws,Rd($,pe,ge),se.updateMultisampleRenderTarget(ae),se.updateRenderTargetMipmap(ae);let lt=!1;for(let bt=0,ut=de.length;bt<ut;bt++){const ft=de[bt],gn=ft.object,Ii=ft.geometry,On=ft.material,rs=ft.group;if(On.side===nr&&gn.layers.test(ge.layers)){const ln=On.side;On.side=ei,On.needsUpdate=!0,rx(gn,pe,ge,Ii,On,rs),On.side=ln,On.needsUpdate=!0,lt=!0}}lt===!0&&(se.updateMultisampleRenderTarget(ae),se.updateRenderTargetMipmap(ae)),y.setRenderTarget(Ke),y.setClearColor(N,k),y.toneMapping=tt}function Rd($,de,pe){const ge=de.isScene===!0?de.overrideMaterial:null;for(let xe=0,$e=$.length;xe<$e;xe++){const Ke=$[xe],tt=Ke.object,lt=Ke.geometry,bt=ge===null?Ke.material:ge,ut=Ke.group;tt.layers.test(pe.layers)&&rx(tt,de,pe,lt,bt,ut)}}function rx($,de,pe,ge,xe,$e){$.onBeforeRender(y,de,pe,ge,xe,$e),$.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),xe.onBeforeRender(y,de,pe,ge,$,$e),xe.transparent===!0&&xe.side===nr&&xe.forceSinglePass===!1?(xe.side=ei,xe.needsUpdate=!0,y.renderBufferDirect(pe,de,ge,xe,$,$e),xe.side=Hr,xe.needsUpdate=!0,y.renderBufferDirect(pe,de,ge,xe,$,$e),xe.side=nr):y.renderBufferDirect(pe,de,ge,xe,$,$e),$.onAfterRender(y,de,pe,ge,xe,$e)}function Ld($,de,pe){de.isScene!==!0&&(de=B);const ge=oe.get($),xe=m.state.lights,$e=m.state.shadowsArray,Ke=xe.state.version,tt=ne.getParameters($,xe.state,$e,de,pe),lt=ne.getProgramCacheKey(tt);let bt=ge.programs;ge.environment=$.isMeshStandardMaterial?de.environment:null,ge.fog=de.fog,ge.envMap=($.isMeshStandardMaterial?ce:fe).get($.envMap||ge.environment),bt===void 0&&($.addEventListener("dispose",Ne),bt=new Map,ge.programs=bt);let ut=bt.get(lt);if(ut!==void 0){if(ge.currentProgram===ut&&ge.lightsStateVersion===Ke)return ax($,tt),ut}else tt.uniforms=ne.getUniforms($),$.onBuild(pe,tt,y),$.onBeforeCompile(tt,y),ut=ne.acquireProgram(tt,lt),bt.set(lt,ut),ge.uniforms=tt.uniforms;const ft=ge.uniforms;return(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(ft.clippingPlanes=ze.uniform),ax($,tt),ge.needsLights=zI($),ge.lightsStateVersion=Ke,ge.needsLights&&(ft.ambientLightColor.value=xe.state.ambient,ft.lightProbe.value=xe.state.probe,ft.directionalLights.value=xe.state.directional,ft.directionalLightShadows.value=xe.state.directionalShadow,ft.spotLights.value=xe.state.spot,ft.spotLightShadows.value=xe.state.spotShadow,ft.rectAreaLights.value=xe.state.rectArea,ft.ltc_1.value=xe.state.rectAreaLTC1,ft.ltc_2.value=xe.state.rectAreaLTC2,ft.pointLights.value=xe.state.point,ft.pointLightShadows.value=xe.state.pointShadow,ft.hemisphereLights.value=xe.state.hemi,ft.directionalShadowMap.value=xe.state.directionalShadowMap,ft.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,ft.spotShadowMap.value=xe.state.spotShadowMap,ft.spotLightMatrix.value=xe.state.spotLightMatrix,ft.spotLightMap.value=xe.state.spotLightMap,ft.pointShadowMap.value=xe.state.pointShadowMap,ft.pointShadowMatrix.value=xe.state.pointShadowMatrix),ge.currentProgram=ut,ge.uniformsList=null,ut}function sx($){if($.uniformsList===null){const de=$.currentProgram.getUniforms();$.uniformsList=Qh.seqWithValue(de.seq,$.uniforms)}return $.uniformsList}function ax($,de){const pe=oe.get($);pe.outputColorSpace=de.outputColorSpace,pe.instancing=de.instancing,pe.instancingColor=de.instancingColor,pe.skinning=de.skinning,pe.morphTargets=de.morphTargets,pe.morphNormals=de.morphNormals,pe.morphColors=de.morphColors,pe.morphTargetsCount=de.morphTargetsCount,pe.numClippingPlanes=de.numClippingPlanes,pe.numIntersection=de.numClipIntersection,pe.vertexAlphas=de.vertexAlphas,pe.vertexTangents=de.vertexTangents,pe.toneMapping=de.toneMapping}function BI($,de,pe,ge,xe){de.isScene!==!0&&(de=B),se.resetTextureUnits();const $e=de.fog,Ke=ge.isMeshStandardMaterial?de.environment:null,tt=E===null?y.outputColorSpace:E.isXRRenderTarget===!0?E.texture.colorSpace:Wr,lt=(ge.isMeshStandardMaterial?ce:fe).get(ge.envMap||Ke),bt=ge.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,ut=!!pe.attributes.tangent&&(!!ge.normalMap||ge.anisotropy>0),ft=!!pe.morphAttributes.position,gn=!!pe.morphAttributes.normal,Ii=!!pe.morphAttributes.color;let On=ws;ge.toneMapped&&(E===null||E.isXRRenderTarget===!0)&&(On=y.toneMapping);const rs=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,ln=rs!==void 0?rs.length:0,wt=oe.get(ge),xm=m.state.lights;if(ue===!0&&(be===!0||$!==_)){const ki=$===_&&ge.id===S;ze.setState(ge,$,ki)}let _n=!1;ge.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==xm.state.version||wt.outputColorSpace!==tt||xe.isInstancedMesh&&wt.instancing===!1||!xe.isInstancedMesh&&wt.instancing===!0||xe.isSkinnedMesh&&wt.skinning===!1||!xe.isSkinnedMesh&&wt.skinning===!0||xe.isInstancedMesh&&wt.instancingColor===!0&&xe.instanceColor===null||xe.isInstancedMesh&&wt.instancingColor===!1&&xe.instanceColor!==null||wt.envMap!==lt||ge.fog===!0&&wt.fog!==$e||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==ze.numPlanes||wt.numIntersection!==ze.numIntersection)||wt.vertexAlphas!==bt||wt.vertexTangents!==ut||wt.morphTargets!==ft||wt.morphNormals!==gn||wt.morphColors!==Ii||wt.toneMapping!==On||Y.isWebGL2===!0&&wt.morphTargetsCount!==ln)&&(_n=!0):(_n=!0,wt.__version=ge.version);let Ta=wt.currentProgram;_n===!0&&(Ta=Ld(ge,de,xe));let ox=!1,Sc=!1,wm=!1;const ci=Ta.getUniforms(),Pa=wt.uniforms;if(K.useProgram(Ta.program)&&(ox=!0,Sc=!0,wm=!0),ge.id!==S&&(S=ge.id,Sc=!0),ox||_!==$){ci.setValue(T,"projectionMatrix",$.projectionMatrix),ci.setValue(T,"viewMatrix",$.matrixWorldInverse);const ki=ci.map.cameraPosition;ki!==void 0&&ki.setValue(T,L.setFromMatrixPosition($.matrixWorld)),Y.logarithmicDepthBuffer&&ci.setValue(T,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&ci.setValue(T,"isOrthographic",$.isOrthographicCamera===!0),_!==$&&(_=$,Sc=!0,wm=!0)}if(xe.isSkinnedMesh){ci.setOptional(T,xe,"bindMatrix"),ci.setOptional(T,xe,"bindMatrixInverse");const ki=xe.skeleton;ki&&(Y.floatVertexTextures?(ki.boneTexture===null&&ki.computeBoneTexture(),ci.setValue(T,"boneTexture",ki.boneTexture,se),ci.setValue(T,"boneTextureSize",ki.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Sm=pe.morphAttributes;if((Sm.position!==void 0||Sm.normal!==void 0||Sm.color!==void 0&&Y.isWebGL2===!0)&&Je.update(xe,pe,Ta),(Sc||wt.receiveShadow!==xe.receiveShadow)&&(wt.receiveShadow=xe.receiveShadow,ci.setValue(T,"receiveShadow",xe.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(Pa.envMap.value=lt,Pa.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1),Sc&&(ci.setValue(T,"toneMappingExposure",y.toneMappingExposure),wt.needsLights&&UI(Pa,wm),$e&&ge.fog===!0&&we.refreshFogUniforms(Pa,$e),we.refreshMaterialUniforms(Pa,ge,j,F,ae),Qh.upload(T,sx(wt),Pa,se)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(Qh.upload(T,sx(wt),Pa,se),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&ci.setValue(T,"center",xe.center),ci.setValue(T,"modelViewMatrix",xe.modelViewMatrix),ci.setValue(T,"normalMatrix",xe.normalMatrix),ci.setValue(T,"modelMatrix",xe.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){const ki=ge.uniformsGroups;for(let Mm=0,HI=ki.length;Mm<HI;Mm++)if(Y.isWebGL2){const lx=ki[Mm];_e.update(lx,Ta),_e.bind(lx,Ta)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ta}function UI($,de){$.ambientLightColor.needsUpdate=de,$.lightProbe.needsUpdate=de,$.directionalLights.needsUpdate=de,$.directionalLightShadows.needsUpdate=de,$.pointLights.needsUpdate=de,$.pointLightShadows.needsUpdate=de,$.spotLights.needsUpdate=de,$.spotLightShadows.needsUpdate=de,$.rectAreaLights.needsUpdate=de,$.hemisphereLights.needsUpdate=de}function zI($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function($,de,pe){oe.get($.texture).__webglTexture=de,oe.get($.depthTexture).__webglTexture=pe;const ge=oe.get($);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=pe===void 0,ge.__autoAllocateDepthBuffer||V.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,de){const pe=oe.get($);pe.__webglFramebuffer=de,pe.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function($,de=0,pe=0){E=$,A=de,M=pe;let ge=!0,xe=null,$e=!1,Ke=!1;if($){const lt=oe.get($);lt.__useDefaultFramebuffer!==void 0?(K.bindFramebuffer(T.FRAMEBUFFER,null),ge=!1):lt.__webglFramebuffer===void 0?se.setupRenderTarget($):lt.__hasExternalTextures&&se.rebindTextures($,oe.get($.texture).__webglTexture,oe.get($.depthTexture).__webglTexture);const bt=$.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(Ke=!0);const ut=oe.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Array.isArray(ut[de])?xe=ut[de][pe]:xe=ut[de],$e=!0):Y.isWebGL2&&$.samples>0&&se.useMultisampledRTT($)===!1?xe=oe.get($).__webglMultisampledFramebuffer:Array.isArray(ut)?xe=ut[pe]:xe=ut,w.copy($.viewport),P.copy($.scissor),R=$.scissorTest}else w.copy(J).multiplyScalar(j).floor(),P.copy(H).multiplyScalar(j).floor(),R=q;if(K.bindFramebuffer(T.FRAMEBUFFER,xe)&&Y.drawBuffers&&ge&&K.drawBuffers($,xe),K.viewport(w),K.scissor(P),K.setScissorTest(R),$e){const lt=oe.get($.texture);T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_CUBE_MAP_POSITIVE_X+de,lt.__webglTexture,pe)}else if(Ke){const lt=oe.get($.texture),bt=de||0;T.framebufferTextureLayer(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,lt.__webglTexture,pe||0,bt)}S=-1},this.readRenderTargetPixels=function($,de,pe,ge,xe,$e,Ke){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let tt=oe.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&Ke!==void 0&&(tt=tt[Ke]),tt){K.bindFramebuffer(T.FRAMEBUFFER,tt);try{const lt=$.texture,bt=lt.format,ut=lt.type;if(bt!==Ni&&st.convert(bt)!==T.getParameter(T.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ft=ut===zl&&(V.has("EXT_color_buffer_half_float")||Y.isWebGL2&&V.has("EXT_color_buffer_float"));if(ut!==xr&&st.convert(ut)!==T.getParameter(T.IMPLEMENTATION_COLOR_READ_TYPE)&&!(ut===kr&&(Y.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float")))&&!ft){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=$.width-ge&&pe>=0&&pe<=$.height-xe&&T.readPixels(de,pe,ge,xe,st.convert(bt),st.convert(ut),$e)}finally{const lt=E!==null?oe.get(E).__webglFramebuffer:null;K.bindFramebuffer(T.FRAMEBUFFER,lt)}}},this.copyFramebufferToTexture=function($,de,pe=0){const ge=Math.pow(2,-pe),xe=Math.floor(de.image.width*ge),$e=Math.floor(de.image.height*ge);se.setTexture2D(de,0),T.copyTexSubImage2D(T.TEXTURE_2D,pe,0,0,$.x,$.y,xe,$e),K.unbindTexture()},this.copyTextureToTexture=function($,de,pe,ge=0){const xe=de.image.width,$e=de.image.height,Ke=st.convert(pe.format),tt=st.convert(pe.type);se.setTexture2D(pe,0),T.pixelStorei(T.UNPACK_FLIP_Y_WEBGL,pe.flipY),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),T.pixelStorei(T.UNPACK_ALIGNMENT,pe.unpackAlignment),de.isDataTexture?T.texSubImage2D(T.TEXTURE_2D,ge,$.x,$.y,xe,$e,Ke,tt,de.image.data):de.isCompressedTexture?T.compressedTexSubImage2D(T.TEXTURE_2D,ge,$.x,$.y,de.mipmaps[0].width,de.mipmaps[0].height,Ke,de.mipmaps[0].data):T.texSubImage2D(T.TEXTURE_2D,ge,$.x,$.y,Ke,tt,de.image),ge===0&&pe.generateMipmaps&&T.generateMipmap(T.TEXTURE_2D),K.unbindTexture()},this.copyTextureToTexture3D=function($,de,pe,ge,xe=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=$.max.x-$.min.x+1,Ke=$.max.y-$.min.y+1,tt=$.max.z-$.min.z+1,lt=st.convert(ge.format),bt=st.convert(ge.type);let ut;if(ge.isData3DTexture)se.setTexture3D(ge,0),ut=T.TEXTURE_3D;else if(ge.isDataArrayTexture)se.setTexture2DArray(ge,0),ut=T.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}T.pixelStorei(T.UNPACK_FLIP_Y_WEBGL,ge.flipY),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ge.premultiplyAlpha),T.pixelStorei(T.UNPACK_ALIGNMENT,ge.unpackAlignment);const ft=T.getParameter(T.UNPACK_ROW_LENGTH),gn=T.getParameter(T.UNPACK_IMAGE_HEIGHT),Ii=T.getParameter(T.UNPACK_SKIP_PIXELS),On=T.getParameter(T.UNPACK_SKIP_ROWS),rs=T.getParameter(T.UNPACK_SKIP_IMAGES),ln=pe.isCompressedTexture?pe.mipmaps[0]:pe.image;T.pixelStorei(T.UNPACK_ROW_LENGTH,ln.width),T.pixelStorei(T.UNPACK_IMAGE_HEIGHT,ln.height),T.pixelStorei(T.UNPACK_SKIP_PIXELS,$.min.x),T.pixelStorei(T.UNPACK_SKIP_ROWS,$.min.y),T.pixelStorei(T.UNPACK_SKIP_IMAGES,$.min.z),pe.isDataTexture||pe.isData3DTexture?T.texSubImage3D(ut,xe,de.x,de.y,de.z,$e,Ke,tt,lt,bt,ln.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),T.compressedTexSubImage3D(ut,xe,de.x,de.y,de.z,$e,Ke,tt,lt,ln.data)):T.texSubImage3D(ut,xe,de.x,de.y,de.z,$e,Ke,tt,lt,bt,ln),T.pixelStorei(T.UNPACK_ROW_LENGTH,ft),T.pixelStorei(T.UNPACK_IMAGE_HEIGHT,gn),T.pixelStorei(T.UNPACK_SKIP_PIXELS,Ii),T.pixelStorei(T.UNPACK_SKIP_ROWS,On),T.pixelStorei(T.UNPACK_SKIP_IMAGES,rs),xe===0&&ge.generateMipmaps&&T.generateMipmap(ut),K.unbindTexture()},this.initTexture=function($){$.isCubeTexture?se.setTextureCube($,0):$.isData3DTexture?se.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?se.setTexture2DArray($,0):se.setTexture2D($,0),K.unbindTexture()},this.resetState=function(){A=0,M=0,E=null,K.reset(),Q.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Dr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===ap?"display-p3":"srgb",n.unpackColorSpace=zt.workingColorSpace===Qu?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===wn?ua:U0}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ua?wn:Wr}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class qC extends Qc{}qC.prototype.isWebGL1Renderer=!0;class fp{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ue(e),this.density=n}clone(){return new fp(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class pp{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ue(e),this.near=n,this.far=i}clone(){return new pp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Y0 extends Rt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class uc{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Mu,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Hi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Hi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Hi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ui=new G;class $r{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)ui.fromBufferAttribute(this,n),ui.applyMatrix4(e),this.setXYZ(n,ui.x,ui.y,ui.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)ui.fromBufferAttribute(this,n),ui.applyNormalMatrix(e),this.setXYZ(n,ui.x,ui.y,ui.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)ui.fromBufferAttribute(this,n),ui.transformDirection(e),this.setXYZ(n,ui.x,ui.y,ui.z);return this}setX(e,n){return this.normalized&&(n=vt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=vt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=vt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=vt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Si(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Si(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Si(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Si(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=vt(n,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new kt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new $r(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class K0 extends Rn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ll;const Rc=new G,cl=new G,ul=new G,dl=new Me,Lc=new Me,YC=new it,lh=new G,Ic=new G,ch=new G,Ow=new Me,iv=new Me,Vw=new Me;class KC extends Rt{constructor(e=new K0){if(super(),this.isSprite=!0,this.type="Sprite",ll===void 0){ll=new ht;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new uc(n,5);ll.setIndex([0,1,2,0,2,3]),ll.setAttribute("position",new $r(i,3,0,!1)),ll.setAttribute("uv",new $r(i,2,3,!1))}this.geometry=ll,this.material=e,this.center=new Me(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cl.setFromMatrixScale(this.matrixWorld),YC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ul.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cl.multiplyScalar(-ul.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;uh(lh.set(-.5,-.5,0),ul,a,cl,r,s),uh(Ic.set(.5,-.5,0),ul,a,cl,r,s),uh(ch.set(.5,.5,0),ul,a,cl,r,s),Ow.set(0,0),iv.set(1,0),Vw.set(1,1);let o=e.ray.intersectTriangle(lh,Ic,ch,!1,Rc);if(o===null&&(uh(Ic.set(-.5,.5,0),ul,a,cl,r,s),iv.set(0,1),o=e.ray.intersectTriangle(lh,ch,Ic,!1,Rc),o===null))return;const l=e.ray.origin.distanceTo(Rc);l<e.near||l>e.far||n.push({distance:l,point:Rc.clone(),uv:wi.getInterpolation(Rc,lh,Ic,ch,Ow,iv,Vw,new Me),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function uh(t,e,n,i,r,s){dl.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(Lc.x=s*dl.x-r*dl.y,Lc.y=r*dl.x+s*dl.y):Lc.copy(dl),t.copy(e),t.x+=Lc.x,t.y+=Lc.y,t.applyMatrix4(YC)}const dh=new G,Nw=new G;class ZC extends Rt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){dh.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(dh);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){dh.setFromMatrixPosition(e.matrixWorld),Nw.setFromMatrixPosition(this.matrixWorld);const i=dh.distanceTo(Nw)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),i>=a)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const Fw=new G,Bw=new Tt,Uw=new Tt,yB=new G,zw=new it,hh=new G,rv=new $i,Hw=new it,sv=new ko;class Z0 extends pn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=fg,this.bindMatrix=new it,this.bindMatrixInverse=new it,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Wi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,hh),this.boundingBox.expandByPoint(hh)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $i),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,hh),this.boundingSphere.expandByPoint(hh)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),rv.copy(this.boundingSphere),rv.applyMatrix4(r),e.ray.intersectsSphere(rv)!==!1&&(Hw.copy(r).invert(),sv.copy(e.ray).applyMatrix4(Hw),!(this.boundingBox!==null&&sv.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,sv)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Tt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===fg?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===oC?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;Bw.fromBufferAttribute(r.attributes.skinIndex,e),Uw.fromBufferAttribute(r.attributes.skinWeight,e),Fw.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=Uw.getComponent(s);if(a!==0){const o=Bw.getComponent(s);zw.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),n.addScaledVector(yB.copy(Fw).applyMatrix4(zw),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class mp extends Rt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Il extends an{constructor(e=null,n=1,i=1,r,s,a,o,l,c=hn,u=hn,d,h){super(null,a,o,l,c,u,r,s,d,h),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Gw=new it,bB=new it;class nd{constructor(e=[],n=[]){this.uuid=Hi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new it)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new it;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:bB;Gw.multiplyMatrices(o,n[s]),Gw.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new nd(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=IC(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Il(n,e,e,Ni,kr);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new mp),this.bones.push(a),this.boneInverses.push(new it().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const a=n[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class $l extends kt{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const hl=new it,Ww=new it,fh=[],$w=new Wi,_B=new it,kc=new pn,Dc=new $i;class J0 extends pn{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new $l(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,_B)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Wi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,hl),$w.copy(e.boundingBox).applyMatrix4(hl),this.boundingBox.union($w)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new $i),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,hl),Dc.copy(e.boundingSphere).applyMatrix4(hl),this.boundingSphere.union(Dc)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(kc.geometry=this.geometry,kc.material=this.material,kc.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Dc.copy(this.boundingSphere),Dc.applyMatrix4(i),e.ray.intersectsSphere(Dc)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,hl),Ww.multiplyMatrices(i,hl),kc.matrixWorld=Ww,kc.raycast(e,fh);for(let a=0,o=fh.length;a<o;a++){const l=fh[a];l.instanceId=s,l.object=this,n.push(l)}fh.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new $l(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ii extends Rn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ue(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const jw=new G,Xw=new G,qw=new it,av=new ko,ph=new $i;class Cs extends Rt{constructor(e=new ht,n=new ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)jw.fromBufferAttribute(n,r-1),Xw.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=jw.distanceTo(Xw);e.setAttribute("lineDistance",new qe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),ph.copy(i.boundingSphere),ph.applyMatrix4(r),ph.radius+=s,e.ray.intersectsSphere(ph)===!1)return;qw.copy(r).invert(),av.copy(e.ray).applyMatrix4(qw);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new G,u=new G,d=new G,h=new G,f=this.isLineSegments?2:1,p=i.index,m=i.attributes.position;if(p!==null){const v=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count);for(let y=v,b=x-1;y<b;y+=f){const A=p.getX(y),M=p.getX(y+1);if(c.fromBufferAttribute(m,A),u.fromBufferAttribute(m,M),av.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(h);S<e.near||S>e.far||n.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,a.start),x=Math.min(m.count,a.start+a.count);for(let y=v,b=x-1;y<b;y+=f){if(c.fromBufferAttribute(m,y),u.fromBufferAttribute(m,y+1),av.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(h);M<e.near||M>e.far||n.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const Yw=new G,Kw=new G;class Mr extends Cs{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)Yw.fromBufferAttribute(n,r),Kw.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Yw.distanceTo(Kw);e.setAttribute("lineDistance",new qe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Q0 extends Cs{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class vp extends Rn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Zw=new it,Wg=new ko,mh=new $i,vh=new G;class eb extends Rt{constructor(e=new ht,n=new vp){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),mh.copy(i.boundingSphere),mh.applyMatrix4(r),mh.radius+=s,e.ray.intersectsSphere(mh)===!1)return;Zw.copy(r).invert(),Wg.copy(e.ray).applyMatrix4(Zw);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,d=i.attributes.position;if(c!==null){const h=Math.max(0,a.start),f=Math.min(c.count,a.start+a.count);for(let p=h,g=f;p<g;p++){const m=c.getX(p);vh.fromBufferAttribute(d,m),Jw(vh,m,l,r,e,n,this)}}else{const h=Math.max(0,a.start),f=Math.min(d.count,a.start+a.count);for(let p=h,g=f;p<g;p++)vh.fromBufferAttribute(d,p),Jw(vh,p,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Jw(t,e,n,i,r,s,a){const o=Wg.distanceSqToPoint(t);if(o<n){const l=new G;Wg.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}class xB extends an{constructor(e,n,i,r,s,a,o,l,c){super(e,n,i,r,s,a,o,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:nn,this.magFilter=s!==void 0?s:nn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class $g extends an{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=hn,this.minFilter=hn,this.generateMipmaps=!1,this.needsUpdate=!0}}class gp extends an{constructor(e,n,i,r,s,a,o,l,c,u,d,h){super(null,a,o,l,c,u,r,s,d,h),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class wB extends gp{constructor(e,n,i,r,s,a){super(e,n,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=jn}}class SB extends gp{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Es),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class MB extends an{constructor(e,n,i,r,s,a,o,l,c){super(e,n,i,r,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Er{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let a;n?a=n:a=e*i[s-1];let o=0,l=s-1,c;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),c=i[r]-a,c<0)o=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const u=i[r],h=i[r+1]-u,f=(a-u)/h;return(r+f)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=n||(a.isVector2?new Me:new G);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new G,r=[],s=[],a=[],o=new G,l=new it;for(let f=0;f<=e;f++){const p=f/e;r[f]=this.getTangentAt(p,new G)}s[0]=new G,a[0]=new G;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),h<=c&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let f=1;f<=e;f++){if(s[f]=s[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(r[f-1],r[f]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(fn(r[f-1].dot(r[f]),-1,1));s[f].applyMatrix4(l.makeRotationAxis(o,p))}a[f].crossVectors(r[f],s[f])}if(n===!0){let f=Math.acos(fn(s[0].dot(s[e]),-1,1));f/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(f=-f);for(let p=1;p<=e;p++)s[p].applyMatrix4(l.makeRotationAxis(r[p],f*p)),a[p].crossVectors(r[p],s[p])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class yp extends Er{constructor(e=0,n=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n){const i=n||new Me,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,f=c-this.aY;l=h*u-f*d+this.aX,c=h*d+f*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class JC extends yp{constructor(e,n,i,r,s,a){super(e,n,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function tb(){let t=0,e=0,n=0,i=0;function r(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){r(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,u,d){let h=(a-s)/c-(o-s)/(c+u)+(o-a)/u,f=(o-a)/u-(l-a)/(u+d)+(l-o)/d;h*=u,f*=u,r(a,o,h,f)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+i*o}}}const gh=new G,ov=new tb,lv=new tb,cv=new tb;class QC extends Er{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new G){const i=n,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,u;this.closed||o>0?c=r[(o-1)%s]:(gh.subVectors(r[0],r[1]).add(r[0]),c=gh);const d=r[o%s],h=r[(o+1)%s];if(this.closed||o+2<s?u=r[(o+2)%s]:(gh.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=gh),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(d),f),g=Math.pow(d.distanceToSquared(h),f),m=Math.pow(h.distanceToSquared(u),f);g<1e-4&&(g=1),p<1e-4&&(p=g),m<1e-4&&(m=g),ov.initNonuniformCatmullRom(c.x,d.x,h.x,u.x,p,g,m),lv.initNonuniformCatmullRom(c.y,d.y,h.y,u.y,p,g,m),cv.initNonuniformCatmullRom(c.z,d.z,h.z,u.z,p,g,m)}else this.curveType==="catmullrom"&&(ov.initCatmullRom(c.x,d.x,h.x,u.x,this.tension),lv.initCatmullRom(c.y,d.y,h.y,u.y,this.tension),cv.initCatmullRom(c.z,d.z,h.z,u.z,this.tension));return i.set(ov.calc(l),lv.calc(l),cv.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new G().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Qw(t,e,n,i,r){const s=(i-e)*.5,a=(r-n)*.5,o=t*t,l=t*o;return(2*n-2*i+s+a)*l+(-3*n+3*i-2*s-a)*o+s*t+n}function EB(t,e){const n=1-t;return n*n*e}function CB(t,e){return 2*(1-t)*t*e}function AB(t,e){return t*t*e}function eu(t,e,n,i){return EB(t,e)+CB(t,n)+AB(t,i)}function TB(t,e){const n=1-t;return n*n*n*e}function PB(t,e){const n=1-t;return 3*n*n*t*e}function RB(t,e){return 3*(1-t)*t*t*e}function LB(t,e){return t*t*t*e}function tu(t,e,n,i,r){return TB(t,e)+PB(t,n)+RB(t,i)+LB(t,r)}class nb extends Er{constructor(e=new Me,n=new Me,i=new Me,r=new Me){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Me){const i=n,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(tu(e,r.x,s.x,a.x,o.x),tu(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eA extends Er{constructor(e=new G,n=new G,i=new G,r=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new G){const i=n,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(tu(e,r.x,s.x,a.x,o.x),tu(e,r.y,s.y,a.y,o.y),tu(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ib extends Er{constructor(e=new Me,n=new Me){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Me){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Me){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tA extends Er{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rb extends Er{constructor(e=new Me,n=new Me,i=new Me){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Me){const i=n,r=this.v0,s=this.v1,a=this.v2;return i.set(eu(e,r.x,s.x,a.x),eu(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sb extends Er{constructor(e=new G,n=new G,i=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new G){const i=n,r=this.v0,s=this.v1,a=this.v2;return i.set(eu(e,r.x,s.x,a.x),eu(e,r.y,s.y,a.y),eu(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ab extends Er{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Me){const i=n,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],c=r[a],u=r[a>r.length-2?r.length-1:a+1],d=r[a>r.length-3?r.length-1:a+2];return i.set(Qw(o,l.x,c.x,u.x,d.x),Qw(o,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Me().fromArray(r))}return this}}var Ef=Object.freeze({__proto__:null,ArcCurve:JC,CatmullRomCurve3:QC,CubicBezierCurve:nb,CubicBezierCurve3:eA,EllipseCurve:yp,LineCurve:ib,LineCurve3:tA,QuadraticBezierCurve:rb,QuadraticBezierCurve3:sb,SplineCurve:ab});class nA extends Er{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ef[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new Ef[r.type]().fromJSON(r))}return this}}class Au extends nA{constructor(e){super(),this.type="Path",this.currentPoint=new Me,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new ib(this.currentPoint.clone(),new Me(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new rb(this.currentPoint.clone(),new Me(e,n),new Me(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,a){const o=new nb(this.currentPoint.clone(),new Me(e,n),new Me(i,r),new Me(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new ab(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,i,r,s,a),this}absarc(e,n,i,r,s,a){return this.absellipse(e,n,i,i,r,s,a),this}ellipse(e,n,i,r,s,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,s,a,o,l),this}absellipse(e,n,i,r,s,a,o,l){const c=new yp(e,n,i,r,s,a,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class id extends ht{constructor(e=[new Me(0,-.5),new Me(.5,0),new Me(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=fn(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],u=1/n,d=new G,h=new Me,f=new G,p=new G,g=new G;let m=0,v=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:m=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,f.x=v*1,f.y=-m,f.z=v*0,g.copy(f),f.normalize(),l.push(f.x,f.y,f.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:m=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,f.x=v*1,f.y=-m,f.z=v*0,p.copy(f),f.x+=g.x,f.y+=g.y,f.z+=g.z,f.normalize(),l.push(f.x,f.y,f.z),g.copy(p)}for(let x=0;x<=n;x++){const y=i+x*u*r,b=Math.sin(y),A=Math.cos(y);for(let M=0;M<=e.length-1;M++){d.x=e[M].x*b,d.y=e[M].y,d.z=e[M].x*A,a.push(d.x,d.y,d.z),h.x=x/n,h.y=M/(e.length-1),o.push(h.x,h.y);const E=l[3*M+0]*b,S=l[3*M+1],_=l[3*M+0]*A;c.push(E,S,_)}}for(let x=0;x<n;x++)for(let y=0;y<e.length-1;y++){const b=y+x*e.length,A=b,M=b+e.length,E=b+e.length+1,S=b+1;s.push(A,M,S),s.push(E,S,M)}this.setIndex(s),this.setAttribute("position",new qe(a,3)),this.setAttribute("uv",new qe(o,2)),this.setAttribute("normal",new qe(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new id(e.points,e.segments,e.phiStart,e.phiLength)}}class bp extends id{constructor(e=1,n=1,i=4,r=8){const s=new Au;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new bp(e.radius,e.length,e.capSegments,e.radialSegments)}}class _p extends ht{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],a=[],o=[],l=[],c=new G,u=new Me;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=n;d++,h+=3){const f=i+d/n*r;c.x=e*Math.cos(f),c.y=e*Math.sin(f),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[h]/e+1)/2,u.y=(a[h+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new qe(a,3)),this.setAttribute("normal",new qe(o,3)),this.setAttribute("uv",new qe(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class dc extends ht{constructor(e=1,n=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],h=[],f=[];let p=0;const g=[],m=i/2;let v=0;x(),a===!1&&(e>0&&y(!0),n>0&&y(!1)),this.setIndex(u),this.setAttribute("position",new qe(d,3)),this.setAttribute("normal",new qe(h,3)),this.setAttribute("uv",new qe(f,2));function x(){const b=new G,A=new G;let M=0;const E=(n-e)/i;for(let S=0;S<=s;S++){const _=[],w=S/s,P=w*(n-e)+e;for(let R=0;R<=r;R++){const N=R/r,k=N*l+o,z=Math.sin(k),F=Math.cos(k);A.x=P*z,A.y=-w*i+m,A.z=P*F,d.push(A.x,A.y,A.z),b.set(z,E,F).normalize(),h.push(b.x,b.y,b.z),f.push(N,1-w),_.push(p++)}g.push(_)}for(let S=0;S<r;S++)for(let _=0;_<s;_++){const w=g[_][S],P=g[_+1][S],R=g[_+1][S+1],N=g[_][S+1];u.push(w,P,N),u.push(P,R,N),M+=6}c.addGroup(v,M,0),v+=M}function y(b){const A=p,M=new Me,E=new G;let S=0;const _=b===!0?e:n,w=b===!0?1:-1;for(let R=1;R<=r;R++)d.push(0,m*w,0),h.push(0,w,0),f.push(.5,.5),p++;const P=p;for(let R=0;R<=r;R++){const k=R/r*l+o,z=Math.cos(k),F=Math.sin(k);E.x=_*F,E.y=m*w,E.z=_*z,d.push(E.x,E.y,E.z),h.push(0,w,0),M.x=z*.5+.5,M.y=F*.5*w+.5,f.push(M.x,M.y),p++}for(let R=0;R<r;R++){const N=A+R,k=P+R;b===!0?u.push(k,k+1,N):u.push(k+1,k,N),S+=3}c.addGroup(v,S,b===!0?1:2),v+=S}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xp extends dc{constructor(e=1,n=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new xp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xa extends ht{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],a=[];o(r),c(i),u(),this.setAttribute("position",new qe(s,3)),this.setAttribute("normal",new qe(s.slice(),3)),this.setAttribute("uv",new qe(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(x){const y=new G,b=new G,A=new G;for(let M=0;M<n.length;M+=3)f(n[M+0],y),f(n[M+1],b),f(n[M+2],A),l(y,b,A,x)}function l(x,y,b,A){const M=A+1,E=[];for(let S=0;S<=M;S++){E[S]=[];const _=x.clone().lerp(b,S/M),w=y.clone().lerp(b,S/M),P=M-S;for(let R=0;R<=P;R++)R===0&&S===M?E[S][R]=_:E[S][R]=_.clone().lerp(w,R/P)}for(let S=0;S<M;S++)for(let _=0;_<2*(M-S)-1;_++){const w=Math.floor(_/2);_%2===0?(h(E[S][w+1]),h(E[S+1][w]),h(E[S][w])):(h(E[S][w+1]),h(E[S+1][w+1]),h(E[S+1][w]))}}function c(x){const y=new G;for(let b=0;b<s.length;b+=3)y.x=s[b+0],y.y=s[b+1],y.z=s[b+2],y.normalize().multiplyScalar(x),s[b+0]=y.x,s[b+1]=y.y,s[b+2]=y.z}function u(){const x=new G;for(let y=0;y<s.length;y+=3){x.x=s[y+0],x.y=s[y+1],x.z=s[y+2];const b=m(x)/2/Math.PI+.5,A=v(x)/Math.PI+.5;a.push(b,1-A)}p(),d()}function d(){for(let x=0;x<a.length;x+=6){const y=a[x+0],b=a[x+2],A=a[x+4],M=Math.max(y,b,A),E=Math.min(y,b,A);M>.9&&E<.1&&(y<.2&&(a[x+0]+=1),b<.2&&(a[x+2]+=1),A<.2&&(a[x+4]+=1))}}function h(x){s.push(x.x,x.y,x.z)}function f(x,y){const b=x*3;y.x=e[b+0],y.y=e[b+1],y.z=e[b+2]}function p(){const x=new G,y=new G,b=new G,A=new G,M=new Me,E=new Me,S=new Me;for(let _=0,w=0;_<s.length;_+=9,w+=6){x.set(s[_+0],s[_+1],s[_+2]),y.set(s[_+3],s[_+4],s[_+5]),b.set(s[_+6],s[_+7],s[_+8]),M.set(a[w+0],a[w+1]),E.set(a[w+2],a[w+3]),S.set(a[w+4],a[w+5]),A.copy(x).add(y).add(b).divideScalar(3);const P=m(A);g(M,w+0,x,P),g(E,w+2,y,P),g(S,w+4,b,P)}}function g(x,y,b,A){A<0&&x.x===1&&(a[y]=x.x-1),b.x===0&&b.z===0&&(a[y]=A/2/Math.PI+.5)}function m(x){return Math.atan2(x.z,-x.x)}function v(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xa(e.vertices,e.indices,e.radius,e.details)}}class wp extends xa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wp(e.radius,e.detail)}}const yh=new G,bh=new G,uv=new G,_h=new wi;class iA extends ht{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(ho*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),h={},f=[];for(let p=0;p<l;p+=3){a?(c[0]=a.getX(p),c[1]=a.getX(p+1),c[2]=a.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:g,b:m,c:v}=_h;if(g.fromBufferAttribute(o,c[0]),m.fromBufferAttribute(o,c[1]),v.fromBufferAttribute(o,c[2]),_h.getNormal(uv),d[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,d[1]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,d[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const y=(x+1)%3,b=d[x],A=d[y],M=_h[u[x]],E=_h[u[y]],S=`${b}_${A}`,_=`${A}_${b}`;_ in h&&h[_]?(uv.dot(h[_].normal)<=s&&(f.push(M.x,M.y,M.z),f.push(E.x,E.y,E.z)),h[_]=null):S in h||(h[S]={index0:c[x],index1:c[y],normal:uv.clone()})}}for(const p in h)if(h[p]){const{index0:g,index1:m}=h[p];yh.fromBufferAttribute(o,g),bh.fromBufferAttribute(o,m),f.push(yh.x,yh.y,yh.z),f.push(bh.x,bh.y,bh.z)}this.setAttribute("position",new qe(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class fo extends Au{constructor(e){super(e),this.uuid=Hi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new Au().fromJSON(r))}return this}}const IB={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=rA(t,0,r,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,u,d,h,f;if(i&&(s=NB(t,e,s,n)),t.length>80*n){o=c=t[0],l=u=t[1];for(let p=n;p<r;p+=n)d=t[p],h=t[p+1],d<o&&(o=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-o,u-l),f=f!==0?32767/f:0}return Tu(s,a,n,o,l,f,0),a}};function rA(t,e,n,i,r){let s,a;if(r===qB(t,e,n,i)>0)for(s=e;s<n;s+=i)a=eS(s,t[s],t[s+1],a);else for(s=n-i;s>=e;s-=i)a=eS(s,t[s],t[s+1],a);return a&&Sp(a,a.next)&&(Ru(a),a=a.next),a}function xo(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Sp(n,n.next)||rn(n.prev,n,n.next)===0)){if(Ru(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Tu(t,e,n,i,r,s,a){if(!t)return;!a&&s&&HB(t,i,r,s);let o=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?DB(t,i,r,s):kB(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Ru(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=OB(xo(t),e,n),Tu(t,e,n,i,r,s,2)):a===2&&VB(t,e,n,i,r,s):Tu(xo(t),e,n,i,r,s,1);break}}}function kB(t){const e=t.prev,n=t,i=t.next;if(rn(e,n,i)>=0)return!1;const r=e.x,s=n.x,a=i.x,o=e.y,l=n.y,c=i.y,u=r<s?r<a?r:a:s<a?s:a,d=o<l?o<c?o:c:l<c?l:c,h=r>s?r>a?r:a:s>a?s:a,f=o>l?o>c?o:c:l>c?l:c;let p=i.next;for(;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&Sl(r,o,s,l,a,c,p.x,p.y)&&rn(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function DB(t,e,n,i){const r=t.prev,s=t,a=t.next;if(rn(r,s,a)>=0)return!1;const o=r.x,l=s.x,c=a.x,u=r.y,d=s.y,h=a.y,f=o<l?o<c?o:c:l<c?l:c,p=u<d?u<h?u:h:d<h?d:h,g=o>l?o>c?o:c:l>c?l:c,m=u>d?u>h?u:h:d>h?d:h,v=jg(f,p,e,n,i),x=jg(g,m,e,n,i);let y=t.prevZ,b=t.nextZ;for(;y&&y.z>=v&&b&&b.z<=x;){if(y.x>=f&&y.x<=g&&y.y>=p&&y.y<=m&&y!==r&&y!==a&&Sl(o,u,l,d,c,h,y.x,y.y)&&rn(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=f&&b.x<=g&&b.y>=p&&b.y<=m&&b!==r&&b!==a&&Sl(o,u,l,d,c,h,b.x,b.y)&&rn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=v;){if(y.x>=f&&y.x<=g&&y.y>=p&&y.y<=m&&y!==r&&y!==a&&Sl(o,u,l,d,c,h,y.x,y.y)&&rn(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=x;){if(b.x>=f&&b.x<=g&&b.y>=p&&b.y<=m&&b!==r&&b!==a&&Sl(o,u,l,d,c,h,b.x,b.y)&&rn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function OB(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!Sp(r,s)&&sA(r,i,i.next,s)&&Pu(r,s)&&Pu(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),Ru(i),Ru(i.next),i=t=s),i=i.next}while(i!==t);return xo(i)}function VB(t,e,n,i,r,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&$B(a,o)){let l=aA(a,o);a=xo(a,a.next),l=xo(l,l.next),Tu(a,e,n,i,r,s,0),Tu(l,e,n,i,r,s,0);return}o=o.next}a=a.next}while(a!==t)}function NB(t,e,n,i){const r=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*i,l=s<a-1?e[s+1]*i:t.length,c=rA(t,o,l,i,!1),c===c.next&&(c.steiner=!0),r.push(WB(c));for(r.sort(FB),s=0;s<r.length;s++)n=BB(r[s],n);return n}function FB(t,e){return t.x-e.x}function BB(t,e){const n=UB(t,e);if(!n)return e;const i=aA(n,t);return xo(i,i.next),xo(n,n.next)}function UB(t,e){let n=e,i=-1/0,r;const s=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const h=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>i&&(i=h,r=n.x<n.next.x?n:n.next,h===s))return r}n=n.next}while(n!==e);if(!r)return null;const o=r,l=r.x,c=r.y;let u=1/0,d;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&Sl(a<c?s:i,a,l,c,a<c?i:s,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(s-n.x),Pu(n,t)&&(d<u||d===u&&(n.x>r.x||n.x===r.x&&zB(r,n)))&&(r=n,u=d)),n=n.next;while(n!==o);return r}function zB(t,e){return rn(t.prev,t,e.prev)<0&&rn(e.next,t,t.next)<0}function HB(t,e,n,i){let r=t;do r.z===0&&(r.z=jg(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,GB(r)}function GB(t){let e,n,i,r,s,a,o,l,c=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,i=n,o=0,e=0;e<c&&(o++,i=i.nextZ,!!i);e++);for(l=c;o>0||l>0&&i;)o!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(a>1);return t}function jg(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function WB(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Sl(t,e,n,i,r,s,a,o){return(r-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(i-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(r-a)*(i-o)}function $B(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jB(t,e)&&(Pu(t,e)&&Pu(e,t)&&XB(t,e)&&(rn(t.prev,t,e.prev)||rn(t,e.prev,e))||Sp(t,e)&&rn(t.prev,t,t.next)>0&&rn(e.prev,e,e.next)>0)}function rn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Sp(t,e){return t.x===e.x&&t.y===e.y}function sA(t,e,n,i){const r=wh(rn(t,e,n)),s=wh(rn(t,e,i)),a=wh(rn(n,i,t)),o=wh(rn(n,i,e));return!!(r!==s&&a!==o||r===0&&xh(t,n,e)||s===0&&xh(t,i,e)||a===0&&xh(n,t,i)||o===0&&xh(n,e,i))}function xh(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function wh(t){return t>0?1:t<0?-1:0}function jB(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&sA(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Pu(t,e){return rn(t.prev,t,t.next)<0?rn(t,e,t.next)>=0&&rn(t,t.prev,e)>=0:rn(t,e,t.prev)<0||rn(t,t.next,e)<0}function XB(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function aA(t,e){const n=new Xg(t.i,t.x,t.y),i=new Xg(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function eS(t,e,n,i){const r=new Xg(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ru(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Xg(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qB(t,e,n,i){let r=0;for(let s=e,a=n-i;s<n;s+=i)r+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return r}class Fr{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Fr.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];tS(e),nS(i,e);let a=e.length;n.forEach(tS);for(let l=0;l<n.length;l++)r.push(a),a+=n[l].length,nS(i,n[l]);const o=IB.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function tS(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function nS(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Mp extends ht{constructor(e=new fo([new Me(.5,.5),new Me(-.5,.5),new Me(-.5,-.5),new Me(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new qe(r,3)),this.setAttribute("uv",new qe(s,2)),this.computeVertexNormals();function a(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,f=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:f-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,m=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:YB;let y,b=!1,A,M,E,S;v&&(y=v.getSpacedPoints(u),b=!0,h=!1,A=v.computeFrenetFrames(u,!1),M=new G,E=new G,S=new G),h||(m=0,f=0,p=0,g=0);const _=o.extractPoints(c);let w=_.shape;const P=_.holes;if(!Fr.isClockWise(w)){w=w.reverse();for(let T=0,D=P.length;T<D;T++){const V=P[T];Fr.isClockWise(V)&&(P[T]=V.reverse())}}const N=Fr.triangulateShape(w,P),k=w;for(let T=0,D=P.length;T<D;T++){const V=P[T];w=w.concat(V)}function z(T,D,V){return D||console.error("THREE.ExtrudeGeometry: vec does not exist"),T.clone().addScaledVector(D,V)}const F=w.length,j=N.length;function X(T,D,V){let Y,K,ie;const oe=T.x-D.x,se=T.y-D.y,fe=V.x-T.x,ce=V.y-T.y,Te=oe*oe+se*se,U=oe*ce-se*fe;if(Math.abs(U)>Number.EPSILON){const O=Math.sqrt(Te),ne=Math.sqrt(fe*fe+ce*ce),we=D.x-se/O,ye=D.y+oe/O,Ce=V.x-ce/ne,ze=V.y+fe/ne,ke=((Ce-we)*ce-(ze-ye)*fe)/(oe*ce-se*fe);Y=we+oe*ke-T.x,K=ye+se*ke-T.y;const He=Y*Y+K*K;if(He<=2)return new Me(Y,K);ie=Math.sqrt(He/2)}else{let O=!1;oe>Number.EPSILON?fe>Number.EPSILON&&(O=!0):oe<-Number.EPSILON?fe<-Number.EPSILON&&(O=!0):Math.sign(se)===Math.sign(ce)&&(O=!0),O?(Y=-se,K=oe,ie=Math.sqrt(Te)):(Y=oe,K=se,ie=Math.sqrt(Te/2))}return new Me(Y/ie,K/ie)}const Z=[];for(let T=0,D=k.length,V=D-1,Y=T+1;T<D;T++,V++,Y++)V===D&&(V=0),Y===D&&(Y=0),Z[T]=X(k[T],k[V],k[Y]);const J=[];let H,q=Z.concat();for(let T=0,D=P.length;T<D;T++){const V=P[T];H=[];for(let Y=0,K=V.length,ie=K-1,oe=Y+1;Y<K;Y++,ie++,oe++)ie===K&&(ie=0),oe===K&&(oe=0),H[Y]=X(V[Y],V[ie],V[oe]);J.push(H),q=q.concat(H)}for(let T=0;T<m;T++){const D=T/m,V=f*Math.cos(D*Math.PI/2),Y=p*Math.sin(D*Math.PI/2)+g;for(let K=0,ie=k.length;K<ie;K++){const oe=z(k[K],Z[K],Y);Ae(oe.x,oe.y,-V)}for(let K=0,ie=P.length;K<ie;K++){const oe=P[K];H=J[K];for(let se=0,fe=oe.length;se<fe;se++){const ce=z(oe[se],H[se],Y);Ae(ce.x,ce.y,-V)}}}const le=p+g;for(let T=0;T<F;T++){const D=h?z(w[T],q[T],le):w[T];b?(E.copy(A.normals[0]).multiplyScalar(D.x),M.copy(A.binormals[0]).multiplyScalar(D.y),S.copy(y[0]).add(E).add(M),Ae(S.x,S.y,S.z)):Ae(D.x,D.y,0)}for(let T=1;T<=u;T++)for(let D=0;D<F;D++){const V=h?z(w[D],q[D],le):w[D];b?(E.copy(A.normals[T]).multiplyScalar(V.x),M.copy(A.binormals[T]).multiplyScalar(V.y),S.copy(y[T]).add(E).add(M),Ae(S.x,S.y,S.z)):Ae(V.x,V.y,d/u*T)}for(let T=m-1;T>=0;T--){const D=T/m,V=f*Math.cos(D*Math.PI/2),Y=p*Math.sin(D*Math.PI/2)+g;for(let K=0,ie=k.length;K<ie;K++){const oe=z(k[K],Z[K],Y);Ae(oe.x,oe.y,d+V)}for(let K=0,ie=P.length;K<ie;K++){const oe=P[K];H=J[K];for(let se=0,fe=oe.length;se<fe;se++){const ce=z(oe[se],H[se],Y);b?Ae(ce.x,ce.y+y[u-1].y,y[u-1].x+V):Ae(ce.x,ce.y,d+V)}}}ue(),be();function ue(){const T=r.length/3;if(h){let D=0,V=F*D;for(let Y=0;Y<j;Y++){const K=N[Y];ee(K[2]+V,K[1]+V,K[0]+V)}D=u+m*2,V=F*D;for(let Y=0;Y<j;Y++){const K=N[Y];ee(K[0]+V,K[1]+V,K[2]+V)}}else{for(let D=0;D<j;D++){const V=N[D];ee(V[2],V[1],V[0])}for(let D=0;D<j;D++){const V=N[D];ee(V[0]+F*u,V[1]+F*u,V[2]+F*u)}}i.addGroup(T,r.length/3-T,0)}function be(){const T=r.length/3;let D=0;ae(k,D),D+=k.length;for(let V=0,Y=P.length;V<Y;V++){const K=P[V];ae(K,D),D+=K.length}i.addGroup(T,r.length/3-T,1)}function ae(T,D){let V=T.length;for(;--V>=0;){const Y=V;let K=V-1;K<0&&(K=T.length-1);for(let ie=0,oe=u+m*2;ie<oe;ie++){const se=F*ie,fe=F*(ie+1),ce=D+Y+se,Te=D+K+se,U=D+K+fe,O=D+Y+fe;L(ce,Te,U,O)}}}function Ae(T,D,V){l.push(T),l.push(D),l.push(V)}function ee(T,D,V){B(T),B(D),B(V);const Y=r.length/3,K=x.generateTopUV(i,r,Y-3,Y-2,Y-1);W(K[0]),W(K[1]),W(K[2])}function L(T,D,V,Y){B(T),B(D),B(Y),B(D),B(V),B(Y);const K=r.length/3,ie=x.generateSideWallUV(i,r,K-6,K-3,K-2,K-1);W(ie[0]),W(ie[1]),W(ie[3]),W(ie[1]),W(ie[2]),W(ie[3])}function B(T){r.push(l[T*3+0]),r.push(l[T*3+1]),r.push(l[T*3+2])}function W(T){s.push(T.x),s.push(T.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return KB(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Ef[r.type]().fromJSON(r)),new Mp(i,e.options)}}const YB={generateTopUV:function(t,e,n,i,r){const s=e[n*3],a=e[n*3+1],o=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Me(s,a),new Me(o,l),new Me(c,u)]},generateSideWallUV:function(t,e,n,i,r,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],h=e[r*3],f=e[r*3+1],p=e[r*3+2],g=e[s*3],m=e[s*3+1],v=e[s*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new Me(a,1-l),new Me(c,1-d),new Me(h,1-p),new Me(g,1-v)]:[new Me(o,1-l),new Me(u,1-d),new Me(f,1-p),new Me(m,1-v)]}};function KB(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Ep extends xa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ep(e.radius,e.detail)}}class rd extends xa{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rd(e.radius,e.detail)}}class Cp extends ht{constructor(e=.5,n=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],c=[],u=[];let d=e;const h=(n-e)/r,f=new G,p=new Me;for(let g=0;g<=r;g++){for(let m=0;m<=i;m++){const v=s+m/i*a;f.x=d*Math.cos(v),f.y=d*Math.sin(v),l.push(f.x,f.y,f.z),c.push(0,0,1),p.x=(f.x/n+1)/2,p.y=(f.y/n+1)/2,u.push(p.x,p.y)}d+=h}for(let g=0;g<r;g++){const m=g*(i+1);for(let v=0;v<i;v++){const x=v+m,y=x,b=x+i+1,A=x+i+2,M=x+1;o.push(y,b,M),o.push(b,A,M)}}this.setIndex(o),this.setAttribute("position",new qe(l,3)),this.setAttribute("normal",new qe(c,3)),this.setAttribute("uv",new qe(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ap extends ht{constructor(e=new fo([new Me(0,.5),new Me(-.5,-.5),new Me(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new qe(r,3)),this.setAttribute("normal",new qe(s,3)),this.setAttribute("uv",new qe(a,2));function c(u){const d=r.length/3,h=u.extractPoints(n);let f=h.shape;const p=h.holes;Fr.isClockWise(f)===!1&&(f=f.reverse());for(let m=0,v=p.length;m<v;m++){const x=p[m];Fr.isClockWise(x)===!0&&(p[m]=x.reverse())}const g=Fr.triangulateShape(f,p);for(let m=0,v=p.length;m<v;m++){const x=p[m];f=f.concat(x)}for(let m=0,v=f.length;m<v;m++){const x=f[m];r.push(x.x,x.y,0),s.push(0,0,1),a.push(x.x,x.y)}for(let m=0,v=g.length;m<v;m++){const x=g[m],y=x[0]+d,b=x[1]+d,A=x[2]+d;i.push(y,b,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return ZB(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=n[e.shapes[r]];i.push(a)}return new Ap(i,e.curveSegments)}}function ZB(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class sd extends ht{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const u=[],d=new G,h=new G,f=[],p=[],g=[],m=[];for(let v=0;v<=i;v++){const x=[],y=v/i;let b=0;v===0&&a===0?b=.5/n:v===i&&l===Math.PI&&(b=-.5/n);for(let A=0;A<=n;A++){const M=A/n;d.x=-e*Math.cos(r+M*s)*Math.sin(a+y*o),d.y=e*Math.cos(a+y*o),d.z=e*Math.sin(r+M*s)*Math.sin(a+y*o),p.push(d.x,d.y,d.z),h.copy(d).normalize(),g.push(h.x,h.y,h.z),m.push(M+b,1-y),x.push(c++)}u.push(x)}for(let v=0;v<i;v++)for(let x=0;x<n;x++){const y=u[v][x+1],b=u[v][x],A=u[v+1][x],M=u[v+1][x+1];(v!==0||a>0)&&f.push(y,b,M),(v!==i-1||l<Math.PI)&&f.push(b,A,M)}this.setIndex(f),this.setAttribute("position",new qe(p,3)),this.setAttribute("normal",new qe(g,3)),this.setAttribute("uv",new qe(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Tp extends xa{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Tp(e.radius,e.detail)}}class Pp extends ht{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],c=[],u=new G,d=new G,h=new G;for(let f=0;f<=i;f++)for(let p=0;p<=r;p++){const g=p/r*s,m=f/i*Math.PI*2;d.x=(e+n*Math.cos(m))*Math.cos(g),d.y=(e+n*Math.cos(m))*Math.sin(g),d.z=n*Math.sin(m),o.push(d.x,d.y,d.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),h.subVectors(d,u).normalize(),l.push(h.x,h.y,h.z),c.push(p/r),c.push(f/i)}for(let f=1;f<=i;f++)for(let p=1;p<=r;p++){const g=(r+1)*f+p-1,m=(r+1)*(f-1)+p-1,v=(r+1)*(f-1)+p,x=(r+1)*f+p;a.push(g,m,x),a.push(m,v,x)}this.setIndex(a),this.setAttribute("position",new qe(o,3)),this.setAttribute("normal",new qe(l,3)),this.setAttribute("uv",new qe(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Rp extends ht{constructor(e=1,n=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],u=[],d=new G,h=new G,f=new G,p=new G,g=new G,m=new G,v=new G;for(let y=0;y<=i;++y){const b=y/i*s*Math.PI*2;x(b,s,a,e,f),x(b+.01,s,a,e,p),m.subVectors(p,f),v.addVectors(p,f),g.crossVectors(m,v),v.crossVectors(g,m),g.normalize(),v.normalize();for(let A=0;A<=r;++A){const M=A/r*Math.PI*2,E=-n*Math.cos(M),S=n*Math.sin(M);d.x=f.x+(E*v.x+S*g.x),d.y=f.y+(E*v.y+S*g.y),d.z=f.z+(E*v.z+S*g.z),l.push(d.x,d.y,d.z),h.subVectors(d,f).normalize(),c.push(h.x,h.y,h.z),u.push(y/i),u.push(A/r)}}for(let y=1;y<=i;y++)for(let b=1;b<=r;b++){const A=(r+1)*(y-1)+(b-1),M=(r+1)*y+(b-1),E=(r+1)*y+b,S=(r+1)*(y-1)+b;o.push(A,M,S),o.push(M,E,S)}this.setIndex(o),this.setAttribute("position",new qe(l,3)),this.setAttribute("normal",new qe(c,3)),this.setAttribute("uv",new qe(u,2));function x(y,b,A,M,E){const S=Math.cos(y),_=Math.sin(y),w=A/b*y,P=Math.cos(w);E.x=M*(2+P)*.5*S,E.y=M*(2+P)*_*.5,E.z=M*Math.sin(w)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Lp extends ht{constructor(e=new sb(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new G,l=new G,c=new Me;let u=new G;const d=[],h=[],f=[],p=[];g(),this.setIndex(p),this.setAttribute("position",new qe(d,3)),this.setAttribute("normal",new qe(h,3)),this.setAttribute("uv",new qe(f,2));function g(){for(let y=0;y<n;y++)m(y);m(s===!1?n:0),x(),v()}function m(y){u=e.getPointAt(y/n,u);const b=a.normals[y],A=a.binormals[y];for(let M=0;M<=r;M++){const E=M/r*Math.PI*2,S=Math.sin(E),_=-Math.cos(E);l.x=_*b.x+S*A.x,l.y=_*b.y+S*A.y,l.z=_*b.z+S*A.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=u.x+i*l.x,o.y=u.y+i*l.y,o.z=u.z+i*l.z,d.push(o.x,o.y,o.z)}}function v(){for(let y=1;y<=n;y++)for(let b=1;b<=r;b++){const A=(r+1)*(y-1)+(b-1),M=(r+1)*y+(b-1),E=(r+1)*y+b,S=(r+1)*(y-1)+b;p.push(A,M,S),p.push(M,E,S)}}function x(){for(let y=0;y<=n;y++)for(let b=0;b<=r;b++)c.x=y/n,c.y=b/r,f.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Lp(new Ef[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class oA extends ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new G,s=new G;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],h=d.start,f=d.count;for(let p=h,g=h+f;p<g;p+=3)for(let m=0;m<3;m++){const v=o.getX(p+m),x=o.getX(p+(m+1)%3);r.fromBufferAttribute(a,v),s.fromBufferAttribute(a,x),iS(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;r.fromBufferAttribute(a,u),s.fromBufferAttribute(a,d),iS(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new qe(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function iS(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var rS=Object.freeze({__proto__:null,BoxGeometry:_a,CapsuleGeometry:bp,CircleGeometry:_p,ConeGeometry:xp,CylinderGeometry:dc,DodecahedronGeometry:wp,EdgesGeometry:iA,ExtrudeGeometry:Mp,IcosahedronGeometry:Ep,LatheGeometry:id,OctahedronGeometry:rd,PlaneGeometry:lc,PolyhedronGeometry:xa,RingGeometry:Cp,ShapeGeometry:Ap,SphereGeometry:sd,TetrahedronGeometry:Tp,TorusGeometry:Pp,TorusKnotGeometry:Rp,TubeGeometry:Lp,WireframeGeometry:oA});class lA extends Rn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ue(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class nu extends fr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ad extends Rn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ue(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class es extends ad{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Me(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return fn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ue(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ue(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ue(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cA extends Rn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ue(16777215),this.specular=new Ue(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ju,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uA extends Rn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ue(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class dA extends Rn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class hA extends Rn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ju,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fA extends Rn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ue(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pA extends ii{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ro(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function mA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vA(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function qg(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,a=0;a!==i;++s){const o=n[s]*e;for(let l=0;l!==e;++l)r[a++]=t[o+l]}return r}function ob(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),n.push(a)),s=t[r++];while(s!==void 0)}function JB(t,e,n,i,r=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],h=[];for(let f=0;f<c.times.length;++f){const p=c.times[f]*r;if(!(p<n||p>=i)){d.push(c.times[f]);for(let g=0;g<u;++g)h.push(c.values[f*u+g])}}d.length!==0&&(c.times=ro(d,c.times.constructor),c.values=ro(h,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function QB(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===o.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);const p=o.times.length-1;let g;if(s<=o.times[0]){const v=u,x=d-u;g=o.values.slice(v,x)}else if(s>=o.times[p]){const v=p*d+u,x=v+d-u;g=o.values.slice(v,x)}else{const v=o.createInterpolant(),x=u,y=d-u;v.evaluate(s),g=v.resultBuffer.slice(x,y)}l==="quaternion"&&new Un().fromArray(g).normalize().conjugate().toArray(g);const m=c.times.length;for(let v=0;v<m;++v){const x=v*f+h;if(l==="quaternion")Un.multiplyQuaternionsFlat(c.values,x,g,0,c.values,x);else{const y=f-h*2;for(let b=0;b<y;++b)c.values[x+b]-=g[b]}}}return t.blendMode=F0,t}const eU={convertArray:ro,isTypedArray:mA,getKeyframeOrder:vA,sortedArray:qg,flattenJSON:ob,subclip:JB,makeClipAdditive:QB};class hc{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=n[++i],e<r)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<n[o]?a=o:i=o+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)n[a]=i[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class gA extends hc{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:to,endingEnd:to}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case no:s=e,o=2*n-i;break;case _u:s=r.length-2,o=n+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case no:a=e,l=2*i-n;break;case _u:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,n,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(i-n)/(r-n),g=p*p,m=g*p,v=-h*m+2*h*g-h*p,x=(1+h)*m+(-1.5-2*h)*g+(-.5+h)*p+1,y=(-1-f)*m+(1.5+f)*g+.5*p,b=f*m-f*g;for(let A=0;A!==o;++A)s[A]=v*a[u+A]+x*a[c+A]+y*a[l+A]+b*a[d+A];return s}}class lb extends hc{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(i-n)/(r-n),d=1-u;for(let h=0;h!==o;++h)s[h]=a[c+h]*d+a[l+h]*u;return s}}class yA extends hc{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Cr{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ro(n,this.TimeBufferType),this.values=ro(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:ro(e.times,Array),values:ro(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new yA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new lb(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new gA(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Hl:n=this.InterpolantFactoryMethodDiscrete;break;case _o:n=this.InterpolantFactoryMethodLinear;break;case Jh:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Hl;case this.InterpolantFactoryMethodLinear:return _o;case this.InterpolantFactoryMethodSmooth:return Jh}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>n;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&mA(r))for(let o=0,l=r.length;o!==l;++o){const c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Jh,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(r)l=!0;else{const d=o*i,h=d-i,f=d+i;for(let p=0;p!==i;++p){const g=n[d+p];if(g!==n[h+p]||g!==n[f+p]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const d=o*i,h=a*i;for(let f=0;f!==i;++f)n[h+f]=n[d+f]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,c=0;c!==i;++c)n[l+c]=n[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}Cr.prototype.TimeBufferType=Float32Array;Cr.prototype.ValueBufferType=Float32Array;Cr.prototype.DefaultInterpolation=_o;class Oo extends Cr{}Oo.prototype.ValueTypeName="bool";Oo.prototype.ValueBufferType=Array;Oo.prototype.DefaultInterpolation=Hl;Oo.prototype.InterpolantFactoryMethodLinear=void 0;Oo.prototype.InterpolantFactoryMethodSmooth=void 0;class cb extends Cr{}cb.prototype.ValueTypeName="color";class jl extends Cr{}jl.prototype.ValueTypeName="number";class bA extends hc{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-n)/(r-n);let c=e*o;for(let u=c+o;c!==u;c+=4)Un.slerpFlat(s,0,a,c-o,a,c,l);return s}}class va extends Cr{InterpolantFactoryMethodLinear(e){return new bA(this.times,this.values,this.getValueSize(),e)}}va.prototype.ValueTypeName="quaternion";va.prototype.DefaultInterpolation=_o;va.prototype.InterpolantFactoryMethodSmooth=void 0;class Vo extends Cr{}Vo.prototype.ValueTypeName="string";Vo.prototype.ValueBufferType=Array;Vo.prototype.DefaultInterpolation=Hl;Vo.prototype.InterpolantFactoryMethodLinear=void 0;Vo.prototype.InterpolantFactoryMethodSmooth=void 0;class Xl extends Cr{}Xl.prototype.ValueTypeName="vector";class ql{constructor(e,n=-1,i,r=sp){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Hi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)n.push(nU(i[a]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)n.push(Cr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const u=vA(l);l=qg(l,1,u),c=qg(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new jl(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=r[d];h||(r[d]=h=[]),h.push(c)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],n,i));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,h,f,p,g){if(f.length!==0){const m=[],v=[];ob(f,m,v,p),m.length!==0&&g.push(new d(h,m,v))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const f={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let g=0;g<h[p].morphTargets.length;g++)f[h[p].morphTargets[g]]=-1;for(const g in f){const m=[],v=[];for(let x=0;x!==h[p].morphTargets.length;++x){const y=h[p];m.push(y.time),v.push(y.morphTarget===g?1:0)}r.push(new jl(".morphTargetInfluence["+g+"]",m,v))}l=f.length*a}else{const f=".bones["+n[d].name+"]";i(Xl,f+".position",h,"pos",r),i(va,f+".quaternion",h,"rot",r),i(Xl,f+".scale",h,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tU(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jl;case"vector":case"vector2":case"vector3":case"vector4":return Xl;case"color":return cb;case"quaternion":return va;case"bool":case"boolean":return Oo;case"string":return Vo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function nU(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=tU(t.type);if(t.times===void 0){const n=[],i=[];ob(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const wo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class ub{constructor(e,n,i){const r=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){o++,s===!1&&r.onStart!==void 0&&r.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,r.onProgress!==void 0&&r.onProgress(u,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],p=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return p}return null}}}const _A=new ub;class ri{constructor(e){this.manager=e!==void 0?e:_A,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ri.DEFAULT_MATERIAL_NAME="__DEFAULT";const us={};class iU extends Error{constructor(e,n){super(e),this.response=n}}class Gi extends ri{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=wo.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(us[e]!==void 0){us[e].push({onLoad:n,onProgress:i,onError:r});return}us[e]=[],us[e].push({onLoad:n,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=us[e],d=c.body.getReader(),h=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),f=h?parseInt(h):0,p=f!==0;let g=0;const m=new ReadableStream({start(v){x();function x(){d.read().then(({done:y,value:b})=>{if(y)v.close();else{g+=b.byteLength;const A=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:f});for(let M=0,E=u.length;M<E;M++){const S=u[M];S.onProgress&&S.onProgress(A)}v.enqueue(b),x()}})}}});return new Response(m)}else throw new iU(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),h=d&&d[1]?d[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(p=>f.decode(p))}}}).then(c=>{wo.add(e,c);const u=us[e];delete us[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onLoad&&f.onLoad(c)}}).catch(c=>{const u=us[e];if(u===void 0)throw this.manager.itemError(e),c;delete us[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class rU extends ri{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new Gi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=ql.parse(e[i]);n.push(r)}return n}}class sU extends ri{constructor(e){super(e)}load(e,n,i,r){const s=this,a=[],o=new gp,l=new Gi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(h){const f=s.parse(h,!0);a[d]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},c+=1,c===6&&(f.mipmapCount===1&&(o.minFilter=nn),o.image=a,o.format=f.format,o.needsUpdate=!0,n&&n(o))},i,r)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)u(d);else l.load(e,function(d){const h=s.parse(d,!0);if(h.isCubemap){const f=h.mipmaps.length/h.mipmapCount;for(let p=0;p<f;p++){a[p]={mipmaps:[]};for(let g=0;g<h.mipmapCount;g++)a[p].mipmaps.push(h.mipmaps[p*h.mipmapCount+g]),a[p].format=h.format,a[p].width=h.width,a[p].height=h.height}o.image=a}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=nn),o.format=h.format,o.needsUpdate=!0,n&&n(o)},i,r);return o}}class Lu extends ri{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=wo.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o=Cu("img");function l(){u(),wo.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class aU extends ri{constructor(e){super(e)}load(e,n,i,r){const s=new td;s.colorSpace=wn;const a=new Lu(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){s.images[c]=u,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class oU extends ri{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new Il,o=new Gi(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:jn,a.wrapT=c.wrapT!==void 0?c.wrapT:jn,a.magFilter=c.magFilter!==void 0?c.magFilter:nn,a.minFilter=c.minFilter!==void 0?c.minFilter:nn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?a.colorSpace=c.colorSpace:c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Gr),c.mipmapCount===1&&(a.minFilter=nn),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},i,r),a}}class xA extends ri{constructor(e){super(e)}load(e,n,i,r){const s=new an,a=new Lu(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class wa extends Rt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ue(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class wA extends wa{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Rt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ue(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const dv=new it,sS=new G,aS=new G;class db{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Me(512,512),this.map=null,this.mapPass=null,this.matrix=new it,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dp,this._frameExtents=new Me(1,1),this._viewportCount=1,this._viewports=[new Tt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;sS.setFromMatrixPosition(e.matrixWorld),n.position.copy(sS),aS.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(aS),n.updateMatrixWorld(),dv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(dv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class lU extends db{constructor(){super(new Wt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=Gl*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class hb extends wa{constructor(e,n,i=0,r=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Rt.DEFAULT_UP),this.updateMatrix(),this.target=new Rt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new lU}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const oS=new it,Oc=new G,hv=new G;class cU extends db{constructor(){super(new Wt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Me(4,2),this._viewportCount=6,this._viewports=[new Tt(2,1,1,1),new Tt(0,1,1,1),new Tt(3,1,1,1),new Tt(1,1,1,1),new Tt(3,0,1,1),new Tt(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Oc.setFromMatrixPosition(e.matrixWorld),i.position.copy(Oc),hv.copy(i.position),hv.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(hv),i.updateMatrixWorld(),r.makeTranslation(-Oc.x,-Oc.y,-Oc.z),oS.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oS)}}class fb extends wa{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new cU}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class uU extends db{constructor(){super(new sr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class pb extends wa{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Rt.DEFAULT_UP),this.updateMatrix(),this.target=new Rt,this.shadow=new uU}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class SA extends wa{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class MA extends wa{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class EA{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*r),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*r)),n.addScaledVector(a[5],1.092548*(r*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(i*s)),n.addScaledVector(a[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*r),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*r),n.addScaledVector(a[5],2*.429043*r*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*i*s),n.addScaledVector(a[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class CA extends wa{constructor(e=new EA,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Ip extends ri{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,a=new Gi(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=Ip.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ue().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Ue().setHex(a.value);break;case"v2":r.uniforms[s].value=new Me().fromArray(a.value);break;case"v3":r.uniforms[s].value=new G().fromArray(a.value);break;case"v4":r.uniforms[s].value=new Tt().fromArray(a.value);break;case"m3":r.uniforms[s].value=new yt().fromArray(a.value);break;case"m4":r.uniforms[s].value=new it().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Me().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Me().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:lA,SpriteMaterial:K0,RawShaderMaterial:nu,ShaderMaterial:fr,PointsMaterial:vp,MeshPhysicalMaterial:es,MeshStandardMaterial:ad,MeshPhongMaterial:cA,MeshToonMaterial:uA,MeshNormalMaterial:dA,MeshLambertMaterial:hA,MeshDepthMaterial:X0,MeshDistanceMaterial:q0,MeshBasicMaterial:Mi,MeshMatcapMaterial:fA,LineDashedMaterial:pA,LineBasicMaterial:ii,Material:Rn};return new n[e]}}class Br{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class AA extends ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class TA extends ri{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new Gi(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(f,p){if(n[p]!==void 0)return n[p];const m=f.interleavedBuffers[p],v=s(f,m.buffer),x=xl(m.type,v),y=new uc(x,m.stride);return y.uuid=m.uuid,n[p]=y,y}function s(f,p){if(i[p]!==void 0)return i[p];const m=f.arrayBuffers[p],v=new Uint32Array(m).buffer;return i[p]=v,v}const a=e.isInstancedBufferGeometry?new AA:new ht,o=e.data.index;if(o!==void 0){const f=xl(o.type,o.array);a.setIndex(new kt(f,1))}const l=e.data.attributes;for(const f in l){const p=l[f];let g;if(p.isInterleavedBufferAttribute){const m=r(e.data,p.data);g=new $r(m,p.itemSize,p.offset,p.normalized)}else{const m=xl(p.type,p.array),v=p.isInstancedBufferAttribute?$l:kt;g=new v(m,p.itemSize,p.normalized)}p.name!==void 0&&(g.name=p.name),p.usage!==void 0&&g.setUsage(p.usage),p.updateRange!==void 0&&(g.updateRange.offset=p.updateRange.offset,g.updateRange.count=p.updateRange.count),a.setAttribute(f,g)}const c=e.data.morphAttributes;if(c)for(const f in c){const p=c[f],g=[];for(let m=0,v=p.length;m<v;m++){const x=p[m];let y;if(x.isInterleavedBufferAttribute){const b=r(e.data,x.data);y=new $r(b,x.itemSize,x.offset,x.normalized)}else{const b=xl(x.type,x.array);y=new kt(b,x.itemSize,x.normalized)}x.name!==void 0&&(y.name=x.name),g.push(y)}a.morphAttributes[f]=g}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let f=0,p=d.length;f!==p;++f){const g=d[f];a.addGroup(g.start,g.count,g.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const f=new G;h.center!==void 0&&f.fromArray(h.center),a.boundingSphere=new $i(f,h.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class dU extends ri{constructor(e){super(e)}load(e,n,i,r){const s=this,a=this.path===""?Br.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Gi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?Br.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Gi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const h in a)if(a[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new fo().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new nd().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new TA;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in rS?o=rS[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new Ip;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=ql.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(u)}else return l.data?{data:xl(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new ub(n);s=new Lu(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],h=d.url;if(Array.isArray(h)){const f=[];for(let p=0,g=h.length;p<g;p++){const m=h[p],v=o(m);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new Il(v.data,v.width,v.height)))}r[d.uuid]=new io(f)}else{const f=o(d.url);r[d.uuid]=new io(f)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:xl(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new Lu(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,h=c.length;d<h;d++){const f=c[d],p=await s(f);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new Il(p.data,p.width,p.height)))}i[l.uuid]=new io(u)}else{const u=await s(l.url);i[l.uuid]=new io(u)}}}return i}parseTextures(e,n){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new td,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Il:u=new an,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=i(o.mapping,hU)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=i(o.wrap[0],lS),u.wrapT=i(o.wrap[1],lS)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.encoding!==void 0&&(u.encoding=o.encoding),o.minFilter!==void 0&&(u.minFilter=i(o.minFilter,cS)),o.magFilter!==void 0&&(u.magFilter=i(o.magFilter,cS)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),r[o.uuid]=u}return r}parseObject(e,n,i,r,s){let a;function o(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const f=[];for(let p=0,g=h.length;p<g;p++){const m=h[p];i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),f.push(i[m])}return f}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function c(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let u,d;switch(e.type){case"Scene":a=new Y0,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Ue(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new pp(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new fp(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Wt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new sr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new SA(e.color,e.intensity);break;case"DirectionalLight":a=new pb(e.color,e.intensity);break;case"PointLight":a=new fb(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new MA(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new hb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new wA(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new CA().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),a=new Z0(u,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),a=new pn(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const h=e.count,f=e.instanceMatrix,p=e.instanceColor;a=new J0(u,d,h),a.instanceMatrix=new $l(new Float32Array(f.array),16),p!==void 0&&(a.instanceColor=new $l(new Float32Array(p.array),p.itemSize));break;case"LOD":a=new ZC;break;case"Line":a=new Cs(o(e.geometry),l(e.material));break;case"LineLoop":a=new Q0(o(e.geometry),l(e.material));break;case"LineSegments":a=new Mr(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new eb(o(e.geometry),l(e.material));break;case"Sprite":a=new KC(l(e.material));break;case"Group":a=new ys;break;case"Bone":a=new mp;break;default:a=new Rt}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let f=0;f<h.length;f++)a.add(this.parseObject(h[f],n,i,r,s))}if(e.animations!==void 0){const h=e.animations;for(let f=0;f<h.length;f++){const p=h[f];a.animations.push(s[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let f=0;f<h.length;f++){const p=h[f],g=a.getObjectByProperty("uuid",p.object);g!==void 0&&a.addLevel(g,p.distance,p.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const hU={UVMapping:np,CubeReflectionMapping:Es,CubeRefractionMapping:pa,EquirectangularReflectionMapping:gu,EquirectangularRefractionMapping:yu,CubeUVReflectionMapping:oc},lS={RepeatWrapping:ma,ClampToEdgeWrapping:jn,MirroredRepeatWrapping:Ul},cS={NearestFilter:hn,NearestMipmapNearestFilter:bu,NearestMipmapLinearFilter:Rl,LinearFilter:nn,LinearMipmapNearestFilter:ip,LinearMipmapLinearFilter:Gr};class PA extends ri{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=wo.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){wo.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Sh;class mb{static getContext(){return Sh===void 0&&(Sh=new(window.AudioContext||window.webkitAudioContext)),Sh}static setContext(e){Sh=e}}class fU extends ri{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new Gi(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);mb.getContext().decodeAudioData(c,function(d){n(d)},o)}catch(c){o(c)}},i,r);function o(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const uS=new it,dS=new it,Na=new it;class pU{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Na.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,a=n.near*Math.tan(ho*n.fov*.5)/n.zoom;let o,l;dS.elements[12]=-r,uS.elements[12]=r,o=-a*n.aspect+s,l=a*n.aspect+s,Na.elements[0]=2*n.near/(l-o),Na.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Na),o=-a*n.aspect-s,l=a*n.aspect-s,Na.elements[0]=2*n.near/(l-o),Na.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Na)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(dS),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(uS)}}class vb{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=hS();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function hS(){return(typeof performance>"u"?Date:performance).now()}const Fa=new G,fS=new Un,mU=new G,Ba=new G;class vU extends Rt{constructor(){super(),this.type="AudioListener",this.context=mb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vb}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Fa,fS,mU),Ba.set(0,0,-1).applyQuaternion(fS),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Fa.x,r),n.positionY.linearRampToValueAtTime(Fa.y,r),n.positionZ.linearRampToValueAtTime(Fa.z,r),n.forwardX.linearRampToValueAtTime(Ba.x,r),n.forwardY.linearRampToValueAtTime(Ba.y,r),n.forwardZ.linearRampToValueAtTime(Ba.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(Fa.x,Fa.y,Fa.z),n.setOrientation(Ba.x,Ba.y,Ba.z,i.x,i.y,i.z)}}class RA extends Rt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ua=new G,pS=new Un,gU=new G,za=new G;class yU extends RA{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ua,pS,gU),za.set(0,0,1).applyQuaternion(pS);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ua.x,i),n.positionY.linearRampToValueAtTime(Ua.y,i),n.positionZ.linearRampToValueAtTime(Ua.z,i),n.orientationX.linearRampToValueAtTime(za.x,i),n.orientationY.linearRampToValueAtTime(za.y,i),n.orientationZ.linearRampToValueAtTime(za.z,i)}else n.setPosition(Ua.x,Ua.y,Ua.z),n.setOrientation(za.x,za.y,za.z)}}class bU{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class LA{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,a;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,a=r;s!==a;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[n+a]=e[i+a]}_slerp(e,n,i,r){Un.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const a=this._workIndex*s;Un.multiplyQuaternionsFlat(e,a,e,n,e,i),Un.slerpFlat(e,n,e,n,e,a,r)}_lerp(e,n,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,n,i,r,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[i+a]*r}}}const gb="\\[\\]\\.:\\/",_U=new RegExp("["+gb+"]","g"),yb="[^"+gb+"]",xU="[^"+gb.replace("\\.","")+"]",wU=/((?:WC+[\/:])*)/.source.replace("WC",yb),SU=/(WCOD+)?/.source.replace("WCOD",xU),MU=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",yb),EU=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",yb),CU=new RegExp("^"+wU+SU+MU+EU+"$"),AU=["material","materials","bones","map"];class TU{constructor(e,n,i){const r=i||At.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class At{constructor(e,n,i){this.path=n,this.parsedPath=i||At.parseTrackName(n),this.node=At.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new At.Composite(e,n,i):new At(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_U,"")}static parseTrackName(e){const n=CU.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);AU.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=At.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[r];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}At.Composite=TU;At.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};At.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};At.prototype.GetterByBindingType=[At.prototype._getValue_direct,At.prototype._getValue_array,At.prototype._getValue_arrayElement,At.prototype._getValue_toArray];At.prototype.SetterByBindingTypeAndVersioning=[[At.prototype._setValue_direct,At.prototype._setValue_direct_setNeedsUpdate,At.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[At.prototype._setValue_array,At.prototype._setValue_array_setNeedsUpdate,At.prototype._setValue_array_setMatrixWorldNeedsUpdate],[At.prototype._setValue_arrayElement,At.prototype._setValue_arrayElement_setNeedsUpdate,At.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[At.prototype._setValue_fromArray,At.prototype._setValue_fromArray_setNeedsUpdate,At.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class PU{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Hi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const h=arguments[u],f=h.uuid;let p=n[f];if(p===void 0){p=l++,n[f]=p,e.push(h);for(let g=0,m=a;g!==m;++g)s[g].push(new At(h,i[g],r[g]))}else if(p<c){o=e[p];const g=--c,m=e[g];n[m.uuid]=p,e[p]=m,n[f]=g,e[g]=h;for(let v=0,x=a;v!==x;++v){const y=s[v],b=y[g];let A=y[p];y[p]=b,A===void 0&&(A=new At(h,i[v],r[v])),y[g]=A}}else e[p]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,h=e[d];n[h.uuid]=u,e[u]=h,n[c]=d,e[d]=l;for(let f=0,p=r;f!==p;++f){const g=i[f],m=g[d],v=g[u];g[u]=m,g[d]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const h=--s,f=e[h],p=--a,g=e[p];n[f.uuid]=d,e[d]=f,n[g.uuid]=h,e[h]=g,e.pop();for(let m=0,v=r;m!==v;++m){const x=i[m],y=x[h],b=x[p];x[d]=y,x[h]=b,x.pop()}}else{const h=--a,f=e[h];h>0&&(n[f.uuid]=d),e[d]=f,e.pop();for(let p=0,g=r;p!==g;++p){const m=i[p];m[d]=m[h],m.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,a.push(e),o.push(n),s.push(d);for(let h=u,f=l.length;h!==f;++h){const p=l[h];d[h]=new At(p,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];n[c]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class IA{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:to,endingEnd:to};for(let c=0;c!==a;++c){const u=s[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=yC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case F0:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case sp:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(r,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===bC;if(e===0)return s===-1?r:a&&(s&1)===1?n-r:r;if(i===gC){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=n||r<0){const o=Math.floor(r/n);r-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=no,r.endingEnd=no):(e?r.endingStart=this.zeroSlopeAtStart?no:to:r.endingStart=_u,n?r.endingEnd=this.zeroSlopeAtEnd?no:to:r.endingEnd=_u)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=i,this}}const RU=new Float32Array(1);class LU extends Qr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const h=r[d],f=h.name;let p=u[f];if(p!==void 0)++p.referenceCount,a[d]=p;else{if(p=a[d],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,f));continue}const g=n&&n._propertyBindings[d].binding.parsedPath;p=new LA(At.create(i,f,g),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,f),a[d]=p}o[d].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[n];a===void 0&&(a={},r[n]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new lb(new Float32Array(2),new Float32Array(2),1,RU),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let a=typeof e=="string"?ql.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=sp),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new IA(this,a,n,i);return this._bindAction(u,c),this._addInactiveAction(u,o,s),u}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?ql.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class bb{constructor(e){this.value=e}clone(){return new bb(this.value.clone===void 0?this.value:this.value.clone())}}let IU=0;class kU extends Qr{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:IU++}),this.name="",this.usage=Mu,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++)this.uniforms.push(n[i].clone());return this}clone(){return new this.constructor().copy(this)}}class DU extends uc{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class OU{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class kA{constructor(e,n,i=0,r=1/0){this.ray=new ko(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new cp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return Yg(e,this,i,n),i.sort(mS),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)Yg(e[r],this,i,n);return i.sort(mS),i}}function mS(t,e){return t.distance-e.distance}function Yg(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let s=0,a=r.length;s<a;s++)Yg(r[s],e,n,!0)}}class Kg{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(fn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class VU{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const vS=new Me;class DA{constructor(e=new Me(1/0,1/0),n=new Me(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=vS.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vS).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gS=new G,Mh=new G;class OA{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){gS.subVectors(e,this.start),Mh.subVectors(this.end,this.start);const i=Mh.dot(Mh);let s=Mh.dot(gS)/i;return n&&(s=fn(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const yS=new G;class NU extends Rt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new ht,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new qe(r,3));const s=new ii({fog:!1,toneMapped:!1});this.cone=new Mr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),yS.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(yS),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const js=new G,Eh=new it,fv=new it;class FU extends Mr{constructor(e){const n=VA(e),i=new ht,r=[],s=[],a=new Ue(0,0,1),o=new Ue(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new qe(r,3)),i.setAttribute("color",new qe(s,3));const l=new ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");fv.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(Eh.multiplyMatrices(fv,o.matrixWorld),js.setFromMatrixPosition(Eh),r.setXYZ(a,js.x,js.y,js.z),Eh.multiplyMatrices(fv,o.parent.matrixWorld),js.setFromMatrixPosition(Eh),r.setXYZ(a+1,js.x,js.y,js.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function VA(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,VA(t.children[n]));return e}class BU extends pn{constructor(e,n,i){const r=new sd(n,4,2),s=new Mi({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const UU=new G,bS=new Ue,_S=new Ue;class zU extends Rt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new rd(n);r.rotateY(Math.PI*.5),this.material=new Mi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new kt(a,3)),this.add(new pn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");bS.copy(this.light.color),_S.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?bS:_S;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(UU.setFromMatrixPosition(this.light.matrixWorld).negate())}}class HU extends Mr{constructor(e=10,n=10,i=4473924,r=8947848){i=new Ue(i),r=new Ue(r);const s=n/2,a=e/n,o=e/2,l=[],c=[];for(let h=0,f=0,p=-o;h<=n;h++,p+=a){l.push(-o,0,p,o,0,p),l.push(p,0,-o,p,0,o);const g=h===s?i:r;g.toArray(c,f),f+=3,g.toArray(c,f),f+=3,g.toArray(c,f),f+=3,g.toArray(c,f),f+=3}const u=new ht;u.setAttribute("position",new qe(l,3)),u.setAttribute("color",new qe(c,3));const d=new ii({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class GU extends Mr{constructor(e=10,n=16,i=8,r=64,s=4473924,a=8947848){s=new Ue(s),a=new Ue(a);const o=[],l=[];if(n>1)for(let d=0;d<n;d++){const h=d/n*(Math.PI*2),f=Math.sin(h)*e,p=Math.cos(h)*e;o.push(0,0,0),o.push(f,0,p);const g=d&1?s:a;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let d=0;d<i;d++){const h=d&1?s:a,f=e-e/i*d;for(let p=0;p<r;p++){let g=p/r*(Math.PI*2),m=Math.sin(g)*f,v=Math.cos(g)*f;o.push(m,0,v),l.push(h.r,h.g,h.b),g=(p+1)/r*(Math.PI*2),m=Math.sin(g)*f,v=Math.cos(g)*f,o.push(m,0,v),l.push(h.r,h.g,h.b)}}const c=new ht;c.setAttribute("position",new qe(o,3)),c.setAttribute("color",new qe(l,3));const u=new ii({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const xS=new G,Ch=new G,wS=new G;class WU extends Rt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new ht;r.setAttribute("position",new qe([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ii({fog:!1,toneMapped:!1});this.lightPlane=new Cs(r,s),this.add(this.lightPlane),r=new ht,r.setAttribute("position",new qe([0,0,0,0,0,1],3)),this.targetLine=new Cs(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),xS.setFromMatrixPosition(this.light.matrixWorld),Ch.setFromMatrixPosition(this.light.target.matrixWorld),wS.subVectors(Ch,xS),this.lightPlane.lookAt(Ch),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ch),this.targetLine.scale.z=wS.length()}}const Ah=new G,cn=new ed;class $U extends Mr{constructor(e){const n=new ht,i=new ii({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(p,g){l(p),l(g)}function l(p){r.push(0,0,0),s.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(r.length/3-1)}n.setAttribute("position",new qe(r,3)),n.setAttribute("color",new qe(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Ue(16755200),u=new Ue(16711680),d=new Ue(43775),h=new Ue(16777215),f=new Ue(3355443);this.setColors(c,u,d,h,f)}setColors(e,n,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;cn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),yn("c",n,e,cn,0,0,-1),yn("t",n,e,cn,0,0,1),yn("n1",n,e,cn,-i,-r,-1),yn("n2",n,e,cn,i,-r,-1),yn("n3",n,e,cn,-i,r,-1),yn("n4",n,e,cn,i,r,-1),yn("f1",n,e,cn,-i,-r,1),yn("f2",n,e,cn,i,-r,1),yn("f3",n,e,cn,-i,r,1),yn("f4",n,e,cn,i,r,1),yn("u1",n,e,cn,i*.7,r*1.1,-1),yn("u2",n,e,cn,-i*.7,r*1.1,-1),yn("u3",n,e,cn,0,r*2,-1),yn("cf1",n,e,cn,-i,0,1),yn("cf2",n,e,cn,i,0,1),yn("cf3",n,e,cn,0,-r,1),yn("cf4",n,e,cn,0,r,1),yn("cn1",n,e,cn,-i,0,-1),yn("cn2",n,e,cn,i,0,-1),yn("cn3",n,e,cn,0,-r,-1),yn("cn4",n,e,cn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function yn(t,e,n,i,r,s,a){Ah.set(r,s,a).unproject(i);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],Ah.x,Ah.y,Ah.z)}}const Th=new Wi;class jU extends Mr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ht;s.setIndex(new kt(i,1)),s.setAttribute("position",new kt(r,3)),super(s,new ii({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Th.setFromObject(this.object),Th.isEmpty())return;const n=Th.min,i=Th.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class XU extends Mr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ht;s.setIndex(new kt(i,1)),s.setAttribute("position",new qe(r,3)),super(s,new ii({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class qU extends Cs{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new ht;a.setAttribute("position",new qe(s,3)),a.computeBoundingSphere(),super(a,new ii({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ht;l.setAttribute("position",new qe(o,3)),l.computeBoundingSphere(),this.add(new pn(l,new Mi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const SS=new G;let Ph,pv;class YU extends Rt{constructor(e=new G(0,0,1),n=new G(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",Ph===void 0&&(Ph=new ht,Ph.setAttribute("position",new qe([0,0,0,0,1,0],3)),pv=new dc(0,.5,1,5,1),pv.translate(0,-.5,0)),this.position.copy(n),this.line=new Cs(Ph,new ii({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pn(pv,new Mi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{SS.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(SS,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class KU extends Mr{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ht;r.setAttribute("position",new qe(n,3)),r.setAttribute("color",new qe(i,3));const s=new ii({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new Ue,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class NA{constructor(){this.type="ShapePath",this.color=new Ue,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Au,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,a){return this.currentPath.bezierCurveTo(e,n,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const x=[];for(let y=0,b=v.length;y<b;y++){const A=v[y],M=new fo;M.curves=A.curves,x.push(M)}return x}function i(v,x){const y=x.length;let b=!1;for(let A=y-1,M=0;M<y;A=M++){let E=x[A],S=x[M],_=S.x-E.x,w=S.y-E.y;if(Math.abs(w)>Number.EPSILON){if(w<0&&(E=x[M],_=-_,S=x[A],w=-w),v.y<E.y||v.y>S.y)continue;if(v.y===E.y){if(v.x===E.x)return!0}else{const P=w*(v.x-E.x)-_*(v.y-E.y);if(P===0)return!0;if(P<0)continue;b=!b}}else{if(v.y!==E.y)continue;if(S.x<=v.x&&v.x<=E.x||E.x<=v.x&&v.x<=S.x)return!0}}return b}const r=Fr.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new fo,l.curves=o.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],h=[];let f=[],p=0,g;h[p]=void 0,f[p]=[];for(let v=0,x=s.length;v<x;v++)o=s[v],g=o.getPoints(),a=r(g),a=e?!a:a,a?(!u&&h[p]&&p++,h[p]={s:new fo,p:g},h[p].s.curves=o.curves,u&&p++,f[p]=[]):f[p].push({h:o,p:g[0]});if(!h[0])return n(s);if(h.length>1){let v=!1,x=0;for(let y=0,b=h.length;y<b;y++)d[y]=[];for(let y=0,b=h.length;y<b;y++){const A=f[y];for(let M=0;M<A.length;M++){const E=A[M];let S=!0;for(let _=0;_<h.length;_++)i(E.p,h[_].p)&&(y!==_&&x++,S?(S=!1,d[_].push(E)):v=!0);S&&d[y].push(E)}}x>0&&v===!1&&(f=d)}let m;for(let v=0,x=h.length;v<x;v++){l=h[v].s,c.push(l),m=f[v];for(let y=0,b=m.length;y<b;y++)l.holes.push(m[y].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ac}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ac);const ZU=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:L0,AddEquation:na,AddOperation:nC,AdditiveAnimationBlendMode:F0,AdditiveBlending:bf,AlphaFormat:uC,AlwaysCompare:LC,AlwaysDepth:YE,AlwaysStencilFunc:Bg,AmbientLight:SA,AnimationAction:IA,AnimationClip:ql,AnimationLoader:rU,AnimationMixer:LU,AnimationObjectGroup:PU,AnimationUtils:eU,ArcCurve:JC,ArrayCamera:jC,ArrowHelper:YU,AttachedBindMode:fg,Audio:RA,AudioAnalyser:bU,AudioContext:mb,AudioListener:vU,AudioLoader:fU,AxesHelper:KU,BackSide:ei,BasicDepthPacking:xC,BasicShadowMap:ED,Bone:mp,BooleanKeyframeTrack:Oo,Box2:DA,Box3:Wi,Box3Helper:XU,BoxGeometry:_a,BoxHelper:jU,BufferAttribute:kt,BufferGeometry:ht,BufferGeometryLoader:TA,ByteType:lC,Cache:wo,Camera:ed,CameraHelper:$U,CanvasTexture:MB,CapsuleGeometry:bp,CatmullRomCurve3:QC,CineonToneMapping:sC,CircleGeometry:_p,ClampToEdgeWrapping:jn,Clock:vb,Color:Ue,ColorKeyframeTrack:cb,ColorManagement:zt,CompressedArrayTexture:wB,CompressedCubeTexture:SB,CompressedTexture:gp,CompressedTextureLoader:sU,ConeGeometry:xp,ConstantAlphaFactor:jE,ConstantColorFactor:WE,CubeCamera:FC,CubeReflectionMapping:Es,CubeRefractionMapping:pa,CubeTexture:td,CubeTextureLoader:aU,CubeUVReflectionMapping:oc,CubicBezierCurve:nb,CubicBezierCurve3:eA,CubicInterpolant:gA,CullFaceBack:lg,CullFaceFront:LE,CullFaceFrontBack:MD,CullFaceNone:RE,Curve:Er,CurvePath:nA,CustomBlending:IE,CustomToneMapping:aC,CylinderGeometry:dc,Cylindrical:VU,Data3DTexture:G0,DataArrayTexture:lp,DataTexture:Il,DataTextureLoader:oU,DataUtils:RO,DecrementStencilOp:DD,DecrementWrapStencilOp:VD,DefaultLoadingManager:_A,DepthFormat:ca,DepthStencilFormat:bo,DepthTexture:XC,DetachedBindMode:oC,DirectionalLight:pb,DirectionalLightHelper:WU,DiscreteInterpolant:yA,DisplayP3ColorSpace:ap,DodecahedronGeometry:wp,DoubleSide:nr,DstAlphaFactor:BE,DstColorFactor:zE,DynamicCopyUsage:ZD,DynamicDrawUsage:$D,DynamicReadUsage:qD,EdgesGeometry:iA,EllipseCurve:yp,EqualCompare:CC,EqualDepth:ZE,EqualStencilFunc:UD,EquirectangularReflectionMapping:gu,EquirectangularRefractionMapping:yu,Euler:Do,EventDispatcher:Qr,ExtrudeGeometry:Mp,FileLoader:Gi,Float16BufferAttribute:VO,Float32BufferAttribute:qe,Float64BufferAttribute:NO,FloatType:kr,Fog:pp,FogExp2:fp,FramebufferTexture:$g,FrontSide:Hr,Frustum:dp,GLBufferAttribute:OU,GLSL1:QD,GLSL3:Ug,GreaterCompare:TC,GreaterDepth:QE,GreaterEqualCompare:RC,GreaterEqualDepth:JE,GreaterEqualStencilFunc:WD,GreaterStencilFunc:HD,GridHelper:HU,Group:ys,HalfFloatType:zl,HemisphereLight:wA,HemisphereLightHelper:zU,IcosahedronGeometry:Ep,ImageBitmapLoader:PA,ImageLoader:Lu,ImageUtils:H0,IncrementStencilOp:kD,IncrementWrapStencilOp:OD,InstancedBufferAttribute:$l,InstancedBufferGeometry:AA,InstancedInterleavedBuffer:DU,InstancedMesh:J0,Int16BufferAttribute:DO,Int32BufferAttribute:OO,Int8BufferAttribute:LO,IntType:I0,InterleavedBuffer:uc,InterleavedBufferAttribute:$r,Interpolant:hc,InterpolateDiscrete:Hl,InterpolateLinear:_o,InterpolateSmooth:Jh,InvertStencilOp:ND,KeepStencilOp:Ya,KeyframeTrack:Cr,LOD:ZC,LatheGeometry:id,Layers:cp,LessCompare:EC,LessDepth:KE,LessEqualCompare:AC,LessEqualDepth:vu,LessEqualStencilFunc:zD,LessStencilFunc:BD,Light:wa,LightProbe:CA,Line:Cs,Line3:OA,LineBasicMaterial:ii,LineCurve:ib,LineCurve3:tA,LineDashedMaterial:pA,LineLoop:Q0,LineSegments:Mr,LinearDisplayP3ColorSpace:Qu,LinearEncoding:U0,LinearFilter:nn,LinearInterpolant:lb,LinearMipMapLinearFilter:RD,LinearMipMapNearestFilter:PD,LinearMipmapLinearFilter:Gr,LinearMipmapNearestFilter:ip,LinearSRGBColorSpace:Wr,LinearToneMapping:iC,LinearTransfer:xu,Loader:ri,LoaderUtils:Br,LoadingManager:ub,LoopOnce:gC,LoopPingPong:bC,LoopRepeat:yC,LuminanceAlphaFormat:hC,LuminanceFormat:dC,MOUSE:qa,Material:Rn,MaterialLoader:Ip,MathUtils:op,Matrix3:yt,Matrix4:it,MaxEquation:hg,Mesh:pn,MeshBasicMaterial:Mi,MeshDepthMaterial:X0,MeshDistanceMaterial:q0,MeshLambertMaterial:hA,MeshMatcapMaterial:fA,MeshNormalMaterial:dA,MeshPhongMaterial:cA,MeshPhysicalMaterial:es,MeshStandardMaterial:ad,MeshToonMaterial:uA,MinEquation:dg,MirroredRepeatWrapping:Ul,MixOperation:tC,MultiplyBlending:ug,MultiplyOperation:Ju,NearestFilter:hn,NearestMipMapLinearFilter:TD,NearestMipMapNearestFilter:AD,NearestMipmapLinearFilter:Rl,NearestMipmapNearestFilter:bu,NeverCompare:MC,NeverDepth:qE,NeverStencilFunc:FD,NoBlending:xs,NoColorSpace:Fi,NoToneMapping:ws,NormalAnimationBlendMode:sp,NormalBlending:uo,NotEqualCompare:PC,NotEqualDepth:eC,NotEqualStencilFunc:GD,NumberKeyframeTrack:jl,Object3D:Rt,ObjectLoader:dU,ObjectSpaceNormalMap:SC,OctahedronGeometry:rd,OneFactor:VE,OneMinusConstantAlphaFactor:XE,OneMinusConstantColorFactor:$E,OneMinusDstAlphaFactor:UE,OneMinusDstColorFactor:HE,OneMinusSrcAlphaFactor:xf,OneMinusSrcColorFactor:FE,OrthographicCamera:sr,P3Primaries:Su,PCFShadowMap:P0,PCFSoftShadowMap:R0,PMREMGenerator:Hg,Path:Au,PerspectiveCamera:Wt,Plane:ms,PlaneGeometry:lc,PlaneHelper:qU,PointLight:fb,PointLightHelper:BU,Points:eb,PointsMaterial:vp,PolarGridHelper:GU,PolyhedronGeometry:xa,PositionalAudio:yU,PropertyBinding:At,PropertyMixer:LA,QuadraticBezierCurve:rb,QuadraticBezierCurve3:sb,Quaternion:Un,QuaternionKeyframeTrack:va,QuaternionLinearInterpolant:bA,RED_GREEN_RGTC2_Format:Ng,RED_RGTC1_Format:vC,REVISION:ac,RGBADepthPacking:wC,RGBAFormat:Ni,RGBAIntegerFormat:N0,RGBA_ASTC_10x10_Format:Lg,RGBA_ASTC_10x5_Format:Tg,RGBA_ASTC_10x6_Format:Pg,RGBA_ASTC_10x8_Format:Rg,RGBA_ASTC_12x10_Format:Ig,RGBA_ASTC_12x12_Format:kg,RGBA_ASTC_4x4_Format:_g,RGBA_ASTC_5x4_Format:xg,RGBA_ASTC_5x5_Format:wg,RGBA_ASTC_6x5_Format:Sg,RGBA_ASTC_6x6_Format:Mg,RGBA_ASTC_8x5_Format:Eg,RGBA_ASTC_8x6_Format:Cg,RGBA_ASTC_8x8_Format:Ag,RGBA_BPTC_Format:Zh,RGBA_ETC2_EAC_Format:bg,RGBA_PVRTC_2BPPV1_Format:gg,RGBA_PVRTC_4BPPV1_Format:vg,RGBA_S3TC_DXT1_Format:qh,RGBA_S3TC_DXT3_Format:Yh,RGBA_S3TC_DXT5_Format:Kh,RGB_BPTC_SIGNED_Format:Dg,RGB_BPTC_UNSIGNED_Format:Og,RGB_ETC1_Format:mC,RGB_ETC2_Format:yg,RGB_PVRTC_2BPPV1_Format:mg,RGB_PVRTC_4BPPV1_Format:pg,RGB_S3TC_DXT1_Format:Xh,RGFormat:pC,RGIntegerFormat:V0,RawShaderMaterial:nu,Ray:ko,Raycaster:kA,Rec709Primaries:wu,RectAreaLight:MA,RedFormat:fC,RedIntegerFormat:O0,ReinhardToneMapping:rC,RenderTarget:OC,RepeatWrapping:ma,ReplaceStencilOp:ID,ReverseSubtractEquation:DE,RingGeometry:Cp,SIGNED_RED_GREEN_RGTC2_Format:Fg,SIGNED_RED_RGTC1_Format:Vg,SRGBColorSpace:wn,SRGBTransfer:qt,Scene:Y0,ShaderChunk:mt,ShaderLib:tr,ShaderMaterial:fr,ShadowMaterial:lA,Shape:fo,ShapeGeometry:Ap,ShapePath:NA,ShapeUtils:Fr,ShortType:cC,Skeleton:nd,SkeletonHelper:FU,SkinnedMesh:Z0,Source:io,Sphere:$i,SphereGeometry:sd,Spherical:Kg,SphericalHarmonics3:EA,SplineCurve:ab,SpotLight:hb,SpotLightHelper:NU,Sprite:KC,SpriteMaterial:K0,SrcAlphaFactor:_f,SrcAlphaSaturateFactor:GE,SrcColorFactor:NE,StaticCopyUsage:KD,StaticDrawUsage:Mu,StaticReadUsage:XD,StereoCamera:pU,StreamCopyUsage:JD,StreamDrawUsage:jD,StreamReadUsage:YD,StringKeyframeTrack:Vo,SubtractEquation:kE,SubtractiveBlending:cg,TOUCH:ps,TangentSpaceNormalMap:ba,TetrahedronGeometry:Tp,Texture:an,TextureLoader:xA,TorusGeometry:Pp,TorusKnotGeometry:Rp,Triangle:wi,TriangleFanDrawMode:wf,TriangleStripDrawMode:B0,TrianglesDrawMode:_C,TubeGeometry:Lp,TwoPassDoubleSide:CD,UVMapping:np,Uint16BufferAttribute:W0,Uint32BufferAttribute:$0,Uint8BufferAttribute:IO,Uint8ClampedBufferAttribute:kO,Uniform:bb,UniformsGroup:kU,UniformsLib:Be,UniformsUtils:up,UnsignedByteType:xr,UnsignedInt248Type:la,UnsignedIntType:gs,UnsignedShort4444Type:k0,UnsignedShort5551Type:D0,UnsignedShortType:rp,VSMShadowMap:Rr,Vector2:Me,Vector3:G,Vector4:Tt,VectorKeyframeTrack:Xl,VideoTexture:xB,WebGL1Renderer:qC,WebGL3DRenderTarget:yO,WebGLArrayRenderTarget:gO,WebGLCoordinateSystem:Dr,WebGLCubeRenderTarget:BC,WebGLMultipleRenderTargets:bO,WebGLRenderTarget:Sr,WebGLRenderer:Qc,WebGLUtils:$C,WebGPUCoordinateSystem:Eu,WireframeGeometry:oA,WrapAroundEnding:_u,ZeroCurvatureEnding:to,ZeroFactor:OE,ZeroSlopeEnding:no,ZeroStencilOp:LD,_SRGBAFormat:Sf,createCanvasElement:DC,sRGBEncoding:ua},Symbol.toStringTag,{value:"Module"}));function No(t){return r0()?(zn(t),!0):!1}function Iu(){const t=new Set,e=r=>{t.delete(r)};return{on:r=>{t.add(r);const s=()=>e(r);return No(s),{off:s}},off:e,trigger:r=>Promise.all(Array.from(t).map(s=>r?s(r):s()))}}function dn(t){return typeof t=="function"?t():Ye(t)}const JU=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const QU=t=>t!=null,ez=Object.prototype.toString,Cf=t=>ez.call(t)==="[object Object]",ef=()=>{};function tz(t,e,n=!1){return e.reduce((i,r)=>(r in t&&(!n||t[r]!==void 0)&&(i[r]=t[r]),i),{})}function nz(t,e={}){if(!Zt(t))return Io(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const i in t.value)n[i]=R2(()=>({get(){return t.value[i]},set(r){var s;if((s=dn(e.replaceRef))!=null?s:!0)if(Array.isArray(t.value)){const o=[...t.value];o[i]=r,t.value=o}else{const o={...t.value,[i]:r};Object.setPrototypeOf(o,Object.getPrototypeOf(t.value)),t.value=o}else t.value[i]=r}}));return n}function _b(t,e=!0){Ur()?vn(t):e?t():Pt(t)}function iz(t){Ur()&&Zr(t)}function Ei(t){var e;const n=dn(t);return(e=n==null?void 0:n.$el)!=null?e:n}const ks=JU?window:void 0;function Zn(...t){let e,n,i,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,r]=t,e=ks):[e,n,i,r]=t,!e)return ef;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],a=()=>{s.forEach(u=>u()),s.length=0},o=(u,d,h,f)=>(u.addEventListener(d,h,f),()=>u.removeEventListener(d,h,f)),l=Re(()=>[Ei(e),dn(r)],([u,d])=>{if(a(),!u)return;const h=Cf(d)?{...d}:d;s.push(...n.flatMap(f=>i.map(p=>o(u,f,p,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return No(c),c}function rz(){const t=he(!1);return Ur()&&vn(()=>{t.value=!0}),t}function xb(t){const e=rz();return I(()=>(e.value,!!t()))}function sz(t,e={}){const{immediate:n=!0,fpsLimit:i=void 0,window:r=ks}=e,s=he(!1),a=i?1e3/i:null;let o=0,l=null;function c(h){if(!s.value||!r)return;const f=h-(o||h);if(a&&f<a){l=r.requestAnimationFrame(c);return}t({delta:f,timestamp:h}),o=h,l=r.requestAnimationFrame(c)}function u(){!s.value&&r&&(s.value=!0,l=r.requestAnimationFrame(c))}function d(){s.value=!1,l!=null&&r&&(r.cancelAnimationFrame(l),l=null)}return n&&u(),No(d),{isActive:Lo(s),pause:d,resume:u}}function az(t,e={}){const{window:n=ks}=e,i=xb(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=he(!1),a=c=>{s.value=c.matches},o=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},l=Jt(()=>{i.value&&(o(),r=n.matchMedia(dn(t)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),s.value=r.matches)});return No(()=>{l(),o(),r=void 0}),s}function oz(t={}){const{window:e=ks}=t,n=he(1);if(e){let i=function(){n.value=e.devicePixelRatio,r(),s=e.matchMedia(`(resolution: ${n.value}dppx)`),s.addEventListener("change",i,{once:!0})},r=function(){s==null||s.removeEventListener("change",i)},s;i(),No(r)}return{pixelRatio:n}}function FA(t,e,n={}){const{window:i=ks,...r}=n;let s;const a=xb(()=>i&&"ResizeObserver"in i),o=()=>{s&&(s.disconnect(),s=void 0)},l=I(()=>Array.isArray(t)?t.map(d=>Ei(d)):[Ei(t)]),c=Re(l,d=>{if(o(),a.value&&i){s=new ResizeObserver(e);for(const h of d)h&&s.observe(h,r)}},{immediate:!0,flush:"post",deep:!0}),u=()=>{o(),c()};return No(u),{isSupported:a,stop:u}}function lz(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:r=!0,immediate:s=!0}=e,a=he(0),o=he(0),l=he(0),c=he(0),u=he(0),d=he(0),h=he(0),f=he(0);function p(){const g=Ei(t);if(!g){n&&(a.value=0,o.value=0,l.value=0,c.value=0,u.value=0,d.value=0,h.value=0,f.value=0);return}const m=g.getBoundingClientRect();a.value=m.height,o.value=m.bottom,l.value=m.left,c.value=m.right,u.value=m.top,d.value=m.width,h.value=m.x,f.value=m.y}return FA(t,p),Re(()=>Ei(t),g=>!g&&p()),r&&Zn("scroll",p,{capture:!0,passive:!0}),i&&Zn("resize",p,{passive:!0}),_b(()=>{s&&p()}),{height:a,bottom:o,left:l,right:c,top:u,width:d,x:h,y:f,update:p}}function cz(t,e={width:0,height:0},n={}){const{window:i=ks,box:r="content-box"}=n,s=I(()=>{var d,h;return(h=(d=Ei(t))==null?void 0:d.namespaceURI)==null?void 0:h.includes("svg")}),a=he(e.width),o=he(e.height),{stop:l}=FA(t,([d])=>{const h=r==="border-box"?d.borderBoxSize:r==="content-box"?d.contentBoxSize:d.devicePixelContentBoxSize;if(i&&s.value){const f=Ei(t);if(f){const p=i.getComputedStyle(f);a.value=Number.parseFloat(p.width),o.value=Number.parseFloat(p.height)}}else if(h){const f=Array.isArray(h)?h:[h];a.value=f.reduce((p,{inlineSize:g})=>p+g,0),o.value=f.reduce((p,{blockSize:g})=>p+g,0)}else a.value=d.contentRect.width,o.value=d.contentRect.height},n);_b(()=>{const d=Ei(t);d&&(a.value="offsetWidth"in d?d.offsetWidth:e.width,o.value="offsetHeight"in d?d.offsetHeight:e.height)});const c=Re(()=>Ei(t),d=>{a.value=d?e.width:0,o.value=d?e.height:0});function u(){l(),c()}return{width:a,height:o,stop:u}}function uz(t,e,n={}){const{root:i,rootMargin:r="0px",threshold:s=.1,window:a=ks,immediate:o=!0}=n,l=xb(()=>a&&"IntersectionObserver"in a),c=I(()=>{const p=dn(t);return(Array.isArray(p)?p:[p]).map(Ei).filter(QU)});let u=ef;const d=he(o),h=l.value?Re(()=>[c.value,Ei(i),d.value],([p,g])=>{if(u(),!d.value||!p.length)return;const m=new IntersectionObserver(e,{root:Ei(g),rootMargin:r,threshold:s});p.forEach(v=>v&&m.observe(v)),u=()=>{m.disconnect(),u=ef}},{immediate:o,flush:"post"}):ef,f=()=>{u(),h(),d.value=!1};return No(f),{isSupported:l,isActive:d,pause(){u(),d.value=!1},resume(){d.value=!0},stop:f}}const BA={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},dz=Object.keys(BA);function hz(t={}){const{target:e=ks}=t,n=he(!1),i=he(t.initialValue||{});Object.assign(i.value,BA,i.value);const r=s=>{n.value=!0,!(t.pointerTypes&&!t.pointerTypes.includes(s.pointerType))&&(i.value=tz(s,dz,!1))};if(e){const s={passive:!0};Zn(e,["pointerdown","pointermove","pointerup"],r,s),Zn(e,"pointerleave",()=>n.value=!1,s)}return{...nz(i),isInside:n}}function fz(t={}){const{window:e=ks,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:s=!0}=t,a=he(n),o=he(i),l=()=>{e&&(s?(a.value=e.innerWidth,o.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};if(l(),_b(l),Zn("resize",l,{passive:!0}),r){const c=az("(orientation: portrait)");Re(c,()=>l())}return{width:a,height:o}}const pz=({sizes:t,scene:e})=>{const n=he([]),i=I(()=>n.value[0]),r=(o,l=!1)=>{n.value.some(({uuid:c})=>c===o.uuid)||(l?a(o):n.value.push(o))},s=o=>{n.value=n.value.filter(({uuid:l})=>l!==o.uuid)},a=o=>{const l=o instanceof ed?o:n.value.find(u=>u.uuid===o);if(!l)return;const c=n.value.filter(({uuid:u})=>u!==l.uuid);n.value=[l,...c]};return Jt(()=>{t.aspectRatio.value&&n.value.forEach(o=>{o instanceof Wt&&(o.aspect=t.aspectRatio.value),(o instanceof Wt||o instanceof sr)&&o.updateProjectionMatrix()})}),e.userData.tres__registerCamera=r,e.userData.tres__deregisterCamera=s,Zr(()=>{n.value=[]}),{camera:i,cameras:n,registerCamera:r,deregisterCamera:s,setCameraActive:a}},UA=Iu(),zA=Iu(),wb=Iu(),iu=new vb;let tf=0,nf=0;const{pause:mz,resume:vz,isActive:gz}=sz(()=>{UA.trigger({delta:tf,elapsed:nf,clock:iu}),zA.trigger({delta:tf,elapsed:nf,clock:iu}),wb.trigger({delta:tf,elapsed:nf,clock:iu})},{immediate:!1});wb.on(()=>{tf=iu.getDelta(),nf=iu.getElapsedTime()});const od=()=>({onBeforeLoop:UA.on,onLoop:zA.on,onAfterLoop:wb.on,pause:mz,resume:vz,isActive:gz}),MS="[TresJS   ] ";function kp(){function t(i,r){console.error(`${MS} ${i}`,r||"")}function e(i){console.warn(`${MS} ${i}`)}function n(i,r){}return{logError:t,logWarning:e,logMessage:n}}function yz(t){return t instanceof Ue?t:Array.isArray(t)?new Ue(...t):new Ue(t)}const HA=(t,e)=>{for(const n of Object.keys(e))e[n]instanceof Object&&Object.assign(e[n],HA(t[n],e[n]));return Object.assign(t||{},e),t},bz="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",_z=xz(bz);function ES(t){return t&&t.nodeType===1}function Rh(t){return t.replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function xz(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const wz=(t,e)=>{const n=new Set,i=[];for(const r of t){const s=e(r);n.has(s)||(n.add(s),i.push(r))}return i},CS=(t,e)=>{if(!e)return;const n=Array.isArray(e)?e:e.match(/([^[.\]])+/g);return n==null?void 0:n.reduce((i,r)=>i&&i[r],t)},Sz=(t,e,n)=>{const i=Array.isArray(e)?e:e.match(/([^[.\]])+/g);i&&i.reduce((r,s,a)=>(r[s]===void 0&&(r[s]={}),a===i.length-1&&(r[s]=n),r[s]),t)};function GA(t,e){if(ES(t)&&ES(e)){const r=t.attributes,s=e.attributes;return r.length!==s.length?!1:Array.from(r).every(({name:a,value:o})=>e.getAttribute(a)===o)}if(t===e)return!0;if(t===null||typeof t!="object"||e===null||typeof e!="object")return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const r of n)if(!i.includes(r)||!GA(t[r],e[r]))return!1;return!0}function Mz(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!GA(t[n],e[n]))return!1;return!0}const Ez=Number.parseInt(ac.replace("dev","")),Lh={realistic:{shadows:!0,physicallyCorrectLights:!0,outputColorSpace:wn,toneMapping:L0,toneMappingExposure:3,shadowMap:{enabled:!0,type:R0}}};function Cz({scene:t,canvas:e,options:n,disableRender:i,contextParts:{sizes:r,camera:s}}){const a=I(()=>({alpha:dn(n.alpha),depth:dn(n.depth),canvas:Ei(e),context:dn(n.context),stencil:dn(n.stencil),antialias:dn(n.antialias)===void 0?!0:dn(n.antialias),precision:dn(n.precision),powerPreference:dn(n.powerPreference),premultipliedAlpha:dn(n.premultipliedAlpha),preserveDrawingBuffer:dn(n.preserveDrawingBuffer),logarithmicDepthBuffer:dn(n.logarithmicDepthBuffer),failIfMajorPerformanceCaveat:dn(n.failIfMajorPerformanceCaveat)})),o=Le(new Qc(a.value));Re(a,()=>{o.value.dispose(),o.value=new Qc(a.value)}),Jt(()=>{o.value.setSize(r.width.value,r.height.value)});const{pixelRatio:l}=oz();Jt(()=>{o.value.setPixelRatio(l.value)});const{logError:c}=kp(),u=(()=>{const p=new Qc,g={shadowMap:{enabled:p.shadowMap.enabled,type:p.shadowMap.type},toneMapping:p.toneMapping,toneMappingExposure:p.toneMappingExposure,outputColorSpace:p.outputColorSpace};return p.dispose(),g})();Jt(()=>{const p=dn(n.preset);p&&(p in Lh||c(`Renderer Preset must be one of these: ${Object.keys(Lh).join(", ")}`),HA(o.value,Lh[p]));const g=(x,y)=>{const b=dn(x),A=()=>{if(p)return CS(Lh[p],y)};if(b!==void 0)return b;const M=A();return M!==void 0?M:CS(u,y)},m=(x,y)=>Sz(o.value,y,g(x,y));m(n.shadows,"shadowMap.enabled"),m(n.toneMapping,"toneMapping"),m(n.shadowMapType,"shadowMap.type"),Ez<150&&m(!n.useLegacyLights,"physicallyCorrectLights"),m(n.outputColorSpace,"outputColorSpace"),m(n.toneMappingExposure,"toneMappingExposure");const v=g(n.clearColor,"clearColor");v&&o.value.setClearColor(v?yz(v):new Ue(0))});const{pause:d,resume:h,onLoop:f}=od();return f(()=>{s.value&&!dn(i)&&o.value.render(t,s.value)}),h(),Zr(()=>{d(),o.value.dispose(),o.value.forceContextLoss()}),{renderer:o}}const AS=t=>typeof t=="function",Az=t=>!!t&&t.constructor===Array;function Tz(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}async function Pz(t,e,n,i,r){const{logError:s}=kp(),a=new t;r&&r(a),n&&n(a);const o=(Array.isArray(e)?e:[e]).map(l=>new Promise((c,u)=>{a.load(l,d=>{d.scene&&Object.assign(d,Tz(d.scene)),c(d)},i,d=>u(s("[useLoader] - Failed to load resource",d)))}));return Az(e)?await Promise.all(o):await o[0]}const Rz=(t,{renderer:e,camera:n,raycaster:i})=>{const r=I(()=>e.value.domElement),{x:s,y:a}=hz({target:r}),{width:o,height:l,top:c,left:u}=lz(r),d=({x:E,y:S})=>{if(r.value)return{x:(E-u.value)/o.value*2-1,y:-((S-c.value)/l.value)*2+1}},h=({x:E,y:S})=>{if(n.value)return i.value.setFromCamera(new Me(E,S),n.value),i.value.intersectObjects(t.value,!1)},f=E=>{const S=d({x:(E==null?void 0:E.clientX)??s.value,y:(E==null?void 0:E.clientY)??a.value});return S?h(S)||[]:[]},p=I(()=>f()),g=Iu(),m=Iu(),v=(E,S)=>{E.trigger({event:S,intersects:f(S)})},x=E=>{v(m,E)};let y;const b=E=>{var S;y=(S=f(E)[0])==null?void 0:S.object},A=E=>{var S;E instanceof PointerEvent&&y===((S=f(E)[0])==null?void 0:S.object)&&v(g,E)},M=E=>m.trigger({event:E,intersects:[]});return r.value.addEventListener("pointerup",A),r.value.addEventListener("pointerdown",b),r.value.addEventListener("pointermove",x),r.value.addEventListener("pointerleave",M),Zr(()=>{r!=null&&r.value&&(r.value.removeEventListener("pointerup",A),r.value.removeEventListener("pointerdown",b),r.value.removeEventListener("pointermove",x),r.value.removeEventListener("pointerleave",M))}),{intersects:p,onClick:E=>g.on(E).off,onPointerMove:E=>m.on(E).off}},Lz=({scene:t,contextParts:e})=>{const n=Sn({click:new Map,pointerMove:new Map,pointerEnter:new Map,pointerLeave:new Map}),i=he(new Set),r=h=>{i.value.add(h)},s=h=>{i.value.delete(h)},a=h=>{Object.values(n).forEach(f=>f.delete(h)),s(h)},o=h=>{const{onClick:f,onPointerMove:p,onPointerEnter:g,onPointerLeave:m}=h;f&&n.click.set(h,f),p&&n.pointerMove.set(h,p),g&&n.pointerEnter.set(h,g),m&&n.pointerLeave.set(h,m)};t.userData.tres__registerAtPointerEventHandler=o,t.userData.tres__deregisterAtPointerEventHandler=a,t.userData.tres__registerBlockingObjectAtPointerEventHandler=r,t.userData.tres__deregisterBlockingObjectAtPointerEventHandler=s;const l=I(()=>wz([...Array.from(i.value),...Object.values(n).map(h=>Array.from(h.keys())).flat()],({uuid:h})=>h)),{onClick:c,onPointerMove:u}=Rz(l,e);c(({intersects:h,event:f})=>{var p;h.length&&((p=n.click.get(h[0].object))==null||p(h[0],f))});let d;return u(({intersects:h,event:f})=>{var p,g,m,v;const x=(p=h==null?void 0:h[0])==null?void 0:p.object,{pointerLeave:y,pointerEnter:b,pointerMove:A}=n;d&&d!==x&&((g=y.get(d))==null||g(d,f)),x&&(d!==x&&((m=b.get(x))==null||m(h[0],f)),(v=A.get(x))==null||v(h[0],f)),d=x||null}),{registerObject:o,deregisterObject:a}},Zg=he({}),Sb=t=>Object.assign(Zg.value,t);function Iz({scene:t,canvas:e,windowSize:n,disableRender:i,rendererOptions:r}){const s=I(()=>dn(n)?fz():cz(dn(e).parentElement)),a=I(()=>s.value.width.value),o=I(()=>s.value.height.value),l=I(()=>a.value/o.value),c={height:o,width:a,aspectRatio:l},u=Le(t),{camera:d,cameras:h,registerCamera:f,deregisterCamera:p,setCameraActive:g}=pz({sizes:c,scene:t}),{renderer:m}=Cz({scene:t,canvas:e,options:r,contextParts:{sizes:c,camera:d},disableRender:i}),v={sizes:c,scene:u,camera:d,cameras:Lo(h),renderer:m,raycaster:Le(new kA),controls:he(null),extend:Sb,registerCamera:f,setCameraActive:g,deregisterCamera:p};return Ut("useTres",v),v}function WA(){const t=_t("useTres");if(!t)throw new Error("useTresContext must be used together with useTresContextProvider");return t}let un=null;const{logError:TS}=kp(),kz={createElement(t,e,n,i){var r,s;if(i||(i={}),i.args||(i.args=[]),t==="template"||_z(t))return null;let a=t.replace("Tres",""),o;if(t==="primitive"){(i==null?void 0:i.object)===void 0&&TS("Tres primitives need a prop 'object'");const l=i.object;a=l.type,o=Object.assign(l,{type:a,attach:i.attach,primitive:!0})}else{const l=Zg.value[a];l||TS(`${a} is not defined on the THREE namespace. Use extend to add it to the catalog.`),o=new l(...i.args)}return o.isCamera&&(i!=null&&i.position||o.position.set(3,3,3),i!=null&&i.lookAt||o.lookAt(0,0,0)),(i==null?void 0:i.attach)===void 0&&(o.isMaterial?o.attach="material":o.isBufferGeometry&&(o.attach="geometry")),o.isObject3D&&((r=i==null?void 0:i.material)!=null&&r.isMaterial&&(o.userData.tres__materialViaProp=!0),(s=i==null?void 0:i.geometry)!=null&&s.isBufferGeometry&&(o.userData.tres__geometryViaProp=!0)),o.userData={...o.userData,tres__name:a},o},insert(t,e){var n,i,r,s;e&&e.isScene&&(un=e);const a=e||un;if(t!=null&&t.isObject3D){if(t!=null&&t.isCamera){if(!(un!=null&&un.userData.tres__registerCamera))throw"could not find tres__registerCamera on scene's userData";(i=un==null?void 0:(n=un.userData).tres__registerCamera)==null||i.call(n,t)}if(t!=null&&t.onClick||t!=null&&t.onPointerMove||t!=null&&t.onPointerEnter||t!=null&&t.onPointerLeave){if(!(un!=null&&un.userData.tres__registerAtPointerEventHandler))throw"could not find tres__registerAtPointerEventHandler on scene's userData";(s=un==null?void 0:(r=un.userData).tres__registerAtPointerEventHandler)==null||s.call(r,t)}}t!=null&&t.isObject3D&&a!=null&&a.isObject3D?(a.add(t),t.dispatchEvent({type:"added"})):t!=null&&t.isFog?a.fog=t:typeof(t==null?void 0:t.attach)=="string"&&(t.__previousAttach=t[a==null?void 0:a.attach],a&&(a[t.attach]=t))},remove(t){var e,n;if(t){if(t.isObject3D){const i=t,r=c=>{var u,d;const h=c;c.userData.tres__materialViaProp||(u=h.material)==null||u.dispose(),c.userData.tres__geometryViaProp||(d=h.geometry)==null||d.dispose()},s=un==null?void 0:un.userData.tres__deregisterAtPointerEventHandler,a=un==null?void 0:un.userData.tres__deregisterBlockingObjectAtPointerEventHandler,o=c=>{var u,d;if(!a)throw"could not find tres__deregisterBlockingObjectAtPointerEventHandler on scene's userData";if((d=un==null?void 0:(u=un.userData).tres__deregisterBlockingObjectAtPointerEventHandler)==null||d.call(u,c),!s)throw"could not find tres__deregisterAtPointerEventHandler on scene's userData";(c!=null&&c.onClick||c!=null&&c.onPointerMove||c!=null&&c.onPointerEnter||c!=null&&c.onPointerLeave)&&(s==null||s(c))},l=c=>{const u=un==null?void 0:un.userData.tres__deregisterCamera;if(!u)throw"could not find tres__deregisterCamera on scene's userData";c.isCamera&&(u==null||u(c))};i.traverse(c=>{r(c),l(c),o==null||o(c)}),r(i),l(i),o==null||o(i)}(e=t.removeFromParent)==null||e.call(t),(n=t.dispose)==null||n.call(t)}},patchProp(t,e,n,i){var r,s,a,o;if(t){let l=t,c=e;if(t.isObject3D&&c==="blocks-pointer-events"){i||i===""?(s=un==null?void 0:(r=un.userData).tres__registerBlockingObjectAtPointerEventHandler)==null||s.call(r,t):(o=un==null?void 0:(a=un.userData).tres__deregisterBlockingObjectAtPointerEventHandler)==null||o.call(a,t);return}let u=Rh(c),d=l==null?void 0:l[u];if(c==="args"){const f=t,p=n??[],g=i??[],m=t.userData.tres__name||t.type;m&&p.length&&!Mz(p,g)&&(l=Object.assign(f,new Zg.value[m](...i)));return}if(l.type==="BufferGeometry"){if(c==="args")return;l.setAttribute(Rh(c),new kt(...i));return}if(c.includes("-")&&d===void 0){const f=c.split("-");d=f.reduce((p,g)=>p[Rh(g)],l),c=f.pop(),u=c.toLowerCase(),d!=null&&d.set||(l=f.reduce((p,g)=>p[Rh(g)],l))}let h=i;if(h===""&&(h=!0),AS(d)){Array.isArray(h)?t[u](...h):t[u](h);return}!(d!=null&&d.set)&&!AS(d)?l[u]=h:d.constructor===h.constructor&&d!=null&&d.copy?d==null||d.copy(h):Array.isArray(h)?d.set(...h):!d.isColor&&d.setScalar?d.setScalar(h):d.set(h)}},parentNode(t){return(t==null?void 0:t.parent)||null},createText:()=>{},createComment:()=>{},setText:()=>{},setElementText:()=>{},nextSibling:()=>{},querySelector:()=>{},setScopeId:()=>{},cloneNode:()=>{},insertStaticContent:()=>{}},{render:Dz}=fE(kz);Sb(ZU);const Oz=["data-scene"],Vz=yo({__name:"TresCanvas",props:{shadows:{type:Boolean,default:void 0},clearColor:{},toneMapping:{},shadowMapType:{},useLegacyLights:{type:Boolean,default:void 0},outputColorSpace:{},toneMappingExposure:{},camera:{},preset:{},windowSize:{type:Boolean,default:void 0},disableRender:{type:Boolean,default:void 0},context:{},precision:{},alpha:{type:Boolean,default:void 0},premultipliedAlpha:{type:Boolean},antialias:{type:Boolean,default:void 0},stencil:{type:Boolean,default:void 0},preserveDrawingBuffer:{type:Boolean,default:void 0},powerPreference:{},depth:{type:Boolean,default:void 0},logarithmicDepthBuffer:{type:Boolean,default:void 0},failIfMajorPerformanceCaveat:{type:Boolean,default:void 0}},setup(t,{expose:e}){var n;const i=t,{logWarning:r}=kp(),s=he(),a=Le(new Y0);od();const o=w0(),l=(n=Ur())==null?void 0:n.appContext.app,c=f=>yo({setup(){var p;const g=(p=Ur())==null?void 0:p.appContext;return g&&(g.app=l),Ut("useTres",f),Ut("extend",Sb),()=>hr(je,null,o!=null&&o.default?o.default():[])}}),u=f=>{const p=c(f);Dz(hr(p),a.value)},d=I(()=>i.disableRender),h=Le(null);return e({context:h}),vn(()=>{const f=s;h.value=Iz({scene:a.value,canvas:f,windowSize:i.windowSize,disableRender:d,rendererOptions:i}),Lz({scene:a.value,contextParts:h.value});const{registerCamera:p,camera:g,cameras:m,deregisterCamera:v}=h.value;u(h.value);const x=()=>{const y=new Wt(45,window.innerWidth/window.innerHeight,.1,1e3);y.position.set(3,3,3),y.lookAt(0,0,0),p(y);const b=Jt(()=>{m.value.length>=2&&(y.removeFromParent(),v(y),b==null||b())})};Re(()=>i.camera,(y,b)=>{y&&p(y),b&&(b.removeFromParent(),v(b))},{immediate:!0}),g.value||(r("No camera found. Creating a default perspective camera. To have full control over a camera, please add one to the scene."),x())}),(f,p)=>(Qn(),rr("canvas",{ref_key:"canvas",ref:s,"data-scene":a.value.uuid,class:qf(f.$attrs.class),style:Xf({display:"block",width:"100%",height:"100%",position:f.windowSize?"fixed":"relative",top:0,left:0,pointerEvents:"auto",touchAction:"none",...f.$attrs.style})},null,14,Oz))}});/*! Tweakpane 4.0.1 (c) 2016 cocopon, licensed under the MIT license. */function sn(t){return t==null}function Mb(t){return t!==null&&typeof t=="object"}function Jg(t){return t!==null&&typeof t=="object"}function Nz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function So(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((i,r)=>{const s=t[r],a=e[r];return Jg(s)&&Jg(a)?Object.assign(Object.assign({},i),{[r]:So(s,a)}):Object.assign(Object.assign({},i),{[r]:r in e?a:s})},{})}function Fz(t){return Mb(t)?"target"in t:!1}const Bz={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class Bi{static alreadyDisposed(){return new Bi({type:"alreadydisposed"})}static notBindable(){return new Bi({type:"notbindable"})}static notCompatible(e,n){return new Bi({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new Bi({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new Bi({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=Bz[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class Af{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const i=this.read();if(!Af.isBindable(i))throw Bi.notBindable();if(!(e in i))throw Bi.propertyNotFound(e);i[e]=n}}class ji{constructor(){this.observers_={}}on(e,n){let i=this.observers_[e];return i||(i=this.observers_[e]=[]),i.push({handler:n}),this}off(e,n){const i=this.observers_[e];return i&&(this.observers_[e]=i.filter(r=>r.handler!==n)),this}emit(e,n){const i=this.observers_[e];i&&i.forEach(r=>{r.handler(n)})}}class Uz{constructor(e,n){var i;this.constraint_=n==null?void 0:n.constraint,this.equals_=(i=n==null?void 0:n.equals)!==null&&i!==void 0?i:(r,s)=>r===s,this.emitter=new ji,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const i=n??{forceEmit:!1,last:!0},r=this.constraint_?this.constraint_.constrain(e):e,s=this.rawValue_;this.equals_(s,r)&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=r,this.emitter.emit("change",{options:i,previousRawValue:s,rawValue:r,sender:this}))}}class zz{constructor(e){this.emitter=new ji,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const i=n??{forceEmit:!1,last:!0},r=this.value_;r===e&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:i,previousRawValue:r,rawValue:this.value_,sender:this}))}}class Hz{constructor(e){this.emitter=new ji,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function Hn(t,e){const n=e==null?void 0:e.constraint,i=e==null?void 0:e.equals;return!n&&!i?new zz(t):new Uz(t,e)}function Gz(t){return[new Hz(t),(e,n)=>{t.setRawValue(e,n)}]}class Vt{constructor(e){this.emitter=new ji,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((i,r)=>Object.assign(i,{[r]:Hn(e[r])}),{})}static fromObject(e){const n=this.createCore(e);return new Vt(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}}class Dp{constructor(e){this.values=Vt.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),i=this.values.get("min");return Math.min(Math.max(e,i),n)}}class Wz{constructor(e){this.values=Vt.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),i=this.values.get("min");let r=e;return sn(i)||(r=Math.max(r,i)),sn(n)||(r=Math.min(r,n)),r}}class $z{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,i=Math.round((e-n)/this.step);return n+i*this.step}}class jz{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const Xz={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};class qz{constructor(e,n,i){this.left=n,this.operator=e,this.right=i}evaluate(){const e=Xz[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Yz={"+":t=>t,"-":t=>-t,"~":t=>~t};class Kz{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=Yz[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Eb(t){return(e,n)=>{for(let i=0;i<t.length;i++){const r=t[i](e,n);if(r!=="")return r}return""}}function ku(t,e){var n;const i=t.substr(e).match(/^\s+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function Zz(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function Du(t,e){var n;const i=t.substr(e).match(/^[0-9]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function Jz(t,e){const n=Du(t,e);if(n!=="")return n;const i=t.substr(e,1);if(e+=1,i!=="-"&&i!=="+")return"";const r=Du(t,e);return r===""?"":i+r}function Cb(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const i=Jz(t,e);return i===""?"":n+i}function $A(t,e){const n=t.substr(e,1);if(n==="0")return n;const i=Zz(t,e);return e+=i.length,i===""?"":i+Du(t,e)}function Qz(t,e){const n=$A(t,e);if(e+=n.length,n==="")return"";const i=t.substr(e,1);if(e+=i.length,i!==".")return"";const r=Du(t,e);return e+=r.length,n+i+r+Cb(t,e)}function e4(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const i=Du(t,e);return e+=i.length,i===""?"":n+i+Cb(t,e)}function t4(t,e){const n=$A(t,e);return e+=n.length,n===""?"":n+Cb(t,e)}const n4=Eb([Qz,e4,t4]);function i4(t,e){var n;const i=t.substr(e).match(/^[01]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function r4(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const i=i4(t,e);return i===""?"":n+i}function s4(t,e){var n;const i=t.substr(e).match(/^[0-7]+/);return(n=i&&i[0])!==null&&n!==void 0?n:""}function a4(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const i=s4(t,e);return i===""?"":n+i}function o4(t,e){var n;const i=t.substr(e).match(/^[0-9a-f]+/i);return(n=i&&i[0])!==null&&n!==void 0?n:""}function l4(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const i=o4(t,e);return i===""?"":n+i}const c4=Eb([r4,a4,l4]),u4=Eb([c4,n4]);function d4(t,e){const n=u4(t,e);return e+=n.length,n===""?null:{evaluable:new jz(n),cursor:e}}function h4(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const i=XA(t,e);if(!i)return null;e=i.cursor,e+=ku(t,e).length;const r=t.substr(e,1);return e+=r.length,r!==")"?null:{evaluable:i.evaluable,cursor:e}}function f4(t,e){var n;return(n=d4(t,e))!==null&&n!==void 0?n:h4(t,e)}function jA(t,e){const n=f4(t,e);if(n)return n;const i=t.substr(e,1);if(e+=i.length,i!=="+"&&i!=="-"&&i!=="~")return null;const r=jA(t,e);return r?(e=r.cursor,{cursor:e,evaluable:new Kz(i,r.evaluable)}):null}function p4(t,e,n){n+=ku(e,n).length;const i=t.filter(r=>e.startsWith(r,n))[0];return i?(n+=i.length,n+=ku(e,n).length,{cursor:n,operator:i}):null}function m4(t,e){return(n,i)=>{const r=t(n,i);if(!r)return null;i=r.cursor;let s=r.evaluable;for(;;){const a=p4(e,n,i);if(!a)break;i=a.cursor;const o=t(n,i);if(!o)return null;i=o.cursor,s=new qz(a.operator,s,o.evaluable)}return s?{cursor:i,evaluable:s}:null}}const v4=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>m4(t,e),jA);function XA(t,e){return e+=ku(t,e).length,v4(t,e)}function g4(t){const e=XA(t,0);return!e||e.cursor+ku(t,e.cursor).length!==t.length?null:e.evaluable}function ga(t){var e;const n=g4(t);return(e=n==null?void 0:n.evaluate())!==null&&e!==void 0?e:null}function qA(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=ga(t);if(!sn(e))return e}return 0}function Li(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function Ft(t,e,n,i,r){const s=(t-e)/(n-e);return i+s*(r-i)}function PS(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Pn(t,e,n){return Math.min(Math.max(t,e),n)}function YA(t,e){return(t%e+e)%e}function y4(t,e){return sn(t.step)?Math.max(PS(e),2):PS(t.step)}function KA(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function b4(t,e){var n;const i=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return i===0?.1:Math.pow(10,Math.floor(Math.log10(i))-1)}function ZA(t,e){return sn(t.step)?null:new $z(t.step,e)}function JA(t){return!sn(t.max)&&!sn(t.min)?new Dp({max:t.max,min:t.min}):!sn(t.max)||!sn(t.min)?new Wz({max:t.max,min:t.min}):null}function QA(t,e){var n,i,r;return{formatter:(n=t.format)!==null&&n!==void 0?n:Li(y4(t,e)),keyScale:(i=t.keyScale)!==null&&i!==void 0?i:KA(t),pointerScale:(r=t.pointerScale)!==null&&r!==void 0?r:b4(t,e)}}function eT(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function Ab(t){return{constraint:t.constraint,textProps:Vt.fromObject(QA(t.params,t.initialValue))}}class Tb{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class Op{constructor(e){this.target=e}}class tT extends Op{constructor(e,n,i){super(e),this.value=n,this.last=i??!0}}class _4 extends Op{constructor(e,n){super(e),this.expanded=n}}class x4 extends Op{constructor(e,n){super(e),this.index=n}}class Pb extends Tb{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new ji,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const i=n.bind(this);return this.emitter_.on(e,r=>{i(r)}),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new tT(this,n.binding.target.read(),e.options.last))}}function w4(t,e){const i=Object.keys(e).reduce((r,s)=>{if(r===void 0)return;const a=e[s],o=a(t[s]);return o.succeeded?Object.assign(Object.assign({},r),{[s]:o.value}):void 0},{});return i}function S4(t,e){return t.reduce((n,i)=>{if(n===void 0)return;const r=e(i);if(!(!r.succeeded||r.value===void 0))return[...n,r.value]},[])}function M4(t){return t===null?!1:typeof t=="object"}function ds(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const i=t(n);return i!==void 0?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}function RS(t){return{custom:e=>ds(e)(t),boolean:ds(e=>typeof e=="boolean"?e:void 0)(t),number:ds(e=>typeof e=="number"?e:void 0)(t),string:ds(e=>typeof e=="string"?e:void 0)(t),function:ds(e=>typeof e=="function"?e:void 0)(t),constant:e=>ds(n=>n===e?e:void 0)(t),raw:ds(e=>e)(t),object:e=>ds(n=>{if(M4(n))return w4(n,e)})(t),array:e=>ds(n=>{if(Array.isArray(n))return S4(n,e)})(t)}}const Qg={optional:RS(!0),required:RS(!1)};function si(t,e){const n=e(Qg),i=Qg.required.object(n)(t);return i.succeeded?i.value:void 0}function ts(t,e,n,i){if(e&&!e(t))return!1;const r=si(t,n);return r?i(r):!1}function ns(t,e){var n;return So((n=t==null?void 0:t())!==null&&n!==void 0?n:{},e)}function rf(t){return"value"in t}function E4(t){if(!Mb(t)||!("binding"in t))return!1;const e=t.binding;return Fz(e)}const Or="http://www.w3.org/2000/svg";function Tf(t){t.offsetHeight}function C4(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function Rb(t){return t.ontouchstart!==void 0}function A4(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const T4={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Vp(t,e){const n=t.createElementNS(Or,"svg");return n.innerHTML=T4[e],n}function nT(t,e,n){t.insertBefore(e,t.children[n])}function Lb(t){t.parentElement&&t.parentElement.removeChild(t)}function iT(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function P4(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function rT(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function Ss(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function jr(t,e,n){Ss(t.value(e),n)}const R4="tp";function Nt(t){return(n,i)=>[R4,"-",t,"v",n?`_${n}`:"",i?`-${i}`:""].join("")}const Vc=Nt("lbl");function L4(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(r=>t.createTextNode(r)).forEach((r,s)=>{s>0&&n.appendChild(t.createElement("br")),n.appendChild(r)}),n}class I4{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Vc()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(Vc("l")),jr(n.props,"label",s=>{sn(s)?this.element.classList.add(Vc(void 0,"nol")):(this.element.classList.remove(Vc(void 0,"nol")),P4(i),i.appendChild(L4(e,s)))}),this.element.appendChild(i),this.labelElement=i;const r=e.createElement("div");r.classList.add(Vc("v")),this.element.appendChild(r),this.valueElement=r}}class k4{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new I4(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return ts(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return ns(null,{label:this.props.get("label")})}}function D4(){return["veryfirst","first","last","verylast"]}const LS=Nt(""),IS={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class sT{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{D4().forEach(i=>{n.classList.remove(LS(void 0,IS[i]))}),this.blade.get("positions").forEach(i=>{n.classList.add(LS(void 0,IS[i]))})}),this.viewProps.handleDispose(()=>{Lb(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return ts(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return ns(null,Object.assign({},this.viewProps.exportState()))}}class O4 extends Tb{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const i=n.bind(this);return this.controller.buttonController.emitter.on(e,()=>{i(new Op(this))}),this}}function V4(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function fc(t,e){return n=>{V4(t,e,n)}}function Ib(t,e){Ss(t,n=>{e.textContent=n??""})}const mv=Nt("btn");class N4{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(mv()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("button");i.classList.add(mv("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const r=e.createElement("div");r.classList.add(mv("t")),Ib(n.props.value("title"),r),this.buttonElement.appendChild(r)}}class F4{constructor(e,n){this.emitter=new ji,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new N4(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return ts(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return ns(null,{title:this.props.get("title")})}onClick_(){this.emitter.emit("click",{sender:this})}}class kS extends sT{constructor(e,n){const i=new F4(e,{props:n.buttonProps,viewProps:n.viewProps}),r=new k4(e,{blade:n.blade,props:n.labelProps,valueController:i});super({blade:n.blade,view:r.view,viewProps:n.viewProps}),this.buttonController=i,this.labelController=r}importState(e){return ts(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return ns(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class aT{constructor(e){const[n,i]=e.split("-"),r=n.split(".");this.major=parseInt(r[0],10),this.minor=parseInt(r[1],10),this.patch=parseInt(r[2],10),this.prerelease=i??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}const B4=new aT("2.0.1");function pi(t){return Object.assign({core:B4},t)}pi({id:"button",type:"blade",accept(t){const e=si(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new kS(t.document,{blade:t.blade,buttonProps:Vt.fromObject({title:t.params.title}),labelProps:Vt.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof kS?new O4(t.controller):null}});function U4(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function z4(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function H4(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function G4(t){return Mb(t)?"refresh"in t&&typeof t.refresh=="function":!1}function W4(t,e){if(!Af.isBindable(t))throw Bi.notBindable();return new Af(t,e)}class $4{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new ji,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,i){const r=i??{},s=this.controller_.element.ownerDocument,a=this.pool_.createBinding(s,W4(e,n),r),o=this.pool_.createBindingApi(a);return this.add(o,r.index)}addFolder(e){return z4(this,e)}addButton(e){return U4(this,e)}addTab(e){return H4(this,e)}add(e,n){const i=e.controller;return this.controller_.rack.add(i,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,i=this.pool_.createBlade(n,e),r=this.pool_.createApi(i);return this.add(r,e.index)}on(e,n){const i=n.bind(this);return this.emitter_.on(e,r=>{i(r)}),this}refresh(){this.children.forEach(e=>{G4(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,i=this.pool_.createApi(n),r=E4(n.value)?n.value.binding:null;this.emitter_.emit("change",new tT(i,r?r.target.read():n.value.rawValue,e.options.last))}}class kb extends Tb{constructor(e,n){super(e),this.rackApi_=new $4(e.rackController,n)}refresh(){this.rackApi_.refresh()}}class Db extends sT{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return ts(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((i,r)=>i.importState(n.children[r])))}exportState(){return ns(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}}function ey(t){return"rackController"in t}class j4{constructor(e){this.emitter=new ji,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw Bi.shouldNeverHappen();const i=n!==void 0?n:this.items_.length;this.items_.splice(i,0,e),this.cache_.add(e);const r=this.extract_(e);r&&(r.emitter.on("add",this.onSubListAdd_),r.emitter.on("remove",this.onSubListRemove_),r.allItems().forEach(s=>{this.cache_.add(s)})),this.emitter.emit("add",{index:i,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const i=this.extract_(e);i&&(i.allItems().forEach(r=>{this.cache_.delete(r)}),i.emitter.off("add",this.onSubListAdd_),i.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function X4(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(rf(i)&&i.value===e)return i}return null}function q4(t){return ey(t)?t.rackController.rack.bcSet_:null}class Y4{constructor(e){var n,i;this.emitter=new ji,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new j4(q4),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var i;(i=e.parent)===null||i===void 0||i.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const i=e.item;if(i.viewProps.emitter.on("change",this.onChildViewPropsChange_),i.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),i.viewProps.handleDispose(this.onChildDispose_),rf(i))i.value.emitter.on("change",this.onChildValueChange_);else if(ey(i)){const r=i.rackController.rack;if(r){const s=r.emitter;s.on("layout",this.onRackLayout_),s.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const i=e.item;if(rf(i))i.value.emitter.off("change",this.onChildValueChange_);else if(ey(i)){const r=i.rackController.rack;if(r){const s=r.emitter;s.off("layout",this.onRackLayout_),s.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(r=>!r.viewProps.get("hidden")),n=e[0],i=e[e.length-1];this.bcSet_.items.forEach(r=>{const s=[];r===n&&(s.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&s.push("veryfirst")),r===i&&(s.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&s.push("verylast")),r.blade.set("positions",s)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=X4(this.find(rf),e.sender);if(!n)throw Bi.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Ob{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new Y4({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let i=this.rack.children.length-1;i>=0;i--)this.rack.children[i].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&nT(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&Lb(e.bladeController.view.element)}}function oT(){return new Vt({positions:Hn([],{equals:Nz})})}class ld extends Vt{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},i=Vt.createCore(n);return new ld(i)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!sn(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const i=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};jr(this,"expanded",i),jr(this,"temporaryExpanded",i)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function K4(t,e){let n=0;return C4(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),Tf(e),n=e.clientHeight,t.set("temporaryExpanded",null),Tf(e)}),n}function DS(t,e){e.style.height=t.styleHeight}function Vb(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),sn(t.get("expandedHeight"))){const n=K4(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),Tf(e)}),t.emitter.on("change",()=>{DS(t,e)}),DS(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}class Z4 extends kb{constructor(e,n){super(e,n),this.emitter_=new ji,this.controller.foldable.value("expanded").emitter.on("change",i=>{this.emitter_.emit("fold",new _4(this,i.sender.rawValue))}),this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,i){return this.rackApi_.addBinding(e,n,i)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const i=n.bind(this);return this.emitter_.on(e,r=>{i(r)}),this}}const lT=Nt("cnt");class J4{constructor(e,n){var i;this.className_=Nt((i=n.viewName)!==null&&i!==void 0?i:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),lT()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),jr(this.foldable_,"completed",fc(this.element,this.className_(void 0,"cpl")));const r=e.createElement("button");r.classList.add(this.className_("b")),jr(n.props,"title",c=>{sn(c)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const s=e.createElement("div");s.classList.add(this.className_("i")),this.element.appendChild(s);const a=e.createElement("div");a.classList.add(this.className_("t")),Ib(n.props.value("title"),a),this.buttonElement.appendChild(a),this.titleElement=a;const o=e.createElement("div");o.classList.add(this.className_("m")),this.buttonElement.appendChild(o);const l=e.createElement("div");l.classList.add(this.className_("c")),this.element.appendChild(l),this.containerElement=l}}class OS extends Db{constructor(e,n){var i;const r=ld.create((i=n.expanded)!==null&&i!==void 0?i:!0),s=new J4(e,{foldable:r,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new Ob({blade:n.blade,element:s.containerElement,root:n.root,viewProps:n.viewProps}),view:s})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=r,Vb(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return ts(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return ns(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}pi({id:"folder",type:"blade",accept(t){const e=si(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new OS(t.document,{blade:t.blade,expanded:t.params.expanded,props:Vt.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof OS?new Z4(t.controller,t.pool):null}});const Q4=Nt("");function VS(t,e){return fc(t,Q4(void 0,e))}class cd extends Vt{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=Gz(Hn(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,i,r;const s=e??{};return new cd(Vt.createCore({disabled:(n=s.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(i=s.hidden)!==null&&i!==void 0?i:!1,parent:(r=s.parent)!==null&&r!==void 0?r:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){Ss(this.globalDisabled_,VS(e,"disabled")),jr(this,"hidden",VS(e,"hidden"))}bindDisabled(e){Ss(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){Ss(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const i=e.previousRawValue;i==null||i.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const NS=Nt("tbp");class eH{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(NS()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(NS("c")),this.element.appendChild(i),this.containerElement=i}}const Nc=Nt("tbi");class tH{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Nc()),n.viewProps.bindClassModifiers(this.element),jr(n.props,"selected",s=>{s?this.element.classList.add(Nc(void 0,"sel")):this.element.classList.remove(Nc(void 0,"sel"))});const i=e.createElement("button");i.classList.add(Nc("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const r=e.createElement("div");r.classList.add(Nc("t")),Ib(n.props.value("title"),r),this.buttonElement.appendChild(r),this.titleElement=r}}class nH{constructor(e,n){this.emitter=new ji,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new tH(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class ty extends Db{constructor(e,n){const i=new eH(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new Ob({blade:n.blade,element:i.containerElement,viewProps:n.viewProps}),view:i})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new nH(e,{props:n.itemProps,viewProps:cd.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,jr(this.props,"selected",r=>{this.itemController.props.set("selected",r),this.viewProps.set("hidden",!r)})}get itemController(){return this.ic_}importState(e){return ts(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return ns(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class iH extends kb{constructor(e,n){super(e,n),this.emitter_=new ji,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,i=new ty(n,{blade:oT(),itemProps:Vt.fromObject({selected:!1,title:e.title}),props:Vt.fromObject({selected:!1}),viewProps:cd.create()}),r=this.pool_.createApi(i);return this.rackApi_.add(r,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const i=n.bind(this);return this.emitter_.on(e,r=>{i(r)}),this}onSelect_(e){this.emitter_.emit("select",new x4(this,e.rawValue))}}class rH extends kb{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,i){return this.rackApi_.addBinding(e,n,i)}addBlade(e){return this.rackApi_.addBlade(e)}}const FS=-1;class sH{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=Hn(!0),this.selectedIndex=Hn(FS),this.items_=[]}add(e,n){const i=n??this.items_.length;this.items_.splice(i,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=FS,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,i)=>{n.rawValue=i===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,i)=>{n.rawValue=i===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(i=>i===e.sender);this.items_.forEach((i,r)=>{i.rawValue=r===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}}const Fc=Nt("tab");class aH{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Fc(),lT()),n.viewProps.bindClassModifiers(this.element),Ss(n.empty,fc(this.element,Fc(void 0,"nop")));const i=e.createElement("div");i.classList.add(Fc("t")),this.element.appendChild(i),this.itemsElement=i;const r=e.createElement("div");r.classList.add(Fc("i")),this.element.appendChild(r);const s=e.createElement("div");s.classList.add(Fc("c")),this.element.appendChild(s),this.contentsElement=s}}class BS extends Db{constructor(e,n){const i=new sH,r=new aH(e,{empty:i.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new Ob({blade:n.blade,element:r.contentsElement,viewProps:n.viewProps}),view:r}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const s=this.rackController.rack;s.emitter.on("add",this.onRackAdd_),s.emitter.on("remove",this.onRackRemove_),this.tab=i}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;nT(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;Lb(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}}pi({id:"tab",type:"blade",accept(t){const e=si(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new BS(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const i=new ty(t.document,{blade:oT(),itemProps:Vt.fromObject({selected:!1,title:n.title}),props:Vt.fromObject({selected:!1}),viewProps:cd.create()});e.add(i)}),e},api(t){return t.controller instanceof BS?new iH(t.controller,t.pool):t.controller instanceof ty?new rH(t.controller,t.pool):null}});class Nb extends Pb{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class ud{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,i)=>i.constrain(n),e)}}function Pf(t,e){if(t instanceof e)return t;if(t instanceof ud){const n=t.constraints.reduce((i,r)=>i||(r instanceof e?r:null),null);if(n)return n}return null}class Np{constructor(e){this.values=Vt.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(r=>r.value===e).length>0?e:n[0].value}}function Fp(t){var e;const n=Qg;if(Array.isArray(t))return(e=si({items:t},i=>({items:i.required.array(i.required.object({text:i.required.string,value:i.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function cT(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function Fb(t){return sn(t)?null:new Np(cT(t))}const vv=Nt("lst");class oH{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(vv()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("select");i.classList.add(vv("s")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;const r=e.createElement("div");r.classList.add(vv("m")),r.appendChild(Vp(e,"dropdown")),this.element.appendChild(r),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,jr(this.props_,"options",s=>{iT(this.selectElement),s.forEach(a=>{const o=e.createElement("option");o.textContent=a.text,this.selectElement.appendChild(o)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class Yl{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new oH(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return ts(e,null,n=>({options:n.required.custom(Fp)}),n=>(this.props.set("options",cT(n.options)),!0))}exportProps(){return ns(null,{options:this.props.get("options")})}}const US=Nt("pop");class lH{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(US()),n.viewProps.bindClassModifiers(this.element),Ss(n.shows,fc(this.element,US(void 0,"v")))}}class uT{constructor(e,n){this.shows=Hn(!1),this.viewProps=n.viewProps,this.view=new lH(e,{shows:this.shows,viewProps:this.viewProps})}}const zS=Nt("txt");class cH{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(zS()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const i=e.createElement("input");i.classList.add(zS("i")),i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class Bb{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new cH(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const i=e.currentTarget.value,r=this.parser_(i);sn(r)||(this.value.rawValue=r),this.view.refresh()}}function uH(t){return String(t)}function dT(t){return t==="false"?!1:!!t}function HS(t){return uH(t)}function dH(t){return e=>t.reduce((n,i)=>n!==null?n:i(e),null)}const hH=Li(0);function Rf(t){return hH(t)+"%"}function hT(t){return String(t)}function ny(t){return t}function pc({primary:t,secondary:e,forward:n,backward:i}){let r=!1;function s(a){r||(r=!0,a(),r=!1)}t.emitter.on("change",a=>{s(()=>{e.setRawValue(n(t.rawValue,e.rawValue),a.options)})}),e.emitter.on("change",a=>{s(()=>{t.setRawValue(i(t.rawValue,e.rawValue),a.options)}),s(()=>{e.setRawValue(n(t.rawValue,e.rawValue),a.options)})}),s(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function Ci(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function Ou(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function As(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function fH(t){return t==="ArrowUp"||t==="ArrowDown"}function fT(t){return fH(t)||t==="ArrowLeft"||t==="ArrowRight"}function gv(t,e){var n,i;const r=e.ownerDocument.defaultView,s=e.getBoundingClientRect();return{x:t.pageX-(((n=r&&r.scrollX)!==null&&n!==void 0?n:0)+s.left),y:t.pageY-(((i=r&&r.scrollY)!==null&&i!==void 0?i:0)+s.top)}}class Fo{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new ji,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const i=this.elem_.ownerDocument;i.addEventListener("mousemove",this.onDocumentMouseMove_),i.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(gv(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(gv(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(gv(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-i.left,y:n.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-i.left,y:n.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const i=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,r=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(i?{x:i.clientX-r.left,y:i.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const Qi=Nt("txt");class pH{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Qi(),Qi(void 0,"num")),n.arrayPosition&&this.element.classList.add(Qi(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("input");i.classList.add(Qi("i")),i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Qi()),this.inputElement.classList.add(Qi("i"));const r=e.createElement("div");r.classList.add(Qi("k")),this.element.appendChild(r),this.knobElement=r;const s=e.createElementNS(Or,"svg");s.classList.add(Qi("g")),this.knobElement.appendChild(s);const a=e.createElementNS(Or,"path");a.classList.add(Qi("gb")),s.appendChild(a),this.guideBodyElem_=a;const o=e.createElementNS(Or,"path");o.classList.add(Qi("gh")),s.appendChild(o),this.guideHeadElem_=o;const l=e.createElement("div");l.classList.add(Nt("tt")()),this.knobElement.appendChild(l),this.tooltipElem_=l,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(Qi(void 0,"drg"));return}this.element.classList.add(Qi(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),i=n+(n>0?-1:n<0?1:0),r=Pn(-i,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${i+r},0 L${i},4 L${i+r},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const s=this.props_.get("formatter");this.tooltipElem_.textContent=s(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class dd{constructor(e,n){var i;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(i=n.sliderProps)!==null&&i!==void 0?i:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=Hn(null),this.view=new pH(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const r=new Fo(this.view.knobElement);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,i;const r=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),s=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("max");let a=e;return r!==void 0&&(a=Math.max(a,r)),s!==void 0&&(a=Math.min(a,s)),a}onInputChange_(e){const i=e.currentTarget.value,r=this.parser_(i);sn(r)||(this.value.rawValue=this.constrainValue_(r)),this.view.refresh()}onInputKeyDown_(e){const n=Ci(this.props.get("keyScale"),Ou(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){Ci(this.props.get("keyScale"),Ou(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const yv=Nt("sld");class mH{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(yv()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(yv("t")),n.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;const r=e.createElement("div");r.classList.add(yv("k")),this.trackElement.appendChild(r),this.knobElement=r,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=Pn(Ft(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class vH{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new mH(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Fo(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(Ft(Pn(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ci(this.props.get("keyScale"),As(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){Ci(this.props.get("keyScale"),As(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const bv=Nt("sldtxt");class gH{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(bv());const i=e.createElement("div");i.classList.add(bv("s")),this.sliderView_=n.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(bv("t")),this.textView_=n.textView,r.appendChild(this.textView_.element),this.element.appendChild(r)}}class GS{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new vH(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new dd(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new gH(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return ts(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const i=this.sliderC_.props;return i.set("max",n.max),i.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return ns(null,{max:e.get("max"),min:e.get("min")})}}function yH(t){return{sliderProps:new Vt({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new Vt({formatter:Hn(t.formatter),keyScale:t.keyScale,pointerScale:Hn(t.pointerScale)})}}const bH={containerUnitSize:"cnt-usz"};function pT(t){return`--${bH[t]}`}function Vu(t){return eT(t)}function ia(t){if(Jg(t))return si(t,Vu)}function bs(t,e){if(!t)return;const n=[],i=ZA(t,e);i&&n.push(i);const r=JA(t);return r&&n.push(r),new ud(n)}function mT(t){if(t==="inline"||t==="popup")return t}function hd(t,e){t.write(e)}const Ih=Nt("ckb");class _H{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ih()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("label");i.classList.add(Ih("l")),this.element.appendChild(i);const r=e.createElement("input");r.classList.add(Ih("i")),r.type="checkbox",i.appendChild(r),this.inputElement=r,n.viewProps.bindDisabled(this.inputElement);const s=e.createElement("div");s.classList.add(Ih("w")),i.appendChild(s);const a=Vp(e,"check");s.appendChild(a),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class xH{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new _H(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked}}function wH(t){const e=[],n=Fb(t.options);return n&&e.push(n),new ud(e)}pi({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=si(e,i=>({options:i.optional.custom(Fp),readonly:i.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>dT,constraint:t=>wH(t.params),writer:t=>hd},controller:t=>{const e=t.document,n=t.value,i=t.constraint,r=i&&Pf(i,Np);return r?new Yl(e,{props:new Vt({options:r.values.value("options")}),value:n,viewProps:t.viewProps}):new xH(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof Yl?new Nb(t.controller):null}});const Ha=Nt("col");class SH{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Ha()),n.foldable.bindExpandedClass(this.element,Ha(void 0,"expanded")),jr(n.foldable,"completed",fc(this.element,Ha(void 0,"cpl")));const i=e.createElement("div");i.classList.add(Ha("h")),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(Ha("s")),i.appendChild(r),this.swatchElement=r;const s=e.createElement("div");if(s.classList.add(Ha("t")),i.appendChild(s),this.textElement=s,n.pickerLayout==="inline"){const a=e.createElement("div");a.classList.add(Ha("p")),this.element.appendChild(a),this.pickerElement=a}else this.pickerElement=null}}function MH(t,e,n){const i=Pn(t/255,0,1),r=Pn(e/255,0,1),s=Pn(n/255,0,1),a=Math.max(i,r,s),o=Math.min(i,r,s),l=a-o;let c=0,u=0;const d=(o+a)/2;return l!==0&&(u=l/(1-Math.abs(a+o-1)),i===a?c=(r-s)/l:r===a?c=2+(s-i)/l:c=4+(i-r)/l,c=c/6+(c<0?1:0)),[c*360,u*100,d*100]}function EH(t,e,n){const i=(t%360+360)%360,r=Pn(e/100,0,1),s=Pn(n/100,0,1),a=(1-Math.abs(2*s-1))*r,o=a*(1-Math.abs(i/60%2-1)),l=s-a/2;let c,u,d;return i>=0&&i<60?[c,u,d]=[a,o,0]:i>=60&&i<120?[c,u,d]=[o,a,0]:i>=120&&i<180?[c,u,d]=[0,a,o]:i>=180&&i<240?[c,u,d]=[0,o,a]:i>=240&&i<300?[c,u,d]=[o,0,a]:[c,u,d]=[a,0,o],[(c+l)*255,(u+l)*255,(d+l)*255]}function CH(t,e,n){const i=Pn(t/255,0,1),r=Pn(e/255,0,1),s=Pn(n/255,0,1),a=Math.max(i,r,s),o=Math.min(i,r,s),l=a-o;let c;l===0?c=0:a===i?c=60*(((r-s)/l%6+6)%6):a===r?c=60*((s-i)/l+2):c=60*((i-r)/l+4);const u=a===0?0:l/a,d=a;return[c,u*100,d*100]}function vT(t,e,n){const i=YA(t,360),r=Pn(e/100,0,1),s=Pn(n/100,0,1),a=s*r,o=a*(1-Math.abs(i/60%2-1)),l=s-a;let c,u,d;return i>=0&&i<60?[c,u,d]=[a,o,0]:i>=60&&i<120?[c,u,d]=[o,a,0]:i>=120&&i<180?[c,u,d]=[0,a,o]:i>=180&&i<240?[c,u,d]=[0,o,a]:i>=240&&i<300?[c,u,d]=[o,0,a]:[c,u,d]=[a,0,o],[(c+l)*255,(u+l)*255,(d+l)*255]}function AH(t,e,n){const i=n+e*(100-Math.abs(2*n-100))/200;return[t,i!==0?e*(100-Math.abs(2*n-100))/i:0,n+e*(100-Math.abs(2*n-100))/(2*100)]}function TH(t,e,n){const i=100-Math.abs(n*(200-e)/100-100);return[t,i!==0?e*n/i:0,n*(200-e)/(2*100)]}function Xr(t){return[t[0],t[1],t[2]]}function Bp(t,e){return[t[0],t[1],t[2],e]}const PH={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:AH,rgb:EH},hsv:{hsl:TH,hsv:(t,e,n)=>[t,e,n],rgb:vT},rgb:{hsl:MH,hsv:CH,rgb:(t,e,n)=>[t,e,n]}};function Kl(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function RH(t,e){return t===e?e:YA(t,e)}function gT(t,e,n){var i;const r=Kl(e,n);return[e==="rgb"?Pn(t[0],0,r[0]):RH(t[0],r[0]),Pn(t[1],0,r[1]),Pn(t[2],0,r[2]),Pn((i=t[3])!==null&&i!==void 0?i:1,0,1)]}function WS(t,e,n,i){const r=Kl(e,n),s=Kl(e,i);return t.map((a,o)=>a/r[o]*s[o])}function yT(t,e,n){const i=WS(t,e.mode,e.type,"int"),r=PH[e.mode][n.mode](...i);return WS(r,n.mode,"int",n.type)}class Dt{static black(){return new Dt([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=gT(e,n,this.type)}getComponents(e){return Bp(yT(Xr(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const Xs=Nt("colp");class LH{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Xs()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(Xs("hsv"));const r=e.createElement("div");r.classList.add(Xs("sv")),this.svPaletteView_=n.svPaletteView,r.appendChild(this.svPaletteView_.element),i.appendChild(r);const s=e.createElement("div");s.classList.add(Xs("h")),this.hPaletteView_=n.hPaletteView,s.appendChild(this.hPaletteView_.element),i.appendChild(s),this.element.appendChild(i);const a=e.createElement("div");if(a.classList.add(Xs("rgb")),this.textsView_=n.textsView,a.appendChild(this.textsView_.element),this.element.appendChild(a),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const o=e.createElement("div");o.classList.add(Xs("a"));const l=e.createElement("div");l.classList.add(Xs("ap")),l.appendChild(this.alphaViews_.palette.element),o.appendChild(l);const c=e.createElement("div");c.classList.add(Xs("at")),c.appendChild(this.alphaViews_.text.element),o.appendChild(c),this.element.appendChild(o)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function IH(t){return t==="int"?"int":t==="float"?"float":void 0}function Ub(t){return si(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(IH)}),expanded:e.optional.boolean,picker:e.optional.custom(mT),readonly:e.optional.constant(!1)}))}function Mo(t){return t?.1:1}function bT(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}class zb{constructor(e,n){this.type="float",this.mode=n,this.comps_=gT(e,n,this.type)}getComponents(e){return Bp(yT(Xr(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const kH={int:(t,e)=>new Dt(t,e),float:(t,e)=>new zb(t,e)};function Hb(t,e,n){return kH[n](t,e)}function DH(t){return t.type==="float"}function OH(t){return t.type==="int"}function VH(t){const e=t.getComponents(),n=Kl(t.mode,"int");return new Dt([Math.round(Ft(e[0],0,1,0,n[0])),Math.round(Ft(e[1],0,1,0,n[1])),Math.round(Ft(e[2],0,1,0,n[2])),e[3]],t.mode)}function NH(t){const e=t.getComponents(),n=Kl(t.mode,"int");return new zb([Ft(e[0],0,n[0],0,1),Ft(e[1],0,n[1],0,1),Ft(e[2],0,n[2],0,1),e[3]],t.mode)}function fi(t,e){if(t.type===e)return t;if(OH(t)&&e==="float")return NH(t);if(DH(t)&&e==="int")return VH(t);throw Bi.shouldNeverHappen()}function FH(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function ar(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const BH={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function _T(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),i=e[2];return BH[i](n)}function xT(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[ar(e[1],255),ar(e[2],255),ar(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function UH(t){const e=xT(t);return e?new Dt(e,"rgb"):null}function wT(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[ar(e[1],255),ar(e[2],255),ar(e[3],255),ar(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function zH(t){const e=wT(t);return e?new Dt(e,"rgb"):null}function ST(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[_T(e[1]),ar(e[2],100),ar(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function HH(t){const e=ST(t);return e?new Dt(e,"hsl"):null}function MT(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[_T(e[1]),ar(e[2],100),ar(e[3],100),ar(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function GH(t){const e=MT(t);return e?new Dt(e,"hsl"):null}function ET(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function WH(t){const e=ET(t);return e?new Dt(e,"rgb"):null}function CT(t){const e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Ft(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),Ft(parseInt(n[4],16),0,255,0,1)]:null}function $H(t){const e=CT(t);return e?new Dt(e,"rgb"):null}function AT(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function $S(t){return e=>{const n=AT(e);return n?Hb(n,"rgb",t):null}}function TT(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function jS(t){return e=>{const n=TT(e);return n?Hb(n,"rgb",t):null}}const jH=[{parser:ET,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:CT,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:xT,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:wT,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:ST,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:MT,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:AT,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:TT,result:{alpha:!0,mode:"rgb",notation:"object"}}];function XH(t){return jH.reduce((e,{parser:n,result:i})=>e||(n(t)?i:null),null)}function qH(t,e="int"){const n=XH(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function fd(t){const e=[WH,$H,UH,zH,HH,GH];t==="int"&&e.push($S("int"),jS("int")),t==="float"&&e.push($S("float"),jS("float"));const n=dH(e);return i=>{const r=n(i);return r?fi(r,t):null}}function YH(t){const e=fd("int");if(typeof t!="string")return Dt.black();const n=e(t);return n??Dt.black()}function PT(t){const e=Pn(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function Gb(t,e="#"){const n=Xr(t.getComponents("rgb")).map(PT).join("");return`${e}${n}`}function Wb(t,e="#"){const n=t.getComponents("rgb"),i=[n[0],n[1],n[2],n[3]*255].map(PT).join("");return`${e}${i}`}function RT(t){const e=Li(0),n=fi(t,"int");return`rgb(${Xr(n.getComponents("rgb")).map(r=>e(r)).join(", ")})`}function sf(t){const e=Li(2),n=Li(0);return`rgba(${fi(t,"int").getComponents("rgb").map((s,a)=>(a===3?e:n)(s)).join(", ")})`}function KH(t){const e=[Li(0),Rf,Rf],n=fi(t,"int");return`hsl(${Xr(n.getComponents("hsl")).map((r,s)=>e[s](r)).join(", ")})`}function ZH(t){const e=[Li(0),Rf,Rf,Li(2)];return`hsla(${fi(t,"int").getComponents("hsl").map((r,s)=>e[s](r)).join(", ")})`}function LT(t,e){const n=Li(e==="float"?2:0),i=["r","g","b"],r=fi(t,e);return`{${Xr(r.getComponents("rgb")).map((a,o)=>`${i[o]}: ${n(a)}`).join(", ")}}`}function JH(t){return e=>LT(e,t)}function IT(t,e){const n=Li(2),i=Li(e==="float"?2:0),r=["r","g","b","a"];return`{${fi(t,e).getComponents("rgb").map((o,l)=>{const c=l===3?n:i;return`${r[l]}: ${c(o)}`}).join(", ")}}`}function QH(t){return e=>IT(e,t)}const e5=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Gb},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Wb},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:RT},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:sf},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:KH},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:ZH},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:JH(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:QH(e)}],[])];function kT(t){return e5.reduce((e,n)=>e||(FH(n.format,t)?n.stringifier:null),null)}const Bc=Nt("apl");class t5{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Bc()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("div");i.classList.add(Bc("b")),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(Bc("c")),i.appendChild(r),this.colorElem_=r;const s=e.createElement("div");s.classList.add(Bc("m")),this.element.appendChild(s),this.markerElem_=s;const a=e.createElement("div");a.classList.add(Bc("p")),this.markerElem_.appendChild(a),this.previewElem_=a,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),i=new Dt([n[0],n[1],n[2],0],"rgb"),r=new Dt([n[0],n[1],n[2],255],"rgb"),s=["to right",sf(i),sf(r)];this.colorElem_.style.background=`linear-gradient(${s.join(",")})`,this.previewElem_.style.backgroundColor=sf(e);const a=Ft(n[3],0,1,0,100);this.markerElem_.style.left=`${a}%`}onValueChange_(){this.update_()}}class n5{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new t5(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Fo(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=e.point.x/e.bounds.width,r=this.value.rawValue,[s,a,o]=r.getComponents("hsv");this.value.setRawValue(new Dt([s,a,o,i],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ci(Mo(!0),As(e));if(n===0)return;const i=this.value.rawValue,[r,s,a,o]=i.getComponents("hsv");this.value.setRawValue(new Dt([r,s,a,o+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ci(Mo(!0),As(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const fl=Nt("coltxt");function i5(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((i,r)=>{const s=t.createElement("option");return s.textContent=r.text,s.value=r.value,i.appendChild(s),i},t.createDocumentFragment())),e}class r5{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(fl()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(fl("m")),this.modeElem_=i5(e),this.modeElem_.classList.add(fl("ms")),i.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const r=e.createElement("div");r.classList.add(fl("mm")),r.appendChild(Vp(e,"dropdown")),i.appendChild(r),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(fl("w")),this.element.appendChild(s),this.inputsElem_=s,this.inputViews_=n.inputViews,this.applyInputViews_(),Ss(n.mode,a=>{this.modeElem_.value=a})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){iT(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const i=e.createElement("div");i.classList.add(fl("c")),i.appendChild(n.element),this.inputsElem_.appendChild(i)})}}function s5(t){return Li(t==="float"?2:0)}function a5(t,e,n){const i=Kl(t,e)[n];return new Dp({min:0,max:i})}function o5(t,e,n){return new dd(t,{arrayPosition:n===0?"fst":n===3-1?"lst":"mid",parser:e.parser,props:Vt.fromObject({formatter:s5(e.colorType),keyScale:Mo(!1),pointerScale:e.colorType==="float"?.01:1}),value:Hn(0,{constraint:a5(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function l5(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:ga,viewProps:e.viewProps};return[0,1,2].map(i=>{const r=o5(t,n,i);return pc({primary:e.value,secondary:r.value,forward(s){return fi(s,e.colorType).getComponents(e.colorMode)[i]},backward(s,a){const o=e.colorMode,c=fi(s,e.colorType).getComponents(o);c[i]=a;const u=Hb(Bp(Xr(c),c[3]),o,e.colorType);return fi(u,"int")}}),r})}function c5(t,e){const n=new Bb(t,{parser:fd("int"),props:Vt.fromObject({formatter:Gb}),value:Hn(Dt.black()),viewProps:e.viewProps});return pc({primary:e.value,secondary:n.value,forward:i=>new Dt(Xr(i.getComponents()),i.mode),backward:(i,r)=>new Dt(Bp(Xr(r.getComponents(i.mode)),i.getComponents()[3]),i.mode)}),[n]}function u5(t){return t!=="hex"}class d5{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=Hn(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new r5(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return u5(n)?l5(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):c5(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(i=>i.view)}}const _v=Nt("hpl");class h5{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(_v()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("div");i.classList.add(_v("c")),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(_v("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=RT(new Dt([n,100,100],"hsv"));const i=Ft(n,0,360,0,100);this.markerElem_.style.left=`${i}%`}onValueChange_(){this.update_()}}class f5{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new h5(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Fo(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=Ft(Pn(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),r=this.value.rawValue,[,s,a,o]=r.getComponents("hsv");this.value.setRawValue(new Dt([i,s,a,o],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ci(Mo(!1),As(e));if(n===0)return;const i=this.value.rawValue,[r,s,a,o]=i.getComponents("hsv");this.value.setRawValue(new Dt([r+n,s,a,o],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ci(Mo(!1),As(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const xv=Nt("svp"),XS=64;class p5{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(xv()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const i=e.createElement("canvas");i.height=XS,i.width=XS,i.classList.add(xv("c")),this.element.appendChild(i),this.canvasElement=i;const r=e.createElement("div");r.classList.add(xv("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}update_(){const e=A4(this.canvasElement);if(!e)return;const i=this.value.rawValue.getComponents("hsv"),r=this.canvasElement.width,s=this.canvasElement.height,a=e.getImageData(0,0,r,s),o=a.data;for(let u=0;u<s;u++)for(let d=0;d<r;d++){const h=Ft(d,0,r,0,100),f=Ft(u,0,s,100,0),p=vT(i[0],h,f),g=(u*r+d)*4;o[g]=p[0],o[g+1]=p[1],o[g+2]=p[2],o[g+3]=255}e.putImageData(a,0,0);const l=Ft(i[1],0,100,0,100);this.markerElem_.style.left=`${l}%`;const c=Ft(i[2],0,100,100,0);this.markerElem_.style.top=`${c}%`}onValueChange_(){this.update_()}}class m5{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new p5(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Fo(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=Ft(e.point.x,0,e.bounds.width,0,100),r=Ft(e.point.y,0,e.bounds.height,100,0),[s,,,a]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Dt([s,i,r,a],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){fT(e.key)&&e.preventDefault();const[n,i,r,s]=this.value.rawValue.getComponents("hsv"),a=Mo(!1),o=Ci(a,As(e)),l=Ci(a,Ou(e));o===0&&l===0||this.value.setRawValue(new Dt([n,i+o,r+l,s],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=Mo(!1),i=Ci(n,As(e)),r=Ci(n,Ou(e));i===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class v5{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new f5(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new m5(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new n5(e,{value:this.value,viewProps:this.viewProps}),text:new dd(e,{parser:ga,props:Vt.fromObject({pointerScale:.01,keyScale:.1,formatter:Li(2)}),value:Hn(0,{constraint:new Dp({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&pc({primary:this.value,secondary:this.alphaIcs_.text.value,forward:i=>i.getComponents()[3],backward:(i,r)=>{const s=i.getComponents();return s[3]=r,new Dt(s,i.mode)}}),this.textsC_=new d5(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new LH(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const wv=Nt("colsw");class g5{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(wv()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(wv("sw")),this.element.appendChild(i),this.swatchElem_=i;const r=e.createElement("button");r.classList.add(wv("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=Wb(e)}onValueChange_(){this.update_()}}class y5{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new g5(e,{value:this.value,viewProps:this.viewProps})}}class $b{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=ld.create(n.expanded),this.swatchC_=new y5(e,{value:this.value,viewProps:this.viewProps});const i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new Bb(e,{parser:n.parser,props:Vt.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new SH(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new uT(e,{viewProps:this.viewProps}):null;const r=new v5(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});r.view.allFocusableElements.forEach(s=>{s.addEventListener("blur",this.onPopupChildBlur_),s.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=r,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(r.view.element),pc({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:s=>s,backward:(s,a)=>a})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Vb(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,i=e.relatedTarget;(!i||!n.contains(i))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,i=rT(e);i&&n.contains(i)||i&&i===this.swatchC_.view.buttonElement&&!Rb(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function b5(t){return Xr(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function _5(t){return t.getComponents("rgb").reduce((e,n,i)=>{const r=Math.floor(i===3?n*255:n)&255;return e<<8|r},0)>>>0}function x5(t){return new Dt([t>>16&255,t>>8&255,t&255],"rgb")}function w5(t){return new Dt([t>>24&255,t>>16&255,t>>8&255,Ft(t&255,0,255,0,1)],"rgb")}function S5(t){return typeof t!="number"?Dt.black():x5(t)}function M5(t){return typeof t!="number"?Dt.black():w5(t)}function af(t,e){return typeof t!="object"||sn(t)?!1:e in t&&typeof t[e]=="number"}function DT(t){return af(t,"r")&&af(t,"g")&&af(t,"b")}function OT(t){return DT(t)&&af(t,"a")}function VT(t){return DT(t)}function jb(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),i=e.getComponents();for(let r=0;r<n.length;r++)if(n[r]!==i[r])return!1;return!0}function qS(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function E5(t){const e=kT(t);return e?(n,i)=>{hd(n,e(i))}:null}function C5(t){const e=t?_5:b5;return(n,i)=>{hd(n,e(i))}}function A5(t,e,n){const r=fi(e,n).toRgbaObject();t.writeProperty("r",r.r),t.writeProperty("g",r.g),t.writeProperty("b",r.b),t.writeProperty("a",r.a)}function T5(t,e,n){const r=fi(e,n).toRgbaObject();t.writeProperty("r",r.r),t.writeProperty("g",r.g),t.writeProperty("b",r.b)}function P5(t,e){return(n,i)=>{t?A5(n,i,e):T5(n,i,e)}}function R5(t){var e;return!!(!((e=t==null?void 0:t.color)===null||e===void 0)&&e.alpha)}function L5(t){return t?e=>Wb(e,"0x"):e=>Gb(e,"0x")}function I5(t){return"color"in t||t.view==="color"}pi({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!I5(e))return null;const n=Ub(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:R5(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?M5:S5,equals:jb,writer:t=>C5(t.params.supportsAlpha)},controller:t=>{var e,n;return new $b(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:L5(t.params.supportsAlpha),parser:fd("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function k5(t,e){if(!VT(t))return fi(Dt.black(),e);if(e==="int"){const n=qS(t);return new Dt(n,"rgb")}if(e==="float"){const n=qS(t);return new zb(n,"rgb")}return fi(Dt.black(),"int")}function D5(t){return OT(t)}function O5(t){return e=>{const n=k5(e,t);return fi(n,"int")}}function V5(t,e){return n=>t?IT(n,e):LT(n,e)}pi({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!VT(t))return null;const i=Ub(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{colorType:(n=bT(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>O5(t.params.colorType),equals:jb,writer:t=>P5(D5(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const i=OT(t.initialValue);return new $b(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:V5(i,t.params.colorType),parser:fd("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:i,value:t.value,viewProps:t.viewProps})}});pi({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=qH(t,bT(e));if(!n)return null;const i=kT(n);if(!i)return null;const r=Ub(e);return r?{initialValue:t,params:Object.assign(Object.assign({},r),{format:n,stringifier:i})}:null},binding:{reader:()=>YH,equals:jb,writer:t=>{const e=E5(t.params.format);if(!e)throw Bi.notBindable();return e}},controller:t=>{var e,n;return new $b(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:fd("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});class Xb{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((i,r)=>{var s,a;return(a=(s=this.components[r])===null||s===void 0?void 0:s.constrain(i))!==null&&a!==void 0?a:i});return this.asm_.fromComponents(n)}}const YS=Nt("pndtxt");class N5{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(YS()),this.textViews.forEach(i=>{const r=e.createElement("div");r.classList.add(YS("a")),r.appendChild(i.element),this.element.appendChild(r)})}}function F5(t,e,n){return new dd(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:Hn(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}class qb{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((i,r)=>F5(e,n,r)),this.acs_.forEach((i,r)=>{pc({primary:this.value,secondary:i.value,forward:s=>n.assembly.toComponents(s)[r],backward:(s,a)=>{const o=n.assembly.toComponents(s);return o[r]=a,n.assembly.fromComponents(o)}})}),this.view=new N5(e,{textViews:this.acs_.map(i=>i.view)})}get textControllers(){return this.acs_}}class B5 extends Pb{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}function U5(t,e){const n=[],i=ZA(t,e);i&&n.push(i);const r=JA(t);r&&n.push(r);const s=Fb(t.options);return s&&n.push(s),new ud(n)}pi({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=si(e,i=>Object.assign(Object.assign({},eT(i)),{options:i.optional.custom(Fp),readonly:i.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>qA,constraint:t=>U5(t.params,t.initialValue),writer:t=>hd},controller:t=>{const e=t.value,n=t.constraint,i=n&&Pf(n,Np);if(i)return new Yl(t.document,{props:new Vt({options:i.values.value("options")}),value:e,viewProps:t.viewProps});const r=QA(t.params,e.rawValue),s=n&&Pf(n,Dp);return s?new GS(t.document,Object.assign(Object.assign({},yH(Object.assign(Object.assign({},r),{keyScale:Hn(r.keyScale),max:s.values.value("max"),min:s.values.value("min")}))),{parser:ga,value:e,viewProps:t.viewProps})):new dd(t.document,{parser:ga,props:Vt.fromObject(r),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof GS?new B5(t.controller):t.controller.valueController instanceof Yl?new Nb(t.controller):null}});class da{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(sn(e))return!1;const n=e.x,i=e.y;return!(typeof n!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}}const NT={toComponents:t=>t.getComponents(),fromComponents:t=>new da(...t)},pl=Nt("p2d");class z5{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(pl()),n.viewProps.bindClassModifiers(this.element),Ss(n.expanded,fc(this.element,pl(void 0,"expanded")));const i=e.createElement("div");i.classList.add(pl("h")),this.element.appendChild(i);const r=e.createElement("button");r.classList.add(pl("b")),r.appendChild(Vp(e,"p2dpad")),n.viewProps.bindDisabled(r),i.appendChild(r),this.buttonElement=r;const s=e.createElement("div");if(s.classList.add(pl("t")),i.appendChild(s),this.textElement=s,n.pickerLayout==="inline"){const a=e.createElement("div");a.classList.add(pl("p")),this.element.appendChild(a),this.pickerElement=a}else this.pickerElement=null}}const qs=Nt("p2dp");class H5{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(qs()),n.layout==="popup"&&this.element.classList.add(qs(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(qs("p")),n.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;const r=e.createElementNS(Or,"svg");r.classList.add(qs("g")),this.padElement.appendChild(r),this.svgElem_=r;const s=e.createElementNS(Or,"line");s.classList.add(qs("ax")),s.setAttributeNS(null,"x1","0"),s.setAttributeNS(null,"y1","50%"),s.setAttributeNS(null,"x2","100%"),s.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(s);const a=e.createElementNS(Or,"line");a.classList.add(qs("ax")),a.setAttributeNS(null,"x1","50%"),a.setAttributeNS(null,"y1","0"),a.setAttributeNS(null,"x2","50%"),a.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(a);const o=e.createElementNS(Or,"line");o.classList.add(qs("l")),o.setAttributeNS(null,"x1","50%"),o.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(o),this.lineElem_=o;const l=e.createElement("div");l.classList.add(qs("m")),this.padElement.appendChild(l),this.markerElem_=l,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),i=this.props_.get("max"),r=Ft(e,-i,+i,0,100),s=Ft(n,-i,+i,0,100),a=this.props_.get("invertsY")?100-s:s;this.lineElem_.setAttributeNS(null,"x2",`${r}%`),this.lineElem_.setAttributeNS(null,"y2",`${a}%`),this.markerElem_.style.left=`${r}%`,this.markerElem_.style.top=`${a}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function KS(t,e,n){return[Ci(e[0],As(t)),Ci(e[1],Ou(t))*(n?1:-1)]}class G5{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new H5(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Fo(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const i=this.props.get("max"),r=Ft(e.point.x,0,e.bounds.width,-i,+i),s=Ft(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-i,+i);this.value.setRawValue(new da(r,s),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){fT(e.key)&&e.preventDefault();const[n,i]=KS(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&i===0||this.value.setRawValue(new da(this.value.rawValue.x+n,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,i]=KS(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class W5{constructor(e,n){var i,r;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=ld.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new uT(e,{viewProps:this.viewProps}):null;const s=new G5(e,{layout:n.pickerLayout,props:new Vt({invertsY:Hn(n.invertsY),max:Hn(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});s.view.allFocusableElements.forEach(a=>{a.addEventListener("blur",this.onPopupChildBlur_),a.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=s,this.textC_=new qb(e,{assembly:NT,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new z5(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("blur",this.onPadButtonBlur_),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),pc({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:a=>a,backward:(a,o)=>o})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Vb(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,i=e.relatedTarget;(!i||!n.contains(i))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,i=rT(e);i&&n.contains(i)||i&&i===this.view.buttonElement&&!Rb(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}function $5(t){return da.isObject(t)?new da(t.x,t.y):new da}function j5(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function X5(t,e){return new Xb({assembly:NT,components:[bs(Object.assign(Object.assign({},t),t.x),e.x),bs(Object.assign(Object.assign({},t),t.y),e.y)]})}function ZS(t,e){var n,i;if(!sn(t.min)||!sn(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((i=t.max)!==null&&i!==void 0?i:0));const r=KA(t);return Math.max(Math.abs(r)*10,Math.abs(e)*10)}function q5(t,e){var n,i;const r=ZS(So(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),s=ZS(So(t,(i=t.y)!==null&&i!==void 0?i:{}),e.y);return Math.max(r,s)}function Y5(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}pi({id:"input-point2d",type:"input",accept:(t,e)=>{if(!da.isObject(t))return null;const n=si(e,i=>Object.assign(Object.assign({},Vu(i)),{expanded:i.optional.boolean,picker:i.optional.custom(mT),readonly:i.optional.constant(!1),x:i.optional.custom(ia),y:i.optional.object(Object.assign(Object.assign({},Vu(i)),{inverted:i.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>$5,constraint:t=>X5(t.params,t.initialValue),equals:da.equals,writer:()=>j5},controller:t=>{var e,n;const i=t.document,r=t.value,s=t.constraint,a=[t.params.x,t.params.y];return new W5(i,{axes:r.rawValue.getComponents().map((o,l)=>{var c;return Ab({constraint:s.components[l],initialValue:o,params:So(t.params,(c=a[l])!==null&&c!==void 0?c:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:Y5(t.params),max:q5(t.params,r.rawValue),parser:ga,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:r,viewProps:t.viewProps})}});class kl{constructor(e=0,n=0,i=0){this.x=e,this.y=n,this.z=i}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(sn(e))return!1;const n=e.x,i=e.y,r=e.z;return!(typeof n!="number"||typeof i!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const FT={toComponents:t=>t.getComponents(),fromComponents:t=>new kl(...t)};function K5(t){return kl.isObject(t)?new kl(t.x,t.y,t.z):new kl}function Z5(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function J5(t,e){return new Xb({assembly:FT,components:[bs(Object.assign(Object.assign({},t),t.x),e.x),bs(Object.assign(Object.assign({},t),t.y),e.y),bs(Object.assign(Object.assign({},t),t.z),e.z)]})}pi({id:"input-point3d",type:"input",accept:(t,e)=>{if(!kl.isObject(t))return null;const n=si(e,i=>Object.assign(Object.assign({},Vu(i)),{readonly:i.optional.constant(!1),x:i.optional.custom(ia),y:i.optional.custom(ia),z:i.optional.custom(ia)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>K5,constraint:t=>J5(t.params,t.initialValue),equals:kl.equals,writer:t=>Z5},controller:t=>{const e=t.value,n=t.constraint,i=[t.params.x,t.params.y,t.params.z];return new qb(t.document,{assembly:FT,axes:e.rawValue.getComponents().map((r,s)=>{var a;return Ab({constraint:n.components[s],initialValue:r,params:So(t.params,(a=i[s])!==null&&a!==void 0?a:{})})}),parser:ga,value:e,viewProps:t.viewProps})}});class Dl{constructor(e=0,n=0,i=0,r=0){this.x=e,this.y=n,this.z=i,this.w=r}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(sn(e))return!1;const n=e.x,i=e.y,r=e.z,s=e.w;return!(typeof n!="number"||typeof i!="number"||typeof r!="number"||typeof s!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const BT={toComponents:t=>t.getComponents(),fromComponents:t=>new Dl(...t)};function Q5(t){return Dl.isObject(t)?new Dl(t.x,t.y,t.z,t.w):new Dl}function eG(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function tG(t,e){return new Xb({assembly:BT,components:[bs(Object.assign(Object.assign({},t),t.x),e.x),bs(Object.assign(Object.assign({},t),t.y),e.y),bs(Object.assign(Object.assign({},t),t.z),e.z),bs(Object.assign(Object.assign({},t),t.w),e.w)]})}pi({id:"input-point4d",type:"input",accept:(t,e)=>{if(!Dl.isObject(t))return null;const n=si(e,i=>Object.assign(Object.assign({},Vu(i)),{readonly:i.optional.constant(!1),w:i.optional.custom(ia),x:i.optional.custom(ia),y:i.optional.custom(ia),z:i.optional.custom(ia)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Q5,constraint:t=>tG(t.params,t.initialValue),equals:Dl.equals,writer:t=>eG},controller:t=>{const e=t.value,n=t.constraint,i=[t.params.x,t.params.y,t.params.z,t.params.w];return new qb(t.document,{assembly:BT,axes:e.rawValue.getComponents().map((r,s)=>{var a;return Ab({constraint:n.components[s],initialValue:r,params:So(t.params,(a=i[s])!==null&&a!==void 0?a:{})})}),parser:ga,value:e,viewProps:t.viewProps})}});function nG(t){const e=[],n=Fb(t.options);return n&&e.push(n),new ud(e)}pi({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=si(e,i=>({readonly:i.optional.constant(!1),options:i.optional.custom(Fp)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>hT,constraint:t=>nG(t.params),writer:t=>hd},controller:t=>{const e=t.document,n=t.value,i=t.constraint,r=i&&Pf(i,Np);return r?new Yl(e,{props:new Vt({options:r.values.value("options")}),value:n,viewProps:t.viewProps}):new Bb(e,{parser:s=>s,props:Vt.fromObject({formatter:ny}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof Yl?new Nb(t.controller):null}});const Up={monitor:{defaultInterval:200,defaultRows:3}},JS=Nt("mll");class iG{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(JS()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("textarea");i.classList.add(JS("i")),i.style.height=`calc(var(${pT("containerUnitSize")}) * ${n.rows})`,i.readOnly=!0,n.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,i=[];this.value.rawValue.forEach(r=>{r!==void 0&&i.push(this.formatter_(r))}),e.textContent=i.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class Yb{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new iG(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}}const QS=Nt("sgl");class rG{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(QS()),n.viewProps.bindClassModifiers(this.element);const i=e.createElement("input");i.classList.add(QS("i")),i.readOnly=!0,i.type="text",n.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}}class Kb{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new rG(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}}pi({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=si(e,i=>({readonly:i.required.constant(!0),rows:i.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>dT},controller:t=>{var e;return t.value.rawValue.length===1?new Kb(t.document,{formatter:HS,value:t.value,viewProps:t.viewProps}):new Yb(t.document,{formatter:HS,rows:(e=t.params.rows)!==null&&e!==void 0?e:Up.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});class sG extends Pb{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const Ys=Nt("grl");class aG{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ys()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const i=e.createElementNS(Or,"svg");i.classList.add(Ys("g")),i.style.height=`calc(var(${pT("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(i),this.svgElem_=i;const r=e.createElementNS(Or,"polyline");this.svgElem_.appendChild(r),this.lineElem_=r;const s=e.createElement("div");s.classList.add(Ys("t"),Nt("tt")()),this.element.appendChild(s),this.tooltipElem_=s,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const e=this.svgElem_.getBoundingClientRect(),n=this.value.rawValue.length-1,i=this.props_.get("min"),r=this.props_.get("max"),s=[];this.value.rawValue.forEach((u,d)=>{if(u===void 0)return;const h=Ft(d,0,n,0,e.width),f=Ft(u,i,r,e.height,0);s.push([h,f].join(","))}),this.lineElem_.setAttributeNS(null,"points",s.join(" "));const a=this.tooltipElem_,o=this.value.rawValue[this.cursor_.rawValue];if(o===void 0){a.classList.remove(Ys("t","a"));return}const l=Ft(this.cursor_.rawValue,0,n,0,e.width),c=Ft(o,i,r,e.height,0);a.style.left=`${l}px`,a.style.top=`${c}px`,a.textContent=`${this.formatter_(o)}`,a.classList.contains(Ys("t","a"))||(a.classList.add(Ys("t","a"),Ys("t","in")),Tf(a),a.classList.remove(Ys("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class UT{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=Hn(-1),this.view=new aG(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!Rb(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const i=new Fo(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return ts(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return ns(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const n=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(Ft(e.offsetX,0,n.width,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Ft(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function iy(t){return sn(t.format)?Li(2):t.format}function oG(t){var e;return t.value.rawValue.length===1?new Kb(t.document,{formatter:iy(t.params),value:t.value,viewProps:t.viewProps}):new Yb(t.document,{formatter:iy(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:Up.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function lG(t){var e,n,i;return new UT(t.document,{formatter:iy(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:Up.monitor.defaultRows,props:Vt.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(i=t.params.min)!==null&&i!==void 0?i:0}),value:t.value,viewProps:t.viewProps})}function e1(t){return t.view==="graph"}pi({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=si(e,i=>({format:i.optional.function,max:i.optional.number,min:i.optional.number,readonly:i.required.constant(!0),rows:i.optional.number,view:i.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>e1(t)?64:1,reader:t=>qA},controller:t=>e1(t.params)?lG(t):oG(t),api:t=>t.controller.valueController instanceof UT?new sG(t.controller):null});pi({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=si(e,i=>({multiline:i.optional.boolean,readonly:i.required.constant(!0),rows:i.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>hT},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new Yb(t.document,{formatter:ny,rows:(e=t.params.rows)!==null&&e!==void 0?e:Up.monitor.defaultRows,value:n,viewProps:t.viewProps}):new Kb(t.document,{formatter:ny,value:n,viewProps:t.viewProps})}});new aT("4.0.1");function t1(t,e){if(e===_C)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===wf||e===B0){let n=t.getIndex();if(n===null){const a=[],o=t.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(n)if(e===wf)for(let a=1;a<=i;a++)r.push(n.getX(0)),r.push(n.getX(a)),r.push(n.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(r.push(n.getX(a)),r.push(n.getX(a+1)),r.push(n.getX(a+2))):(r.push(n.getX(a+2)),r.push(n.getX(a+1)),r.push(n.getX(a)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const cG=parseInt(ac.replace(/\D+/g,""));var pd=Uint8Array,zT=Uint16Array,uG=Uint32Array,dG=new pd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hG=new pd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),HT=function(t,e){for(var n=new zT(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new uG(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return[n,r]},GT=HT(dG,2),fG=GT[0],pG=GT[1];fG[28]=258,pG[258]=28;HT(hG,0);var mG=new zT(32768);for(var Kt=0;Kt<32768;++Kt){var Ks=(Kt&43690)>>>1|(Kt&21845)<<1;Ks=(Ks&52428)>>>2|(Ks&13107)<<2,Ks=(Ks&61680)>>>4|(Ks&3855)<<4,mG[Kt]=((Ks&65280)>>>8|(Ks&255)<<8)>>>1}var zp=new pd(288);for(var Kt=0;Kt<144;++Kt)zp[Kt]=8;for(var Kt=144;Kt<256;++Kt)zp[Kt]=9;for(var Kt=256;Kt<280;++Kt)zp[Kt]=7;for(var Kt=280;Kt<288;++Kt)zp[Kt]=8;var vG=new pd(32);for(var Kt=0;Kt<32;++Kt)vG[Kt]=5;var gG=new pd(0),yG=typeof TextDecoder<"u"&&new TextDecoder,bG=0;try{yG.decode(gG,{stream:!0}),bG=1}catch{}new Do(0,0,0,"YXZ");new G;var _G=Object.defineProperty,xG=(t,e,n)=>e in t?_G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rt=(t,e,n)=>(xG(t,typeof e!="symbol"?e+"":e,n),n);const kh=new ko,n1=new ms,wG=Math.cos(70*(Math.PI/180)),i1=(t,e)=>(t%e+e)%e;class SG extends Qr{constructor(e,n){super(),rt(this,"object"),rt(this,"domElement"),rt(this,"enabled",!0),rt(this,"target",new G),rt(this,"minDistance",0),rt(this,"maxDistance",1/0),rt(this,"minZoom",0),rt(this,"maxZoom",1/0),rt(this,"minPolarAngle",0),rt(this,"maxPolarAngle",Math.PI),rt(this,"minAzimuthAngle",-1/0),rt(this,"maxAzimuthAngle",1/0),rt(this,"enableDamping",!1),rt(this,"dampingFactor",.05),rt(this,"enableZoom",!0),rt(this,"zoomSpeed",1),rt(this,"enableRotate",!0),rt(this,"rotateSpeed",1),rt(this,"enablePan",!0),rt(this,"panSpeed",1),rt(this,"screenSpacePanning",!0),rt(this,"keyPanSpeed",7),rt(this,"zoomToCursor",!1),rt(this,"autoRotate",!1),rt(this,"autoRotateSpeed",2),rt(this,"reverseOrbit",!1),rt(this,"reverseHorizontalOrbit",!1),rt(this,"reverseVerticalOrbit",!1),rt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),rt(this,"mouseButtons",{LEFT:qa.ROTATE,MIDDLE:qa.DOLLY,RIGHT:qa.PAN}),rt(this,"touches",{ONE:ps.ROTATE,TWO:ps.DOLLY_PAN}),rt(this,"target0"),rt(this,"position0"),rt(this,"zoom0"),rt(this,"_domElementKeyEvents",null),rt(this,"getPolarAngle"),rt(this,"getAzimuthalAngle"),rt(this,"setPolarAngle"),rt(this,"setAzimuthalAngle"),rt(this,"getDistance"),rt(this,"listenToKeyEvents"),rt(this,"stopListenToKeyEvents"),rt(this,"saveState"),rt(this,"reset"),rt(this,"update"),rt(this,"connect"),rt(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Q=>{let _e=i1(Q,2*Math.PI),Ie=u.phi;Ie<0&&(Ie+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let De=Math.abs(_e-Ie);2*Math.PI-De<De&&(_e<Ie?_e+=2*Math.PI:Ie+=2*Math.PI),d.phi=_e-Ie,i.update()},this.setAzimuthalAngle=Q=>{let _e=i1(Q,2*Math.PI),Ie=u.theta;Ie<0&&(Ie+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let De=Math.abs(_e-Ie);2*Math.PI-De<De&&(_e<Ie?_e+=2*Math.PI:Ie+=2*Math.PI),d.theta=_e-Ie,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",Ce),this._domElementKeyEvents=Q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ce),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=o.NONE},this.update=(()=>{const Q=new G,_e=new G(0,1,0),Ie=new Un().setFromUnitVectors(e.up,_e),De=Ie.clone().invert(),et=new G,te=new Un,We=2*Math.PI;return function(){const Ne=i.object.position;Ie.setFromUnitVectors(e.up,_e),De.copy(Ie).invert(),Q.copy(Ne).sub(i.target),Q.applyQuaternion(Ie),u.setFromVector3(Q),i.autoRotate&&l===o.NONE&&k(R()),i.enableDamping?(u.theta+=d.theta*i.dampingFactor,u.phi+=d.phi*i.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let Se=i.minAzimuthAngle,Ve=i.maxAzimuthAngle;isFinite(Se)&&isFinite(Ve)&&(Se<-Math.PI?Se+=We:Se>Math.PI&&(Se-=We),Ve<-Math.PI?Ve+=We:Ve>Math.PI&&(Ve-=We),Se<=Ve?u.theta=Math.max(Se,Math.min(Ve,u.theta)):u.theta=u.theta>(Se+Ve)/2?Math.max(Se,u.theta):Math.min(Ve,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(f,i.dampingFactor):i.target.add(f),i.zoomToCursor&&_||i.object.isOrthographicCamera?u.radius=q(u.radius):u.radius=q(u.radius*h),Q.setFromSpherical(u),Q.applyQuaternion(De),Ne.copy(i.target).add(Q),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,f.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),f.set(0,0,0));let Ze=!1;if(i.zoomToCursor&&_){let xt=null;if(i.object instanceof Wt&&i.object.isPerspectiveCamera){const jt=Q.length();xt=q(jt*h);const $n=jt-xt;i.object.position.addScaledVector(E,$n),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const jt=new G(S.x,S.y,0);jt.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/h)),i.object.updateProjectionMatrix(),Ze=!0;const $n=new G(S.x,S.y,0);$n.unproject(i.object),i.object.position.sub($n).add(jt),i.object.updateMatrixWorld(),xt=Q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;xt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(xt).add(i.object.position):(kh.origin.copy(i.object.position),kh.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(kh.direction))<wG?e.lookAt(i.target):(n1.setFromNormalAndCoplanarPoint(i.object.up,i.target),kh.intersectPlane(n1,i.target))))}else i.object instanceof sr&&i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/h)),i.object.updateProjectionMatrix(),Ze=!0);return h=1,_=!1,Ze||et.distanceToSquared(i.object.position)>c||8*(1-te.dot(i.object.quaternion))>c?(i.dispatchEvent(r),et.copy(i.object.position),te.copy(i.object.quaternion),Ze=!1,!0):!1}})(),this.connect=Q=>{Q===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Q,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",He),i.domElement.addEventListener("pointerdown",ce),i.domElement.addEventListener("pointercancel",O),i.domElement.addEventListener("wheel",ye)},this.dispose=()=>{var Q,_e,Ie,De,et,te;(Q=i.domElement)==null||Q.removeEventListener("contextmenu",He),(_e=i.domElement)==null||_e.removeEventListener("pointerdown",ce),(Ie=i.domElement)==null||Ie.removeEventListener("pointercancel",O),(De=i.domElement)==null||De.removeEventListener("wheel",ye),(et=i.domElement)==null||et.ownerDocument.removeEventListener("pointermove",Te),(te=i.domElement)==null||te.ownerDocument.removeEventListener("pointerup",U),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ce)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new Kg,d=new Kg;let h=1;const f=new G,p=new Me,g=new Me,m=new Me,v=new Me,x=new Me,y=new Me,b=new Me,A=new Me,M=new Me,E=new G,S=new Me;let _=!1;const w=[],P={};function R(){return 2*Math.PI/60/60*i.autoRotateSpeed}function N(){return Math.pow(.95,i.zoomSpeed)}function k(Q){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=Q:d.theta-=Q}function z(Q){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=Q:d.phi-=Q}const F=(()=>{const Q=new G;return function(_e,Ie){Q.setFromMatrixColumn(Ie,0),Q.multiplyScalar(-_e),f.add(Q)}})(),j=(()=>{const Q=new G;return function(_e,Ie){i.screenSpacePanning===!0?Q.setFromMatrixColumn(Ie,1):(Q.setFromMatrixColumn(Ie,0),Q.crossVectors(i.object.up,Q)),Q.multiplyScalar(_e),f.add(Q)}})(),X=(()=>{const Q=new G;return function(_e,Ie){const De=i.domElement;if(De&&i.object instanceof Wt&&i.object.isPerspectiveCamera){const et=i.object.position;Q.copy(et).sub(i.target);let te=Q.length();te*=Math.tan(i.object.fov/2*Math.PI/180),F(2*_e*te/De.clientHeight,i.object.matrix),j(2*Ie*te/De.clientHeight,i.object.matrix)}else De&&i.object instanceof sr&&i.object.isOrthographicCamera?(F(_e*(i.object.right-i.object.left)/i.object.zoom/De.clientWidth,i.object.matrix),j(Ie*(i.object.top-i.object.bottom)/i.object.zoom/De.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function Z(Q){i.object instanceof Wt&&i.object.isPerspectiveCamera||i.object instanceof sr&&i.object.isOrthographicCamera?h/=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function J(Q){i.object instanceof Wt&&i.object.isPerspectiveCamera||i.object instanceof sr&&i.object.isOrthographicCamera?h*=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function H(Q){if(!i.zoomToCursor||!i.domElement)return;_=!0;const _e=i.domElement.getBoundingClientRect(),Ie=Q.clientX-_e.left,De=Q.clientY-_e.top,et=_e.width,te=_e.height;S.x=Ie/et*2-1,S.y=-(De/te)*2+1,E.set(S.x,S.y,1).unproject(i.object).sub(i.object.position).normalize()}function q(Q){return Math.max(i.minDistance,Math.min(i.maxDistance,Q))}function le(Q){p.set(Q.clientX,Q.clientY)}function ue(Q){H(Q),b.set(Q.clientX,Q.clientY)}function be(Q){v.set(Q.clientX,Q.clientY)}function ae(Q){g.set(Q.clientX,Q.clientY),m.subVectors(g,p).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(k(2*Math.PI*m.x/_e.clientHeight),z(2*Math.PI*m.y/_e.clientHeight)),p.copy(g),i.update()}function Ae(Q){A.set(Q.clientX,Q.clientY),M.subVectors(A,b),M.y>0?Z(N()):M.y<0&&J(N()),b.copy(A),i.update()}function ee(Q){x.set(Q.clientX,Q.clientY),y.subVectors(x,v).multiplyScalar(i.panSpeed),X(y.x,y.y),v.copy(x),i.update()}function L(Q){H(Q),Q.deltaY<0?J(N()):Q.deltaY>0&&Z(N()),i.update()}function B(Q){let _e=!1;switch(Q.code){case i.keys.UP:X(0,i.keyPanSpeed),_e=!0;break;case i.keys.BOTTOM:X(0,-i.keyPanSpeed),_e=!0;break;case i.keys.LEFT:X(i.keyPanSpeed,0),_e=!0;break;case i.keys.RIGHT:X(-i.keyPanSpeed,0),_e=!0;break}_e&&(Q.preventDefault(),i.update())}function W(){if(w.length==1)p.set(w[0].pageX,w[0].pageY);else{const Q=.5*(w[0].pageX+w[1].pageX),_e=.5*(w[0].pageY+w[1].pageY);p.set(Q,_e)}}function T(){if(w.length==1)v.set(w[0].pageX,w[0].pageY);else{const Q=.5*(w[0].pageX+w[1].pageX),_e=.5*(w[0].pageY+w[1].pageY);v.set(Q,_e)}}function D(){const Q=w[0].pageX-w[1].pageX,_e=w[0].pageY-w[1].pageY,Ie=Math.sqrt(Q*Q+_e*_e);b.set(0,Ie)}function V(){i.enableZoom&&D(),i.enablePan&&T()}function Y(){i.enableZoom&&D(),i.enableRotate&&W()}function K(Q){if(w.length==1)g.set(Q.pageX,Q.pageY);else{const Ie=st(Q),De=.5*(Q.pageX+Ie.x),et=.5*(Q.pageY+Ie.y);g.set(De,et)}m.subVectors(g,p).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(k(2*Math.PI*m.x/_e.clientHeight),z(2*Math.PI*m.y/_e.clientHeight)),p.copy(g)}function ie(Q){if(w.length==1)x.set(Q.pageX,Q.pageY);else{const _e=st(Q),Ie=.5*(Q.pageX+_e.x),De=.5*(Q.pageY+_e.y);x.set(Ie,De)}y.subVectors(x,v).multiplyScalar(i.panSpeed),X(y.x,y.y),v.copy(x)}function oe(Q){const _e=st(Q),Ie=Q.pageX-_e.x,De=Q.pageY-_e.y,et=Math.sqrt(Ie*Ie+De*De);A.set(0,et),M.set(0,Math.pow(A.y/b.y,i.zoomSpeed)),Z(M.y),b.copy(A)}function se(Q){i.enableZoom&&oe(Q),i.enablePan&&ie(Q)}function fe(Q){i.enableZoom&&oe(Q),i.enableRotate&&K(Q)}function ce(Q){var _e,Ie;i.enabled!==!1&&(w.length===0&&((_e=i.domElement)==null||_e.ownerDocument.addEventListener("pointermove",Te),(Ie=i.domElement)==null||Ie.ownerDocument.addEventListener("pointerup",U)),Je(Q),Q.pointerType==="touch"?ze(Q):ne(Q))}function Te(Q){i.enabled!==!1&&(Q.pointerType==="touch"?ke(Q):we(Q))}function U(Q){var _e,Ie,De;gt(Q),w.length===0&&((_e=i.domElement)==null||_e.releasePointerCapture(Q.pointerId),(Ie=i.domElement)==null||Ie.ownerDocument.removeEventListener("pointermove",Te),(De=i.domElement)==null||De.ownerDocument.removeEventListener("pointerup",U)),i.dispatchEvent(a),l=o.NONE}function O(Q){gt(Q)}function ne(Q){let _e;switch(Q.button){case 0:_e=i.mouseButtons.LEFT;break;case 1:_e=i.mouseButtons.MIDDLE;break;case 2:_e=i.mouseButtons.RIGHT;break;default:_e=-1}switch(_e){case qa.DOLLY:if(i.enableZoom===!1)return;ue(Q),l=o.DOLLY;break;case qa.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(i.enablePan===!1)return;be(Q),l=o.PAN}else{if(i.enableRotate===!1)return;le(Q),l=o.ROTATE}break;case qa.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(i.enableRotate===!1)return;le(Q),l=o.ROTATE}else{if(i.enablePan===!1)return;be(Q),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function we(Q){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;ae(Q);break;case o.DOLLY:if(i.enableZoom===!1)return;Ae(Q);break;case o.PAN:if(i.enablePan===!1)return;ee(Q);break}}function ye(Q){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(Q.preventDefault(),i.dispatchEvent(s),L(Q),i.dispatchEvent(a))}function Ce(Q){i.enabled===!1||i.enablePan===!1||B(Q)}function ze(Q){switch(Oe(Q),w.length){case 1:switch(i.touches.ONE){case ps.ROTATE:if(i.enableRotate===!1)return;W(),l=o.TOUCH_ROTATE;break;case ps.PAN:if(i.enablePan===!1)return;T(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case ps.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;V(),l=o.TOUCH_DOLLY_PAN;break;case ps.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Y(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function ke(Q){switch(Oe(Q),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;K(Q),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;ie(Q),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;se(Q),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;fe(Q),i.update();break;default:l=o.NONE}}function He(Q){i.enabled!==!1&&Q.preventDefault()}function Je(Q){w.push(Q)}function gt(Q){delete P[Q.pointerId];for(let _e=0;_e<w.length;_e++)if(w[_e].pointerId==Q.pointerId){w.splice(_e,1);return}}function Oe(Q){let _e=P[Q.pointerId];_e===void 0&&(_e=new Me,P[Q.pointerId]=_e),_e.set(Q.pageX,Q.pageY)}function st(Q){const _e=Q.pointerId===w[0].pointerId?w[1]:w[0];return P[_e.pointerId]}n!==void 0&&this.connect(n),this.update()}}class MG extends ri{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new PG(n)}),this.register(function(n){return new NG(n)}),this.register(function(n){return new FG(n)}),this.register(function(n){return new BG(n)}),this.register(function(n){return new LG(n)}),this.register(function(n){return new IG(n)}),this.register(function(n){return new kG(n)}),this.register(function(n){return new DG(n)}),this.register(function(n){return new TG(n)}),this.register(function(n){return new OG(n)}),this.register(function(n){return new RG(n)}),this.register(function(n){return new VG(n)}),this.register(function(n){return new CG(n)}),this.register(function(n){return new UG(n)}),this.register(function(n){return new zG(n)})}load(e,n,i,r){const s=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=Br.extractUrlBase(e),this.manager.itemStart(e);const o=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Gi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,a,function(u){n(u),s.manager.itemEnd(e)},o)}catch(u){o(u)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let s;const a={},o={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Br.decodeText(new Uint8Array(e.slice(0,4)))===WT){try{a[Et.KHR_BINARY_GLTF]=new HG(e)}catch(c){r&&r(c);return}s=JSON.parse(a[Et.KHR_BINARY_GLTF].content)}else s=JSON.parse(Br.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new t6(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);o[u.name]=u,a[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Et.KHR_MATERIALS_UNLIT:a[u]=new AG;break;case Et.KHR_DRACO_MESH_COMPRESSION:a[u]=new GG(s,this.dracoLoader);break;case Et.KHR_TEXTURE_TRANSFORM:a[u]=new WG;break;case Et.KHR_MESH_QUANTIZATION:a[u]=new $G;break;default:d.indexOf(u)>=0&&o[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,s){i.parse(e,n,r,s)})}}function EG(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Et={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class CG{constructor(e){this.parser=e,this.name=Et.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const s=n[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const s=n.json,a=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let o;const l=new Ue(16777215);a.color!==void 0&&l.fromArray(a.color);const c=a.range!==void 0?a.range:0;switch(a.type){case"directional":o=new pb(l),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new fb(l),o.distance=c;break;case"spot":o=new hb(l),o.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle!==void 0?a.spot.innerConeAngle:0,a.spot.outerConeAngle=a.spot.outerConeAngle!==void 0?a.spot.outerConeAngle:Math.PI/4,o.angle=a.spot.outerConeAngle,o.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return o.position.set(0,0,0),o.decay=2,ta(o,a),a.intensity!==void 0&&(o.intensity=a.intensity),o.name=n.createUniqueName(a.name||"light_"+e),r=Promise.resolve(o),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,r=i.json.nodes[e],s=(r.extensions&&r.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(a){return i._getNodeRef(n.cache,s,a)})}}class AG{constructor(){this.name=Et.KHR_MATERIALS_UNLIT}getMaterialType(){return Mi}extendParams(e,n,i){const r=[];e.color=new Ue(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class TG{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name].emissiveStrength;return r!==void 0&&(n.emissiveIntensity=r),Promise.resolve()}}class PG{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:es}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Me(o,o)}return Promise.all(s)}}let RG=class{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:es}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}};class LG{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:es}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Ue(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=r.extensions[this.name];return a.sheenColorFactor!==void 0&&n.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(i.assignTexture(n,"sheenColorMap",a.sheenColorTexture,3001)),a.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class IG{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:es}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(i.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class kG{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:es}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(i.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return n.attenuationColor=new Ue(o[0],o[1],o[2]),Promise.all(s)}}class DG{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:es}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return n.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class OG{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:es}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(i.assignTexture(n,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return n.specularColor=new Ue(o[0],o[1],o[2]),a.specularColorTexture!==void 0&&s.push(i.assignTexture(n,"specularColorMap",a.specularColorTexture,3001)),Promise.all(s)}}class VG{constructor(e){this.parser=e,this.name=Et.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:es}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(i.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class NG{constructor(e){this.parser=e,this.name=Et.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,a)}}class FG{constructor(e){this.parser=e,this.name=Et.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const a=s.extensions[n],o=r.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class BG{constructor(e){this.parser=e,this.name=Et.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const a=s.extensions[n],o=r.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class UG{constructor(e){this.name=Et.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,h=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,d,h,r.mode,r.filter).then(function(f){return f.buffer}):a.ready.then(function(){const f=new ArrayBuffer(u*d);return a.decodeGltfBuffer(new Uint8Array(f),u,d,h,r.mode,r.filter),f})})}else return null}}class zG{constructor(e){this.name=Et.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const l of r.primitives)if(l.mode!==er.TRIANGLES&&l.mode!==er.TRIANGLE_STRIP&&l.mode!==er.TRIANGLE_FAN&&l.mode!==void 0)return null;const s=i.extensions[this.name].attributes,a=[],o={};for(const l in s)a.push(this.parser.getDependency("accessor",s[l]).then(c=>(o[l]=c,o[l])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(l=>{const c=l.pop(),u=c.isGroup?c.children:[c],d=l[0].count,h=[];for(const f of u){const p=new it,g=new G,m=new Un,v=new G(1,1,1),x=new J0(f.geometry,f.material,d);for(let y=0;y<d;y++)o.TRANSLATION&&g.fromBufferAttribute(o.TRANSLATION,y),o.ROTATION&&m.fromBufferAttribute(o.ROTATION,y),o.SCALE&&v.fromBufferAttribute(o.SCALE,y),x.setMatrixAt(y,p.compose(g,m,v));for(const y in o)y!=="TRANSLATION"&&y!=="ROTATION"&&y!=="SCALE"&&f.geometry.setAttribute(y,o[y]);Rt.prototype.copy.call(x,f),this.parser.assignFinalMaterial(x),h.push(x)}return c.isGroup?(c.clear(),c.add(...h),c):h[0]}))}}const WT="glTF",Uc=12,r1={JSON:1313821514,BIN:5130562};class HG{constructor(e){this.name=Et.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Uc);if(this.header={magic:Br.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==WT)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Uc,r=new DataView(e,Uc);let s=0;for(;s<i;){const a=r.getUint32(s,!0);s+=4;const o=r.getUint32(s,!0);if(s+=4,o===r1.JSON){const l=new Uint8Array(e,Uc+s,a);this.content=Br.decodeText(l)}else if(o===r1.BIN){const l=Uc+s;this.body=e.slice(l,l+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GG{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Et.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const u in a){const d=ry[u]||u.toLowerCase();o[d]=a[u]}for(const u in e.attributes){const d=ry[u]||u.toLowerCase();if(a[u]!==void 0){const h=i.accessors[e.attributes[u]],f=Ol[h.componentType];c[d]=f.name,l[d]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(h){for(const f in h.attributes){const p=h.attributes[f],g=l[f];g!==void 0&&(p.normalized=g)}d(h)},o,c)})})}}class WG{constructor(){this.name=Et.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class $G{constructor(){this.name=Et.KHR_MESH_QUANTIZATION}}class $T extends hc{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let a=0;a!==r;a++)n[a]=i[s+a];return n}interpolate_(e,n,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=r-n,d=(i-n)/u,h=d*d,f=h*d,p=e*c,g=p-c,m=-2*f+3*h,v=f-h,x=1-m,y=v-h+d;for(let b=0;b!==o;b++){const A=a[g+b+o],M=a[g+b+l]*u,E=a[p+b+o],S=a[p+b]*u;s[b]=x*A+y*M+m*E+v*S}return s}}const jG=new Un;class XG extends $T{interpolate_(e,n,i,r){const s=super.interpolate_(e,n,i,r);return jG.fromArray(s).normalize().toArray(s),s}}const er={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ol={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},s1={9728:hn,9729:nn,9984:bu,9985:ip,9986:Rl,9987:Gr},a1={33071:jn,33648:Ul,10497:ma},Sv={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ry={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...cG>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Zs={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},qG={CUBICSPLINE:void 0,LINEAR:_o,STEP:Hl},Mv={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function YG(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new ad({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Hr})),t.DefaultMaterial}function Ga(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function ta(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function KG(t,e,n){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(t);const a=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const h=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;a.push(h)}if(r){const h=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;o.push(h)}if(s){const h=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],h=c[2];return i&&(t.morphAttributes.position=u),r&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function ZG(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function JG(t){let e;const n=t.extensions&&t.extensions[Et.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+Ev(n.attributes):e=t.indices+":"+Ev(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)e+=":"+Ev(t.targets[i]);return e}function Ev(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function sy(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function QG(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const e6=new it;class t6{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new EG,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new xA(this.options.manager):this.textureLoader=new PA(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Gi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:i,userData:{}};Ga(s,o,r),ta(o,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){e(o)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=n.length;r<s;r++){const a=n[r].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),s=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,u]of a.children.entries())s(u,o.children[c])};return s(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const s=e(n[r]);s&&i.push(s)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(s,a){return i.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Et.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,a){i.load(Br.resolveURL(n.uri,r.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,s=n.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const a=Sv[r.type],o=Ol[r.componentType],l=r.normalized===!0,c=new o(r.count*a);return Promise.resolve(new kt(c,a,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],l=Sv[r.type],c=Ol[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,h=r.byteOffset||0,f=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,p=r.normalized===!0;let g,m;if(f&&f!==d){const v=Math.floor(h/f),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count;let y=n.cache.get(x);y||(g=new c(o,v*f,r.count*f/u),y=new uc(g,f/u),n.cache.add(x,y)),m=new $r(y,l,h%f/u,p)}else o===null?g=new c(r.count*l):g=new c(o,h,r.count*l),m=new kt(g,l,p);if(r.sparse!==void 0){const v=Sv.SCALAR,x=Ol[r.sparse.indices.componentType],y=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,A=new x(a[1],y,r.sparse.count*v),M=new c(a[2],b,r.sparse.count*l);o!==null&&(m=new kt(m.array.slice(),m.itemSize,m.normalized));for(let E=0,S=A.length;E<S;E++){const _=A[E];if(m.setX(_,M[E*l]),l>=2&&m.setY(_,M[E*l+1]),l>=3&&m.setZ(_,M[E*l+2]),l>=4&&m.setW(_,M[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(e){const n=this.json,i=this.options,r=n.textures[e].source,s=n.images[r];let a=this.textureLoader;if(s.uri){const o=i.manager.getHandler(s.uri);o!==null&&(a=o)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,n,i){const r=this,s=this.json,a=s.textures[e],o=s.images[n],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(u){u.flipY=!1,u.name=a.name||o.name||"",u.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(u.name=o.uri);const d=(s.samplers||{})[a.sampler]||{};return u.magFilter=s1[d.magFilter]||nn,u.minFilter=s1[d.minFilter]||Gr,u.wrapS=a1[d.wrapS]||ma,u.wrapT=a1[d.wrapT]||ma,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const a=r.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=i.getDependency("bufferView",a.bufferView).then(function(d){c=!0;const h=new Blob([d],{type:a.mimeType});return l=o.createObjectURL(h),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(h,f){let p=h;n.isImageBitmapLoader===!0&&(p=function(g){const m=new an(g);m.needsUpdate=!0,h(m)}),n.load(Br.resolveURL(d,s.path),p,void 0,f)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),d.userData.mimeType=a.mimeType||QG(a.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,i,r){const s=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),s.extensions[Et.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[Et.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=s.associations.get(a);a=s.extensions[Et.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return r!==void 0&&("colorSpace"in a?a.colorSpace=r===3001?"srgb":"srgb-linear":a.encoding=r),e[n]=a,a})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new vp,Rn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new ii,Rn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(r||s||a){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return ad}loadMaterial(e){const n=this,i=this.json,r=this.extensions,s=i.materials[e];let a;const o={},l=s.extensions||{},c=[];if(l[Et.KHR_MATERIALS_UNLIT]){const d=r[Et.KHR_MATERIALS_UNLIT];a=d.getMaterialType(),c.push(d.extendParams(o,s,n))}else{const d=s.pbrMetallicRoughness||{};if(o.color=new Ue(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(o,"map",d.baseColorTexture,3001)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,o)})))}s.doubleSided===!0&&(o.side=nr);const u=s.alphaMode||Mv.OPAQUE;if(u===Mv.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===Mv.MASK&&(o.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==Mi&&(c.push(n.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new Me(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;o.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&a!==Mi&&(c.push(n.assignTexture(o,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==Mi&&(o.emissive=new Ue().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&a!==Mi&&c.push(n.assignTexture(o,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new a(o);return s.name&&(d.name=s.name),ta(d,s),n.associations.set(d,{materials:e}),s.extensions&&Ga(r,d,s),d})}createUniqueName(e){const n=At.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function s(o){return i[Et.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(l){return o1(l,o,n)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=JG(c),d=r[u];if(d)a.push(d.promise);else{let h;c.extensions&&c.extensions[Et.KHR_DRACO_MESH_COMPRESSION]?h=s(c):h=o1(new ht,c,n),r[u]={primitive:c,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(e){const n=this,i=this.json,r=this.extensions,s=i.meshes[e],a=s.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].material===void 0?YG(this.cache):this.getDependency("material",a[l].material);o.push(u)}return o.push(n.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let f=0,p=u.length;f<p;f++){const g=u[f],m=a[f];let v;const x=c[f];if(m.mode===er.TRIANGLES||m.mode===er.TRIANGLE_STRIP||m.mode===er.TRIANGLE_FAN||m.mode===void 0)v=s.isSkinnedMesh===!0?new Z0(g,x):new pn(g,x),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),m.mode===er.TRIANGLE_STRIP?v.geometry=t1(v.geometry,B0):m.mode===er.TRIANGLE_FAN&&(v.geometry=t1(v.geometry,wf));else if(m.mode===er.LINES)v=new Mr(g,x);else if(m.mode===er.LINE_STRIP)v=new Cs(g,x);else if(m.mode===er.LINE_LOOP)v=new Q0(g,x);else if(m.mode===er.POINTS)v=new eb(g,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(v.geometry.morphAttributes).length>0&&ZG(v,s),v.name=n.createUniqueName(s.name||"mesh_"+e),ta(v,s),m.extensions&&Ga(r,v,m),n.assignFinalMaterial(v),d.push(v)}for(let f=0,p=d.length;f<p;f++)n.associations.set(d[f],{meshes:e,primitives:f});if(d.length===1)return s.extensions&&Ga(r,d[0],s),d[0];const h=new ys;s.extensions&&Ga(r,h,s),n.associations.set(h,{meshes:e});for(let f=0,p=d.length;f<p;f++)h.add(d[f]);return h})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new Wt(op.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new sr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),ta(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,s=n.joints.length;r<s;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),a=r,o=[],l=[];for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d){o.push(d);const h=new it;s!==null&&h.fromArray(s.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new nd(o,l)})}loadAnimation(e){const n=this.json.animations[e],i=n.name?n.name:"animation_"+e,r=[],s=[],a=[],o=[],l=[];for(let c=0,u=n.channels.length;c<u;c++){const d=n.channels[c],h=n.samplers[d.sampler],f=d.target,p=f.node,g=n.parameters!==void 0?n.parameters[h.input]:h.input,m=n.parameters!==void 0?n.parameters[h.output]:h.output;f.node!==void 0&&(r.push(this.getDependency("node",p)),s.push(this.getDependency("accessor",g)),a.push(this.getDependency("accessor",m)),o.push(h),l.push(f))}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],h=c[2],f=c[3],p=c[4],g=[];for(let m=0,v=u.length;m<v;m++){const x=u[m],y=d[m],b=h[m],A=f[m],M=p[m];if(x===void 0)continue;x.updateMatrix();let E;switch(Zs[M.path]){case Zs.weights:E=jl;break;case Zs.rotation:E=va;break;case Zs.position:case Zs.scale:default:E=Xl;break}const S=x.name?x.name:x.uuid,_=A.interpolation!==void 0?qG[A.interpolation]:_o,w=[];Zs[M.path]===Zs.weights?x.traverse(function(R){R.morphTargetInfluences&&w.push(R.name?R.name:R.uuid)}):w.push(S);let P=b.array;if(b.normalized){const R=sy(P.constructor),N=new Float32Array(P.length);for(let k=0,z=P.length;k<z;k++)N[k]=P[k]*R;P=N}for(let R=0,N=w.length;R<N;R++){const k=new E(w[R]+"."+Zs[M.path],y.array,P,_);A.interpolation==="CUBICSPLINE"&&(k.createInterpolant=function(z){const F=this instanceof va?XG:$T;return new F(this.times,this.values,this.getValueSize()/3,z)},k.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(k)}}return new ql(i,void 0,g)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const a=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=r.weights.length;l<c;l++)o.morphTargetInfluences[l]=r.weights[l]}),a})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],s=i._loadNodeShallow(e),a=[],o=r.children||[];for(let c=0,u=o.length;c<u;c++)a.push(i.getDependency("node",o[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(a),l]).then(function(c){const u=c[0],d=c[1],h=c[2];h!==null&&u.traverse(function(f){f.isSkinnedMesh&&f.bind(h,e6)});for(let f=0,p=d.length;f<p;f++)u.add(d[f]);return u})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],a=s.name?r.createUniqueName(s.name):"",o=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),s.camera!==void 0&&o.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let u;if(s.isBone===!0?u=new mp:c.length>1?u=new ys:c.length===1?u=c[0]:u=new Rt,u!==c[0])for(let d=0,h=c.length;d<h;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=a),ta(u,s),s.extensions&&Ga(i,u,s),s.matrix!==void 0){const d=new it;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,s=new ys;i.name&&(s.name=r.createUniqueName(i.name)),ta(s,i),i.extensions&&Ga(n,s,i);const a=i.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(r.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[h,f]of r.associations)(h instanceof Rn||h instanceof an)&&d.set(h,f);return u.traverse(h=>{const f=r.associations.get(h);f!=null&&d.set(h,f)}),d};return r.associations=c(s),s})}}function n6(t,e,n){const i=e.attributes,r=new Wi;if(i.POSITION!==void 0){const o=n.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(r.set(new G(l[0],l[1],l[2]),new G(c[0],c[1],c[2])),o.normalized){const u=sy(Ol[o.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const o=new G,l=new G;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const h=n.json.accessors[d.POSITION],f=h.min,p=h.max;if(f!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(p[2]))),h.normalized){const g=sy(Ol[h.componentType]);l.multiplyScalar(g)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(o)}t.boundingBox=r;const a=new $i;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=a}function o1(t,e,n){const i=e.attributes,r=[];function s(a,o){return n.getDependency("accessor",a).then(function(l){t.setAttribute(o,l)})}for(const a in i){const o=ry[a]||a.toLowerCase();o in t.attributes||r.push(s(i[a],o))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(o){t.setIndex(o)});r.push(a)}return ta(t,e),n6(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?KG(t,e.targets,n):t})}new Do;new G;var i6=Object.defineProperty,r6=(t,e,n)=>e in t?i6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zb=(t,e,n)=>(r6(t,typeof e!="symbol"?e+"":e,n),n);class jT{constructor(e){Zb(this,"data"),this.data=e}generateShapes(e,n=100,i){const r=[],s={letterSpacing:0,lineHeight:1,...i},a=s6(e,n,this.data,s);for(let o=0,l=a.length;o<l;o++)Array.prototype.push.apply(r,a[o].toShapes(!1));return r}}Zb(jT,"isFont");Zb(jT,"type");function s6(t,e,n,i){const r=Array.from(t),s=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,o=[];let l=0,c=0;for(let u=0;u<r.length;u++){const d=r[u];if(d===`
`)l=0,c-=a*i.lineHeight;else{const h=a6(d,s,l,c,n);h&&(l+=h.offsetX+i.letterSpacing,o.push(h.path))}}return o}function a6(t,e,n,i,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");return}const a=new NA;let o,l,c,u,d,h,f,p;if(s.o){const g=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let m=0,v=g.length;m<v;)switch(g[m++]){case"m":o=parseInt(g[m++])*e+n,l=parseInt(g[m++])*e+i,a.moveTo(o,l);break;case"l":o=parseInt(g[m++])*e+n,l=parseInt(g[m++])*e+i,a.lineTo(o,l);break;case"q":c=parseInt(g[m++])*e+n,u=parseInt(g[m++])*e+i,d=parseInt(g[m++])*e+n,h=parseInt(g[m++])*e+i,a.quadraticCurveTo(d,h,c,u);break;case"b":c=parseInt(g[m++])*e+n,u=parseInt(g[m++])*e+i,d=parseInt(g[m++])*e+n,h=parseInt(g[m++])*e+i,f=parseInt(g[m++])*e+n,p=parseInt(g[m++])*e+i,a.bezierCurveTo(d,h,f,p,c,u);break}}return{offsetX:s.ha*e,path:a}}const Cv=new WeakMap;class o6 extends ri{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,r){const s=new Gi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,o).then(n).catch(r)},i,r)}decodeDracoFile(e,n,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const i=JSON.stringify(n);if(Cv.has(e)){const l=Cv.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(s,a).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Cv.set(e,{key:i,promise:o}),o}_createGeometry(e){const n=new ht;e.index&&n.setIndex(new kt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,a=r.array,o=r.itemSize;n.setAttribute(s,new kt(a,o))}return n}_loadLibrary(e,n){const i=new Gi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=l6.toString(),a=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const a=s.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function l6(){let t,e;onmessage=function(a){const o=a.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(u=>{const d=u.draco,h=new d.Decoder,f=new d.DecoderBuffer;f.Init(new Int8Array(l),l.byteLength);try{const p=n(d,h,f,c),g=p.attributes.map(m=>m.array.buffer);p.index&&g.push(p.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:p},g)}catch(p){console.error(p),self.postMessage({type:"error",id:o.id,error:p.message})}finally{d.destroy(f),d.destroy(h)}});break}};function n(a,o,l,c){const u=c.attributeIDs,d=c.attributeTypes;let h,f;const p=o.GetEncodedGeometryType(l);if(p===a.TRIANGULAR_MESH)h=new a.Mesh,f=o.DecodeBufferToMesh(l,h);else if(p===a.POINT_CLOUD)h=new a.PointCloud,f=o.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!f.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());const g={index:null,attributes:[]};for(const m in u){const v=self[d[m]];let x,y;if(c.useUniqueIDs)y=u[m],x=o.GetAttributeByUniqueId(h,y);else{if(y=o.GetAttributeId(h,a[u[m]]),y===-1)continue;x=o.GetAttribute(h,y)}g.attributes.push(r(a,o,h,m,v,x))}return p===a.TRIANGULAR_MESH&&(g.index=i(a,o,h)),a.destroy(h),g}function i(a,o,l){const c=l.num_faces()*3,u=c*4,d=a._malloc(u);o.GetTrianglesUInt32Array(l,u,d);const h=new Uint32Array(a.HEAPF32.buffer,d,c).slice();return a._free(d),{array:h,itemSize:1}}function r(a,o,l,c,u,d){const h=d.num_components(),f=l.num_points()*h,p=f*u.BYTES_PER_ELEMENT,g=s(a,u),m=a._malloc(p);o.GetAttributeDataArrayForAllPoints(l,d,g,p,m);const v=new u(a.HEAPF32.buffer,m,f).slice();return a._free(m),{name:c,array:v,itemSize:h}}function s(a,o){switch(o){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}function c6(t){return r0()?(zn(t),!0):!1}function XT(t){return typeof t=="function"?t():Ye(t)}const u6=typeof window<"u"&&typeof document<"u",d6=Object.prototype.toString,h6=t=>d6.call(t)==="[object Object]",f6=()=>{};function p6(t){var e;const n=XT(t);return(e=n==null?void 0:n.$el)!=null?e:n}const m6=u6?window:void 0;function Av(...t){let e,n,i,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,r]=t,e=m6):[e,n,i,r]=t,!e)return f6;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],a=()=>{s.forEach(u=>u()),s.length=0},o=(u,d,h,f)=>(u.addEventListener(d,h,f),()=>u.removeEventListener(d,h,f)),l=Re(()=>[p6(e),XT(r)],([u,d])=>{if(a(),!u)return;const h=h6(d)?{...d}:d;s.push(...n.flatMap(f=>i.map(p=>o(u,f,p,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return c6(c),c}class Lf extends pn{constructor(){super(Lf.Geometry,new Mi({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const e=new G,n=new G,i=new $g(16,16),r=new $g(16,16);let s=xr;const a=Lf.Geometry,o=new nu({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),l=new nu({uniforms:{map:{value:i},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),c=new pn(a,o),u=[],d=qT.Shader,h=new nu({name:d.name,uniforms:{map:{value:null},occlusionMap:{value:r},color:{value:new Ue(16777215)},scale:{value:new Me},screenPosition:{value:new G}},vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:bf,transparent:!0,depthWrite:!1}),f=new pn(a,h);this.addElement=function(x){u.push(x)};const p=new Me,g=new Me,m=new DA,v=new Tt;this.onBeforeRender=function(x,y,b){x.getCurrentViewport(v);const A=x.getRenderTarget(),M=A!==null?A.texture.type:xr;s!==M&&(i.dispose(),r.dispose(),i.type=r.type=M,s=M);const E=v.w/v.z,S=v.z/2,_=v.w/2;let w=16/v.w;if(p.set(w*E,w),m.min.set(v.x,v.y),m.max.set(v.x+(v.z-16),v.y+(v.w-16)),n.setFromMatrixPosition(this.matrixWorld),n.applyMatrix4(b.matrixWorldInverse),!(n.z>0)&&(e.copy(n).applyMatrix4(b.projectionMatrix),g.x=v.x+e.x*S+S-8,g.y=v.y+e.y*_+_-8,m.containsPoint(g))){x.copyFramebufferToTexture(g,i);let P=o.uniforms;P.scale.value=p,P.screenPosition.value=e,x.renderBufferDirect(b,null,a,o,c,null),x.copyFramebufferToTexture(g,r),P=l.uniforms,P.scale.value=p,P.screenPosition.value=e,x.renderBufferDirect(b,null,a,l,c,null);const R=-e.x*2,N=-e.y*2;for(let k=0,z=u.length;k<z;k++){const F=u[k],j=h.uniforms;j.color.value.copy(F.color),j.map.value=F.texture,j.screenPosition.value.x=e.x+R*F.distance,j.screenPosition.value.y=e.y+N*F.distance,w=F.size/v.w;const X=v.w/v.z;j.scale.value.set(w*X,w),h.uniformsNeedUpdate=!0,x.renderBufferDirect(b,null,a,h,f,null)}}},this.dispose=function(){o.dispose(),l.dispose(),h.dispose(),i.dispose(),r.dispose();for(let x=0,y=u.length;x<y;x++)u[x].texture.dispose()}}}class qT{constructor(e,n=1,i=0,r=new Ue(16777215)){this.texture=e,this.size=n,this.distance=i,this.color=r}}qT.Shader={name:"LensflareElementShader",uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`};Lf.Geometry=function(){const t=new ht,e=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),n=new uc(e,5);return t.setIndex([0,1,2,0,2,3]),t.setAttribute("position",new $r(n,3,0,!1)),t.setAttribute("uv",new $r(n,2,3,!1)),t}();op.clamp;op.lerp;let Dh=null;function v6(t,e){return n=>{e&&e(n),t.draco&&(Dh||(Dh=new o6),Dh.setDecoderPath(t.decoderPath||"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),n.setDRACOLoader(Dh))}}async function g6(t,e={draco:!1},n){return await Pz(MG,t,v6(e,n))}const y6=["object"],b6=yo({__name:"component",props:{path:{},draco:{type:Boolean,default:!1},decoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.4.1/"}},async setup(t,{expose:e}){let n,i;const r=t,s=he();e({value:s});const{scene:a}=([n,i]=hk(()=>g6(r.path,{draco:r.draco,decoderPath:r.decoderPath})),n=await n,i(),n);return(o,l)=>(Qn(),rr("primitive",Pe({ref_key:"modelRef",ref:s,object:Ye(a)},o.$attrs),null,16,y6))}}),_6=["target","auto-rotate","auto-rotate-speed","enable-damping","damping-factor","enable-pan","key-pan-speed","keys","max-azimuth-angle","min-azimuth-angle","max-polar-angle","min-polar-angle","min-distance","max-distance","min-zoom","max-zoom","touches","enable-zoom","zoom-speed","enable-rotate","rotate-speed","args"],x6=yo({__name:"OrbitControls",props:{makeDefault:{type:Boolean,default:!1},camera:{},domElement:{},target:{default:()=>[0,0,0]},enableDamping:{type:Boolean,default:!1},dampingFactor:{default:.05},autoRotate:{type:Boolean,default:!1},autoRotateSpeed:{default:2},enablePan:{type:Boolean,default:!0},keyPanSpeed:{default:7},keys:{},maxAzimuthAngle:{default:1/0},minAzimuthAngle:{default:-1/0},maxPolarAngle:{default:Math.PI},minPolarAngle:{default:0},minDistance:{default:0},maxDistance:{default:1/0},minZoom:{default:0},maxZoom:{default:1/0},touches:{default:()=>({ONE:ps.ROTATE,TWO:ps.DOLLY_PAN})},enableZoom:{type:Boolean,default:!0},zoomSpeed:{default:1},enableRotate:{type:Boolean,default:!0},rotateSpeed:{default:1}},emits:["change","start","end"],setup(t,{expose:e,emit:n}){const i=t,r=n,{makeDefault:s,autoRotate:a,autoRotateSpeed:o,enableDamping:l,dampingFactor:c,enablePan:u,keyPanSpeed:d,maxAzimuthAngle:h,minAzimuthAngle:f,maxPolarAngle:p,minPolarAngle:g,minDistance:m,maxDistance:v,minZoom:x,maxZoom:y,enableZoom:b,zoomSpeed:A,enableRotate:M,touches:E,rotateSpeed:S,target:_}=Io(i),{camera:w,renderer:P,extend:R,controls:N}=WA(),k=he(null);R({OrbitControls:SG}),Re(k,j=>{z(),j&&s.value?N.value=j:N.value=null});function z(){Av(k.value,"change",()=>r("change",k.value)),Av(k.value,"start",()=>r("start",k.value)),Av(k.value,"end",()=>r("end",k.value))}const{onLoop:F}=od();return F(()=>{k.value&&(l.value||a.value)&&k.value.update()}),Zr(()=>{k.value&&k.value.dispose()}),e({value:k}),(j,X)=>(j.camera||Ye(w))&&(j.domElement||Ye(P))?(Qn(),rr("TresOrbitControls",{key:0,ref_key:"controlsRef",ref:k,target:Ye(_),"auto-rotate":Ye(a),"auto-rotate-speed":Ye(o),"enable-damping":Ye(l),"damping-factor":Ye(c),"enable-pan":Ye(u),"key-pan-speed":Ye(d),keys:j.keys,"max-azimuth-angle":Ye(h),"min-azimuth-angle":Ye(f),"max-polar-angle":Ye(p),"min-polar-angle":Ye(g),"min-distance":Ye(m),"max-distance":Ye(v),"min-zoom":Ye(x),"max-zoom":Ye(y),touches:Ye(E),"enable-zoom":Ye(b),"zoom-speed":Ye(A),"enable-rotate":Ye(M),"rotate-speed":Ye(S),args:[j.camera||Ye(w),j.domElement||Ye(P).domElement]},null,8,_6)):yE("",!0)}});var w6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var S6={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,r,s){function a(c,u){if(!r[c]){if(!i[c]){var d=typeof Oh=="function"&&Oh;if(!u&&d)return d(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}u=r[c]={exports:{}},i[c][0].call(u.exports,function(h){var f=i[c][1][h];return a(f||h)},u,u.exports,n,i,r,s)}return r[c].exports}for(var o=typeof Oh=="function"&&Oh,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(n,i,r){(function(s,a,o,l,c,u,d,h,f){var p=n("crypto");function g(M,E){E=x(M,E);var S;return(S=E.algorithm!=="passthrough"?p.createHash(E.algorithm):new A).write===void 0&&(S.write=S.update,S.end=S.update),b(E,S).dispatch(M),S.update||S.end(""),S.digest?S.digest(E.encoding==="buffer"?void 0:E.encoding):(M=S.read(),E.encoding!=="buffer"?M.toString(E.encoding):M)}(r=i.exports=g).sha1=function(M){return g(M)},r.keys=function(M){return g(M,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(M){return g(M,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(M){return g(M,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var m=p.getHashes?p.getHashes().slice():["sha1","md5"],v=(m.push("passthrough"),["buffer","hex","binary","base64"]);function x(M,E){var S={};if(S.algorithm=(E=E||{}).algorithm||"sha1",S.encoding=E.encoding||"hex",S.excludeValues=!!E.excludeValues,S.algorithm=S.algorithm.toLowerCase(),S.encoding=S.encoding.toLowerCase(),S.ignoreUnknown=E.ignoreUnknown===!0,S.respectType=E.respectType!==!1,S.respectFunctionNames=E.respectFunctionNames!==!1,S.respectFunctionProperties=E.respectFunctionProperties!==!1,S.unorderedArrays=E.unorderedArrays===!0,S.unorderedSets=E.unorderedSets!==!1,S.unorderedObjects=E.unorderedObjects!==!1,S.replacer=E.replacer||void 0,S.excludeKeys=E.excludeKeys||void 0,M===void 0)throw new Error("Object argument required.");for(var _=0;_<m.length;++_)m[_].toLowerCase()===S.algorithm.toLowerCase()&&(S.algorithm=m[_]);if(m.indexOf(S.algorithm)===-1)throw new Error('Algorithm "'+S.algorithm+'"  not supported. supported values: '+m.join(", "));if(v.indexOf(S.encoding)===-1&&S.algorithm!=="passthrough")throw new Error('Encoding "'+S.encoding+'"  not supported. supported values: '+v.join(", "));return S}function y(M){if(typeof M=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(M))!=null}function b(M,E,S){S=S||[];function _(w){return E.update?E.update(w,"utf8"):E.write(w,"utf8")}return{dispatch:function(w){return this["_"+((w=M.replacer?M.replacer(w):w)===null?"null":typeof w)](w)},_object:function(w){var P,R=Object.prototype.toString.call(w),N=/\[object (.*)\]/i.exec(R);if(N=(N=N?N[1]:"unknown:["+R+"]").toLowerCase(),0<=(R=S.indexOf(w)))return this.dispatch("[CIRCULAR:"+R+"]");if(S.push(w),o!==void 0&&o.isBuffer&&o.isBuffer(w))return _("buffer:"),_(w);if(N==="object"||N==="function"||N==="asyncfunction")return R=Object.keys(w),M.unorderedObjects&&(R=R.sort()),M.respectType===!1||y(w)||R.splice(0,0,"prototype","__proto__","constructor"),M.excludeKeys&&(R=R.filter(function(k){return!M.excludeKeys(k)})),_("object:"+R.length+":"),P=this,R.forEach(function(k){P.dispatch(k),_(":"),M.excludeValues||P.dispatch(w[k]),_(",")});if(!this["_"+N]){if(M.ignoreUnknown)return _("["+N+"]");throw new Error('Unknown object type "'+N+'"')}this["_"+N](w)},_array:function(w,k){k=k!==void 0?k:M.unorderedArrays!==!1;var R=this;if(_("array:"+w.length+":"),!k||w.length<=1)return w.forEach(function(z){return R.dispatch(z)});var N=[],k=w.map(function(z){var F=new A,j=S.slice();return b(M,F,j).dispatch(z),N=N.concat(j.slice(S.length)),F.read().toString()});return S=S.concat(N),k.sort(),this._array(k,!1)},_date:function(w){return _("date:"+w.toJSON())},_symbol:function(w){return _("symbol:"+w.toString())},_error:function(w){return _("error:"+w.toString())},_boolean:function(w){return _("bool:"+w.toString())},_string:function(w){_("string:"+w.length+":"),_(w.toString())},_function:function(w){_("fn:"),y(w)?this.dispatch("[native]"):this.dispatch(w.toString()),M.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(w.name)),M.respectFunctionProperties&&this._object(w)},_number:function(w){return _("number:"+w.toString())},_xml:function(w){return _("xml:"+w.toString())},_null:function(){return _("Null")},_undefined:function(){return _("Undefined")},_regexp:function(w){return _("regex:"+w.toString())},_uint8array:function(w){return _("uint8array:"),this.dispatch(Array.prototype.slice.call(w))},_uint8clampedarray:function(w){return _("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(w))},_int8array:function(w){return _("int8array:"),this.dispatch(Array.prototype.slice.call(w))},_uint16array:function(w){return _("uint16array:"),this.dispatch(Array.prototype.slice.call(w))},_int16array:function(w){return _("int16array:"),this.dispatch(Array.prototype.slice.call(w))},_uint32array:function(w){return _("uint32array:"),this.dispatch(Array.prototype.slice.call(w))},_int32array:function(w){return _("int32array:"),this.dispatch(Array.prototype.slice.call(w))},_float32array:function(w){return _("float32array:"),this.dispatch(Array.prototype.slice.call(w))},_float64array:function(w){return _("float64array:"),this.dispatch(Array.prototype.slice.call(w))},_arraybuffer:function(w){return _("arraybuffer:"),this.dispatch(new Uint8Array(w))},_url:function(w){return _("url:"+w.toString())},_map:function(w){return _("map:"),w=Array.from(w),this._array(w,M.unorderedSets!==!1)},_set:function(w){return _("set:"),w=Array.from(w),this._array(w,M.unorderedSets!==!1)},_file:function(w){return _("file:"),this.dispatch([w.name,w.size,w.type,w.lastModfied])},_blob:function(){if(M.ignoreUnknown)return _("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return _("domwindow")},_bigint:function(w){return _("bigint:"+w.toString())},_process:function(){return _("process")},_timer:function(){return _("timer")},_pipe:function(){return _("pipe")},_tcp:function(){return _("tcp")},_udp:function(){return _("udp")},_tty:function(){return _("tty")},_statwatcher:function(){return _("statwatcher")},_securecontext:function(){return _("securecontext")},_connection:function(){return _("connection")},_zlib:function(){return _("zlib")},_context:function(){return _("context")},_nodescript:function(){return _("nodescript")},_httpparser:function(){return _("httpparser")},_dataview:function(){return _("dataview")},_signal:function(){return _("signal")},_fsevent:function(){return _("fsevent")},_tlswrap:function(){return _("tlswrap")}}}function A(){return{buf:"",write:function(M){this.buf+=M},end:function(M){this.buf+=M},read:function(){return this.buf}}}r.writeToStream=function(M,E,S){return S===void 0&&(S=E,E={}),b(E=x(M,E),S).dispatch(M)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,i,r){(function(s,a,o,l,c,u,d,h,f){(function(p){var g=typeof Uint8Array<"u"?Uint8Array:Array,m="+".charCodeAt(0),v="/".charCodeAt(0),x="0".charCodeAt(0),y="a".charCodeAt(0),b="A".charCodeAt(0),A="-".charCodeAt(0),M="_".charCodeAt(0);function E(S){return S=S.charCodeAt(0),S===m||S===A?62:S===v||S===M?63:S<x?-1:S<x+10?S-x+26+26:S<b+26?S-b:S<y+26?S-y+26:void 0}p.toByteArray=function(S){var _,w;if(0<S.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var P=S.length,P=S.charAt(P-2)==="="?2:S.charAt(P-1)==="="?1:0,R=new g(3*S.length/4-P),N=0<P?S.length-4:S.length,k=0;function z(F){R[k++]=F}for(_=0;_<N;_+=4,0)z((16711680&(w=E(S.charAt(_))<<18|E(S.charAt(_+1))<<12|E(S.charAt(_+2))<<6|E(S.charAt(_+3))))>>16),z((65280&w)>>8),z(255&w);return P==2?z(255&(w=E(S.charAt(_))<<2|E(S.charAt(_+1))>>4)):P==1&&(z((w=E(S.charAt(_))<<10|E(S.charAt(_+1))<<4|E(S.charAt(_+2))>>2)>>8&255),z(255&w)),R},p.fromByteArray=function(S){var _,w,P,R,N=S.length%3,k="";function z(F){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(F)}for(_=0,P=S.length-N;_<P;_+=3)w=(S[_]<<16)+(S[_+1]<<8)+S[_+2],k+=z((R=w)>>18&63)+z(R>>12&63)+z(R>>6&63)+z(63&R);switch(N){case 1:k=(k+=z((w=S[S.length-1])>>2))+z(w<<4&63)+"==";break;case 2:k=(k=(k+=z((w=(S[S.length-2]<<8)+S[S.length-1])>>10))+z(w>>4&63))+z(w<<2&63)+"="}return k}})(r===void 0?this.base64js={}:r)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,i,r){(function(s,a,m,l,c,u,d,h,f){var p=n("base64-js"),g=n("ieee754");function m(L,B,W){if(!(this instanceof m))return new m(L,B,W);var T,D,V,Y,K=typeof L;if(B==="base64"&&K=="string")for(L=(Y=L).trim?Y.trim():Y.replace(/^\s+|\s+$/g,"");L.length%4!=0;)L+="=";if(K=="number")T=X(L);else if(K=="string")T=m.byteLength(L,B);else{if(K!="object")throw new Error("First argument needs to be a number, array or string.");T=X(L.length)}if(m._useTypedArrays?D=m._augment(new Uint8Array(T)):((D=this).length=T,D._isBuffer=!0),m._useTypedArrays&&typeof L.byteLength=="number")D._set(L);else if(Z(Y=L)||m.isBuffer(Y)||Y&&typeof Y=="object"&&typeof Y.length=="number")for(V=0;V<T;V++)m.isBuffer(L)?D[V]=L.readUInt8(V):D[V]=L[V];else if(K=="string")D.write(L,0,B);else if(K=="number"&&!m._useTypedArrays&&!W)for(V=0;V<T;V++)D[V]=0;return D}function v(L,B,W,T){return m._charsWritten=le(function(D){for(var V=[],Y=0;Y<D.length;Y++)V.push(255&D.charCodeAt(Y));return V}(B),L,W,T)}function x(L,B,W,T){return m._charsWritten=le(function(D){for(var V,Y,K=[],ie=0;ie<D.length;ie++)Y=D.charCodeAt(ie),V=Y>>8,Y=Y%256,K.push(Y),K.push(V);return K}(B),L,W,T)}function y(L,B,W){var T="";W=Math.min(L.length,W);for(var D=B;D<W;D++)T+=String.fromCharCode(L[D]);return T}function b(L,B,W,V){V||(ee(typeof W=="boolean","missing or invalid endian"),ee(B!=null,"missing offset"),ee(B+1<L.length,"Trying to read beyond buffer length"));var D,V=L.length;if(!(V<=B))return W?(D=L[B],B+1<V&&(D|=L[B+1]<<8)):(D=L[B]<<8,B+1<V&&(D|=L[B+1])),D}function A(L,B,W,V){V||(ee(typeof W=="boolean","missing or invalid endian"),ee(B!=null,"missing offset"),ee(B+3<L.length,"Trying to read beyond buffer length"));var D,V=L.length;if(!(V<=B))return W?(B+2<V&&(D=L[B+2]<<16),B+1<V&&(D|=L[B+1]<<8),D|=L[B],B+3<V&&(D+=L[B+3]<<24>>>0)):(B+1<V&&(D=L[B+1]<<16),B+2<V&&(D|=L[B+2]<<8),B+3<V&&(D|=L[B+3]),D+=L[B]<<24>>>0),D}function M(L,B,W,T){if(T||(ee(typeof W=="boolean","missing or invalid endian"),ee(B!=null,"missing offset"),ee(B+1<L.length,"Trying to read beyond buffer length")),!(L.length<=B))return T=b(L,B,W,!0),32768&T?-1*(65535-T+1):T}function E(L,B,W,T){if(T||(ee(typeof W=="boolean","missing or invalid endian"),ee(B!=null,"missing offset"),ee(B+3<L.length,"Trying to read beyond buffer length")),!(L.length<=B))return T=A(L,B,W,!0),2147483648&T?-1*(4294967295-T+1):T}function S(L,B,W,T){return T||(ee(typeof W=="boolean","missing or invalid endian"),ee(B+3<L.length,"Trying to read beyond buffer length")),g.read(L,B,W,23,4)}function _(L,B,W,T){return T||(ee(typeof W=="boolean","missing or invalid endian"),ee(B+7<L.length,"Trying to read beyond buffer length")),g.read(L,B,W,52,8)}function w(L,B,W,T,D){if(D||(ee(B!=null,"missing value"),ee(typeof T=="boolean","missing or invalid endian"),ee(W!=null,"missing offset"),ee(W+1<L.length,"trying to write beyond buffer length"),be(B,65535)),D=L.length,!(D<=W))for(var V=0,Y=Math.min(D-W,2);V<Y;V++)L[W+V]=(B&255<<8*(T?V:1-V))>>>8*(T?V:1-V)}function P(L,B,W,T,D){if(D||(ee(B!=null,"missing value"),ee(typeof T=="boolean","missing or invalid endian"),ee(W!=null,"missing offset"),ee(W+3<L.length,"trying to write beyond buffer length"),be(B,4294967295)),D=L.length,!(D<=W))for(var V=0,Y=Math.min(D-W,4);V<Y;V++)L[W+V]=B>>>8*(T?V:3-V)&255}function R(L,B,W,T,D){D||(ee(B!=null,"missing value"),ee(typeof T=="boolean","missing or invalid endian"),ee(W!=null,"missing offset"),ee(W+1<L.length,"Trying to write beyond buffer length"),ae(B,32767,-32768)),L.length<=W||w(L,0<=B?B:65535+B+1,W,T,D)}function N(L,B,W,T,D){D||(ee(B!=null,"missing value"),ee(typeof T=="boolean","missing or invalid endian"),ee(W!=null,"missing offset"),ee(W+3<L.length,"Trying to write beyond buffer length"),ae(B,2147483647,-2147483648)),L.length<=W||P(L,0<=B?B:4294967295+B+1,W,T,D)}function k(L,B,W,T,D){D||(ee(B!=null,"missing value"),ee(typeof T=="boolean","missing or invalid endian"),ee(W!=null,"missing offset"),ee(W+3<L.length,"Trying to write beyond buffer length"),Ae(B,34028234663852886e22,-34028234663852886e22)),L.length<=W||g.write(L,B,W,T,23,4)}function z(L,B,W,T,D){D||(ee(B!=null,"missing value"),ee(typeof T=="boolean","missing or invalid endian"),ee(W!=null,"missing offset"),ee(W+7<L.length,"Trying to write beyond buffer length"),Ae(B,17976931348623157e292,-17976931348623157e292)),L.length<=W||g.write(L,B,W,T,52,8)}r.Buffer=m,r.SlowBuffer=m,r.INSPECT_MAX_BYTES=50,m.poolSize=8192,m._useTypedArrays=function(){try{var L=new ArrayBuffer(0),B=new Uint8Array(L);return B.foo=function(){return 42},B.foo()===42&&typeof B.subarray=="function"}catch{return!1}}(),m.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.isBuffer=function(L){return!(L==null||!L._isBuffer)},m.byteLength=function(L,B){var W;switch(L+="",B||"utf8"){case"hex":W=L.length/2;break;case"utf8":case"utf-8":W=H(L).length;break;case"ascii":case"binary":case"raw":W=L.length;break;case"base64":W=q(L).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":W=2*L.length;break;default:throw new Error("Unknown encoding")}return W},m.concat=function(L,B){if(ee(Z(L),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),L.length===0)return new m(0);if(L.length===1)return L[0];if(typeof B!="number")for(D=B=0;D<L.length;D++)B+=L[D].length;for(var W=new m(B),T=0,D=0;D<L.length;D++){var V=L[D];V.copy(W,T),T+=V.length}return W},m.prototype.write=function(L,B,W,T){isFinite(B)?isFinite(W)||(T=W,W=void 0):(ie=T,T=B,B=W,W=ie),B=Number(B)||0;var D,V,Y,K,ie=this.length-B;switch((!W||ie<(W=Number(W)))&&(W=ie),T=String(T||"utf8").toLowerCase()){case"hex":D=function(oe,se,fe,ce){fe=Number(fe)||0;var Te=oe.length-fe;(!ce||Te<(ce=Number(ce)))&&(ce=Te),ee((Te=se.length)%2==0,"Invalid hex string"),Te/2<ce&&(ce=Te/2);for(var U=0;U<ce;U++){var O=parseInt(se.substr(2*U,2),16);ee(!isNaN(O),"Invalid hex string"),oe[fe+U]=O}return m._charsWritten=2*U,U}(this,L,B,W);break;case"utf8":case"utf-8":V=this,Y=B,K=W,D=m._charsWritten=le(H(L),V,Y,K);break;case"ascii":case"binary":D=v(this,L,B,W);break;case"base64":V=this,Y=B,K=W,D=m._charsWritten=le(q(L),V,Y,K);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":D=x(this,L,B,W);break;default:throw new Error("Unknown encoding")}return D},m.prototype.toString=function(L,B,W){var T,D,V,Y,K=this;if(L=String(L||"utf8").toLowerCase(),B=Number(B)||0,(W=W!==void 0?Number(W):K.length)===B)return"";switch(L){case"hex":T=function(ie,oe,se){var fe=ie.length;(!oe||oe<0)&&(oe=0),(!se||se<0||fe<se)&&(se=fe);for(var ce="",Te=oe;Te<se;Te++)ce+=J(ie[Te]);return ce}(K,B,W);break;case"utf8":case"utf-8":T=function(ie,oe,se){var fe="",ce="";se=Math.min(ie.length,se);for(var Te=oe;Te<se;Te++)ie[Te]<=127?(fe+=ue(ce)+String.fromCharCode(ie[Te]),ce=""):ce+="%"+ie[Te].toString(16);return fe+ue(ce)}(K,B,W);break;case"ascii":case"binary":T=y(K,B,W);break;case"base64":D=K,Y=W,T=(V=B)===0&&Y===D.length?p.fromByteArray(D):p.fromByteArray(D.slice(V,Y));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":T=function(ie,oe,se){for(var fe=ie.slice(oe,se),ce="",Te=0;Te<fe.length;Te+=2)ce+=String.fromCharCode(fe[Te]+256*fe[Te+1]);return ce}(K,B,W);break;default:throw new Error("Unknown encoding")}return T},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.copy=function(L,B,W,T){if(B=B||0,(T=T||T===0?T:this.length)!==(W=W||0)&&L.length!==0&&this.length!==0){ee(W<=T,"sourceEnd < sourceStart"),ee(0<=B&&B<L.length,"targetStart out of bounds"),ee(0<=W&&W<this.length,"sourceStart out of bounds"),ee(0<=T&&T<=this.length,"sourceEnd out of bounds"),T>this.length&&(T=this.length);var D=(T=L.length-B<T-W?L.length-B+W:T)-W;if(D<100||!m._useTypedArrays)for(var V=0;V<D;V++)L[V+B]=this[V+W];else L._set(this.subarray(W,W+D),B)}},m.prototype.slice=function(L,B){var W=this.length;if(L=j(L,W,0),B=j(B,W,W),m._useTypedArrays)return m._augment(this.subarray(L,B));for(var T=B-L,D=new m(T,void 0,!0),V=0;V<T;V++)D[V]=this[V+L];return D},m.prototype.get=function(L){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(L)},m.prototype.set=function(L,B){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(L,B)},m.prototype.readUInt8=function(L,B){if(B||(ee(L!=null,"missing offset"),ee(L<this.length,"Trying to read beyond buffer length")),!(L>=this.length))return this[L]},m.prototype.readUInt16LE=function(L,B){return b(this,L,!0,B)},m.prototype.readUInt16BE=function(L,B){return b(this,L,!1,B)},m.prototype.readUInt32LE=function(L,B){return A(this,L,!0,B)},m.prototype.readUInt32BE=function(L,B){return A(this,L,!1,B)},m.prototype.readInt8=function(L,B){if(B||(ee(L!=null,"missing offset"),ee(L<this.length,"Trying to read beyond buffer length")),!(L>=this.length))return 128&this[L]?-1*(255-this[L]+1):this[L]},m.prototype.readInt16LE=function(L,B){return M(this,L,!0,B)},m.prototype.readInt16BE=function(L,B){return M(this,L,!1,B)},m.prototype.readInt32LE=function(L,B){return E(this,L,!0,B)},m.prototype.readInt32BE=function(L,B){return E(this,L,!1,B)},m.prototype.readFloatLE=function(L,B){return S(this,L,!0,B)},m.prototype.readFloatBE=function(L,B){return S(this,L,!1,B)},m.prototype.readDoubleLE=function(L,B){return _(this,L,!0,B)},m.prototype.readDoubleBE=function(L,B){return _(this,L,!1,B)},m.prototype.writeUInt8=function(L,B,W){W||(ee(L!=null,"missing value"),ee(B!=null,"missing offset"),ee(B<this.length,"trying to write beyond buffer length"),be(L,255)),B>=this.length||(this[B]=L)},m.prototype.writeUInt16LE=function(L,B,W){w(this,L,B,!0,W)},m.prototype.writeUInt16BE=function(L,B,W){w(this,L,B,!1,W)},m.prototype.writeUInt32LE=function(L,B,W){P(this,L,B,!0,W)},m.prototype.writeUInt32BE=function(L,B,W){P(this,L,B,!1,W)},m.prototype.writeInt8=function(L,B,W){W||(ee(L!=null,"missing value"),ee(B!=null,"missing offset"),ee(B<this.length,"Trying to write beyond buffer length"),ae(L,127,-128)),B>=this.length||(0<=L?this.writeUInt8(L,B,W):this.writeUInt8(255+L+1,B,W))},m.prototype.writeInt16LE=function(L,B,W){R(this,L,B,!0,W)},m.prototype.writeInt16BE=function(L,B,W){R(this,L,B,!1,W)},m.prototype.writeInt32LE=function(L,B,W){N(this,L,B,!0,W)},m.prototype.writeInt32BE=function(L,B,W){N(this,L,B,!1,W)},m.prototype.writeFloatLE=function(L,B,W){k(this,L,B,!0,W)},m.prototype.writeFloatBE=function(L,B,W){k(this,L,B,!1,W)},m.prototype.writeDoubleLE=function(L,B,W){z(this,L,B,!0,W)},m.prototype.writeDoubleBE=function(L,B,W){z(this,L,B,!1,W)},m.prototype.fill=function(L,B,W){if(B=B||0,W=W||this.length,ee(typeof(L=typeof(L=L||0)=="string"?L.charCodeAt(0):L)=="number"&&!isNaN(L),"value is not a number"),ee(B<=W,"end < start"),W!==B&&this.length!==0){ee(0<=B&&B<this.length,"start out of bounds"),ee(0<=W&&W<=this.length,"end out of bounds");for(var T=B;T<W;T++)this[T]=L}},m.prototype.inspect=function(){for(var L=[],B=this.length,W=0;W<B;W++)if(L[W]=J(this[W]),W===r.INSPECT_MAX_BYTES){L[W+1]="...";break}return"<Buffer "+L.join(" ")+">"},m.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(m._useTypedArrays)return new m(this).buffer;for(var L=new Uint8Array(this.length),B=0,W=L.length;B<W;B+=1)L[B]=this[B];return L.buffer};var F=m.prototype;function j(L,B,W){return typeof L!="number"?W:B<=(L=~~L)?B:0<=L||0<=(L+=B)?L:0}function X(L){return(L=~~Math.ceil(+L))<0?0:L}function Z(L){return(Array.isArray||function(B){return Object.prototype.toString.call(B)==="[object Array]"})(L)}function J(L){return L<16?"0"+L.toString(16):L.toString(16)}function H(L){for(var B=[],W=0;W<L.length;W++){var T=L.charCodeAt(W);if(T<=127)B.push(L.charCodeAt(W));else for(var D=W,V=(55296<=T&&T<=57343&&W++,encodeURIComponent(L.slice(D,W+1)).substr(1).split("%")),Y=0;Y<V.length;Y++)B.push(parseInt(V[Y],16))}return B}function q(L){return p.toByteArray(L)}function le(L,B,W,T){for(var D=0;D<T&&!(D+W>=B.length||D>=L.length);D++)B[D+W]=L[D];return D}function ue(L){try{return decodeURIComponent(L)}catch{return String.fromCharCode(65533)}}function be(L,B){ee(typeof L=="number","cannot write a non-number as a number"),ee(0<=L,"specified a negative value for writing an unsigned value"),ee(L<=B,"value is larger than maximum value for type"),ee(Math.floor(L)===L,"value has a fractional component")}function ae(L,B,W){ee(typeof L=="number","cannot write a non-number as a number"),ee(L<=B,"value larger than maximum allowed value"),ee(W<=L,"value smaller than minimum allowed value"),ee(Math.floor(L)===L,"value has a fractional component")}function Ae(L,B,W){ee(typeof L=="number","cannot write a non-number as a number"),ee(L<=B,"value larger than maximum allowed value"),ee(W<=L,"value smaller than minimum allowed value")}function ee(L,B){if(!L)throw new Error(B||"Failed assertion")}m._augment=function(L){return L._isBuffer=!0,L._get=L.get,L._set=L.set,L.get=F.get,L.set=F.set,L.write=F.write,L.toString=F.toString,L.toLocaleString=F.toString,L.toJSON=F.toJSON,L.copy=F.copy,L.slice=F.slice,L.readUInt8=F.readUInt8,L.readUInt16LE=F.readUInt16LE,L.readUInt16BE=F.readUInt16BE,L.readUInt32LE=F.readUInt32LE,L.readUInt32BE=F.readUInt32BE,L.readInt8=F.readInt8,L.readInt16LE=F.readInt16LE,L.readInt16BE=F.readInt16BE,L.readInt32LE=F.readInt32LE,L.readInt32BE=F.readInt32BE,L.readFloatLE=F.readFloatLE,L.readFloatBE=F.readFloatBE,L.readDoubleLE=F.readDoubleLE,L.readDoubleBE=F.readDoubleBE,L.writeUInt8=F.writeUInt8,L.writeUInt16LE=F.writeUInt16LE,L.writeUInt16BE=F.writeUInt16BE,L.writeUInt32LE=F.writeUInt32LE,L.writeUInt32BE=F.writeUInt32BE,L.writeInt8=F.writeInt8,L.writeInt16LE=F.writeInt16LE,L.writeInt16BE=F.writeInt16BE,L.writeInt32LE=F.writeInt32LE,L.writeInt32BE=F.writeInt32BE,L.writeFloatLE=F.writeFloatLE,L.writeFloatBE=F.writeFloatBE,L.writeDoubleLE=F.writeDoubleLE,L.writeDoubleBE=F.writeDoubleBE,L.fill=F.fill,L.inspect=F.inspect,L.toArrayBuffer=F.toArrayBuffer,L}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,i,r){(function(s,a,p,l,c,u,d,h,f){var p=n("buffer").Buffer,g=4,m=new p(g);m.fill(0),i.exports={hash:function(v,x,y,b){for(var A=x(function(w,P){w.length%g!=0&&(R=w.length+(g-w.length%g),w=p.concat([w,m],R));for(var R,N=[],k=P?w.readInt32BE:w.readInt32LE,z=0;z<w.length;z+=g)N.push(k.call(w,z));return N}(v=p.isBuffer(v)?v:new p(v),b),8*v.length),x=b,M=new p(y),E=x?M.writeInt32BE:M.writeInt32LE,S=0;S<A.length;S++)E.call(M,A[S],4*S,!0);return M}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,i,r){(function(s,a,p,l,c,u,d,h,f){var p=n("buffer").Buffer,g=n("./sha"),m=n("./sha256"),v=n("./rng"),x={sha1:g,sha256:m,md5:n("./md5")},y=64,b=new p(y);function A(w,P){var R=x[w=w||"sha1"],N=[];return R||M("algorithm:",w,"is not yet supported"),{update:function(k){return p.isBuffer(k)||(k=new p(k)),N.push(k),k.length,this},digest:function(k){var z=p.concat(N),z=P?function(F,j,X){p.isBuffer(j)||(j=new p(j)),p.isBuffer(X)||(X=new p(X)),j.length>y?j=F(j):j.length<y&&(j=p.concat([j,b],y));for(var Z=new p(y),J=new p(y),H=0;H<y;H++)Z[H]=54^j[H],J[H]=92^j[H];return X=F(p.concat([Z,X])),F(p.concat([J,X]))}(R,P,z):R(z);return N=null,k?z.toString(k):z}}}function M(){var w=[].slice.call(arguments).join(" ");throw new Error([w,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}b.fill(0),r.createHash=function(w){return A(w)},r.createHmac=A,r.randomBytes=function(w,P){if(!P||!P.call)return new p(v(w));try{P.call(this,void 0,new p(v(w)))}catch(R){P(R)}};var E,S=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],_=function(w){r[w]=function(){M("sorry,",w,"is not implemented yet")}};for(E in S)_(S[E])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,i,r){(function(s,a,o,l,c,u,d,h,f){var p=n("./helpers");function g(M,E){M[E>>5]|=128<<E%32,M[14+(E+64>>>9<<4)]=E;for(var S=1732584193,_=-271733879,w=-1732584194,P=271733878,R=0;R<M.length;R+=16){var N=S,k=_,z=w,F=P,S=v(S,_,w,P,M[R+0],7,-680876936),P=v(P,S,_,w,M[R+1],12,-389564586),w=v(w,P,S,_,M[R+2],17,606105819),_=v(_,w,P,S,M[R+3],22,-1044525330);S=v(S,_,w,P,M[R+4],7,-176418897),P=v(P,S,_,w,M[R+5],12,1200080426),w=v(w,P,S,_,M[R+6],17,-1473231341),_=v(_,w,P,S,M[R+7],22,-45705983),S=v(S,_,w,P,M[R+8],7,1770035416),P=v(P,S,_,w,M[R+9],12,-1958414417),w=v(w,P,S,_,M[R+10],17,-42063),_=v(_,w,P,S,M[R+11],22,-1990404162),S=v(S,_,w,P,M[R+12],7,1804603682),P=v(P,S,_,w,M[R+13],12,-40341101),w=v(w,P,S,_,M[R+14],17,-1502002290),S=x(S,_=v(_,w,P,S,M[R+15],22,1236535329),w,P,M[R+1],5,-165796510),P=x(P,S,_,w,M[R+6],9,-1069501632),w=x(w,P,S,_,M[R+11],14,643717713),_=x(_,w,P,S,M[R+0],20,-373897302),S=x(S,_,w,P,M[R+5],5,-701558691),P=x(P,S,_,w,M[R+10],9,38016083),w=x(w,P,S,_,M[R+15],14,-660478335),_=x(_,w,P,S,M[R+4],20,-405537848),S=x(S,_,w,P,M[R+9],5,568446438),P=x(P,S,_,w,M[R+14],9,-1019803690),w=x(w,P,S,_,M[R+3],14,-187363961),_=x(_,w,P,S,M[R+8],20,1163531501),S=x(S,_,w,P,M[R+13],5,-1444681467),P=x(P,S,_,w,M[R+2],9,-51403784),w=x(w,P,S,_,M[R+7],14,1735328473),S=y(S,_=x(_,w,P,S,M[R+12],20,-1926607734),w,P,M[R+5],4,-378558),P=y(P,S,_,w,M[R+8],11,-2022574463),w=y(w,P,S,_,M[R+11],16,1839030562),_=y(_,w,P,S,M[R+14],23,-35309556),S=y(S,_,w,P,M[R+1],4,-1530992060),P=y(P,S,_,w,M[R+4],11,1272893353),w=y(w,P,S,_,M[R+7],16,-155497632),_=y(_,w,P,S,M[R+10],23,-1094730640),S=y(S,_,w,P,M[R+13],4,681279174),P=y(P,S,_,w,M[R+0],11,-358537222),w=y(w,P,S,_,M[R+3],16,-722521979),_=y(_,w,P,S,M[R+6],23,76029189),S=y(S,_,w,P,M[R+9],4,-640364487),P=y(P,S,_,w,M[R+12],11,-421815835),w=y(w,P,S,_,M[R+15],16,530742520),S=b(S,_=y(_,w,P,S,M[R+2],23,-995338651),w,P,M[R+0],6,-198630844),P=b(P,S,_,w,M[R+7],10,1126891415),w=b(w,P,S,_,M[R+14],15,-1416354905),_=b(_,w,P,S,M[R+5],21,-57434055),S=b(S,_,w,P,M[R+12],6,1700485571),P=b(P,S,_,w,M[R+3],10,-1894986606),w=b(w,P,S,_,M[R+10],15,-1051523),_=b(_,w,P,S,M[R+1],21,-2054922799),S=b(S,_,w,P,M[R+8],6,1873313359),P=b(P,S,_,w,M[R+15],10,-30611744),w=b(w,P,S,_,M[R+6],15,-1560198380),_=b(_,w,P,S,M[R+13],21,1309151649),S=b(S,_,w,P,M[R+4],6,-145523070),P=b(P,S,_,w,M[R+11],10,-1120210379),w=b(w,P,S,_,M[R+2],15,718787259),_=b(_,w,P,S,M[R+9],21,-343485551),S=A(S,N),_=A(_,k),w=A(w,z),P=A(P,F)}return Array(S,_,w,P)}function m(M,E,S,_,w,P){return A((E=A(A(E,M),A(_,P)))<<w|E>>>32-w,S)}function v(M,E,S,_,w,P,R){return m(E&S|~E&_,M,E,w,P,R)}function x(M,E,S,_,w,P,R){return m(E&_|S&~_,M,E,w,P,R)}function y(M,E,S,_,w,P,R){return m(E^S^_,M,E,w,P,R)}function b(M,E,S,_,w,P,R){return m(S^(E|~_),M,E,w,P,R)}function A(M,E){var S=(65535&M)+(65535&E);return(M>>16)+(E>>16)+(S>>16)<<16|65535&S}i.exports=function(M){return p.hash(M,g,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,i,r){(function(s,a,o,l,c,u,d,h,f){i.exports=function(p){for(var g,m=new Array(p),v=0;v<p;v++)!(3&v)&&(g=4294967296*Math.random()),m[v]=g>>>((3&v)<<3)&255;return m}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,i,r){(function(s,a,o,l,c,u,d,h,f){var p=n("./helpers");function g(x,y){x[y>>5]|=128<<24-y%32,x[15+(y+64>>9<<4)]=y;for(var b,A,M,E=Array(80),S=1732584193,_=-271733879,w=-1732584194,P=271733878,R=-1009589776,N=0;N<x.length;N+=16){for(var k=S,z=_,F=w,j=P,X=R,Z=0;Z<80;Z++){E[Z]=Z<16?x[N+Z]:v(E[Z-3]^E[Z-8]^E[Z-14]^E[Z-16],1);var J=m(m(v(S,5),(J=_,A=w,M=P,(b=Z)<20?J&A|~J&M:!(b<40)&&b<60?J&A|J&M|A&M:J^A^M)),m(m(R,E[Z]),(b=Z)<20?1518500249:b<40?1859775393:b<60?-1894007588:-899497514)),R=P,P=w,w=v(_,30),_=S,S=J}S=m(S,k),_=m(_,z),w=m(w,F),P=m(P,j),R=m(R,X)}return Array(S,_,w,P,R)}function m(x,y){var b=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(b>>16)<<16|65535&b}function v(x,y){return x<<y|x>>>32-y}i.exports=function(x){return p.hash(x,g,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,i,r){(function(s,a,o,l,c,u,d,h,f){function p(y,b){var A=(65535&y)+(65535&b);return(y>>16)+(b>>16)+(A>>16)<<16|65535&A}function g(y,b){var A,M=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),E=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),S=new Array(64);y[b>>5]|=128<<24-b%32,y[15+(b+64>>9<<4)]=b;for(var _,w,P=0;P<y.length;P+=16){for(var R=E[0],N=E[1],k=E[2],z=E[3],F=E[4],j=E[5],X=E[6],Z=E[7],J=0;J<64;J++)S[J]=J<16?y[J+P]:p(p(p((w=S[J-2],v(w,17)^v(w,19)^x(w,10)),S[J-7]),(w=S[J-15],v(w,7)^v(w,18)^x(w,3))),S[J-16]),A=p(p(p(p(Z,v(w=F,6)^v(w,11)^v(w,25)),F&j^~F&X),M[J]),S[J]),_=p(v(_=R,2)^v(_,13)^v(_,22),R&N^R&k^N&k),Z=X,X=j,j=F,F=p(z,A),z=k,k=N,N=R,R=p(A,_);E[0]=p(R,E[0]),E[1]=p(N,E[1]),E[2]=p(k,E[2]),E[3]=p(z,E[3]),E[4]=p(F,E[4]),E[5]=p(j,E[5]),E[6]=p(X,E[6]),E[7]=p(Z,E[7])}return E}var m=n("./helpers"),v=function(y,b){return y>>>b|y<<32-b},x=function(y,b){return y>>>b};i.exports=function(y){return m.hash(y,g,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,i,r){(function(s,a,o,l,c,u,d,h,f){r.read=function(p,g,m,v,P){var y,b,A=8*P-v-1,M=(1<<A)-1,E=M>>1,S=-7,_=m?P-1:0,w=m?-1:1,P=p[g+_];for(_+=w,y=P&(1<<-S)-1,P>>=-S,S+=A;0<S;y=256*y+p[g+_],_+=w,S-=8);for(b=y&(1<<-S)-1,y>>=-S,S+=v;0<S;b=256*b+p[g+_],_+=w,S-=8);if(y===0)y=1-E;else{if(y===M)return b?NaN:1/0*(P?-1:1);b+=Math.pow(2,v),y-=E}return(P?-1:1)*b*Math.pow(2,y-v)},r.write=function(p,g,m,v,x,R){var b,A,M=8*R-x-1,E=(1<<M)-1,S=E>>1,_=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=v?0:R-1,P=v?1:-1,R=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(A=isNaN(g)?1:0,b=E):(b=Math.floor(Math.log(g)/Math.LN2),g*(v=Math.pow(2,-b))<1&&(b--,v*=2),2<=(g+=1<=b+S?_/v:_*Math.pow(2,1-S))*v&&(b++,v/=2),E<=b+S?(A=0,b=E):1<=b+S?(A=(g*v-1)*Math.pow(2,x),b+=S):(A=g*Math.pow(2,S-1)*Math.pow(2,x),b=0));8<=x;p[m+w]=255&A,w+=P,A/=256,x-=8);for(b=b<<x|A,M+=x;0<M;p[m+w]=255&b,w+=P,b/=256,M-=8);p[m+w-P]|=128*R}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,i,r){(function(s,a,o,l,c,u,d,h,f){var p,g,m;function v(){}(s=i.exports={}).nextTick=(g=typeof window<"u"&&window.setImmediate,m=typeof window<"u"&&window.postMessage&&window.addEventListener,g?function(x){return window.setImmediate(x)}:m?(p=[],window.addEventListener("message",function(x){var y=x.source;y!==window&&y!==null||x.data!=="process-tick"||(x.stopPropagation(),0<p.length&&p.shift()())},!0),function(x){p.push(x),window.postMessage("process-tick","*")}):function(x){setTimeout(x,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.binding=function(x){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(x){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(S6);var M6=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],ay=M6;ay=ay.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)});ay.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]);function E6(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C6(t){var e=E6(t,"string");return typeof e=="symbol"?e:String(e)}function Ht(t,e,n){return e=C6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO",bump:"csm_Bump",depthAlpha:"csm_DepthAlpha"},gi,ml;gi={},Ht(gi,"".concat(at.normal),{"#include <beginnormal_vertex>":`
    vec3 objectNormal = `.concat(at.normal,`;
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `)}),Ht(gi,"".concat(at.position),{"#include <begin_vertex>":`
    vec3 transformed = `.concat(at.position,`;
  `)}),Ht(gi,"".concat(at.positionRaw),{"#include <begin_vertex>":`
    vec4 csm_internal_positionUnprojected = `.concat(at.positionRaw,`;
    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;
    #endif
    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;
    vec3 transformed = csm_internal_positionUnprojected.xyz;
  `)}),Ht(gi,"".concat(at.pointSize),{"gl_PointSize = size;":`
    gl_PointSize = `.concat(at.pointSize,`;
    `)}),Ht(gi,"".concat(at.diffuseColor),{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = `.concat(at.diffuseColor,`;
  `)}),Ht(gi,"".concat(at.fragColor),{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = `.concat(at.fragColor,`;
  `)}),Ht(gi,"".concat(at.emissive),{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = `.concat(at.emissive,`;
    `)}),Ht(gi,"".concat(at.roughness),{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = `.concat(at.roughness,`;
    `)}),Ht(gi,"".concat(at.metalness),{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = `.concat(at.metalness,`;
    `)}),Ht(gi,"".concat(at.ao),{"#include <aomap_fragment>":`
    #include <aomap_fragment>
    reflectedLight.indirectDiffuse *= 1. - `.concat(at.ao,`;
    `)}),Ht(gi,"".concat(at.bump),{"#include <normal_fragment_maps>":`
    #include <normal_fragment_maps>

    vec3 csm_internal_orthogonal = `.concat(at.bump," - (dot(").concat(at.bump,`, normal) * normal);
    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;
    normal = normalize(normal - csm_internal_projectedbump);
    `)}),Ht(gi,"".concat(at.depthAlpha),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":`
      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * `.concat(at.depthAlpha,` );
    `),"gl_FragColor = packDepthToRGBA( fragCoordZ );":`
      gl_FragColor = packDepthToRGBA( fragCoordZ );
      gl_FragColor.a *= `.concat(at.depthAlpha,`;
    `)});ml={},Ht(ml,"".concat(at.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( `.concat(at.position,`, 1.0 );
  `)}),Ht(ml,"".concat(at.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = `.concat(at.position,`;
  `)}),Ht(ml,"".concat(at.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(at.diffuseColor,`;
  `)}),Ht(ml,"".concat(at.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(at.fragColor,`;
  `)});var yi;yi={},Ht(yi,"".concat(at.position),"*"),Ht(yi,"".concat(at.positionRaw),"*"),Ht(yi,"".concat(at.normal),"*"),Ht(yi,"".concat(at.pointSize),["PointsMaterial"]),Ht(yi,"".concat(at.diffuseColor),"*"),Ht(yi,"".concat(at.fragColor),"*"),Ht(yi,"".concat(at.emissive),["MeshStandardMaterial","MeshPhysicalMaterial"]),Ht(yi,"".concat(at.roughness),["MeshStandardMaterial","MeshPhysicalMaterial"]),Ht(yi,"".concat(at.metalness),["MeshStandardMaterial","MeshPhysicalMaterial"]),Ht(yi,"".concat(at.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial"]),Ht(yi,"".concat(at.bump),["MeshLambertMaterial","MeshMatcapMaterial","MeshNormalMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshStandardMaterial","MeshToonMaterial","ShadowMaterial"]),Ht(yi,"".concat(at.depthAlpha),"*");new Wi;new G;Be.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Me(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};tr.line={uniforms:up.merge([Be.common,Be.fog,Be.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				// get the offset direction as perpendicular to the view vector
				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 offset;
				if ( position.y < 0.5 ) {

					offset = normalize( cross( start.xyz, worldDir ) );

				} else {

					offset = normalize( cross( end.xyz, worldDir ) );

				}

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// extend the line bounds to encompass  endcaps
					start.xyz += - worldDir * linewidth * 0.5;
					end.xyz += worldDir * linewidth * 0.5;

					// shift the position of the quad so it hugs the forward edge of the line
					offset.xy -= dir * forwardOffset;
					offset.z += 0.5;

				#endif

				// endcaps
				if ( position.y > 1.0 || position.y < 0.0 ) {

					offset.xy += dir * 2.0 * forwardOffset;

				}

				// adjust for linewidth
				offset *= linewidth * 0.5;

				// set the world position
				worldPos = ( position.y < 0.5 ) ? start : end;
				worldPos.xyz += offset;

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};new G;new G;new Tt;new Tt;new Tt;new G;new it;new OA;new G;new Wi;new $i;new Tt;class Jb extends pn{constructor(){const e=Jb.SkyShader,n=new fr({name:e.name,uniforms:up.clone(e.uniforms),vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:ei,depthWrite:!1});super(new _a(1,1,1),n),this.isSky=!0}}Jb.SkyShader={name:"SkyShader",uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new G},up:{value:new G(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPosition );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};var A6={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(w6,function(){var n=function(){function i(f){return a.appendChild(f.dom),f}function r(f){for(var p=0;p<a.children.length;p++)a.children[p].style.display=p===f?"block":"none";s=f}var s=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(f){f.preventDefault(),r(++s%a.children.length)},!1);var o=(performance||Date).now(),l=o,c=0,u=i(new n.Panel("FPS","#0ff","#002")),d=i(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=i(new n.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:a,addPanel:i,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){c++;var f=(performance||Date).now();if(d.update(f-o,200),f>l+1e3&&(u.update(1e3*c/(f-l),100),l=f,c=0,h)){var p=performance.memory;h.update(p.usedJSHeapSize/1048576,p.jsHeapSizeLimit/1048576)}return f},update:function(){o=this.end()},domElement:a,setMode:r}};return n.Panel=function(i,r,s){var a=1/0,o=0,l=Math.round,c=l(window.devicePixelRatio||1),u=80*c,d=48*c,h=3*c,f=2*c,p=3*c,g=15*c,m=74*c,v=30*c,x=document.createElement("canvas");x.width=u,x.height=d,x.style.cssText="width:80px;height:48px";var y=x.getContext("2d");return y.font="bold "+9*c+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=s,y.fillRect(0,0,u,d),y.fillStyle=r,y.fillText(i,h,f),y.fillRect(p,g,m,v),y.fillStyle=s,y.globalAlpha=.9,y.fillRect(p,g,m,v),{dom:x,update:function(b,A){a=Math.min(a,b),o=Math.max(o,b),y.fillStyle=s,y.globalAlpha=1,y.fillRect(0,0,u,g),y.fillStyle=r,y.fillText(l(b)+" "+i+" ("+l(a)+"-"+l(o)+")",h,f),y.drawImage(x,p+c,g,m-c,v,p,g,m-c,v),y.fillRect(p+m-c,g,c,v),y.fillStyle=s,y.globalAlpha=.9,y.fillRect(p+m-c,g,c,l((1-b/A)*v))}}},n})})(A6);var T6=`#include <common>

void main() {
  vec2 center = vec2(0., 1.);
  float rotation = 0.0;

  
  
  float size = 0.03;

  vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
  vec2 scale;
  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

  bool isPerspective = isPerspectiveMatrix( projectionMatrix );
  if ( isPerspective ) scale *= - mvPosition.z;

  vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
  vec2 rotatedPosition;
  rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
  rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
  mvPosition.xy += rotatedPosition;

  gl_Position = projectionMatrix * mvPosition;
}`,P6=`void main() {
  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
}`;const md=new G(0,0,0),Qb=new G(0,0,0),R6=new G(0,0,0);function l1(t,e,n){const i=md.setFromMatrixPosition(t.matrixWorld);i.project(e);const r=n.width/2,s=n.height/2;return[(Number.isNaN(i.x)?0:i.x)*r+r,-(i.y*s)+s]}function L6(t,e){const n=md.setFromMatrixPosition(t.matrixWorld),i=Qb.setFromMatrixPosition(e.matrixWorld),r=n.sub(i),s=e.getWorldDirection(R6);return r.angleTo(s)>Math.PI/2}function I6(t,e,n,i){const r=md.setFromMatrixPosition(t.matrixWorld),s=r.clone();s.project(e),n.setFromCamera(new Me(s.x,s.y),e);const a=n.intersectObjects(i,!0);if(a.length>0){const o=a[0].distance;return r.distanceTo(n.ray.origin)<o}return!0}function k6(t,e){if(e instanceof sr)return e.zoom;if(e instanceof Wt){const n=md.setFromMatrixPosition(t.matrixWorld),i=Qb.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=n.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function D6(t,e,n){if(e instanceof Wt||e instanceof sr){const i=md.setFromMatrixPosition(t.matrixWorld),r=Qb.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),a=(n[1]-n[0])/(e.far-e.near),o=n[1]-a*e.far;return Math.round(a*s+o)}}const oy=t=>Math.abs(t)<1e-10?0:t;function YT(t,e,n=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=oy(e[r]*t.elements[r])+(r!==15?",":")");return n+i}const O6=(t=>e=>YT(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),V6=(t=>(e,n)=>YT(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]),N6=["geometry","material"];new lc;const F6=Nn("TresPerspectiveCamera",null,null,-1),B6=Nn("TresAmbientLight",{intensity:1},null,-1),U6=Nn("TresDirectionalLight",{position:[-4,8,4],intensity:1.5,"cast-shadow":""},null,-1),z6=Nn("TresDirectionalLight",{position:[-4,30,4],intensity:.2},null,-1),H6={__name:"room",setup(t){const{onLoop:e}=od(),n=Le();e(({delta:r,elapsed:s})=>{n.value&&(n.value.rotation.y+=r,n.value.position.y=Math.sin(s))});const i=Le();return e(({delta:r,elapsed:s})=>{i.value&&(i.value.rotation.y+=r/2,i.value.position.y=Math.sin(s)/2)}),(r,s)=>{const a=qn("motion-slide-visible-right");return St((Qn(),sg(Ye(Vz),{"clear-color":"#1A1644"},{default:Jv(()=>[F6,C(Ye(x6)),Nn("TresMesh",{ref_key:"roomRef",ref:i},[(Qn(),sg(Y2,null,{default:Jv(()=>[C(Ye(b6),{path:"IsoBedroom.glb"})]),_:1}))],512),B6,U6,z6]),_:1})),[[a]])}}},G6="/ShivamAminPortfolio/Parallax/FrontTrees.png",W6="/ShivamAminPortfolio/Parallax/BackTrees.png",$6="/ShivamAminPortfolio/Parallax/Clouds.png",j6="/ShivamAminPortfolio/Parallax/Mountain.png",X6="/ShivamAminPortfolio/Parallax/Foreground.png",q6="/ShivamAminPortfolio/Parallax/Stars.png",Y6={class:"h-screen bg-sky bg-no-repeat relative bg-fixed bg-cover flex flex-col justify-start items-center"},K6=["src"],Z6=["src"],J6=["src"],Q6=["src"],eW=["src"],tW=["src"],nW={__name:"intro",setup(t){const e=he(),n=he(),i=he(),r=he(),s=he(),a=he(),o=he(),l=he();vn(()=>{document.addEventListener("scroll",c)}),Zr(()=>{document.removeEventListener("scroll",c)});const c=u=>{const d=window.scrollY;console.log(d);const h=d/20;d<1e3&&(i.value.style.transform="translateY("+h+"px)scale("+(1+h*.02)+")",r.value.style.transform="translateX("+h*20+"px)",l.value.style.transform="translateY("+h*-15+"px)",s.value.style.transform="translateY("+h*-20+"px)scale("+(1+h*.2)+")",a.value.style.transform="scale("+(1+h*.005)+")",e.value.style.transform="translateX("+h*20+"px)",n.value.style.transform="translateX("+h*10+"px)")};return(u,d)=>{const h=qn("motion-fade");return Qn(),rr("div",Y6,[St((Qn(),rr("h1",{class:"font-extrabold text-6xl display-1 mt-28 text-white text-shadow shadow-purple-900",ref_key:"greeting",ref:e},[Ti(" Hi, I'm ")])),[[h]]),St((Qn(),rr("h1",{class:"font-extrabold text-6xl text-white text-shadow shadow-purple-900",ref_key:"name",ref:n},[Ti(" Shivam ")])),[[h]]),St(Nn("img",{src:Ye(q6),class:"h-full absolute",ref_key:"stars",ref:l},null,8,K6),[[h]]),St(Nn("img",{src:Ye($6),class:"h-full absolute",ref_key:"clouds",ref:r},null,8,Z6),[[h]]),St(Nn("img",{src:Ye(j6),class:"h-full absolute",ref_key:"mountain",ref:i},null,8,J6),[[h]]),St(Nn("img",{src:Ye(W6),class:"h-full absolute",ref_key:"backTrees",ref:a},null,8,Q6),[[h]]),St(Nn("img",{src:Ye(X6),class:"h-full absolute",ref_key:"foreGround",ref:o},null,8,eW),[[h]]),St(Nn("img",{src:Ye(G6),class:"h-full absolute",ref_key:"frontTrees",ref:s},null,8,tW),[[h]])])}}},iW={class:"w-screen flex flex-row mt-40"},rW={class:"w-1/2 flex flex-col"},sW={class:"w-1/2 text-6xl font-bold text-shadow shadow-black"},aW={class:"font-medium"},oW={class:"w-1/2 h-screen flex flex-row relative"},lW={class:"flex justify-center"},cW={class:"text-6xl font-bold text-shadow shadow-black"},uW=Nn("div",null,null,-1),dW={__name:"App",setup(t){return(e,n)=>{const i=qn("motion-slide-visible-left");return Qn(),rr(je,null,[C(nW),Nn("div",iW,[Nn("div",rW,[St((Qn(),rr("h1",sW,[Ti("About Me")])),[[i]]),St((Qn(),rr("p",aW,[Ti("I am a freshman majoring in computer science at the university of Maryland, College Park. I have previous experience with programming languages including java, python, c#, html, css, and javascript.")])),[[i]])]),Nn("div",oW,[C(H6,{class:"justify-center items-start"})])]),Nn("div",lW,[St((Qn(),rr("h1",cW,[Ti(" Experiences ")])),[[i]])]),uW],64)}}};function ly(t,e,n=".",i){if(!Tv(e))return ly(t,{},n,i);const r=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const a=t[s];a!=null&&(i&&i(r,s,a,n)||(Array.isArray(a)&&Array.isArray(r[s])?r[s]=[...a,...r[s]]:Tv(a)&&Tv(r[s])?r[s]=ly(a,r[s],(n?`${n}.`:"")+s.toString(),i):r[s]=a))}return r}function Tv(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function hW(t){return(...e)=>e.reduce((n,i)=>ly(n,i,"",t),{})}const fW=hW(),KT=1/60*1e3,pW=typeof performance<"u"?()=>performance.now():()=>Date.now(),ZT=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(pW()),KT);function mW(t){let e=[],n=[],i=0,r=!1,s=!1;const a=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const d=u&&r,h=d?e:n;return c&&a.add(l),h.indexOf(l)===-1&&(h.push(l),d&&r&&(i=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),a.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let c=0;c<i;c++){const u=e[c];u(l),a.has(u)&&(o.schedule(u),t())}r=!1,s&&(s=!1,o.process(l))}};return o}const vW=40;let cy=!0,Nu=!1,uy=!1;const Vl={delta:0,timestamp:0},vd=["read","update","preRender","render","postRender"],Hp=vd.reduce((t,e)=>(t[e]=mW(()=>Nu=!0),t),{}),dy=vd.reduce((t,e)=>{const n=Hp[e];return t[e]=(i,r=!1,s=!1)=>(Nu||bW(),n.schedule(i,r,s)),t},{}),gW=vd.reduce((t,e)=>(t[e]=Hp[e].cancel,t),{});vd.reduce((t,e)=>(t[e]=()=>Hp[e].process(Vl),t),{});const yW=t=>Hp[t].process(Vl),JT=t=>{Nu=!1,Vl.delta=cy?KT:Math.max(Math.min(t-Vl.timestamp,vW),1),Vl.timestamp=t,uy=!0,vd.forEach(yW),uy=!1,Nu&&(cy=!1,ZT(JT))},bW=()=>{Nu=!0,cy=!0,uy||ZT(JT)},QT=()=>Vl;function eP(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}var _W=function(){},c1=function(){};const hy=(t,e,n)=>Math.min(Math.max(n,t),e),Pv=.001,xW=.01,u1=10,wW=.05,SW=1;function MW({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s;_W(t<=u1*1e3);let a=1-e;a=hy(wW,SW,a),t=hy(xW,u1,t/1e3),a<1?(r=c=>{const u=c*a,d=u*t,h=u-n,f=fy(c,a),p=Math.exp(-d);return Pv-h/f*p},s=c=>{const d=c*a*t,h=d*n+n,f=Math.pow(a,2)*Math.pow(c,2)*t,p=Math.exp(-d),g=fy(Math.pow(c,2),a);return(-r(c)+Pv>0?-1:1)*((h-f)*p)/g}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Pv+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const o=5/t,l=CW(r,s,o);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:t}}}const EW=12;function CW(t,e,n){let i=n;for(let r=1;r<EW;r++)i=i-t(i)/e(i);return i}function fy(t,e){return t*Math.sqrt(1-e*e)}const AW=["duration","bounce"],TW=["stiffness","damping","mass"];function d1(t,e){return e.some(n=>t[n]!==void 0)}function PW(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!d1(t,TW)&&d1(t,AW)){const n=MW(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function e_(t){var{from:e=0,to:n=1,restSpeed:i=2,restDelta:r}=t,s=eP(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:e};let{stiffness:o,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:h}=PW(s),f=h1,p=h1;function g(){const m=u?-(u/1e3):0,v=n-e,x=l/(2*Math.sqrt(o*c)),y=Math.sqrt(o/c)/1e3;if(r===void 0&&(r=Math.min(Math.abs(n-e)/100,.4)),x<1){const b=fy(y,x);f=A=>{const M=Math.exp(-x*y*A);return n-M*((m+x*y*v)/b*Math.sin(b*A)+v*Math.cos(b*A))},p=A=>{const M=Math.exp(-x*y*A);return x*y*M*(Math.sin(b*A)*(m+x*y*v)/b+v*Math.cos(b*A))-M*(Math.cos(b*A)*(m+x*y*v)-b*v*Math.sin(b*A))}}else if(x===1)f=b=>n-Math.exp(-y*b)*(v+(m+y*v)*b);else{const b=y*Math.sqrt(x*x-1);f=A=>{const M=Math.exp(-x*y*A),E=Math.min(b*A,300);return n-M*((m+x*y*v)*Math.sinh(E)+b*v*Math.cosh(E))/b}}}return g(),{next:m=>{const v=f(m);if(h)a.done=m>=d;else{const x=p(m)*1e3,y=Math.abs(x)<=i,b=Math.abs(n-v)<=r;a.done=y&&b}return a.value=a.done?n:v,a},flipTarget:()=>{u=-u,[e,n]=[n,e],g()}}}e_.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const h1=t=>0,tP=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},t_=(t,e,n)=>-n*t+n*e+t,nP=(t,e)=>n=>Math.max(Math.min(n,e),t),ru=t=>t%1?Number(t.toFixed(5)):t,Fu=/(-)?([\d]*\.?[\d])+/g,py=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,RW=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gd(t){return typeof t=="string"}const yd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},su=Object.assign(Object.assign({},yd),{transform:nP(0,1)}),Vh=Object.assign(Object.assign({},yd),{default:1}),n_=t=>({test:e=>gd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wa=n_("deg"),au=n_("%"),pt=n_("px"),f1=Object.assign(Object.assign({},au),{parse:t=>au.parse(t)/100,transform:t=>au.transform(t*100)}),i_=(t,e)=>n=>!!(gd(n)&&RW.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),iP=(t,e,n)=>i=>{if(!gd(i))return i;const[r,s,a,o]=i.match(Fu);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},so={test:i_("hsl","hue"),parse:iP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+au.transform(ru(e))+", "+au.transform(ru(n))+", "+ru(su.transform(i))+")"},LW=nP(0,255),Rv=Object.assign(Object.assign({},yd),{transform:t=>Math.round(LW(t))}),ra={test:i_("rgb","red"),parse:iP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Rv.transform(t)+", "+Rv.transform(e)+", "+Rv.transform(n)+", "+ru(su.transform(i))+")"};function IW(t){let e="",n="",i="",r="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),i=t.substr(5,2),r=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),i=t.substr(3,1),r=t.substr(4,1),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const my={test:i_("#"),parse:IW,transform:ra.transform},xi={test:t=>ra.test(t)||my.test(t)||so.test(t),parse:t=>ra.test(t)?ra.parse(t):so.test(t)?so.parse(t):my.parse(t),transform:t=>gd(t)?t:t.hasOwnProperty("red")?ra.transform(t):so.transform(t)},rP="${c}",sP="${n}";function kW(t){var e,n,i,r;return isNaN(t)&&gd(t)&&((n=(e=t.match(Fu))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((r=(i=t.match(py))===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0)>0}function aP(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const i=t.match(py);i&&(n=i.length,t=t.replace(py,rP),e.push(...i.map(xi.parse)));const r=t.match(Fu);return r&&(t=t.replace(Fu,sP),e.push(...r.map(yd.parse))),{values:e,numColors:n,tokenised:t}}function oP(t){return aP(t).values}function lP(t){const{values:e,numColors:n,tokenised:i}=aP(t),r=e.length;return s=>{let a=i;for(let o=0;o<r;o++)a=a.replace(o<n?rP:sP,o<n?xi.transform(s[o]):ru(s[o]));return a}}const DW=t=>typeof t=="number"?0:t;function OW(t){const e=oP(t);return lP(t)(e.map(DW))}const bd={test:kW,parse:oP,createTransformer:lP,getAnimatableNone:OW},VW=new Set(["brightness","contrast","saturate","opacity"]);function NW(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Fu)||[];if(!i)return t;const r=n.replace(i,"");let s=VW.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const FW=/([a-z-]*)\(.*?\)/g,vy=Object.assign(Object.assign({},bd),{getAnimatableNone:t=>{const e=t.match(FW);return e?e.map(NW).join(" "):t}});function Lv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function p1({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,a=0;if(!e)r=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=Lv(l,o,t+1/3),s=Lv(l,o,t),a=Lv(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}const BW=(t,e,n)=>{const i=t*t,r=e*e;return Math.sqrt(Math.max(0,n*(r-i)+i))},UW=[my,ra,so],m1=t=>UW.find(e=>e.test(t)),cP=(t,e)=>{let n=m1(t),i=m1(e),r=n.parse(t),s=i.parse(e);n===so&&(r=p1(r),n=ra),i===so&&(s=p1(s),i=ra);const a=Object.assign({},r);return o=>{for(const l in a)l!=="alpha"&&(a[l]=BW(r[l],s[l],o));return a.alpha=t_(r.alpha,s.alpha,o),n.transform(a)}},zW=t=>typeof t=="number",HW=(t,e)=>n=>e(t(n)),uP=(...t)=>t.reduce(HW);function dP(t,e){return zW(t)?n=>t_(t,e,n):xi.test(t)?cP(t,e):fP(t,e)}const hP=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,a)=>dP(s,e[a]));return s=>{for(let a=0;a<i;a++)n[a]=r[a](s);return n}},GW=(t,e)=>{const n=Object.assign(Object.assign({},t),e),i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=dP(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}};function v1(t){const e=bd.parse(t),n=e.length;let i=0,r=0,s=0;for(let a=0;a<n;a++)i||typeof e[a]=="number"?i++:e[a].hue!==void 0?s++:r++;return{parsed:e,numNumbers:i,numRGB:r,numHSL:s}}const fP=(t,e)=>{const n=bd.createTransformer(e),i=v1(t),r=v1(e);return i.numHSL===r.numHSL&&i.numRGB===r.numRGB&&i.numNumbers>=r.numNumbers?uP(hP(i.parsed,r.parsed),n):a=>`${a>0?e:t}`},WW=(t,e)=>n=>t_(t,e,n);function $W(t){if(typeof t=="number")return WW;if(typeof t=="string")return xi.test(t)?cP:fP;if(Array.isArray(t))return hP;if(typeof t=="object")return GW}function jW(t,e,n){const i=[],r=n||$W(t[0]),s=t.length-1;for(let a=0;a<s;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]:e;o=uP(l,o)}i.push(o)}return i}function XW([t,e],[n]){return i=>n(tP(t,e,i))}function qW(t,e){const n=t.length,i=n-1;return r=>{let s=0,a=!1;if(r<=t[0]?a=!0:r>=t[i]&&(s=i-1,a=!0),!a){let l=1;for(;l<n&&!(t[l]>r||l===i);l++);s=l-1}const o=tP(t[s],t[s+1],r);return e[s](o)}}function pP(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;c1(s===e.length),c1(!i||!Array.isArray(i)||i.length===s-1),t[0]>t[s-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const a=jW(e,i,r),o=s===2?XW(t,a):qW(t,a);return n?l=>o(hy(t[0],t[s-1],l)):o}const Gp=t=>e=>1-t(1-e),r_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YW=t=>e=>Math.pow(e,t),mP=t=>e=>e*e*((t+1)*e-t),KW=t=>{const e=mP(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},vP=1.525,ZW=4/11,JW=8/11,QW=9/10,gP=t=>t,s_=YW(2),e8=Gp(s_),yP=r_(s_),bP=t=>1-Math.sin(Math.acos(t)),_P=Gp(bP),t8=r_(_P),a_=mP(vP),n8=Gp(a_),i8=r_(a_),r8=KW(vP),s8=4356/361,a8=35442/1805,o8=16061/1805,If=t=>{if(t===1||t===0)return t;const e=t*t;return t<ZW?7.5625*e:t<JW?9.075*e-9.9*t+3.4:t<QW?s8*e-a8*t+o8:10.8*t*t-20.52*t+10.72},l8=Gp(If),c8=t=>t<.5?.5*(1-If(1-t*2)):.5*If(t*2-1)+.5;function u8(t,e){return t.map(()=>e||yP).splice(0,t.length-1)}function d8(t){const e=t.length;return t.map((n,i)=>i!==0?i/(e-1):0)}function h8(t,e){return t.map(n=>n*e)}function of({from:t=0,to:e=1,ease:n,offset:i,duration:r=300}){const s={done:!1,value:t},a=Array.isArray(e)?e:[t,e],o=h8(i&&i.length===a.length?i:d8(a),r);function l(){return pP(o,a,{ease:Array.isArray(n)?n:u8(a,n)})}let c=l();return{next:u=>(s.value=c(u),s.done=u>=r,s),flipTarget:()=>{a.reverse(),c=l()}}}function f8({velocity:t=0,from:e=0,power:n=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const a={done:!1,value:e};let o=n*t;const l=e+o,c=s===void 0?l:s(l);return c!==l&&(o=c-e),{next:u=>{const d=-o*Math.exp(-u/i);return a.done=!(d>r||d<-r),a.value=a.done?c:c+d,a},flipTarget:()=>{}}}const g1={keyframes:of,spring:e_,decay:f8};function p8(t){if(Array.isArray(t.to))return of;if(g1[t.type])return g1[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?of:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?e_:of}function xP(t,e,n=0){return t-e-n}function m8(t,e,n=0,i=!0){return i?xP(e+-t,e,n):e-(t-e)+n}function v8(t,e,n,i){return i?t>=e+n:t<=-n}const g8=t=>{const e=({delta:n})=>t(n);return{start:()=>dy.update(e,!0),stop:()=>gW.update(e)}};function wP(t){var e,n,{from:i,autoplay:r=!0,driver:s=g8,elapsed:a=0,repeat:o=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:d,onComplete:h,onRepeat:f,onUpdate:p}=t,g=eP(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:m}=g,v,x=0,y=g.duration,b,A=!1,M=!0,E;const S=p8(g);!((n=(e=S).needsInterpolation)===null||n===void 0)&&n.call(e,i,m)&&(E=pP([0,100],[i,m],{clamp:!1}),i=0,m=100);const _=S(Object.assign(Object.assign({},g),{from:i,to:m}));function w(){x++,l==="reverse"?(M=x%2===0,a=m8(a,y,c,M)):(a=xP(a,y,c),l==="mirror"&&_.flipTarget()),A=!1,f&&f()}function P(){v.stop(),h&&h()}function R(k){if(M||(k=-k),a+=k,!A){const z=_.next(Math.max(0,a));b=z.value,E&&(b=E(b)),A=M?z.done:a<=0}p==null||p(b),A&&(x===0&&(y??(y=a)),x<o?v8(a,y,c,M)&&w():P())}function N(){u==null||u(),v=s(R),v.start()}return r&&N(),{stop:()=>{d==null||d(),v.stop()}}}function SP(t,e){return e?t*(1e3/e):0}function y8({from:t=0,velocity:e=0,min:n,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:a=500,bounceDamping:o=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:h,onStop:f}){let p;function g(y){return n!==void 0&&y<n||i!==void 0&&y>i}function m(y){return n===void 0?i:i===void 0||Math.abs(n-y)<Math.abs(i-y)?n:i}function v(y){p==null||p.stop(),p=wP(Object.assign(Object.assign({},y),{driver:u,onUpdate:b=>{var A;d==null||d(b),(A=y.onUpdate)===null||A===void 0||A.call(y,b)},onComplete:h,onStop:f}))}function x(y){v(Object.assign({type:"spring",stiffness:a,damping:o,restDelta:l},y))}if(g(t))x({from:t,velocity:e,to:m(t)});else{let y=r*e+t;typeof c<"u"&&(y=c(y));const b=m(y),A=b===n?-1:1;let M,E;const S=_=>{M=E,E=_,e=SP(_-M,QT().delta),(A===1&&_>b||A===-1&&_<b)&&x({from:_,to:b,velocity:e})};v({type:"decay",from:t,velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:g(y)?S:void 0})}return{stop:()=>p==null?void 0:p.stop()}}const MP=(t,e)=>1-3*e+3*t,EP=(t,e)=>3*e-6*t,CP=t=>3*t,kf=(t,e,n)=>((MP(e,n)*t+EP(e,n))*t+CP(e))*t,AP=(t,e,n)=>3*MP(e,n)*t*t+2*EP(e,n)*t+CP(e),b8=1e-7,_8=10;function x8(t,e,n,i,r){let s,a,o=0;do a=e+(n-e)/2,s=kf(a,i,r)-t,s>0?n=a:e=a;while(Math.abs(s)>b8&&++o<_8);return a}const w8=8,S8=.001;function M8(t,e,n,i){for(let r=0;r<w8;++r){const s=AP(e,n,i);if(s===0)return e;const a=kf(e,n,i)-t;e-=a/s}return e}const lf=11,Nh=1/(lf-1);function E8(t,e,n,i){if(t===e&&n===i)return gP;const r=new Float32Array(lf);for(let a=0;a<lf;++a)r[a]=kf(a*Nh,t,n);function s(a){let o=0,l=1;const c=lf-1;for(;l!==c&&r[l]<=a;++l)o+=Nh;--l;const u=(a-r[l])/(r[l+1]-r[l]),d=o+u*Nh,h=AP(d,t,n);return h>=S8?M8(a,d,t,n):h===0?d:x8(a,o,o+Nh,t,n)}return a=>a===0||a===1?a:kf(s(a),e,i)}const Iv={};class C8{constructor(){this.subscriptions=new Set}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,n,i){if(this.subscriptions.size)for(const r of this.subscriptions)r(e,n,i)}clear(){this.subscriptions.clear()}}function y1(t){return!isNaN(parseFloat(t))}class A8{constructor(e){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new C8,this.canTrackVelocity=!1,this.updateAndNotify=n=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:r}=QT();this.lastUpdated!==r&&(this.timeDelta=i,this.lastUpdated=r),dy.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>dy.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=y1(this.current)),n!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=e,this.canTrackVelocity=y1(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?SP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{const{stop:i}=e(n);this.stopAnimation=i}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function T8(t){return new A8(t)}const{isArray:P8}=Array;function R8(){const t=he({}),e=i=>{const r=s=>{t.value[s]&&(t.value[s].stop(),t.value[s].destroy(),delete t.value[s])};i?P8(i)?i.forEach(r):r(i):Object.keys(t.value).forEach(r)},n=(i,r,s)=>{if(t.value[i])return t.value[i];const a=T8(r);return a.onChange(o=>s[i]=o),t.value[i]=a,a};return iz(e),{motionValues:t,get:n,stop:e}}function L8(t){return Array.isArray(t)}function $a(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function kv(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function I8(t){return{type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}}function Dv(){return{type:"keyframes",ease:"linear",duration:300}}function k8(t){return{type:"keyframes",duration:800,values:t}}const b1={default:I8,x:$a,y:$a,z:$a,rotate:$a,rotateX:$a,rotateY:$a,rotateZ:$a,scaleX:kv,scaleY:kv,scale:kv,backgroundColor:Dv,color:Dv,opacity:Dv};function TP(t,e){let n;return L8(e)?n=k8:n=b1[t]||b1.default,{to:e,...n(e)}}const _1={...yd,transform:Math.round},PP={color:xi,backgroundColor:xi,outlineColor:xi,fill:xi,stroke:xi,borderColor:xi,borderTopColor:xi,borderRightColor:xi,borderBottomColor:xi,borderLeftColor:xi,borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,size:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:Wa,skewX:Wa,skewY:Wa,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:su,originX:f1,originY:f1,originZ:pt,zIndex:_1,filter:vy,WebkitFilter:vy,fillOpacity:su,strokeOpacity:su,numOctaves:_1},o_=t=>PP[t];function RP(t,e){return e&&typeof t=="number"&&e.transform?e.transform(t):t}function D8(t,e){let n=o_(t);return n!==vy&&(n=bd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const O8={linear:gP,easeIn:s_,easeInOut:yP,easeOut:e8,circIn:bP,circInOut:t8,circOut:_P,backIn:a_,backInOut:i8,backOut:n8,anticipate:r8,bounceIn:l8,bounceInOut:c8,bounceOut:If};function x1(t){if(Array.isArray(t)){const[e,n,i,r]=t;return E8(e,n,i,r)}else if(typeof t=="string")return O8[t];return t}function V8(t){return Array.isArray(t)&&typeof t[0]!="number"}function w1(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&bd.test(e)&&!e.startsWith("url("))}function N8(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function F8({ease:t,times:e,delay:n,...i}){const r={...i};return e&&(r.offset=e),t&&(r.ease=V8(t)?t.map(x1):x1(t)),n&&(r.elapsed=-n),r}function B8(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),N8(e),U8(t)||(t={...t,...TP(n,e.to)}),{...e,...F8(t)}}function U8({delay:t,repeat:e,repeatType:n,repeatDelay:i,from:r,...s}){return!!Object.keys(s).length}function z8(t,e){return t[e]||t.default||t}function H8(t,e,n,i,r){const s=z8(i,t);let a=s.from===null||s.from===void 0?e.get():s.from;const o=w1(t,n);a==="none"&&o&&typeof n=="string"&&(a=D8(t,n));const l=w1(t,a);function c(d){const h={from:a,to:n,velocity:i.velocity?i.velocity:e.getVelocity(),onUpdate:f=>e.set(f)};return s.type==="inertia"||s.type==="decay"?y8({...h,...s}):wP({...B8(s,h,t),onUpdate:f=>{h.onUpdate(f),s.onUpdate&&s.onUpdate(f)},onComplete:()=>{i.onComplete&&i.onComplete(),r&&r(),d&&d()}})}function u(d){return e.set(n),i.onComplete&&i.onComplete(),r&&r(),d&&d(),{stop:()=>{}}}return!l||!o||s.type===!1?u:c}function G8(){const{motionValues:t,stop:e,get:n}=R8();return{motionValues:t,stop:e,push:(r,s,a,o={},l)=>{const c=a[r],u=n(r,c,a);if(o&&o.immediate){u.set(s);return}const d=H8(r,u,s,o,l);u.start(d)}}}function W8(t,e={},{motionValues:n,push:i,stop:r}=G8()){const s=Ye(e),a=he(!1);Re(n,d=>{a.value=Object.values(d).filter(h=>h.isAnimating()).length>0},{immediate:!0,deep:!0});const o=d=>{if(!s||!s[d])throw new Error(`The variant ${d} does not exist.`);return s[d]},l=d=>(typeof d=="string"&&(d=o(d)),Promise.all(Object.entries(d).map(([h,f])=>{if(h!=="transition")return new Promise(p=>i(h,f,t,d.transition||TP(h,d[h]),p))}).filter(Boolean)));return{isAnimating:a,apply:l,set:d=>{const h=Cf(d)?d:o(d);Object.entries(h).forEach(([f,p])=>{f!=="transition"&&i(f,p,t,{immediate:!0})})},leave:async d=>{let h;if(s&&(s.leave&&(h=s.leave),!s.leave&&s.initial&&(h=s.initial)),!h){d();return}await l(h),d()},stop:r}}const l_=typeof window<"u",$8=()=>l_&&window.onpointerdown===null,j8=()=>l_&&window.ontouchstart===null,X8=()=>l_&&window.onmousedown===null;function q8({target:t,state:e,variants:n,apply:i}){const r=Ye(n),s=he(!1),a=he(!1),o=he(!1),l=I(()=>{let u=[];return r&&(r.hovered&&(u=[...u,...Object.keys(r.hovered)]),r.tapped&&(u=[...u,...Object.keys(r.tapped)]),r.focused&&(u=[...u,...Object.keys(r.focused)])),u}),c=I(()=>{const u={};Object.assign(u,e.value),s.value&&r.hovered&&Object.assign(u,r.hovered),a.value&&r.tapped&&Object.assign(u,r.tapped),o.value&&r.focused&&Object.assign(u,r.focused);for(const d in u)l.value.includes(d)||delete u[d];return u});r.hovered&&(Zn(t,"mouseenter",()=>s.value=!0),Zn(t,"mouseleave",()=>{s.value=!1,a.value=!1}),Zn(t,"mouseout",()=>{s.value=!1,a.value=!1})),r.tapped&&(X8()&&(Zn(t,"mousedown",()=>a.value=!0),Zn(t,"mouseup",()=>a.value=!1)),$8()&&(Zn(t,"pointerdown",()=>a.value=!0),Zn(t,"pointerup",()=>a.value=!1)),j8()&&(Zn(t,"touchstart",()=>a.value=!0),Zn(t,"touchend",()=>a.value=!1))),r.focused&&(Zn(t,"focus",()=>o.value=!0),Zn(t,"blur",()=>o.value=!1)),Re(c,i)}function Y8({set:t,target:e,variants:n,variant:i}){const r=Ye(n);Re(()=>e,()=>{r&&(r.initial&&t("initial"),r.enter&&(i.value="enter"))},{immediate:!0,flush:"pre"})}function K8({state:t,apply:e}){Re(t,n=>{n&&e(n)},{immediate:!0})}function Z8({target:t,variants:e,variant:n}){const i=Ye(e);i&&(i.visible||i.visibleOnce)&&uz(t,([{isIntersecting:r}])=>{i.visible?r?n.value="visible":n.value="initial":i.visibleOnce&&(r&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function J8(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&Y8(t),e.syncVariants&&K8(t),e.visibilityHooks&&Z8(t),e.eventListeners&&q8(t)}function LP(t={}){const e=Sn({...t}),n=he({});return Re(e,()=>{const i={};for(const[r,s]of Object.entries(e)){const a=o_(r),o=RP(s,a);i[r]=o}n.value=i},{immediate:!0,deep:!0}),{state:e,style:n}}function c_(t,e){Re(()=>Ei(t),n=>{n&&e(n)},{immediate:!0})}const Q8={x:"translateX",y:"translateY",z:"translateZ"};function IP(t={},e=!0){const n=Sn({...t}),i=he("");return Re(n,r=>{let s="",a=!1;if(e&&(r.x||r.y||r.z)){const o=[r.x||0,r.y||0,r.z||0].map(pt.transform).join(",");s+=`translate3d(${o}) `,a=!0}for(const[o,l]of Object.entries(r)){if(e&&(o==="x"||o==="y"||o==="z"))continue;const c=o_(o),u=RP(l,c);s+=`${Q8[o]||o}(${u}) `}e&&!a&&(s+="translateZ(0px) "),i.value=s.trim()},{immediate:!0,deep:!0}),{state:n,transform:i}}const e$=["","X","Y","Z"],t$=["perspective","translate","scale","rotate","skew"],kP=["transformPerspective","x","y","z"];t$.forEach(t=>{e$.forEach(e=>{const n=t+e;kP.push(n)})});const n$=new Set(kP);function u_(t){return n$.has(t)}const i$=new Set(["originX","originY","originZ"]);function DP(t){return i$.has(t)}function r$(t){const e={},n={};return Object.entries(t).forEach(([i,r])=>{u_(i)||DP(i)?e[i]=r:n[i]=r}),{transform:e,style:n}}function OP(t){const{transform:e,style:n}=r$(t),{transform:i}=IP(e),{style:r}=LP(n);return i.value&&(r.value.transform=i.value),r.value}function s$(t,e){let n,i;const{state:r,style:s}=LP();return c_(t,a=>{i=a;for(const o of Object.keys(PP))a.style[o]===null||a.style[o]===""||u_(o)||DP(o)||(r[o]=a.style[o]);n&&Object.entries(n).forEach(([o,l])=>a.style[o]=l),e&&e(r)}),Re(s,a=>{if(!i){n=a;return}for(const o in a)i.style[o]=a[o]},{immediate:!0}),{style:r}}function a$(t){const e=t.trim().split(/\) |\)/);if(e.length===1)return{};const n=i=>i.endsWith("px")||i.endsWith("deg")?parseFloat(i):isNaN(Number(i))?Number(i):i;return e.reduce((i,r)=>{if(!r)return i;const[s,a]=r.split("("),l=a.split(",").map(u=>n(u.endsWith(")")?u.replace(")",""):u.trim())),c=l.length===1?l[0]:l;return{...i,[s]:c}},{})}function o$(t,e){Object.entries(a$(e)).forEach(([n,i])=>{const r=["x","y","z"];if(n==="translate3d"){if(i===0){r.forEach(s=>t[s]=0);return}i.forEach((s,a)=>t[r[a]]=s);return}if(i=parseFloat(i),n==="translateX"){t.x=i;return}if(n==="translateY"){t.y=i;return}if(n==="translateZ"){t.z=i;return}t[n]=i})}function l$(t,e){let n,i;const{state:r,transform:s}=IP();return c_(t,a=>{i=a,a.style.transform&&o$(r,a.style.transform),n&&(a.style.transform=n),e&&e(r)}),Re(s,a=>{if(!i){n=a;return}i.style.transform=a},{immediate:!0}),{transform:r}}function c$(t,e){const n=Sn({}),i=a=>Object.entries(a).forEach(([o,l])=>n[o]=l),{style:r}=s$(t,i),{transform:s}=l$(t,i);return Re(n,a=>{Object.entries(a).forEach(([o,l])=>{const c=u_(o)?s:r;c[o]&&c[o]===l||(c[o]=l)})},{immediate:!0,deep:!0}),c_(t,()=>e&&i(e)),{motionProperties:n,style:r,transform:s}}function u$(t={}){const e=Ye(t),n=he();return{state:I(()=>{if(n.value)return e[n.value]}),variant:n}}function VP(t,e={},n){const{motionProperties:i}=c$(t),{variant:r,state:s}=u$(e),a=W8(i,e),o={target:t,variant:r,variants:e,state:s,motionProperties:i,...a};return J8(o,n),o}const d$=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"];function h$(t,e){const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};n&&(n.variants&&Cf(n.variants)&&(e.value={...e.value,...n.variants}),d$.forEach(i=>{if(i==="delay"){if(n&&n[i]&&typeof n[i]=="number"){const r=n[i];e&&e.value&&(e.value.enter&&(e.value.enter.transition||(e.value.enter.transition={}),e.value.enter.transition={delay:r,...e.value.enter.transition}),e.value.visible&&(e.value.visible.transition||(e.value.visible.transition={}),e.value.visible.transition={delay:r,...e.value.visible.transition}),e.value.visibleOnce&&(e.value.visibleOnce.transition||(e.value.visibleOnce.transition={}),e.value.visibleOnce.transition={delay:r,...e.value.visibleOnce.transition}))}return}i==="visible-once"&&(i="visibleOnce"),n&&n[i]&&Cf(n[i])&&(e.value[i]=n[i])}))}function Ov(t){return{created:(n,i,r)=>{const s=i.value&&typeof i.value=="string"?i.value:r.key;s&&Iv[s]&&Iv[s].stop();const a=he(t||{});typeof i.value=="object"&&(a.value=i.value),h$(r,a);const o=VP(n,a);n.motionInstance=o,s&&(Iv[s]=o)},getSSRProps(n,i){let{initial:r}=n.value||i&&(i==null?void 0:i.props)||{};r=Ye(r);const s=fW((t==null?void 0:t.initial)||{},r||{});return!s||Object.keys(s).length===0?void 0:{style:OP(s)}}}}const f$={initial:{opacity:0},enter:{opacity:1}},p$={initial:{opacity:0},visible:{opacity:1}},m$={initial:{opacity:0},visibleOnce:{opacity:1}},v$={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},g$={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},y$={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},b$={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},_$={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},x$={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},w$={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},S$={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},M$={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},E$={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},C$={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},A$={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},T$={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},P$={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},R$={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},L$={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},I$={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},k$={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},D$={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},O$={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},V$={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},N$={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},F$={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},B$={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},U$={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},z$={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},H$={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},gy={__proto__:null,fade:f$,fadeVisible:p$,fadeVisibleOnce:m$,pop:v$,popVisible:g$,popVisibleOnce:y$,rollBottom:T$,rollLeft:b$,rollRight:w$,rollTop:E$,rollVisibleBottom:P$,rollVisibleLeft:_$,rollVisibleOnceBottom:R$,rollVisibleOnceLeft:x$,rollVisibleOnceRight:M$,rollVisibleOnceTop:A$,rollVisibleRight:S$,rollVisibleTop:C$,slideBottom:U$,slideLeft:L$,slideRight:D$,slideTop:N$,slideVisibleBottom:z$,slideVisibleLeft:I$,slideVisibleOnceBottom:H$,slideVisibleOnceLeft:k$,slideVisibleOnceRight:V$,slideVisibleOnceTop:B$,slideVisibleRight:O$,slideVisibleTop:F$},G$=yo({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(t){var o;const e=w0(),n=Sn({});if(!t.is&&!e.default)return()=>hr("div",{});const i=I(()=>{let l;return t.preset&&(l=gy[t.preset]),l}),r=I(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused})),s=I(()=>{const l={...r.value,...i.value||{},...t.variants||{}};return t.delay&&(l.enter.transition={...l.enter.transition},l.enter.transition.delay=parseInt(t.delay)),l}),a=I(()=>{if(!t.is)return;let l=t.is;return typeof a.value=="string"&&!e2(l)&&(l=$2(l)),l});if(((o=process==null?void 0:process.env)==null?void 0:o.NODE_ENV)==="development"||process!=null&&process.dev){const l=c=>{var u;(u=c.variants)!=null&&u.initial&&c.set("initial"),setTimeout(()=>{var d,h,f;(d=c.variants)!=null&&d.enter&&c.apply("enter"),(h=c.variants)!=null&&h.visible&&c.apply("visible"),(f=c.variants)!=null&&f.visibleOnce&&c.apply("visibleOnce")},10)};x0(()=>Object.entries(n).forEach(([c,u])=>l(u)))}return{slots:e,component:a,motionConfig:s,instances:n}},render({slots:t,motionConfig:e,instances:n,component:i}){var o;const r=OP(e.initial||{}),s=(l,c)=>(l.props||(l.props={}),l.props.style=r,l.props.onVnodeMounted=({el:u})=>{const d=VP(u,e);n[c]=d},l);if(i){const l=hr(i,void 0,t);return s(l,0),l}return(((o=t.default)==null?void 0:o.call(t))||[]).map((l,c)=>s(l,c))}});function W$(t){const e="/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",i=new RegExp(e.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,r=>`-${r}`).toLowerCase().replace(/\s+/g,"-").replace(i,r=>n.charAt(e.indexOf(r))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const $$={install(t,e){if(t.directive("motion",Ov()),t.component("Motion",G$),!e||e&&!e.excludePresets)for(const n in gy){const i=gy[n];t.directive(`motion-${W$(n)}`,Ov(i))}if(e&&e.directives)for(const n in e.directives){const i=e.directives[n];!i.initial&&__DEV__&&console.warn(`Your directive v-motion-${n} is missing initial variant!`),t.directive(`motion-${n}`,Ov(i))}}},Gt=typeof window<"u",d_=Gt&&"IntersectionObserver"in window,j$=Gt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),S1=Gt&&"EyeDropper"in window;function M1(t,e,n){X$(t,e),e.set(t,n)}function X$(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function q$(t,e,n){var i=NP(t,e,"set");return Y$(t,i,n),n}function Y$(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function ja(t,e){var n=NP(t,e,"get");return K$(t,n)}function NP(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function K$(t,e){return e.get?e.get.call(t):e.value}function FP(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let r=0;r<i;r++){if(t==null)return n;t=t[e[r]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Sa(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Sa(t[i],e[i]))}function Eo(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),FP(t,e.split("."),n))}function Bn(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}if(typeof e=="string")return Eo(t,e,n);if(Array.isArray(e))return FP(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function Vr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Fe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Df(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Bu(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const E1=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),yy=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function BP(t){return Object.keys(t)}function ao(t,e){return e.every(n=>t.hasOwnProperty(n))}function UP(t,e){const n={},i=new Set(Object.keys(t));for(const r of e)i.has(r)&&(n[r]=t[r]);return n}function by(t,e,n){const i=Object.create(null),r=Object.create(null);for(const s in t)e.some(a=>a instanceof RegExp?a.test(s):a===s)&&!(n!=null&&n.some(a=>a===s))?i[s]=t[s]:r[s]=t[s];return[i,r]}function kn(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function zP(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const HP=/^on[^a-z]/,Wp=t=>HP.test(t),Z$=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],J$=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function Q$(t){return t.isComposing&&J$.includes(t.key)}function Ma(t){const[e,n]=by(t,[HP]),i=kn(e,Z$),[r,s]=by(n,["class","style","id",/^data-/]);return Object.assign(r,e),Object.assign(s,i),[r,s]}function mn(t){return t==null?[]:Array.isArray(t)?t:[t]}function e9(t,e){let n=0;const i=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...s),Ye(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function Mn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function C1(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function A1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function T1(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function t9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function P1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function or(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const r in t)i[r]=t[r];for(const r in e){const s=t[r],a=e[r];if(Df(s)&&Df(a)){i[r]=or(s,a,n);continue}if(Array.isArray(s)&&Array.isArray(a)&&n){i[r]=n(s,a);continue}i[r]=a}return i}function GP(t){return t.map(e=>e.type===je?GP(e.children):e).flat()}function po(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(po.cache.has(t))return po.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return po.cache.set(t,e),e}po.cache=new Map;function ou(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>ou(t,n)).flat(1);if(Array.isArray(e.children))return e.children.map(n=>ou(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return ou(t,e.component.subTree).flat(1)}return[]}var Fh=new WeakMap,vl=new WeakMap;class n9{constructor(e){M1(this,Fh,{writable:!0,value:[]}),M1(this,vl,{writable:!0,value:0}),this.size=e}push(e){ja(this,Fh)[ja(this,vl)]=e,q$(this,vl,(ja(this,vl)+1)%this.size)}values(){return ja(this,Fh).slice(ja(this,vl)).concat(ja(this,Fh).slice(0,ja(this,vl)))}}function i9(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function h_(t){const e=Sn({}),n=I(t);return Jt(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),Io(e)}function Of(t,e){return t.includes(e)}function WP(t){return t[2].toLowerCase()+t.slice(3)}const Pi=()=>[Function,Array];function R1(t,e){return e="on"+Kr(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function f_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const r of t)r(...n);else typeof t=="function"&&t(...n)}function Uu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function $P(t,e,n){let i,r=t.indexOf(document.activeElement);const s=e==="next"?1:-1;do r+=s,i=t[r];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&r<t.length&&r>=0);return i}function Zl(t,e){var i,r,s,a;const n=Uu(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(r=n[0])==null||r.focus();else if(e==="last")(s=n.at(-1))==null||s.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const o=$P(n,e);o?o.focus():Zl(t,e==="next"?"first":"last")}}function Bh(t){return t==null||typeof t=="string"&&t.trim()===""}function jP(){}function Jl(t,e){if(!(Gt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function $p(t){return t.some(e=>pu(e)?e.type===Ai?!1:e.type!==je||$p(e.children):!0)?t:null}const XP=["top","bottom"],r9=["start","end","left","right"];function _y(t,e){let[n,i]=t.split(" ");return i||(i=Of(XP,n)?"start":Of(r9,n)?"top":"center"),{side:xy(n,e),align:xy(i,e)}}function xy(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function Vv(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function Nv(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function L1(t){return{side:t.align,align:t.side}}function I1(t){return Of(XP,t.side)?"y":"x"}class mo{constructor(e){let{x:n,y:i,width:r,height:s}=e;this.x=n,this.y=i,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function k1(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function qP(t){return Array.isArray(t)?new mo({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function p_(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let r,s,a,o,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],a=+r[5],o=+r[12],l=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],a=+r[3],o=+r[4],l=+r[5];else return new mo(e);const c=n.transformOrigin,u=e.x-o-(1-s)*parseFloat(c),d=e.y-l-(1-a)*parseFloat(c.slice(c.indexOf(" ")+1)),h=s?e.width/s:t.offsetWidth+1,f=a?e.height/a:t.offsetHeight+1;return new mo({x:u,y:d,width:h,height:f})}else return new mo(e)}function oo(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(r=>{i.onfinish=()=>{r(i)}})),i}const cf=new WeakMap;function s9(t,e){Object.keys(e).forEach(n=>{if(Wp(n)){const i=WP(n),r=cf.get(t);if(e[n]==null)r==null||r.forEach(s=>{const[a,o]=s;a===i&&(t.removeEventListener(i,o),r.delete(s))});else if(!r||![...r].some(s=>s[0]===i&&s[1]===e[n])){t.addEventListener(i,e[n]);const s=r||new Set;s.add([i,e[n]]),cf.has(t)||cf.set(t,s)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function a9(t,e){Object.keys(e).forEach(n=>{if(Wp(n)){const i=WP(n),r=cf.get(t);r==null||r.forEach(s=>{const[a,o]=s;a===i&&(t.removeEventListener(i,o),r.delete(s))})}else t.removeAttribute(n)})}const gl=2.4,D1=.2126729,O1=.7151522,V1=.072175,o9=.55,l9=.58,c9=.57,u9=.62,Uh=.03,N1=1.45,d9=5e-4,h9=1.25,f9=1.25,F1=.078,B1=12.82051282051282,zh=.06,U1=.001;function z1(t,e){const n=(t.r/255)**gl,i=(t.g/255)**gl,r=(t.b/255)**gl,s=(e.r/255)**gl,a=(e.g/255)**gl,o=(e.b/255)**gl;let l=n*D1+i*O1+r*V1,c=s*D1+a*O1+o*V1;if(l<=Uh&&(l+=(Uh-l)**N1),c<=Uh&&(c+=(Uh-c)**N1),Math.abs(c-l)<d9)return 0;let u;if(c>l){const d=(c**o9-l**l9)*h9;u=d<U1?0:d<F1?d-d*B1*zh:d-zh}else{const d=(c**u9-l**c9)*f9;u=d>-U1?0:d>-F1?d-d*B1*zh:d+zh}return u*100}function p9(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const Vf=.20689655172413793,m9=t=>t>Vf**3?Math.cbrt(t):t/(3*Vf**2)+4/29,v9=t=>t>Vf?t**3:3*Vf**2*(t-4/29);function YP(t){const e=m9,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function KP(t){const e=v9,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const g9=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],y9=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,b9=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],_9=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function ZP(t){const e=Array(3),n=y9,i=g9;for(let r=0;r<3;++r)e[r]=Math.round(Mn(n(i[r][0]*t[0]+i[r][1]*t[1]+i[r][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function m_(t){let{r:e,g:n,b:i}=t;const r=[0,0,0],s=_9,a=b9;e=s(e/255),n=s(n/255),i=s(i/255);for(let o=0;o<3;++o)r[o]=a[o][0]*e+a[o][1]*n+a[o][2]*i;return r}function wy(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function x9(t){return wy(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const H1=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,w9={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>G1({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>G1({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>Ts({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>Ts({h:t,s:e,v:n,a:i})};function lr(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&H1.test(t)){const{groups:e}=t.match(H1),{fn:n,values:i}=e,r=i.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return w9[n](...r)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),nR(e)}else if(typeof t=="object"){if(ao(t,["r","g","b"]))return t;if(ao(t,["h","s","l"]))return Ts(v_(t));if(ao(t,["h","s","v"]))return Ts(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Ts(t){const{h:e,s:n,v:i,a:r}=t,s=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},a=[s(5),s(3),s(1)].map(o=>Math.round(o*255));return{r:a[0],g:a[1],b:a[2],a:r}}function G1(t){return Ts(v_(t))}function jp(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i);let a=0;r!==s&&(r===e?a=60*(0+(n-i)/(r-s)):r===n?a=60*(2+(i-e)/(r-s)):r===i&&(a=60*(4+(e-n)/(r-s)))),a<0&&(a=a+360);const o=r===0?0:(r-s)/r,l=[a,o,r];return{h:l[0],s:l[1],v:l[2],a:t.a}}function JP(t){const{h:e,s:n,v:i,a:r}=t,s=i-i*n/2,a=s===1||s===0?0:(i-s)/Math.min(s,1-s);return{h:e,s:a,l:s,a:r}}function v_(t){const{h:e,s:n,l:i,a:r}=t,s=i+n*Math.min(i,1-i),a=s===0?0:2-2*i/s;return{h:e,s:a,v:s,a:r}}function QP(t){let{r:e,g:n,b:i,a:r}=t;return r===void 0?`rgb(${e}, ${n}, ${i})`:`rgba(${e}, ${n}, ${i}, ${r})`}function eR(t){return QP(Ts(t))}function Hh(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function tR(t){let{r:e,g:n,b:i,a:r}=t;return`#${[Hh(e),Hh(n),Hh(i),r!==void 0?Hh(Math.round(r*255)):""].join("")}`}function nR(t){t=S9(t);let[e,n,i,r]=t9(t,2).map(s=>parseInt(s,16));return r=r===void 0?r:r/255,{r:e,g:n,b:i,a:r}}function iR(t){const e=nR(t);return jp(e)}function rR(t){return tR(Ts(t))}function S9(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=A1(A1(t,6),8,"F")),t}function M9(t,e){const n=YP(m_(t));return n[0]=n[0]+e*10,ZP(KP(n))}function E9(t,e){const n=YP(m_(t));return n[0]=n[0]-e*10,ZP(KP(n))}function Sy(t){const e=lr(t);return m_(e)[1]}function C9(t,e){const n=Sy(t),i=Sy(e),r=Math.max(n,i),s=Math.min(n,i);return(r+.05)/(s+.05)}function sR(t){const e=Math.abs(z1(lr(0),lr(t)));return Math.abs(z1(lr(16777215),lr(t)))>Math.min(e,50)?"#fff":"#000"}function re(t,e){return n=>Object.keys(t).reduce((i,r)=>{const a=typeof t[r]=="object"&&t[r]!=null&&!Array.isArray(t[r])?t[r]:{type:t[r]};return n&&r in n?i[r]={...a,default:n[r]}:i[r]=a,e&&!i[r].source&&(i[r].source=e),i},{})}const Ge=re({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),Ql=Symbol.for("vuetify:defaults");function A9(t){return he(t)}function g_(){const t=_t(Ql);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function en(t,e){const n=g_(),i=he(t),r=I(()=>{if(Ye(e==null?void 0:e.disabled))return n.value;const a=Ye(e==null?void 0:e.scoped),o=Ye(e==null?void 0:e.reset),l=Ye(e==null?void 0:e.root);if(i.value==null&&!(a||o||l))return n.value;let c=or(i.value,{prev:n.value});if(a)return c;if(o||l){const u=Number(o||1/0);for(let d=0;d<=u&&!(!c||!("prev"in c));d++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=or(or(c,{prev:c}),c[l])),c}return c.prev?or(c.prev,c):c});return Ut(Ql,r),r}function T9(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[po(e)])<"u"}function P9(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g_();const i=Cn("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const r=I(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),s=new Proxy(t,{get(l,c){var d,h,f,p;const u=Reflect.get(l,c);return c==="class"||c==="style"?[(d=r.value)==null?void 0:d[c],u].filter(g=>g!=null):typeof c=="string"&&!T9(i.vnode,c)?((h=r.value)==null?void 0:h[c])??((p=(f=n.value)==null?void 0:f.global)==null?void 0:p[c])??u:u}}),a=Le();Jt(()=>{if(r.value){const l=Object.entries(r.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function o(){const l=D9(Ql,i);Ut(Ql,I(()=>a.value?or((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:s,provideSubDefaults:o}}function Xi(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=re(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return UP(i,e)},t.props._as=String,t.setup=function(i,r){const s=g_();if(!s.value)return t._setup(i,r);const{props:a,provideSubDefaults:o}=P9(i,i._as??t.name,s),l=t._setup(a,r);return o(),l}}return t}function ve(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Xi:yo)(e)}function R9(t,e){return e.props=t,e}function qi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ve()({name:n??Kr(dr(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Ge()},setup(i,r){let{slots:s}=r;return()=>{var a;return hr(i.tag,{class:[t,i.class],style:i.style},(a=s.default)==null?void 0:a.call(s))}}})}function aR(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const zu="cubic-bezier(0.4, 0, 0.2, 1)",L9="cubic-bezier(0.0, 0, 0.2, 1)",I9="cubic-bezier(0.4, 0, 1, 1)";function W1(t,e,n){return Object.keys(t).filter(i=>Wp(i)&&i.endsWith(e)).reduce((i,r)=>(i[r.slice(0,-e.length)]=s=>t[r](s,n(s)),i),{})}function Cn(t,e){const n=Ur();if(!n)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return n}function is(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Cn(t).type;return po((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let oR=0,uf=new WeakMap;function ai(){const t=Cn("getUid");if(uf.has(t))return uf.get(t);{const e=oR++;return uf.set(t,e),e}}ai.reset=()=>{oR=0,uf=new WeakMap};function y_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?k9(t):b_(t))return t;t=t.parentElement}return document.scrollingElement}function Nf(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(b_(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function b_(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function k9(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function D9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}function O9(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function Ee(t){const e=Cn("useRender");e.render=t}const My={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function V9(t,e){const n=[];let i=[];const r=lR(t),s=cR(t),a=(r.getDay()-My[e.slice(-2).toUpperCase()]+7)%7,o=(s.getDay()-My[e.slice(-2).toUpperCase()]+7)%7;for(let l=0;l<a;l++){const c=new Date(r);c.setDate(c.getDate()-(a-l)),i.push(c)}for(let l=1;l<=s.getDate();l++){const c=new Date(t.getFullYear(),t.getMonth(),l);i.push(c),i.length===7&&(n.push(i),i=[])}for(let l=1;l<7-o;l++){const c=new Date(s);c.setDate(c.getDate()+l),i.push(c)}return n.push(i),n}function lR(t){return new Date(t.getFullYear(),t.getMonth(),1)}function cR(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function N9(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const F9=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function uR(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(F9.test(t))return N9(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const $1=new Date(2e3,0,2);function B9(t){const e=My[t.slice(-2).toUpperCase()];return Vr(7).map(n=>{const i=new Date($1);return i.setDate($1.getDate()+e+n),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(i)})}function U9(t,e,n,i){const r=uR(t)??new Date,s=i==null?void 0:i[e];if(typeof s=="function")return s(r,e,n);let a={};switch(e){case"fullDateWithWeekday":a={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":a={day:"2-digit",month:"2-digit",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"dayOfMonth":a={day:"numeric"};break;case"shortDate":a={year:"2-digit",month:"numeric",day:"numeric"};break;case"year":a={year:"numeric"};break;default:a=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(r)}function z9(t,e){const n=t.toJsDate(e),i=n.getFullYear(),r=T1(String(n.getMonth()+1),2,"0"),s=T1(String(n.getDate()),2,"0");return`${i}-${r}-${s}`}function H9(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function G9(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function W9(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function $9(t){return t.getFullYear()}function j9(t){return t.getMonth()}function X9(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function q9(t){return new Date(t.getFullYear(),0,1)}function Y9(t){return new Date(t.getFullYear(),11,31)}function K9(t,e){return Ey(t,e[0])&&J9(t,e[1])}function Z9(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Ey(t,e){return t.getTime()>e.getTime()}function J9(t,e){return t.getTime()<e.getTime()}function j1(t,e){return t.getTime()===e.getTime()}function Q9(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function e7(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function t7(t,e,n){const i=new Date(t),r=new Date(e);return n==="month"?i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12:Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24))}function n7(t,e){const n=new Date(t);return n.setMonth(e),n}function i7(t,e){const n=new Date(t);return n.setFullYear(e),n}function r7(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function s7(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class a7{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return uR(e)}toJsDate(e){return e}toISO(e){return z9(this,e)}parseISO(e){return H9(e)}addDays(e,n){return G9(e,n)}addMonths(e,n){return W9(e,n)}getWeekArray(e){return V9(e,this.locale)}startOfMonth(e){return lR(e)}endOfMonth(e){return cR(e)}format(e,n){return U9(e,n,this.locale,this.formats)}isEqual(e,n){return j1(e,n)}isValid(e){return Z9(e)}isWithinRange(e,n){return K9(e,n)}isAfter(e,n){return Ey(e,n)}isBefore(e,n){return!Ey(e,n)&&!j1(e,n)}isSameDay(e,n){return Q9(e,n)}isSameMonth(e,n){return e7(e,n)}setMonth(e,n){return n7(e,n)}setYear(e,n){return i7(e,n)}getDiff(e,n,i){return t7(e,n,i)}getWeekdays(){return B9(this.locale)}getYear(e){return $9(e)}getMonth(e){return j9(e)}getNextMonth(e){return X9(e)}startOfDay(e){return r7(e)}endOfDay(e){return s7(e)}startOfYear(e){return q9(e)}endOfYear(e){return Y9(e)}}const Cy=Symbol.for("vuetify:date-adapter");function o7(t,e){var r;const n=or({adapter:a7,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t),i=Sn(typeof n.adapter=="function"?new n.adapter({locale:((r=n.locale)==null?void 0:r[e.current.value])??e.current.value,formats:n.formats}):n.adapter);return Re(e.current,s=>{const a=n.locale?n.locale[s]:s;i.locale=a??i.locale}),i}function Xp(){const t=_t(Cy);if(!t)throw new Error("[Vuetify] Could not find injected date adapter");return t}function l7(t,e){const n=t.toJsDate(e);let i=t.getYear(n),r=t.startOfYear(n);if(n<r)i=i-1,r=t.startOfYear(t.setYear(n,i));else{const o=t.startOfYear(t.setYear(n,i+1));n>=o&&(i=i+1,r=o)}const s=Math.abs(n.getTime()-r.getTime()),a=Math.ceil(s/(1e3*60*60*24));return Math.floor(a/7)+1}const qp=["sm","md","lg","xl","xxl"],Ay=Symbol.for("vuetify:display"),X1={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},c7=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X1;return or(X1,t)};function q1(t){return Gt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Y1(t){return Gt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function K1(t){const e=Gt&&!t?window.navigator.userAgent:"ssr";function n(p){return!!e.match(p)}const i=n(/android/i),r=n(/iphone|ipad|ipod/i),s=n(/cordova/i),a=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),d=n(/win/i),h=n(/mac/i),f=n(/linux/i);return{android:i,ios:r,cordova:s,electron:a,chrome:o,edge:l,firefox:c,opera:u,win:d,mac:h,linux:f,touch:j$,ssr:e==="ssr"}}function u7(t,e){const{thresholds:n,mobileBreakpoint:i}=c7(t),r=Le(Y1(e)),s=Le(K1(e)),a=Sn({}),o=Le(q1(e));function l(){r.value=Y1(),o.value=q1()}function c(){l(),s.value=K1()}return Jt(()=>{const u=o.value<n.sm,d=o.value<n.md&&!u,h=o.value<n.lg&&!(d||u),f=o.value<n.xl&&!(h||d||u),p=o.value<n.xxl&&!(f||h||d||u),g=o.value>=n.xxl,m=u?"xs":d?"sm":h?"md":f?"lg":p?"xl":"xxl",v=typeof i=="number"?i:n[i],x=o.value<v;a.xs=u,a.sm=d,a.md=h,a.lg=f,a.xl=p,a.xxl=g,a.smAndUp=!u,a.mdAndUp=!(u||d),a.lgAndUp=!(u||d||h),a.xlAndUp=!(u||d||h||f),a.smAndDown=!(h||f||p||g),a.mdAndDown=!(f||p||g),a.lgAndDown=!(p||g),a.xlAndDown=!g,a.name=m,a.height=r.value,a.width=o.value,a.mobile=x,a.mobileBreakpoint=i,a.platform=s.value,a.thresholds=n}),Gt&&window.addEventListener("resize",l,{passive:!0}),{...Io(a),update:c,ssr:!!e}}const __=re({mobileBreakpoint:[Number,String]},"display");function Bo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();const n=_t(Ay);if(!n)throw new Error("Could not find Vuetify display injection");const i=I(()=>{if(!t.mobileBreakpoint)return n.mobile.value;const s=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<s}),r=I(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:r,mobile:i}}const d7={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",eyeDropper:"mdi-eyedropper"},h7={component:t=>hr(w_,{...t,class:"mdi"})},nt=[String,Function,Object,Array],Ty=Symbol.for("vuetify:icons"),Yp=re({icon:{type:nt},tag:{type:String,required:!0}},"icon"),Py=ve()({name:"VComponentIcon",props:Yp(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return C(t.tag,null,{default:()=>{var r;return[t.icon?C(i,null,null):(r=n.default)==null?void 0:r.call(n)]}})}}}),x_=Xi({name:"VSvgIcon",inheritAttrs:!1,props:Yp(),setup(t,e){let{attrs:n}=e;return()=>C(t.tag,Pe(n,{style:null}),{default:()=>[C("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?C("path",{d:i[0],"fill-opacity":i[1]},null):C("path",{d:i},null)):C("path",{d:t.icon},null)])]})}}),f7=Xi({name:"VLigatureIcon",props:Yp(),setup(t){return()=>C(t.tag,null,{default:()=>[t.icon]})}}),w_=Xi({name:"VClassIcon",props:Yp(),setup(t){return()=>C(t.tag,{class:t.icon},null)}}),p7={svg:{component:x_},class:{component:w_}};function m7(t){return or({defaultSet:"mdi",sets:{...p7,mdi:h7},aliases:{...d7,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},t)}const v7=t=>{const e=_t(Ty);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:I(()=>{var l;const i=Ye(t);if(!i)return{component:Py};let r=i;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=(l=e.aliases)==null?void 0:l[r.slice(1)])),!r)throw new Error(`Could not find aliased icon "${i}"`);if(Array.isArray(r))return{component:x_,icon:r};if(typeof r!="string")return{component:Py,icon:r};const s=Object.keys(e.sets).find(c=>typeof r=="string"&&r.startsWith(`${c}:`)),a=s?r.slice(s.length+1):r;return{component:e.sets[s??e.defaultSet].component,icon:a}})}},g7={badge:"Badge",open:"Open",close:"Close",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},y7={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function wr(t,e){let n;function i(){n=i0(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}Re(t,r=>{r&&!n?i():r||(n==null||n.stop(),n=void 0)},{immediate:!0}),zn(()=>{n==null||n.stop()})}function Xe(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const s=Cn("useProxiedModel"),a=he(t[e]!==void 0?t[e]:n),o=po(e),c=I(o!==e?()=>{var d,h,f,p;return t[e],!!(((d=s.vnode.props)!=null&&d.hasOwnProperty(e)||(h=s.vnode.props)!=null&&h.hasOwnProperty(o))&&((f=s.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)||(p=s.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var d,h;return t[e],!!((d=s.vnode.props)!=null&&d.hasOwnProperty(e)&&((h=s.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)))});wr(()=>!c.value,()=>{Re(()=>t[e],d=>{a.value=d})});const u=I({get(){const d=t[e];return i(c.value?d:a.value)},set(d){const h=r(d),f=dt(c.value?t[e]:a.value);f===h||i(f)===d||(a.value=h,s==null||s.emit(`update:${e}`,h))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:a.value}),u}const Z1="$vuetify.",J1=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),dR=(t,e,n)=>function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];if(!i.startsWith(Z1))return J1(i,s);const o=i.replace(Z1,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=Eo(l,o,null);return u||(`${i}${t.value}`,u=Eo(c,o,null)),u||(u=i),typeof u!="string"&&(u=i),J1(u,s)};function hR(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function Fv(t,e,n){const i=Xe(t,e,t[e]??n.value);return i.value=t[e]??n.value,Re(n,r=>{t[e]==null&&(i.value=n.value)}),i}function fR(t){return e=>{const n=Fv(e,"locale",t.current),i=Fv(e,"fallback",t.fallback),r=Fv(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:r,t:dR(n,i,r),n:hR(n,i),provide:fR({current:n,fallback:i,messages:r})}}}function b7(t){const e=Le((t==null?void 0:t.locale)??"en"),n=Le((t==null?void 0:t.fallback)??"en"),i=he({en:g7,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:dR(e,n,i),n:hR(e,n),provide:fR({current:e,fallback:n,messages:i})}}const ec=Symbol.for("vuetify:locale");function _7(t){return t.name!=null}function x7(t){const e=t!=null&&t.adapter&&_7(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:b7(t),n=S7(e,t);return{...e,...n}}function An(){const t=_t(ec);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function w7(t){const e=_t(ec);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const n=e.provide(t),i=M7(n,e.rtl,t),r={...n,...i};return Ut(ec,r),r}function S7(t,e){const n=he((e==null?void 0:e.rtl)??y7),i=I(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:I(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function M7(t,e,n){const i=I(()=>n.rtl??e.value[t.current.value]??!1);return{isRtl:i,rtl:e,rtlClasses:I(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Gn(){const t=_t(ec);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Hu=Symbol.for("vuetify:theme"),Mt=re({theme:String},"theme"),zc={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function E7(){var n,i;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zc;if(!t)return{...zc,isDisabled:!0};const e={};for(const[r,s]of Object.entries(t.themes??{})){const a=s.dark||r==="dark"?(n=zc.themes)==null?void 0:n.dark:(i=zc.themes)==null?void 0:i.light;e[r]=or(a,s)}return or(zc,{...t,themes:e})}function C7(t){const e=E7(t),n=he(e.defaultTheme),i=he(e.themes),r=I(()=>{const u={};for(const[d,h]of Object.entries(i.value)){const f=u[d]={...h,colors:{...h.colors}};if(e.variations)for(const p of e.variations.colors){const g=f.colors[p];if(g)for(const m of["lighten","darken"]){const v=m==="lighten"?M9:E9;for(const x of Vr(e.variations[m],1))f.colors[`${p}-${m}-${x}`]=tR(v(lr(g),x))}}for(const p of Object.keys(f.colors)){if(/^on-[a-z]/.test(p)||f.colors[`on-${p}`])continue;const g=`on-${p}`,m=lr(f.colors[p]);f.colors[g]=sR(m)}}return u}),s=I(()=>r.value[n.value]),a=I(()=>{const u=[];s.value.dark&&Xa(u,":root",["color-scheme: dark"]),Xa(u,":root",Q1(s.value));for(const[p,g]of Object.entries(r.value))Xa(u,`.v-theme--${p}`,[`color-scheme: ${g.dark?"dark":"normal"}`,...Q1(g)]);const d=[],h=[],f=new Set(Object.values(r.value).flatMap(p=>Object.keys(p.colors)));for(const p of f)/^on-[a-z]/.test(p)?Xa(h,`.${p}`,[`color: rgb(var(--v-theme-${p})) !important`]):(Xa(d,`.bg-${p}`,[`--v-theme-overlay-multiplier: var(--v-theme-${p}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${p})) !important`,`color: rgb(var(--v-theme-on-${p})) !important`]),Xa(h,`.text-${p}`,[`color: rgb(var(--v-theme-${p})) !important`]),Xa(h,`.border-${p}`,[`--v-border-color: var(--v-theme-${p})`]));return u.push(...d,...h),u.map((p,g)=>g===0?p:`    ${p}`).join("")});function o(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(u){if(e.isDisabled)return;const d=u._context.provides.usehead;if(d)if(d.push){const f=d.push(o);Gt&&Re(a,()=>{f.patch(o)})}else Gt?(d.addHeadObjs(I(o)),Jt(()=>d.updateDOM())):d.addHeadObjs(o());else{let p=function(){if(typeof document<"u"&&!f){const g=document.createElement("style");g.type="text/css",g.id="vuetify-theme-stylesheet",e.cspNonce&&g.setAttribute("nonce",e.cspNonce),f=g,document.head.appendChild(f)}f&&(f.innerHTML=a.value)};var h=p;let f=Gt?document.getElementById("vuetify-theme-stylesheet"):null;Gt?Re(a,p,{immediate:!0}):p()}}const c=I(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:s,computedThemes:r,themeClasses:c,styles:a,global:{name:n,current:s}}}function Ot(t){Cn("provideTheme");const e=_t(Hu,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=I(()=>t.theme??e.name.value),i=I(()=>e.themes.value[n.value]),r=I(()=>e.isDisabled?void 0:`v-theme--${n.value}`),s={...e,name:n,current:i,themeClasses:r};return Ut(Hu,s),s}function pR(){Cn("useTheme");const t=_t(Hu,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function Xa(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function Q1(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[r,s]of Object.entries(t.colors)){const a=lr(s);i.push(`--v-theme-${r}: ${a.r},${a.g},${a.b}`),r.startsWith("on-")||i.push(`--v-theme-${r}-overlay-multiplier: ${Sy(s)>.18?e:n}`)}for(const[r,s]of Object.entries(t.variables)){const a=typeof s=="string"&&s.startsWith("#")?lr(s):void 0,o=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${r}: ${o??s}`)}return i}function qr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=he(),i=he();if(Gt){const r=new ResizeObserver(s=>{t==null||t(s,r),s.length&&(e==="content"?i.value=s[0].contentRect:i.value=s[0].target.getBoundingClientRect())});ni(()=>{r.disconnect()}),Re(n,(s,a)=>{a&&(r.unobserve(Bu(a)),i.value=void 0),s&&r.observe(Bu(s))},{flush:"post"})}return{resizeRef:n,contentRect:Lo(i)}}const Ff=Symbol.for("vuetify:layout"),mR=Symbol.for("vuetify:layout-item"),eM=1e3,vR=re({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),mc=re({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function A7(){const t=_t(Ff);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function vc(t){const e=_t(Ff);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${ai()}`,i=Cn("useLayoutItem");Ut(mR,{id:n});const r=Le(!1);nE(()=>r.value=!0),tE(()=>r.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:a}=e.register(i,{...t,active:I(()=>r.value?!1:t.active.value),id:n});return ni(()=>e.unregister(n)),{layoutItemStyles:s,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const T7=(t,e,n,i)=>{let r={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...r}}];for(const a of t){const o=e.get(a),l=n.get(a),c=i.get(a);if(!o||!l||!c)continue;const u={...r,[o.value]:parseInt(r[o.value],10)+(c.value?parseInt(l.value,10):0)};s.push({id:a,layer:u}),r=u}return s};function gR(t){const e=_t(Ff,null),n=I(()=>e?e.rootZIndex.value-100:eM),i=he([]),r=Sn(new Map),s=Sn(new Map),a=Sn(new Map),o=Sn(new Map),l=Sn(new Map),{resizeRef:c,contentRect:u}=qr(),d=I(()=>{const M=new Map,E=t.overlaps??[];for(const S of E.filter(_=>_.includes(":"))){const[_,w]=S.split(":");if(!i.value.includes(_)||!i.value.includes(w))continue;const P=r.get(_),R=r.get(w),N=s.get(_),k=s.get(w);!P||!R||!N||!k||(M.set(w,{position:P.value,amount:parseInt(N.value,10)}),M.set(_,{position:R.value,amount:-parseInt(k.value,10)}))}return M}),h=I(()=>{const M=[...new Set([...a.values()].map(S=>S.value))].sort((S,_)=>S-_),E=[];for(const S of M){const _=i.value.filter(w=>{var P;return((P=a.get(w))==null?void 0:P.value)===S});E.push(..._)}return T7(E,r,s,o)}),f=I(()=>!Array.from(l.values()).some(M=>M.value)),p=I(()=>h.value[h.value.length-1].layer),g=I(()=>({"--v-layout-left":Fe(p.value.left),"--v-layout-right":Fe(p.value.right),"--v-layout-top":Fe(p.value.top),"--v-layout-bottom":Fe(p.value.bottom),...f.value?void 0:{transition:"none"}})),m=I(()=>h.value.slice(1).map((M,E)=>{let{id:S}=M;const{layer:_}=h.value[E],w=s.get(S),P=r.get(S);return{id:S,..._,size:Number(w.value),position:P.value}})),v=M=>m.value.find(E=>E.id===M),x=Cn("createLayout"),y=Le(!1);vn(()=>{y.value=!0}),Ut(Ff,{register:(M,E)=>{let{id:S,order:_,position:w,layoutSize:P,elementSize:R,active:N,disableTransitions:k,absolute:z}=E;a.set(S,_),r.set(S,w),s.set(S,P),o.set(S,N),k&&l.set(S,k);const j=ou(mR,x==null?void 0:x.vnode).indexOf(M);j>-1?i.value.splice(j,0,S):i.value.push(S);const X=I(()=>m.value.findIndex(q=>q.id===S)),Z=I(()=>n.value+h.value.length*2-X.value*2),J=I(()=>{const q=w.value==="left"||w.value==="right",le=w.value==="right",ue=w.value==="bottom",be={[w.value]:0,zIndex:Z.value,transform:`translate${q?"X":"Y"}(${(N.value?0:-110)*(le||ue?-1:1)}%)`,position:z.value||n.value!==eM?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!y.value)return be;const ae=m.value[X.value];if(!ae)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const Ae=d.value.get(S);return Ae&&(ae[Ae.position]+=Ae.amount),{...be,height:q?`calc(100% - ${ae.top}px - ${ae.bottom}px)`:R.value?`${R.value}px`:void 0,left:le?void 0:`${ae.left}px`,right:le?`${ae.right}px`:void 0,top:w.value!=="bottom"?`${ae.top}px`:void 0,bottom:w.value!=="top"?`${ae.bottom}px`:void 0,width:q?R.value?`${R.value}px`:void 0:`calc(100% - ${ae.left}px - ${ae.right}px)`}}),H=I(()=>({zIndex:Z.value-1}));return{layoutItemStyles:J,layoutItemScrimStyles:H,zIndex:Z}},unregister:M=>{a.delete(M),r.delete(M),s.delete(M),o.delete(M),l.delete(M),i.value=i.value.filter(E=>E!==M)},mainRect:p,mainStyles:g,getLayoutItem:v,items:m,layoutRect:u,rootZIndex:n});const b=I(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),A=I(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:b,layoutStyles:A,getLayoutItem:v,items:m,layoutRect:u,layoutRef:c}}function yR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=or(e,n),{aliases:r={},components:s={},directives:a={}}=i,o=A9(i.defaults),l=u7(i.display,i.ssr),c=C7(i.theme),u=m7(i.icons),d=x7(i.locale),h=o7(i.date,d);return{install:p=>{for(const g in a)p.directive(g,a[g]);for(const g in s)p.component(g,s[g]);for(const g in r)p.component(g,Xi({...r[g],name:g,aliasName:r[g].name}));if(c.install(p),p.provide(Ql,o),p.provide(Ay,l),p.provide(Hu,c),p.provide(Ty,u),p.provide(ec,d),p.provide(Cy,h),Gt&&i.ssr)if(p.$nuxt)p.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:g}=p;p.mount=function(){const m=g(...arguments);return Pt(()=>l.update()),p.mount=g,m}}ai.reset(),p.mixin({computed:{$vuetify(){return Sn({defaults:yl.call(this,Ql),display:yl.call(this,Ay),theme:yl.call(this,Hu),icons:yl.call(this,Ty),locale:yl.call(this,ec),date:yl.call(this,Cy)})}}})},defaults:o,display:l,theme:c,icons:u,locale:d,date:h}}const P7="3.4.2";yR.version=P7;function yl(t){var i,r;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((r=e.vnode.appContext)==null?void 0:r.provides);if(n&&t in n)return n[t]}const R7=re({...Ge(),...vR({fullHeight:!0}),...Mt()},"VApp"),L7=ve()({name:"VApp",props:R7(),setup(t,e){let{slots:n}=e;const i=Ot(t),{layoutClasses:r,getLayoutItem:s,items:a,layoutRef:o}=gR(t),{rtlClasses:l}=Gn();return Ee(()=>{var c;return C("div",{ref:o,class:["v-application",i.themeClasses.value,r.value,l.value,t.class],style:[t.style]},[C("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:s,items:a,theme:i}}}),ot=re({tag:{type:String,default:"div"}},"tag"),bR=re({text:String,...Ge(),...ot()},"VToolbarTitle"),S_=ve()({name:"VToolbarTitle",props:bR(),setup(t,e){let{slots:n}=e;return Ee(()=>{const i=!!(n.default||n.text||t.text);return C(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var r;return[i&&C("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(r=n.default)==null?void 0:r.call(n)])]}})}),{}}}),I7=re({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Yi(t,e,n){return ve()({name:t,props:I7({mode:n,origin:e}),setup(i,r){let{slots:s}=r;const a={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:d}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${c}px`,o.style.width=`${u}px`,o.style.height=`${d}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:c,left:u,width:d,height:h}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=c||"",o.style.left=u||"",o.style.width=d||"",o.style.height=h||""}}};return()=>{const o=i.group?dD:zr;return hr(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},s.default)}}})}function _R(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ve()({name:t,props:{mode:{type:String,default:n},disabled:Boolean},setup(i,r){let{slots:s}=r;return()=>hr(zr,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},s.default)}})}function xR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=dr(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const o=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=o.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(a){t&&a._parent&&a._parent.classList.remove(t),s(a)}function s(a){const o=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,o!=null&&(a.style[n]=o),delete a._initialStyle}}const k7=re({target:[Object,Array]},"v-dialog-transition"),Kp=ve()({name:"VDialogTransition",props:k7(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,s){var h;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),r.style.visibility="";const{x:a,y:o,sx:l,sy:c,speed:u}=nM(t.target,r),d=oo(r,[{transform:`translate(${a}px, ${o}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*u,easing:L9});(h=tM(r))==null||h.forEach(f=>{oo(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:zu})}),d.finished.then(()=>s())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,s){var h;await new Promise(f=>requestAnimationFrame(f));const{x:a,y:o,sx:l,sy:c,speed:u}=nM(t.target,r);oo(r,[{},{transform:`translate(${a}px, ${o}px) scale(${l}, ${c})`,opacity:0}],{duration:125*u,easing:I9}).finished.then(()=>s()),(h=tM(r))==null||h.forEach(f=>{oo(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:zu})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>t.target?C(zr,Pe({name:"dialog-transition"},i,{css:!1}),n):C(zr,{name:"dialog-transition"},n)}});function tM(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function nM(t,e){const n=qP(t),i=p_(e),[r,s]=getComputedStyle(e).transformOrigin.split(" ").map(v=>parseFloat(v)),[a,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;a==="left"||o==="left"?l-=n.width/2:(a==="right"||o==="right")&&(l+=n.width/2);let c=n.top+n.height/2;a==="top"||o==="top"?c-=n.height/2:(a==="bottom"||o==="bottom")&&(c+=n.height/2);const u=n.width/i.width,d=n.height/i.height,h=Math.max(1,u,d),f=u/h||0,p=d/h||0,g=i.width*i.height/(window.innerWidth*window.innerHeight),m=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(r+i.left),y:c-(s+i.top),sx:f,sy:p,speed:m}}const D7=Yi("fab-transition","center center","out-in"),O7=Yi("dialog-bottom-transition"),V7=Yi("dialog-top-transition"),Bf=Yi("fade-transition"),M_=Yi("scale-transition"),N7=Yi("scroll-x-transition"),F7=Yi("scroll-x-reverse-transition"),B7=Yi("scroll-y-transition"),U7=Yi("scroll-y-reverse-transition"),z7=Yi("slide-x-transition"),H7=Yi("slide-x-reverse-transition"),E_=Yi("slide-y-transition"),G7=Yi("slide-y-reverse-transition"),Zp=_R("expand-transition",xR()),C_=_R("expand-x-transition",xR("",!0)),W7=re({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Ct=ve(!1)({name:"VDefaultsProvider",props:W7(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:r,reset:s,root:a,scoped:o}=Io(t);return en(i,{reset:s,root:a,scoped:o,disabled:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),mi=re({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function vi(t){return{dimensionStyles:I(()=>({height:Fe(t.height),maxHeight:Fe(t.maxHeight),maxWidth:Fe(t.maxWidth),minHeight:Fe(t.minHeight),minWidth:Fe(t.minWidth),width:Fe(t.width)}))}}function $7(t){return{aspectStyles:I(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const wR=re({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Ge(),...mi()},"VResponsive"),Ry=ve()({name:"VResponsive",props:wR(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=$7(t),{dimensionStyles:r}=vi(t);return Ee(()=>{var s;return C("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[r.value,t.style]},[C("div",{class:"v-responsive__sizer",style:i.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&C("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),Ds=re({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),cr=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:r,...s}=t,{component:a=zr,...o}=typeof i=="object"?i:{};return hr(a,Pe(typeof i=="string"?{name:r?"":i}:o,s,{disabled:r}),n)};function j7(t,e){if(!d_)return;const n=e.modifiers||{},i=e.value,{handler:r,options:s}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var d;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(d=t._observe)==null?void 0:d[e.instance.$.uid];if(!c)return;const u=o.some(h=>h.isIntersecting);r&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&r(u,o,l),u&&n.once?SR(t,e):c.init=!0},s);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function SR(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const _d={mounted:j7,unmounted:SR},MR=re({alt:String,cover:Boolean,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...wR(),...Ge(),...Ds()},"VImg"),Co=ve()({name:"VImg",directives:{intersect:_d},props:MR(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=Cn("VImg"),s=Le(""),a=he(),o=Le(t.eager?"loading":"idle"),l=Le(),c=Le(),u=I(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),d=I(()=>u.value.aspect||l.value/c.value||0);Re(()=>t.src,()=>{h(o.value!=="idle")}),Re(d,(_,w)=>{!_&&w&&a.value&&v(a.value)}),Qf(()=>h());function h(_){if(!(t.eager&&_)&&!(d_&&!_&&!t.eager)){if(o.value="loading",u.value.lazySrc){const w=new Image;w.src=u.value.lazySrc,v(w,null)}u.value.src&&Pt(()=>{var w;n("loadstart",((w=a.value)==null?void 0:w.currentSrc)||u.value.src),setTimeout(()=>{var P;if(!r.isUnmounted)if((P=a.value)!=null&&P.complete){if(a.value.naturalWidth||p(),o.value==="error")return;d.value||v(a.value,null),o.value==="loading"&&f()}else d.value||v(a.value),g()})})}}function f(){var _;r.isUnmounted||(g(),v(a.value),o.value="loaded",n("load",((_=a.value)==null?void 0:_.currentSrc)||u.value.src))}function p(){var _;r.isUnmounted||(o.value="error",n("error",((_=a.value)==null?void 0:_.currentSrc)||u.value.src))}function g(){const _=a.value;_&&(s.value=_.currentSrc||_.src)}let m=-1;ni(()=>{clearTimeout(m)});function v(_){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const P=()=>{if(clearTimeout(m),r.isUnmounted)return;const{naturalHeight:R,naturalWidth:N}=_;R||N?(l.value=N,c.value=R):!_.complete&&o.value==="loading"&&w!=null?m=window.setTimeout(P,w):(_.currentSrc.endsWith(".svg")||_.currentSrc.startsWith("data:image/svg+xml"))&&(l.value=1,c.value=1)};P()}const x=I(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),y=()=>{var P;if(!u.value.src||o.value==="idle")return null;const _=C("img",{class:["v-img__img",x.value],style:{objectPosition:t.position},src:u.value.src,srcset:u.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:a,onLoad:f,onError:p},null),w=(P=i.sources)==null?void 0:P.call(i);return C(cr,{transition:t.transition,appear:!0},{default:()=>[St(w?C("picture",{class:"v-img__picture"},[w,_]):_,[[Jr,o.value==="loaded"]])]})},b=()=>C(cr,{transition:t.transition},{default:()=>[u.value.lazySrc&&o.value!=="loaded"&&C("img",{class:["v-img__img","v-img__img--preload",x.value],style:{objectPosition:t.position},src:u.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),A=()=>i.placeholder?C(cr,{transition:t.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!i.error)&&C("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,M=()=>i.error?C(cr,{transition:t.transition,appear:!0},{default:()=>[o.value==="error"&&C("div",{class:"v-img__error"},[i.error()])]}):null,E=()=>t.gradient?C("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,S=Le(!1);{const _=Re(d,w=>{w&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{S.value=!0})}),_())})}return Ee(()=>{const _=Ry.filterProps(t);return St(C(Ry,Pe({class:["v-img",{"v-img--booting":!S.value},t.class],style:[{width:Fe(t.width==="auto"?l.value:t.width)},t.style]},_,{aspectRatio:d.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>C(je,null,[C(y,null,null),C(b,null,null),C(E,null,null),C(A,null,null),C(M,null,null)]),default:i.default}),[[qn("intersect"),{handler:h,options:t.options},null,{once:!0}]])}),{currentSrc:s,image:a,state:o,naturalWidth:l,naturalHeight:c}}}),Ki=re({border:[Boolean,Number,String]},"border");function pr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{borderClasses:I(()=>{const i=Zt(t)?t.value:t.border,r=[];if(i===!0||i==="")r.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))r.push(`border-${s}`);return r})}}function A_(t){return h_(()=>{const e=[],n={};if(t.value.background)if(wy(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&x9(t.value.background)){const i=lr(t.value.background);if(i.a==null||i.a===1){const r=sR(i);n.color=r,n.caretColor=r}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(wy(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function ti(t,e){const n=I(()=>({text:Zt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:r}=A_(n);return{textColorClasses:i,textColorStyles:r}}function $t(t,e){const n=I(()=>({background:Zt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:r}=A_(n);return{backgroundColorClasses:i,backgroundColorStyles:r}}const Tn=re({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Wn(t){return{elevationClasses:I(()=>{const n=Zt(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const tn=re({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function on(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{roundedClasses:I(()=>{const i=Zt(t)?t.value:t.rounded,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))r.push(`rounded-${s}`);return r})}}const X7=[null,"prominent","default","comfortable","compact"],ER=re({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>X7.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ki(),...Ge(),...Tn(),...tn(),...ot({tag:"header"}),...Mt()},"VToolbar"),Ly=ve()({name:"VToolbar",props:ER(),setup(t,e){var f;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=$t(me(t,"color")),{borderClasses:s}=pr(t),{elevationClasses:a}=Wn(t),{roundedClasses:o}=on(t),{themeClasses:l}=Ot(t),{rtlClasses:c}=Gn(),u=Le(!!(t.extended||(f=n.extension)!=null&&f.call(n))),d=I(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),h=I(()=>u.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return en({VBtn:{variant:"text"}}),Ee(()=>{var v;const p=!!(t.title||n.title),g=!!(n.image||t.image),m=(v=n.extension)==null?void 0:v.call(n);return u.value=!!(t.extended||m),C(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,s.value,a.value,o.value,l.value,c.value,t.class],style:[r.value,t.style]},{default:()=>[g&&C("div",{key:"image",class:"v-toolbar__image"},[n.image?C(Ct,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):C(Co,{key:"image-img",cover:!0,src:t.image},null)]),C(Ct,{defaults:{VTabs:{height:Fe(d.value)}}},{default:()=>{var x,y,b;return[C("div",{class:"v-toolbar__content",style:{height:Fe(d.value)}},[n.prepend&&C("div",{class:"v-toolbar__prepend"},[(x=n.prepend)==null?void 0:x.call(n)]),p&&C(S_,{key:"title",text:t.title},{text:n.title}),(y=n.default)==null?void 0:y.call(n),n.append&&C("div",{class:"v-toolbar__append"},[(b=n.append)==null?void 0:b.call(n)])])]}}),C(Ct,{defaults:{VTabs:{height:Fe(h.value)}}},{default:()=>[C(Zp,null,{default:()=>[u.value&&C("div",{class:"v-toolbar__extension",style:{height:Fe(h.value)}},[m])]})]})]})}),{contentHeight:d,extensionHeight:h}}}),q7=re({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Y7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0;const r=he(null),s=Le(0),a=Le(0),o=Le(0),l=Le(!1),c=Le(!1),u=I(()=>Number(t.scrollThreshold)),d=I(()=>Mn((u.value-s.value)/u.value||0)),h=()=>{const f=r.value;!f||n&&!n.value||(i=s.value,s.value="window"in f?f.pageYOffset:f.scrollTop,c.value=s.value<i,o.value=Math.abs(s.value-u.value))};return Re(c,()=>{a.value=a.value||s.value}),Re(l,()=>{a.value=0}),vn(()=>{Re(()=>t.scrollTarget,f=>{var g;const p=f?document.querySelector(f):window;p&&p!==r.value&&((g=r.value)==null||g.removeEventListener("scroll",h),r.value=p,r.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),ni(()=>{var f;(f=r.value)==null||f.removeEventListener("scroll",h)}),n&&Re(n,h,{immediate:!0}),{scrollThreshold:u,currentScroll:s,currentThreshold:o,isScrollActive:l,scrollRatio:d,isScrollingUp:c,savedScroll:a}}function Uo(){const t=Le(!1);return vn(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:I(()=>t.value?void 0:{transition:"none !important"}),isBooted:Lo(t)}}const K7=re({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...ER(),...mc(),...q7(),height:{type:[Number,String],default:64}},"VAppBar"),Z7=ve()({name:"VAppBar",props:K7(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=he(),r=Xe(t,"modelValue"),s=I(()=>{var x;const v=new Set(((x=t.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:v.has("hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),a=I(()=>{const v=s.value;return v.hide||v.inverted||v.collapse||v.elevate||v.fadeImage||!r.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:c,scrollRatio:u}=Y7(t,{canScroll:a}),d=I(()=>t.collapse||s.value.collapse&&(s.value.inverted?u.value>0:u.value===0)),h=I(()=>t.flat||s.value.elevate&&(s.value.inverted?o.value>0:o.value===0)),f=I(()=>s.value.fadeImage?s.value.inverted?1-u.value:u.value:void 0),p=I(()=>{var y,b;if(s.value.hide&&s.value.inverted)return 0;const v=((y=i.value)==null?void 0:y.contentHeight)??0,x=((b=i.value)==null?void 0:b.extensionHeight)??0;return v+x});wr(I(()=>!!t.scrollBehavior),()=>{Jt(()=>{s.value.hide?s.value.inverted?r.value=o.value>l.value:r.value=c.value||o.value<l.value:r.value=!0})});const{ssrBootStyles:g}=Uo(),{layoutItemStyles:m}=vc({id:t.name,order:I(()=>parseInt(t.order,10)),position:me(t,"location"),layoutSize:p,elementSize:Le(void 0),active:r,absolute:me(t,"absolute")});return Ee(()=>{const v=Ly.filterProps(t);return C(Ly,Pe({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...m.value,"--v-toolbar-image-opacity":f.value,height:void 0,...g.value},t.style]},v,{collapse:d.value,flat:h.value}),n)}),{}}}),J7=[null,"default","comfortable","compact"],Dn=re({density:{type:String,default:"default",validator:t=>J7.includes(t)}},"density");function oi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{densityClasses:I(()=>`${e}--density-${t.density}`)}}const Q7=["elevated","flat","tonal","outlined","text","plain"];function zo(t,e){return C(je,null,[t&&C("span",{key:"overlay",class:`${e}__overlay`},null),C("span",{key:"underlay",class:`${e}__underlay`},null)])}const mr=re({color:String,variant:{type:String,default:"elevated",validator:t=>Q7.includes(t)}},"variant");function Ho(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();const n=I(()=>{const{variant:s}=Ye(t);return`${e}--variant-${s}`}),{colorClasses:i,colorStyles:r}=A_(I(()=>{const{variant:s,color:a}=Ye(t);return{[["elevated","flat"].includes(s)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:r,variantClasses:n}}const CR=re({divided:Boolean,...Ki(),...Ge(),...Dn(),...Tn(),...tn(),...ot(),...Mt(),...mr()},"VBtnGroup"),Iy=ve()({name:"VBtnGroup",props:CR(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{densityClasses:r}=oi(t),{borderClasses:s}=pr(t),{elevationClasses:a}=Wn(t),{roundedClasses:o}=on(t);en({VBtn:{height:"auto",color:me(t,"color"),density:me(t,"density"),flat:!0,variant:me(t,"variant")}}),Ee(()=>C(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,s.value,r.value,a.value,o.value,t.class],style:t.style},n))}}),Go=re({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Wo=re({value:null,disabled:Boolean,selectedClass:String},"group-item");function $o(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Cn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=ai();Ut(Symbol.for(`${e.description}:id`),r);const s=_t(e,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=me(t,"value"),o=I(()=>!!(s.disabled.value||t.disabled));s.register({id:r,value:a,disabled:o},i),ni(()=>{s.unregister(r)});const l=I(()=>s.isSelected(r)),c=I(()=>l.value&&[s.selectedClass.value,t.selectedClass]);return Re(l,u=>{i.emit("group:selected",{value:u})}),{id:r,isSelected:l,toggle:()=>s.select(r,!l.value),select:u=>s.select(r,u),selectedClass:c,value:a,disabled:o,group:s}}function Ea(t,e){let n=!1;const i=Sn([]),r=Xe(t,"modelValue",[],h=>h==null?[]:AR(i,mn(h)),h=>{const f=tj(i,h);return t.multiple?f:f[0]}),s=Cn("useGroup");function a(h,f){const p=h,g=Symbol.for(`${e.description}:id`),v=ou(g,s==null?void 0:s.vnode).indexOf(f);v>-1?i.splice(v,0,p):i.push(p)}function o(h){if(n)return;l();const f=i.findIndex(p=>p.id===h);i.splice(f,1)}function l(){const h=i.find(f=>!f.disabled);h&&t.mandatory==="force"&&!r.value.length&&(r.value=[h.id])}vn(()=>{l()}),ni(()=>{n=!0});function c(h,f){const p=i.find(g=>g.id===h);if(!(f&&(p!=null&&p.disabled)))if(t.multiple){const g=r.value.slice(),m=g.findIndex(x=>x===h),v=~m;if(f=f??!v,v&&t.mandatory&&g.length<=1||!v&&t.max!=null&&g.length+1>t.max)return;m<0&&f?g.push(h):m>=0&&!f&&g.splice(m,1),r.value=g}else{const g=r.value.includes(h);if(t.mandatory&&g)return;r.value=f??!g?[h]:[]}}function u(h){if(t.multiple,r.value.length){const f=r.value[0],p=i.findIndex(v=>v.id===f);let g=(p+h)%i.length,m=i[g];for(;m.disabled&&g!==p;)g=(g+h)%i.length,m=i[g];if(m.disabled)return;r.value=[i[g].id]}else{const f=i.find(p=>!p.disabled);f&&(r.value=[f.id])}}const d={register:a,unregister:o,selected:r,select:c,disabled:me(t,"disabled"),prev:()=>u(i.length-1),next:()=>u(1),isSelected:h=>r.value.includes(h),selectedClass:I(()=>t.selectedClass),items:I(()=>i),getItemIndex:h=>ej(i,h)};return Ut(e,d),d}function ej(t,e){const n=AR(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function AR(t,e){const n=[];return e.forEach(i=>{const r=t.find(a=>Sa(i,a.value)),s=t[i];(r==null?void 0:r.value)!=null?n.push(r.id):s!=null&&n.push(s.id)}),n}function tj(t,e){const n=[];return e.forEach(i=>{const r=t.findIndex(s=>s.id===i);if(~r){const s=t[r];n.push(s.value!=null?s.value:r)}}),n}const T_=Symbol.for("vuetify:v-btn-toggle"),nj=re({...CR(),...Go()},"VBtnToggle"),ij=ve()({name:"VBtnToggle",props:nj(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:r,prev:s,select:a,selected:o}=Ea(t,T_);return Ee(()=>{const l=Iy.filterProps(t);return C(Iy,Pe({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,next:r,prev:s,select:a,selected:o})]}})}),{next:r,prev:s,select:a}}}),rj=["x-small","small","default","large","x-large"],Os=re({size:{type:[String,Number],default:"default"}},"size");function gc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return h_(()=>{let n,i;return Of(rj,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Fe(t.size),height:Fe(t.size)}),{sizeClasses:n,sizeStyles:i}})}const sj=re({color:String,start:Boolean,end:Boolean,icon:nt,...Ge(),...Os(),...ot({tag:"i"}),...Mt()},"VIcon"),Bt=ve()({name:"VIcon",props:sj(),setup(t,e){let{attrs:n,slots:i}=e;const r=he(),{themeClasses:s}=Ot(t),{iconData:a}=v7(I(()=>r.value||t.icon)),{sizeClasses:o}=gc(t),{textColorClasses:l,textColorStyles:c}=ti(me(t,"color"));return Ee(()=>{var d,h;const u=(d=i.default)==null?void 0:d.call(i);return u&&(r.value=(h=GP(u).filter(f=>f.type===Zu&&f.children&&typeof f.children=="string")[0])==null?void 0:h.children),C(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",s.value,o.value,l.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[o.value?void 0:{fontSize:Fe(t.size),height:Fe(t.size),width:Fe(t.size)},c.value,t.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[u]})}),{}}});function Jp(t,e){const n=he(),i=Le(!1);if(d_){const r=new IntersectionObserver(s=>{t==null||t(s,r),i.value=!!s.find(a=>a.isIntersecting)},e);ni(()=>{r.disconnect()}),Re(n,(s,a)=>{a&&(r.unobserve(a),i.value=!1),s&&r.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const aj=re({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ge(),...Os(),...ot({tag:"div"}),...Mt()},"VProgressCircular"),tc=ve()({name:"VProgressCircular",props:aj(),setup(t,e){let{slots:n}=e;const i=20,r=2*Math.PI*i,s=he(),{themeClasses:a}=Ot(t),{sizeClasses:o,sizeStyles:l}=gc(t),{textColorClasses:c,textColorStyles:u}=ti(me(t,"color")),{textColorClasses:d,textColorStyles:h}=ti(me(t,"bgColor")),{intersectionRef:f,isIntersecting:p}=Jp(),{resizeRef:g,contentRect:m}=qr(),v=I(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),x=I(()=>Number(t.width)),y=I(()=>l.value?Number(t.size):m.value?m.value.width:Math.max(x.value,32)),b=I(()=>i/(1-x.value/y.value)*2),A=I(()=>x.value/y.value*b.value),M=I(()=>Fe((100-v.value)/100*r));return Jt(()=>{f.value=s.value,g.value=s.value}),Ee(()=>C(t.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,o.value,c.value,t.class],style:[l.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:v.value},{default:()=>[C("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.value} ${b.value}`},[C("circle",{class:["v-progress-circular__underlay",d.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":A.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),C("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":A.value,"stroke-dasharray":r,"stroke-dashoffset":M.value},null)]),n.default&&C("div",{class:"v-progress-circular__content"},[n.default({value:v.value})])]})),{}}}),iM={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Ca=re({location:String},"location");function Aa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Gn();return{locationStyles:I(()=>{if(!t.location)return{};const{side:s,align:a}=_y(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(c){return n?n(c):0}const l={};return s!=="center"&&(e?l[iM[s]]=`calc(100% - ${o(s)}px)`:l[s]=0),a!=="center"?e?l[iM[a]]=`calc(100% - ${o(a)}px)`:l[a]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const oj=re({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ge(),...Ca({location:"top"}),...tn(),...ot(),...Mt()},"VProgressLinear"),Qp=ve()({name:"VProgressLinear",props:oj(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),{isRtl:r,rtlClasses:s}=Gn(),{themeClasses:a}=Ot(t),{locationStyles:o}=Aa(t),{textColorClasses:l,textColorStyles:c}=ti(t,"color"),{backgroundColorClasses:u,backgroundColorStyles:d}=$t(I(()=>t.bgColor||t.color)),{backgroundColorClasses:h,backgroundColorStyles:f}=$t(t,"color"),{roundedClasses:p}=on(t),{intersectionRef:g,isIntersecting:m}=Jp(),v=I(()=>parseInt(t.max,10)),x=I(()=>parseInt(t.height,10)),y=I(()=>parseFloat(t.bufferValue)/v.value*100),b=I(()=>parseFloat(i.value)/v.value*100),A=I(()=>r.value!==t.reverse),M=I(()=>t.indeterminate?"fade-transition":"slide-x-transition"),E=I(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function S(_){if(!g.value)return;const{left:w,right:P,width:R}=g.value.getBoundingClientRect(),N=A.value?R-_.clientX+(P-R):_.clientX-w;i.value=Math.round(N/R*v.value)}return Ee(()=>C(t.tag,{ref:g,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&m.value,"v-progress-linear--reverse":A.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},p.value,a.value,s.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Fe(x.value):0,"--v-progress-linear-height":Fe(x.value),...o.value},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:b.value,onClick:t.clickable&&S},{default:()=>[t.stream&&C("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...c.value,[A.value?"left":"right"]:Fe(-x.value),borderTop:`${Fe(x.value/2)} dotted`,opacity:E.value,top:`calc(50% - ${Fe(x.value/4)})`,width:Fe(100-y.value,"%"),"--v-progress-linear-stream-to":Fe(x.value*(A.value?1:-1))}},null),C("div",{class:["v-progress-linear__background",u.value],style:[d.value,{opacity:E.value,width:Fe(t.stream?y.value:100,"%")}]},null),C(zr,{name:M.value},{default:()=>[t.indeterminate?C("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(_=>C("div",{key:_,class:["v-progress-linear__indeterminate",_,h.value],style:f.value},null))]):C("div",{class:["v-progress-linear__determinate",h.value],style:[f.value,{width:Fe(b.value,"%")}]},null)]}),n.default&&C("div",{class:"v-progress-linear__content"},[n.default({value:b.value,buffer:y.value})])]})),{}}}),em=re({loading:[Boolean,String]},"loader");function xd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{loaderClasses:I(()=>({[`${e}--loading`]:t.loading}))}}function tm(t,e){var i;let{slots:n}=e;return C("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||C(Qp,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const lj=["static","relative","fixed","absolute","sticky"],yc=re({position:{type:String,validator:t=>lj.includes(t)}},"position");function bc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{positionClasses:I(()=>t.position?`${e}--${t.position}`:void 0)}}function TR(){var t,e;return(e=(t=Cn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function wd(t,e){const n=j2("RouterLink"),i=I(()=>!!(t.href||t.to)),r=I(()=>(i==null?void 0:i.value)||R1(e,"click")||R1(t,"click"));if(typeof n=="string")return{isLink:i,isClickable:r,href:me(t,"href")};const s=t.to?n.useLink(t):void 0;return{isLink:i,isClickable:r,route:s==null?void 0:s.route,navigate:s==null?void 0:s.navigate,isActive:s&&I(()=>{var a,o;return t.exact?(a=s.isExactActive)==null?void 0:a.value:(o=s.isActive)==null?void 0:o.value}),href:I(()=>t.to?s==null?void 0:s.route.value.href:t.href)}}const Sd=re({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Bv=!1;function cj(t,e){let n=!1,i,r;Gt&&(Pt(()=>{window.addEventListener("popstate",s),i=t==null?void 0:t.beforeEach((a,o,l)=>{Bv?n?e(l):l():setTimeout(()=>n?e(l):l()),Bv=!0}),r=t==null?void 0:t.afterEach(()=>{Bv=!1})}),zn(()=>{window.removeEventListener("popstate",s),i==null||i(),r==null||r()}));function s(a){var o;(o=a.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function uj(t,e){Re(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&Pt(()=>{e(!0)})},{immediate:!0})}const ky=Symbol("rippleStop"),dj=80;function rM(t,e){t.style.transform=e,t.style.webkitTransform=e}function Dy(t){return t.constructor.name==="TouchEvent"}function PR(t){return t.constructor.name==="KeyboardEvent"}const hj=function(t,e){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!PR(t)){const h=e.getBoundingClientRect(),f=Dy(t)?t.touches[t.touches.length-1]:t;i=f.clientX-h.left,r=f.clientY-h.top}let s=0,a=.3;(d=e._ripple)!=null&&d.circle?(a=.15,s=e.clientWidth/2,s=n.center?s:s+Math.sqrt((i-s)**2+(r-s)**2)/4):s=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-s*2)/2}px`,l=`${(e.clientHeight-s*2)/2}px`,c=n.center?o:`${i-s}px`,u=n.center?l:`${r-s}px`;return{radius:s,scale:a,x:c,y:u,centerX:o,centerY:l}},Uf={show(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((f=e==null?void 0:e._ripple)!=null&&f.enabled))return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:s,scale:a,x:o,y:l,centerX:c,centerY:u}=hj(t,e,n),d=`${s*2}px`;r.className="v-ripple__animation",r.style.width=d,r.style.height=d,e.appendChild(i);const h=window.getComputedStyle(e);h&&h.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),rM(r,`translate(${o}, ${l}) scale3d(${a},${a},${a})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),rM(r,`translate(${c}, ${u}) scale3d(1,1,1)`)},0)},hide(t){var s;if(!((s=t==null?void 0:t._ripple)!=null&&s.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},r)}};function RR(t){return typeof t>"u"||!!t}function Gu(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[ky])){if(t[ky]=!0,Dy(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||PR(t),n._ripple.class&&(e.class=n._ripple.class),Dy(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Uf.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},dj)}else Uf.show(t,n,e)}}function sM(t){t[ky]=!0}function Ui(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{Ui(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),Uf.hide(e)}}function LR(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Wu=!1;function IR(t){!Wu&&(t.keyCode===E1.enter||t.keyCode===E1.space)&&(Wu=!0,Gu(t))}function kR(t){Wu=!1,Ui(t)}function DR(t){Wu&&(Wu=!1,Ui(t))}function OR(t,e,n){const{value:i,modifiers:r}=e,s=RR(i);if(s||Uf.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=s,t._ripple.centered=r.center,t._ripple.circle=r.circle,Df(i)&&i.class&&(t._ripple.class=i.class),s&&!n){if(r.stop){t.addEventListener("touchstart",sM,{passive:!0}),t.addEventListener("mousedown",sM);return}t.addEventListener("touchstart",Gu,{passive:!0}),t.addEventListener("touchend",Ui,{passive:!0}),t.addEventListener("touchmove",LR,{passive:!0}),t.addEventListener("touchcancel",Ui),t.addEventListener("mousedown",Gu),t.addEventListener("mouseup",Ui),t.addEventListener("mouseleave",Ui),t.addEventListener("keydown",IR),t.addEventListener("keyup",kR),t.addEventListener("blur",DR),t.addEventListener("dragstart",Ui,{passive:!0})}else!s&&n&&VR(t)}function VR(t){t.removeEventListener("mousedown",Gu),t.removeEventListener("touchstart",Gu),t.removeEventListener("touchend",Ui),t.removeEventListener("touchmove",LR),t.removeEventListener("touchcancel",Ui),t.removeEventListener("mouseup",Ui),t.removeEventListener("mouseleave",Ui),t.removeEventListener("keydown",IR),t.removeEventListener("keyup",kR),t.removeEventListener("dragstart",Ui),t.removeEventListener("blur",DR)}function fj(t,e){OR(t,e,!1)}function pj(t){delete t._ripple,VR(t)}function mj(t,e){if(e.value===e.oldValue)return;const n=RR(e.oldValue);OR(t,e,n)}const Vs={mounted:fj,unmounted:pj,updated:mj},P_=re({active:{type:Boolean,default:void 0},symbol:{type:null,default:T_},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:nt,appendIcon:nt,block:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Ki(),...Ge(),...Dn(),...mi(),...Tn(),...Wo(),...em(),...Ca(),...yc(),...tn(),...Sd(),...Os(),...ot({tag:"button"}),...Mt(),...mr({variant:"elevated"})},"VBtn"),It=ve()({name:"VBtn",directives:{Ripple:Vs},props:P_(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:r}=Ot(t),{borderClasses:s}=pr(t),{colorClasses:a,colorStyles:o,variantClasses:l}=Ho(t),{densityClasses:c}=oi(t),{dimensionStyles:u}=vi(t),{elevationClasses:d}=Wn(t),{loaderClasses:h}=xd(t),{locationStyles:f}=Aa(t),{positionClasses:p}=bc(t),{roundedClasses:g}=on(t),{sizeClasses:m,sizeStyles:v}=gc(t),x=$o(t,t.symbol,!1),y=wd(t,n),b=I(()=>{var _;return t.active!==void 0?t.active:y.isLink.value?(_=y.isActive)==null?void 0:_.value:x==null?void 0:x.isSelected.value}),A=I(()=>(x==null?void 0:x.disabled.value)||t.disabled),M=I(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),E=I(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function S(_){var w;A.value||y.isLink.value&&(_.metaKey||_.ctrlKey||_.shiftKey||_.button!==0||n.target==="_blank")||((w=y.navigate)==null||w.call(y,_),x==null||x.toggle())}return uj(y,x==null?void 0:x.select),Ee(()=>{var k,z;const _=y.isLink.value?"a":t.tag,w=!!(t.prependIcon||i.prepend),P=!!(t.appendIcon||i.append),R=!!(t.icon&&t.icon!==!0),N=(x==null?void 0:x.isSelected.value)&&(!y.isLink.value||((k=y.isActive)==null?void 0:k.value))||!x||((z=y.isActive)==null?void 0:z.value);return St(C(_,{type:_==="a"?void 0:"button",class:["v-btn",x==null?void 0:x.selectedClass.value,{"v-btn--active":b.value,"v-btn--block":t.block,"v-btn--disabled":A.value,"v-btn--elevated":M.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},r.value,s.value,N?a.value:void 0,c.value,d.value,h.value,p.value,g.value,m.value,l.value,t.class],style:[N?o.value:void 0,u.value,f.value,v.value,t.style],disabled:A.value||void 0,href:y.href.value,onClick:S,value:E.value},{default:()=>{var F;return[zo(!0,"v-btn"),!t.icon&&w&&C("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?C(Ct,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):C(Bt,{key:"prepend-icon",icon:t.prependIcon},null)]),C("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&R?C(Bt,{key:"content-icon",icon:t.icon},null):C(Ct,{key:"content-defaults",disabled:!R,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var j;return[((j=i.default)==null?void 0:j.call(i))??t.text]}})]),!t.icon&&P&&C("span",{key:"append",class:"v-btn__append"},[i.append?C(Ct,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):C(Bt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&C("span",{key:"loader",class:"v-btn__loader"},[((F=i.loader)==null?void 0:F.call(i))??C(tc,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[qn("ripple"),!A.value&&t.ripple,null]])}),{}}}),vj=re({...P_({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),gj=ve()({name:"VAppBarNavIcon",props:vj(),setup(t,e){let{slots:n}=e;return Ee(()=>C(It,Pe(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),yj=ve()({name:"VAppBarTitle",props:bR(),setup(t,e){let{slots:n}=e;return Ee(()=>C(S_,Pe(t,{class:"v-app-bar-title"}),n)),{}}}),NR=qi("v-alert-title"),bj=["success","info","warning","error"],_j=re({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:nt,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>bj.includes(t)},...Ge(),...Dn(),...mi(),...Tn(),...Ca(),...yc(),...tn(),...ot(),...Mt(),...mr({variant:"flat"})},"VAlert"),xj=ve()({name:"VAlert",props:_j(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=Xe(t,"modelValue"),s=I(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=I(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=Ot(t),{colorClasses:l,colorStyles:c,variantClasses:u}=Ho(a),{densityClasses:d}=oi(t),{dimensionStyles:h}=vi(t),{elevationClasses:f}=Wn(t),{locationStyles:p}=Aa(t),{positionClasses:g}=bc(t),{roundedClasses:m}=on(t),{textColorClasses:v,textColorStyles:x}=ti(me(t,"borderColor")),{t:y}=An(),b=I(()=>({"aria-label":y(t.closeLabel),onClick(A){r.value=!1,n("click:close",A)}}));return()=>{const A=!!(i.prepend||s.value),M=!!(i.title||t.title),E=!!(i.close||t.closable);return r.value&&C(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,l.value,d.value,f.value,g.value,m.value,u.value,t.class],style:[c.value,h.value,p.value,t.style],role:"alert"},{default:()=>{var S,_;return[zo(!1,"v-alert"),t.border&&C("div",{key:"border",class:["v-alert__border",v.value],style:x.value},null),A&&C("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?C(Ct,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:t.density,icon:s.value,size:t.prominent?44:28}}},i.prepend):C(Bt,{key:"prepend-icon",density:t.density,icon:s.value,size:t.prominent?44:28},null)]),C("div",{class:"v-alert__content"},[M&&C(NR,{key:"title"},{default:()=>{var w;return[((w=i.title)==null?void 0:w.call(i))??t.title]}}),((S=i.text)==null?void 0:S.call(i))??t.text,(_=i.default)==null?void 0:_.call(i)]),i.append&&C("div",{key:"append",class:"v-alert__append"},[i.append()]),E&&C("div",{key:"close",class:"v-alert__close"},[i.close?C(Ct,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var w;return[(w=i.close)==null?void 0:w.call(i,{props:b.value})]}}):C(It,Pe({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},b.value),null)])]}})}}}),wj=re({text:String,clickable:Boolean,...Ge(),...Mt()},"VLabel"),_c=ve()({name:"VLabel",props:wj(),setup(t,e){let{slots:n}=e;return Ee(()=>{var i;return C("label",{class:["v-label",{"v-label--clickable":t.clickable},t.class],style:t.style},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),FR=Symbol.for("vuetify:selection-control-group"),R_=re({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:nt,trueIcon:nt,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Sa},...Ge(),...Dn(),...Mt()},"SelectionControlGroup"),Sj=re({...R_({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),BR=ve()({name:"VSelectionControlGroup",props:Sj(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),r=ai(),s=I(()=>t.id||`v-selection-control-group-${r}`),a=I(()=>t.name||s.value),o=new Set;return Ut(FR,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),zn(()=>{o.delete(l)})}}),en({[t.defaultsTarget]:{color:me(t,"color"),disabled:me(t,"disabled"),density:me(t,"density"),error:me(t,"error"),inline:me(t,"inline"),modelValue:i,multiple:I(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:a,falseIcon:me(t,"falseIcon"),trueIcon:me(t,"trueIcon"),readonly:me(t,"readonly"),ripple:me(t,"ripple"),type:me(t,"type"),valueComparator:me(t,"valueComparator")}}),Ee(()=>{var l;return C("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),nm=re({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ge(),...R_()},"VSelectionControl");function Mj(t){const e=_t(FR,void 0),{densityClasses:n}=oi(t),i=Xe(t,"modelValue"),r=I(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),s=I(()=>t.falseValue!==void 0?t.falseValue:!1),a=I(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=I({get(){const f=e?e.modelValue.value:i.value;return a.value?mn(f).some(p=>t.valueComparator(p,r.value)):t.valueComparator(f,r.value)},set(f){if(t.readonly)return;const p=f?r.value:s.value;let g=p;a.value&&(g=f?[...mn(i.value),p]:mn(i.value).filter(m=>!t.valueComparator(m,r.value))),e?e.modelValue.value=g:i.value=g}}),{textColorClasses:l,textColorStyles:c}=ti(I(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:u,backgroundColorStyles:d}=$t(I(()=>o.value&&!t.error&&!t.disabled?t.color:void 0)),h=I(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:r,falseValue:s,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,icon:h}}const Ao=ve()({name:"VSelectionControl",directives:{Ripple:Vs},inheritAttrs:!1,props:nm(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:r,densityClasses:s,icon:a,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,trueValue:h}=Mj(t),f=ai(),p=I(()=>t.id||`input-${f}`),g=Le(!1),m=Le(!1),v=he();r==null||r.onForceUpdate(()=>{v.value&&(v.value.checked=o.value)});function x(A){g.value=!0,Jl(A.target,":focus-visible")!==!1&&(m.value=!0)}function y(){g.value=!1,m.value=!1}function b(A){t.readonly&&r&&Pt(()=>r.forceUpdate()),o.value=A.target.checked}return Ee(()=>{var _,w;const A=i.label?i.label({label:t.label,props:{for:p.value}}):t.label,[M,E]=Ma(n),S=C("input",Pe({ref:v,checked:o.value,disabled:!!(t.readonly||t.disabled),id:p.value,onBlur:y,onFocus:x,onInput:b,"aria-disabled":!!(t.readonly||t.disabled),type:t.type,value:h.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},E),null);return C("div",Pe({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":m.value,"v-selection-control--inline":t.inline},s.value,t.class]},M,{style:t.style}),[C("div",{class:["v-selection-control__wrapper",l.value],style:c.value},[(_=i.default)==null?void 0:_.call(i,{backgroundColorClasses:u,backgroundColorStyles:d}),St(C("div",{class:["v-selection-control__input"]},[((w=i.input)==null?void 0:w.call(i,{model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,inputNode:S,icon:a.value,props:{onFocus:x,onBlur:y,id:p.value}}))??C(je,null,[a.value&&C(Bt,{key:"icon",icon:a.value},null),S])]),[[qn("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),A&&C(_c,{for:p.value,clickable:!0,onClick:P=>P.stopPropagation()},{default:()=>[A]})])}),{isFocused:g,input:v}}}),UR=re({indeterminate:Boolean,indeterminateIcon:{type:nt,default:"$checkboxIndeterminate"},...nm({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ps=ve()({name:"VCheckboxBtn",props:UR(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"indeterminate"),r=Xe(t,"modelValue");function s(l){i.value&&(i.value=!1)}const a=I(()=>i.value?t.indeterminateIcon:t.falseIcon),o=I(()=>i.value?t.indeterminateIcon:t.trueIcon);return Ee(()=>{const l=kn(Ao.filterProps(t),["modelValue"]);return C(Ao,Pe(l,{modelValue:r.value,"onUpdate:modelValue":[c=>r.value=c,s],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function zR(t){const{t:e}=An();function n(i){let{name:r}=i;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],a=t[`onClick:${r}`],o=a&&s?e(`$vuetify.input.${s}`,t.label??""):void 0;return C(Bt,{icon:t[`${r}Icon`],"aria-label":o,onClick:a},null)}return{InputIcon:n}}const Ej=re({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ge(),...Ds({transition:{component:E_,leaveAbsolute:!0,group:!0}})},"VMessages"),HR=ve()({name:"VMessages",props:Ej(),setup(t,e){let{slots:n}=e;const i=I(()=>mn(t.messages)),{textColorClasses:r,textColorStyles:s}=ti(I(()=>t.color));return Ee(()=>C(cr,{transition:t.transition,tag:"div",class:["v-messages",r.value,t.class],style:[s.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((a,o)=>C("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Md=re({focused:Boolean,"onUpdate:focused":Pi()},"focus");function Ns(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();const n=Xe(t,"focused"),i=I(()=>({[`${e}--focused`]:n.value}));function r(){n.value=!0}function s(){n.value=!1}return{focusClasses:i,isFocused:n,focus:r,blur:s}}const GR=Symbol.for("vuetify:form"),Cj=re({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Aj(t){const e=Xe(t,"modelValue"),n=I(()=>t.disabled),i=I(()=>t.readonly),r=Le(!1),s=he([]),a=he([]);async function o(){const u=[];let d=!0;a.value=[],r.value=!0;for(const h of s.value){const f=await h.validate();if(f.length>0&&(d=!1,u.push({id:h.id,errorMessages:f})),!d&&t.fastFail)break}return a.value=u,r.value=!1,{valid:d,errors:a.value}}function l(){s.value.forEach(u=>u.reset())}function c(){s.value.forEach(u=>u.resetValidation())}return Re(s,()=>{let u=0,d=0;const h=[];for(const f of s.value)f.isValid===!1?(d++,h.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&u++;a.value=h,e.value=d>0?!1:u===s.value.length?!0:null},{deep:!0}),Ut(GR,{register:u=>{let{id:d,validate:h,reset:f,resetValidation:p}=u;s.value.some(g=>g.id===d),s.value.push({id:d,validate:h,reset:f,resetValidation:p,isValid:null,errorMessages:[]})},unregister:u=>{s.value=s.value.filter(d=>d.id!==u)},update:(u,d,h)=>{const f=s.value.find(p=>p.id===u);f&&(f.isValid=d,f.errorMessages=h)},isDisabled:n,isReadonly:i,isValidating:r,isValid:e,items:s,validateOn:me(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:r,isValid:e,items:s,validate:o,reset:l,resetValidation:c}}function im(){return _t(GR,null)}const WR=re({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Md()},"validation");function $R(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ai();const i=Xe(t,"modelValue"),r=I(()=>t.validationValue===void 0?i.value:t.validationValue),s=im(),a=he([]),o=Le(!0),l=I(()=>!!(mn(i.value===""?null:i.value).length||mn(r.value===""?null:r.value).length)),c=I(()=>!!(t.disabled??(s==null?void 0:s.isDisabled.value))),u=I(()=>!!(t.readonly??(s==null?void 0:s.isReadonly.value))),d=I(()=>{var b;return(b=t.errorMessages)!=null&&b.length?mn(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),h=I(()=>{let b=(t.validateOn??(s==null?void 0:s.validateOn.value))||"input";b==="lazy"&&(b="input lazy");const A=new Set((b==null?void 0:b.split(" "))??[]);return{blur:A.has("blur")||A.has("input"),input:A.has("input"),submit:A.has("submit"),lazy:A.has("lazy")}}),f=I(()=>{var b;return t.error||(b=t.errorMessages)!=null&&b.length?!1:t.rules.length?o.value?a.value.length||h.value.lazy?null:!0:!a.value.length:!0}),p=Le(!1),g=I(()=>({[`${e}--error`]:f.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:c.value,[`${e}--readonly`]:u.value})),m=I(()=>t.name??Ye(n));Qf(()=>{s==null||s.register({id:m.value,validate:y,reset:v,resetValidation:x})}),ni(()=>{s==null||s.unregister(m.value)}),vn(async()=>{h.value.lazy||await y(!0),s==null||s.update(m.value,f.value,d.value)}),wr(()=>h.value.input,()=>{Re(r,()=>{if(r.value!=null)y();else if(t.focused){const b=Re(()=>t.focused,A=>{A||y(),b()})}})}),wr(()=>h.value.blur,()=>{Re(()=>t.focused,b=>{b||y()})}),Re(f,()=>{s==null||s.update(m.value,f.value,d.value)});function v(){i.value=null,Pt(x)}function x(){o.value=!0,h.value.lazy?a.value=[]:y(!0)}async function y(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const A=[];p.value=!0;for(const M of t.rules){if(A.length>=+(t.maxErrors??1))break;const S=await(typeof M=="function"?M:()=>M)(r.value);if(S!==!0){if(S!==!1&&typeof S!="string"){console.warn(`${S} is not a valid value. Rule functions must return boolean true or a string.`);continue}A.push(S||"")}}return a.value=A,p.value=!1,o.value=b,a.value}return{errorMessages:d,isDirty:l,isDisabled:c,isReadonly:u,isPristine:o,isValid:f,isValidating:p,reset:v,resetValidation:x,validate:y,validationClasses:g}}const Fs=re({id:String,appendIcon:nt,centerAffix:{type:Boolean,default:!0},prependIcon:nt,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Pi(),"onClick:append":Pi(),...Ge(),...Dn(),...WR()},"VInput"),Xn=ve()({name:"VInput",props:{...Fs()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:r}=e;const{densityClasses:s}=oi(t),{rtlClasses:a}=Gn(),{InputIcon:o}=zR(t),l=ai(),c=I(()=>t.id||`input-${l}`),u=I(()=>`${c.value}-messages`),{errorMessages:d,isDirty:h,isDisabled:f,isReadonly:p,isPristine:g,isValid:m,isValidating:v,reset:x,resetValidation:y,validate:b,validationClasses:A}=$R(t,"v-input",c),M=I(()=>({id:c,messagesId:u,isDirty:h,isDisabled:f,isReadonly:p,isPristine:g,isValid:m,isValidating:v,reset:x,resetValidation:y,validate:b})),E=I(()=>{var S;return(S=t.errorMessages)!=null&&S.length||!g.value&&d.value.length?d.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return Ee(()=>{var R,N,k,z;const S=!!(i.prepend||t.prependIcon),_=!!(i.append||t.appendIcon),w=E.value.length>0,P=!t.hideDetails||t.hideDetails==="auto"&&(w||!!i.details);return C("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},s.value,a.value,A.value,t.class],style:t.style},[S&&C("div",{key:"prepend",class:"v-input__prepend"},[(R=i.prepend)==null?void 0:R.call(i,M.value),t.prependIcon&&C(o,{key:"prepend-icon",name:"prepend"},null)]),i.default&&C("div",{class:"v-input__control"},[(N=i.default)==null?void 0:N.call(i,M.value)]),_&&C("div",{key:"append",class:"v-input__append"},[t.appendIcon&&C(o,{key:"append-icon",name:"append"},null),(k=i.append)==null?void 0:k.call(i,M.value)]),P&&C("div",{class:"v-input__details"},[C(HR,{id:u.value,active:w,messages:E.value},{message:i.message}),(z=i.details)==null?void 0:z.call(i,M.value)])])}),{reset:x,resetValidation:y,validate:b,isValid:m,errorMessages:d}}}),Tj=re({...Fs(),...kn(UR(),["inline"])},"VCheckbox"),Pj=ve()({name:"VCheckbox",inheritAttrs:!1,props:Tj(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const r=Xe(t,"modelValue"),{isFocused:s,focus:a,blur:o}=Ns(t),l=ai(),c=I(()=>t.id||`checkbox-${l}`);return Ee(()=>{const[u,d]=Ma(n),h=Xn.filterProps(t),f=Ps.filterProps(t);return C(Xn,Pe({class:["v-checkbox",t.class]},u,h,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,id:c.value,focused:s.value,style:t.style}),{...i,default:p=>{let{id:g,messagesId:m,isDisabled:v,isReadonly:x}=p;return C(Ps,Pe(f,{id:g.value,"aria-describedby":m.value,disabled:v.value,readonly:x.value},d,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,onFocus:a,onBlur:o}),i)}})}),{}}}),Rj=re({start:Boolean,end:Boolean,icon:nt,image:String,text:String,...Ge(),...Dn(),...tn(),...Os(),...ot(),...Mt(),...mr({variant:"flat"})},"VAvatar"),Rs=ve()({name:"VAvatar",props:Rj(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{colorClasses:r,colorStyles:s,variantClasses:a}=Ho(t),{densityClasses:o}=oi(t),{roundedClasses:l}=on(t),{sizeClasses:c,sizeStyles:u}=gc(t);return Ee(()=>C(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,r.value,o.value,l.value,c.value,a.value,t.class],style:[s.value,u.value,t.style]},{default:()=>{var d;return[t.image?C(Co,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?C(Bt,{key:"icon",icon:t.icon},null):((d=n.default)==null?void 0:d.call(n))??t.text,zo(!1,"v-avatar")]}})),{}}}),jR=Symbol.for("vuetify:v-chip-group"),Lj=re({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Sa},...Ge(),...Go({selectedClass:"v-chip--selected"}),...ot(),...Mt(),...mr({variant:"tonal"})},"VChipGroup"),Ij=ve()({name:"VChipGroup",props:Lj(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{isSelected:r,select:s,next:a,prev:o,selected:l}=Ea(t,jR);return en({VChip:{color:me(t,"color"),disabled:me(t,"disabled"),filter:me(t,"filter"),variant:me(t,"variant")}}),Ee(()=>C(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,select:s,next:a,prev:o,selected:l.value})]}})),{}}}),kj=re({activeClass:String,appendAvatar:String,appendIcon:nt,closable:Boolean,closeIcon:{type:nt,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:nt,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Pi(),onClickOnce:Pi(),...Ki(),...Ge(),...Dn(),...Tn(),...Wo(),...tn(),...Sd(),...Os(),...ot({tag:"span"}),...Mt(),...mr({variant:"tonal"})},"VChip"),Ed=ve()({name:"VChip",directives:{Ripple:Vs},props:kj(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{t:s}=An(),{borderClasses:a}=pr(t),{colorClasses:o,colorStyles:l,variantClasses:c}=Ho(t),{densityClasses:u}=oi(t),{elevationClasses:d}=Wn(t),{roundedClasses:h}=on(t),{sizeClasses:f}=gc(t),{themeClasses:p}=Ot(t),g=Xe(t,"modelValue"),m=$o(t,jR,!1),v=wd(t,n),x=I(()=>t.link!==!1&&v.isLink.value),y=I(()=>!t.disabled&&t.link!==!1&&(!!m||t.link||v.isClickable.value)),b=I(()=>({"aria-label":s(t.closeLabel),onClick(E){E.stopPropagation(),g.value=!1,i("click:close",E)}}));function A(E){var S;i("click",E),y.value&&((S=v.navigate)==null||S.call(v,E),m==null||m.toggle())}function M(E){(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),A(E))}return()=>{const E=v.isLink.value?"a":t.tag,S=!!(t.appendIcon||t.appendAvatar),_=!!(S||r.append),w=!!(r.close||t.closable),P=!!(r.filter||t.filter)&&m,R=!!(t.prependIcon||t.prependAvatar),N=!!(R||r.prepend),k=!m||m.isSelected.value;return g.value&&St(C(E,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":y.value,"v-chip--filter":P,"v-chip--pill":t.pill},p.value,a.value,k?o.value:void 0,u.value,d.value,h.value,f.value,c.value,m==null?void 0:m.selectedClass.value,t.class],style:[k?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:v.href.value,tabindex:y.value?0:void 0,onClick:A,onKeydown:y.value&&!x.value&&M},{default:()=>{var z;return[zo(y.value,"v-chip"),P&&C(C_,{key:"filter"},{default:()=>[St(C("div",{class:"v-chip__filter"},[r.filter?C(Ct,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},r.filter):C(Bt,{key:"filter-icon",icon:t.filterIcon},null)]),[[Jr,m.isSelected.value]])]}),N&&C("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?C(Ct,{key:"prepend-defaults",disabled:!R,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},r.prepend):C(je,null,[t.prependIcon&&C(Bt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&C(Rs,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),C("div",{class:"v-chip__content"},[((z=r.default)==null?void 0:z.call(r,{isSelected:m==null?void 0:m.isSelected.value,selectedClass:m==null?void 0:m.selectedClass.value,select:m==null?void 0:m.select,toggle:m==null?void 0:m.toggle,value:m==null?void 0:m.value.value,disabled:t.disabled}))??t.text]),_&&C("div",{key:"append",class:"v-chip__append"},[r.append?C(Ct,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},r.append):C(je,null,[t.appendIcon&&C(Bt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&C(Rs,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),w&&C("div",Pe({key:"close",class:"v-chip__close"},b.value),[r.close?C(Ct,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},r.close):C(Bt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[qn("ripple"),y.value&&t.ripple,null]])}}}),Oy=Symbol.for("vuetify:list");function XR(){const t=_t(Oy,{hasPrepend:Le(!1),updateHasPrepend:()=>null}),e={hasPrepend:Le(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Ut(Oy,e),t}function qR(){return _t(Oy,null)}const Dj={open:t=>{let{id:e,value:n,opened:i,parents:r}=t;if(n){const s=new Set;s.add(e);let a=r.get(e);for(;a!=null;)s.add(a),a=r.get(a);return s}else return i.delete(e),i},select:()=>null},YR={open:t=>{let{id:e,value:n,opened:i,parents:r}=t;if(n){let s=r.get(e);for(i.add(e);s!=null&&s!==e;)i.add(s),s=r.get(s);return i}else i.delete(e);return i},select:()=>null},Oj={open:YR.open,select:t=>{let{id:e,value:n,opened:i,parents:r}=t;if(!n)return i;const s=[];let a=r.get(e);for(;a!=null;)s.push(a),a=r.get(a);return new Set(s)}},L_=t=>{const e={select:n=>{let{id:i,value:r,selected:s}=n;if(i=dt(i),t&&!r){const a=Array.from(s.entries()).reduce((o,l)=>{let[c,u]=l;return u==="on"?[...o,c]:o},[]);if(a.length===1&&a[0]===i)return s}return s.set(i,r?"on":"off"),s},in:(n,i,r)=>{let s=new Map;for(const a of n||[])s=e.select({id:a,value:!0,selected:new Map(s),children:i,parents:r});return s},out:n=>{const i=[];for(const[r,s]of n.entries())s==="on"&&i.push(r);return i}};return e},KR=t=>{const e=L_(t);return{select:i=>{let{selected:r,id:s,...a}=i;s=dt(s);const o=r.has(s)?new Map([[s,r.get(s)]]):new Map;return e.select({...a,id:s,selected:o})},in:(i,r,s)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),r,s)),a},out:(i,r,s)=>e.out(i,r,s)}},Vj=t=>{const e=L_(t);return{select:i=>{let{id:r,selected:s,children:a,...o}=i;return r=dt(r),a.has(r)?s:e.select({id:r,selected:s,children:a,...o})},in:e.in,out:e.out}},Nj=t=>{const e=KR(t);return{select:i=>{let{id:r,selected:s,children:a,...o}=i;return r=dt(r),a.has(r)?s:e.select({id:r,selected:s,children:a,...o})},in:e.in,out:e.out}},Fj=t=>{const e={select:n=>{let{id:i,value:r,selected:s,children:a,parents:o}=n;i=dt(i);const l=new Map(s),c=[i];for(;c.length;){const d=c.shift();s.set(d,r?"on":"off"),a.has(d)&&c.push(...a.get(d))}let u=o.get(i);for(;u;){const d=a.get(u),h=d.every(p=>s.get(p)==="on"),f=d.every(p=>!s.has(p)||s.get(p)==="off");s.set(u,h?"on":f?"off":"indeterminate"),u=o.get(u)}return t&&!r&&Array.from(s.entries()).reduce((h,f)=>{let[p,g]=f;return g==="on"?[...h,p]:h},[]).length===0?l:s},in:(n,i,r)=>{let s=new Map;for(const a of n||[])s=e.select({id:a,value:!0,selected:new Map(s),children:i,parents:r});return s},out:(n,i)=>{const r=[];for(const[s,a]of n.entries())a==="on"&&!i.has(s)&&r.push(s);return r}};return e},$u=Symbol.for("vuetify:nested"),ZR={id:Le(),root:{register:()=>null,unregister:()=>null,parents:he(new Map),children:he(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:he(new Set),selected:he(new Map),selectedValues:he([])}},Bj=re({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),Uj=t=>{let e=!1;const n=he(new Map),i=he(new Map),r=Xe(t,"opened",t.opened,d=>new Set(d),d=>[...d.values()]),s=I(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return Nj(t.mandatory);case"leaf":return Vj(t.mandatory);case"independent":return L_(t.mandatory);case"single-independent":return KR(t.mandatory);case"classic":default:return Fj(t.mandatory)}}),a=I(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Oj;case"single":return Dj;case"multiple":default:return YR}}),o=Xe(t,"selected",t.selected,d=>s.value.in(d,n.value,i.value),d=>s.value.out(d,n.value,i.value));ni(()=>{e=!0});function l(d){const h=[];let f=d;for(;f!=null;)h.unshift(f),f=i.value.get(f);return h}const c=Cn("nested"),u={id:Le(),root:{opened:r,selected:o,selectedValues:I(()=>{const d=[];for(const[h,f]of o.value.entries())f==="on"&&d.push(h);return d}),register:(d,h,f)=>{h&&d!==h&&i.value.set(d,h),f&&n.value.set(d,[]),h!=null&&n.value.set(h,[...n.value.get(h)||[],d])},unregister:d=>{if(e)return;n.value.delete(d);const h=i.value.get(d);if(h){const f=n.value.get(h)??[];n.value.set(h,f.filter(p=>p!==d))}i.value.delete(d),r.value.delete(d)},open:(d,h,f)=>{c.emit("click:open",{id:d,value:h,path:l(d),event:f});const p=a.value.open({id:d,value:h,opened:new Set(r.value),children:n.value,parents:i.value,event:f});p&&(r.value=p)},openOnSelect:(d,h,f)=>{const p=a.value.select({id:d,value:h,selected:new Map(o.value),opened:new Set(r.value),children:n.value,parents:i.value,event:f});p&&(r.value=p)},select:(d,h,f)=>{c.emit("click:select",{id:d,value:h,path:l(d),event:f});const p=s.value.select({id:d,value:h,selected:new Map(o.value),children:n.value,parents:i.value,event:f});p&&(o.value=p),u.root.openOnSelect(d,h,f)},children:n,parents:i}};return Ut($u,u),u.root},JR=(t,e)=>{const n=_t($u,ZR),i=Symbol(ai()),r=I(()=>t.value!==void 0?t.value:i),s={...n,id:r,open:(a,o)=>n.root.open(r.value,a,o),openOnSelect:(a,o)=>n.root.openOnSelect(r.value,a,o),isOpen:I(()=>n.root.opened.value.has(r.value)),parent:I(()=>n.root.parents.value.get(r.value)),select:(a,o)=>n.root.select(r.value,a,o),isSelected:I(()=>n.root.selected.value.get(dt(r.value))==="on"),isIndeterminate:I(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:I(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,e),ni(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),e&&Ut($u,s),s},zj=()=>{const t=_t($u,ZR);Ut($u,{...t,isGroupActivator:!0})},Hj=Xi({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return zj(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),Gj=re({activeColor:String,baseColor:String,color:String,collapseIcon:{type:nt,default:"$collapse"},expandIcon:{type:nt,default:"$expand"},prependIcon:nt,appendIcon:nt,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ge(),...ot()},"VListGroup"),Vy=ve()({name:"VListGroup",props:Gj(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:r,id:s}=JR(me(t,"value"),!0),a=I(()=>`v-list-group--id-${String(s.value)}`),o=qR(),{isBooted:l}=Uo();function c(f){r(!i.value,f)}const u=I(()=>({onClick:c,class:"v-list-group__header",id:a.value})),d=I(()=>i.value?t.collapseIcon:t.expandIcon),h=I(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}));return Ee(()=>C(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&C(Ct,{defaults:h.value},{default:()=>[C(Hj,null,{default:()=>[n.activator({props:u.value,isOpen:i.value})]})]}),C(cr,{transition:{component:Zp},disabled:!l.value},{default:()=>{var f;return[St(C("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(f=n.default)==null?void 0:f.call(n)]),[[Jr,i.value]])]}})]})),{}}}),QR=qi("v-list-item-subtitle"),eL=qi("v-list-item-title"),Wj=re({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:nt,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:nt,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:Pi(),onClickOnce:Pi(),...Ki(),...Ge(),...Dn(),...mi(),...Tn(),...tn(),...Sd(),...ot(),...Mt(),...mr({variant:"text"})},"VListItem"),Ls=ve()({name:"VListItem",directives:{Ripple:Vs},props:Wj(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:r}=e;const s=wd(t,n),a=I(()=>t.value===void 0?s.href.value:t.value),{select:o,isSelected:l,isIndeterminate:c,isGroupActivator:u,root:d,parent:h,openOnSelect:f}=JR(a,!1),p=qR(),g=I(()=>{var X;return t.active!==!1&&(t.active||((X=s.isActive)==null?void 0:X.value)||l.value)}),m=I(()=>t.link!==!1&&s.isLink.value),v=I(()=>!t.disabled&&t.link!==!1&&(t.link||s.isClickable.value||t.value!=null&&!!p)),x=I(()=>t.rounded||t.nav),y=I(()=>t.color??t.activeColor),b=I(()=>({color:g.value?y.value??t.baseColor:t.baseColor,variant:t.variant}));Re(()=>{var X;return(X=s.isActive)==null?void 0:X.value},X=>{X&&h.value!=null&&d.open(h.value,!0),X&&f(X)},{immediate:!0});const{themeClasses:A}=Ot(t),{borderClasses:M}=pr(t),{colorClasses:E,colorStyles:S,variantClasses:_}=Ho(b),{densityClasses:w}=oi(t),{dimensionStyles:P}=vi(t),{elevationClasses:R}=Wn(t),{roundedClasses:N}=on(x),k=I(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),z=I(()=>({isActive:g.value,select:o,isSelected:l.value,isIndeterminate:c.value}));function F(X){var Z;r("click",X),!(u||!v.value)&&((Z=s.navigate)==null||Z.call(s,X),t.value!=null&&o(!l.value,X))}function j(X){(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),F(X))}return Ee(()=>{const X=m.value?"a":t.tag,Z=i.title||t.title,J=i.subtitle||t.subtitle,H=!!(t.appendAvatar||t.appendIcon),q=!!(H||i.append),le=!!(t.prependAvatar||t.prependIcon),ue=!!(le||i.prepend);return p==null||p.updateHasPrepend(ue),t.activeColor&&p9("active-color",["color","base-color"]),St(C(X,{class:["v-list-item",{"v-list-item--active":g.value,"v-list-item--disabled":t.disabled,"v-list-item--link":v.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!ue&&(p==null?void 0:p.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&g.value},A.value,M.value,E.value,w.value,R.value,k.value,N.value,_.value,t.class],style:[S.value,P.value,t.style],href:s.href.value,tabindex:v.value?p?-2:0:void 0,onClick:F,onKeydown:v.value&&!m.value&&j},{default:()=>{var be;return[zo(v.value||g.value,"v-list-item"),ue&&C("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?C(Ct,{key:"prepend-defaults",disabled:!le,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ae;return[(ae=i.prepend)==null?void 0:ae.call(i,z.value)]}}):C(je,null,[t.prependAvatar&&C(Rs,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&C(Bt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),C("div",{class:"v-list-item__spacer"},null)]),C("div",{class:"v-list-item__content","data-no-activator":""},[Z&&C(eL,{key:"title"},{default:()=>{var ae;return[((ae=i.title)==null?void 0:ae.call(i,{title:t.title}))??t.title]}}),J&&C(QR,{key:"subtitle"},{default:()=>{var ae;return[((ae=i.subtitle)==null?void 0:ae.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(be=i.default)==null?void 0:be.call(i,z.value)]),q&&C("div",{key:"append",class:"v-list-item__append"},[i.append?C(Ct,{key:"append-defaults",disabled:!H,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ae;return[(ae=i.append)==null?void 0:ae.call(i,z.value)]}}):C(je,null,[t.appendIcon&&C(Bt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&C(Rs,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),C("div",{class:"v-list-item__spacer"},null)])]}}),[[qn("ripple"),v.value&&t.ripple]])}),{}}}),$j=re({color:String,inset:Boolean,sticky:Boolean,title:String,...Ge(),...ot()},"VListSubheader"),tL=ve()({name:"VListSubheader",props:$j(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:r}=ti(me(t,"color"));return Ee(()=>{const s=!!(n.default||t.title);return C(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:r},t.style]},{default:()=>{var a;return[s&&C("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),jj=re({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Ge(),...Mt()},"VDivider"),I_=ve()({name:"VDivider",props:jj(),setup(t,e){let{attrs:n}=e;const{themeClasses:i}=Ot(t),{textColorClasses:r,textColorStyles:s}=ti(me(t,"color")),a=I(()=>{const o={};return t.length&&(o[t.vertical?"maxHeight":"maxWidth"]=Fe(t.length)),t.thickness&&(o[t.vertical?"borderRightWidth":"borderTopWidth"]=Fe(t.thickness)),o});return Ee(()=>C("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},i.value,r.value,t.class],style:[a.value,s.value,t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),Xj=re({items:Array,returnObject:Boolean},"VListChildren"),nL=ve()({name:"VListChildren",props:Xj(),setup(t,e){let{slots:n}=e;return XR(),()=>{var i,r;return((i=n.default)==null?void 0:i.call(n))??((r=t.items)==null?void 0:r.map(s=>{var h,f;let{children:a,props:o,type:l,raw:c}=s;if(l==="divider")return((h=n.divider)==null?void 0:h.call(n,{props:o}))??C(I_,o,null);if(l==="subheader")return((f=n.subheader)==null?void 0:f.call(n,{props:o}))??C(tL,o,null);const u={subtitle:n.subtitle?p=>{var g;return(g=n.subtitle)==null?void 0:g.call(n,{...p,item:c})}:void 0,prepend:n.prepend?p=>{var g;return(g=n.prepend)==null?void 0:g.call(n,{...p,item:c})}:void 0,append:n.append?p=>{var g;return(g=n.append)==null?void 0:g.call(n,{...p,item:c})}:void 0,title:n.title?p=>{var g;return(g=n.title)==null?void 0:g.call(n,{...p,item:c})}:void 0},d=Vy.filterProps(o);return a?C(Vy,Pe({value:o==null?void 0:o.value},d),{activator:p=>{let{props:g}=p;const m={...o,...g,value:t.returnObject?c:o.value};return n.header?n.header({props:m}):C(Ls,m,u)},default:()=>C(nL,{items:a},n)}):n.item?n.item({props:o}):C(Ls,Pe(o,{value:t.returnObject?c:o.value}),u)}))}}}),iL=re({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Sa}},"list-items");function lo(t,e){const n=Bn(e,t.itemTitle,e),i=Bn(e,t.itemValue,n),r=Bn(e,t.itemChildren),s=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?kn(e,["children"]):e:void 0:Bn(e,t.itemProps),a={title:n,value:i,...s};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(r)?rL(t,r):void 0,raw:e}}function rL(t,e){const n=[];for(const i of e)n.push(lo(t,i));return n}function k_(t){const e=I(()=>rL(t,t.items)),n=I(()=>e.value.some(s=>s.value===null));function i(s){return n.value||(s=s.filter(a=>a!==null)),s.map(a=>t.returnObject&&typeof a=="string"?lo(t,a):e.value.find(o=>t.valueComparator(a,o.value))||lo(t,a))}function r(s){return t.returnObject?s.map(a=>{let{raw:o}=a;return o}):s.map(a=>{let{value:o}=a;return o})}return{items:e,transformIn:i,transformOut:r}}function qj(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function Yj(t,e){const n=Bn(e,t.itemType,"item"),i=qj(e)?e:Bn(e,t.itemTitle),r=Bn(e,t.itemValue,void 0),s=Bn(e,t.itemChildren),a=t.itemProps===!0?kn(e,["children"]):Bn(e,t.itemProps),o={title:i,value:r,...a};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&s?sL(t,s):void 0,raw:e}}function sL(t,e){const n=[];for(const i of e)n.push(Yj(t,i));return n}function Kj(t){return{items:I(()=>sL(t,t.items))}}const Zj=re({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,...Bj({selectStrategy:"single-leaf",openStrategy:"list"}),...Ki(),...Ge(),...Dn(),...mi(),...Tn(),itemType:{type:String,default:"type"},...iL(),...tn(),...ot(),...Mt(),...mr({variant:"text"})},"VList"),rm=ve()({name:"VList",props:Zj(),emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=Kj(t),{themeClasses:r}=Ot(t),{backgroundColorClasses:s,backgroundColorStyles:a}=$t(me(t,"bgColor")),{borderClasses:o}=pr(t),{densityClasses:l}=oi(t),{dimensionStyles:c}=vi(t),{elevationClasses:u}=Wn(t),{roundedClasses:d}=on(t),{open:h,select:f}=Uj(t),p=I(()=>t.lines?`v-list--${t.lines}-line`:void 0),g=me(t,"activeColor"),m=me(t,"baseColor"),v=me(t,"color");XR(),en({VListGroup:{activeColor:g,baseColor:m,color:v},VListItem:{activeClass:me(t,"activeClass"),activeColor:g,baseColor:m,color:v,density:me(t,"density"),disabled:me(t,"disabled"),lines:me(t,"lines"),nav:me(t,"nav"),slim:me(t,"slim"),variant:me(t,"variant")}});const x=Le(!1),y=he();function b(_){x.value=!0}function A(_){x.value=!1}function M(_){var w;!x.value&&!(_.relatedTarget&&((w=y.value)!=null&&w.contains(_.relatedTarget)))&&S()}function E(_){if(y.value){if(_.key==="ArrowDown")S("next");else if(_.key==="ArrowUp")S("prev");else if(_.key==="Home")S("first");else if(_.key==="End")S("last");else return;_.preventDefault()}}function S(_){if(y.value)return Zl(y.value,_)}return Ee(()=>C(t.tag,{ref:y,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},r.value,s.value,o.value,l.value,u.value,p.value,d.value,t.class],style:[a.value,c.value,t.style],tabindex:t.disabled||x.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:b,onFocusout:A,onFocus:M,onKeydown:E},{default:()=>[C(nL,{items:i.value,returnObject:t.returnObject},n)]})),{open:h,select:f,focus:S}}}),Jj=qi("v-list-img"),Qj=re({start:Boolean,end:Boolean,...Ge(),...ot()},"VListItemAction"),eX=ve()({name:"VListItemAction",props:Qj(),setup(t,e){let{slots:n}=e;return Ee(()=>C(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},n)),{}}}),tX=re({start:Boolean,end:Boolean,...Ge(),...ot()},"VListItemMedia"),nX=ve()({name:"VListItemMedia",props:tX(),setup(t,e){let{slots:n}=e;return Ee(()=>C(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end},t.class],style:t.style},n)),{}}});function Uv(t,e){return{x:t.x+e.x,y:t.y+e.y}}function iX(t,e){return{x:t.x-e.x,y:t.y-e.y}}function aM(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,r=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,s=n==="top"?0:n==="bottom"?e.height:n;return Uv({x:r,y:s},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,r=n==="left"?0:n==="right"?e.width:n,s=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Uv({x:r,y:s},e)}return Uv({x:e.width/2,y:e.height/2},e)}const aL={static:aX,connected:lX},rX=re({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in aL},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function sX(t,e){const n=he({}),i=he();Gt&&(wr(()=>!!(e.isActive.value&&t.locationStrategy),s=>{var a,o;Re(()=>t.locationStrategy,s),zn(()=>{i.value=void 0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(o=aL[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation}),window.addEventListener("resize",r,{passive:!0}),zn(()=>{window.removeEventListener("resize",r),i.value=void 0}));function r(s){var a;(a=i.value)==null||a.call(i,s)}return{contentStyles:n,updateLocation:i}}function aX(){}function oX(t,e){e?t.style.removeProperty("left"):t.style.removeProperty("right");const n=p_(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function lX(t,e,n){(Array.isArray(t.target.value)||O9(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=h_(()=>{const p=_y(e.location,t.isRtl.value),g=e.origin==="overlap"?p:e.origin==="auto"?Vv(p):_y(e.origin,t.isRtl.value);return p.side===g.side&&p.align===Nv(g).align?{preferredAnchor:L1(p),preferredOrigin:L1(g)}:{preferredAnchor:p,preferredOrigin:g}}),[a,o,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>I(()=>{const g=parseFloat(e[p]);return isNaN(g)?1/0:g})),u=I(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const p=e.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let d=!1;const h=new ResizeObserver(()=>{d&&f()});Re([t.target,t.contentEl],(p,g)=>{let[m,v]=p,[x,y]=g;x&&!Array.isArray(x)&&h.unobserve(x),m&&!Array.isArray(m)&&h.observe(m),y&&h.unobserve(y),v&&h.observe(v)},{immediate:!0}),zn(()=>{h.disconnect()});function f(){if(d=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>d=!0)}),!t.target.value||!t.contentEl.value)return;const p=qP(t.target.value),g=oX(t.contentEl.value,t.isRtl.value),m=Nf(t.contentEl.value),v=12;m.length||(m.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const x=m.reduce((P,R)=>{const N=R.getBoundingClientRect(),k=new mo({x:R===document.documentElement?0:N.x,y:R===document.documentElement?0:N.y,width:R.clientWidth,height:R.clientHeight});return P?new mo({x:Math.max(P.left,k.left),y:Math.max(P.top,k.top),width:Math.min(P.right,k.right)-Math.max(P.left,k.left),height:Math.min(P.bottom,k.bottom)-Math.max(P.top,k.top)}):k},void 0);x.x+=v,x.y+=v,x.width-=v*2,x.height-=v*2;let y={anchor:r.value,origin:s.value};function b(P){const R=new mo(g),N=aM(P.anchor,p),k=aM(P.origin,R);let{x:z,y:F}=iX(N,k);switch(P.anchor.side){case"top":F-=u.value[0];break;case"bottom":F+=u.value[0];break;case"left":z-=u.value[0];break;case"right":z+=u.value[0];break}switch(P.anchor.align){case"top":F-=u.value[1];break;case"bottom":F+=u.value[1];break;case"left":z-=u.value[1];break;case"right":z+=u.value[1];break}return R.x+=z,R.y+=F,R.width=Math.min(R.width,l.value),R.height=Math.min(R.height,c.value),{overflows:k1(R,x),x:z,y:F}}let A=0,M=0;const E={x:0,y:0},S={x:!1,y:!1};let _=-1;for(;!(_++>10);){const{x:P,y:R,overflows:N}=b(y);A+=P,M+=R,g.x+=P,g.y+=R;{const k=I1(y.anchor),z=N.x.before||N.x.after,F=N.y.before||N.y.after;let j=!1;if(["x","y"].forEach(X=>{if(X==="x"&&z&&!S.x||X==="y"&&F&&!S.y){const Z={anchor:{...y.anchor},origin:{...y.origin}},J=X==="x"?k==="y"?Nv:Vv:k==="y"?Vv:Nv;Z.anchor=J(Z.anchor),Z.origin=J(Z.origin);const{overflows:H}=b(Z);(H[X].before<=N[X].before&&H[X].after<=N[X].after||H[X].before+H[X].after<(N[X].before+N[X].after)/2)&&(y=Z,j=S[X]=!0)}}),j)continue}N.x.before&&(A+=N.x.before,g.x+=N.x.before),N.x.after&&(A-=N.x.after,g.x-=N.x.after),N.y.before&&(M+=N.y.before,g.y+=N.y.before),N.y.after&&(M-=N.y.after,g.y-=N.y.after);{const k=k1(g,x);E.x=x.width-k.x.before-k.x.after,E.y=x.height-k.y.before-k.y.after,A+=k.x.before,g.x+=k.x.before,M+=k.y.before,g.y+=k.y.before}break}const w=I1(y.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${y.anchor.side} ${y.anchor.align}`,transformOrigin:`${y.origin.side} ${y.origin.align}`,top:Fe(zv(M)),left:t.isRtl.value?void 0:Fe(zv(A)),right:t.isRtl.value?Fe(zv(-A)):void 0,minWidth:Fe(w==="y"?Math.min(a.value,p.width):a.value),maxWidth:Fe(oM(Mn(E.x,a.value===1/0?0:a.value,l.value))),maxHeight:Fe(oM(Mn(E.y,o.value===1/0?0:o.value,c.value)))}),{available:E,contentBox:g}}return Re(()=>[r.value,s.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>f()),Pt(()=>{const p=f();if(!p)return;const{available:g,contentBox:m}=p;m.height>g.y&&requestAnimationFrame(()=>{f(),requestAnimationFrame(()=>{f()})})}),{updateLocation:f}}function zv(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function oM(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Ny=!0;const zf=[];function cX(t){!Ny||zf.length?(zf.push(t),Fy()):(Ny=!1,t(),Fy())}let lM=-1;function Fy(){cancelAnimationFrame(lM),lM=requestAnimationFrame(()=>{const t=zf.shift();t&&t(),zf.length?Fy():Ny=!0})}const df={none:null,close:hX,block:fX,reposition:pX},uX=re({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in df}},"VOverlay-scroll-strategies");function dX(t,e){if(!Gt)return;let n;Jt(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=i0(),await Pt(),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=df[t.scrollStrategy])==null||i.call(df,e,t,n)}))}),zn(()=>{n==null||n.stop()})}function hX(t){function e(n){t.isActive.value=!1}oL(t.targetEl.value??t.contentEl.value,e)}function fX(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...Nf(t.targetEl.value,e.contained?n:void 0),...Nf(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(o=>b_(o)&&o)(n||document.documentElement);s&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Fe(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Fe(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Fe(r)),o.classList.add("v-overlay-scroll-blocked")}),zn(()=>{i.forEach((o,l)=>{const c=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(o.style.getPropertyValue("--v-body-scroll-y"));o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-c,o.scrollTop=-u}),s&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function pX(t,e,n){let i=!1,r=-1,s=-1;function a(o){cX(()=>{var u,d;const l=performance.now();(d=(u=t.updateLocation).value)==null||d.call(u,o),i=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{oL(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{a(o)})})):a(o)})})}),zn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function oL(t,e){const n=[document,...Nf(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),zn(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const By=Symbol.for("vuetify:v-menu"),lL=re({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function cL(t,e){const n={},i=r=>()=>{if(!Gt)return Promise.resolve(!0);const s=r==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(a=>{const o=parseInt(t[r]??0,10);n[r]=window.setTimeout(()=>{e==null||e(s),a(s)},o)})};return{runCloseDelay:i("closeDelay"),runOpenDelay:i("openDelay")}}const mX=re({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...lL()},"VOverlay-activator");function vX(t,e){let{isActive:n,isTop:i}=e;const r=Cn("useActivator"),s=he();let a=!1,o=!1,l=!0;const c=I(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),u=I(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!c.value),{runOpenDelay:d,runCloseDelay:h}=cL(t,E=>{E===(t.openOnHover&&a||c.value&&o)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==E&&(l=!0),n.value=E)}),f=he(),p={onClick:E=>{E.stopPropagation(),s.value=E.currentTarget||E.target,n.value||(f.value=[E.clientX,E.clientY]),n.value=!n.value},onMouseenter:E=>{var S;(S=E.sourceCapabilities)!=null&&S.firesTouchEvents||(a=!0,s.value=E.currentTarget||E.target,d())},onMouseleave:E=>{a=!1,h()},onFocus:E=>{Jl(E.target,":focus-visible")!==!1&&(o=!0,E.stopPropagation(),s.value=E.currentTarget||E.target,d())},onBlur:E=>{o=!1,E.stopPropagation(),h()}},g=I(()=>{const E={};return u.value&&(E.onClick=p.onClick),t.openOnHover&&(E.onMouseenter=p.onMouseenter,E.onMouseleave=p.onMouseleave),c.value&&(E.onFocus=p.onFocus,E.onBlur=p.onBlur),E}),m=I(()=>{const E={};if(t.openOnHover&&(E.onMouseenter=()=>{a=!0,d()},E.onMouseleave=()=>{a=!1,h()}),c.value&&(E.onFocusin=()=>{o=!0,d()},E.onFocusout=()=>{o=!1,h()}),t.closeOnContentClick){const S=_t(By,null);E.onClick=()=>{n.value=!1,S==null||S.closeParents()}}return E}),v=I(()=>{const E={};return t.openOnHover&&(E.onMouseenter=()=>{l&&(a=!0,l=!1,d())},E.onMouseleave=()=>{a=!1,h()}),E});Re(i,E=>{E&&(t.openOnHover&&!a&&(!c.value||!o)||c.value&&!o&&(!t.openOnHover||!a))&&(n.value=!1)}),Re(n,E=>{E||setTimeout(()=>{f.value=void 0})},{flush:"post"});const x=he();Jt(()=>{x.value&&Pt(()=>{s.value=Bu(x.value)})});const y=he(),b=I(()=>t.target==="cursor"&&f.value?f.value:y.value?Bu(y.value):uL(t.target,r)||s.value),A=I(()=>Array.isArray(b.value)?void 0:b.value);let M;return Re(()=>!!t.activator,E=>{E&&Gt?(M=i0(),M.run(()=>{gX(t,r,{activatorEl:s,activatorEvents:g})})):M&&M.stop()},{flush:"post",immediate:!0}),zn(()=>{M==null||M.stop()}),{activatorEl:s,activatorRef:x,target:b,targetEl:A,targetRef:y,activatorEvents:g,contentEvents:m,scrimEvents:v}}function gX(t,e,n){let{activatorEl:i,activatorEvents:r}=n;Re(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=o(c);u&&a(u)}l&&Pt(()=>s())},{immediate:!0}),Re(()=>t.activatorProps,()=>{s()}),zn(()=>{a()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&s9(l,Pe(r.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&a9(l,Pe(r.value,c))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const c=uL(l,e);return i.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,i.value}}function uL(t,e){var i,r;if(!t)return;let n;if(t==="parent"){let s=(r=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:r.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function dL(){if(!Gt)return Le(!1);const{ssr:t}=Bo();if(t){const e=Le(!1);return vn(()=>{e.value=!0}),e}else return Le(!0)}const sm=re({eager:Boolean},"lazy");function D_(t,e){const n=Le(!1),i=I(()=>n.value||t.eager||e.value);Re(e,()=>n.value=!0);function r(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:r}}function xc(){const e=Cn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const cM=Symbol.for("vuetify:stack"),Hc=Sn([]);function yX(t,e,n){const i=Cn("useStack"),r=!n,s=_t(cM,void 0),a=Sn({activeChildren:new Set});Ut(cM,a);const o=Le(+e.value);wr(t,()=>{var d;const u=(d=Hc.at(-1))==null?void 0:d[1];o.value=u?u+10:+e.value,r&&Hc.push([i.uid,o.value]),s==null||s.activeChildren.add(i.uid),zn(()=>{if(r){const h=dt(Hc).findIndex(f=>f[0]===i.uid);Hc.splice(h,1)}s==null||s.activeChildren.delete(i.uid)})});const l=Le(!0);r&&Jt(()=>{var d;const u=((d=Hc.at(-1))==null?void 0:d[0])===i.uid;setTimeout(()=>l.value=u)});const c=I(()=>!a.activeChildren.size);return{globalTop:Lo(l),localTop:c,stackStyles:I(()=>({zIndex:o.value}))}}function bX(t){return{teleportTarget:I(()=>{const n=t.value;if(n===!0||!Gt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let r=i.querySelector(":scope > .v-overlay-container");return r||(r=document.createElement("div"),r.className="v-overlay-container",i.appendChild(r)),r})}}function _X(){return!0}function hL(t,e,n){if(!t||fL(t,n)===!1)return!1;const i=aR(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(e),!r.some(s=>s==null?void 0:s.contains(t.target))}function fL(t,e){return(typeof e.value=="object"&&e.value.closeConditional||_X)(t)}function xX(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&hL(t,e,n)&&setTimeout(()=>{fL(t,n)&&i&&i(t)},0)}function uM(t,e){const n=aR(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const pL={mounted(t,e){const n=r=>xX(r,t,e),i=r=>{t._clickOutside.lastMousedownWasOutside=hL(r,t,e)};uM(t,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},unmounted(t,e){t._clickOutside&&(uM(t,n=>{var s;if(!n||!((s=t._clickOutside)!=null&&s[e.instance.$.uid]))return;const{onClick:i,onMousedown:r}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete t._clickOutside[e.instance.$.uid])}};function wX(t){const{modelValue:e,color:n,...i}=t;return C(zr,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&C("div",Pe({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const Cd=re({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...mX(),...Ge(),...mi(),...sm(),...rX(),...uX(),...Mt(),...Ds()},"VOverlay"),Yr=ve()({name:"VOverlay",directives:{ClickOutside:pL},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Cd()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:r}=e;const s=Xe(t,"modelValue"),a=I({get:()=>s.value,set:q=>{q&&t.disabled||(s.value=q)}}),{teleportTarget:o}=bX(I(()=>t.attach||t.contained)),{themeClasses:l}=Ot(t),{rtlClasses:c,isRtl:u}=Gn(),{hasContent:d,onAfterLeave:h}=D_(t,a),f=$t(I(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:p,localTop:g,stackStyles:m}=yX(a,me(t,"zIndex"),t._disableGlobalStack),{activatorEl:v,activatorRef:x,target:y,targetEl:b,targetRef:A,activatorEvents:M,contentEvents:E,scrimEvents:S}=vX(t,{isActive:a,isTop:g}),{dimensionStyles:_}=vi(t),w=dL(),{scopeId:P}=xc();Re(()=>t.disabled,q=>{q&&(a.value=!1)});const R=he(),N=he(),{contentStyles:k,updateLocation:z}=sX(t,{isRtl:u,contentEl:N,target:y,isActive:a});dX(t,{root:R,contentEl:N,targetEl:b,isActive:a,updateLocation:z});function F(q){r("click:outside",q),t.persistent?H():a.value=!1}function j(){return a.value&&p.value}Gt&&Re(a,q=>{q?window.addEventListener("keydown",X):window.removeEventListener("keydown",X)},{immediate:!0});function X(q){var le,ue;q.key==="Escape"&&p.value&&(t.persistent?H():(a.value=!1,(le=N.value)!=null&&le.contains(document.activeElement)&&((ue=v.value)==null||ue.focus())))}const Z=TR();wr(()=>t.closeOnBack,()=>{cj(Z,q=>{p.value&&a.value?(q(!1),t.persistent?H():a.value=!1):q()})});const J=he();Re(()=>a.value&&(t.absolute||t.contained)&&o.value==null,q=>{if(q){const le=y_(R.value);le&&le!==document.scrollingElement&&(J.value=le.scrollTop)}});function H(){t.noClickAnimation||N.value&&oo(N.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:zu})}return Ee(()=>{var q;return C(je,null,[(q=n.activator)==null?void 0:q.call(n,{isActive:a.value,props:Pe({ref:x,targetRef:A},M.value,t.activatorProps)}),w.value&&d.value&&C(Lk,{disabled:!o.value,to:o.value},{default:()=>[C("div",Pe({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":a.value,"v-overlay--contained":t.contained},l.value,c.value,t.class],style:[m.value,{top:Fe(J.value)},t.style],ref:R},P,i),[C(wX,Pe({color:f,modelValue:a.value&&!!t.scrim},S.value),null),C(cr,{appear:!0,persisted:!0,transition:t.transition,target:y.value,onAfterLeave:()=>{h(),r("afterLeave")}},{default:()=>{var le;return[St(C("div",Pe({ref:N,class:["v-overlay__content",t.contentClass],style:[_.value,k.value]},E.value,t.contentProps),[(le=n.default)==null?void 0:le.call(n,{isActive:a})]),[[Jr,a.value],[qn("click-outside"),{handler:F,closeConditional:j,include:()=>[v.value]}]])]}})])]})])}),{activatorEl:v,target:y,animateClick:H,contentEl:N,globalTop:p,localTop:g,updateLocation:z}}}),Hv=Symbol("Forwarded refs");function Gv(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Ar(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[Hv]=n,new Proxy(t,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,s)){const o=Reflect.get(a.value,s);return typeof o=="function"?o.bind(a.value):o}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return!0;return!1},set(r,s,a){if(Reflect.has(r,s))return Reflect.set(r,s,a);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return Reflect.set(o.value,s,a);return!1},getOwnPropertyDescriptor(r,s){var o;const a=Reflect.getOwnPropertyDescriptor(r,s);if(a)return a;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=Gv(l.value,s)??("_"in l.value?Gv((o=l.value._)==null?void 0:o.setupState,s):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[Hv];if(!c)continue;const u=c.slice();for(;u.length;){const d=u.shift(),h=Gv(d.value,s);if(h)return h;const f=d.value&&d.value[Hv];f&&u.push(...f)}}}}})}const SX=re({id:String,...kn(Cd({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Kp}}),["absolute"])},"VMenu"),am=ve()({name:"VMenu",props:SX(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),{scopeId:r}=xc(),s=ai(),a=I(()=>t.id||`v-menu-${s}`),o=he(),l=_t(By,null),c=Le(0);Ut(By,{register(){++c.value},unregister(){--c.value},closeParents(){setTimeout(()=>{c.value||(i.value=!1,l==null||l.closeParents())},40)}});async function u(g){var x,y,b;const m=g.relatedTarget,v=g.target;await Pt(),i.value&&m!==v&&((x=o.value)!=null&&x.contentEl)&&((y=o.value)!=null&&y.globalTop)&&![document,o.value.contentEl].includes(v)&&!o.value.contentEl.contains(v)&&((b=Uu(o.value.contentEl)[0])==null||b.focus())}Re(i,g=>{g?(l==null||l.register(),document.addEventListener("focusin",u,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",u))});function d(){l==null||l.closeParents()}function h(g){var m,v,x;t.disabled||g.key==="Tab"&&($P(Uu((m=o.value)==null?void 0:m.contentEl,!1),g.shiftKey?"prev":"next",b=>b.tabIndex>=0)||(i.value=!1,(x=(v=o.value)==null?void 0:v.activatorEl)==null||x.focus()))}function f(g){var v;if(t.disabled)return;const m=(v=o.value)==null?void 0:v.contentEl;m&&i.value?g.key==="ArrowDown"?(g.preventDefault(),Zl(m,"next")):g.key==="ArrowUp"&&(g.preventDefault(),Zl(m,"prev")):["ArrowDown","ArrowUp"].includes(g.key)&&(i.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>f(g))))}const p=I(()=>Pe({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":a.value,onKeydown:f},t.activatorProps));return Ee(()=>{const g=Yr.filterProps(t);return C(Yr,Pe({ref:o,class:["v-menu",t.class],style:t.style},g,{modelValue:i.value,"onUpdate:modelValue":m=>i.value=m,absolute:!0,activatorProps:p.value,"onClick:outside":d,onKeydown:h},r),{activator:n.activator,default:function(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];return C(Ct,{root:"VMenu"},{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,...v)]}})}})}),Ar({id:a,openChildren:c},o)}}),MX=re({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ge(),...Ds({transition:{component:E_}})},"VCounter"),om=ve()({name:"VCounter",functional:!0,props:MX(),setup(t,e){let{slots:n}=e;const i=I(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return Ee(()=>C(cr,{transition:t.transition},{default:()=>[St(C("div",{class:["v-counter",t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[Jr,t.active]])]})),{}}}),EX=re({floating:Boolean,...Ge()},"VFieldLabel"),Xc=ve()({name:"VFieldLabel",props:EX(),setup(t,e){let{slots:n}=e;return Ee(()=>C(_c,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),CX=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ad=re({appendInnerIcon:nt,bgColor:String,clearable:Boolean,clearIcon:{type:nt,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:nt,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>CX.includes(t)},"onClick:clear":Pi(),"onClick:appendInner":Pi(),"onClick:prependInner":Pi(),...Ge(),...em(),...tn(),...Mt()},"VField"),wc=ve()({name:"VField",inheritAttrs:!1,props:{id:String,...Md(),...Ad()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{themeClasses:s}=Ot(t),{loaderClasses:a}=xd(t),{focusClasses:o,isFocused:l,focus:c,blur:u}=Ns(t),{InputIcon:d}=zR(t),{roundedClasses:h}=on(t),{rtlClasses:f}=Gn(),p=I(()=>t.dirty||t.active),g=I(()=>!t.singleLine&&!!(t.label||r.label)),m=ai(),v=I(()=>t.id||`input-${m}`),x=I(()=>`${v.value}-messages`),y=he(),b=he(),A=he(),M=I(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:E,backgroundColorStyles:S}=$t(me(t,"bgColor")),{textColorClasses:_,textColorStyles:w}=ti(I(()=>t.error||t.disabled?void 0:p.value&&l.value?t.color:t.baseColor));Re(p,N=>{if(g.value){const k=y.value.$el,z=b.value.$el;requestAnimationFrame(()=>{const F=p_(k),j=z.getBoundingClientRect(),X=j.x-F.x,Z=j.y-F.y-(F.height/2-j.height/2),J=j.width/.75,H=Math.abs(J-F.width)>1?{maxWidth:Fe(J)}:void 0,q=getComputedStyle(k),le=getComputedStyle(z),ue=parseFloat(q.transitionDuration)*1e3||150,be=parseFloat(le.getPropertyValue("--v-field-label-scale")),ae=le.getPropertyValue("color");k.style.visibility="visible",z.style.visibility="hidden",oo(k,{transform:`translate(${X}px, ${Z}px) scale(${be})`,color:ae,...H},{duration:ue,easing:zu,direction:N?"normal":"reverse"}).finished.then(()=>{k.style.removeProperty("visibility"),z.style.removeProperty("visibility")})})}},{flush:"post"});const P=I(()=>({isActive:p,isFocused:l,controlRef:A,blur:u,focus:c}));function R(N){N.target!==document.activeElement&&N.preventDefault()}return Ee(()=>{var X,Z,J;const N=t.variant==="outlined",k=r["prepend-inner"]||t.prependInnerIcon,z=!!(t.clearable||r.clear),F=!!(r["append-inner"]||t.appendInnerIcon||z),j=r.label?r.label({...P.value,label:t.label,props:{for:v.value}}):t.label;return C("div",Pe({class:["v-field",{"v-field--active":p.value,"v-field--appended":F,"v-field--center-affix":t.centerAffix??!M.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":k,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!j,[`v-field--variant-${t.variant}`]:!0},s.value,E.value,o.value,a.value,h.value,f.value,t.class],style:[S.value,t.style],onClick:R},n),[C("div",{class:"v-field__overlay"},null),C(tm,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:r.loader}),k&&C("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&C(d,{key:"prepend-icon",name:"prependInner"},null),(X=r["prepend-inner"])==null?void 0:X.call(r,P.value)]),C("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&g.value&&C(Xc,{key:"floating-label",ref:b,class:[_.value],floating:!0,for:v.value,style:w.value},{default:()=>[j]}),C(Xc,{ref:y,for:v.value},{default:()=>[j]}),(Z=r.default)==null?void 0:Z.call(r,{...P.value,props:{id:v.value,class:"v-field__input","aria-describedby":x.value},focus:c,blur:u})]),z&&C(C_,{key:"clear"},{default:()=>[St(C("div",{class:"v-field__clearable",onMousedown:H=>{H.preventDefault(),H.stopPropagation()}},[r.clear?r.clear():C(d,{name:"clear"},null)]),[[Jr,t.dirty]])]}),F&&C("div",{key:"append",class:"v-field__append-inner"},[(J=r["append-inner"])==null?void 0:J.call(r,P.value),t.appendInnerIcon&&C(d,{key:"append-icon",name:"appendInner"},null)]),C("div",{class:["v-field__outline",_.value],style:w.value},[N&&C(je,null,[C("div",{class:"v-field__outline__start"},null),g.value&&C("div",{class:"v-field__outline__notch"},[C(Xc,{ref:b,floating:!0,for:v.value},{default:()=>[j]})]),C("div",{class:"v-field__outline__end"},null)]),M.value&&g.value&&C(Xc,{ref:b,floating:!0,for:v.value},{default:()=>[j]})])])}),{controlRef:A}}});function O_(t){const e=Object.keys(wc.props).filter(n=>!Wp(n)&&n!=="class"&&n!=="style");return UP(t,e)}const AX=["color","file","time","date","datetime-local","week","month"],lm=re({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Fs(),...Ad()},"VTextField"),ya=ve()({name:"VTextField",directives:{Intersect:_d},inheritAttrs:!1,props:lm(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const s=Xe(t,"modelValue"),{isFocused:a,focus:o,blur:l}=Ns(t),c=I(()=>typeof t.counterValue=="function"?t.counterValue(s.value):typeof t.counterValue=="number"?t.counterValue:(s.value??"").toString().length),u=I(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),d=I(()=>["plain","underlined"].includes(t.variant));function h(M,E){var S,_;!t.autofocus||!M||(_=(S=E[0].target)==null?void 0:S.focus)==null||_.call(S)}const f=he(),p=he(),g=he(),m=I(()=>AX.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function v(){var M;g.value!==document.activeElement&&((M=g.value)==null||M.focus()),a.value||o()}function x(M){i("mousedown:control",M),M.target!==g.value&&(v(),M.preventDefault())}function y(M){v(),i("click:control",M)}function b(M){M.stopPropagation(),v(),Pt(()=>{s.value=null,f_(t["onClick:clear"],M)})}function A(M){var S;const E=M.target;if(s.value=E.value,(S=t.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(t.type)){const _=[E.selectionStart,E.selectionEnd];Pt(()=>{E.selectionStart=_[0],E.selectionEnd=_[1]})}}return Ee(()=>{const M=!!(r.counter||t.counter!==!1&&t.counter!=null),E=!!(M||r.details),[S,_]=Ma(n),{modelValue:w,...P}=Xn.filterProps(t),R=O_(t);return C(Xn,Pe({ref:f,modelValue:s.value,"onUpdate:modelValue":N=>s.value=N,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":d.value},t.class],style:t.style},S,P,{centerAffix:!d.value,focused:a.value}),{...r,default:N=>{let{id:k,isDisabled:z,isDirty:F,isReadonly:j,isValid:X}=N;return C(wc,Pe({ref:p,onMousedown:x,onClick:y,"onClick:clear":b,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},R,{id:k.value,active:m.value||F.value,dirty:F.value||t.dirty,disabled:z.value,focused:a.value,error:X.value===!1}),{...r,default:Z=>{let{props:{class:J,...H}}=Z;const q=St(C("input",Pe({ref:g,value:s.value,onInput:A,autofocus:t.autofocus,readonly:j.value,disabled:z.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:v,onBlur:l},H,_),null),[[qn("intersect"),{handler:h},null,{once:!0}]]);return C(je,null,[t.prefix&&C("span",{class:"v-text-field__prefix"},[C("span",{class:"v-text-field__prefix__text"},[t.prefix])]),r.default?C("div",{class:J,"data-no-activator":""},[r.default(),q]):Ms(q,{class:J}),t.suffix&&C("span",{class:"v-text-field__suffix"},[C("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:E?N=>{var k;return C(je,null,[(k=r.details)==null?void 0:k.call(r,N),M&&C(je,null,[C("span",null,null),C(om,{active:t.persistentCounter||a.value,value:c.value,max:u.value},r.counter)])])}:void 0})}),Ar({},f,p,g)}}),TX=re({renderless:Boolean,...Ge()},"VVirtualScrollItem"),mL=ve()({name:"VVirtualScrollItem",inheritAttrs:!1,props:TX(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{resizeRef:s,contentRect:a}=qr(void 0,"border");Re(()=>{var o;return(o=a.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),Ee(()=>{var o,l;return t.renderless?C(je,null,[(o=r.default)==null?void 0:o.call(r,{itemRef:s})]):C("div",Pe({ref:s,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=r.default)==null?void 0:l.call(r)])})}}),PX=-1,RX=1,Wv=100,vL=re({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function gL(t,e){const n=Bo(),i=Le(0);Jt(()=>{i.value=parseFloat(t.itemHeight||0)});const r=Le(0),s=Le(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),a=Le(0),o=Le(0),l=he(),c=he();let u=0;const{resizeRef:d,contentRect:h}=qr();Jt(()=>{d.value=l.value});const f=I(()=>{var Z;return l.value===document.documentElement?n.height.value:((Z=h.value)==null?void 0:Z.height)||parseInt(t.height)||0}),p=I(()=>!!(l.value&&c.value&&f.value&&i.value));let g=Array.from({length:e.value.length}),m=Array.from({length:e.value.length});const v=Le(0);let x=-1;function y(Z){return g[Z]||i.value}const b=e9(()=>{const Z=performance.now();m[0]=0;const J=e.value.length;for(let H=1;H<=J-1;H++)m[H]=(m[H-1]||0)+y(H-1);v.value=Math.max(v.value,performance.now()-Z)},v),A=Re(p,Z=>{Z&&(A(),u=c.value.offsetTop,b.immediate(),z(),~x&&Pt(()=>{Gt&&window.requestAnimationFrame(()=>{j(x),x=-1})}))});Re(f,(Z,J)=>{J&&z()}),zn(()=>{b.clear()});function M(Z,J){const H=g[Z],q=i.value;i.value=q?Math.min(i.value,J):J,(H!==J||q!==i.value)&&(g[Z]=J,b())}function E(Z){return Z=Mn(Z,0,e.value.length-1),m[Z]||0}function S(Z){return LX(m,Z)}let _=0,w=0,P=0;function R(){if(!l.value||!c.value)return;const Z=l.value.scrollTop,J=performance.now();J-P>500?(w=Math.sign(Z-_),u=c.value.offsetTop):w=Z-_,_=Z,P=J,z()}function N(){!l.value||!c.value||(w=0,P=0,z())}let k=-1;function z(){cancelAnimationFrame(k),k=requestAnimationFrame(F)}function F(){if(!l.value||!f.value)return;const Z=_-u,J=Math.sign(w),H=Math.max(0,Z-Wv),q=Mn(S(H),0,e.value.length),le=Z+f.value+Wv,ue=Mn(S(le)+1,q+1,e.value.length);if((J!==PX||q<r.value)&&(J!==RX||ue>s.value)){const be=E(r.value)-E(q),ae=E(ue)-E(s.value);Math.max(be,ae)>Wv?(r.value=q,s.value=ue):(q<=0&&(r.value=q),ue>=e.value.length&&(s.value=ue))}a.value=E(r.value),o.value=E(e.value.length)-E(s.value)}function j(Z){const J=E(Z);!l.value||Z&&!J?x=Z:l.value.scrollTop=J}const X=I(()=>e.value.slice(r.value,s.value).map((Z,J)=>({raw:Z,index:J+r.value})));return Re(e,()=>{g=Array.from({length:e.value.length}),m=Array.from({length:e.value.length}),b.immediate(),z()},{deep:!0}),{containerRef:l,markerRef:c,computedItems:X,paddingTop:a,paddingBottom:o,scrollToIndex:j,handleScroll:R,handleScrollend:N,handleItemResize:M}}function LX(t,e){let n=t.length-1,i=0,r=0,s=null,a=-1;if(t[n]<e)return n;for(;i<=n;)if(r=i+n>>1,s=t[r],s>e)n=r-1;else if(s<e)a=r,i=r+1;else return s===e?r:i;return a}const IX=re({items:{type:Array,default:()=>[]},renderless:Boolean,...vL(),...Ge(),...mi()},"VVirtualScroll"),cm=ve()({name:"VVirtualScroll",props:IX(),setup(t,e){let{slots:n}=e;const i=Cn("VVirtualScroll"),{dimensionStyles:r}=vi(t),{containerRef:s,markerRef:a,handleScroll:o,handleScrollend:l,handleItemResize:c,scrollToIndex:u,paddingTop:d,paddingBottom:h,computedItems:f}=gL(t,me(t,"items"));return wr(()=>t.renderless,()=>{function p(){var v,x;const m=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";s.value===document.documentElement?(document[m]("scroll",o,{passive:!0}),document[m]("scrollend",l)):((v=s.value)==null||v[m]("scroll",o,{passive:!0}),(x=s.value)==null||x[m]("scrollend",l))}vn(()=>{s.value=y_(i.vnode.el,!0),p(!0)}),zn(p)}),Ee(()=>{const p=f.value.map(g=>C(mL,{key:g.index,renderless:t.renderless,"onUpdate:height":m=>c(g.index,m)},{default:m=>{var v;return(v=n.default)==null?void 0:v.call(n,{item:g.raw,index:g.index,...m})}}));return t.renderless?C(je,null,[C("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:Fe(d.value)}},null),p,C("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Fe(h.value)}},null)]):C("div",{ref:s,class:["v-virtual-scroll",t.class],onScrollPassive:o,onScrollend:l,style:[r.value,t.style]},[C("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:Fe(d.value),paddingBottom:Fe(h.value)}},[p])])}),{scrollToIndex:u}}});function V_(t,e){const n=Le(!1);let i;function r(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=Re(n,()=>{l(),o()})}else o()})}async function a(o){var u,d;if(o.key==="Tab"&&((u=e.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(d=t.value)==null?void 0:d.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await s();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const h=l.getBoundingClientRect().top;for(const f of c)if(f.getBoundingClientRect().top>=h){f.focus();break}}else{const h=l.getBoundingClientRect().bottom;for(const f of[...c].reverse())if(f.getBoundingClientRect().bottom<=h){f.focus();break}}}return{onListScroll:r,onListKeydown:a}}const N_=re({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:nt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...iL({itemChildren:!1})},"Select"),kX=re({...N_(),...kn(lm({modelValue:null,role:"button"}),["validationValue","dirty","appendInnerIcon"]),...Ds({transition:{component:Kp}})},"VSelect"),yL=ve()({name:"VSelect",props:kX(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=An(),r=he(),s=he(),a=he(),o=Xe(t,"menu"),l=I({get:()=>o.value,set:F=>{var j;o.value&&!F&&((j=s.value)!=null&&j.openChildren)||(o.value=F)}}),{items:c,transformIn:u,transformOut:d}=k_(t),h=Xe(t,"modelValue",[],F=>u(F===null?[null]:mn(F)),F=>{const j=d(F);return t.multiple?j:j[0]??null}),f=im(),p=I(()=>h.value.map(F=>F.value)),g=Le(!1),m=I(()=>l.value?t.closeText:t.openText);let v="",x;const y=I(()=>t.hideSelected?c.value.filter(F=>!h.value.some(j=>j===F)):c.value),b=I(()=>t.hideNoData&&!c.value.length||t.readonly||(f==null?void 0:f.isReadonly.value)),A=he(),{onListScroll:M,onListKeydown:E}=V_(A,r);function S(F){t.openOnClear&&(l.value=!0)}function _(){b.value||(l.value=!l.value)}function w(F){var H,q;if(!F.key||t.readonly||f!=null&&f.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(F.key)&&F.preventDefault(),["Enter","ArrowDown"," "].includes(F.key)&&(l.value=!0),["Escape","Tab"].includes(F.key)&&(l.value=!1),F.key==="Home"?(H=A.value)==null||H.focus("first"):F.key==="End"&&((q=A.value)==null||q.focus("last"));const j=1e3;function X(le){const ue=le.key.length===1,be=!le.ctrlKey&&!le.metaKey&&!le.altKey;return ue&&be}if(t.multiple||!X(F))return;const Z=performance.now();Z-x>j&&(v=""),v+=F.key.toLowerCase(),x=Z;const J=c.value.find(le=>le.title.toLowerCase().startsWith(v));J!==void 0&&(h.value=[J])}function P(F){if(t.multiple){const j=h.value.findIndex(X=>t.valueComparator(X.value,F.value));if(j===-1)h.value=[...h.value,F];else{const X=[...h.value];X.splice(j,1),h.value=X}}else h.value=[F],l.value=!1}function R(F){var j;(j=A.value)!=null&&j.$el.contains(F.relatedTarget)||(l.value=!1)}function N(){var F;g.value&&((F=r.value)==null||F.focus())}function k(F){g.value=!0}function z(F){if(F==null)h.value=[];else if(Jl(r.value,":autofill")||Jl(r.value,":-webkit-autofill")){const j=c.value.find(X=>X.title===F);j&&P(j)}else r.value&&(r.value.value="")}return Re(l,()=>{if(!t.hideSelected&&l.value&&h.value.length){const F=y.value.findIndex(j=>h.value.some(X=>t.valueComparator(X.value,j.value)));Gt&&window.requestAnimationFrame(()=>{var j;F>=0&&((j=a.value)==null||j.scrollToIndex(F))})}}),Ee(()=>{const F=!!(t.chips||n.chip),j=!!(!t.hideNoData||y.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),X=h.value.length>0,Z=ya.filterProps(t),J=X||!g.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return C(ya,Pe({ref:r},Z,{modelValue:h.value.map(H=>H.props.value).join(", "),"onUpdate:modelValue":z,focused:g.value,"onUpdate:focused":H=>g.value=H,validationValue:h.externalValue,counterValue:h.value.length,dirty:X,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:J,"onClick:clear":S,"onMousedown:control":_,onBlur:R,onKeydown:w,"aria-label":i(m.value),title:i(m.value)}),{...n,default:()=>C(je,null,[C(am,Pe({ref:s,modelValue:l.value,"onUpdate:modelValue":H=>l.value=H,activator:"parent",contentClass:"v-select__content",disabled:b.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:N},t.menuProps),{default:()=>[j&&C(rm,{ref:A,selected:p.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:H=>H.preventDefault(),onKeydown:E,onFocusin:k,onScrollPassive:M,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var H,q,le;return[(H=n["prepend-item"])==null?void 0:H.call(n),!y.value.length&&!t.hideNoData&&(((q=n["no-data"])==null?void 0:q.call(n))??C(Ls,{title:i(t.noDataText)},null)),C(cm,{ref:a,renderless:!0,items:y.value},{default:ue=>{var L;let{item:be,index:ae,itemRef:Ae}=ue;const ee=Pe(be.props,{ref:Ae,key:ae,onClick:()=>P(be)});return((L=n.item)==null?void 0:L.call(n,{item:be,index:ae,props:ee}))??C(Ls,ee,{prepend:B=>{let{isSelected:W}=B;return C(je,null,[t.multiple&&!t.hideSelected?C(Ps,{key:be.value,modelValue:W,ripple:!1,tabindex:"-1"},null):void 0,be.props.prependIcon&&C(Bt,{icon:be.props.prependIcon},null)])}})}}),(le=n["append-item"])==null?void 0:le.call(n)]}})]}),h.value.map((H,q)=>{function le(Ae){Ae.stopPropagation(),Ae.preventDefault(),P(H)}const ue={"onClick:close":le,onMousedown(Ae){Ae.preventDefault(),Ae.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},be=F?!!n.chip:!!n.selection,ae=be?$p(F?n.chip({item:H,index:q,props:ue}):n.selection({item:H,index:q})):void 0;if(!(be&&!ae))return C("div",{key:H.value,class:"v-select__selection"},[F?n.chip?C(Ct,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:H.title}}},{default:()=>[ae]}):C(Ed,Pe({key:"chip",closable:t.closableChips,size:"small",text:H.title,disabled:H.props.disabled},ue),null):ae??C("span",{class:"v-select__selection-text"},[H.title,t.multiple&&q<h.value.length-1&&C("span",{class:"v-select__selection-comma"},[Ti(",")])])])})]),"append-inner":function(){var ue;for(var H=arguments.length,q=new Array(H),le=0;le<H;le++)q[le]=arguments[le];return C(je,null,[(ue=n["append-inner"])==null?void 0:ue.call(n,...q),t.menuIcon?C(Bt,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Ar({isFocused:g,menu:l,select:P},r)}}),DX=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),Td=re({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function OX(t,e,n){var o;const i=[],r=(n==null?void 0:n.default)??DX,s=n!=null&&n.filterKeys?mn(n.filterKeys):!1,a=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[c,u=c]=mn(t[l]),d={},h={};let f=-1;if(e&&!(n!=null&&n.noFilter)){if(typeof c=="object"){const m=s||Object.keys(u);for(const v of m){const x=Bn(u,v,u),y=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[v];if(f=y?y(x,e,c):r(x,e,c),f!==-1&&f!==!1)y?d[v]=f:h[v]=f;else if((n==null?void 0:n.filterMode)==="every")continue e}}else f=r(c,e,c),f!==-1&&f!==!1&&(h.title=f);const p=Object.keys(h).length,g=Object.keys(d).length;if(!p&&!g||(n==null?void 0:n.filterMode)==="union"&&g!==a&&!p||(n==null?void 0:n.filterMode)==="intersection"&&(g!==a||!p))continue}i.push({index:l,matches:{...h,...d}})}return i}function Pd(t,e,n,i){const r=he([]),s=he(new Map),a=I(()=>i!=null&&i.transform?Ye(e).map(l=>[l,i.transform(l)]):Ye(e));Jt(()=>{const l=typeof n=="function"?n():Ye(n),c=typeof l!="string"&&typeof l!="number"?"":String(l),u=OX(a.value,c,{customKeyFilter:{...t.customKeyFilter,...Ye(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),d=Ye(e),h=[],f=new Map;u.forEach(p=>{let{index:g,matches:m}=p;const v=d[g];h.push(v),f.set(v.value,m)}),r.value=h,s.value=f});function o(l){return s.value.get(l.value)}return{filteredItems:r,filteredMatches:s,getMatches:o}}function VX(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?C(je,null,[C("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),C("span",{class:"v-autocomplete__mask"},[t.substr(e,n)]),C("span",{class:"v-autocomplete__unmask"},[t.substr(e+n)])]):t}const NX=re({autoSelectFirst:{type:[Boolean,String]},search:String,...Td({filterKeys:["title"]}),...N_(),...kn(lm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ds({transition:!1})},"VAutocomplete"),FX=ve()({name:"VAutocomplete",props:NX(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=An(),r=he(),s=Le(!1),a=Le(!0),o=Le(!1),l=he(),c=he(),u=Xe(t,"menu"),d=I({get:()=>u.value,set:ee=>{var L;u.value&&!ee&&((L=l.value)!=null&&L.openChildren)||(u.value=ee)}}),h=Le(-1),f=I(()=>{var ee;return(ee=r.value)==null?void 0:ee.color}),p=I(()=>d.value?t.closeText:t.openText),{items:g,transformIn:m,transformOut:v}=k_(t),{textColorClasses:x,textColorStyles:y}=ti(f),b=Xe(t,"search",""),A=Xe(t,"modelValue",[],ee=>m(ee===null?[null]:mn(ee)),ee=>{const L=v(ee);return t.multiple?L:L[0]??null}),M=im(),{filteredItems:E,getMatches:S}=Pd(t,g,()=>a.value?"":b.value),_=I(()=>t.hideSelected?E.value.filter(ee=>!A.value.some(L=>L.value===ee.value)):E.value),w=I(()=>A.value.map(ee=>ee.props.value)),P=I(()=>{var L;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&b.value===((L=_.value[0])==null?void 0:L.title))&&_.value.length>0&&!a.value&&!o.value}),R=I(()=>t.hideNoData&&!g.value.length||t.readonly||(M==null?void 0:M.isReadonly.value)),N=he(),{onListScroll:k,onListKeydown:z}=V_(N,r);function F(ee){t.openOnClear&&(d.value=!0),b.value=""}function j(){R.value||(d.value=!0)}function X(ee){R.value||(s.value&&(ee.preventDefault(),ee.stopPropagation()),d.value=!d.value)}function Z(ee){var W,T,D;if(t.readonly||M!=null&&M.isReadonly.value)return;const L=r.value.selectionStart,B=A.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ee.key))&&ee.preventDefault(),["Enter","ArrowDown"].includes(ee.key)&&(d.value=!0),["Escape"].includes(ee.key)&&(d.value=!1),P.value&&["Enter","Tab"].includes(ee.key)&&Ae(_.value[0]),ee.key==="ArrowDown"&&P.value&&((W=N.value)==null||W.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(ee.key)){if(h.value<0){ee.key==="Backspace"&&!b.value&&(h.value=B-1);return}const V=h.value,Y=A.value[h.value];Y&&!Y.props.disabled&&Ae(Y),h.value=V>=B-1?B-2:V}if(ee.key==="ArrowLeft"){if(h.value<0&&L>0)return;const V=h.value>-1?h.value-1:B-1;A.value[V]?h.value=V:(h.value=-1,r.value.setSelectionRange((T=b.value)==null?void 0:T.length,(D=b.value)==null?void 0:D.length))}if(ee.key==="ArrowRight"){if(h.value<0)return;const V=h.value+1;A.value[V]?h.value=V:(h.value=-1,r.value.setSelectionRange(0,0))}}}function J(ee){b.value=ee.target.value}function H(ee){if(Jl(r.value,":autofill")||Jl(r.value,":-webkit-autofill")){const L=g.value.find(B=>B.title===ee.target.value);L&&Ae(L)}}function q(){var ee;s.value&&(a.value=!0,(ee=r.value)==null||ee.focus())}function le(ee){s.value=!0,setTimeout(()=>{o.value=!0})}function ue(ee){o.value=!1}function be(ee){(ee==null||ee===""&&!t.multiple)&&(A.value=[])}const ae=Le(!1);function Ae(ee){if(t.multiple){const L=A.value.findIndex(B=>t.valueComparator(B.value,ee.value));if(L===-1)A.value=[...A.value,ee];else{const B=[...A.value];B.splice(L,1),A.value=B}}else A.value=[ee],ae.value=!0,b.value=ee.title,d.value=!1,a.value=!0,Pt(()=>ae.value=!1)}return Re(s,(ee,L)=>{var B;ee!==L&&(ee?(ae.value=!0,b.value=t.multiple?"":String(((B=A.value.at(-1))==null?void 0:B.props.title)??""),a.value=!0,Pt(()=>ae.value=!1)):(!t.multiple&&!b.value?A.value=[]:P.value&&!o.value&&!A.value.some(W=>{let{value:T}=W;return T===_.value[0].value})&&Ae(_.value[0]),d.value=!1,b.value="",h.value=-1))}),Re(b,ee=>{!s.value||ae.value||(ee&&(d.value=!0),a.value=!ee)}),Re(d,()=>{if(!t.hideSelected&&d.value&&A.value.length){const ee=_.value.findIndex(L=>A.value.some(B=>L.value===B.value));Gt&&window.requestAnimationFrame(()=>{var L;ee>=0&&((L=c.value)==null||L.scrollToIndex(ee))})}}),Ee(()=>{const ee=!!(t.chips||n.chip),L=!!(!t.hideNoData||_.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),B=A.value.length>0,W=ya.filterProps(t);return C(ya,Pe({ref:r},W,{modelValue:b.value,"onUpdate:modelValue":be,focused:s.value,"onUpdate:focused":T=>s.value=T,validationValue:A.externalValue,counterValue:A.value.length,dirty:B,onInput:J,onChange:H,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!n.selection,"v-autocomplete--selecting-index":h.value>-1},t.class],style:t.style,readonly:t.readonly,placeholder:B?void 0:t.placeholder,"onClick:clear":F,"onMousedown:control":j,onKeydown:Z}),{...n,default:()=>C(je,null,[C(am,Pe({ref:l,modelValue:d.value,"onUpdate:modelValue":T=>d.value=T,activator:"parent",contentClass:"v-autocomplete__content",disabled:R.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:q},t.menuProps),{default:()=>[L&&C(rm,{ref:N,selected:w.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:T=>T.preventDefault(),onKeydown:z,onFocusin:le,onFocusout:ue,onScrollPassive:k,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var T,D,V;return[(T=n["prepend-item"])==null?void 0:T.call(n),!_.value.length&&!t.hideNoData&&(((D=n["no-data"])==null?void 0:D.call(n))??C(Ls,{title:i(t.noDataText)},null)),C(cm,{ref:c,renderless:!0,items:_.value},{default:Y=>{var fe;let{item:K,index:ie,itemRef:oe}=Y;const se=Pe(K.props,{ref:oe,key:ie,active:P.value&&ie===0?!0:void 0,onClick:()=>Ae(K)});return((fe=n.item)==null?void 0:fe.call(n,{item:K,index:ie,props:se}))??C(Ls,se,{prepend:ce=>{let{isSelected:Te}=ce;return C(je,null,[t.multiple&&!t.hideSelected?C(Ps,{key:K.value,modelValue:Te,ripple:!1,tabindex:"-1"},null):void 0,K.props.prependIcon&&C(Bt,{icon:K.props.prependIcon},null)])},title:()=>{var ce,Te;return a.value?K.title:VX(K.title,(ce=S(K))==null?void 0:ce.title,((Te=b.value)==null?void 0:Te.length)??0)}})}}),(V=n["append-item"])==null?void 0:V.call(n)]}})]}),A.value.map((T,D)=>{function V(oe){oe.stopPropagation(),oe.preventDefault(),Ae(T)}const Y={"onClick:close":V,onMousedown(oe){oe.preventDefault(),oe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},K=ee?!!n.chip:!!n.selection,ie=K?$p(ee?n.chip({item:T,index:D,props:Y}):n.selection({item:T,index:D})):void 0;if(!(K&&!ie))return C("div",{key:T.value,class:["v-autocomplete__selection",D===h.value&&["v-autocomplete__selection--selected",x.value]],style:D===h.value?y.value:{}},[ee?n.chip?C(Ct,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:T.title}}},{default:()=>[ie]}):C(Ed,Pe({key:"chip",closable:t.closableChips,size:"small",text:T.title,disabled:T.props.disabled},Y),null):ie??C("span",{class:"v-autocomplete__selection-text"},[T.title,t.multiple&&D<A.value.length-1&&C("span",{class:"v-autocomplete__selection-comma"},[Ti(",")])])])})]),"append-inner":function(){var Y;for(var T=arguments.length,D=new Array(T),V=0;V<T;V++)D[V]=arguments[V];return C(je,null,[(Y=n["append-inner"])==null?void 0:Y.call(n,...D),t.menuIcon?C(Bt,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:X,onClick:jP,"aria-label":i(p.value),title:i(p.value)},null):void 0])}})}),Ar({isFocused:s,isPristine:a,menu:d,search:b,filteredItems:E,select:Ae},r)}}),BX=re({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:nt,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ge(),...Ca({location:"top end"}),...tn(),...ot(),...Mt(),...Ds({transition:"scale-rotate-transition"})},"VBadge"),UX=ve()({name:"VBadge",inheritAttrs:!1,props:BX(),setup(t,e){const{backgroundColorClasses:n,backgroundColorStyles:i}=$t(me(t,"color")),{roundedClasses:r}=on(t),{t:s}=An(),{textColorClasses:a,textColorStyles:o}=ti(me(t,"textColor")),{themeClasses:l}=pR(),{locationStyles:c}=Aa(t,!0,u=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(u)?+(t.offsetY??0):["left","right"].includes(u)?+(t.offsetX??0):0));return Ee(()=>{const u=Number(t.content),d=!t.max||isNaN(u)?t.content:u<=+t.max?u:`${t.max}+`,[h,f]=by(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return C(t.tag,Pe({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline},t.class]},f,{style:t.style}),{default:()=>{var p,g;return[C("div",{class:"v-badge__wrapper"},[(g=(p=e.slots).default)==null?void 0:g.call(p),C(cr,{transition:t.transition},{default:()=>{var m,v;return[St(C("span",Pe({class:["v-badge__badge",l.value,n.value,r.value,a.value],style:[i.value,o.value,t.inline?{}:c.value],"aria-atomic":"true","aria-label":s(t.label,u),"aria-live":"polite",role:"status"},h),[t.dot?void 0:e.slots.badge?(v=(m=e.slots).badge)==null?void 0:v.call(m):t.icon?C(Bt,{icon:t.icon},null):d]),[[Jr,t.modelValue]])]}})])]}})}),{}}}),zX=re({color:String,density:String,...Ge()},"VBannerActions"),bL=ve()({name:"VBannerActions",props:zX(),setup(t,e){let{slots:n}=e;return en({VBtn:{color:t.color,density:t.density,slim:!0,variant:"text"}}),Ee(()=>{var i;return C("div",{class:["v-banner-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),_L=qi("v-banner-text"),HX=re({avatar:String,bgColor:String,color:String,icon:nt,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Ki(),...Ge(),...Dn(),...mi(),...__(),...Tn(),...Ca(),...yc(),...tn(),...ot(),...Mt()},"VBanner"),GX=ve()({name:"VBanner",props:HX(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=$t(t,"bgColor"),{borderClasses:s}=pr(t),{densityClasses:a}=oi(t),{displayClasses:o,mobile:l}=Bo(t),{dimensionStyles:c}=vi(t),{elevationClasses:u}=Wn(t),{locationStyles:d}=Aa(t),{positionClasses:h}=bc(t),{roundedClasses:f}=on(t),{themeClasses:p}=Ot(t),g=me(t,"color"),m=me(t,"density");en({VBannerActions:{color:g,density:m}}),Ee(()=>{const v=!!(t.text||n.text),x=!!(t.avatar||t.icon),y=!!(x||n.prepend);return C(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||l.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},p.value,i.value,s.value,a.value,o.value,u.value,h.value,f.value,t.class],style:[r.value,c.value,d.value,t.style],role:"banner"},{default:()=>{var b;return[y&&C("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?C(Ct,{key:"prepend-defaults",disabled:!x,defaults:{VAvatar:{color:g.value,density:m.value,icon:t.icon,image:t.avatar}}},n.prepend):C(Rs,{key:"prepend-avatar",color:g.value,density:m.value,icon:t.icon,image:t.avatar},null)]),C("div",{class:"v-banner__content"},[v&&C(_L,{key:"text"},{default:()=>{var A;return[((A=n.text)==null?void 0:A.call(n))??t.text]}}),(b=n.default)==null?void 0:b.call(n)]),n.actions&&C(bL,{key:"actions"},n.actions)]}})})}}),WX=re({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Ki(),...Ge(),...Dn(),...Tn(),...tn(),...mc({name:"bottom-navigation"}),...ot({tag:"header"}),...Go({modelValue:!0,selectedClass:"v-btn--selected"}),...Mt()},"VBottomNavigation"),$X=ve()({name:"VBottomNavigation",props:WX(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=pR(),{borderClasses:r}=pr(t),{backgroundColorClasses:s,backgroundColorStyles:a}=$t(me(t,"bgColor")),{densityClasses:o}=oi(t),{elevationClasses:l}=Wn(t),{roundedClasses:c}=on(t),{ssrBootStyles:u}=Uo(),d=I(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),h=me(t,"active"),{layoutItemStyles:f}=vc({id:t.name,order:I(()=>parseInt(t.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>h.value?d.value:0),elementSize:d,active:h,absolute:me(t,"absolute")});return Ea(t,T_),en({VBtn:{color:me(t,"color"),density:me(t,"density"),stacked:I(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Ee(()=>C(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":h.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},i.value,s.value,r.value,o.value,l.value,c.value,t.class],style:[a.value,f.value,{height:Fe(d.value),transform:`translateY(${Fe(h.value?0:100,"%")})`},u.value,t.style]},{default:()=>[n.default&&C("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),xL=re({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Cd({origin:"center center",scrollStrategy:"block",transition:{component:Kp},zIndex:2400})},"VDialog"),Uy=ve()({name:"VDialog",props:xL(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),{scopeId:r}=xc(),s=he();function a(l){var d,h;const c=l.relatedTarget,u=l.target;if(c!==u&&((d=s.value)!=null&&d.contentEl)&&((h=s.value)!=null&&h.globalTop)&&![document,s.value.contentEl].includes(u)&&!s.value.contentEl.contains(u)){const f=Uu(s.value.contentEl);if(!f.length)return;const p=f[0],g=f[f.length-1];c===p?g.focus():p.focus()}}Gt&&Re(()=>i.value&&t.retainFocus,l=>{l?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0}),Re(i,async l=>{var c,u;await Pt(),l?(c=s.value.contentEl)==null||c.focus({preventScroll:!0}):(u=s.value.activatorEl)==null||u.focus({preventScroll:!0})});const o=I(()=>Pe({"aria-haspopup":"dialog","aria-expanded":String(i.value)},t.activatorProps));return Ee(()=>{const l=Yr.filterProps(t);return C(Yr,Pe({ref:s,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},l,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,"aria-modal":"true",activatorProps:o.value,role:"dialog"},r),{activator:n.activator,default:function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return C(Ct,{root:"VDialog"},{default:()=>{var h;return[(h=n.default)==null?void 0:h.call(n,...u)]}})}})}),Ar({},s)}}),jX=re({inset:Boolean,...xL({transition:"bottom-sheet-transition"})},"VBottomSheet"),XX=ve()({name:"VBottomSheet",props:jX(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue");return Ee(()=>{const r=Uy.filterProps(t);return C(Uy,Pe(r,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),qX=re({divider:[Number,String],...Ge()},"VBreadcrumbsDivider"),wL=ve()({name:"VBreadcrumbsDivider",props:qX(),setup(t,e){let{slots:n}=e;return Ee(()=>{var i;return C("li",{class:["v-breadcrumbs-divider",t.class],style:t.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??t.divider])}),{}}}),YX=re({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Ge(),...Sd(),...ot({tag:"li"})},"VBreadcrumbsItem"),SL=ve()({name:"VBreadcrumbsItem",props:YX(),setup(t,e){let{slots:n,attrs:i}=e;const r=wd(t,i),s=I(()=>{var c;return t.active||((c=r.isActive)==null?void 0:c.value)}),a=I(()=>s.value?t.activeColor:t.color),{textColorClasses:o,textColorStyles:l}=ti(a);return Ee(()=>C(t.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":t.disabled,[`${t.activeClass}`]:s.value&&t.activeClass},o.value,t.class],style:[l.value,t.style],"aria-current":s.value?"page":void 0},{default:()=>{var c,u;return[r.isLink.value?C("a",{class:"v-breadcrumbs-item--link",href:r.href.value,"aria-current":s.value?"page":void 0,onClick:r.navigate},[((u=n.default)==null?void 0:u.call(n))??t.title]):((c=n.default)==null?void 0:c.call(n))??t.title]}})),{}}}),KX=re({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:nt,items:{type:Array,default:()=>[]},...Ge(),...Dn(),...tn(),...ot({tag:"ul"})},"VBreadcrumbs"),ZX=ve()({name:"VBreadcrumbs",props:KX(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=$t(me(t,"bgColor")),{densityClasses:s}=oi(t),{roundedClasses:a}=on(t);en({VBreadcrumbsDivider:{divider:me(t,"divider")},VBreadcrumbsItem:{activeClass:me(t,"activeClass"),activeColor:me(t,"activeColor"),color:me(t,"color"),disabled:me(t,"disabled")}});const o=I(()=>t.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return Ee(()=>{const l=!!(n.prepend||t.icon);return C(t.tag,{class:["v-breadcrumbs",i.value,s.value,a.value,t.class],style:[r.value,t.style]},{default:()=>{var c;return[l&&C("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?C(Ct,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},n.prepend):C(Bt,{key:"prepend-icon",start:!0,icon:t.icon},null)]),o.value.map((u,d,h)=>{var g;let{item:f,raw:p}=u;return C(je,null,[((g=n.item)==null?void 0:g.call(n,{item:f,index:d}))??C(SL,Pe({key:d,disabled:d>=h.length-1},typeof f=="string"?{title:f}:f),{default:n.title?()=>{var m;return(m=n.title)==null?void 0:m.call(n,{item:f,index:d})}:void 0}),d<h.length-1&&C(wL,null,{default:n.divider?()=>{var m;return(m=n.divider)==null?void 0:m.call(n,{item:p,index:d})}:void 0})])}),(c=n.default)==null?void 0:c.call(n)]}})}),{}}}),ML=ve()({name:"VCardActions",props:Ge(),setup(t,e){let{slots:n}=e;return en({VBtn:{slim:!0,variant:"text"}}),Ee(()=>{var i;return C("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),EL=qi("v-card-subtitle"),CL=qi("v-card-title"),JX=re({appendAvatar:String,appendIcon:nt,prependAvatar:String,prependIcon:nt,subtitle:String,title:String,...Ge(),...Dn()},"VCardItem"),AL=ve()({name:"VCardItem",props:JX(),setup(t,e){let{slots:n}=e;return Ee(()=>{var c;const i=!!(t.prependAvatar||t.prependIcon),r=!!(i||n.prepend),s=!!(t.appendAvatar||t.appendIcon),a=!!(s||n.append),o=!!(t.title||n.title),l=!!(t.subtitle||n.subtitle);return C("div",{class:["v-card-item",t.class],style:t.style},[r&&C("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?C(Ct,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},n.prepend):i&&C(Rs,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),C("div",{class:"v-card-item__content"},[o&&C(CL,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??t.title]}}),l&&C(EL,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??t.subtitle]}}),(c=n.default)==null?void 0:c.call(n)]),a&&C("div",{key:"append",class:"v-card-item__append"},[n.append?C(Ct,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},n.append):s&&C(Rs,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),TL=qi("v-card-text"),QX=re({appendAvatar:String,appendIcon:nt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:nt,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...Ki(),...Ge(),...Dn(),...mi(),...Tn(),...em(),...Ca(),...yc(),...tn(),...Sd(),...ot(),...Mt(),...mr({variant:"elevated"})},"VCard"),eq=ve()({name:"VCard",directives:{Ripple:Vs},props:QX(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:r}=Ot(t),{borderClasses:s}=pr(t),{colorClasses:a,colorStyles:o,variantClasses:l}=Ho(t),{densityClasses:c}=oi(t),{dimensionStyles:u}=vi(t),{elevationClasses:d}=Wn(t),{loaderClasses:h}=xd(t),{locationStyles:f}=Aa(t),{positionClasses:p}=bc(t),{roundedClasses:g}=on(t),m=wd(t,n),v=I(()=>t.link!==!1&&m.isLink.value),x=I(()=>!t.disabled&&t.link!==!1&&(t.link||m.isClickable.value));return Ee(()=>{const y=v.value?"a":t.tag,b=!!(i.title||t.title),A=!!(i.subtitle||t.subtitle),M=b||A,E=!!(i.append||t.appendAvatar||t.appendIcon),S=!!(i.prepend||t.prependAvatar||t.prependIcon),_=!!(i.image||t.image),w=M||S||E,P=!!(i.text||t.text);return St(C(y,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":x.value},r.value,s.value,a.value,c.value,d.value,h.value,p.value,g.value,l.value,t.class],style:[o.value,u.value,f.value,t.style],href:m.href.value,onClick:x.value&&m.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var R;return[_&&C("div",{key:"image",class:"v-card__image"},[i.image?C(Ct,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):C(Co,{key:"image-img",cover:!0,src:t.image},null)]),C(tm,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),w&&C(AL,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),P&&C(TL,{key:"text"},{default:()=>{var N;return[((N=i.text)==null?void 0:N.call(i))??t.text]}}),(R=i.default)==null?void 0:R.call(i),i.actions&&C(ML,null,{default:i.actions}),zo(x.value,"v-card")]}}),[[qn("ripple"),x.value&&t.ripple]])}),{}}}),tq=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:r}=t,s=.5,a=16;t.offsetX=n-e,t.offsetY=r-i,Math.abs(t.offsetY)<s*Math.abs(t.offsetX)&&(t.left&&n<e-a&&t.left(t),t.right&&n>e+a&&t.right(t)),Math.abs(t.offsetX)<s*Math.abs(t.offsetY)&&(t.up&&r<i-a&&t.up(t),t.down&&r>i+a&&t.down(t))};function nq(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function iq(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),tq(e)}function rq(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function sq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>nq(n,e),touchend:n=>iq(n,e),touchmove:n=>rq(n,e)}}function aq(t,e){var o;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,r=(n==null?void 0:n.options)??{passive:!0},s=(o=e.instance)==null?void 0:o.$.uid;if(!i||!s)return;const a=sq(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[s]=a,BP(a).forEach(l=>{i.addEventListener(l,a[l],r)})}function oq(t,e){var s,a;const n=(s=e.value)!=null&&s.parent?t.parentElement:t,i=(a=e.instance)==null?void 0:a.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const r=n._touchHandlers[i];BP(r).forEach(o=>{n.removeEventListener(o,r[o])}),delete n._touchHandlers[i]}const F_={mounted:aq,unmounted:oq},PL=Symbol.for("vuetify:v-window"),RL=Symbol.for("vuetify:v-window-group"),B_=re({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ge(),...ot(),...Mt()},"VWindow"),ju=ve()({name:"VWindow",directives:{Touch:F_},props:B_(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{isRtl:r}=Gn(),{t:s}=An(),a=Ea(t,RL),o=he(),l=I(()=>r.value?!t.reverse:t.reverse),c=Le(!1),u=I(()=>{const b=t.direction==="vertical"?"y":"x",M=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${b}${M}-transition`}),d=Le(0),h=he(void 0),f=I(()=>a.items.value.findIndex(b=>a.selected.value.includes(b.id)));Re(f,(b,A)=>{const M=a.items.value.length,E=M-1;M<=2?c.value=b<A:b===E&&A===0?c.value=!0:b===0&&A===E?c.value=!1:c.value=b<A}),Ut(PL,{transition:u,isReversed:c,transitionCount:d,transitionHeight:h,rootRef:o});const p=I(()=>t.continuous||f.value!==0),g=I(()=>t.continuous||f.value!==a.items.value.length-1);function m(){p.value&&a.prev()}function v(){g.value&&a.next()}const x=I(()=>{const b=[],A={icon:r.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,ariaLabel:s("$vuetify.carousel.prev")};b.push(p.value?n.prev?n.prev({props:A}):C(It,A,null):C("div",null,null));const M={icon:r.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,ariaLabel:s("$vuetify.carousel.next")};return b.push(g.value?n.next?n.next({props:M}):C(It,M,null):C("div",null,null)),b}),y=I(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?m():v()},right:()=>{l.value?v():m()},start:A=>{let{originalEvent:M}=A;M.stopPropagation()}},...t.touch===!0?{}:t.touch});return Ee(()=>St(C(t.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var b,A;return[C("div",{class:"v-window__container",style:{height:h.value}},[(b=n.default)==null?void 0:b.call(n,{group:a}),t.showArrows!==!1&&C("div",{class:"v-window__controls"},[x.value])]),(A=n.additional)==null?void 0:A.call(n,{group:a})]}}),[[qn("touch"),y.value]])),{group:a}}}),lq=re({color:String,cycle:Boolean,delimiterIcon:{type:nt,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>Number(t)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...B_({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),cq=ve()({name:"VCarousel",props:lq(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),{t:r}=An(),s=he();let a=-1;Re(i,l),Re(()=>t.interval,l),Re(()=>t.cycle,c=>{c?l():window.clearTimeout(a)}),vn(o);function o(){!t.cycle||!s.value||(a=window.setTimeout(s.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(a),window.requestAnimationFrame(o)}return Ee(()=>{const c=ju.filterProps(t);return C(ju,Pe({ref:s},c,{modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters},t.class],style:[{height:Fe(t.height)},t.style]}),{default:n.default,additional:u=>{let{group:d}=u;return C(je,null,[!t.hideDelimiters&&C("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&C(Ct,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((h,f)=>{const p={id:`carousel-item-${h.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",f+1,d.items.value.length),class:[d.isSelected(h.id)&&"v-btn--active"],onClick:()=>d.select(h.id,!0)};return n.item?n.item({props:p,item:h}):C(It,Pe(h,p),null)})]})]),t.progress&&C(Qp,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(d.getItemIndex(i.value)+1)/d.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),U_=re({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ge(),...Wo(),...sm()},"VWindowItem"),Xu=ve()({name:"VWindowItem",directives:{Touch:F_},props:U_(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=_t(PL),r=$o(t,RL),{isBooted:s}=Uo();if(!i||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=Le(!1),o=I(()=>s.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!a.value||!i||(a.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function c(){var p;a.value||!i||(a.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Fe((p=i.rootRef.value)==null?void 0:p.clientHeight)),i.transitionCount.value+=1)}function u(){l()}function d(p){a.value&&Pt(()=>{!o.value||!a.value||!i||(i.transitionHeight.value=Fe(p.clientHeight))})}const h=I(()=>{const p=i.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof p!="string"?i.transition.value:p,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:u,onEnter:d}:!1}),{hasContent:f}=D_(t,r.isSelected);return Ee(()=>C(cr,{transition:h.value,disabled:!s.value},{default:()=>{var p;return[St(C("div",{class:["v-window-item",r.selectedClass.value,t.class],style:t.style},[f.value&&((p=n.default)==null?void 0:p.call(n))]),[[Jr,r.isSelected.value]])]}})),{groupItem:r}}}),uq=re({...MR(),...U_()},"VCarouselItem"),dq=ve()({name:"VCarouselItem",inheritAttrs:!1,props:uq(),setup(t,e){let{slots:n,attrs:i}=e;Ee(()=>{const r=Co.filterProps(t),s=Xu.filterProps(t);return C(Xu,Pe({class:"v-carousel-item"},s),{default:()=>[C(Co,Pe(i,r),n)]})})}}),hq=qi("v-code"),fq=re({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Ge()},"VColorPickerCanvas"),pq=Xi({name:"VColorPickerCanvas",props:fq(),emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const i=Le(!1),r=he(),s=Le(parseFloat(t.width)),a=Le(parseFloat(t.height)),o=he({x:0,y:0}),l=I({get:()=>o.value,set(m){var y,b;if(!r.value)return;const{x:v,y:x}=m;o.value=m,n("update:color",{h:((y=t.color)==null?void 0:y.h)??0,s:Mn(v,0,s.value)/s.value,v:1-Mn(x,0,a.value)/a.value,a:((b=t.color)==null?void 0:b.a)??1})}}),c=I(()=>{const{x:m,y:v}=l.value,x=parseInt(t.dotSize,10)/2;return{width:Fe(t.dotSize),height:Fe(t.dotSize),transform:`translate(${Fe(m-x)}, ${Fe(v-x)})`}}),{resizeRef:u}=qr(m=>{var y;if(!((y=u.value)!=null&&y.offsetParent))return;const{width:v,height:x}=m[0].contentRect;s.value=v,a.value=x});function d(m,v,x){const{left:y,top:b,width:A,height:M}=x;l.value={x:Mn(m-y,0,A),y:Mn(v-b,0,M)}}function h(m){m.type==="mousedown"&&m.preventDefault(),!t.disabled&&(f(m),window.addEventListener("mousemove",f),window.addEventListener("mouseup",p),window.addEventListener("touchmove",f),window.addEventListener("touchend",p))}function f(m){if(t.disabled||!r.value)return;i.value=!0;const v=i9(m);d(v.clientX,v.clientY,r.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",p)}function g(){var b;if(!r.value)return;const m=r.value,v=m.getContext("2d");if(!v)return;const x=v.createLinearGradient(0,0,m.width,0);x.addColorStop(0,"hsla(0, 0%, 100%, 1)"),x.addColorStop(1,`hsla(${((b=t.color)==null?void 0:b.h)??0}, 100%, 50%, 1)`),v.fillStyle=x,v.fillRect(0,0,m.width,m.height);const y=v.createLinearGradient(0,0,0,m.height);y.addColorStop(0,"hsla(0, 0%, 100%, 0)"),y.addColorStop(1,"hsla(0, 0%, 0%, 1)"),v.fillStyle=y,v.fillRect(0,0,m.width,m.height)}return Re(()=>{var m;return(m=t.color)==null?void 0:m.h},g,{immediate:!0}),Re(()=>[s.value,a.value],(m,v)=>{g(),o.value={x:l.value.x*m[0]/v[0],y:l.value.y*m[1]/v[1]}},{flush:"post"}),Re(()=>t.color,()=>{if(i.value){i.value=!1;return}o.value=t.color?{x:t.color.s*s.value,y:(1-t.color.v)*a.value}:{x:0,y:0}},{deep:!0,immediate:!0}),vn(()=>g()),Ee(()=>C("div",{ref:u,class:["v-color-picker-canvas",t.class],style:t.style,onMousedown:h,onTouchstartPassive:h},[C("canvas",{ref:r,width:s.value,height:a.value},null),t.color&&C("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:c.value},null)])),{}}});function mq(t,e){if(e){const{a:n,...i}=t;return i}return t}function vq(t,e){if(e==null||typeof e=="string"){const n=rR(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return ao(e,["r","g","b"])?n=Ts(t):ao(e,["h","s","l"])?n=JP(t):ao(e,["h","s","v"])&&(n=t),mq(n,!ao(e,["a"])&&t.a===1)}return t}const Ml={h:0,s:0,v:1,a:1},zy={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:Ts,from:jp};var xM;const gq={...zy,inputs:(xM=zy.inputs)==null?void 0:xM.slice(0,3)},Hy={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:JP,from:v_},yq={...Hy,inputs:Hy.inputs.slice(0,3)},LL={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:rR,from:iR},bq={...LL,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},vo={rgb:gq,rgba:zy,hsl:yq,hsla:Hy,hex:bq,hexa:LL},_q=t=>{let{label:e,...n}=t;return C("div",{class:"v-color-picker-edit__input"},[C("input",n,null),C("span",null,[e])])},xq=re({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(vo).includes(t)},modes:{type:Array,default:()=>Object.keys(vo),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(vo).includes(e))},...Ge()},"VColorPickerEdit"),wq=Xi({name:"VColorPickerEdit",props:xq(),emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const i=I(()=>t.modes.map(s=>({...vo[s],name:s}))),r=I(()=>{var o;const s=i.value.find(l=>l.name===t.mode);if(!s)return[];const a=t.color?s.to(t.color):null;return(o=s.inputs)==null?void 0:o.map(l=>{let{getValue:c,getColor:u,...d}=l;return{...s.inputProps,...d,disabled:t.disabled,value:a&&c(a),onChange:h=>{const f=h.target;f&&n("update:color",s.from(u(a??Ml,f.value)))}}})});return Ee(()=>{var s;return C("div",{class:["v-color-picker-edit",t.class],style:t.style},[(s=r.value)==null?void 0:s.map(a=>C(_q,a,null)),i.value.length>1&&C(It,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const a=i.value.findIndex(o=>o.name===t.mode);n("update:mode",i.value[(a+1)%i.value.length].name)}},null)])}),{}}}),z_=Symbol.for("vuetify:v-slider");function Gy(t,e,n){const i=n==="vertical",r=e.getBoundingClientRect(),s="touches"in t?t.touches[0]:t;return i?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function Sq(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const IL=re({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...tn(),...Tn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),kL=t=>{const e=I(()=>parseFloat(t.min)),n=I(()=>parseFloat(t.max)),i=I(()=>+t.step>0?parseFloat(t.step):0),r=I(()=>Math.max(C1(i.value),C1(e.value)));function s(a){if(a=parseFloat(a),i.value<=0)return a;const o=Mn(a,e.value,n.value),l=e.value%i.value,c=Math.round((o-l)/i.value)*i.value+l;return parseFloat(Math.min(c,n.value).toFixed(r.value))}return{min:e,max:n,step:i,decimals:r,roundValue:s}},DL=t=>{let{props:e,steps:n,onSliderStart:i,onSliderMove:r,onSliderEnd:s,getActiveThumb:a}=t;const{isRtl:o}=Gn(),l=me(e,"reverse"),c=I(()=>e.direction==="vertical"),u=I(()=>c.value!==l.value),{min:d,max:h,step:f,decimals:p,roundValue:g}=n,m=I(()=>parseInt(e.thumbSize,10)),v=I(()=>parseInt(e.tickSize,10)),x=I(()=>parseInt(e.trackSize,10)),y=I(()=>(h.value-d.value)/f.value),b=me(e,"disabled"),A=I(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),M=I(()=>e.error||e.disabled?void 0:e.trackColor??e.color),E=I(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),S=Le(!1),_=Le(0),w=he(),P=he();function R(ae){var Y;const Ae=e.direction==="vertical",ee=Ae?"top":"left",L=Ae?"height":"width",B=Ae?"clientY":"clientX",{[ee]:W,[L]:T}=(Y=w.value)==null?void 0:Y.$el.getBoundingClientRect(),D=Sq(ae,B);let V=Math.min(Math.max((D-W-_.value)/T,0),1)||0;return(Ae?u.value:u.value!==o.value)&&(V=1-V),g(d.value+V*(h.value-d.value))}const N=ae=>{s({value:R(ae)}),S.value=!1,_.value=0},k=ae=>{P.value=a(ae),P.value&&(P.value.focus(),S.value=!0,P.value.contains(ae.target)?_.value=Gy(ae,P.value,e.direction):(_.value=0,r({value:R(ae)})),i({value:R(ae)}))},z={passive:!0,capture:!0};function F(ae){r({value:R(ae)})}function j(ae){ae.stopPropagation(),ae.preventDefault(),N(ae),window.removeEventListener("mousemove",F,z),window.removeEventListener("mouseup",j)}function X(ae){var Ae;N(ae),window.removeEventListener("touchmove",F,z),(Ae=ae.target)==null||Ae.removeEventListener("touchend",X)}function Z(ae){var Ae;k(ae),window.addEventListener("touchmove",F,z),(Ae=ae.target)==null||Ae.addEventListener("touchend",X,{passive:!1})}function J(ae){ae.preventDefault(),k(ae),window.addEventListener("mousemove",F,z),window.addEventListener("mouseup",j,{passive:!1})}const H=ae=>{const Ae=(ae-d.value)/(h.value-d.value)*100;return Mn(isNaN(Ae)?0:Ae,0,100)},q=me(e,"showTicks"),le=I(()=>q.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(ae=>({value:ae,position:H(ae),label:ae.toString()})):Object.keys(e.ticks).map(ae=>({value:parseFloat(ae),position:H(parseFloat(ae)),label:e.ticks[ae]})):y.value!==1/0?Vr(y.value+1).map(ae=>{const Ae=d.value+ae*f.value;return{value:Ae,position:H(Ae)}}):[]:[]),ue=I(()=>le.value.some(ae=>{let{label:Ae}=ae;return!!Ae})),be={activeThumbRef:P,color:me(e,"color"),decimals:p,disabled:b,direction:me(e,"direction"),elevation:me(e,"elevation"),hasLabels:ue,isReversed:l,indexFromEnd:u,min:d,max:h,mousePressed:S,numTicks:y,onSliderMousedown:J,onSliderTouchstart:Z,parsedTicks:le,parseMouseMove:R,position:H,readonly:me(e,"readonly"),rounded:me(e,"rounded"),roundValue:g,showTicks:q,startOffset:_,step:f,thumbSize:m,thumbColor:A,thumbLabel:me(e,"thumbLabel"),ticks:me(e,"ticks"),tickSize:v,trackColor:M,trackContainerRef:w,trackFillColor:E,trackSize:x,vertical:c};return Ut(z_,be),be},Mq=re({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...Ge()},"VSliderThumb"),Wy=ve()({name:"VSliderThumb",directives:{Ripple:Vs},props:Mq(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=_t(z_),{isRtl:s,rtlClasses:a}=Gn();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:c,thumbSize:u,thumbLabel:d,direction:h,isReversed:f,vertical:p,readonly:g,elevation:m,mousePressed:v,decimals:x,indexFromEnd:y}=r,{textColorClasses:b,textColorStyles:A}=ti(o),{pageup:M,pagedown:E,end:S,home:_,left:w,right:P,down:R,up:N}=yy,k=[M,E,S,_,w,P,R,N],z=I(()=>l.value?[1,2,3]:[1,5,10]);function F(X,Z){if(!k.includes(X.key))return;X.preventDefault();const J=l.value||.1,H=(t.max-t.min)/J;if([w,P,R,N].includes(X.key)){const le=(p.value?[s.value?w:P,f.value?R:N]:y.value!==s.value?[w,N]:[P,N]).includes(X.key)?1:-1,ue=X.shiftKey?2:X.ctrlKey?1:0;Z=Z+le*J*z.value[ue]}else if(X.key===_)Z=t.min;else if(X.key===S)Z=t.max;else{const q=X.key===E?1:-1;Z=Z-q*J*(H>100?H/10:10)}return Math.max(t.min,Math.min(t.max,Z))}function j(X){const Z=F(X,t.modelValue);Z!=null&&i("update:modelValue",Z)}return Ee(()=>{const X=Fe(y.value?100-t.position:t.position,"%"),{elevationClasses:Z}=Wn(I(()=>c.value?void 0:m.value));return C("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&v.value},t.class,a.value],style:[{"--v-slider-thumb-position":X,"--v-slider-thumb-size":Fe(u.value)},t.style],role:"slider",tabindex:c.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!g.value,"aria-orientation":h.value,onKeydown:g.value?void 0:j},[C("div",{class:["v-slider-thumb__surface",b.value,Z.value],style:{...A.value}},null),St(C("div",{class:["v-slider-thumb__ripple",b.value],style:A.value},null),[[qn("ripple"),t.ripple,null,{circle:!0,center:!0}]]),C(M_,{origin:"bottom center"},{default:()=>{var J;return[St(C("div",{class:"v-slider-thumb__label-container"},[C("div",{class:["v-slider-thumb__label"]},[C("div",null,[((J=n["thumb-label"])==null?void 0:J.call(n,{modelValue:t.modelValue}))??t.modelValue.toFixed(l.value?x.value:1)])])]),[[Jr,d.value&&t.focused||d.value==="always"]])]}})])}),{}}}),Eq=re({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ge()},"VSliderTrack"),OL=ve()({name:"VSliderTrack",props:Eq(),emits:{},setup(t,e){let{slots:n}=e;const i=_t(z_);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:a,showTicks:o,tickSize:l,trackColor:c,trackFillColor:u,trackSize:d,vertical:h,min:f,max:p,indexFromEnd:g}=i,{roundedClasses:m}=on(a),{backgroundColorClasses:v,backgroundColorStyles:x}=$t(u),{backgroundColorClasses:y,backgroundColorStyles:b}=$t(c),A=I(()=>`inset-${h.value?"block":"inline"}-${g.value?"end":"start"}`),M=I(()=>h.value?"height":"width"),E=I(()=>({[A.value]:"0%",[M.value]:"100%"})),S=I(()=>t.stop-t.start),_=I(()=>({[A.value]:Fe(t.start,"%"),[M.value]:Fe(S.value,"%")})),w=I(()=>o.value?(h.value?s.value.slice().reverse():s.value).map((R,N)=>{var z;const k=R.value!==f.value&&R.value!==p.value?Fe(R.position,"%"):void 0;return C("div",{key:R.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":R.position>=t.start&&R.position<=t.stop,"v-slider-track__tick--first":R.value===f.value,"v-slider-track__tick--last":R.value===p.value}],style:{[A.value]:k}},[(R.label||n["tick-label"])&&C("div",{class:"v-slider-track__tick-label"},[((z=n["tick-label"])==null?void 0:z.call(n,{tick:R,index:N}))??R.label])])}):[]);return Ee(()=>C("div",{class:["v-slider-track",m.value,t.class],style:[{"--v-slider-track-size":Fe(d.value),"--v-slider-tick-size":Fe(l.value)},t.style]},[C("div",{class:["v-slider-track__background",y.value,{"v-slider-track__background--opacity":!!r.value||!u.value}],style:{...E.value,...b.value}},null),C("div",{class:["v-slider-track__fill",v.value],style:{..._.value,...x.value}},null),o.value&&C("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[w.value])])),{}}}),Cq=re({...Md(),...IL(),...Fs(),modelValue:{type:[Number,String],default:0}},"VSlider"),$y=ve()({name:"VSlider",props:Cq(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=he(),{rtlClasses:s}=Gn(),a=kL(t),o=Xe(t,"modelValue",void 0,M=>a.roundValue(M??a.min.value)),{min:l,max:c,mousePressed:u,roundValue:d,onSliderMousedown:h,onSliderTouchstart:f,trackContainerRef:p,position:g,hasLabels:m,readonly:v}=DL({props:t,steps:a,onSliderStart:()=>{i("start",o.value)},onSliderEnd:M=>{let{value:E}=M;const S=d(E);o.value=S,i("end",S)},onSliderMove:M=>{let{value:E}=M;return o.value=d(E)},getActiveThumb:()=>{var M;return(M=r.value)==null?void 0:M.$el}}),{isFocused:x,focus:y,blur:b}=Ns(t),A=I(()=>g(o.value));return Ee(()=>{const M=Xn.filterProps(t),E=!!(t.label||n.label||n.prepend);return C(Xn,Pe({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||m.value,"v-slider--focused":x.value,"v-slider--pressed":u.value,"v-slider--disabled":t.disabled},s.value,t.class],style:t.style},M,{focused:x.value}),{...n,prepend:E?S=>{var _,w;return C(je,null,[((_=n.label)==null?void 0:_.call(n,S))??(t.label?C(_c,{id:S.id.value,class:"v-slider__label",text:t.label},null):void 0),(w=n.prepend)==null?void 0:w.call(n,S)])}:void 0,default:S=>{let{id:_,messagesId:w}=S;return C("div",{class:"v-slider__container",onMousedown:v.value?void 0:h,onTouchstartPassive:v.value?void 0:f},[C("input",{id:_.value,name:t.name||_.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:o.value},null),C(OL,{ref:p,start:0,stop:A.value},{"tick-label":n["tick-label"]}),C(Wy,{ref:r,"aria-describedby":w.value,focused:x.value,min:l.value,max:c.value,modelValue:o.value,"onUpdate:modelValue":P=>o.value=P,position:A.value,elevation:t.elevation,onFocus:y,onBlur:b,ripple:t.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Aq=re({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Ge()},"VColorPickerPreview"),Tq=Xi({name:"VColorPickerPreview",props:Aq(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;const i=new AbortController;Zr(()=>i.abort());async function r(){if(!S1)return;const s=new window.EyeDropper;try{const a=await s.open({signal:i.signal}),o=iR(a.sRGBHex);n("update:color",{...t.color??Ml,...o})}catch{}}return Ee(()=>{var s,a;return C("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha},t.class],style:t.style},[S1&&C("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[C(It,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),C("div",{class:"v-color-picker-preview__dot"},[C("div",{style:{background:eR(t.color??Ml)}},null)]),C("div",{class:"v-color-picker-preview__sliders"},[C($y,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(s=t.color)==null?void 0:s.h,"onUpdate:modelValue":o=>n("update:color",{...t.color??Ml,h:o}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&C($y,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((a=t.color)==null?void 0:a.a)??1,"onUpdate:modelValue":o=>n("update:color",{...t.color??Ml,a:o}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Pq={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Rq={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Lq={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Iq={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},kq={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Dq={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Oq={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Vq={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Nq={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},Fq={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Bq={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Uq={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},zq={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Hq={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Gq={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Wq={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},$q={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},jq={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Xq={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},qq={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Yq={red:Pq,pink:Rq,purple:Lq,deepPurple:Iq,indigo:kq,blue:Dq,lightBlue:Oq,cyan:Vq,teal:Nq,green:Fq,lightGreen:Bq,lime:Uq,yellow:zq,amber:Hq,orange:Gq,deepOrange:Wq,brown:$q,blueGrey:jq,grey:Xq,shades:qq},Kq=re({swatches:{type:Array,default:()=>Zq(Yq)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Ge()},"VColorPickerSwatches");function Zq(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const Jq=Xi({name:"VColorPickerSwatches",props:Kq(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return Ee(()=>C("div",{class:["v-color-picker-swatches",t.class],style:[{maxHeight:Fe(t.maxHeight)},t.style]},[C("div",null,[t.swatches.map(i=>C("div",{class:"v-color-picker-swatches__swatch"},[i.map(r=>{const s=lr(r),a=jp(s),o=QP(s);return C("div",{class:"v-color-picker-swatches__color",onClick:()=>a&&n("update:color",a)},[C("div",{style:{background:o}},[t.color&&Sa(t.color,a)?C(Bt,{size:"x-small",icon:"$success",color:C9(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),um=re({color:String,...Ki(),...Ge(),...mi(),...Tn(),...Ca(),...yc(),...tn(),...ot(),...Mt()},"VSheet"),To=ve()({name:"VSheet",props:um(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{backgroundColorClasses:r,backgroundColorStyles:s}=$t(me(t,"color")),{borderClasses:a}=pr(t),{dimensionStyles:o}=vi(t),{elevationClasses:l}=Wn(t),{locationStyles:c}=Aa(t),{positionClasses:u}=bc(t),{roundedClasses:d}=on(t);return Ee(()=>C(t.tag,{class:["v-sheet",i.value,r.value,a.value,l.value,u.value,d.value,t.class],style:[s.value,o.value,c.value,t.style]},n)),{}}}),Qq=re({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(vo).includes(t)},modes:{type:Array,default:()=>Object.keys(vo),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(vo).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...kn(um({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),eY=Xi({name:"VColorPicker",props:Qq(),emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=Xe(t,"mode"),n=he(null),i=Xe(t,"modelValue",void 0,a=>{if(a==null||a==="")return null;let o;try{o=jp(lr(a))}catch{return null}return n.value&&(o={...o,h:n.value.h},n.value=null),o},a=>a?vq(a,t.modelValue):null),{rtlClasses:r}=Gn(),s=a=>{i.value=a,n.value=a};return vn(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),en({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Ee(()=>{const a=To.filterProps(t);return C(To,Pe({rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker",r.value,t.class],style:[{"--v-color-picker-color-hsv":eR({...i.value??Ml,a:1})},t.style]},a,{maxWidth:t.width}),{default:()=>[!t.hideCanvas&&C(pq,{key:"canvas",color:i.value,"onUpdate:color":s,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&C("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&C(Tq,{key:"preview",color:i.value,"onUpdate:color":s,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&C(wq,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":o=>e.value=o,color:i.value,"onUpdate:color":s,disabled:t.disabled},null)]),t.showSwatches&&C(Jq,{key:"swatches",color:i.value,"onUpdate:color":s,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}});function tY(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?C(je,null,[C("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),C("span",{class:"v-combobox__mask"},[t.substr(e,n)]),C("span",{class:"v-combobox__unmask"},[t.substr(e+n)])]):t}const nY=re({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...Td({filterKeys:["title"]}),...N_({hideNoData:!0,returnObject:!0}),...kn(lm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ds({transition:!1})},"VCombobox"),iY=ve()({name:"VCombobox",props:nY(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var ee;let{emit:n,slots:i}=e;const{t:r}=An(),s=he(),a=Le(!1),o=Le(!0),l=Le(!1),c=he(),u=he(),d=Xe(t,"menu"),h=I({get:()=>d.value,set:L=>{var B;d.value&&!L&&((B=c.value)!=null&&B.openChildren)||(d.value=L)}}),f=Le(-1);let p=!1;const g=I(()=>{var L;return(L=s.value)==null?void 0:L.color}),m=I(()=>h.value?t.closeText:t.openText),{items:v,transformIn:x,transformOut:y}=k_(t),{textColorClasses:b,textColorStyles:A}=ti(g),M=Xe(t,"modelValue",[],L=>x(mn(L)),L=>{const B=y(L);return t.multiple?B:B[0]??null}),E=im(),S=Le(t.multiple?"":((ee=M.value[0])==null?void 0:ee.title)??""),_=I({get:()=>S.value,set:L=>{var B;if(S.value=L??"",t.multiple||(M.value=[lo(t,L)]),L&&t.multiple&&((B=t.delimiters)!=null&&B.length)){const W=L.split(new RegExp(`(?:${t.delimiters.join("|")})+`));W.length>1&&(W.forEach(T=>{T=T.trim(),T&&ue(lo(t,T))}),S.value="")}L||(f.value=-1),o.value=!L}});Re(S,L=>{p?Pt(()=>p=!1):a.value&&!h.value&&(h.value=!0),n("update:search",L)}),Re(M,L=>{var B;t.multiple||(S.value=((B=L[0])==null?void 0:B.title)??"")});const{filteredItems:w,getMatches:P}=Pd(t,v,()=>o.value?"":_.value),R=I(()=>t.hideSelected?w.value.filter(L=>!M.value.some(B=>B.value===L.value)):w.value),N=I(()=>M.value.map(L=>L.value)),k=I(()=>{var B;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&_.value===((B=R.value[0])==null?void 0:B.title))&&R.value.length>0&&!o.value&&!l.value}),z=I(()=>t.hideNoData&&!v.value.length||t.readonly||(E==null?void 0:E.isReadonly.value)),F=he(),{onListScroll:j,onListKeydown:X}=V_(F,s);function Z(L){p=!0,t.openOnClear&&(h.value=!0)}function J(){z.value||(h.value=!0)}function H(L){z.value||(a.value&&(L.preventDefault(),L.stopPropagation()),h.value=!h.value)}function q(L){var T;if(Q$(L)||t.readonly||E!=null&&E.isReadonly.value)return;const B=s.value.selectionStart,W=M.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(L.key))&&L.preventDefault(),["Enter","ArrowDown"].includes(L.key)&&(h.value=!0),["Escape"].includes(L.key)&&(h.value=!1),["Enter","Escape","Tab"].includes(L.key)&&(k.value&&["Enter","Tab"].includes(L.key)&&ue(w.value[0]),o.value=!0),L.key==="ArrowDown"&&k.value&&((T=F.value)==null||T.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(L.key)){if(f.value<0){L.key==="Backspace"&&!_.value&&(f.value=W-1);return}const D=f.value,V=M.value[f.value];V&&!V.props.disabled&&ue(V),f.value=D>=W-1?W-2:D}if(L.key==="ArrowLeft"){if(f.value<0&&B>0)return;const D=f.value>-1?f.value-1:W-1;M.value[D]?f.value=D:(f.value=-1,s.value.setSelectionRange(_.value.length,_.value.length))}if(L.key==="ArrowRight"){if(f.value<0)return;const D=f.value+1;M.value[D]?f.value=D:(f.value=-1,s.value.setSelectionRange(0,0))}L.key==="Enter"&&_.value&&(ue(lo(t,_.value)),_.value="")}}function le(){var L;a.value&&(o.value=!0,(L=s.value)==null||L.focus())}function ue(L){if(t.multiple){const B=M.value.findIndex(W=>t.valueComparator(W.value,L.value));if(B===-1)M.value=[...M.value,L];else{const W=[...M.value];W.splice(B,1),M.value=W}_.value=""}else M.value=[L],S.value=L.title,Pt(()=>{h.value=!1,o.value=!0})}function be(L){a.value=!0,setTimeout(()=>{l.value=!0})}function ae(L){l.value=!1}function Ae(L){(L==null||L===""&&!t.multiple)&&(M.value=[])}return Re(w,L=>{!L.length&&t.hideNoData&&(h.value=!1)}),Re(a,(L,B)=>{L||L===B||(f.value=-1,h.value=!1,k.value&&!l.value&&!M.value.some(W=>{let{value:T}=W;return T===R.value[0].value})?ue(R.value[0]):t.multiple&&_.value&&(M.value=[...M.value,lo(t,_.value)],_.value=""))}),Re(h,()=>{if(!t.hideSelected&&h.value&&M.value.length){const L=R.value.findIndex(B=>M.value.some(W=>t.valueComparator(W.value,B.value)));Gt&&window.requestAnimationFrame(()=>{var B;L>=0&&((B=u.value)==null||B.scrollToIndex(L))})}}),Ee(()=>{const L=!!(t.chips||i.chip),B=!!(!t.hideNoData||R.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),W=M.value.length>0,T=ya.filterProps(t);return C(ya,Pe({ref:s},T,{modelValue:_.value,"onUpdate:modelValue":[D=>_.value=D,Ae],focused:a.value,"onUpdate:focused":D=>a.value=D,validationValue:M.externalValue,counterValue:t.multiple?M.value.length:_.value.length,dirty:W,class:["v-combobox",{"v-combobox--active-menu":h.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!i.selection,"v-combobox--selecting-index":f.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:t.readonly,placeholder:W?void 0:t.placeholder,"onClick:clear":Z,"onMousedown:control":J,onKeydown:q}),{...i,default:()=>C(je,null,[C(am,Pe({ref:c,modelValue:h.value,"onUpdate:modelValue":D=>h.value=D,activator:"parent",contentClass:"v-combobox__content",disabled:z.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:le},t.menuProps),{default:()=>[B&&C(rm,{ref:F,selected:N.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:D=>D.preventDefault(),onKeydown:X,onFocusin:be,onFocusout:ae,onScrollPassive:j,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var D,V,Y;return[(D=i["prepend-item"])==null?void 0:D.call(i),!R.value.length&&!t.hideNoData&&(((V=i["no-data"])==null?void 0:V.call(i))??C(Ls,{title:r(t.noDataText)},null)),C(cm,{ref:u,renderless:!0,items:R.value},{default:K=>{var ce;let{item:ie,index:oe,itemRef:se}=K;const fe=Pe(ie.props,{ref:se,key:oe,active:k.value&&oe===0?!0:void 0,onClick:()=>ue(ie)});return((ce=i.item)==null?void 0:ce.call(i,{item:ie,index:oe,props:fe}))??C(Ls,fe,{prepend:Te=>{let{isSelected:U}=Te;return C(je,null,[t.multiple&&!t.hideSelected?C(Ps,{key:ie.value,modelValue:U,ripple:!1,tabindex:"-1"},null):void 0,ie.props.prependIcon&&C(Bt,{icon:ie.props.prependIcon},null)])},title:()=>{var Te,U;return o.value?ie.title:tY(ie.title,(Te=P(ie))==null?void 0:Te.title,((U=_.value)==null?void 0:U.length)??0)}})}}),(Y=i["append-item"])==null?void 0:Y.call(i)]}})]}),M.value.map((D,V)=>{function Y(se){se.stopPropagation(),se.preventDefault(),ue(D)}const K={"onClick:close":Y,onMousedown(se){se.preventDefault(),se.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ie=L?!!i.chip:!!i.selection,oe=ie?$p(L?i.chip({item:D,index:V,props:K}):i.selection({item:D,index:V})):void 0;if(!(ie&&!oe))return C("div",{key:D.value,class:["v-combobox__selection",V===f.value&&["v-combobox__selection--selected",b.value]],style:V===f.value?A.value:{}},[L?i.chip?C(Ct,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:D.title}}},{default:()=>[oe]}):C(Ed,Pe({key:"chip",closable:t.closableChips,size:"small",text:D.title,disabled:D.props.disabled},K),null):oe??C("span",{class:"v-combobox__selection-text"},[D.title,t.multiple&&V<M.value.length-1&&C("span",{class:"v-combobox__selection-comma"},[Ti(",")])])])})]),"append-inner":function(){var K;for(var D=arguments.length,V=new Array(D),Y=0;Y<D;Y++)V[Y]=arguments[Y];return C(je,null,[(K=i["append-inner"])==null?void 0:K.call(i,...V),(!t.hideNoData||t.items.length)&&t.menuIcon?C(Bt,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:H,onClick:jP,"aria-label":r(m.value),title:r(m.value)},null):void 0])}})}),Ar({isFocused:a,isPristine:o,menu:h,search:_,selectionIndex:f,filteredItems:w,select:ue},s)}}),VL=re({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),NL=Symbol.for("vuetify:datatable:expanded");function dm(t){const e=me(t,"expandOnClick"),n=Xe(t,"expanded",t.expanded,o=>new Set(o),o=>[...o.values()]);function i(o,l){const c=new Set(n.value);l?c.add(o.value):c.delete(o.value),n.value=c}function r(o){return n.value.has(o.value)}function s(o){i(o,!r(o))}const a={expand:i,expanded:n,expandOnClick:e,isExpanded:r,toggleExpand:s};return Ut(NL,a),a}function FL(){const t=_t(NL);if(!t)throw new Error("foo");return t}const H_=re({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),BL=Symbol.for("vuetify:data-table-group");function G_(t){return{groupBy:Xe(t,"groupBy")}}function hm(t){const{groupBy:e,sortBy:n}=t,i=he(new Set),r=I(()=>e.value.map(c=>({...c,order:c.order??!1})).concat(n.value));function s(c){return i.value.has(c.id)}function a(c){const u=new Set(i.value);s(c)?u.delete(c.id):u.add(c.id),i.value=u}function o(c){function u(d){const h=[];for(const f of d.items)"type"in f&&f.type==="group"?h.push(...u(f)):h.push(f);return h}return u({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const l={sortByWithGroups:r,toggleGroup:a,opened:i,groupBy:e,extractRows:o,isGroupOpen:s};return Ut(BL,l),l}function UL(){const t=_t(BL);if(!t)throw new Error("Missing group!");return t}function rY(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const r=Eo(i.raw,e);n.has(r)||n.set(r,[]),n.get(r).push(i)}return n}function zL(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const r=rY(t,e[0]),s=[],a=e.slice(1);return r.forEach((o,l)=>{const c=e[0],u=`${i}_${c}_${l}`;s.push({depth:n,id:u,key:c,value:l,items:a.length?zL(o,a,n+1,u):o,type:"group"})}),s}function HL(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...HL(i.items,e))):n.push(i);return n}function fm(t,e,n){return{flatItems:I(()=>{if(!e.value.length)return t.value;const r=zL(t.value,e.value.map(s=>s.key));return HL(r,n.value)})}}function pm(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:r,search:s}=t;const a=Cn("VDataTable"),o=I(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:r.value,search:s.value}));let l=null;Re(o,()=>{Sa(l,o.value)||((l==null?void 0:l.search)!==o.value.search&&(e.value=1),a.emit("update:options",o.value),l=o.value)},{deep:!0,immediate:!0})}const W_=re({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),GL=Symbol.for("vuetify:data-table-pagination");function $_(t){const e=Xe(t,"page",void 0,i=>+(i??1)),n=Xe(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function j_(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,r=I(()=>n.value===-1?0:n.value*(e.value-1)),s=I(()=>n.value===-1?i.value:Math.min(i.value,r.value+n.value)),a=I(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));Jt(()=>{e.value>a.value&&(e.value=a.value)});function o(h){n.value=h,e.value=1}function l(){e.value=Mn(e.value+1,1,a.value)}function c(){e.value=Mn(e.value-1,1,a.value)}function u(h){e.value=Mn(h,1,a.value)}const d={page:e,itemsPerPage:n,startIndex:r,stopIndex:s,pageCount:a,itemsLength:i,nextPage:l,prevPage:c,setPage:u,setItemsPerPage:o};return Ut(GL,d),d}function sY(){const t=_t(GL);if(!t)throw new Error("Missing pagination!");return t}function WL(t){const{items:e,startIndex:n,stopIndex:i,itemsPerPage:r}=t;return{paginatedItems:I(()=>r.value<=0?e.value:e.value.slice(n.value,i.value))}}const aY={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},$L={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const r of e)n?i.add(r.value):i.delete(r.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return $L.select({items:n,value:e,selected:i})}},jL={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const r of e)n?i.add(r.value):i.delete(r.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return jL.select({items:n,value:e,selected:i})}},XL=re({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Sa}},"DataTable-select"),qL=Symbol.for("vuetify:data-table-selection");function mm(t,e){let{allItems:n,currentPage:i}=e;const r=Xe(t,"modelValue",t.modelValue,m=>new Set(mn(m).map(v=>{var x;return((x=n.value.find(y=>t.valueComparator(v,y.value)))==null?void 0:x.value)??v})),m=>[...m.values()]),s=I(()=>n.value.filter(m=>m.selectable)),a=I(()=>i.value.filter(m=>m.selectable)),o=I(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return aY;case"all":return jL;case"page":default:return $L}});function l(m){return mn(m).every(v=>r.value.has(v.value))}function c(m){return mn(m).some(v=>r.value.has(v.value))}function u(m,v){const x=o.value.select({items:m,value:v,selected:new Set(r.value)});r.value=x}function d(m){u([m],!l([m]))}function h(m){const v=o.value.selectAll({value:m,allItems:s.value,currentPage:a.value,selected:new Set(r.value)});r.value=v}const f=I(()=>r.value.size>0),p=I(()=>{const m=o.value.allSelected({allItems:s.value,currentPage:a.value});return!!m.length&&l(m)}),g={toggleSelect:d,select:u,selectAll:h,isSelected:l,isSomeSelected:c,someSelected:f,allSelected:p,showSelectAll:o.value.showSelectAll};return Ut(qL,g),g}function vm(){const t=_t(qL);if(!t)throw new Error("Missing selection!");return t}const YL=re({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),KL=Symbol.for("vuetify:data-table-sort");function gm(t){const e=Xe(t,"sortBy"),n=me(t,"mustSort"),i=me(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function ym(t){const{sortBy:e,mustSort:n,multiSort:i,page:r}=t,s=l=>{if(l.key==null)return;let c=e.value.map(d=>({...d}))??[];const u=c.find(d=>d.key===l.key);u?u.order==="desc"?n.value?u.order="asc":c=c.filter(d=>d.key!==l.key):u.order="desc":i.value?c=[...c,{key:l.key,order:"asc"}]:c=[{key:l.key,order:"asc"}],e.value=c,r&&(r.value=1)};function a(l){return!!e.value.find(c=>c.key===l.key)}const o={sortBy:e,toggleSort:s,isSorted:a};return Ut(KL,o),o}function oY(){const t=_t(KL);if(!t)throw new Error("Missing sort!");return t}function X_(t,e,n,i){const r=An();return{sortedItems:I(()=>n.value.length?lY(e.value,n.value,r.current.value,{...t.customKeySort,...i==null?void 0:i.value}):e.value)}}function lY(t,e,n,i){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return[...t].sort((s,a)=>{for(let o=0;o<e.length;o++){const l=e[o].key,c=e[o].order??"asc";if(c===!1)continue;let u=Eo(s.raw,l),d=Eo(a.raw,l);if(c==="desc"&&([u,d]=[d,u]),i!=null&&i[l]){const h=i[l](u,d);if(!h)continue;return h}if(u instanceof Date&&d instanceof Date)return u.getTime()-d.getTime();if([u,d]=[u,d].map(h=>h!=null?h.toString().toLocaleLowerCase():h),u!==d)return Bh(u)&&Bh(d)?0:Bh(u)?-1:Bh(d)?1:!isNaN(u)&&!isNaN(d)?Number(u)-Number(d):r.compare(u,d)}return 0})}const cY=re({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function uY(t,e){const n=t.returnObject?e:Bn(e,t.itemValue),i=Bn(e,t.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:e}}function dY(t,e){const n=[];for(const i of e)n.push(uY(t,i));return n}function hY(t){return{items:I(()=>dY(t,t.items))}}const fY=re({search:String,loading:Boolean,...Ge(),...cY(),...XL(),...YL(),...W_({itemsPerPage:5}),...VL(),...H_(),...Td(),...ot()},"VDataIterator"),pY=ve()({name:"VDataIterator",props:fY(),emits:{"update:modelValue":t=>!0,"update:groupBy":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"groupBy"),r=me(t,"search"),{items:s}=hY(t),{filteredItems:a}=Pd(t,s,r,{transform:H=>H.raw}),{sortBy:o,multiSort:l,mustSort:c}=gm(t),{page:u,itemsPerPage:d}=$_(t),{toggleSort:h}=ym({sortBy:o,multiSort:l,mustSort:c,page:u}),{sortByWithGroups:f,opened:p,extractRows:g,isGroupOpen:m,toggleGroup:v}=hm({groupBy:i,sortBy:o}),{sortedItems:x}=X_(t,a,f),{flatItems:y}=fm(x,i,p),b=I(()=>y.value.length),{startIndex:A,stopIndex:M,pageCount:E,prevPage:S,nextPage:_,setItemsPerPage:w,setPage:P}=j_({page:u,itemsPerPage:d,itemsLength:b}),{paginatedItems:R}=WL({items:y,startIndex:A,stopIndex:M,itemsPerPage:d}),N=I(()=>g(R.value)),{isSelected:k,select:z,selectAll:F,toggleSelect:j}=mm(t,{allItems:s,currentPage:N}),{isExpanded:X,toggleExpand:Z}=dm(t);pm({page:u,itemsPerPage:d,sortBy:o,groupBy:i,search:r});const J=I(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:E.value,toggleSort:h,prevPage:S,nextPage:_,setPage:P,setItemsPerPage:w,isSelected:k,select:z,selectAll:F,toggleSelect:j,isExpanded:X,toggleExpand:Z,isGroupOpen:m,toggleGroup:v,items:N.value,groupedItems:R.value}));return Ee(()=>C(t.tag,{class:["v-data-iterator",t.class],style:t.style},{default:()=>{var H,q,le,ue;return[(H=n.header)==null?void 0:H.call(n,J.value),R.value.length?(le=n.default)==null?void 0:le.call(n,J.value):(q=n["no-data"])==null?void 0:q.call(n),(ue=n.footer)==null?void 0:ue.call(n,J.value)]}})),{}}}),q_=re({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),qu=ve()({name:"VDataTableFooter",props:q_(),setup(t,e){let{slots:n}=e;const{t:i}=An(),{page:r,pageCount:s,startIndex:a,stopIndex:o,itemsLength:l,itemsPerPage:c,setItemsPerPage:u}=sY(),d=I(()=>t.itemsPerPageOptions.map(h=>typeof h=="number"?{value:h,title:h===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(h)}:{...h,title:i(h.title)}));return()=>{var h;return C("div",{class:"v-data-table-footer"},[(h=n.prepend)==null?void 0:h.call(n),C("div",{class:"v-data-table-footer__items-per-page"},[C("span",null,[i(t.itemsPerPageText)]),C(yL,{items:d.value,modelValue:c.value,"onUpdate:modelValue":f=>u(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),C("div",{class:"v-data-table-footer__info"},[C("div",null,[i(t.pageText,l.value?a.value+1:0,o.value,l.value)])]),C("div",{class:"v-data-table-footer__pagination"},[C(It,{icon:t.firstIcon,variant:"plain",onClick:()=>r.value=1,disabled:r.value===1,"aria-label":i(t.firstPageLabel)},null),C(It,{icon:t.prevIcon,variant:"plain",onClick:()=>r.value=Math.max(1,r.value-1),disabled:r.value===1,"aria-label":i(t.prevPageLabel)},null),t.showCurrentPage&&C("span",{key:"page",class:"v-data-table-footer__page"},[r.value]),C(It,{icon:t.nextIcon,variant:"plain",onClick:()=>r.value=Math.min(s.value,r.value+1),disabled:r.value===s.value,"aria-label":i(t.nextPageLabel)},null),C(It,{icon:t.lastIcon,variant:"plain",onClick:()=>r.value=s.value,disabled:r.value===s.value,"aria-label":i(t.lastPageLabel)},null)])])}}}),Y_=R9({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return C(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding},`v-data-table-column--align-${t.align}`],style:{height:Fe(t.height),width:Fe(t.width),left:Fe(t.fixedOffset||null)}},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}),mY=re({headers:Array},"DataTable-header"),ZL=Symbol.for("vuetify:data-table-headers"),JL={title:"",sortable:!1},vY={...JL,width:48};function gY(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let r=!1;for(let s=0;s<e.length;s++)if(e[s].priority>i){e.splice(s,0,{element:n,priority:i}),r=!0;break}r||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let r=0;r<e.length;r++)Math.floor(e[r].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function jy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)jy(n,e);return e}function QL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&QL(n.children,e);return e}function yY(t){if(t.key){if(t.key==="data-table-group")return JL;if(["data-table-expand","data-table-select"].includes(t.key))return vY}}function K_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>K_(n,e+1))):e}function bY(t){let e=!1;function n(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(a&&(s.fixed=!0),s.fixed)if(s.children)for(let o=s.children.length-1;o>=0;o--)n(s.children[o],!0);else e?isNaN(+s.width)&&(`${s.key}`,void 0):s.lastFixed=!0,e=!0;else if(s.children)for(let o=s.children.length-1;o>=0;o--)n(s.children[o]);else e=!1}for(let s=t.length-1;s>=0;s--)n(t[s]);function i(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return a;if(s.children){s.fixedOffset=a;for(const o of s.children)a=i(o,a)}else s.fixed&&(s.fixedOffset=a,a+=parseFloat(s.width||"0")||0);return a}let r=0;for(const s of t)r=i(s,r)}function _Y(t,e){const n=[];let i=0;const r=gY(t);for(;r.size()>0;){let a=r.count();const o=[];let l=1;for(;a>0;){const{element:c,priority:u}=r.dequeue(),d=e-i-K_(c);if(o.push({...c,rowspan:d??1,colspan:c.children?jy(c).length:1}),c.children)for(const h of c.children){const f=u%1+l/Math.pow(10,i+1);r.enqueue(h,i+d+f)}l+=1,a-=1}i+=1,n.push(o)}return{columns:t.map(a=>jy(a)).flat(),headers:n}}function eI(t){const e=[];for(const n of t){const i={...yY(n),...n},r=i.key??(typeof i.value=="string"?i.value:null),s=i.value??r??null,a={...i,key:r,value:s,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?eI(i.children):void 0};e.push(a)}return e}function Z_(t,e){const n=he([]),i=he([]),r=he(),s=he();Jt(()=>{var p,g,m;const l=(t.headers||Object.keys(t.items[0]??{}).map(v=>({key:v,title:Kr(v)}))).slice(),c=QL(l);(p=e==null?void 0:e.groupBy)!=null&&p.value.length&&!c.has("data-table-group")&&l.unshift({key:"data-table-group",title:"Group"}),(g=e==null?void 0:e.showSelect)!=null&&g.value&&!c.has("data-table-select")&&l.unshift({key:"data-table-select"}),(m=e==null?void 0:e.showExpand)!=null&&m.value&&!c.has("data-table-expand")&&l.push({key:"data-table-expand"});const u=eI(l);bY(u);const d=Math.max(...u.map(v=>K_(v)))+1,h=_Y(u,d);n.value=h.headers,i.value=h.columns;const f=h.headers.flat(1);r.value=f.reduce((v,x)=>(x.sortable&&x.key&&x.sort&&(v[x.key]=x.sort),v),{}),s.value=f.reduce((v,x)=>(x.key&&x.filter&&(v[x.key]=x.filter),v),{})});const a={headers:n,columns:i,sortFunctions:r,filterFunctions:s};return Ut(ZL,a),a}function bm(){const t=_t(ZL);if(!t)throw new Error("Missing headers!");return t}const tI=re({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:nt,default:"$sortAsc"},sortDescIcon:{type:nt,default:"$sortDesc"},...em()},"VDataTableHeaders"),nc=ve()({name:"VDataTableHeaders",props:tI(),setup(t,e){let{slots:n}=e;const{toggleSort:i,sortBy:r,isSorted:s}=oY(),{someSelected:a,allSelected:o,selectAll:l,showSelectAll:c}=vm(),{columns:u,headers:d}=bm(),{loaderClasses:h}=xd(t);function f(y,b){if(!(!t.sticky&&!y.fixed))return{position:"sticky",left:y.fixed?Fe(y.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${b})`:void 0}}function p(y){const b=r.value.find(A=>A.key===y.key);return b?b.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:g,backgroundColorStyles:m}=$t(t,"color"),v=I(()=>({headers:d.value,columns:u.value,toggleSort:i,isSorted:s,sortBy:r.value,someSelected:a.value,allSelected:o.value,selectAll:l,getSortIcon:p})),x=y=>{let{column:b,x:A,y:M}=y;const E=b.key==="data-table-select"||b.key==="data-table-expand";return C(Y_,Pe({tag:"th",align:b.align,class:["v-data-table__th",{"v-data-table__th--sortable":b.sortable,"v-data-table__th--sorted":s(b),"v-data-table__th--fixed":b.fixed},h.value],style:{width:Fe(b.width),minWidth:Fe(b.width),...f(b,M)},colspan:b.colspan,rowspan:b.rowspan,onClick:b.sortable?()=>i(b):void 0,fixed:b.fixed,lastFixed:b.lastFixed,noPadding:E},b.headerProps),{default:()=>{var w;const S=`header.${b.key}`,_={column:b,selectAll:l,isSorted:s,toggleSort:i,sortBy:r.value,someSelected:a.value,allSelected:o.value,getSortIcon:p};return n[S]?n[S](_):b.key==="data-table-select"?((w=n["header.data-table-select"])==null?void 0:w.call(n,_))??(c&&C(Ps,{modelValue:o.value,indeterminate:a.value&&!o.value,"onUpdate:modelValue":l},null)):C("div",{class:"v-data-table-header__content"},[C("span",null,[b.title]),b.sortable&&C(Bt,{key:"icon",class:"v-data-table-header__sort-icon",icon:p(b)},null),t.multiSort&&s(b)&&C("div",{key:"badge",class:["v-data-table-header__sort-badge",...g.value],style:m.value},[r.value.findIndex(P=>P.key===b.key)+1])])}})};Ee(()=>C(je,null,[n.headers?n.headers(v.value):d.value.map((y,b)=>C("tr",null,[y.map((A,M)=>C(x,{column:A,x:M,y:b},null))])),t.loading&&C("tr",{class:"v-data-table-progress"},[C("th",{colspan:u.value.length},[C(tm,{name:"v-data-table-progress",active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),xY=re({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),wY=ve()({name:"VDataTableGroupHeaderRow",props:xY(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:r,extractRows:s}=UL(),{isSelected:a,isSomeSelected:o,select:l}=vm(),{columns:c}=bm(),u=I(()=>s([t.item]));return()=>C("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[c.value.map(d=>{var h,f;if(d.key==="data-table-group"){const p=i(t.item)?"$expand":"$next",g=()=>r(t.item);return((h=n["data-table-group"])==null?void 0:h.call(n,{item:t.item,count:u.value.length,props:{icon:p,onClick:g}}))??C(Y_,{class:"v-data-table-group-header-row__column"},{default:()=>[C(It,{size:"small",variant:"text",icon:p,onClick:g},null),C("span",null,[t.item.value]),C("span",null,[Ti("("),u.value.length,Ti(")")])]})}if(d.key==="data-table-select"){const p=a(u.value),g=o(u.value)&&!p,m=v=>l(u.value,v);return((f=n["data-table-select"])==null?void 0:f.call(n,{props:{modelValue:p,indeterminate:g,"onUpdate:modelValue":m}}))??C("td",null,[C(Ps,{modelValue:p,indeterminate:g,"onUpdate:modelValue":m},null)])}return C("td",null,null)})])}}),SY=re({index:Number,item:Object,cellProps:[Object,Function],onClick:Pi(),onContextmenu:Pi(),onDblclick:Pi()},"VDataTableRow"),J_=ve()({name:"VDataTableRow",props:SY(),setup(t,e){let{slots:n}=e;const{isSelected:i,toggleSelect:r}=vm(),{isExpanded:s,toggleExpand:a}=FL(),{columns:o}=bm();Ee(()=>C("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)}],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&o.value.map((l,c)=>{const u=t.item,d=`item.${l.key}`,h={index:t.index,item:u.raw,internalItem:u,value:Eo(u.columns,l.key),column:l,isSelected:i,toggleSelect:r,isExpanded:s,toggleExpand:a},f=typeof t.cellProps=="function"?t.cellProps({index:h.index,item:h.item,internalItem:h.internalItem,value:h.value,column:l}):t.cellProps,p=typeof l.cellProps=="function"?l.cellProps({index:h.index,item:h.item,internalItem:h.internalItem,value:h.value}):l.cellProps;return C(Y_,Pe({align:l.align,fixed:l.fixed,fixedOffset:l.fixedOffset,lastFixed:l.lastFixed,noPadding:l.key==="data-table-select"||l.key==="data-table-expand",width:l.width},f,p),{default:()=>{var g,m;return n[d]?n[d](h):l.key==="data-table-select"?((g=n["item.data-table-select"])==null?void 0:g.call(n,h))??C(Ps,{disabled:!u.selectable,modelValue:i([u]),onClick:Yx(()=>r(u),["stop"])},null):l.key==="data-table-expand"?((m=n["item.data-table-expand"])==null?void 0:m.call(n,h))??C(It,{icon:s(u)?"$collapse":"$expand",size:"small",variant:"text",onClick:Yx(()=>a(u),["stop"])},null):i2(h.value)}})})]))}}),nI=re({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,rowProps:[Object,Function],cellProps:[Object,Function]},"VDataTableRows"),Po=ve()({name:"VDataTableRows",inheritAttrs:!1,props:nI(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:r}=bm(),{expandOnClick:s,toggleExpand:a,isExpanded:o}=FL(),{isSelected:l,toggleSelect:c}=vm(),{toggleGroup:u,isGroupOpen:d}=UL(),{t:h}=An();return Ee(()=>{var f,p;return t.loading?C("tr",{class:"v-data-table-rows-loading",key:"loading"},[C("td",{colspan:r.value.length},[((f=i.loading)==null?void 0:f.call(i))??h(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?C("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[C("td",{colspan:r.value.length},[((p=i["no-data"])==null?void 0:p.call(i))??h(t.noDataText)])]):C(je,null,[t.items.map((g,m)=>{var y;if(g.type==="group"){const b={index:m,item:g,columns:r.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:c,toggleGroup:u,isGroupOpen:d};return i["group-header"]?i["group-header"](b):C(wY,Pe({key:`group-header_${g.id}`,item:g},W1(n,":group-header",()=>b)),i)}const v={index:m,item:g.raw,internalItem:g,columns:r.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:c},x={...v,props:Pe({key:`item_${g.key??g.index}`,onClick:s.value?()=>{a(g)}:void 0,index:m,item:g,cellProps:t.cellProps},W1(n,":row",()=>v),typeof t.rowProps=="function"?t.rowProps({item:v.item,index:v.index,internalItem:v.internalItem}):t.rowProps)};return C(je,{key:x.props.key},[i.item?i.item(x):C(J_,x.props,i),o(g)&&((y=i["expanded-row"])==null?void 0:y.call(i,v))])})])}),{}}}),iI=re({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ge(),...Dn(),...ot(),...Mt()},"VTable"),Ro=ve()({name:"VTable",props:iI(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:r}=Ot(t),{densityClasses:s}=oi(t);return Ee(()=>C(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},r.value,s.value,t.class],style:t.style},{default:()=>{var a,o,l;return[(a=n.top)==null?void 0:a.call(n),n.default?C("div",{class:"v-table__wrapper",style:{height:Fe(t.height)}},[C("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),MY=re({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function EY(t,e,n,i){const r=t.returnObject?e:Bn(e,t.itemValue),s=Bn(e,t.itemSelectable,!0),a=i.reduce((o,l)=>(l.key!=null&&(o[l.key]=Bn(e,l.value)),o),{});return{type:"item",key:t.returnObject?Bn(e,t.itemValue):r,index:n,value:r,selectable:s,columns:a,raw:e}}function CY(t,e,n){return e.map((i,r)=>EY(t,i,r,n))}function Q_(t,e){return{items:I(()=>CY(t,t.items,e.value))}}const ex=re({...nI(),width:[String,Number],search:String,...VL(),...H_(),...mY(),...MY(),...XL(),...YL(),...tI(),...iI()},"DataTable"),AY=re({...W_(),...ex(),...Td(),...q_()},"VDataTable"),TY=ve()({name:"VDataTable",props:AY(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:r}=G_(t),{sortBy:s,multiSort:a,mustSort:o}=gm(t),{page:l,itemsPerPage:c}=$_(t),{columns:u,headers:d,sortFunctions:h,filterFunctions:f}=Z_(t,{groupBy:r,showSelect:me(t,"showSelect"),showExpand:me(t,"showExpand")}),{items:p}=Q_(t,u),g=me(t,"search"),{filteredItems:m}=Pd(t,p,g,{transform:be=>be.columns,customKeyFilter:f}),{toggleSort:v}=ym({sortBy:s,multiSort:a,mustSort:o,page:l}),{sortByWithGroups:x,opened:y,extractRows:b,isGroupOpen:A,toggleGroup:M}=hm({groupBy:r,sortBy:s}),{sortedItems:E}=X_(t,m,x,h),{flatItems:S}=fm(E,r,y),_=I(()=>S.value.length),{startIndex:w,stopIndex:P,pageCount:R,setItemsPerPage:N}=j_({page:l,itemsPerPage:c,itemsLength:_}),{paginatedItems:k}=WL({items:S,startIndex:w,stopIndex:P,itemsPerPage:c}),z=I(()=>b(k.value)),{isSelected:F,select:j,selectAll:X,toggleSelect:Z,someSelected:J,allSelected:H}=mm(t,{allItems:p,currentPage:z}),{isExpanded:q,toggleExpand:le}=dm(t);pm({page:l,itemsPerPage:c,sortBy:s,groupBy:r,search:g}),en({VDataTableRows:{hideNoData:me(t,"hideNoData"),noDataText:me(t,"noDataText"),loading:me(t,"loading"),loadingText:me(t,"loadingText")}});const ue=I(()=>({page:l.value,itemsPerPage:c.value,sortBy:s.value,pageCount:R.value,toggleSort:v,setItemsPerPage:N,someSelected:J.value,allSelected:H.value,isSelected:F,select:j,selectAll:X,toggleSelect:Z,isExpanded:q,toggleExpand:le,isGroupOpen:A,toggleGroup:M,items:z.value.map(be=>be.raw),internalItems:z.value,groupedItems:k.value,columns:u.value,headers:d.value}));return Ee(()=>{const be=qu.filterProps(t),ae=nc.filterProps(t),Ae=Po.filterProps(t),ee=Ro.filterProps(t);return C(Ro,Pe({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},ee),{top:()=>{var L;return(L=i.top)==null?void 0:L.call(i,ue.value)},default:()=>{var L,B,W,T,D,V;return i.default?i.default(ue.value):C(je,null,[(L=i.colgroup)==null?void 0:L.call(i,ue.value),C("thead",null,[C(nc,ae,i)]),(B=i.thead)==null?void 0:B.call(i,ue.value),C("tbody",null,[(W=i["body.prepend"])==null?void 0:W.call(i,ue.value),i.body?i.body(ue.value):C(Po,Pe(n,Ae,{items:k.value}),i),(T=i["body.append"])==null?void 0:T.call(i,ue.value)]),(D=i.tbody)==null?void 0:D.call(i,ue.value),(V=i.tfoot)==null?void 0:V.call(i,ue.value)])},bottom:()=>i.bottom?i.bottom(ue.value):C(je,null,[C(qu,be,{prepend:i["footer.prepend"]})])})}),{}}}),PY=re({...ex(),...H_(),...vL(),...Td()},"VDataTableVirtual"),RY=ve()({name:"VDataTableVirtual",props:PY(),emits:{"update:modelValue":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:r}=G_(t),{sortBy:s,multiSort:a,mustSort:o}=gm(t),{columns:l,headers:c,sortFunctions:u,filterFunctions:d}=Z_(t,{groupBy:r,showSelect:me(t,"showSelect"),showExpand:me(t,"showExpand")}),{items:h}=Q_(t,l),f=me(t,"search"),{filteredItems:p}=Pd(t,h,f,{transform:ae=>ae.columns,customKeyFilter:d}),{toggleSort:g}=ym({sortBy:s,multiSort:a,mustSort:o}),{sortByWithGroups:m,opened:v,extractRows:x,isGroupOpen:y,toggleGroup:b}=hm({groupBy:r,sortBy:s}),{sortedItems:A}=X_(t,p,m,u),{flatItems:M}=fm(A,r,v),E=I(()=>x(M.value)),{isSelected:S,select:_,selectAll:w,toggleSelect:P,someSelected:R,allSelected:N}=mm(t,{allItems:E,currentPage:E}),{isExpanded:k,toggleExpand:z}=dm(t),{containerRef:F,markerRef:j,paddingTop:X,paddingBottom:Z,computedItems:J,handleItemResize:H,handleScroll:q,handleScrollend:le}=gL(t,M),ue=I(()=>J.value.map(ae=>ae.raw));pm({sortBy:s,page:Le(1),itemsPerPage:Le(-1),groupBy:r,search:f}),en({VDataTableRows:{hideNoData:me(t,"hideNoData"),noDataText:me(t,"noDataText"),loading:me(t,"loading"),loadingText:me(t,"loadingText")}});const be=I(()=>({sortBy:s.value,toggleSort:g,someSelected:R.value,allSelected:N.value,isSelected:S,select:_,selectAll:w,toggleSelect:P,isExpanded:k,toggleExpand:z,isGroupOpen:y,toggleGroup:b,items:E.value.map(ae=>ae.raw),internalItems:E.value,groupedItems:M.value,columns:l.value,headers:c.value}));Ee(()=>{const ae=nc.filterProps(t),Ae=Po.filterProps(t),ee=Ro.filterProps(t);return C(Ro,Pe({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},ee),{top:()=>{var L;return(L=i.top)==null?void 0:L.call(i,be.value)},wrapper:()=>{var L,B;return C("div",{ref:F,onScrollPassive:q,onScrollend:le,class:"v-table__wrapper",style:{height:Fe(t.height)}},[C("table",null,[C("thead",null,[C(nc,Pe(ae,{sticky:t.fixedHeader}),i)]),C("tbody",null,[C("tr",{ref:j,style:{height:Fe(X.value),border:0}},[C("td",{colspan:l.value.length,style:{height:0,border:0}},null)]),(L=i["body.prepend"])==null?void 0:L.call(i,be.value),C(Po,Pe(n,Ae,{items:ue.value}),{...i,item:W=>C(mL,{key:W.internalItem.index,renderless:!0,"onUpdate:height":T=>H(W.internalItem.index,T)},{default:T=>{var V;let{itemRef:D}=T;return((V=i.item)==null?void 0:V.call(i,{...W,itemRef:D}))??C(J_,Pe(W.props,{ref:D,key:W.internalItem.index,index:W.internalItem.index}),i)}})}),(B=i["body.append"])==null?void 0:B.call(i,be.value),C("tr",{style:{height:Fe(Z.value),border:0}},[C("td",{colspan:l.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var L;return(L=i.bottom)==null?void 0:L.call(i,be.value)}})})}}),LY=re({itemsLength:{type:[Number,String],required:!0},...W_(),...ex(),...q_()},"VDataTableServer"),IY=ve()({name:"VDataTableServer",props:LY(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:r}=G_(t),{sortBy:s,multiSort:a,mustSort:o}=gm(t),{page:l,itemsPerPage:c}=$_(t),u=I(()=>parseInt(t.itemsLength,10)),{columns:d,headers:h}=Z_(t,{groupBy:r,showSelect:me(t,"showSelect"),showExpand:me(t,"showExpand")}),{items:f}=Q_(t,d),{toggleSort:p}=ym({sortBy:s,multiSort:a,mustSort:o,page:l}),{opened:g,isGroupOpen:m,toggleGroup:v,extractRows:x}=hm({groupBy:r,sortBy:s}),{pageCount:y,setItemsPerPage:b}=j_({page:l,itemsPerPage:c,itemsLength:u}),{flatItems:A}=fm(f,r,g),{isSelected:M,select:E,selectAll:S,toggleSelect:_,someSelected:w,allSelected:P}=mm(t,{allItems:f,currentPage:f}),{isExpanded:R,toggleExpand:N}=dm(t),k=I(()=>x(f.value));pm({page:l,itemsPerPage:c,sortBy:s,groupBy:r,search:me(t,"search")}),Ut("v-data-table",{toggleSort:p,sortBy:s}),en({VDataTableRows:{hideNoData:me(t,"hideNoData"),noDataText:me(t,"noDataText"),loading:me(t,"loading"),loadingText:me(t,"loadingText")}});const z=I(()=>({page:l.value,itemsPerPage:c.value,sortBy:s.value,pageCount:y.value,toggleSort:p,setItemsPerPage:b,someSelected:w.value,allSelected:P.value,isSelected:M,select:E,selectAll:S,toggleSelect:_,isExpanded:R,toggleExpand:N,isGroupOpen:m,toggleGroup:v,items:k.value.map(F=>F.raw),internalItems:k.value,groupedItems:A.value,columns:d.value,headers:h.value}));Ee(()=>{const F=qu.filterProps(t),j=nc.filterProps(t),X=Po.filterProps(t),Z=Ro.filterProps(t);return C(Ro,Pe({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},Z),{top:()=>{var J;return(J=i.top)==null?void 0:J.call(i,z.value)},default:()=>{var J,H,q,le,ue,be;return i.default?i.default(z.value):C(je,null,[(J=i.colgroup)==null?void 0:J.call(i,z.value),C("thead",{class:"v-data-table__thead",role:"rowgroup"},[C(nc,Pe(j,{sticky:t.fixedHeader}),i)]),(H=i.thead)==null?void 0:H.call(i,z.value),C("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(q=i["body.prepend"])==null?void 0:q.call(i,z.value),i.body?i.body(z.value):C(Po,Pe(n,X,{items:A.value}),i),(le=i["body.append"])==null?void 0:le.call(i,z.value)]),(ue=i.tbody)==null?void 0:ue.call(i,z.value),(be=i.tfoot)==null?void 0:be.call(i,z.value)])},bottom:()=>i.bottom?i.bottom(z.value):C(qu,F,{prepend:i["footer.prepend"]})})})}}),kY=re({fluid:{type:Boolean,default:!1},...Ge(),...ot()},"VContainer"),DY=ve()({name:"VContainer",props:kY(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=Gn();return Ee(()=>C(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:t.style},n)),{}}}),rI=(()=>qp.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),sI=(()=>qp.reduce((t,e)=>{const n="offset"+Kr(e);return t[n]={type:[String,Number],default:null},t},{}))(),aI=(()=>qp.reduce((t,e)=>{const n="order"+Kr(e);return t[n]={type:[String,Number],default:null},t},{}))(),dM={col:Object.keys(rI),offset:Object.keys(sI),order:Object.keys(aI)};function OY(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const r=e.replace(t,"");i+=`-${r}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const VY=["auto","start","end","center","baseline","stretch"],NY=re({cols:{type:[Boolean,String,Number],default:!1},...rI,offset:{type:[String,Number],default:null},...sI,order:{type:[String,Number],default:null},...aI,alignSelf:{type:String,default:null,validator:t=>VY.includes(t)},...Ge(),...ot()},"VCol"),FY=ve()({name:"VCol",props:NY(),setup(t,e){let{slots:n}=e;const i=I(()=>{const r=[];let s;for(s in dM)dM[s].forEach(o=>{const l=t[o],c=OY(s,o,l);c&&r.push(c)});const a=r.some(o=>o.startsWith("v-col-"));return r.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),r});return()=>{var r;return hr(t.tag,{class:[i.value,t.class],style:t.style},(r=n.default)==null?void 0:r.call(n))}}}),tx=["start","end","center"],oI=["space-between","space-around","space-evenly"];function nx(t,e){return qp.reduce((n,i)=>{const r=t+Kr(i);return n[r]=e(),n},{})}const BY=[...tx,"baseline","stretch"],lI=t=>BY.includes(t),cI=nx("align",()=>({type:String,default:null,validator:lI})),UY=[...tx,...oI],uI=t=>UY.includes(t),dI=nx("justify",()=>({type:String,default:null,validator:uI})),zY=[...tx,...oI,"stretch"],hI=t=>zY.includes(t),fI=nx("alignContent",()=>({type:String,default:null,validator:hI})),hM={align:Object.keys(cI),justify:Object.keys(dI),alignContent:Object.keys(fI)},HY={align:"align",justify:"justify",alignContent:"align-content"};function GY(t,e,n){let i=HY[t];if(n!=null){if(e){const r=e.replace(t,"");i+=`-${r}`}return i+=`-${n}`,i.toLowerCase()}}const WY=re({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:lI},...cI,justify:{type:String,default:null,validator:uI},...dI,alignContent:{type:String,default:null,validator:hI},...fI,...Ge(),...ot()},"VRow"),$Y=ve()({name:"VRow",props:WY(),setup(t,e){let{slots:n}=e;const i=I(()=>{const r=[];let s;for(s in hM)hM[s].forEach(a=>{const o=t[a],l=GY(s,a,o);l&&r.push(l)});return r.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),r});return()=>{var r;return hr(t.tag,{class:["v-row",i.value,t.class],style:t.style},(r=n.default)==null?void 0:r.call(n))}}}),pI=qi("v-spacer","div","VSpacer"),mI=re({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:[String],default:"$next"},prevIcon:{type:[String],default:"$prev"},modeIcon:{type:[String],default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Xy=ve()({name:"VDatePickerControls",props:mI(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=I(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),r=I(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),s=I(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=I(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function o(){n("click:prev")}function l(){n("click:next")}function c(){n("click:year")}function u(){n("click:month")}return Ee(()=>C("div",{class:["v-date-picker-controls"]},[C(It,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:u},null),C(It,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:r.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:c},null),C(pI,{key:"mode-spacer"},null),C("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[C(It,{disabled:s.value,icon:t.prevIcon,variant:"text",onClick:o},null),C(It,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:l},null)])])),{}}}),jY=re({appendIcon:String,color:String,header:String,transition:String,onClick:Pi()},"VDatePickerHeader"),qy=ve()({name:"VDatePickerHeader",props:jY(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:r,backgroundColorStyles:s}=$t(t,"color");function a(){n("click")}function o(){n("click:append")}return Ee(()=>{const l=!!(i.default||t.header),c=!!(i.append||t.appendIcon);return C("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},r.value],style:s.value,onClick:a},[i.prepend&&C("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&C(cr,{key:"content",name:t.transition},{default:()=>{var u;return[C("div",{key:t.header,class:"v-date-picker-header__content"},[((u=i.default)==null?void 0:u.call(i))??t.header])]}}),c&&C("div",{class:"v-date-picker-header__append"},[i.append?C(Ct,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var u;return[(u=i.append)==null?void 0:u.call(i)]}}):C(It,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),vI=re({allowedDates:[Array,Function],disabled:Boolean,color:String,month:[Number,String],hideWeekdays:Boolean,max:null,min:null,modelValue:Array,multiple:Boolean,showAdjacentMonths:Boolean,showWeek:Boolean,year:[Number,String]},"VDatePickerMonth"),Yy=ve()({name:"VDatePickerMonth",props:vI(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=he(),s=Xp(),a=Xe(t,"modelValue",[],g=>mn(g)),o=I(()=>{var m;const g=(m=a.value)==null?void 0:m[0];return g&&s.isValid(g)?g:s.date()}),l=Xe(t,"year",void 0,g=>{let m=s.date(o.value);return g!=null&&(m=s.setYear(m,Number(g))),s.startOfYear(m)},g=>s.getYear(g)),c=Xe(t,"month",void 0,g=>{let m=s.date(o.value);return g!=null&&(m=s.setMonth(m,Number(g))),m=s.setYear(m,s.getYear(l.value)),m},g=>s.getMonth(g)),u=I(()=>{const g=s.getWeekArray(c.value),m=g.flat(),v=6*7;if(m.length<v){const x=m[m.length-1];let y=[];for(let b=1;b<=v-m.length;b++)y.push(s.addDays(x,b)),b%7===0&&(g.push(y),y=[])}return g}),d=I(()=>{const g=u.value.flat(),m=s.date();return g.map((v,x)=>{const y=s.toISO(v),b=!s.isSameMonth(v,c.value);return{date:v,isoDate:y,formatted:s.format(v,"keyboardDate"),year:s.getYear(v),month:s.getMonth(v),isDisabled:f(v),isWeekStart:x%7===0,isWeekEnd:x%7===6,isSelected:a.value.some(A=>s.isSameDay(v,A)),isToday:s.isSameDay(v,m),isAdjacent:b,isHidden:b&&!t.showAdjacentMonths,isHovered:!1,localized:s.format(v,"dayOfMonth")}})}),h=I(()=>u.value.map(g=>l7(s,g[0])));function f(g){if(t.disabled)return!0;const m=s.date(g);return t.min&&s.isAfter(t.min,m)||t.max&&s.isAfter(m,t.max)?!0:Array.isArray(t.allowedDates)?!t.allowedDates.some(v=>s.isSameDay(s.date(v),m)):typeof t.allowedDates=="function"?!t.allowedDates(m):!1}function p(g){if(t.multiple){const m=a.value.findIndex(v=>s.isSameDay(v,g));if(m===-1)a.value=[...a.value,g];else{const v=[...a.value];v.splice(m,1),a.value=v}}else a.value=[g]}return()=>C("div",{class:"v-date-picker-month"},[t.showWeek&&C("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&C("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Ti("")]),h.value.map(g=>C("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[g]))]),C("div",{ref:r,class:"v-date-picker-month__days"},[!t.hideWeekdays&&s.getWeekdays().map(g=>C("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[g])),d.value.map((g,m)=>{const v={props:{onClick:()=>p(g.date)},item:g,i:m};return C("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":g.isAdjacent,"v-date-picker-month__day--hide-adjacent":g.isHidden,"v-date-picker-month__day--hovered":g.isHovered,"v-date-picker-month__day--selected":g.isSelected,"v-date-picker-month__day--week-end":g.isWeekEnd,"v-date-picker-month__day--week-start":g.isWeekStart}],"data-v-date":g.isDisabled?void 0:g.isoDate},[(t.showAdjacentMonths||!g.isAdjacent)&&C(Ct,{defaults:{VBtn:{color:(g.isSelected||g.isToday)&&!g.isDisabled?t.color:void 0,disabled:g.isDisabled,icon:!0,ripple:!1,text:g.localized,variant:g.isDisabled?"text":g.isToday&&!g.isSelected?"outlined":"flat",onClick:()=>p(g.date)}}},{default:()=>{var x;return[((x=i.day)==null?void 0:x.call(i,v))??C(It,v.props,null)]}})])})])])}}),gI=re({color:String,height:[String,Number],modelValue:Number},"VDatePickerMonths"),Ky=ve()({name:"VDatePickerMonths",props:gI(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xp(),r=Xe(t,"modelValue"),s=I(()=>{let a=i.startOfYear(i.date());return Vr(12).map(o=>{const l=i.format(a,"monthShort");return a=i.getNextMonth(a),{text:l,value:o}})});return Jt(()=>{r.value=r.value??i.getMonth(i.date())}),Ee(()=>C("div",{class:"v-date-picker-months",style:{height:Fe(t.height)}},[C("div",{class:"v-date-picker-months__content"},[s.value.map((a,o)=>{var u;const l={active:r.value===o,color:r.value===o?t.color:void 0,rounded:!0,text:a.text,variant:r.value===a.value?"flat":"text",onClick:()=>c(o)};function c(d){r.value=d}return((u=n.month)==null?void 0:u.call(n,{month:a,i:o,props:l}))??C(It,Pe({key:"month"},l,{onClick:()=>c(o)}),null)})])])),{}}}),yI=re({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Zy=ve()({name:"VDatePickerYears",props:yI(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xp(),r=Xe(t,"modelValue"),s=I(()=>{const o=i.getYear(i.date());let l=o-100,c=o+52;t.min&&(l=i.getYear(i.date(t.min))),t.max&&(c=i.getYear(i.date(t.max)));let u=i.startOfYear(i.date());return u=i.setYear(u,l),Vr(c-l+1,l).map(d=>{const h=i.format(u,"year");return u=i.setYear(u,i.getYear(u)+1),{text:h,value:d}})});Jt(()=>{r.value=r.value??i.getYear(i.date())});const a=he();return vn(async()=>{var o;await Pt(),(o=a.value)==null||o.$el.scrollIntoView({block:"center"})}),Ee(()=>C("div",{class:"v-date-picker-years",style:{height:Fe(t.height)}},[C("div",{class:"v-date-picker-years__content"},[s.value.map((o,l)=>{var u;const c={ref:r.value===o.value?a:void 0,active:r.value===o.value,color:r.value===o.value?t.color:void 0,rounded:!0,text:o.text,variant:r.value===o.value?"flat":"text",onClick:()=>r.value=o.value};return((u=n.year)==null?void 0:u.call(n,{year:o,i:l,props:c}))??C(It,Pe({key:"month"},c),null)})])])),{}}}),XY=qi("v-picker-title"),bI=re({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...um()},"VPicker"),fM=ve()({name:"VPicker",props:bI(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=$t(me(t,"color"));return Ee(()=>{const s=To.filterProps(t),a=!!(t.title||n.title);return C(To,Pe(s,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var o;return[!t.hideHeader&&C("div",{key:"header",class:[i.value],style:[r.value]},[a&&C(XY,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??t.title]}}),n.header&&C("div",{class:"v-picker__header"},[n.header()])]),C("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&C(Ct,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[C("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),qY=re({calendarIcon:{type:String,default:"$calendar"},keyboardIcon:{type:String,default:"$edit"},inputMode:{type:String,default:"calendar"},inputText:{type:String,default:"$vuetify.datePicker.input.placeholder"},inputPlaceholder:{type:String,default:"dd/mm/yyyy"},header:{type:String,default:"$vuetify.datePicker.header"},...mI(),...vI(),...kn(gI(),["modelValue"]),...kn(yI(),["modelValue"]),...bI({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),YY=ve()({name:"VDatePicker",props:qY(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:inputMode":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=Xp(),{t:s}=An(),a=Xe(t,"modelValue",void 0,S=>mn(S),S=>t.multiple?S:S[0]),o=Xe(t,"viewMode"),l=Xe(t,"inputMode"),c=I(()=>{var _;const S=r.date((_=a.value)==null?void 0:_[0]);return S&&r.isValid(S)?S:r.date()}),u=he(Number(t.month??r.getMonth(r.startOfMonth(c.value)))),d=he(Number(t.year??r.getYear(r.startOfYear(r.setMonth(c.value,u.value))))),h=Le(!1),f=I(()=>t.multiple&&a.value.length>1?s("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&r.isValid(a.value[0])?r.format(a.value[0],"normalDateWithWeekday"):s(t.header)),p=I(()=>r.format(r.setYear(r.setMonth(r.date(),u.value),d.value),"monthAndYear")),g=I(()=>`date-picker-header${h.value?"-reverse":""}-transition`),m=I(()=>{const S=r.date(t.min);return t.min&&r.isValid(S)?S:null}),v=I(()=>{const S=r.date(t.max);return t.max&&r.isValid(S)?S:null}),x=I(()=>{if(t.disabled)return!0;const S=[];if(o.value!=="month")S.push("prev","next");else{let _=r.date();if(_=r.setYear(_,d.value),_=r.setMonth(_,u.value),m.value){const w=r.addDays(r.startOfMonth(_),-1);r.isAfter(m.value,w)&&S.push("prev")}if(v.value){const w=r.addDays(r.endOfMonth(_),1);r.isAfter(w,v.value)&&S.push("next")}}return S});function y(){l.value=l.value==="calendar"?"keyboard":"calendar"}function b(){u.value<11?(u.value++,n("update:month",u.value)):(d.value++,u.value=0,n("update:year",d.value))}function A(){u.value>0?(u.value--,n("update:month",u.value)):(d.value--,u.value=11,n("update:year",u.value))}function M(){o.value=o.value==="months"?"month":"months"}function E(){o.value=o.value==="year"?"month":"year"}return Re(u,()=>{o.value==="months"&&M()}),Re(d,()=>{o.value==="year"&&E()}),Re(a,(S,_)=>{const w=r.date(mn(S)[0]),P=r.date(mn(_)[0]);h.value=r.isBefore(w,P)}),Ee(()=>{const S=fM.filterProps(t),_=Xy.filterProps(t),w=qy.filterProps(t),P=Yy.filterProps(t),R=kn(Ky.filterProps(t),["modelValue"]),N=kn(Zy.filterProps(t),["modelValue"]),k={header:f.value,transition:g.value,"onClick:append":y};return C(fM,Pe(S,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var z;return((z=i.title)==null?void 0:z.call(i))??C("div",{class:"v-date-picker__title"},[s(t.title)])},header:()=>i.header?C(Ct,{defaults:{VDatePickerHeader:{...k}}},{default:()=>{var z;return[(z=i.header)==null?void 0:z.call(i,k)]}}):C(qy,Pe({key:"header"},w,k),i),default:()=>t.inputMode==="calendar"?C(je,null,[C(Xy,Pe(_,{disabled:x.value,text:p.value,"onClick:next":b,"onClick:prev":A,"onClick:month":M,"onClick:year":E}),null),C(Bf,{hideOnLeave:!0},{default:()=>[o.value==="months"?C(Ky,Pe({key:"date-picker-months"},R,{modelValue:u.value,"onUpdate:modelValue":z=>u.value=z,min:m.value,max:v.value}),null):o.value==="year"?C(Zy,Pe({key:"date-picker-years"},N,{modelValue:d.value,"onUpdate:modelValue":z=>d.value=z,min:m.value,max:v.value}),null):C(Yy,Pe({key:"date-picker-month"},P,{modelValue:a.value,"onUpdate:modelValue":z=>a.value=z,month:u.value,"onUpdate:month":z=>u.value=z,year:d.value,"onUpdate:year":z=>d.value=z,min:m.value,max:v.value}),null)]})]):C("div",{class:"v-date-picker__input"},[C(ya,{label:s(t.inputText),placeholder:t.inputPlaceholder},null)]),actions:i.actions})}),{}}}),Yu=Symbol.for("vuetify:v-expansion-panel"),KY=["default","accordion","inset","popout"],ZY=re({color:String,static:Boolean,variant:{type:String,default:"default",validator:t=>KY.includes(t)},readonly:Boolean,...Ge(),...Go(),...ot(),...Mt()},"VExpansionPanels"),JY=ve()({name:"VExpansionPanels",props:ZY(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;Ea(t,Yu);const{themeClasses:i}=Ot(t),r=I(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return en({VExpansionPanel:{color:me(t,"color")},VExpansionPanelTitle:{readonly:me(t,"readonly"),static:me(t,"static")}}),Ee(()=>C(t.tag,{class:["v-expansion-panels",i.value,r.value,t.class],style:t.style},n)),{}}}),QY=re({...Ge(),...sm()},"VExpansionPanelText"),_I=ve()({name:"VExpansionPanelText",props:QY(),setup(t,e){let{slots:n}=e;const i=_t(Yu);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:s}=D_(t,i.isSelected);return Ee(()=>C(Zp,{onAfterLeave:s},{default:()=>{var a;return[St(C("div",{class:["v-expansion-panel-text",t.class],style:t.style},[n.default&&r.value&&C("div",{class:"v-expansion-panel-text__wrapper"},[(a=n.default)==null?void 0:a.call(n)])]),[[Jr,i.isSelected.value]])]}})),{}}}),xI=re({color:String,expandIcon:{type:nt,default:"$expand"},collapseIcon:{type:nt,default:"$collapse"},hideActions:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ge()},"VExpansionPanelTitle"),wI=ve()({name:"VExpansionPanelTitle",directives:{Ripple:Vs},props:xI(),setup(t,e){let{slots:n}=e;const i=_t(Yu);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:s}=$t(t,"color"),a=I(()=>({collapseIcon:t.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly}));return Ee(()=>{var o;return St(C("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--static":t.static},r.value,t.class],style:[s.value,t.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:t.readonly?void 0:i.toggle},[C("span",{class:"v-expansion-panel-title__overlay"},null),(o=n.default)==null?void 0:o.call(n,a.value),!t.hideActions&&C("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(a.value):C(Bt,{icon:i.isSelected.value?t.collapseIcon:t.expandIcon},null)])]),[[qn("ripple"),t.ripple]])}),{}}}),eK=re({title:String,text:String,bgColor:String,...Ge(),...Tn(),...Wo(),...sm(),...tn(),...ot(),...xI()},"VExpansionPanel"),tK=ve()({name:"VExpansionPanel",props:eK(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$o(t,Yu),{backgroundColorClasses:r,backgroundColorStyles:s}=$t(t,"bgColor"),{elevationClasses:a}=Wn(t),{roundedClasses:o}=on(t),l=I(()=>(i==null?void 0:i.disabled.value)||t.disabled),c=I(()=>i.group.items.value.reduce((h,f,p)=>(i.group.selected.value.includes(f.id)&&h.push(p),h),[])),u=I(()=>{const h=i.group.items.value.findIndex(f=>f.id===i.id);return!i.isSelected.value&&c.value.some(f=>f-h===1)}),d=I(()=>{const h=i.group.items.value.findIndex(f=>f.id===i.id);return!i.isSelected.value&&c.value.some(f=>f-h===-1)});return Ut(Yu,i),en({VExpansionPanelText:{eager:me(t,"eager")}}),Ee(()=>{const h=!!(n.text||t.text),f=!!(n.title||t.title);return C(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":u.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},o.value,r.value,t.class],style:[s.value,t.style]},{default:()=>{var p;return[C("div",{class:["v-expansion-panel__shadow",...a.value]},null),f&&C(wI,{key:"title",collapseIcon:t.collapseIcon,color:t.color,expandIcon:t.expandIcon,hideActions:t.hideActions,ripple:t.ripple},{default:()=>[n.title?n.title():t.title]}),h&&C(_I,{key:"text"},{default:()=>[n.text?n.text():t.text]}),(p=n.default)==null?void 0:p.call(n)]}})}),{}}}),nK=re({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(t)},...Fs({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:t=>mn(t).every(e=>e!=null&&typeof e=="object")},...Ad({clearable:!0})},"VFileInput"),iK=ve()({name:"VFileInput",inheritAttrs:!1,props:nK(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{t:s}=An(),a=Xe(t,"modelValue"),{isFocused:o,focus:l,blur:c}=Ns(t),u=I(()=>typeof t.showSize!="boolean"?t.showSize:void 0),d=I(()=>(a.value??[]).reduce((_,w)=>{let{size:P=0}=w;return _+P},0)),h=I(()=>P1(d.value,u.value)),f=I(()=>(a.value??[]).map(_=>{const{name:w="",size:P=0}=_;return t.showSize?`${w} (${P1(P,u.value)})`:w})),p=I(()=>{var w;const _=((w=a.value)==null?void 0:w.length)??0;return t.showSize?s(t.counterSizeString,_,h.value):s(t.counterString,_)}),g=he(),m=he(),v=he(),x=I(()=>o.value||t.active),y=I(()=>["plain","underlined"].includes(t.variant));function b(){var _;v.value!==document.activeElement&&((_=v.value)==null||_.focus()),o.value||l()}function A(_){E(_)}function M(_){i("mousedown:control",_)}function E(_){var w;(w=v.value)==null||w.click(),i("click:control",_)}function S(_){_.stopPropagation(),b(),Pt(()=>{a.value=[],f_(t["onClick:clear"],_)})}return Re(a,_=>{(!Array.isArray(_)||!_.length)&&v.value&&(v.value.value="")}),Ee(()=>{const _=!!(r.counter||t.counter),w=!!(_||r.details),[P,R]=Ma(n),{modelValue:N,...k}=Xn.filterProps(t),z=O_(t);return C(Xn,Pe({ref:g,modelValue:a.value,"onUpdate:modelValue":F=>a.value=F,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-input--plain-underlined":y.value},t.class],style:t.style,"onClick:prepend":A},P,k,{centerAffix:!y.value,focused:o.value}),{...r,default:F=>{let{id:j,isDisabled:X,isDirty:Z,isReadonly:J,isValid:H}=F;return C(wc,Pe({ref:m,"prepend-icon":t.prependIcon,onMousedown:M,onClick:E,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},z,{id:j.value,active:x.value||Z.value,dirty:Z.value,disabled:X.value,focused:o.value,error:H.value===!1}),{...r,default:q=>{var be;let{props:{class:le,...ue}}=q;return C(je,null,[C("input",Pe({ref:v,type:"file",readonly:J.value,disabled:X.value,multiple:t.multiple,name:t.name,onClick:ae=>{ae.stopPropagation(),J.value&&ae.preventDefault(),b()},onChange:ae=>{if(!ae.target)return;const Ae=ae.target;a.value=[...Ae.files??[]]},onFocus:b,onBlur:c},ue,R),null),C("div",{class:le},[!!((be=a.value)!=null&&be.length)&&(r.selection?r.selection({fileNames:f.value,totalBytes:d.value,totalBytesReadable:h.value}):t.chips?f.value.map(ae=>C(Ed,{key:ae,size:"small",color:t.color},{default:()=>[ae]})):f.value.join(", "))])])}})},details:w?F=>{var j,X;return C(je,null,[(j=r.details)==null?void 0:j.call(r,F),_&&C(je,null,[C("span",null,null),C(om,{active:!!((X=a.value)!=null&&X.length),value:p.value},r.counter)])])}:void 0})}),Ar({},g,m,v)}}),rK=re({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Ki(),...Ge(),...Tn(),...mc(),...tn(),...ot({tag:"footer"}),...Mt()},"VFooter"),sK=ve()({name:"VFooter",props:rK(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{backgroundColorClasses:r,backgroundColorStyles:s}=$t(me(t,"color")),{borderClasses:a}=pr(t),{elevationClasses:o}=Wn(t),{roundedClasses:l}=on(t),c=Le(32),{resizeRef:u}=qr(f=>{f.length&&(c.value=f[0].target.clientHeight)}),d=I(()=>t.height==="auto"?c.value:parseInt(t.height,10)),{layoutItemStyles:h}=vc({id:t.name,order:I(()=>parseInt(t.order,10)),position:I(()=>"bottom"),layoutSize:d,elementSize:I(()=>t.height==="auto"?void 0:d.value),active:I(()=>t.app),absolute:me(t,"absolute")});return Ee(()=>C(t.tag,{ref:u,class:["v-footer",i.value,r.value,a.value,o.value,l.value,t.class],style:[s.value,t.app?h.value:{height:Fe(t.height)},t.style]},n)),{}}}),aK=re({...Ge(),...Cj()},"VForm"),oK=ve()({name:"VForm",props:aK(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=Aj(t),s=he();function a(l){l.preventDefault(),r.reset()}function o(l){const c=l,u=r.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),i("submit",c),c.defaultPrevented||u.then(d=>{var f;let{valid:h}=d;h&&((f=s.value)==null||f.submit())}),c.preventDefault()}return Ee(()=>{var l;return C("form",{ref:s,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,r)])}),Ar(r,s)}}),lK=re({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...lL()},"VHover"),cK=ve()({name:"VHover",props:lK(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),{runOpenDelay:r,runCloseDelay:s}=cL(t,a=>!t.disabled&&(i.value=a));return()=>{var a;return(a=n.default)==null?void 0:a.call(n,{isHovering:i.value,props:{onMouseenter:r,onMouseleave:s}})}}}),uK=re({color:String,direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},side:{type:String,default:"end",validator:t=>["start","end","both"].includes(t)},mode:{type:String,default:"intersect",validator:t=>["intersect","manual"].includes(t)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...mi(),...ot()},"VInfiniteScroll"),pM=Xi({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootRef:null,rootMargin:String},emits:{intersect:(t,e)=>!0},setup(t,e){let{emit:n}=e;const{intersectionRef:i,isIntersecting:r}=Jp(s=>{},t.rootMargin?{rootMargin:t.rootMargin}:void 0);return Re(r,async s=>{n("intersect",t.side,s)}),Ee(()=>C("div",{class:"v-infinite-scroll-intersect",ref:i},[Ti("")])),{}}}),dK=ve()({name:"VInfiniteScroll",props:uK(),emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=he(),s=Le("ok"),a=Le("ok"),o=I(()=>Fe(t.margin)),l=Le(!1);function c(A){if(!r.value)return;const M=t.direction==="vertical"?"scrollTop":"scrollLeft";r.value[M]=A}function u(){if(!r.value)return 0;const A=t.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[A]}function d(){if(!r.value)return 0;const A=t.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[A]}function h(){if(!r.value)return 0;const A=t.direction==="vertical"?"clientHeight":"clientWidth";return r.value[A]}vn(()=>{r.value&&(t.side==="start"?c(d()):t.side==="both"&&c(d()/2-h()/2))});function f(A,M){A==="start"?s.value=M:A==="end"&&(a.value=M)}function p(A){return A==="start"?s.value:a.value}let g=0;function m(A,M){l.value=M,l.value&&v(A)}function v(A){if(t.mode!=="manual"&&!l.value)return;const M=p(A);if(!r.value||M==="loading")return;g=d(),f(A,"loading");function E(S){f(A,S),Pt(()=>{S==="empty"||S==="error"||(S==="ok"&&A==="start"&&c(d()-g+u()),t.mode!=="manual"&&Pt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{v(A)})})})}))})}i("load",{side:A,done:E})}const{t:x}=An();function y(A,M){var _,w,P,R,N;if(t.side!==A&&t.side!=="both")return;const E=()=>v(A),S={side:A,props:{onClick:E,color:t.color}};return M==="error"?(_=n.error)==null?void 0:_.call(n,S):M==="empty"?((w=n.empty)==null?void 0:w.call(n,S))??C("div",null,[x(t.emptyText)]):t.mode==="manual"?M==="loading"?((P=n.loading)==null?void 0:P.call(n,S))??C(tc,{indeterminate:!0,color:t.color},null):((R=n["load-more"])==null?void 0:R.call(n,S))??C(It,{variant:"outlined",color:t.color,onClick:E},{default:()=>[x(t.loadMoreText)]}):((N=n.loading)==null?void 0:N.call(n,S))??C(tc,{indeterminate:!0,color:t.color},null)}const{dimensionStyles:b}=vi(t);Ee(()=>{const A=t.tag,M=t.side==="start"||t.side==="both",E=t.side==="end"||t.side==="both",S=t.mode==="intersect";return C(A,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${t.direction}`,{"v-infinite-scroll--start":M,"v-infinite-scroll--end":E}],style:b.value},{default:()=>{var _;return[C("div",{class:"v-infinite-scroll__side"},[y("start",s.value)]),r.value&&M&&S&&C(pM,{key:"start",side:"start",onIntersect:m,rootRef:r.value,rootMargin:o.value},null),(_=n.default)==null?void 0:_.call(n),r.value&&E&&S&&C(pM,{key:"end",side:"end",onIntersect:m,rootRef:r.value,rootMargin:o.value},null),C("div",{class:"v-infinite-scroll__side"},[y("end",a.value)])]}})})}}),SI=Symbol.for("vuetify:v-item-group"),hK=re({...Ge(),...Go({selectedClass:"v-item--selected"}),...ot(),...Mt()},"VItemGroup"),fK=ve()({name:"VItemGroup",props:hK(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{isSelected:r,select:s,next:a,prev:o,selected:l}=Ea(t,SI);return()=>C(t.tag,{class:["v-item-group",i.value,t.class],style:t.style},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,select:s,next:a,prev:o,selected:l.value})]}})}}),pK=ve()({name:"VItem",props:Wo(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,select:r,toggle:s,selectedClass:a,value:o,disabled:l}=$o(t,SI);return()=>{var c;return(c=n.default)==null?void 0:c.call(n,{isSelected:i.value,selectedClass:a.value,select:r,toggle:s,value:o.value,disabled:l.value})}}}),mK=qi("v-kbd"),vK=re({...Ge(),...vR()},"VLayout"),gK=ve()({name:"VLayout",props:vK(),setup(t,e){let{slots:n}=e;const{layoutClasses:i,layoutStyles:r,getLayoutItem:s,items:a,layoutRef:o}=gR(t);return Ee(()=>{var l;return C("div",{ref:o,class:[i.value,t.class],style:[r.value,t.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:s,items:a}}}),yK=re({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Ge(),...mc()},"VLayoutItem"),bK=ve()({name:"VLayoutItem",props:yK(),setup(t,e){let{slots:n}=e;const{layoutItemStyles:i}=vc({id:t.name,order:I(()=>parseInt(t.order,10)),position:me(t,"position"),elementSize:me(t,"size"),layoutSize:me(t,"size"),active:me(t,"modelValue"),absolute:me(t,"absolute")});return()=>{var r;return C("div",{class:["v-layout-item",t.class],style:[i.value,t.style]},[(r=n.default)==null?void 0:r.call(n)])}}}),_K=re({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Ge(),...mi(),...ot(),...Ds({transition:"fade-transition"})},"VLazy"),xK=ve()({name:"VLazy",directives:{intersect:_d},props:_K(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=vi(t),r=Xe(t,"modelValue");function s(a){r.value||(r.value=a)}return Ee(()=>St(C(t.tag,{class:["v-lazy",t.class],style:[i.value,t.style]},{default:()=>[r.value&&C(cr,{transition:t.transition,appear:!0},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}})]}),[[qn("intersect"),{handler:s,options:t.options},null]])),{}}}),wK=re({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Ge()},"VLocaleProvider"),SK=ve()({name:"VLocaleProvider",props:wK(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=w7(t);return Ee(()=>{var r;return C("div",{class:["v-locale-provider",i.value,t.class],style:t.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),MK=re({scrollable:Boolean,...Ge(),...ot({tag:"main"})},"VMain"),EK=ve()({name:"VMain",props:MK(),setup(t,e){let{slots:n}=e;const{mainStyles:i}=A7(),{ssrBootStyles:r}=Uo();return Ee(()=>C(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[i.value,r.value,t.style]},{default:()=>{var s,a;return[t.scrollable?C("div",{class:"v-main__scroller"},[(s=n.default)==null?void 0:s.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}});function CK(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const r=Le(!1),s=Le(0),a=I(()=>{const c=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[c]:Fe(s.value)}:{top:i.value.top}]});vn(()=>{Re(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),ni(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const c=o>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),h=window.scrollY-Math.max(0,s.value-d),f=u.height+Math.max(s.value,d)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-d?(r.value="top",s.value=d):c==="up"&&r.value==="bottom"||c==="down"&&r.value==="top"?(s.value=window.scrollY+u.top-p,r.value=!0):c==="down"&&f<=0?(s.value=0,r.value="bottom"):c==="up"&&h<=0&&(p?r.value!=="top"&&(s.value=-h+p+d,r.value="top"):(s.value=u.top+h,r.value="top")),o=window.scrollY}return{isStuck:r,stickyStyles:a}}const AK=100,TK=20;function mM(t){const e=1.41421356237;return(t<0?-1:1)*Math.sqrt(Math.abs(t))*e}function vM(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=mM(e),r=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(r-i)*Math.abs(r),n===t.length-1&&(e*=.5)}return mM(e)*1e3}function PK(){const t={};function e(r){Array.from(r.changedTouches).forEach(s=>{(t[s.identifier]??(t[s.identifier]=new n9(TK))).push([r.timeStamp,s])})}function n(r){Array.from(r.changedTouches).forEach(s=>{delete t[s.identifier]})}function i(r){var c;const s=(c=t[r])==null?void 0:c.values().reverse();if(!s)throw new Error(`No samples for touch id ${r}`);const a=s[0],o=[],l=[];for(const u of s){if(a[0]-u[0]>AK)break;o.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:vM(o),y:vM(l),get direction(){const{x:u,y:d}=this,[h,f]=[Math.abs(u),Math.abs(d)];return h>f&&u>=0?"right":h>f&&u<=0?"left":f>h&&d>=0?"down":f>h&&d<=0?"up":RK()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function RK(){throw new Error}function LK(t){let{isActive:e,isTemporary:n,width:i,touchless:r,position:s}=t;vn(()=>{window.addEventListener("touchstart",v,{passive:!0}),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",y,{passive:!0})}),ni(()=>{window.removeEventListener("touchstart",v),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",y)});const a=I(()=>["left","right"].includes(s.value)),{addMovement:o,endTouch:l,getVelocity:c}=PK();let u=!1;const d=Le(!1),h=Le(0),f=Le(0);let p;function g(A,M){return(s.value==="left"?A:s.value==="right"?document.documentElement.clientWidth-A:s.value==="top"?A:s.value==="bottom"?document.documentElement.clientHeight-A:bl())-(M?i.value:0)}function m(A){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const E=s.value==="left"?(A-f.value)/i.value:s.value==="right"?(document.documentElement.clientWidth-A-f.value)/i.value:s.value==="top"?(A-f.value)/i.value:s.value==="bottom"?(document.documentElement.clientHeight-A-f.value)/i.value:bl();return M?Math.max(0,Math.min(1,E)):E}function v(A){if(r.value)return;const M=A.changedTouches[0].clientX,E=A.changedTouches[0].clientY,S=25,_=s.value==="left"?M<S:s.value==="right"?M>document.documentElement.clientWidth-S:s.value==="top"?E<S:s.value==="bottom"?E>document.documentElement.clientHeight-S:bl(),w=e.value&&(s.value==="left"?M<i.value:s.value==="right"?M>document.documentElement.clientWidth-i.value:s.value==="top"?E<i.value:s.value==="bottom"?E>document.documentElement.clientHeight-i.value:bl());(_||w||e.value&&n.value)&&(u=!0,p=[M,E],f.value=g(a.value?M:E,e.value),h.value=m(a.value?M:E),l(A),o(A))}function x(A){const M=A.changedTouches[0].clientX,E=A.changedTouches[0].clientY;if(u){if(!A.cancelable){u=!1;return}const _=Math.abs(M-p[0]),w=Math.abs(E-p[1]);(a.value?_>w&&_>3:w>_&&w>3)?(d.value=!0,u=!1):(a.value?w:_)>3&&(u=!1)}if(!d.value)return;A.preventDefault(),o(A);const S=m(a.value?M:E,!1);h.value=Math.max(0,Math.min(1,S)),S>1?f.value=g(a.value?M:E,!0):S<0&&(f.value=g(a.value?M:E,!1))}function y(A){if(u=!1,!d.value)return;o(A),d.value=!1;const M=c(A.changedTouches[0].identifier),E=Math.abs(M.x),S=Math.abs(M.y);(a.value?E>S&&E>400:S>E&&S>3)?e.value=M.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||bl()):e.value=h.value>.5}const b=I(()=>d.value?{transform:s.value==="left"?`translateX(calc(-100% + ${h.value*i.value}px))`:s.value==="right"?`translateX(calc(100% - ${h.value*i.value}px))`:s.value==="top"?`translateY(calc(-100% + ${h.value*i.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${h.value*i.value}px))`:bl(),transition:"none"}:void 0);return{isDragging:d,dragProgress:h,dragStyles:b}}function bl(){throw new Error}const IK=["start","end","left","right","top","bottom"],kK=re({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>IK.includes(t)},sticky:Boolean,...Ki(),...Ge(),...__(),...Tn(),...mc(),...tn(),...ot({tag:"nav"}),...Mt()},"VNavigationDrawer"),DK=ve()({name:"VNavigationDrawer",props:kK(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{isRtl:s}=Gn(),{themeClasses:a}=Ot(t),{borderClasses:o}=pr(t),{backgroundColorClasses:l,backgroundColorStyles:c}=$t(me(t,"color")),{elevationClasses:u}=Wn(t),{displayClasses:d,mobile:h}=Bo(t),{roundedClasses:f}=on(t),p=TR(),g=Xe(t,"modelValue",null,J=>!!J),{ssrBootStyles:m}=Uo(),{scopeId:v}=xc(),x=he(),y=Le(!1),b=I(()=>t.rail&&t.expandOnHover&&y.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),A=I(()=>xy(t.location,s.value)),M=I(()=>!t.permanent&&(h.value||t.temporary)),E=I(()=>t.sticky&&!M.value&&A.value!=="bottom");wr(()=>t.expandOnHover&&t.rail!=null,()=>{Re(y,J=>i("update:rail",!J))}),wr(()=>!t.disableResizeWatcher,()=>{Re(M,J=>!t.permanent&&Pt(()=>g.value=!J))}),wr(()=>!t.disableRouteWatcher&&!!p,()=>{Re(p.currentRoute,()=>M.value&&(g.value=!1))}),Re(()=>t.permanent,J=>{J&&(g.value=!0)}),Qf(()=>{t.modelValue!=null||M.value||(g.value=t.permanent||!h.value)});const{isDragging:S,dragProgress:_,dragStyles:w}=LK({isActive:g,isTemporary:M,width:b,touchless:me(t,"touchless"),position:A}),P=I(()=>{const J=M.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):b.value;return S.value?J*_.value:J}),{layoutItemStyles:R,layoutItemScrimStyles:N}=vc({id:t.name,order:I(()=>parseInt(t.order,10)),position:A,layoutSize:P,elementSize:b,active:I(()=>g.value||S.value),disableTransitions:I(()=>S.value),absolute:I(()=>t.absolute||E.value&&typeof k.value!="string")}),{isStuck:k,stickyStyles:z}=CK({rootEl:x,isSticky:E,layoutItemStyles:R}),F=$t(I(()=>typeof t.scrim=="string"?t.scrim:null)),j=I(()=>({...S.value?{opacity:_.value*.2,transition:"none"}:void 0,...N.value}));en({VList:{bgColor:"transparent"}});function X(){y.value=!0}function Z(){y.value=!1}return Ee(()=>{const J=r.image||t.image;return C(je,null,[C(t.tag,Pe({ref:x,onMouseenter:X,onMouseleave:Z,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":y.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":M.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":E.value},a.value,l.value,o.value,d.value,u.value,f.value,t.class],style:[c.value,R.value,w.value,m.value,z.value,t.style]},v,n),{default:()=>{var H,q,le,ue;return[J&&C("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?(H=r.image)==null?void 0:H.call(r,{image:t.image}):C("img",{src:t.image,alt:""},null)]),r.prepend&&C("div",{class:"v-navigation-drawer__prepend"},[(q=r.prepend)==null?void 0:q.call(r)]),C("div",{class:"v-navigation-drawer__content"},[(le=r.default)==null?void 0:le.call(r)]),r.append&&C("div",{class:"v-navigation-drawer__append"},[(ue=r.append)==null?void 0:ue.call(r)])]}}),C(zr,{name:"fade-transition"},{default:()=>[M.value&&(S.value||g.value)&&!!t.scrim&&C("div",Pe({class:["v-navigation-drawer__scrim",F.backgroundColorClasses.value],style:[j.value,F.backgroundColorStyles.value],onClick:()=>g.value=!1},v),null)]})])}),{isStuck:k}}}),OK=Xi({name:"VNoSsr",setup(t,e){let{slots:n}=e;const i=dL();return()=>{var r;return i.value&&((r=n.default)==null?void 0:r.call(n))}}}),VK=re({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...mi(),...Md(),...zP(Ad({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),NK=ve()({name:"VOtpInput",props:VK(),emits:{finish:t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{dimensionStyles:s}=vi(t),{isFocused:a,focus:o,blur:l}=Ns(t),c=Xe(t,"modelValue","",E=>String(E).split(""),E=>E.join("")),{t:u}=An(),d=I(()=>Number(t.length)),h=I(()=>Array(d.value).fill(0)),f=he(-1),p=he(),g=he([]),m=I(()=>g.value[f.value]);function v(){if(t.type==="number"&&/[^0-9]/g.test(m.value.value)){m.value.value="";return}const E=c.value.slice(),S=m.value.value;E[f.value]=S;let _=null;f.value>c.value.length?_=c.value.length+1:f.value+1!==d.value&&(_="next"),c.value=E,_&&Zl(p.value,_)}function x(E){const S=c.value.slice(),_=f.value;let w=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(E.key)&&(E.preventDefault(),E.key==="ArrowLeft"?w="prev":E.key==="ArrowRight"?w="next":["Backspace","Delete"].includes(E.key)&&(S[f.value]="",c.value=S,f.value>0&&E.key==="Backspace"?w="prev":requestAnimationFrame(()=>{var P;(P=g.value[_])==null||P.select()})),requestAnimationFrame(()=>{w!=null&&Zl(p.value,w)}))}function y(E,S){var _,w;S.preventDefault(),S.stopPropagation(),c.value=(((_=S==null?void 0:S.clipboardData)==null?void 0:_.getData("Text"))??"").split(""),(w=g.value)==null||w[E].blur()}function b(){c.value=[]}function A(E,S){o(),f.value=S}function M(){l(),f.value=-1}return en({VField:{color:I(()=>t.color),bgColor:I(()=>t.color),baseColor:I(()=>t.baseColor),disabled:I(()=>t.disabled),error:I(()=>t.error),variant:I(()=>t.variant)}},{scoped:!0}),Re(c,E=>{E.length===d.value&&i("finish",E.join(""))},{deep:!0}),Re(f,E=>{E<0||Pt(()=>{var S;(S=g.value[E])==null||S.select()})}),Ee(()=>{var _;const[E,S]=Ma(n);return C("div",Pe({class:["v-otp-input",{"v-otp-input--divided":!!t.divider},t.class],style:[t.style]},E),[C("div",{ref:p,class:"v-otp-input__content",style:[s.value]},[h.value.map((w,P)=>C(je,null,[t.divider&&P!==0&&C("span",{class:"v-otp-input__divider"},[t.divider]),C(wc,{focused:a.value&&t.focusAll||f.value===P,key:P},{...r,default:()=>C("input",{ref:R=>g.value[P]=R,"aria-label":u(t.label,P+1),autofocus:P===0&&t.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],inputmode:t.type==="number"?"numeric":"text",min:t.type==="number"?0:void 0,maxlength:"1",placeholder:t.placeholder,type:t.type==="number"?"text":t.type,value:c.value[P],onInput:v,onFocus:R=>A(R,P),onBlur:M,onKeydown:x,onPaste:R=>y(P,R)},null)})])),C("input",Pe({class:"v-otp-input-input",type:"hidden"},S,{value:c.value.join("")}),null),C(Yr,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!t.loading,persistent:!0},{default:()=>{var w;return[((w=r.loader)==null?void 0:w.call(r))??C(tc,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(_=r.default)==null?void 0:_.call(r)])])}),{blur:()=>{var E;(E=g.value)==null||E.some(S=>S.blur())},focus:()=>{var E;(E=g.value)==null||E[0].focus()},reset:b,isFocused:a}}});function FK(){const t=he([]);rE(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const BK=re({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:nt,default:"$first"},prevIcon:{type:nt,default:"$prev"},nextIcon:{type:nt,default:"$next"},lastIcon:{type:nt,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Ki(),...Ge(),...Dn(),...Tn(),...tn(),...Os(),...ot({tag:"nav"}),...Mt(),...mr({variant:"text"})},"VPagination"),UK=ve()({name:"VPagination",props:BK(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=Xe(t,"modelValue"),{t:s,n:a}=An(),{isRtl:o}=Gn(),{themeClasses:l}=Ot(t),{width:c}=Bo(),u=Le(-1);en(void 0,{scoped:!0});const{resizeRef:d}=qr(S=>{if(!S.length)return;const{target:_,contentRect:w}=S[0],P=_.querySelector(".v-pagination__list > *");if(!P)return;const R=w.width,N=P.offsetWidth+parseFloat(getComputedStyle(P).marginRight)*2;u.value=g(R,N)}),h=I(()=>parseInt(t.length,10)),f=I(()=>parseInt(t.start,10)),p=I(()=>t.totalVisible?parseInt(t.totalVisible,10):u.value>=0?u.value:g(c.value,58));function g(S,_){const w=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-_*w)/_).toFixed(2)))}const m=I(()=>{if(h.value<=0||isNaN(h.value)||h.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=1)return[r.value];if(h.value<=p.value)return Vr(h.value,f.value);const S=p.value%2===0,_=S?p.value/2:Math.floor(p.value/2),w=S?_:_+1,P=h.value-_;if(w-r.value>=0)return[...Vr(Math.max(1,p.value-1),f.value),t.ellipsis,h.value];if(r.value-P>=(S?1:0)){const R=p.value-1,N=h.value-R+f.value;return[f.value,t.ellipsis,...Vr(R,N)]}else{const R=Math.max(1,p.value-3),N=R===1?r.value:r.value-Math.ceil(R/2)+f.value;return[f.value,t.ellipsis,...Vr(R,N),t.ellipsis,h.value]}});function v(S,_,w){S.preventDefault(),r.value=_,w&&i(w,_)}const{refs:x,updateRef:y}=FK();en({VPaginationBtn:{color:me(t,"color"),border:me(t,"border"),density:me(t,"density"),size:me(t,"size"),variant:me(t,"variant"),rounded:me(t,"rounded"),elevation:me(t,"elevation")}});const b=I(()=>m.value.map((S,_)=>{const w=P=>y(P,_);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${_}`,page:S,props:{ref:w,ellipsis:!0,icon:!0,disabled:!0}};{const P=S===r.value;return{isActive:P,key:S,page:a(S),props:{ref:w,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:P?t.activeColor:t.color,ariaCurrent:P,ariaLabel:s(P?t.currentPageAriaLabel:t.pageAriaLabel,S),onClick:R=>v(R,S)}}}})),A=I(()=>{const S=!!t.disabled||r.value<=f.value,_=!!t.disabled||r.value>=f.value+h.value-1;return{first:t.showFirstLastPage?{icon:o.value?t.lastIcon:t.firstIcon,onClick:w=>v(w,f.value,"first"),disabled:S,ariaLabel:s(t.firstAriaLabel),ariaDisabled:S}:void 0,prev:{icon:o.value?t.nextIcon:t.prevIcon,onClick:w=>v(w,r.value-1,"prev"),disabled:S,ariaLabel:s(t.previousAriaLabel),ariaDisabled:S},next:{icon:o.value?t.prevIcon:t.nextIcon,onClick:w=>v(w,r.value+1,"next"),disabled:_,ariaLabel:s(t.nextAriaLabel),ariaDisabled:_},last:t.showFirstLastPage?{icon:o.value?t.firstIcon:t.lastIcon,onClick:w=>v(w,f.value+h.value-1,"last"),disabled:_,ariaLabel:s(t.lastAriaLabel),ariaDisabled:_}:void 0}});function M(){var _;const S=r.value-f.value;(_=x.value[S])==null||_.$el.focus()}function E(S){S.key===yy.left&&!t.disabled&&r.value>+t.start?(r.value=r.value-1,Pt(M)):S.key===yy.right&&!t.disabled&&r.value<f.value+h.value-1&&(r.value=r.value+1,Pt(M))}return Ee(()=>C(t.tag,{ref:d,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":s(t.ariaLabel),onKeydown:E,"data-test":"v-pagination-root"},{default:()=>[C("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&C("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(A.value.first):C(It,Pe({_as:"VPaginationBtn"},A.value.first),null)]),C("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(A.value.prev):C(It,Pe({_as:"VPaginationBtn"},A.value.prev),null)]),b.value.map((S,_)=>C("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(S):C(It,Pe({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),C("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(A.value.next):C(It,Pe({_as:"VPaginationBtn"},A.value.next),null)]),t.showFirstLastPage&&C("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(A.value.last):C(It,Pe({_as:"VPaginationBtn"},A.value.last),null)])])]})),{}}});function zK(t){return Math.floor(Math.abs(t))*Math.sign(t)}const HK=re({scale:{type:[Number,String],default:.5},...Ge()},"VParallax"),GK=ve()({name:"VParallax",props:HK(),setup(t,e){let{slots:n}=e;const{intersectionRef:i,isIntersecting:r}=Jp(),{resizeRef:s,contentRect:a}=qr(),{height:o}=Bo(),l=he();Jt(()=>{var f;i.value=s.value=(f=l.value)==null?void 0:f.$el});let c;Re(r,f=>{f?(c=y_(i.value),c=c===document.scrollingElement?document:c,c.addEventListener("scroll",h,{passive:!0}),h()):c.removeEventListener("scroll",h)}),ni(()=>{c==null||c.removeEventListener("scroll",h)}),Re(o,h),Re(()=>{var f;return(f=a.value)==null?void 0:f.height},h);const u=I(()=>1-Mn(+t.scale));let d=-1;function h(){r.value&&(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var A;const f=((A=l.value)==null?void 0:A.$el).querySelector(".v-img__img");if(!f)return;const p=c instanceof Document?document.documentElement.clientHeight:c.clientHeight,g=c instanceof Document?window.scrollY:c.scrollTop,m=i.value.getBoundingClientRect().top+g,v=a.value.height,x=m+(v-p)/2,y=zK((g-x)*u.value),b=Math.max(1,(u.value*(p-v)+v)/v);f.style.setProperty("transform",`translateY(${y}px) scale(${b})`)}))}return Ee(()=>C(Co,{class:["v-parallax",{"v-parallax--active":r.value},t.class],style:t.style,ref:l,cover:!0,onLoadstart:h,onLoad:h},n)),{}}}),WK=re({...nm({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),$K=ve()({name:"VRadio",props:WK(),setup(t,e){let{slots:n}=e;return Ee(()=>C(Ao,Pe(t,{class:["v-radio",t.class],style:t.style,type:"radio"}),n)),{}}}),jK=re({height:{type:[Number,String],default:"auto"},...Fs(),...kn(R_(),["multiple"]),trueIcon:{type:nt,default:"$radioOn"},falseIcon:{type:nt,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),XK=ve()({name:"VRadioGroup",inheritAttrs:!1,props:jK(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const r=ai(),s=I(()=>t.id||`radio-group-${r}`),a=Xe(t,"modelValue");return Ee(()=>{const[o,l]=Ma(n),c=Xn.filterProps(t),u=Ao.filterProps(t),d=i.label?i.label({label:t.label,props:{for:s.value}}):t.label;return C(Xn,Pe({class:["v-radio-group",t.class],style:t.style},o,c,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,id:s.value}),{...i,default:h=>{let{id:f,messagesId:p,isDisabled:g,isReadonly:m}=h;return C(je,null,[d&&C(_c,{id:f.value},{default:()=>[d]}),C(BR,Pe(u,{id:f.value,"aria-describedby":p.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:g.value,readonly:m.value,"aria-labelledby":d?f.value:void 0,multiple:!1},l,{modelValue:a.value,"onUpdate:modelValue":v=>a.value=v}),i)])}})}),{}}}),qK=re({...Md(),...Fs(),...IL(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),YK=ve()({name:"VRangeSlider",props:qK(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=he(),s=he(),a=he(),{rtlClasses:o}=Gn();function l(_){if(!r.value||!s.value)return;const w=Gy(_,r.value.$el,t.direction),P=Gy(_,s.value.$el,t.direction),R=Math.abs(w),N=Math.abs(P);return R<N||R===N&&w<0?r.value.$el:s.value.$el}const c=kL(t),u=Xe(t,"modelValue",void 0,_=>_!=null&&_.length?_.map(w=>c.roundValue(w)):[0,0]),{activeThumbRef:d,hasLabels:h,max:f,min:p,mousePressed:g,onSliderMousedown:m,onSliderTouchstart:v,position:x,trackContainerRef:y}=DL({props:t,steps:c,onSliderStart:()=>{i("start",u.value)},onSliderEnd:_=>{var R;let{value:w}=_;const P=d.value===((R=r.value)==null?void 0:R.$el)?[w,u.value[1]]:[u.value[0],w];!t.strict&&P[0]<P[1]&&(u.value=P),i("end",u.value)},onSliderMove:_=>{var N,k,z,F;let{value:w}=_;const[P,R]=u.value;!t.strict&&P===R&&P!==p.value&&(d.value=w>P?(N=s.value)==null?void 0:N.$el:(k=r.value)==null?void 0:k.$el,(z=d.value)==null||z.focus()),d.value===((F=r.value)==null?void 0:F.$el)?u.value=[Math.min(w,R),R]:u.value=[P,Math.max(P,w)]},getActiveThumb:l}),{isFocused:b,focus:A,blur:M}=Ns(t),E=I(()=>x(u.value[0])),S=I(()=>x(u.value[1]));return Ee(()=>{const _=Xn.filterProps(t),w=!!(t.label||n.label||n.prepend);return C(Xn,Pe({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||h.value,"v-slider--focused":b.value,"v-slider--pressed":g.value,"v-slider--disabled":t.disabled},o.value,t.class],style:t.style,ref:a},_,{focused:b.value}),{...n,prepend:w?P=>{var R,N;return C(je,null,[((R=n.label)==null?void 0:R.call(n,P))??(t.label?C(_c,{class:"v-slider__label",text:t.label},null):void 0),(N=n.prepend)==null?void 0:N.call(n,P)])}:void 0,default:P=>{var k,z;let{id:R,messagesId:N}=P;return C("div",{class:"v-slider__container",onMousedown:m,onTouchstartPassive:v},[C("input",{id:`${R.value}_start`,name:t.name||R.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:u.value[0]},null),C("input",{id:`${R.value}_stop`,name:t.name||R.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:u.value[1]},null),C(OL,{ref:y,start:E.value,stop:S.value},{"tick-label":n["tick-label"]}),C(Wy,{ref:r,"aria-describedby":N.value,focused:b&&d.value===((k=r.value)==null?void 0:k.$el),modelValue:u.value[0],"onUpdate:modelValue":F=>u.value=[F,u.value[1]],onFocus:F=>{var j,X,Z,J;A(),d.value=(j=r.value)==null?void 0:j.$el,u.value[0]===u.value[1]&&u.value[1]===p.value&&F.relatedTarget!==((X=s.value)==null?void 0:X.$el)&&((Z=r.value)==null||Z.$el.blur(),(J=s.value)==null||J.$el.focus())},onBlur:()=>{M(),d.value=void 0},min:p.value,max:u.value[1],position:E.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]}),C(Wy,{ref:s,"aria-describedby":N.value,focused:b&&d.value===((z=s.value)==null?void 0:z.$el),modelValue:u.value[1],"onUpdate:modelValue":F=>u.value=[u.value[0],F],onFocus:F=>{var j,X,Z,J;A(),d.value=(j=s.value)==null?void 0:j.$el,u.value[0]===u.value[1]&&u.value[0]===f.value&&F.relatedTarget!==((X=r.value)==null?void 0:X.$el)&&((Z=s.value)==null||Z.$el.blur(),(J=r.value)==null||J.$el.focus())},onBlur:()=>{M(),d.value=void 0},min:u.value[0],max:f.value,position:S.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),KK=re({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:nt,default:"$ratingEmpty"},fullIcon:{type:nt,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...Ge(),...Dn(),...Os(),...ot(),...Mt()},"VRating"),ZK=ve()({name:"VRating",props:KK(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=An(),{themeClasses:r}=Ot(t),s=Xe(t,"modelValue"),a=I(()=>Mn(parseFloat(s.value),0,+t.length)),o=I(()=>Vr(Number(t.length),1)),l=I(()=>o.value.flatMap(g=>t.halfIncrements?[g-.5,g]:[g])),c=Le(-1),u=I(()=>l.value.map(g=>{const m=t.hover&&c.value>-1,v=a.value>=g,x=c.value>=g,b=(m?x:v)?t.fullIcon:t.emptyIcon,A=t.activeColor??t.color,M=v||x?A:t.color;return{isFilled:v,isHovered:x,icon:b,color:M}})),d=I(()=>[0,...l.value].map(g=>{function m(){c.value=g}function v(){c.value=-1}function x(){t.disabled||t.readonly||(s.value=a.value===g&&t.clearable?0:g)}return{onMouseenter:t.hover?m:void 0,onMouseleave:t.hover?v:void 0,onClick:x}})),h=I(()=>t.name??`v-rating-${ai()}`);function f(g){var S,_;let{value:m,index:v,showStar:x=!0}=g;const{onMouseenter:y,onMouseleave:b,onClick:A}=d.value[v+1],M=`${h.value}-${String(m).replace(".","-")}`,E={color:(S=u.value[v])==null?void 0:S.color,density:t.density,disabled:t.disabled,icon:(_=u.value[v])==null?void 0:_.icon,ripple:t.ripple,size:t.size,variant:"plain"};return C(je,null,[C("label",{for:M,class:{"v-rating__item--half":t.halfIncrements&&m%1>0,"v-rating__item--full":t.halfIncrements&&m%1===0},onMouseenter:y,onMouseleave:b,onClick:A},[C("span",{class:"v-rating__hidden"},[i(t.itemAriaLabel,m,t.length)]),x?n.item?n.item({...u.value[v],props:E,value:m,index:v,rating:a.value}):C(It,Pe({"aria-label":i(t.itemAriaLabel,m,t.length)},E),null):void 0]),C("input",{class:"v-rating__hidden",name:h.value,id:M,type:"radio",value:m,checked:a.value===m,tabindex:-1,readonly:t.readonly,disabled:t.disabled},null)])}function p(g){return n["item-label"]?n["item-label"](g):g.label?C("span",null,[g.label]):C("span",null,[Ti("")])}return Ee(()=>{var m;const g=!!((m=t.itemLabels)!=null&&m.length)||n["item-label"];return C(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},r.value,t.class],style:t.style},{default:()=>[C(f,{value:0,index:-1,showStar:!1},null),o.value.map((v,x)=>{var y,b;return C("div",{class:"v-rating__wrapper"},[g&&t.itemLabelPosition==="top"?p({value:v,index:x,label:(y=t.itemLabels)==null?void 0:y[x]}):void 0,C("div",{class:"v-rating__item"},[t.halfIncrements?C(je,null,[C(f,{value:v-.5,index:x*2},null),C(f,{value:v,index:x*2+1},null)]):C(f,{value:v,index:x},null)]),g&&t.itemLabelPosition==="bottom"?p({value:v,index:x,label:(b=t.itemLabels)==null?void 0:b[x]}):void 0])})]})}),{}}}),JK={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function QK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return C("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function gM(t){const[e,n]=t.split("@");return Array.from({length:n}).map(()=>_m(e))}function _m(t){let e=[];if(!t)return e;const n=JK[t];if(t!==n){if(t.includes(","))return yM(t);if(t.includes("@"))return gM(t);n.includes(",")?e=yM(n):n.includes("@")?e=gM(n):n&&e.push(_m(n))}return[QK(t,e)]}function yM(t){return t.replace(/\s/g,"").split(",").map(_m)}const eZ=re({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...mi(),...Tn(),...Mt()},"VSkeletonLoader"),tZ=ve()({name:"VSkeletonLoader",props:eZ(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=$t(me(t,"color")),{dimensionStyles:s}=vi(t),{elevationClasses:a}=Wn(t),{themeClasses:o}=Ot(t),{t:l}=An(),c=I(()=>_m(mn(t.type).join(",")));return Ee(()=>{var d;const u=!n.default||t.loading;return C("div",{class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},o.value,i.value,a.value],style:[r.value,u?s.value:{}],"aria-busy":t.boilerplate?void 0:u,"aria-live":t.boilerplate?void 0:"polite","aria-label":t.boilerplate?void 0:l(t.loadingText),role:t.boilerplate?void 0:"alert"},[u?c.value:(d=n.default)==null?void 0:d.call(n)])}),{}}});function bM(t){const n=Math.abs(t);return Math.sign(t)*(n/((1/.501-2)*(1-n)+1))}function _M(t){let{selectedElement:e,containerSize:n,contentSize:i,isRtl:r,currentScrollOffset:s,isHorizontal:a}=t;const o=a?e.clientWidth:e.clientHeight,l=a?e.offsetLeft:e.offsetTop,c=r&&a?i-l-o:l,u=n+s,d=o+c,h=o*.4;return c<=s?s=Math.max(c-h,0):u<=d&&(s=Math.min(s-(u-d-h),i-n)),s}function nZ(t){let{selectedElement:e,containerSize:n,contentSize:i,isRtl:r,isHorizontal:s}=t;const a=s?e.clientWidth:e.clientHeight,o=s?e.offsetLeft:e.offsetTop,l=r&&s?i-o-a/2-n/2:o+a/2-n/2;return Math.min(i-n,Math.max(0,l))}const MI=Symbol.for("vuetify:v-slide-group"),EI=re({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:MI},nextIcon:{type:nt,default:"$next"},prevIcon:{type:nt,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Ge(),...__(),...ot(),...Go({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Jy=ve()({name:"VSlideGroup",props:EI(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=Gn(),{displayClasses:r,mobile:s}=Bo(t),a=Ea(t,t.symbol),o=Le(!1),l=Le(0),c=Le(0),u=Le(0),d=I(()=>t.direction==="horizontal"),{resizeRef:h,contentRect:f}=qr(),{resizeRef:p,contentRect:g}=qr(),m=I(()=>a.selected.value.length?a.items.value.findIndex(H=>H.id===a.selected.value[0]):-1),v=I(()=>a.selected.value.length?a.items.value.findIndex(H=>H.id===a.selected.value[a.selected.value.length-1]):-1);if(Gt){let H=-1;Re(()=>[a.selected.value,f.value,g.value,d.value],()=>{cancelAnimationFrame(H),H=requestAnimationFrame(()=>{if(f.value&&g.value){const q=d.value?"width":"height";c.value=f.value[q],u.value=g.value[q],o.value=c.value+1<u.value}if(m.value>=0&&p.value){const q=p.value.children[v.value];m.value===0||!o.value?l.value=0:t.centerActive?l.value=nZ({selectedElement:q,containerSize:c.value,contentSize:u.value,isRtl:i.value,isHorizontal:d.value}):o.value&&(l.value=_M({selectedElement:q,containerSize:c.value,contentSize:u.value,isRtl:i.value,currentScrollOffset:l.value,isHorizontal:d.value}))}})})}const x=Le(!1);let y=0,b=0;function A(H){const q=d.value?"clientX":"clientY";b=(i.value&&d.value?-1:1)*l.value,y=H.touches[0][q],x.value=!0}function M(H){if(!o.value)return;const q=d.value?"clientX":"clientY",le=i.value&&d.value?-1:1;l.value=le*(b+y-H.touches[0][q])}function E(H){const q=u.value-c.value;l.value<0||!o.value?l.value=0:l.value>=q&&(l.value=q),x.value=!1}function S(){h.value&&(h.value[d.value?"scrollLeft":"scrollTop"]=0)}const _=Le(!1);function w(H){if(_.value=!0,!(!o.value||!p.value)){for(const q of H.composedPath())for(const le of p.value.children)if(le===q){l.value=_M({selectedElement:le,containerSize:c.value,contentSize:u.value,isRtl:i.value,currentScrollOffset:l.value,isHorizontal:d.value});return}}}function P(H){_.value=!1}function R(H){var q;!_.value&&!(H.relatedTarget&&((q=p.value)!=null&&q.contains(H.relatedTarget)))&&k()}function N(H){p.value&&(d.value?H.key==="ArrowRight"?k(i.value?"prev":"next"):H.key==="ArrowLeft"&&k(i.value?"next":"prev"):H.key==="ArrowDown"?k("next"):H.key==="ArrowUp"&&k("prev"),H.key==="Home"?k("first"):H.key==="End"&&k("last"))}function k(H){var q,le,ue,be,ae;if(p.value)if(!H)(q=Uu(p.value)[0])==null||q.focus();else if(H==="next"){const Ae=(le=p.value.querySelector(":focus"))==null?void 0:le.nextElementSibling;Ae?Ae.focus():k("first")}else if(H==="prev"){const Ae=(ue=p.value.querySelector(":focus"))==null?void 0:ue.previousElementSibling;Ae?Ae.focus():k("last")}else H==="first"?(be=p.value.firstElementChild)==null||be.focus():H==="last"&&((ae=p.value.lastElementChild)==null||ae.focus())}function z(H){const q=l.value+(H==="prev"?-1:1)*c.value;l.value=Mn(q,0,u.value-c.value)}const F=I(()=>{let H=l.value>u.value-c.value?-(u.value-c.value)+bM(u.value-c.value-l.value):-l.value;l.value<=0&&(H=bM(-l.value));const q=i.value&&d.value?-1:1;return{transform:`translate${d.value?"X":"Y"}(${q*H}px)`,transition:x.value?"none":"",willChange:x.value?"transform":""}}),j=I(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),X=I(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return s.value||o.value||Math.abs(l.value)>0;default:return!s.value&&(o.value||Math.abs(l.value)>0)}}),Z=I(()=>Math.abs(l.value)>0),J=I(()=>u.value>Math.abs(l.value)+c.value);return Ee(()=>C(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":X.value,"v-slide-group--is-overflowing":o.value},r.value,t.class],style:t.style,tabindex:_.value||a.selected.value.length?-1:0,onFocus:R},{default:()=>{var H,q,le;return[X.value&&C("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Z.value}],onClick:()=>z("prev")},[((H=n.prev)==null?void 0:H.call(n,j.value))??C(Bf,null,{default:()=>[C(Bt,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),C("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:S},[C("div",{ref:p,class:"v-slide-group__content",style:F.value,onTouchstartPassive:A,onTouchmovePassive:M,onTouchendPassive:E,onFocusin:w,onFocusout:P,onKeydown:N},[(q=n.default)==null?void 0:q.call(n,j.value)])]),X.value&&C("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!J.value}],onClick:()=>z("next")},[((le=n.next)==null?void 0:le.call(n,j.value))??C(Bf,null,{default:()=>[C(Bt,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:z,scrollOffset:l,focus:k}}}),iZ=ve()({name:"VSlideGroupItem",props:Wo(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$o(t,MI);return()=>{var r;return(r=n.default)==null?void 0:r.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function rZ(t){const e=Le(t);let n=-1;function i(){clearInterval(n)}function r(){i(),Pt(()=>e.value=t)}function s(a){const o=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(o.transitionDuration)*1e3||200;if(i(),e.value<=0)return;const c=performance.now();n=window.setInterval(()=>{const u=performance.now()-c+l;e.value=Math.max(t-u,0),e.value<=0&&i()},l)}return zn(i),{clear:i,time:e,start:s,reset:r}}const sZ=re({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Ca({location:"bottom"}),...yc(),...tn(),...mr(),...Mt(),...kn(Cd({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),aZ=ve()({name:"VSnackbar",props:sZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),{locationStyles:r}=Aa(t),{positionClasses:s}=bc(t),{scopeId:a}=xc(),{themeClasses:o}=Ot(t),{colorClasses:l,colorStyles:c,variantClasses:u}=Ho(t),{roundedClasses:d}=on(t),h=rZ(Number(t.timeout)),f=he(),p=he(),g=Le(!1);Re(i,v),Re(()=>t.timeout,v),vn(()=>{i.value&&v()});let m=-1;function v(){h.reset(),window.clearTimeout(m);const A=Number(t.timeout);if(!i.value||A===-1)return;const M=Bu(p.value);h.start(M),m=window.setTimeout(()=>{i.value=!1},A)}function x(){h.reset(),window.clearTimeout(m)}function y(){g.value=!0,x()}function b(){g.value=!1,v()}return Ee(()=>{const A=Yr.filterProps(t),M=!!(n.default||n.text||t.text);return C(Yr,Pe({ref:f,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},s.value,t.class],style:t.style},A,{modelValue:i.value,"onUpdate:modelValue":E=>i.value=E,contentProps:Pe({class:["v-snackbar__wrapper",o.value,l.value,d.value,u.value],style:[r.value,c.value],onPointerenter:y,onPointerleave:b},A.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},a),{default:()=>{var E,S;return[zo(!1,"v-snackbar"),t.timer&&C("div",{key:"timer",class:"v-snackbar__timer"},[C(Qp,{ref:p,active:!g.value,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":h.time.value},null)]),M&&C("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((E=n.text)==null?void 0:E.call(n))??t.text,(S=n.default)==null?void 0:S.call(n)]),n.actions&&C(Ct,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[C("div",{class:"v-snackbar__actions"},[n.actions()])]})]},activator:n.activator})}),Ar({},f)}}),CI=re({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),AI=ve()({name:"VStepperActions",props:CI(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:r}=An();function s(){n("click:prev")}function a(){n("click:next")}return Ee(()=>{const o={onClick:s},l={onClick:a};return C("div",{class:"v-stepper-actions"},[C(Ct,{defaults:{VBtn:{disabled:["prev",!0].includes(t.disabled),text:r(t.prevText),variant:"text"}}},{default:()=>{var c;return[((c=i.prev)==null?void 0:c.call(i,{props:o}))??C(It,o,null)]}}),C(Ct,{defaults:{VBtn:{color:t.color,disabled:["next",!0].includes(t.disabled),text:r(t.nextText),variant:"tonal"}}},{default:()=>{var c;return[((c=i.next)==null?void 0:c.call(i,{props:l}))??C(It,l,null)]}})])}),{}}}),TI=qi("v-stepper-header"),oZ=re({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]},...Wo()},"VStepperItem"),PI=ve()({name:"VStepperItem",directives:{Ripple:Vs},props:oZ(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$o(t,II,!0),r=I(()=>(i==null?void 0:i.value.value)??t.value),s=I(()=>t.rules.every(d=>d()===!0)),a=I(()=>!t.disabled&&t.editable),o=I(()=>t.error||!s.value),l=I(()=>t.complete||t.rules.length>0&&s.value),c=I(()=>o.value?t.errorIcon:l.value?t.completeIcon:t.editable?t.editIcon:t.icon),u=I(()=>({canEdit:a.value,hasError:o.value,hasCompleted:l.value,title:t.title,subtitle:t.subtitle,step:r.value,value:t.value}));return Ee(()=>{var g,m,v;const d=(!i||i.isSelected.value||l.value||a.value)&&!o.value&&!t.disabled,h=!!(t.title||n.title),f=!!(t.subtitle||n.subtitle);function p(){i==null||i.toggle()}return St(C("button",{class:["v-stepper-item",{"v-stepper-item--complete":l.value,"v-stepper-item--disabled":t.disabled,"v-stepper-item--error":o.value},i==null?void 0:i.selectedClass.value],disabled:!t.editable,onClick:p},[C(Rs,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:d?t.color:void 0,size:24},{default:()=>{var x;return[((x=n.icon)==null?void 0:x.call(n,u.value))??(c.value?C(Bt,{icon:c.value},null):r.value)]}}),C("div",{class:"v-stepper-item__content"},[h&&C("div",{key:"title",class:"v-stepper-item__title"},[((g=n.title)==null?void 0:g.call(n,u.value))??t.title]),f&&C("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((m=n.subtitle)==null?void 0:m.call(n,u.value))??t.subtitle]),(v=n.default)==null?void 0:v.call(n,u.value)])]),[[qn("ripple"),t.ripple&&t.editable,null]])}),{}}}),lZ=Symbol.for("vuetify:v-stepper"),cZ=re({...kn(B_(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),RI=ve()({name:"VStepperWindow",props:cZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=_t(lZ,null),r=Xe(t,"modelValue"),s=I({get(){var a;return r.value!=null||!i?r.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){r.value=a}});return Ee(()=>{const a=ju.filterProps(t);return C(ju,Pe({_as:"VStepperWindow"},a,{modelValue:s.value,"onUpdate:modelValue":o=>s.value=o,class:"v-stepper-window",mandatory:!1,touch:!1}),n)}),{}}}),uZ=re({...U_()},"VStepperWindowItem"),LI=ve()({name:"VStepperWindowItem",props:uZ(),setup(t,e){let{slots:n}=e;return Ee(()=>{const i=Xu.filterProps(t);return C(Xu,Pe({_as:"VStepperWindowItem"},i,{class:"v-stepper-window-item"}),n)}),{}}}),II=Symbol.for("vuetify:v-stepper"),dZ=re({altLabels:Boolean,bgColor:String,editable:Boolean,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},mobile:Boolean,nonLinear:Boolean,flat:Boolean,...Go({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...um(),...zP(CI(),["prevText","nextText"])},"VStepper"),hZ=ve()({name:"VStepper",props:dZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{items:i,next:r,prev:s,selected:a}=Ea(t,II),{color:o,editable:l,prevText:c,nextText:u}=Io(t),d=I(()=>t.items.map((p,g)=>{const m=Bn(p,t.itemTitle,p),v=Bn(p,t.itemValue,g+1);return{title:m,value:v,raw:p}})),h=I(()=>i.value.findIndex(p=>a.value.includes(p.id))),f=I(()=>t.disabled?t.disabled:h.value===0?"prev":h.value===i.value.length-1?"next":!1);return en({VStepperItem:{editable:l,prevText:c,nextText:u},VStepperActions:{color:o,disabled:f,prevText:c,nextText:u}}),Ee(()=>{const p=To.filterProps(t),g=!!(n.header||t.items.length),m=t.items.length>0,v=!t.hideActions&&!!(m||n.actions);return C(To,Pe(p,{color:t.bgColor,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":t.mobile},t.class],style:t.style}),{default:()=>{var x,y;return[g&&C(TI,{key:"stepper-header"},{default:()=>[d.value.map((b,A)=>C(je,null,[!!A&&C(I_,null,null),C(PI,b,{default:n[`header-item.${b.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})]))]}),m&&C(RI,{key:"stepper-window"},{default:()=>[d.value.map(b=>C(LI,{value:b.value},{default:()=>{var A,M;return((A=n[`item.${b.value}`])==null?void 0:A.call(n,b))??((M=n.item)==null?void 0:M.call(n,b))}}))]}),(x=n.default)==null?void 0:x.call(n,{prev:s,next:r}),v&&(((y=n.actions)==null?void 0:y.call(n,{next:r,prev:s}))??C(AI,{key:"stepper-actions","onClick:prev":s,"onClick:next":r},n))]}})}),{prev:s,next:r}}}),fZ=re({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Fs(),...nm()},"VSwitch"),pZ=ve()({name:"VSwitch",inheritAttrs:!1,props:fZ(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const r=Xe(t,"indeterminate"),s=Xe(t,"modelValue"),{loaderClasses:a}=xd(t),{isFocused:o,focus:l,blur:c}=Ns(t),u=he(),d=I(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),h=ai(),f=I(()=>t.id||`switch-${h}`);function p(){r.value&&(r.value=!1)}function g(m){var v,x;m.stopPropagation(),m.preventDefault(),(x=(v=u.value)==null?void 0:v.input)==null||x.click()}return Ee(()=>{const[m,v]=Ma(n),x=Xn.filterProps(t),y=Ao.filterProps(t);return C(Xn,Pe({class:["v-switch",{"v-switch--inset":t.inset},{"v-switch--indeterminate":r.value},a.value,t.class]},m,x,{modelValue:s.value,"onUpdate:modelValue":b=>s.value=b,id:f.value,focused:o.value,style:t.style}),{...i,default:b=>{let{id:A,messagesId:M,isDisabled:E,isReadonly:S,isValid:_}=b;return C(Ao,Pe({ref:u},y,{modelValue:s.value,"onUpdate:modelValue":[w=>s.value=w,p],id:A.value,"aria-describedby":M.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:E.value,readonly:S.value,onFocus:l,onBlur:c},v),{...i,default:w=>{let{backgroundColorClasses:P,backgroundColorStyles:R}=w;return C("div",{class:["v-switch__track",...P.value],style:R.value,onClick:g},null)},input:w=>{let{inputNode:P,icon:R,backgroundColorClasses:N,backgroundColorStyles:k}=w;return C(je,null,[P,C("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":R||t.loading},t.inset?void 0:N.value],style:t.inset?void 0:k.value},[C(M_,null,{default:()=>[t.loading?C(tm,{name:"v-switch",active:!0,color:_.value===!1?void 0:d.value},{default:z=>i.loader?i.loader(z):C(tc,{active:z.isActive,color:z.color,indeterminate:!0,size:"16",width:"2"},null)}):R&&C(Bt,{key:R,icon:R,size:"x-small"},null)]})])])}})}})}),{}}}),mZ=re({color:String,height:[Number,String],window:Boolean,...Ge(),...Tn(),...mc(),...tn(),...ot(),...Mt()},"VSystemBar"),vZ=ve()({name:"VSystemBar",props:mZ(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{backgroundColorClasses:r,backgroundColorStyles:s}=$t(me(t,"color")),{elevationClasses:a}=Wn(t),{roundedClasses:o}=on(t),{ssrBootStyles:l}=Uo(),c=I(()=>t.height??(t.window?32:24)),{layoutItemStyles:u}=vc({id:t.name,order:I(()=>parseInt(t.order,10)),position:Le("top"),layoutSize:c,elementSize:c,active:I(()=>!0),absolute:me(t,"absolute")});return Ee(()=>C(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},i.value,r.value,a.value,o.value,t.class],style:[s.value,u.value,l.value,t.style]},n)),{}}}),kI=Symbol.for("vuetify:v-tabs"),gZ=re({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...kn(P_({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),DI=ve()({name:"VTab",props:gZ(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:r,textColorStyles:s}=ti(t,"sliderColor"),a=I(()=>t.direction==="horizontal"),o=Le(!1),l=he(),c=he();function u(d){var f,p;let{value:h}=d;if(o.value=h,h){const g=(p=(f=l.value)==null?void 0:f.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),m=c.value;if(!g||!m)return;const v=getComputedStyle(g).color,x=g.getBoundingClientRect(),y=m.getBoundingClientRect(),b=a.value?"x":"y",A=a.value?"X":"Y",M=a.value?"right":"bottom",E=a.value?"width":"height",S=x[b],_=y[b],w=S>_?x[M]-y[M]:x[b]-y[b],P=Math.sign(w)>0?a.value?"right":"bottom":Math.sign(w)<0?a.value?"left":"top":"center",N=(Math.abs(w)+(Math.sign(w)<0?x[E]:y[E]))/Math.max(x[E],y[E])||0,k=x[E]/y[E]||0,z=1.5;oo(m,{backgroundColor:[v,"currentcolor"],transform:[`translate${A}(${w}px) scale${A}(${k})`,`translate${A}(${w/z}px) scale${A}(${(N-1)/z+1})`,"none"],transformOrigin:Array(3).fill(P)},{duration:225,easing:zu})}}return Ee(()=>{const d=It.filterProps(t);return C(It,Pe({symbol:kI,ref:l,class:["v-tab",t.class],style:t.style,tabindex:o.value?0:-1,role:"tab","aria-selected":String(o.value),active:!1},d,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":u}),{default:()=>{var h;return[((h=n.default)==null?void 0:h.call(n))??t.text,!t.hideSlider&&C("div",{ref:c,class:["v-tab__slider",r.value],style:s.value},null)]}})}),{}}});function yZ(t){return t?t.map(e=>Df(e)?e:{text:e,value:e}):[]}const bZ=re({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...EI({mandatory:"force"}),...Dn(),...ot()},"VTabs"),_Z=ve()({name:"VTabs",props:bZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),r=I(()=>yZ(t.items)),{densityClasses:s}=oi(t),{backgroundColorClasses:a,backgroundColorStyles:o}=$t(me(t,"bgColor"));return en({VTab:{color:me(t,"color"),direction:me(t,"direction"),stacked:me(t,"stacked"),fixed:me(t,"fixedTabs"),sliderColor:me(t,"sliderColor"),hideSlider:me(t,"hideSlider")}}),Ee(()=>{const l=Jy.filterProps(t);return C(Jy,Pe(l,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},s.value,a.value,t.class],style:[{"--v-tabs-height":Fe(t.height)},o.value,t.style],role:"tablist",symbol:kI}),{default:()=>[n.default?n.default():r.value.map(c=>C(DI,Pe(c,{key:c.text}),null))]})}),{}}}),xZ=re({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...Fs(),...Ad()},"VTextarea"),wZ=ve()({name:"VTextarea",directives:{Intersect:_d},inheritAttrs:!1,props:xZ(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const s=Xe(t,"modelValue"),{isFocused:a,focus:o,blur:l}=Ns(t),c=I(()=>typeof t.counterValue=="function"?t.counterValue(s.value):(s.value||"").toString().length),u=I(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function d(P,R){var N,k;!t.autofocus||!P||(k=(N=R[0].target)==null?void 0:N.focus)==null||k.call(N)}const h=he(),f=he(),p=Le(""),g=he(),m=I(()=>t.persistentPlaceholder||a.value||t.active);function v(){var P;g.value!==document.activeElement&&((P=g.value)==null||P.focus()),a.value||o()}function x(P){v(),i("click:control",P)}function y(P){i("mousedown:control",P)}function b(P){P.stopPropagation(),v(),Pt(()=>{s.value="",f_(t["onClick:clear"],P)})}function A(P){var N;const R=P.target;if(s.value=R.value,(N=t.modelModifiers)!=null&&N.trim){const k=[R.selectionStart,R.selectionEnd];Pt(()=>{R.selectionStart=k[0],R.selectionEnd=k[1]})}}const M=he(),E=he(+t.rows),S=I(()=>["plain","underlined"].includes(t.variant));Jt(()=>{t.autoGrow||(E.value=+t.rows)});function _(){t.autoGrow&&Pt(()=>{if(!M.value||!f.value)return;const P=getComputedStyle(M.value),R=getComputedStyle(f.value.$el),N=parseFloat(P.getPropertyValue("--v-field-padding-top"))+parseFloat(P.getPropertyValue("--v-input-padding-top"))+parseFloat(P.getPropertyValue("--v-field-padding-bottom")),k=M.value.scrollHeight,z=parseFloat(P.lineHeight),F=Math.max(parseFloat(t.rows)*z+N,parseFloat(R.getPropertyValue("--v-input-control-height"))),j=parseFloat(t.maxRows)*z+N||1/0,X=Mn(k??0,F,j);E.value=Math.floor((X-N)/z),p.value=Fe(X)})}vn(_),Re(s,_),Re(()=>t.rows,_),Re(()=>t.maxRows,_),Re(()=>t.density,_);let w;return Re(M,P=>{P?(w=new ResizeObserver(_),w.observe(M.value)):w==null||w.disconnect()}),ni(()=>{w==null||w.disconnect()}),Ee(()=>{const P=!!(r.counter||t.counter||t.counterValue),R=!!(P||r.details),[N,k]=Ma(n),{modelValue:z,...F}=Xn.filterProps(t),j=O_(t);return C(Xn,Pe({ref:h,modelValue:s.value,"onUpdate:modelValue":X=>s.value=X,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":S.value},t.class],style:t.style},N,F,{centerAffix:E.value===1&&!S.value,focused:a.value}),{...r,default:X=>{let{id:Z,isDisabled:J,isDirty:H,isReadonly:q,isValid:le}=X;return C(wc,Pe({ref:f,style:{"--v-textarea-control-height":p.value},onClick:x,onMousedown:y,"onClick:clear":b,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},j,{id:Z.value,active:m.value||H.value,centerAffix:E.value===1&&!S.value,dirty:H.value||t.dirty,disabled:J.value,focused:a.value,error:le.value===!1}),{...r,default:ue=>{let{props:{class:be,...ae}}=ue;return C(je,null,[t.prefix&&C("span",{class:"v-text-field__prefix"},[t.prefix]),St(C("textarea",Pe({ref:g,class:be,value:s.value,onInput:A,autofocus:t.autofocus,readonly:q.value,disabled:J.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:v,onBlur:l},ae,k),null),[[qn("intersect"),{handler:d},null,{once:!0}]]),t.autoGrow&&St(C("textarea",{class:[be,"v-textarea__sizer"],id:`${ae.id}-sizer`,"onUpdate:modelValue":Ae=>s.value=Ae,ref:M,readonly:!0,"aria-hidden":"true"},null),[[gD,s.value]]),t.suffix&&C("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:R?X=>{var Z;return C(je,null,[(Z=r.details)==null?void 0:Z.call(r,X),P&&C(je,null,[C("span",null,null),C(om,{active:t.persistentCounter||a.value,value:c.value,max:u.value},r.counter)])])}:void 0})}),Ar({},h,f,g)}}),SZ=re({withBackground:Boolean,...Ge(),...Mt(),...ot()},"VThemeProvider"),MZ=ve()({name:"VThemeProvider",props:SZ(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t);return()=>{var r;return t.withBackground?C(t.tag,{class:["v-theme-provider",i.value,t.class],style:t.style},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}}):(r=n.default)==null?void 0:r.call(n)}}}),EZ=re({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Ge(),...Dn(),...ot(),...Mt()},"VTimeline"),CZ=ve()({name:"VTimeline",props:EZ(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{densityClasses:r}=oi(t),{rtlClasses:s}=Gn();en({VTimelineDivider:{lineColor:me(t,"lineColor")},VTimelineItem:{density:me(t,"density"),lineInset:me(t,"lineInset")}});const a=I(()=>{const l=t.side?t.side:t.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),o=I(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return Ee(()=>C(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},i.value,r.value,a.value,s.value,t.class],style:[{"--v-timeline-line-thickness":Fe(t.lineThickness)},t.style]},n)),{}}}),AZ=re({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:nt,iconColor:String,lineColor:String,...Ge(),...tn(),...Os(),...Tn()},"VTimelineDivider"),TZ=ve()({name:"VTimelineDivider",props:AZ(),setup(t,e){let{slots:n}=e;const{sizeClasses:i,sizeStyles:r}=gc(t,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:a}=$t(me(t,"dotColor")),{roundedClasses:o}=on(t,"v-timeline-divider__dot"),{elevationClasses:l}=Wn(t),{backgroundColorClasses:c,backgroundColorStyles:u}=$t(me(t,"lineColor"));return Ee(()=>C("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[C("div",{class:["v-timeline-divider__before",c.value],style:u.value},null),!t.hideDot&&C("div",{key:"dot",class:["v-timeline-divider__dot",l.value,o.value,i.value],style:r.value},[C("div",{class:["v-timeline-divider__inner-dot",a.value,o.value],style:s.value},[n.default?C(Ct,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},n.default):C(Bt,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),C("div",{class:["v-timeline-divider__after",c.value],style:u.value},null)])),{}}}),PZ=re({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:nt,iconColor:String,lineInset:[Number,String],...Ge(),...mi(),...Tn(),...tn(),...Os(),...ot()},"VTimelineItem"),RZ=ve()({name:"VTimelineItem",props:PZ(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=vi(t),r=Le(0),s=he();return Re(s,a=>{var o;a&&(r.value=((o=a.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:o.getBoundingClientRect().width)??0)},{flush:"post"}),Ee(()=>{var a,o;return C("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot},t.class],style:[{"--v-timeline-dot-size":Fe(r.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Fe(t.lineInset)})`:Fe(0)},t.style]},[C("div",{class:"v-timeline-item__body",style:i.value},[(a=n.default)==null?void 0:a.call(n)]),C(TZ,{ref:s,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:n.icon}),t.density!=="compact"&&C("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((o=n.opposite)==null?void 0:o.call(n))])])}),{}}}),LZ=re({...Ge(),...mr({variant:"text"})},"VToolbarItems"),IZ=ve()({name:"VToolbarItems",props:LZ(),setup(t,e){let{slots:n}=e;return en({VBtn:{color:me(t,"color"),height:"inherit",variant:me(t,"variant")}}),Ee(()=>{var i;return C("div",{class:["v-toolbar-items",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),kZ=re({id:String,text:String,...kn(Cd({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),DZ=ve()({name:"VTooltip",props:kZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Xe(t,"modelValue"),{scopeId:r}=xc(),s=ai(),a=I(()=>t.id||`v-tooltip-${s}`),o=he(),l=I(()=>t.location.split(" ").length>1?t.location:t.location+" center"),c=I(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),u=I(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),d=I(()=>Pe({"aria-describedby":a.value},t.activatorProps));return Ee(()=>{const h=Yr.filterProps(t);return C(Yr,Pe({ref:o,class:["v-tooltip",t.class],style:t.style,id:a.value},h,{modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,transition:u.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var m;for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return((m=n.default)==null?void 0:m.call(n,...p))??t.text}})}),Ar({},o)}}),OZ=ve()({name:"VValidation",props:WR(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=$R(t,"validation");return()=>{var r;return(r=n.default)==null?void 0:r.call(n,i)}}}),VZ=Object.freeze(Object.defineProperty({__proto__:null,VAlert:xj,VAlertTitle:NR,VApp:L7,VAppBar:Z7,VAppBarNavIcon:gj,VAppBarTitle:yj,VAutocomplete:FX,VAvatar:Rs,VBadge:UX,VBanner:GX,VBannerActions:bL,VBannerText:_L,VBottomNavigation:$X,VBottomSheet:XX,VBreadcrumbs:ZX,VBreadcrumbsDivider:wL,VBreadcrumbsItem:SL,VBtn:It,VBtnGroup:Iy,VBtnToggle:ij,VCard:eq,VCardActions:ML,VCardItem:AL,VCardSubtitle:EL,VCardText:TL,VCardTitle:CL,VCarousel:cq,VCarouselItem:dq,VCheckbox:Pj,VCheckboxBtn:Ps,VChip:Ed,VChipGroup:Ij,VClassIcon:w_,VCode:hq,VCol:FY,VColorPicker:eY,VCombobox:iY,VComponentIcon:Py,VContainer:DY,VCounter:om,VDataIterator:pY,VDataTable:TY,VDataTableFooter:qu,VDataTableRow:J_,VDataTableRows:Po,VDataTableServer:IY,VDataTableVirtual:RY,VDatePicker:YY,VDatePickerControls:Xy,VDatePickerHeader:qy,VDatePickerMonth:Yy,VDatePickerMonths:Ky,VDatePickerYears:Zy,VDefaultsProvider:Ct,VDialog:Uy,VDialogBottomTransition:O7,VDialogTopTransition:V7,VDialogTransition:Kp,VDivider:I_,VExpandTransition:Zp,VExpandXTransition:C_,VExpansionPanel:tK,VExpansionPanelText:_I,VExpansionPanelTitle:wI,VExpansionPanels:JY,VFabTransition:D7,VFadeTransition:Bf,VField:wc,VFieldLabel:Xc,VFileInput:iK,VFooter:sK,VForm:oK,VHover:cK,VIcon:Bt,VImg:Co,VInfiniteScroll:dK,VInput:Xn,VItem:pK,VItemGroup:fK,VKbd:mK,VLabel:_c,VLayout:gK,VLayoutItem:bK,VLazy:xK,VLigatureIcon:f7,VList:rm,VListGroup:Vy,VListImg:Jj,VListItem:Ls,VListItemAction:eX,VListItemMedia:nX,VListItemSubtitle:QR,VListItemTitle:eL,VListSubheader:tL,VLocaleProvider:SK,VMain:EK,VMenu:am,VMessages:HR,VNavigationDrawer:DK,VNoSsr:OK,VOtpInput:NK,VOverlay:Yr,VPagination:UK,VParallax:GK,VProgressCircular:tc,VProgressLinear:Qp,VRadio:$K,VRadioGroup:XK,VRangeSlider:YK,VRating:ZK,VResponsive:Ry,VRow:$Y,VScaleTransition:M_,VScrollXReverseTransition:F7,VScrollXTransition:N7,VScrollYReverseTransition:U7,VScrollYTransition:B7,VSelect:yL,VSelectionControl:Ao,VSelectionControlGroup:BR,VSheet:To,VSkeletonLoader:tZ,VSlideGroup:Jy,VSlideGroupItem:iZ,VSlideXReverseTransition:H7,VSlideXTransition:z7,VSlideYReverseTransition:G7,VSlideYTransition:E_,VSlider:$y,VSnackbar:aZ,VSpacer:pI,VStepper:hZ,VStepperActions:AI,VStepperHeader:TI,VStepperItem:PI,VStepperWindow:RI,VStepperWindowItem:LI,VSvgIcon:x_,VSwitch:pZ,VSystemBar:vZ,VTab:DI,VTable:Ro,VTabs:_Z,VTextField:ya,VTextarea:wZ,VThemeProvider:MZ,VTimeline:CZ,VTimelineItem:RZ,VToolbar:Ly,VToolbarItems:IZ,VToolbarTitle:S_,VTooltip:DZ,VValidation:OZ,VVirtualScroll:cm,VWindow:ju,VWindowItem:Xu},Symbol.toStringTag,{value:"Module"}));function NZ(t,e){const n=e.modifiers||{},i=e.value,{once:r,immediate:s,...a}=n,o=!Object.keys(a).length,{handler:l,options:c}=typeof i=="object"?i:{handler:i,options:{attributes:(a==null?void 0:a.attr)??o,characterData:(a==null?void 0:a.char)??o,childList:(a==null?void 0:a.child)??o,subtree:(a==null?void 0:a.sub)??o}},u=new MutationObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;l==null||l(d,h),r&&OI(t,e)});s&&(l==null||l([],u)),t._mutate=Object(t._mutate),t._mutate[e.instance.$.uid]={observer:u},u.observe(t,c)}function OI(t,e){var n;(n=t._mutate)!=null&&n[e.instance.$.uid]&&(t._mutate[e.instance.$.uid].observer.disconnect(),delete t._mutate[e.instance.$.uid])}const FZ={mounted:NZ,unmounted:OI};function BZ(t,e){var r,s;const n=e.value,i={passive:!((r=e.modifiers)!=null&&r.active)};window.addEventListener("resize",n,i),t._onResize=Object(t._onResize),t._onResize[e.instance.$.uid]={handler:n,options:i},(s=e.modifiers)!=null&&s.quiet||n()}function UZ(t,e){var r;if(!((r=t._onResize)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:i}=t._onResize[e.instance.$.uid];window.removeEventListener("resize",n,i),delete t._onResize[e.instance.$.uid]}const zZ={mounted:BZ,unmounted:UZ};function VI(t,e){const{self:n=!1}=e.modifiers??{},i=e.value,r=typeof i=="object"&&i.options||{passive:!0},s=typeof i=="function"||"handleEvent"in i?i:i.handler,a=n?t:e.arg?document.querySelector(e.arg):window;a&&(a.addEventListener("scroll",s,r),t._onScroll=Object(t._onScroll),t._onScroll[e.instance.$.uid]={handler:s,options:r,target:n?void 0:a})}function NI(t,e){var s;if(!((s=t._onScroll)!=null&&s[e.instance.$.uid]))return;const{handler:n,options:i,target:r=t}=t._onScroll[e.instance.$.uid];r.removeEventListener("scroll",n,i),delete t._onScroll[e.instance.$.uid]}function HZ(t,e){e.value!==e.oldValue&&(NI(t,e),VI(t,e))}const GZ={mounted:VI,unmounted:NI,updated:HZ},WZ=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:pL,Intersect:_d,Mutate:FZ,Resize:zZ,Ripple:Vs,Scroll:GZ,Touch:F_},Symbol.toStringTag,{value:"Module"})),$Z=yR({components:VZ,directives:WZ});wD(dW).use($Z).use($$).mount("#app");
